!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("openlayers"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","openlayers","react-dom"],e):"object"==typeof exports?exports.StreetSmartApi=e(require("react"),require("openlayers"),require("react-dom")):t.StreetSmartApi=e(t.React,t.ol,t.ReactDOM)}("undefined"!=typeof self?self:this,function(t,e,n){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=649)}([function(e,n){e.exports=t},function(t,e,n){t.exports={default:n(925),__esModule:!0}},function(t,e,n){var r=n(25),i=n(94),o=n(66),a=n(67),s=n(82),l=function(t,e,n){var u,c,f,h,d=t&l.F,p=t&l.G,m=t&l.S,g=t&l.P,v=t&l.B,y=p?r:m?r[e]||(r[e]={}):(r[e]||{}).prototype,b=p?i:i[e]||(i[e]={}),_=b.prototype||(b.prototype={});p&&(n=e);for(u in n)c=!d&&y&&void 0!==y[u],f=(c?y:n)[u],h=v&&c?s(f,r):g&&"function"==typeof f?s(Function.call,f):f,y&&a(y,u,f,t&l.U),b[u]!=f&&o(b,u,h),g&&_[u]!=f&&(_[u]=f)};r.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,n){t.exports=n(1125)()},function(t,e,n){t.exports={default:n(966),__esModule:!0}},function(t,e,n){t.exports={default:n(983),__esModule:!0}},function(t,e,n){t.exports={default:n(980),__esModule:!0}},function(t,e,n){t.exports={default:n(978),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(353),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,i.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(6),o=r(i),a=n(5),s=r(a),l=n(353),u=r(l);e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,u.default)(e)));t.prototype=(0,s.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o.default?(0,o.default)(t,e):t.__proto__=e)}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(4),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){var r,i;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var i=typeof r;if("string"===i||"number"===i)t.push(r);else if(Array.isArray(r))t.push(n.apply(null,r));else if("object"===i)for(var a in r)o.call(r,a)&&r[a]&&t.push(a)}}return t.join(" ")}var o={}.hasOwnProperty;void 0!==t&&t.exports?t.exports=n:(r=[],void 0!==(i=function(){return n}.apply(e,r))&&(t.exports=i))}()},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return"function"==typeof n[n.length-1]?t.apply(void 0,n):function(e){return t.apply(void 0,n.concat([e]))}}}function o(t,e){return null==t.bsClass&&(0,v.default)(!1),t.bsClass+(e?"-"+e:"")}function a(t){var e,n=(e={},e[o(t)]=!0,e);if(t.bsSize){n[o(t,_.SIZE_MAP[t.bsSize]||t.bsSize)]=!0}return t.bsStyle&&(n[o(t,t.bsStyle)]=!0),n}function s(t){return{bsClass:t.bsClass,bsSize:t.bsSize,bsStyle:t.bsStyle,bsRole:t.bsRole}}function l(t){return"bsClass"===t||"bsSize"===t||"bsStyle"===t||"bsRole"===t}function u(t){var e={};return(0,d.default)(t).forEach(function(t){var n=t[0],r=t[1];l(n)||(e[n]=r)}),[s(t),e]}function c(t,e){var n={};e.forEach(function(t){n[t]=!0});var r={};return(0,d.default)(t).forEach(function(t){var e=t[0],i=t[1];l(e)||n[e]||(r[e]=i)}),[s(t),r]}function f(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];w(n,t)}e.__esModule=!0,e._curry=e.bsSizes=e.bsStyles=e.bsClass=void 0;var h=n(55),d=r(h),p=n(11),m=r(p);e.prefix=o,e.getClassSet=a,e.splitBsProps=u,e.splitBsPropsAndOmit=c,e.addStyle=f;var g=n(90),v=r(g),y=n(3),b=r(y),_=n(56),w=(e.bsClass=i(function(t,e){var n=e.propTypes||(e.propTypes={}),r=e.defaultProps||(e.defaultProps={});return n.bsClass=b.default.string,r.bsClass=t,e}),e.bsStyles=i(function(t,e,n){"string"!=typeof e&&(n=e,e=void 0);var r=n.STYLES||[],i=n.propTypes||{};t.forEach(function(t){-1===r.indexOf(t)&&r.push(t)});var o=b.default.oneOf(r);if(n.STYLES=r,o._values=r,n.propTypes=(0,m.default)({},i,{bsStyle:o}),void 0!==e){(n.defaultProps||(n.defaultProps={})).bsStyle=e}return n}));e.bsSizes=i(function(t,e,n){"string"!=typeof e&&(n=e,e=void 0);var r=n.SIZES||[],i=n.propTypes||{};t.forEach(function(t){-1===r.indexOf(t)&&r.push(t)});var o=[];r.forEach(function(t){var e=_.SIZE_MAP[t];e&&e!==t&&o.push(e),o.push(t)});var a=b.default.oneOf(o);return a._values=o,n.SIZES=r,n.propTypes=(0,m.default)({},i,{bsSize:a}),void 0!==e&&(n.defaultProps||(n.defaultProps={}),n.defaultProps.bsSize=e),n}),e._curry=i},function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(Array.isArray(t)?t:[t]).forEach(function(t){t&&t.locale&&(I.__addLocaleData(t),R.__addLocaleData(t))})}function o(t){for(var e=(t||"").split("-");e.length>0;){if(a(e.join("-")))return!0;e.pop()}return!1}function a(t){var e=t&&t.toLowerCase();return!(!I.__localeData__[e]||!R.__localeData__[e])}function s(t){return(""+t).replace(mt,function(t){return pt[t]})}function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.reduce(function(e,r){return t.hasOwnProperty(r)?e[r]=t[r]:n.hasOwnProperty(r)&&(e[r]=n[r]),e},{})}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.intl;k(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}function c(t,e){if(t===e)return!0;if("object"!==(void 0===t?"undefined":j(t))||null===t||"object"!==(void 0===e?"undefined":j(e))||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty.bind(e),o=0;o<n.length;o++)if(!i(n[o])||t[n[o]]!==e[n[o]])return!1;return!0}function f(t,e,n){var r=t.props,i=t.state,o=t.context,a=void 0===o?{}:o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=a.intl,f=void 0===u?{}:u,h=s.intl,d=void 0===h?{}:h;return!c(e,r)||!c(n,i)||!(d===f||c(l(d,dt),l(f,dt)))}function h(t){return t.displayName||t.name||"Component"}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.intlPropName,r=void 0===n?"intl":n,i=e.withRef,o=void 0!==i&&i,a=function(e){function n(t,e){U(this,n);var r=q(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e));return u(e),r}return G(n,e),z(n,[{key:"getWrappedInstance",value:function(){return k(o,"[React Intl] To access the wrapped instance, the `{withRef: true}` option must be set when calling: `injectIntl()`"),this.refs.wrappedInstance}},{key:"render",value:function(){return N.createElement(t,V({},this.props,B({},r,this.context.intl),{ref:o?"wrappedInstance":null}))}}]),n}(L.Component);return a.displayName="InjectIntl("+h(t)+")",a.contextTypes={intl:lt},a.WrappedComponent=t,a}function p(t){return t}function m(t){return I.prototype._resolveLocale(t)}function g(t){return I.prototype._findPluralRuleFunction(t)}function v(t){var e=R.thresholds;e.second=t.second,e.minute=t.minute,e.hour=t.hour,e.day=t.day,e.month=t.month}function y(t,e,n){var r=t&&t[e]&&t[e][n];if(r)return r}function b(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.locale,o=t.formats,a=r.format,s=new Date(n),u=a&&y(o,"date",a),c=l(r,vt,u);try{return e.getDateTimeFormat(i,c).format(s)}catch(t){}return String(s)}function _(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.locale,o=t.formats,a=r.format,s=new Date(n),u=a&&y(o,"time",a),c=l(r,vt,u);c.hour||c.minute||c.second||(c=V({},c,{hour:"numeric",minute:"numeric"}));try{return e.getDateTimeFormat(i,c).format(s)}catch(t){}return String(s)}function w(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.locale,o=t.formats,a=r.format,s=new Date(n),u=new Date(r.now),c=a&&y(o,"relative",a),f=l(r,bt,c),h=V({},R.thresholds);v(wt);try{return e.getRelativeFormat(i,f).format(s,{now:isFinite(u)?u:e.now()})}catch(t){}finally{v(h)}return String(s)}function x(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.locale,o=t.formats,a=r.format,s=a&&y(o,"number",a),u=l(r,yt,s);try{return e.getNumberFormat(i,u).format(n)}catch(t){}return String(n)}function E(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.locale,o=l(r,_t);try{return e.getPluralFormat(i,o).format(n)}catch(t){}return"other"}function M(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.locale,o=t.formats,a=t.messages,s=t.defaultLocale,l=t.defaultFormats,u=n.id,c=n.defaultMessage;k(u,"[React Intl] An `id` must be provided to format a message.");var f=a&&a[u];if(!(Object.keys(r).length>0))return f||c||u;var h=void 0;if(f)try{h=e.getMessageFormat(f,i,o).format(r)}catch(t){}if(!h&&c)try{h=e.getMessageFormat(c,s,l).format(r)}catch(t){}return h||f||c||u}function S(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return M(t,e,n,Object.keys(r).reduce(function(t,e){var n=r[e];return t[e]="string"==typeof n?s(n):n,t},{}))}function T(t){var e=Math.abs(t);return e<It?"second":e<Rt?"minute":e<Pt?"hour":"day"}function C(t){switch(t){case"second":return At;case"minute":return It;case"hour":return Rt;case"day":return Pt;default:return Lt}}function O(t,e){if(t===e)return!0;var n=new Date(t).getTime(),r=new Date(e).getTime();return isFinite(n)&&isFinite(r)&&n===r}Object.defineProperty(e,"__esModule",{value:!0});var A=r(n(1109)),I=r(n(505)),R=r(n(1118)),P=r(n(3)),L=n(0),N=r(L),k=r(n(90)),D=r(n(1129)),F={locale:"en",pluralRuleFunction:function(t,e){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t,o=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return e?1==o&&11!=a?"one":2==o&&12!=a?"two":3==o&&13!=a?"few":"other":1==t&&r?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}}}},j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},z=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),B=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},V=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},H=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},q=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},W=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},Y=P.bool,X=P.number,Z=P.string,K=P.func,Q=P.object,J=P.oneOf,$=P.shape,tt=P.any,et=P.oneOfType,nt=J(["best fit","lookup"]),rt=J(["narrow","short","long"]),it=J(["numeric","2-digit"]),ot=K.isRequired,at={locale:Z,formats:Q,messages:Q,textComponent:tt,defaultLocale:Z,defaultFormats:Q},st={formatDate:ot,formatTime:ot,formatRelative:ot,formatNumber:ot,formatPlural:ot,formatMessage:ot,formatHTMLMessage:ot},lt=$(V({},at,st,{formatters:Q,now:ot})),ut=(Z.isRequired,et([Z,Q]),{localeMatcher:nt,formatMatcher:J(["basic","best fit"]),timeZone:Z,hour12:Y,weekday:rt,era:rt,year:it,month:J(["numeric","2-digit","narrow","short","long"]),day:it,hour:it,minute:it,second:it,timeZoneName:J(["short","long"])}),ct={localeMatcher:nt,style:J(["decimal","currency","percent"]),currency:Z,currencyDisplay:J(["symbol","code","name"]),useGrouping:Y,minimumIntegerDigits:X,minimumFractionDigits:X,maximumFractionDigits:X,minimumSignificantDigits:X,maximumSignificantDigits:X},ft={style:J(["best fit","numeric"]),units:J(["second","minute","hour","day","month","year"])},ht={style:J(["cardinal","ordinal"])},dt=Object.keys(at),pt={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},mt=/[&><"']/g,gt=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};U(this,t);var r="ordinal"===n.style,i=g(m(e));this.format=function(t){return i(t,r)}},vt=Object.keys(ut),yt=Object.keys(ct),bt=Object.keys(ft),_t=Object.keys(ht),wt={second:60,minute:60,hour:24,day:30,month:12},xt=Object.freeze({formatDate:b,formatTime:_,formatRelative:w,formatNumber:x,formatPlural:E,formatMessage:M,formatHTMLMessage:S}),Et=Object.keys(at),Mt=Object.keys(st),St={formats:{},messages:{},textComponent:"span",defaultLocale:"en",defaultFormats:{}},Tt=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};U(this,e);var r=q(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));k("undefined"!=typeof Intl,"[React Intl] The `Intl` APIs must be available in the runtime, and do not appear to be built-in. An `Intl` polyfill should be loaded.\nSee: http://formatjs.io/guides/runtime-environments/");var i=n.intl,o=void 0;o=isFinite(t.initialNow)?Number(t.initialNow):i?i.now():Date.now();var a=i||{},s=a.formatters,l=void 0===s?{getDateTimeFormat:D(Intl.DateTimeFormat),getNumberFormat:D(Intl.NumberFormat),getMessageFormat:D(I),getRelativeFormat:D(R),getPluralFormat:D(gt)}:s;return r.state=V({},l,{now:function(){return r._didDisplay?Date.now():o}}),r}return G(e,t),z(e,[{key:"getConfig",value:function(){var t=this.context.intl,e=l(this.props,Et,t);for(var n in St)void 0===e[n]&&(e[n]=St[n]);if(!o(e.locale)){var r=e,i=(r.locale,r.defaultLocale),a=r.defaultFormats;e=V({},e,{locale:i,formats:a,messages:St.messages})}return e}},{key:"getBoundFormatFns",value:function(t,e){return Mt.reduce(function(n,r){return n[r]=xt[r].bind(null,t,e),n},{})}},{key:"getChildContext",value:function(){var t=this.getConfig(),e=this.getBoundFormatFns(t,this.state),n=this.state,r=n.now,i=H(n,["now"]);return{intl:V({},t,e,{formatters:i,now:r})}}},{key:"shouldComponentUpdate",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return f.apply(void 0,[this].concat(e))}},{key:"componentDidMount",value:function(){this._didDisplay=!0}},{key:"render",value:function(){return L.Children.only(this.props.children)}}]),e}(L.Component);Tt.displayName="IntlProvider",Tt.contextTypes={intl:lt},Tt.childContextTypes={intl:lt.isRequired};var Ct=function(t){function e(t,n){U(this,e);var r=q(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return u(n),r}return G(e,t),z(e,[{key:"shouldComponentUpdate",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return f.apply(void 0,[this].concat(e))}},{key:"render",value:function(){var t=this.context.intl,e=t.formatDate,n=t.textComponent,r=this.props,i=r.value,o=r.children,a=e(i,this.props);return"function"==typeof o?o(a):N.createElement(n,null,a)}}]),e}(L.Component);Ct.displayName="FormattedDate",Ct.contextTypes={intl:lt};var Ot=function(t){function e(t,n){U(this,e);var r=q(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return u(n),r}return G(e,t),z(e,[{key:"shouldComponentUpdate",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return f.apply(void 0,[this].concat(e))}},{key:"render",value:function(){var t=this.context.intl,e=t.formatTime,n=t.textComponent,r=this.props,i=r.value,o=r.children,a=e(i,this.props);return"function"==typeof o?o(a):N.createElement(n,null,a)}}]),e}(L.Component);Ot.displayName="FormattedTime",Ot.contextTypes={intl:lt};var At=1e3,It=6e4,Rt=36e5,Pt=864e5,Lt=2147483647,Nt=function(t){function e(t,n){U(this,e);var r=q(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));u(n);var i=isFinite(t.initialNow)?Number(t.initialNow):n.intl.now();return r.state={now:i},r}return G(e,t),z(e,[{key:"scheduleNextUpdate",value:function(t,e){var n=this;clearTimeout(this._timer);var r=t.value,i=t.units,o=t.updateInterval,a=new Date(r).getTime();if(o&&isFinite(a)){var s=a-e.now,l=C(i||T(s)),u=Math.abs(s%l),c=s<0?Math.max(o,l-u):Math.max(o,u);this._timer=setTimeout(function(){n.setState({now:n.context.intl.now()})},c)}}},{key:"componentDidMount",value:function(){this.scheduleNextUpdate(this.props,this.state)}},{key:"componentWillReceiveProps",value:function(t){O(t.value,this.props.value)||this.setState({now:this.context.intl.now()})}},{key:"shouldComponentUpdate",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return f.apply(void 0,[this].concat(e))}},{key:"componentWillUpdate",value:function(t,e){this.scheduleNextUpdate(t,e)}},{key:"componentWillUnmount",value:function(){clearTimeout(this._timer)}},{key:"render",value:function(){var t=this.context.intl,e=t.formatRelative,n=t.textComponent,r=this.props,i=r.value,o=r.children,a=e(i,V({},this.props,this.state));return"function"==typeof o?o(a):N.createElement(n,null,a)}}]),e}(L.Component);Nt.displayName="FormattedRelative",Nt.contextTypes={intl:lt},Nt.defaultProps={updateInterval:1e4};var kt=function(t){function e(t,n){U(this,e);var r=q(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return u(n),r}return G(e,t),z(e,[{key:"shouldComponentUpdate",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return f.apply(void 0,[this].concat(e))}},{key:"render",value:function(){var t=this.context.intl,e=t.formatNumber,n=t.textComponent,r=this.props,i=r.value,o=r.children,a=e(i,this.props);return"function"==typeof o?o(a):N.createElement(n,null,a)}}]),e}(L.Component);kt.displayName="FormattedNumber",kt.contextTypes={intl:lt};var Dt=function(t){function e(t,n){U(this,e);var r=q(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return u(n),r}return G(e,t),z(e,[{key:"shouldComponentUpdate",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return f.apply(void 0,[this].concat(e))}},{key:"render",value:function(){var t=this.context.intl,e=t.formatPlural,n=t.textComponent,r=this.props,i=r.value,o=r.other,a=r.children,s=e(i,this.props),l=this.props[s]||o;return"function"==typeof a?a(l):N.createElement(n,null,l)}}]),e}(L.Component);Dt.displayName="FormattedPlural",Dt.contextTypes={intl:lt},Dt.defaultProps={style:"cardinal"};var Ft=function(t){function e(t,n){U(this,e);var r=q(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return u(n),r}return G(e,t),z(e,[{key:"shouldComponentUpdate",value:function(t){var e=this.props.values;if(!c(t.values,e))return!0;for(var n=V({},t,{values:e}),r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return f.apply(void 0,[this,n].concat(i))}},{key:"render",value:function(){var t=this.context.intl,e=t.formatMessage,n=t.textComponent,r=this.props,i=r.id,o=r.description,a=r.defaultMessage,s=r.values,l=r.tagName,u=void 0===l?n:l,c=r.children,f=void 0,h=void 0,d=void 0;if(s&&Object.keys(s).length>0){var p=Math.floor(1099511627776*Math.random()).toString(16),m=function(){var t=0;return function(){return"ELEMENT-"+p+"-"+(t+=1)}}();f="@__"+p+"__@",h={},d={},Object.keys(s).forEach(function(t){var e=s[t];if(L.isValidElement(e)){var n=m();h[t]=f+n+f,d[n]=e}else h[t]=e})}var g={id:i,description:o,defaultMessage:a},v=e(g,h||s),y=void 0;return y=d&&Object.keys(d).length>0?v.split(f).filter(function(t){return!!t}).map(function(t){return d[t]||t}):[v],"function"==typeof c?c.apply(void 0,W(y)):L.createElement.apply(void 0,[u,null].concat(W(y)))}}]),e}(L.Component);Ft.displayName="FormattedMessage",Ft.contextTypes={intl:lt},Ft.defaultProps={values:{}};var jt=function(t){function e(t,n){U(this,e);var r=q(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return u(n),r}return G(e,t),z(e,[{key:"shouldComponentUpdate",value:function(t){var e=this.props.values;if(!c(t.values,e))return!0;for(var n=V({},t,{values:e}),r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return f.apply(void 0,[this,n].concat(i))}},{key:"render",value:function(){var t=this.context.intl,e=t.formatHTMLMessage,n=t.textComponent,r=this.props,i=r.id,o=r.description,a=r.defaultMessage,s=r.values,l=r.tagName,u=void 0===l?n:l,c=r.children,f={id:i,description:o,defaultMessage:a},h=e(f,s);if("function"==typeof c)return c(h);var d={__html:h};return N.createElement(u,{dangerouslySetInnerHTML:d})}}]),e}(L.Component);jt.displayName="FormattedHTMLMessage",jt.contextTypes={intl:lt},jt.defaultProps={values:{}},i(F),i(A),e.addLocaleData=i,e.intlShape=lt,e.injectIntl=d,e.defineMessages=p,e.IntlProvider=Tt,e.FormattedDate=Ct,e.FormattedTime=Ot,e.FormattedRelative=Nt,e.FormattedNumber=kt,e.FormattedPlural=Dt,e.FormattedMessage=Ft,e.FormattedHTMLMessage=jt},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.combineActions=e.handleActions=e.handleAction=e.createActions=e.createAction=void 0;var i=n(511),o=r(i),a=n(512),s=r(a),l=n(1165),u=r(l),c=n(514),f=r(c),h=n(1168),d=r(h);e.createAction=o.default,e.createActions=d.default,e.handleAction=s.default,e.handleActions=u.default,e.combineActions=f.default},function(t,e,n){t.exports={default:n(950),__esModule:!0}},function(t,n){t.exports=e},function(t,e,n){t.exports={default:n(990),__esModule:!0}},function(t,e,n){(function(t,r){var i;(function(){function o(t,e){return t.set(e[0],e[1]),t}function a(t,e){return t.add(e),t}function s(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function l(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function u(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function c(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function f(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function h(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function d(t,e){return!!(null==t?0:t.length)&&M(t,e,0)>-1}function p(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function m(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function g(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function v(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function y(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function b(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function _(t){return t.split("")}function w(t){return t.match(ze)||[]}function x(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function E(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function M(t,e,n){return e===e?Q(t,e,n):E(t,T,n)}function S(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function T(t){return t!==t}function C(t,e){var n=null==t?0:t.length;return n?P(t,e)/n:kt}function O(t){return function(e){return null==e?it:e[t]}}function A(t){return function(e){return null==t?it:t[e]}}function I(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function R(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function P(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==it&&(n=n===it?o:n+o)}return n}function L(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function N(t,e){return m(e,function(e){return[e,t[e]]})}function k(t){return function(e){return t(e)}}function D(t,e){return m(e,function(e){return t[e]})}function F(t,e){return t.has(e)}function j(t,e){for(var n=-1,r=t.length;++n<r&&M(e,t[n],0)>-1;);return n}function U(t,e){for(var n=t.length;n--&&M(e,t[n],0)>-1;);return n}function z(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function B(t){return"\\"+On[t]}function V(t,e){return null==t?it:t[e]}function G(t){return bn.test(t)}function H(t){return _n.test(t)}function q(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function W(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function Y(t,e){return function(n){return t(e(n))}}function X(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==ct||(t[n]=ct,o[i++]=n)}return o}function Z(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function K(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Q(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function J(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function $(t){return G(t)?et(t):qn(t)}function tt(t){return G(t)?nt(t):_(t)}function et(t){for(var e=vn.lastIndex=0;vn.test(t);)++e;return e}function nt(t){return t.match(vn)||[]}function rt(t){return t.match(yn)||[]}var it,ot=200,at="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",st="Expected a function",lt="__lodash_hash_undefined__",ut=500,ct="__lodash_placeholder__",ft=1,ht=2,dt=4,pt=1,mt=2,gt=1,vt=2,yt=4,bt=8,_t=16,wt=32,xt=64,Et=128,Mt=256,St=512,Tt=30,Ct="...",Ot=800,At=16,It=1,Rt=2,Pt=1/0,Lt=9007199254740991,Nt=1.7976931348623157e308,kt=NaN,Dt=4294967295,Ft=Dt-1,jt=Dt>>>1,Ut=[["ary",Et],["bind",gt],["bindKey",vt],["curry",bt],["curryRight",_t],["flip",St],["partial",wt],["partialRight",xt],["rearg",Mt]],zt="[object Arguments]",Bt="[object Array]",Vt="[object AsyncFunction]",Gt="[object Boolean]",Ht="[object Date]",qt="[object DOMException]",Wt="[object Error]",Yt="[object Function]",Xt="[object GeneratorFunction]",Zt="[object Map]",Kt="[object Number]",Qt="[object Null]",Jt="[object Object]",$t="[object Proxy]",te="[object RegExp]",ee="[object Set]",ne="[object String]",re="[object Symbol]",ie="[object Undefined]",oe="[object WeakMap]",ae="[object WeakSet]",se="[object ArrayBuffer]",le="[object DataView]",ue="[object Float32Array]",ce="[object Float64Array]",fe="[object Int8Array]",he="[object Int16Array]",de="[object Int32Array]",pe="[object Uint8Array]",me="[object Uint8ClampedArray]",ge="[object Uint16Array]",ve="[object Uint32Array]",ye=/\b__p \+= '';/g,be=/\b(__p \+=) '' \+/g,_e=/(__e\(.*?\)|\b__t\)) \+\n'';/g,we=/&(?:amp|lt|gt|quot|#39);/g,xe=/[&<>"']/g,Ee=RegExp(we.source),Me=RegExp(xe.source),Se=/<%-([\s\S]+?)%>/g,Te=/<%([\s\S]+?)%>/g,Ce=/<%=([\s\S]+?)%>/g,Oe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ae=/^\w*$/,Ie=/^\./,Re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pe=/[\\^$.*+?()[\]{}|]/g,Le=RegExp(Pe.source),Ne=/^\s+|\s+$/g,ke=/^\s+/,De=/\s+$/,Fe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,je=/\{\n\/\* \[wrapped with (.+)\] \*/,Ue=/,? & /,ze=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Be=/\\(\\)?/g,Ve=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ge=/\w*$/,He=/^[-+]0x[0-9a-f]+$/i,qe=/^0b[01]+$/i,We=/^\[object .+?Constructor\]$/,Ye=/^0o[0-7]+$/i,Xe=/^(?:0|[1-9]\d*)$/,Ze=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ke=/($^)/,Qe=/['\n\r\u2028\u2029\\]/g,Je="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",$e="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tn="["+$e+"]",en="["+Je+"]",nn="[a-z\\xdf-\\xf6\\xf8-\\xff]",rn="[^\\ud800-\\udfff"+$e+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",on="\\ud83c[\\udffb-\\udfff]",an="(?:\\ud83c[\\udde6-\\uddff]){2}",sn="[\\ud800-\\udbff][\\udc00-\\udfff]",ln="[A-Z\\xc0-\\xd6\\xd8-\\xde]",un="(?:"+nn+"|"+rn+")",cn="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",fn="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",an,sn].join("|")+")[\\ufe0e\\ufe0f]?"+cn+")*",hn="[\\ufe0e\\ufe0f]?"+cn+fn,dn="(?:"+["[\\u2700-\\u27bf]",an,sn].join("|")+")"+hn,pn="(?:"+["[^\\ud800-\\udfff]"+en+"?",en,an,sn,"[\\ud800-\\udfff]"].join("|")+")",mn=RegExp("['â€™]","g"),gn=RegExp(en,"g"),vn=RegExp(on+"(?="+on+")|"+pn+hn,"g"),yn=RegExp([ln+"?"+nn+"+(?:['â€™](?:d|ll|m|re|s|t|ve))?(?="+[tn,ln,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['â€™](?:D|LL|M|RE|S|T|VE))?(?="+[tn,ln+un,"$"].join("|")+")",ln+"?"+un+"+(?:['â€™](?:d|ll|m|re|s|t|ve))?",ln+"+(?:['â€™](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)","\\d+",dn].join("|"),"g"),bn=RegExp("[\\u200d\\ud800-\\udfff"+Je+"\\ufe0e\\ufe0f]"),_n=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xn=-1,En={};En[ue]=En[ce]=En[fe]=En[he]=En[de]=En[pe]=En[me]=En[ge]=En[ve]=!0,En[zt]=En[Bt]=En[se]=En[Gt]=En[le]=En[Ht]=En[Wt]=En[Yt]=En[Zt]=En[Kt]=En[Jt]=En[te]=En[ee]=En[ne]=En[oe]=!1;var Mn={};Mn[zt]=Mn[Bt]=Mn[se]=Mn[le]=Mn[Gt]=Mn[Ht]=Mn[ue]=Mn[ce]=Mn[fe]=Mn[he]=Mn[de]=Mn[Zt]=Mn[Kt]=Mn[Jt]=Mn[te]=Mn[ee]=Mn[ne]=Mn[re]=Mn[pe]=Mn[me]=Mn[ge]=Mn[ve]=!0,Mn[Wt]=Mn[Yt]=Mn[oe]=!1;var Sn={"Ã€":"A","Ã":"A","Ã‚":"A","Ãƒ":"A","Ã„":"A","Ã…":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã‡":"C","Ã§":"c","Ã":"D","Ã°":"d","Ãˆ":"E","Ã‰":"E","ÃŠ":"E","Ã‹":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","ÃŒ":"I","Ã":"I","ÃŽ":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã‘":"N","Ã±":"n","Ã’":"O","Ã“":"O","Ã”":"O","Ã•":"O","Ã–":"O","Ã˜":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã™":"U","Ãš":"U","Ã›":"U","Ãœ":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã†":"Ae","Ã¦":"ae","Ãž":"Th","Ã¾":"th","ÃŸ":"ss","Ä€":"A","Ä‚":"A","Ä„":"A","Ä":"a","Äƒ":"a","Ä…":"a","Ä†":"C","Äˆ":"C","ÄŠ":"C","ÄŒ":"C","Ä‡":"c","Ä‰":"c","Ä‹":"c","Ä":"c","ÄŽ":"D","Ä":"D","Ä":"d","Ä‘":"d","Ä’":"E","Ä”":"E","Ä–":"E","Ä˜":"E","Äš":"E","Ä“":"e","Ä•":"e","Ä—":"e","Ä™":"e","Ä›":"e","Äœ":"G","Äž":"G","Ä ":"G","Ä¢":"G","Ä":"g","ÄŸ":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å€":"l","Å‚":"l","Åƒ":"N","Å…":"N","Å‡":"N","ÅŠ":"N","Å„":"n","Å†":"n","Åˆ":"n","Å‹":"n","ÅŒ":"O","ÅŽ":"O","Å":"O","Å":"o","Å":"o","Å‘":"o","Å”":"R","Å–":"R","Å˜":"R","Å•":"r","Å—":"r","Å™":"r","Åš":"S","Åœ":"S","Åž":"S","Å ":"S","Å›":"s","Å":"s","ÅŸ":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å’":"Oe","Å“":"oe","Å‰":"'n","Å¿":"s"},Tn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Cn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},On={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},An=parseFloat,In=parseInt,Rn="object"==typeof t&&t&&t.Object===Object&&t,Pn="object"==typeof self&&self&&self.Object===Object&&self,Ln=Rn||Pn||Function("return this")(),Nn="object"==typeof e&&e&&!e.nodeType&&e,kn=Nn&&"object"==typeof r&&r&&!r.nodeType&&r,Dn=kn&&kn.exports===Nn,Fn=Dn&&Rn.process,jn=function(){try{return Fn&&Fn.binding&&Fn.binding("util")}catch(t){}}(),Un=jn&&jn.isArrayBuffer,zn=jn&&jn.isDate,Bn=jn&&jn.isMap,Vn=jn&&jn.isRegExp,Gn=jn&&jn.isSet,Hn=jn&&jn.isTypedArray,qn=O("length"),Wn=A(Sn),Yn=A(Tn),Xn=A(Cn),Zn=function t(e){function n(t){if(ol(t)&&!vh(t)&&!(t instanceof _)){if(t instanceof i)return t;if(gc.call(t,"__wrapped__"))return na(t)}return new i(t)}function r(){}function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=it}function _(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Dt,this.__views__=[]}function A(){var t=new _(this.__wrapped__);return t.__actions__=Fi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Fi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Fi(this.__views__),t}function Q(){if(this.__filtered__){var t=new _(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function et(){var t=this.__wrapped__.value(),e=this.__dir__,n=vh(t),r=e<0,i=n?t.length:0,o=Co(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,f=c.length,h=0,d=Wc(l,this.__takeCount__);if(!n||!r&&i==l&&d==l)return yi(t,this.__actions__);var p=[];t:for(;l--&&h<d;){u+=e;for(var m=-1,g=t[u];++m<f;){var v=c[m],y=v.iteratee,b=v.type,_=y(g);if(b==Rt)g=_;else if(!_){if(b==It)continue t;break t}}p[h++]=g}return p}function nt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ze(){this.__data__=nf?nf(null):{},this.size=0}function Je(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function $e(t){var e=this.__data__;if(nf){var n=e[t];return n===lt?it:n}return gc.call(e,t)?e[t]:it}function tn(t){var e=this.__data__;return nf?e[t]!==it:gc.call(e,t)}function en(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nf&&e===it?lt:e,this}function nn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function rn(){this.__data__=[],this.size=0}function on(t){var e=this.__data__,n=Kn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Ic.call(e,n,1),--this.size,!0)}function an(t){var e=this.__data__,n=Kn(e,t);return n<0?it:e[n][1]}function sn(t){return Kn(this.__data__,t)>-1}function ln(t,e){var n=this.__data__,r=Kn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function un(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function cn(){this.size=0,this.__data__={hash:new nt,map:new(Jc||nn),string:new nt}}function fn(t){var e=Eo(this,t).delete(t);return this.size-=e?1:0,e}function hn(t){return Eo(this,t).get(t)}function dn(t){return Eo(this,t).has(t)}function pn(t,e){var n=Eo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function vn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new un;++e<n;)this.add(t[e])}function yn(t){return this.__data__.set(t,lt),this}function bn(t){return this.__data__.has(t)}function _n(t){var e=this.__data__=new nn(t);this.size=e.size}function Sn(){this.__data__=new nn,this.size=0}function Tn(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Cn(t){return this.__data__.get(t)}function On(t){return this.__data__.has(t)}function Rn(t,e){var n=this.__data__;if(n instanceof nn){var r=n.__data__;if(!Jc||r.length<ot-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new un(r)}return n.set(t,e),this.size=n.size,this}function Pn(t,e){var n=vh(t),r=!n&&gh(t),i=!n&&!r&&bh(t),o=!n&&!r&&!i&&Mh(t),a=n||r||i||o,s=a?L(t.length,uc):[],l=s.length;for(var u in t)!e&&!gc.call(t,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ko(u,l))||s.push(u);return s}function Nn(t){var e=t.length;return e?t[$r(0,e-1)]:it}function kn(t,e){return Jo(Fi(t),nr(e,0,t.length))}function Fn(t){return Jo(Fi(t))}function jn(t,e,n){(n===it||qs(t[e],n))&&(n!==it||e in t)||tr(t,e,n)}function qn(t,e,n){var r=t[e];gc.call(t,e)&&qs(r,n)&&(n!==it||e in t)||tr(t,e,n)}function Kn(t,e){for(var n=t.length;n--;)if(qs(t[n][0],e))return n;return-1}function Qn(t,e,n,r){return mf(t,function(t,i,o){e(r,t,n(t),o)}),r}function Jn(t,e){return t&&ji(e,zl(e),t)}function $n(t,e){return t&&ji(e,Bl(e),t)}function tr(t,e,n){"__proto__"==e&&Nc?Nc(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function er(t,e){for(var n=-1,r=e.length,i=nc(r),o=null==t;++n<r;)i[n]=o?it:Fl(t,e[n]);return i}function nr(t,e,n){return t===t&&(n!==it&&(t=t<=n?t:n),e!==it&&(t=t>=e?t:e)),t}function rr(t,e,n,r,i,o){var a,s=e&ft,l=e&ht,c=e&dt;if(n&&(a=i?n(t,r,i,o):n(t)),a!==it)return a;if(!il(t))return t;var f=vh(t);if(f){if(a=Io(t),!s)return Fi(t,a)}else{var h=Cf(t),d=h==Yt||h==Xt;if(bh(t))return Si(t,s);if(h==Jt||h==zt||d&&!i){if(a=l||d?{}:Ro(t),!s)return l?zi(t,$n(a,t)):Ui(t,Jn(a,t))}else{if(!Mn[h])return i?t:{};a=Po(t,h,rr,s)}}o||(o=new _n);var p=o.get(t);if(p)return p;o.set(t,a);var m=c?l?bo:yo:l?Bl:zl,g=f?it:m(t);return u(g||t,function(r,i){g&&(i=r,r=t[i]),qn(a,i,rr(r,e,n,i,t,o))}),a}function ir(t){var e=zl(t);return function(n){return or(n,t,e)}}function or(t,e,n){var r=n.length;if(null==t)return!r;for(t=sc(t);r--;){var i=n[r],o=e[i],a=t[i];if(a===it&&!(i in t)||!o(a))return!1}return!0}function ar(t,e,n){if("function"!=typeof t)throw new cc(st);return If(function(){t.apply(it,n)},e)}function sr(t,e,n,r){var i=-1,o=d,a=!0,s=t.length,l=[],u=e.length;if(!s)return l;n&&(e=m(e,k(n))),r?(o=p,a=!1):e.length>=ot&&(o=F,a=!1,e=new vn(e));t:for(;++i<s;){var c=t[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f===f){for(var h=u;h--;)if(e[h]===f)continue t;l.push(c)}else o(e,f,r)||l.push(c)}return l}function lr(t,e){var n=!0;return mf(t,function(t,r,i){return n=!!e(t,r,i)}),n}function ur(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(s===it?a===a&&!gl(a):n(a,s)))var s=a,l=o}return l}function cr(t,e,n,r){var i=t.length;for(n=xl(n),n<0&&(n=-n>i?0:i+n),r=r===it||r>i?i:xl(r),r<0&&(r+=i),r=n>r?0:El(r);n<r;)t[n++]=e;return t}function fr(t,e){var n=[];return mf(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function hr(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=No),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?hr(s,e-1,n,r,i):g(i,s):r||(i[i.length]=s)}return i}function dr(t,e){return t&&vf(t,e,zl)}function pr(t,e){return t&&yf(t,e,zl)}function mr(t,e){return h(e,function(e){return el(t[e])})}function gr(t,e){e=Ei(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[$o(e[n++])];return n&&n==r?t:it}function vr(t,e,n){var r=e(t);return vh(t)?r:g(r,n(t))}function yr(t){return null==t?t===it?ie:Qt:Lc&&Lc in sc(t)?To(t):Wo(t)}function br(t,e){return t>e}function _r(t,e){return null!=t&&gc.call(t,e)}function wr(t,e){return null!=t&&e in sc(t)}function xr(t,e,n){return t>=Wc(e,n)&&t<qc(e,n)}function Er(t,e,n){for(var r=n?p:d,i=t[0].length,o=t.length,a=o,s=nc(o),l=1/0,u=[];a--;){var c=t[a];a&&e&&(c=m(c,k(e))),l=Wc(c.length,l),s[a]=!n&&(e||i>=120&&c.length>=120)?new vn(a&&c):it}c=t[0];var f=-1,h=s[0];t:for(;++f<i&&u.length<l;){var g=c[f],v=e?e(g):g;if(g=n||0!==g?g:0,!(h?F(h,v):r(u,v,n))){for(a=o;--a;){var y=s[a];if(!(y?F(y,v):r(t[a],v,n)))continue t}h&&h.push(v),u.push(g)}}return u}function Mr(t,e,n,r){return dr(t,function(t,i,o){e(r,n(t),i,o)}),r}function Sr(t,e,n){e=Ei(e,t),t=Xo(t,e);var r=null==t?t:t[$o(wa(e))];return null==r?it:s(r,t,n)}function Tr(t){return ol(t)&&yr(t)==zt}function Cr(t){return ol(t)&&yr(t)==se}function Or(t){return ol(t)&&yr(t)==Ht}function Ar(t,e,n,r,i){return t===e||(null==t||null==e||!ol(t)&&!ol(e)?t!==t&&e!==e:Ir(t,e,n,r,Ar,i))}function Ir(t,e,n,r,i,o){var a=vh(t),s=vh(e),l=a?Bt:Cf(t),u=s?Bt:Cf(e);l=l==zt?Jt:l,u=u==zt?Jt:u;var c=l==Jt,f=u==Jt,h=l==u;if(h&&bh(t)){if(!bh(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new _n),a||Mh(t)?po(t,e,n,r,i,o):mo(t,e,l,n,r,i,o);if(!(n&pt)){var d=c&&gc.call(t,"__wrapped__"),p=f&&gc.call(e,"__wrapped__");if(d||p){var m=d?t.value():t,g=p?e.value():e;return o||(o=new _n),i(m,g,n,r,o)}}return!!h&&(o||(o=new _n),go(t,e,n,r,i,o))}function Rr(t){return ol(t)&&Cf(t)==Zt}function Pr(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=sc(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===it&&!(l in t))return!1}else{var f=new _n;if(r)var h=r(u,c,l,t,e,f);if(!(h===it?Ar(c,u,pt|mt,r,f):h))return!1}}return!0}function Lr(t){return!(!il(t)||zo(t))&&(el(t)?xc:We).test(ta(t))}function Nr(t){return ol(t)&&yr(t)==te}function kr(t){return ol(t)&&Cf(t)==ee}function Dr(t){return ol(t)&&rl(t.length)&&!!En[yr(t)]}function Fr(t){return"function"==typeof t?t:null==t?Iu:"object"==typeof t?vh(t)?Gr(t[0],t[1]):Vr(t):ju(t)}function jr(t){if(!Bo(t))return Hc(t);var e=[];for(var n in sc(t))gc.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ur(t){if(!il(t))return qo(t);var e=Bo(t),n=[];for(var r in t)("constructor"!=r||!e&&gc.call(t,r))&&n.push(r);return n}function zr(t,e){return t<e}function Br(t,e){var n=-1,r=Ws(t)?nc(t.length):[];return mf(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function Vr(t){var e=Mo(t);return 1==e.length&&e[0][2]?Go(e[0][0],e[0][1]):function(n){return n===t||Pr(n,t,e)}}function Gr(t,e){return Fo(t)&&Vo(e)?Go($o(t),e):function(n){var r=Fl(n,t);return r===it&&r===e?Ul(n,t):Ar(e,r,pt|mt)}}function Hr(t,e,n,r,i){t!==e&&vf(e,function(o,a){if(il(o))i||(i=new _n),qr(t,e,a,n,Hr,r,i);else{var s=r?r(t[a],o,a+"",t,e,i):it;s===it&&(s=o),jn(t,a,s)}},Bl)}function qr(t,e,n,r,i,o,a){var s=t[n],l=e[n],u=a.get(l);if(u)return void jn(t,n,u);var c=o?o(s,l,n+"",t,e,a):it,f=c===it;if(f){var h=vh(l),d=!h&&bh(l),p=!h&&!d&&Mh(l);c=l,h||d||p?vh(s)?c=s:Ys(s)?c=Fi(s):d?(f=!1,c=Si(l,!0)):p?(f=!1,c=Pi(l,!0)):c=[]:dl(l)||gh(l)?(c=s,gh(s)?c=Sl(s):(!il(s)||r&&el(s))&&(c=Ro(l))):f=!1}f&&(a.set(l,c),i(c,l,r,o,a),a.delete(l)),jn(t,n,c)}function Wr(t,e){var n=t.length;if(n)return e+=e<0?n:0,ko(e,n)?t[e]:it}function Yr(t,e,n){var r=-1;return e=m(e.length?e:[Iu],k(xo())),R(Br(t,function(t,n,i){return{criteria:m(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return Ni(t,e,n)})}function Xr(t,e){return Zr(t,e,function(e,n){return Ul(t,n)})}function Zr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=gr(t,a);n(s,a)&&oi(o,Ei(a,t),s)}return o}function Kr(t){return function(e){return gr(e,t)}}function Qr(t,e,n,r){var i=r?S:M,o=-1,a=e.length,s=t;for(t===e&&(e=Fi(e)),n&&(s=m(t,k(n)));++o<a;)for(var l=0,u=e[o],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==t&&Ic.call(s,l,1),Ic.call(t,l,1);return t}function Jr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;ko(i)?Ic.call(t,i,1):mi(t,i)}}return t}function $r(t,e){return t+Uc(Zc()*(e-t+1))}function ti(t,e,n,r){for(var i=-1,o=qc(jc((e-t)/(n||1)),0),a=nc(o);o--;)a[r?o:++i]=t,t+=n;return a}function ei(t,e){var n="";if(!t||e<1||e>Lt)return n;do{e%2&&(n+=t),(e=Uc(e/2))&&(t+=t)}while(e);return n}function ni(t,e){return Rf(Yo(t,e,Iu),t+"")}function ri(t){return Nn($l(t))}function ii(t,e){var n=$l(t);return Jo(n,nr(e,0,n.length))}function oi(t,e,n,r){if(!il(t))return t;e=Ei(e,t);for(var i=-1,o=e.length,a=o-1,s=t;null!=s&&++i<o;){var l=$o(e[i]),u=n;if(i!=a){var c=s[l];u=r?r(c,l,s):it,u===it&&(u=il(c)?c:ko(e[i+1])?[]:{})}qn(s,l,u),s=s[l]}return t}function ai(t){return Jo($l(t))}function si(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=nc(i);++r<i;)o[r]=t[r+e];return o}function li(t,e){var n;return mf(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function ui(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=jt){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!gl(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return ci(t,e,Iu,n)}function ci(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!==e,s=null===e,l=gl(e),u=e===it;i<o;){var c=Uc((i+o)/2),f=n(t[c]),h=f!==it,d=null===f,p=f===f,m=gl(f);if(a)var g=r||p;else g=u?p&&(r||h):s?p&&h&&(r||!d):l?p&&h&&!d&&(r||!m):!d&&!m&&(r?f<=e:f<e);g?i=c+1:o=c}return Wc(o,Ft)}function fi(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!qs(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function hi(t){return"number"==typeof t?t:gl(t)?kt:+t}function di(t){if("string"==typeof t)return t;if(vh(t))return m(t,di)+"";if(gl(t))return df?df.call(t):"";var e=t+"";return"0"==e&&1/t==-Pt?"-0":e}function pi(t,e,n){var r=-1,i=d,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=p;else if(o>=ot){var u=e?null:Ef(t);if(u)return Z(u);a=!1,i=F,l=new vn}else l=e?[]:s;t:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||0!==c?c:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue t;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}function mi(t,e){return e=Ei(e,t),null==(t=Xo(t,e))||delete t[$o(wa(e))]}function gi(t,e,n,r){return oi(t,e,n(gr(t,e)),r)}function vi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?si(t,r?0:o,r?o+1:i):si(t,r?o+1:0,r?i:o)}function yi(t,e){var n=t;return n instanceof _&&(n=n.value()),v(e,function(t,e){return e.func.apply(e.thisArg,g([t],e.args))},n)}function bi(t,e,n){var r=t.length;if(r<2)return r?pi(t[0]):[];for(var i=-1,o=nc(r);++i<r;)for(var a=t[i],s=-1;++s<r;)s!=i&&(o[i]=sr(o[i]||a,t[s],e,n));return pi(hr(o,1),e,n)}function _i(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:it;n(a,t[r],s)}return a}function wi(t){return Ys(t)?t:[]}function xi(t){return"function"==typeof t?t:Iu}function Ei(t,e){return vh(t)?t:Fo(t,e)?[t]:Pf(Cl(t))}function Mi(t,e,n){var r=t.length;return n=n===it?r:n,!e&&n>=r?t:si(t,e,n)}function Si(t,e){if(e)return t.slice();var n=t.length,r=Tc?Tc(n):new t.constructor(n);return t.copy(r),r}function Ti(t){var e=new t.constructor(t.byteLength);return new Sc(e).set(new Sc(t)),e}function Ci(t,e){var n=e?Ti(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Oi(t,e,n){return v(e?n(W(t),ft):W(t),o,new t.constructor)}function Ai(t){var e=new t.constructor(t.source,Ge.exec(t));return e.lastIndex=t.lastIndex,e}function Ii(t,e,n){return v(e?n(Z(t),ft):Z(t),a,new t.constructor)}function Ri(t){return hf?sc(hf.call(t)):{}}function Pi(t,e){var n=e?Ti(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Li(t,e){if(t!==e){var n=t!==it,r=null===t,i=t===t,o=gl(t),a=e!==it,s=null===e,l=e===e,u=gl(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}function Ni(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=Li(i[r],o[r]);if(l){if(r>=s)return l;return l*("desc"==n[r]?-1:1)}}return t.index-e.index}function ki(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,l=e.length,u=qc(o-a,0),c=nc(l+u),f=!r;++s<l;)c[s]=e[s];for(;++i<a;)(f||i<o)&&(c[n[i]]=t[i]);for(;u--;)c[s++]=t[i++];return c}function Di(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,l=-1,u=e.length,c=qc(o-s,0),f=nc(c+u),h=!r;++i<c;)f[i]=t[i];for(var d=i;++l<u;)f[d+l]=e[l];for(;++a<s;)(h||i<o)&&(f[d+n[a]]=t[i++]);return f}function Fi(t,e){var n=-1,r=t.length;for(e||(e=nc(r));++n<r;)e[n]=t[n];return e}function ji(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=r?r(n[s],t[s],s,n,t):it;l===it&&(l=t[s]),i?tr(n,s,l):qn(n,s,l)}return n}function Ui(t,e){return ji(t,Sf(t),e)}function zi(t,e){return ji(t,Tf(t),e)}function Bi(t,e){return function(n,r){var i=vh(n)?l:Qn,o=e?e():{};return i(n,t,xo(r,2),o)}}function Vi(t){return ni(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:it,a=i>2?n[2]:it;for(o=t.length>3&&"function"==typeof o?(i--,o):it,a&&Do(n[0],n[1],a)&&(o=i<3?it:o,i=1),e=sc(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}function Gi(t,e){return function(n,r){if(null==n)return n;if(!Ws(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=sc(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Hi(t){return function(e,n,r){for(var i=-1,o=sc(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}function qi(t,e,n){function r(){return(this&&this!==Ln&&this instanceof r?o:t).apply(i?n:this,arguments)}var i=e&gt,o=Xi(t);return r}function Wi(t){return function(e){e=Cl(e);var n=G(e)?tt(e):it,r=n?n[0]:e.charAt(0),i=n?Mi(n,1).join(""):e.slice(1);return r[t]()+i}}function Yi(t){return function(e){return v(Su(ou(e).replace(mn,"")),t,"")}}function Xi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=pf(t.prototype),r=t.apply(n,e);return il(r)?r:n}}function Zi(t,e,n){function r(){for(var o=arguments.length,a=nc(o),l=o,u=wo(r);l--;)a[l]=arguments[l];var c=o<3&&a[0]!==u&&a[o-1]!==u?[]:X(a,u);return(o-=c.length)<n?ao(t,e,Ji,r.placeholder,it,a,c,it,it,n-o):s(this&&this!==Ln&&this instanceof r?i:t,this,a)}var i=Xi(t);return r}function Ki(t){return function(e,n,r){var i=sc(e);if(!Ws(e)){var o=xo(n,3);e=zl(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:it}}function Qi(t){return vo(function(e){var n=e.length,r=n,o=i.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new cc(st);if(o&&!s&&"wrapper"==_o(a))var s=new i([],!0)}for(r=s?r:n;++r<n;){a=e[r];var l=_o(a),u="wrapper"==l?Mf(a):it;s=u&&Uo(u[0])&&u[1]==(Et|bt|wt|Mt)&&!u[4].length&&1==u[9]?s[_o(u[0])].apply(s,u[3]):1==a.length&&Uo(a)?s[l]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&vh(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function Ji(t,e,n,r,i,o,a,s,l,u){function c(){for(var v=arguments.length,y=nc(v),b=v;b--;)y[b]=arguments[b];if(p)var _=wo(c),w=z(y,_);if(r&&(y=ki(y,r,i,p)),o&&(y=Di(y,o,a,p)),v-=w,p&&v<u){var x=X(y,_);return ao(t,e,Ji,c.placeholder,n,y,x,s,l,u-v)}var E=h?n:this,M=d?E[t]:t;return v=y.length,s?y=Zo(y,s):m&&v>1&&y.reverse(),f&&l<v&&(y.length=l),this&&this!==Ln&&this instanceof c&&(M=g||Xi(M)),M.apply(E,y)}var f=e&Et,h=e&gt,d=e&vt,p=e&(bt|_t),m=e&St,g=d?it:Xi(t);return c}function $i(t,e){return function(n,r){return Mr(n,t,e(r),{})}}function to(t,e){return function(n,r){var i;if(n===it&&r===it)return e;if(n!==it&&(i=n),r!==it){if(i===it)return r;"string"==typeof n||"string"==typeof r?(n=di(n),r=di(r)):(n=hi(n),r=hi(r)),i=t(n,r)}return i}}function eo(t){return vo(function(e){return e=m(e,k(xo())),ni(function(n){var r=this;return t(e,function(t){return s(t,r,n)})})})}function no(t,e){e=e===it?" ":di(e);var n=e.length;if(n<2)return n?ei(e,t):e;var r=ei(e,jc(t/$(e)));return G(e)?Mi(tt(r),0,t).join(""):r.slice(0,t)}function ro(t,e,n,r){function i(){for(var e=-1,l=arguments.length,u=-1,c=r.length,f=nc(c+l),h=this&&this!==Ln&&this instanceof i?a:t;++u<c;)f[u]=r[u];for(;l--;)f[u++]=arguments[++e];return s(h,o?n:this,f)}var o=e&gt,a=Xi(t);return i}function io(t){return function(e,n,r){return r&&"number"!=typeof r&&Do(e,n,r)&&(n=r=it),e=wl(e),n===it?(n=e,e=0):n=wl(n),r=r===it?e<n?1:-1:wl(r),ti(e,n,r,t)}}function oo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Ml(e),n=Ml(n)),t(e,n)}}function ao(t,e,n,r,i,o,a,s,l,u){var c=e&bt,f=c?a:it,h=c?it:a,d=c?o:it,p=c?it:o;e|=c?wt:xt,(e&=~(c?xt:wt))&yt||(e&=~(gt|vt));var m=[t,e,i,d,f,p,h,s,l,u],g=n.apply(it,m);return Uo(t)&&Af(g,m),g.placeholder=r,Ko(g,t,e)}function so(t){var e=ac[t];return function(t,n){if(t=Ml(t),n=null==n?0:Wc(xl(n),292)){var r=(Cl(t)+"e").split("e");return r=(Cl(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function lo(t){return function(e){var n=Cf(e);return n==Zt?W(e):n==ee?K(e):N(e,t(e))}}function uo(t,e,n,r,i,o,a,s){var l=e&vt;if(!l&&"function"!=typeof t)throw new cc(st);var u=r?r.length:0;if(u||(e&=~(wt|xt),r=i=it),a=a===it?a:qc(xl(a),0),s=s===it?s:xl(s),u-=i?i.length:0,e&xt){var c=r,f=i;r=i=it}var h=l?it:Mf(t),d=[t,e,n,r,i,c,f,o,a,s];if(h&&Ho(d,h),t=d[0],e=d[1],n=d[2],r=d[3],i=d[4],s=d[9]=d[9]===it?l?0:t.length:qc(d[9]-u,0),!s&&e&(bt|_t)&&(e&=~(bt|_t)),e&&e!=gt)p=e==bt||e==_t?Zi(t,e,s):e!=wt&&e!=(gt|wt)||i.length?Ji.apply(it,d):ro(t,e,n,r);else var p=qi(t,e,n);return Ko((h?bf:Af)(p,d),t,e)}function co(t,e,n,r){return t===it||qs(t,dc[n])&&!gc.call(r,n)?e:t}function fo(t,e,n,r,i,o){return il(t)&&il(e)&&(o.set(e,t),Hr(t,e,it,fo,o),o.delete(e)),t}function ho(t){return dl(t)?it:t}function po(t,e,n,r,i,o){var a=n&pt,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var c=-1,f=!0,h=n&mt?new vn:it;for(o.set(t,e),o.set(e,t);++c<s;){var d=t[c],p=e[c];if(r)var m=a?r(p,d,c,e,t,o):r(d,p,c,t,e,o);if(m!==it){if(m)continue;f=!1;break}if(h){if(!b(e,function(t,e){if(!F(h,e)&&(d===t||i(d,t,n,r,o)))return h.push(e)})){f=!1;break}}else if(d!==p&&!i(d,p,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function mo(t,e,n,r,i,o,a){switch(n){case le:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case se:return!(t.byteLength!=e.byteLength||!o(new Sc(t),new Sc(e)));case Gt:case Ht:case Kt:return qs(+t,+e);case Wt:return t.name==e.name&&t.message==e.message;case te:case ne:return t==e+"";case Zt:var s=W;case ee:var l=r&pt;if(s||(s=Z),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=mt,a.set(t,e);var c=po(s(t),s(e),r,i,o,a);return a.delete(t),c;case re:if(hf)return hf.call(t)==hf.call(e)}return!1}function go(t,e,n,r,i,o){var a=n&pt,s=yo(t),l=s.length;if(l!=yo(e).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in e:gc.call(e,c)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var h=!0;o.set(t,e),o.set(e,t);for(var d=a;++u<l;){c=s[u];var p=t[c],m=e[c];if(r)var g=a?r(m,p,c,e,t,o):r(p,m,c,t,e,o);if(!(g===it?p===m||i(p,m,n,r,o):g)){h=!1;break}d||(d="constructor"==c)}if(h&&!d){var v=t.constructor,y=e.constructor;v!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y)&&(h=!1)}return o.delete(t),o.delete(e),h}function vo(t){return Rf(Yo(t,it,da),t+"")}function yo(t){return vr(t,zl,Sf)}function bo(t){return vr(t,Bl,Tf)}function _o(t){for(var e=t.name+"",n=of[e],r=gc.call(of,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function wo(t){return(gc.call(n,"placeholder")?n:t).placeholder}function xo(){var t=n.iteratee||Ru;return t=t===Ru?Fr:t,arguments.length?t(arguments[0],arguments[1]):t}function Eo(t,e){var n=t.__data__;return jo(e)?n["string"==typeof e?"string":"hash"]:n.map}function Mo(t){for(var e=zl(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Vo(i)]}return e}function So(t,e){var n=V(t,e);return Lr(n)?n:it}function To(t){var e=gc.call(t,Lc),n=t[Lc];try{t[Lc]=it;var r=!0}catch(t){}var i=bc.call(t);return r&&(e?t[Lc]=n:delete t[Lc]),i}function Co(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Wc(e,t+a);break;case"takeRight":t=qc(t,e-a)}}return{start:t,end:e}}function Oo(t){var e=t.match(je);return e?e[1].split(Ue):[]}function Ao(t,e,n){e=Ei(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=$o(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&rl(i)&&ko(a,i)&&(vh(t)||gh(t))}function Io(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&gc.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Ro(t){return"function"!=typeof t.constructor||Bo(t)?{}:pf(Cc(t))}function Po(t,e,n,r){var i=t.constructor;switch(e){case se:return Ti(t);case Gt:case Ht:return new i(+t);case le:return Ci(t,r);case ue:case ce:case fe:case he:case de:case pe:case me:case ge:case ve:return Pi(t,r);case Zt:return Oi(t,r,n);case Kt:case ne:return new i(t);case te:return Ai(t);case ee:return Ii(t,r,n);case re:return Ri(t)}}function Lo(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Fe,"{\n/* [wrapped with "+e+"] */\n")}function No(t){return vh(t)||gh(t)||!!(Rc&&t&&t[Rc])}function ko(t,e){return!!(e=null==e?Lt:e)&&("number"==typeof t||Xe.test(t))&&t>-1&&t%1==0&&t<e}function Do(t,e,n){if(!il(n))return!1;var r=typeof e;return!!("number"==r?Ws(n)&&ko(e,n.length):"string"==r&&e in n)&&qs(n[e],t)}function Fo(t,e){if(vh(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!gl(t))||(Ae.test(t)||!Oe.test(t)||null!=e&&t in sc(e))}function jo(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Uo(t){var e=_o(t),r=n[e];if("function"!=typeof r||!(e in _.prototype))return!1;if(t===r)return!0;var i=Mf(r);return!!i&&t===i[0]}function zo(t){return!!yc&&yc in t}function Bo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||dc)}function Vo(t){return t===t&&!il(t)}function Go(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==it||t in sc(n)))}}function Ho(t,e){var n=t[1],r=e[1],i=n|r,o=i<(gt|vt|Et),a=r==Et&&n==bt||r==Et&&n==Mt&&t[7].length<=e[8]||r==(Et|Mt)&&e[7].length<=e[8]&&n==bt;if(!o&&!a)return t;r&gt&&(t[2]=e[2],i|=n&gt?0:yt);var s=e[3];if(s){var l=t[3];t[3]=l?ki(l,s,e[4]):s,t[4]=l?X(t[3],ct):e[4]}return s=e[5],s&&(l=t[5],t[5]=l?Di(l,s,e[6]):s,t[6]=l?X(t[5],ct):e[6]),s=e[7],s&&(t[7]=s),r&Et&&(t[8]=null==t[8]?e[8]:Wc(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function qo(t){var e=[];if(null!=t)for(var n in sc(t))e.push(n);return e}function Wo(t){return bc.call(t)}function Yo(t,e,n){return e=qc(e===it?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=qc(r.length-e,0),a=nc(o);++i<o;)a[i]=r[e+i];i=-1;for(var l=nc(e+1);++i<e;)l[i]=r[i];return l[e]=n(a),s(t,this,l)}}function Xo(t,e){return e.length<2?t:gr(t,si(e,0,-1))}function Zo(t,e){for(var n=t.length,r=Wc(e.length,n),i=Fi(t);r--;){var o=e[r];t[r]=ko(o,n)?i[o]:it}return t}function Ko(t,e,n){var r=e+"";return Rf(t,Lo(r,ea(Oo(r),n)))}function Qo(t){var e=0,n=0;return function(){var r=Yc(),i=At-(r-n);if(n=r,i>0){if(++e>=Ot)return arguments[0]}else e=0;return t.apply(it,arguments)}}function Jo(t,e){var n=-1,r=t.length,i=r-1;for(e=e===it?r:e;++n<e;){var o=$r(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function $o(t){if("string"==typeof t||gl(t))return t;var e=t+"";return"0"==e&&1/t==-Pt?"-0":e}function ta(t){if(null!=t){try{return mc.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ea(t,e){return u(Ut,function(n){var r="_."+n[0];e&n[1]&&!d(t,r)&&t.push(r)}),t.sort()}function na(t){if(t instanceof _)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=Fi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function ra(t,e,n){e=(n?Do(t,e,n):e===it)?1:qc(xl(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=nc(jc(r/e));i<r;)a[o++]=si(t,i,i+=e);return a}function ia(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function oa(){var t=arguments.length;if(!t)return[];for(var e=nc(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return g(vh(n)?Fi(n):[n],hr(e,1))}function aa(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===it?1:xl(e),si(t,e<0?0:e,r)):[]}function sa(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===it?1:xl(e),e=r-e,si(t,0,e<0?0:e)):[]}function la(t,e){return t&&t.length?vi(t,xo(e,3),!0,!0):[]}function ua(t,e){return t&&t.length?vi(t,xo(e,3),!0):[]}function ca(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Do(t,e,n)&&(n=0,r=i),cr(t,e,n,r)):[]}function fa(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:xl(n);return i<0&&(i=qc(r+i,0)),E(t,xo(e,3),i)}function ha(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==it&&(i=xl(n),i=n<0?qc(r+i,0):Wc(i,r-1)),E(t,xo(e,3),i,!0)}function da(t){return(null==t?0:t.length)?hr(t,1):[]}function pa(t){return(null==t?0:t.length)?hr(t,Pt):[]}function ma(t,e){return(null==t?0:t.length)?(e=e===it?1:xl(e),hr(t,e)):[]}function ga(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function va(t){return t&&t.length?t[0]:it}function ya(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:xl(n);return i<0&&(i=qc(r+i,0)),M(t,e,i)}function ba(t){return(null==t?0:t.length)?si(t,0,-1):[]}function _a(t,e){return null==t?"":Gc.call(t,e)}function wa(t){var e=null==t?0:t.length;return e?t[e-1]:it}function xa(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==it&&(i=xl(n),i=i<0?qc(r+i,0):Wc(i,r-1)),e===e?J(t,e,i):E(t,T,i,!0)}function Ea(t,e){return t&&t.length?Wr(t,xl(e)):it}function Ma(t,e){return t&&t.length&&e&&e.length?Qr(t,e):t}function Sa(t,e,n){return t&&t.length&&e&&e.length?Qr(t,e,xo(n,2)):t}function Ta(t,e,n){return t&&t.length&&e&&e.length?Qr(t,e,it,n):t}function Ca(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=xo(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Jr(t,i),n}function Oa(t){return null==t?t:Kc.call(t)}function Aa(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Do(t,e,n)?(e=0,n=r):(e=null==e?0:xl(e),n=n===it?r:xl(n)),si(t,e,n)):[]}function Ia(t,e){return ui(t,e)}function Ra(t,e,n){return ci(t,e,xo(n,2))}function Pa(t,e){var n=null==t?0:t.length;if(n){var r=ui(t,e);if(r<n&&qs(t[r],e))return r}return-1}function La(t,e){return ui(t,e,!0)}function Na(t,e,n){return ci(t,e,xo(n,2),!0)}function ka(t,e){if(null==t?0:t.length){var n=ui(t,e,!0)-1;if(qs(t[n],e))return n}return-1}function Da(t){return t&&t.length?fi(t):[]}function Fa(t,e){return t&&t.length?fi(t,xo(e,2)):[]}function ja(t){var e=null==t?0:t.length;return e?si(t,1,e):[]}function Ua(t,e,n){return t&&t.length?(e=n||e===it?1:xl(e),si(t,0,e<0?0:e)):[]}function za(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===it?1:xl(e),e=r-e,si(t,e<0?0:e,r)):[]}function Ba(t,e){return t&&t.length?vi(t,xo(e,3),!1,!0):[]}function Va(t,e){return t&&t.length?vi(t,xo(e,3)):[]}function Ga(t){return t&&t.length?pi(t):[]}function Ha(t,e){return t&&t.length?pi(t,xo(e,2)):[]}function qa(t,e){return e="function"==typeof e?e:it,t&&t.length?pi(t,it,e):[]}function Wa(t){if(!t||!t.length)return[];var e=0;return t=h(t,function(t){if(Ys(t))return e=qc(t.length,e),!0}),L(e,function(e){return m(t,O(e))})}function Ya(t,e){if(!t||!t.length)return[];var n=Wa(t);return null==e?n:m(n,function(t){return s(e,it,t)})}function Xa(t,e){return _i(t||[],e||[],qn)}function Za(t,e){return _i(t||[],e||[],oi)}function Ka(t){var e=n(t);return e.__chain__=!0,e}function Qa(t,e){return e(t),t}function Ja(t,e){return e(t)}function $a(){return Ka(this)}function ts(){return new i(this.value(),this.__chain__)}function es(){this.__values__===it&&(this.__values__=_l(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?it:this.__values__[this.__index__++]}}function ns(){return this}function rs(t){for(var e,n=this;n instanceof r;){var i=na(n);i.__index__=0,i.__values__=it,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e}function is(){var t=this.__wrapped__;if(t instanceof _){var e=t;return this.__actions__.length&&(e=new _(this)),e=e.reverse(),e.__actions__.push({func:Ja,args:[Oa],thisArg:it}),new i(e,this.__chain__)}return this.thru(Oa)}function os(){return yi(this.__wrapped__,this.__actions__)}function as(t,e,n){var r=vh(t)?f:lr;return n&&Do(t,e,n)&&(e=it),r(t,xo(e,3))}function ss(t,e){return(vh(t)?h:fr)(t,xo(e,3))}function ls(t,e){return hr(ps(t,e),1)}function us(t,e){return hr(ps(t,e),Pt)}function cs(t,e,n){return n=n===it?1:xl(n),hr(ps(t,e),n)}function fs(t,e){return(vh(t)?u:mf)(t,xo(e,3))}function hs(t,e){return(vh(t)?c:gf)(t,xo(e,3))}function ds(t,e,n,r){t=Ws(t)?t:$l(t),n=n&&!r?xl(n):0;var i=t.length;return n<0&&(n=qc(i+n,0)),ml(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&M(t,e,n)>-1}function ps(t,e){return(vh(t)?m:Br)(t,xo(e,3))}function ms(t,e,n,r){return null==t?[]:(vh(e)||(e=null==e?[]:[e]),n=r?it:n,vh(n)||(n=null==n?[]:[n]),Yr(t,e,n))}function gs(t,e,n){var r=vh(t)?v:I,i=arguments.length<3;return r(t,xo(e,4),n,i,mf)}function vs(t,e,n){var r=vh(t)?y:I,i=arguments.length<3;return r(t,xo(e,4),n,i,gf)}function ys(t,e){return(vh(t)?h:fr)(t,Ps(xo(e,3)))}function bs(t){return(vh(t)?Nn:ri)(t)}function _s(t,e,n){return e=(n?Do(t,e,n):e===it)?1:xl(e),(vh(t)?kn:ii)(t,e)}function ws(t){return(vh(t)?Fn:ai)(t)}function xs(t){if(null==t)return 0;if(Ws(t))return ml(t)?$(t):t.length;var e=Cf(t);return e==Zt||e==ee?t.size:jr(t).length}function Es(t,e,n){var r=vh(t)?b:li;return n&&Do(t,e,n)&&(e=it),r(t,xo(e,3))}function Ms(t,e){if("function"!=typeof e)throw new cc(st);return t=xl(t),function(){if(--t<1)return e.apply(this,arguments)}}function Ss(t,e,n){return e=n?it:e,e=t&&null==e?t.length:e,uo(t,Et,it,it,it,it,e)}function Ts(t,e){var n;if("function"!=typeof e)throw new cc(st);return t=xl(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=it),n}}function Cs(t,e,n){e=n?it:e;var r=uo(t,bt,it,it,it,it,it,e);return r.placeholder=Cs.placeholder,r}function Os(t,e,n){e=n?it:e;var r=uo(t,_t,it,it,it,it,it,e);return r.placeholder=Os.placeholder,r}function As(t,e,n){function r(e){var n=h,r=d;return h=d=it,y=e,m=t.apply(r,n)}function i(t){return y=t,g=If(s,e),b?r(t):m}function o(t){var n=t-v,r=t-y,i=e-n;return _?Wc(i,p-r):i}function a(t){var n=t-v,r=t-y;return v===it||n>=e||n<0||_&&r>=p}function s(){var t=oh();if(a(t))return l(t);g=If(s,o(t))}function l(t){return g=it,w&&h?r(t):(h=d=it,m)}function u(){g!==it&&xf(g),y=0,h=v=d=g=it}function c(){return g===it?m:l(oh())}function f(){var t=oh(),n=a(t);if(h=arguments,d=this,v=t,n){if(g===it)return i(v);if(_)return g=If(s,e),r(v)}return g===it&&(g=If(s,e)),m}var h,d,p,m,g,v,y=0,b=!1,_=!1,w=!0;if("function"!=typeof t)throw new cc(st);return e=Ml(e)||0,il(n)&&(b=!!n.leading,_="maxWait"in n,p=_?qc(Ml(n.maxWait)||0,e):p,w="trailing"in n?!!n.trailing:w),f.cancel=u,f.flush=c,f}function Is(t){return uo(t,St)}function Rs(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new cc(st);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Rs.Cache||un),n}function Ps(t){if("function"!=typeof t)throw new cc(st);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Ls(t){return Ts(2,t)}function Ns(t,e){if("function"!=typeof t)throw new cc(st);return e=e===it?e:xl(e),ni(t,e)}function ks(t,e){if("function"!=typeof t)throw new cc(st);return e=null==e?0:qc(xl(e),0),ni(function(n){var r=n[e],i=Mi(n,0,e);return r&&g(i,r),s(t,this,i)})}function Ds(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new cc(st);return il(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),As(t,e,{leading:r,maxWait:e,trailing:i})}function Fs(t){return Ss(t,1)}function js(t,e){return fh(xi(e),t)}function Us(){if(!arguments.length)return[];var t=arguments[0];return vh(t)?t:[t]}function zs(t){return rr(t,dt)}function Bs(t,e){return e="function"==typeof e?e:it,rr(t,dt,e)}function Vs(t){return rr(t,ft|dt)}function Gs(t,e){return e="function"==typeof e?e:it,rr(t,ft|dt,e)}function Hs(t,e){return null==e||or(t,e,zl(e))}function qs(t,e){return t===e||t!==t&&e!==e}function Ws(t){return null!=t&&rl(t.length)&&!el(t)}function Ys(t){return ol(t)&&Ws(t)}function Xs(t){return!0===t||!1===t||ol(t)&&yr(t)==Gt}function Zs(t){return ol(t)&&1===t.nodeType&&!dl(t)}function Ks(t){if(null==t)return!0;if(Ws(t)&&(vh(t)||"string"==typeof t||"function"==typeof t.splice||bh(t)||Mh(t)||gh(t)))return!t.length;var e=Cf(t);if(e==Zt||e==ee)return!t.size;if(Bo(t))return!jr(t).length;for(var n in t)if(gc.call(t,n))return!1;return!0}function Qs(t,e){return Ar(t,e)}function Js(t,e,n){n="function"==typeof n?n:it;var r=n?n(t,e):it;return r===it?Ar(t,e,it,n):!!r}function $s(t){if(!ol(t))return!1;var e=yr(t);return e==Wt||e==qt||"string"==typeof t.message&&"string"==typeof t.name&&!dl(t)}function tl(t){return"number"==typeof t&&Vc(t)}function el(t){if(!il(t))return!1;var e=yr(t);return e==Yt||e==Xt||e==Vt||e==$t}function nl(t){return"number"==typeof t&&t==xl(t)}function rl(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Lt}function il(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ol(t){return null!=t&&"object"==typeof t}function al(t,e){return t===e||Pr(t,e,Mo(e))}function sl(t,e,n){return n="function"==typeof n?n:it,Pr(t,e,Mo(e),n)}function ll(t){return hl(t)&&t!=+t}function ul(t){if(Of(t))throw new ic(at);return Lr(t)}function cl(t){return null===t}function fl(t){return null==t}function hl(t){return"number"==typeof t||ol(t)&&yr(t)==Kt}function dl(t){if(!ol(t)||yr(t)!=Jt)return!1;var e=Cc(t);if(null===e)return!0;var n=gc.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&mc.call(n)==_c}function pl(t){return nl(t)&&t>=-Lt&&t<=Lt}function ml(t){return"string"==typeof t||!vh(t)&&ol(t)&&yr(t)==ne}function gl(t){return"symbol"==typeof t||ol(t)&&yr(t)==re}function vl(t){return t===it}function yl(t){return ol(t)&&Cf(t)==oe}function bl(t){return ol(t)&&yr(t)==ae}function _l(t){if(!t)return[];if(Ws(t))return ml(t)?tt(t):Fi(t);if(Pc&&t[Pc])return q(t[Pc]());var e=Cf(t);return(e==Zt?W:e==ee?Z:$l)(t)}function wl(t){if(!t)return 0===t?t:0;if((t=Ml(t))===Pt||t===-Pt){return(t<0?-1:1)*Nt}return t===t?t:0}function xl(t){var e=wl(t),n=e%1;return e===e?n?e-n:e:0}function El(t){return t?nr(xl(t),0,Dt):0}function Ml(t){if("number"==typeof t)return t;if(gl(t))return kt;if(il(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=il(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ne,"");var n=qe.test(t);return n||Ye.test(t)?In(t.slice(2),n?2:8):He.test(t)?kt:+t}function Sl(t){return ji(t,Bl(t))}function Tl(t){return t?nr(xl(t),-Lt,Lt):0===t?t:0}function Cl(t){return null==t?"":di(t)}function Ol(t,e){var n=pf(t);return null==e?n:Jn(n,e)}function Al(t,e){return x(t,xo(e,3),dr)}function Il(t,e){return x(t,xo(e,3),pr)}function Rl(t,e){return null==t?t:vf(t,xo(e,3),Bl)}function Pl(t,e){return null==t?t:yf(t,xo(e,3),Bl)}function Ll(t,e){return t&&dr(t,xo(e,3))}function Nl(t,e){return t&&pr(t,xo(e,3))}function kl(t){return null==t?[]:mr(t,zl(t))}function Dl(t){return null==t?[]:mr(t,Bl(t))}function Fl(t,e,n){var r=null==t?it:gr(t,e);return r===it?n:r}function jl(t,e){return null!=t&&Ao(t,e,_r)}function Ul(t,e){return null!=t&&Ao(t,e,wr)}function zl(t){return Ws(t)?Pn(t):jr(t)}function Bl(t){return Ws(t)?Pn(t,!0):Ur(t)}function Vl(t,e){var n={};return e=xo(e,3),dr(t,function(t,r,i){tr(n,e(t,r,i),t)}),n}function Gl(t,e){var n={};return e=xo(e,3),dr(t,function(t,r,i){tr(n,r,e(t,r,i))}),n}function Hl(t,e){return ql(t,Ps(xo(e)))}function ql(t,e){if(null==t)return{};var n=m(bo(t),function(t){return[t]});return e=xo(e),Zr(t,n,function(t,n){return e(t,n[0])})}function Wl(t,e,n){e=Ei(e,t);var r=-1,i=e.length;for(i||(i=1,t=it);++r<i;){var o=null==t?it:t[$o(e[r])];o===it&&(r=i,o=n),t=el(o)?o.call(t):o}return t}function Yl(t,e,n){return null==t?t:oi(t,e,n)}function Xl(t,e,n,r){return r="function"==typeof r?r:it,null==t?t:oi(t,e,n,r)}function Zl(t,e,n){var r=vh(t),i=r||bh(t)||Mh(t);if(e=xo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:il(t)&&el(o)?pf(Cc(t)):{}}return(i?u:dr)(t,function(t,r,i){return e(n,t,r,i)}),n}function Kl(t,e){return null==t||mi(t,e)}function Ql(t,e,n){return null==t?t:gi(t,e,xi(n))}function Jl(t,e,n,r){return r="function"==typeof r?r:it,null==t?t:gi(t,e,xi(n),r)}function $l(t){return null==t?[]:D(t,zl(t))}function tu(t){return null==t?[]:D(t,Bl(t))}function eu(t,e,n){return n===it&&(n=e,e=it),n!==it&&(n=Ml(n),n=n===n?n:0),e!==it&&(e=Ml(e),e=e===e?e:0),nr(Ml(t),e,n)}function nu(t,e,n){return e=wl(e),n===it?(n=e,e=0):n=wl(n),t=Ml(t),xr(t,e,n)}function ru(t,e,n){if(n&&"boolean"!=typeof n&&Do(t,e,n)&&(e=n=it),n===it&&("boolean"==typeof e?(n=e,e=it):"boolean"==typeof t&&(n=t,t=it)),t===it&&e===it?(t=0,e=1):(t=wl(t),e===it?(e=t,t=0):e=wl(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Zc();return Wc(t+i*(e-t+An("1e-"+((i+"").length-1))),e)}return $r(t,e)}function iu(t){return Kh(Cl(t).toLowerCase())}function ou(t){return(t=Cl(t))&&t.replace(Ze,Wn).replace(gn,"")}function au(t,e,n){t=Cl(t),e=di(e);var r=t.length;n=n===it?r:nr(xl(n),0,r);var i=n;return(n-=e.length)>=0&&t.slice(n,i)==e}function su(t){return t=Cl(t),t&&Me.test(t)?t.replace(xe,Yn):t}function lu(t){return t=Cl(t),t&&Le.test(t)?t.replace(Pe,"\\$&"):t}function uu(t,e,n){t=Cl(t),e=xl(e);var r=e?$(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return no(Uc(i),n)+t+no(jc(i),n)}function cu(t,e,n){t=Cl(t),e=xl(e);var r=e?$(t):0;return e&&r<e?t+no(e-r,n):t}function fu(t,e,n){t=Cl(t),e=xl(e);var r=e?$(t):0;return e&&r<e?no(e-r,n)+t:t}function hu(t,e,n){return n||null==e?e=0:e&&(e=+e),Xc(Cl(t).replace(ke,""),e||0)}function du(t,e,n){return e=(n?Do(t,e,n):e===it)?1:xl(e),ei(Cl(t),e)}function pu(){var t=arguments,e=Cl(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function mu(t,e,n){return n&&"number"!=typeof n&&Do(t,e,n)&&(e=n=it),(n=n===it?Dt:n>>>0)?(t=Cl(t),t&&("string"==typeof e||null!=e&&!xh(e))&&!(e=di(e))&&G(t)?Mi(tt(t),0,n):t.split(e,n)):[]}function gu(t,e,n){return t=Cl(t),n=null==n?0:nr(xl(n),0,t.length),e=di(e),t.slice(n,n+e.length)==e}function vu(t,e,r){var i=n.templateSettings;r&&Do(t,e,r)&&(e=it),t=Cl(t),e=Ah({},e,i,co);var o,a,s=Ah({},e.imports,i.imports,co),l=zl(s),u=D(s,l),c=0,f=e.interpolate||Ke,h="__p += '",d=lc((e.escape||Ke).source+"|"+f.source+"|"+(f===Ce?Ve:Ke).source+"|"+(e.evaluate||Ke).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++xn+"]")+"\n";t.replace(d,function(e,n,r,i,s,l){return r||(r=i),h+=t.slice(c,l).replace(Qe,B),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+e.length,e}),h+="';\n";var m=e.variable;m||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(ye,""):h).replace(be,"$1").replace(_e,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Qh(function(){return oc(l,p+"return "+h).apply(it,u)});if(g.source=h,$s(g))throw g;return g}function yu(t){return Cl(t).toLowerCase()}function bu(t){return Cl(t).toUpperCase()}function _u(t,e,n){if((t=Cl(t))&&(n||e===it))return t.replace(Ne,"");if(!t||!(e=di(e)))return t;var r=tt(t),i=tt(e);return Mi(r,j(r,i),U(r,i)+1).join("")}function wu(t,e,n){if((t=Cl(t))&&(n||e===it))return t.replace(De,"");if(!t||!(e=di(e)))return t;var r=tt(t);return Mi(r,0,U(r,tt(e))+1).join("")}function xu(t,e,n){if((t=Cl(t))&&(n||e===it))return t.replace(ke,"");if(!t||!(e=di(e)))return t;var r=tt(t);return Mi(r,j(r,tt(e))).join("")}function Eu(t,e){var n=Tt,r=Ct;if(il(e)){var i="separator"in e?e.separator:i;n="length"in e?xl(e.length):n,r="omission"in e?di(e.omission):r}t=Cl(t);var o=t.length;if(G(t)){var a=tt(t);o=a.length}if(n>=o)return t;var s=n-$(r);if(s<1)return r;var l=a?Mi(a,0,s).join(""):t.slice(0,s);if(i===it)return l+r;if(a&&(s+=l.length-s),xh(i)){if(t.slice(s).search(i)){var u,c=l;for(i.global||(i=lc(i.source,Cl(Ge.exec(i))+"g")),i.lastIndex=0;u=i.exec(c);)var f=u.index;l=l.slice(0,f===it?s:f)}}else if(t.indexOf(di(i),s)!=s){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r}function Mu(t){return t=Cl(t),t&&Ee.test(t)?t.replace(we,Xn):t}function Su(t,e,n){return t=Cl(t),e=n?it:e,e===it?H(t)?rt(t):w(t):t.match(e)||[]}function Tu(t){var e=null==t?0:t.length,n=xo();return t=e?m(t,function(t){if("function"!=typeof t[1])throw new cc(st);return[n(t[0]),t[1]]}):[],ni(function(n){for(var r=-1;++r<e;){var i=t[r];if(s(i[0],this,n))return s(i[1],this,n)}})}function Cu(t){return ir(rr(t,ft))}function Ou(t){return function(){return t}}function Au(t,e){return null==t||t!==t?e:t}function Iu(t){return t}function Ru(t){return Fr("function"==typeof t?t:rr(t,ft))}function Pu(t){return Vr(rr(t,ft))}function Lu(t,e){return Gr(t,rr(e,ft))}function Nu(t,e,n){var r=zl(e),i=mr(e,r);null!=n||il(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=mr(e,zl(e)));var o=!(il(n)&&"chain"in n&&!n.chain),a=el(t);return u(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Fi(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,g([this.value()],arguments))})}),t}function ku(){return Ln._===this&&(Ln._=wc),this}function Du(){}function Fu(t){return t=xl(t),ni(function(e){return Wr(e,t)})}function ju(t){return Fo(t)?O($o(t)):Kr(t)}function Uu(t){return function(e){return null==t?it:gr(t,e)}}function zu(){return[]}function Bu(){return!1}function Vu(){return{}}function Gu(){return""}function Hu(){return!0}function qu(t,e){if((t=xl(t))<1||t>Lt)return[];var n=Dt,r=Wc(t,Dt);e=xo(e),t-=Dt;for(var i=L(r,e);++n<t;)e(n);return i}function Wu(t){return vh(t)?m(t,$o):gl(t)?[t]:Fi(Pf(Cl(t)))}function Yu(t){var e=++vc;return Cl(t)+e}function Xu(t){return t&&t.length?ur(t,Iu,br):it}function Zu(t,e){return t&&t.length?ur(t,xo(e,2),br):it}function Ku(t){return C(t,Iu)}function Qu(t,e){return C(t,xo(e,2))}function Ju(t){return t&&t.length?ur(t,Iu,zr):it}function $u(t,e){return t&&t.length?ur(t,xo(e,2),zr):it}function tc(t){return t&&t.length?P(t,Iu):0}function ec(t,e){return t&&t.length?P(t,xo(e,2)):0}e=null==e?Ln:Zn.defaults(Ln.Object(),e,Zn.pick(Ln,wn));var nc=e.Array,rc=e.Date,ic=e.Error,oc=e.Function,ac=e.Math,sc=e.Object,lc=e.RegExp,uc=e.String,cc=e.TypeError,fc=nc.prototype,hc=oc.prototype,dc=sc.prototype,pc=e["__core-js_shared__"],mc=hc.toString,gc=dc.hasOwnProperty,vc=0,yc=function(){var t=/[^.]+$/.exec(pc&&pc.keys&&pc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),bc=dc.toString,_c=mc.call(sc),wc=Ln._,xc=lc("^"+mc.call(gc).replace(Pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ec=Dn?e.Buffer:it,Mc=e.Symbol,Sc=e.Uint8Array,Tc=Ec?Ec.allocUnsafe:it,Cc=Y(sc.getPrototypeOf,sc),Oc=sc.create,Ac=dc.propertyIsEnumerable,Ic=fc.splice,Rc=Mc?Mc.isConcatSpreadable:it,Pc=Mc?Mc.iterator:it,Lc=Mc?Mc.toStringTag:it,Nc=function(){try{var t=So(sc,"defineProperty");return t({},"",{}),t}catch(t){}}(),kc=e.clearTimeout!==Ln.clearTimeout&&e.clearTimeout,Dc=rc&&rc.now!==Ln.Date.now&&rc.now,Fc=e.setTimeout!==Ln.setTimeout&&e.setTimeout,jc=ac.ceil,Uc=ac.floor,zc=sc.getOwnPropertySymbols,Bc=Ec?Ec.isBuffer:it,Vc=e.isFinite,Gc=fc.join,Hc=Y(sc.keys,sc),qc=ac.max,Wc=ac.min,Yc=rc.now,Xc=e.parseInt,Zc=ac.random,Kc=fc.reverse,Qc=So(e,"DataView"),Jc=So(e,"Map"),$c=So(e,"Promise"),tf=So(e,"Set"),ef=So(e,"WeakMap"),nf=So(sc,"create"),rf=ef&&new ef,of={},af=ta(Qc),sf=ta(Jc),lf=ta($c),uf=ta(tf),cf=ta(ef),ff=Mc?Mc.prototype:it,hf=ff?ff.valueOf:it,df=ff?ff.toString:it,pf=function(){function t(){}return function(e){if(!il(e))return{};if(Oc)return Oc(e);t.prototype=e;var n=new t;return t.prototype=it,n}}();n.templateSettings={escape:Se,evaluate:Te,interpolate:Ce,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,i.prototype=pf(r.prototype),i.prototype.constructor=i,_.prototype=pf(r.prototype),_.prototype.constructor=_,nt.prototype.clear=ze,nt.prototype.delete=Je,nt.prototype.get=$e,nt.prototype.has=tn,nt.prototype.set=en,nn.prototype.clear=rn,nn.prototype.delete=on,nn.prototype.get=an,nn.prototype.has=sn,nn.prototype.set=ln,un.prototype.clear=cn,un.prototype.delete=fn,un.prototype.get=hn,un.prototype.has=dn,un.prototype.set=pn,vn.prototype.add=vn.prototype.push=yn,vn.prototype.has=bn,_n.prototype.clear=Sn,_n.prototype.delete=Tn,_n.prototype.get=Cn,_n.prototype.has=On,_n.prototype.set=Rn;var mf=Gi(dr),gf=Gi(pr,!0),vf=Hi(),yf=Hi(!0),bf=rf?function(t,e){return rf.set(t,e),t}:Iu,_f=Nc?function(t,e){return Nc(t,"toString",{configurable:!0,enumerable:!1,value:Ou(e),writable:!0})}:Iu,wf=ni,xf=kc||function(t){return Ln.clearTimeout(t)},Ef=tf&&1/Z(new tf([,-0]))[1]==Pt?function(t){return new tf(t)}:Du,Mf=rf?function(t){return rf.get(t)}:Du,Sf=zc?function(t){return null==t?[]:(t=sc(t),h(zc(t),function(e){return Ac.call(t,e)}))}:zu,Tf=zc?function(t){for(var e=[];t;)g(e,Sf(t)),t=Cc(t);return e}:zu,Cf=yr;(Qc&&Cf(new Qc(new ArrayBuffer(1)))!=le||Jc&&Cf(new Jc)!=Zt||$c&&"[object Promise]"!=Cf($c.resolve())||tf&&Cf(new tf)!=ee||ef&&Cf(new ef)!=oe)&&(Cf=function(t){var e=yr(t),n=e==Jt?t.constructor:it,r=n?ta(n):"";if(r)switch(r){case af:return le;case sf:return Zt;case lf:return"[object Promise]";case uf:return ee;case cf:return oe}return e});var Of=pc?el:Bu,Af=Qo(bf),If=Fc||function(t,e){return Ln.setTimeout(t,e)},Rf=Qo(_f),Pf=function(t){var e=Rs(t,function(t){return n.size===ut&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return Ie.test(t)&&e.push(""),t.replace(Re,function(t,n,r,i){e.push(r?i.replace(Be,"$1"):n||t)}),e}),Lf=ni(function(t,e){return Ys(t)?sr(t,hr(e,1,Ys,!0)):[]}),Nf=ni(function(t,e){var n=wa(e);return Ys(n)&&(n=it),Ys(t)?sr(t,hr(e,1,Ys,!0),xo(n,2)):[]}),kf=ni(function(t,e){var n=wa(e);return Ys(n)&&(n=it),Ys(t)?sr(t,hr(e,1,Ys,!0),it,n):[]}),Df=ni(function(t){var e=m(t,wi);return e.length&&e[0]===t[0]?Er(e):[]}),Ff=ni(function(t){var e=wa(t),n=m(t,wi);return e===wa(n)?e=it:n.pop(),n.length&&n[0]===t[0]?Er(n,xo(e,2)):[]}),jf=ni(function(t){var e=wa(t),n=m(t,wi);return e="function"==typeof e?e:it,e&&n.pop(),n.length&&n[0]===t[0]?Er(n,it,e):[]}),Uf=ni(Ma),zf=vo(function(t,e){var n=null==t?0:t.length,r=er(t,e);return Jr(t,m(e,function(t){return ko(t,n)?+t:t}).sort(Li)),r}),Bf=ni(function(t){return pi(hr(t,1,Ys,!0))}),Vf=ni(function(t){var e=wa(t);return Ys(e)&&(e=it),pi(hr(t,1,Ys,!0),xo(e,2))}),Gf=ni(function(t){var e=wa(t);return e="function"==typeof e?e:it,pi(hr(t,1,Ys,!0),it,e)}),Hf=ni(function(t,e){return Ys(t)?sr(t,e):[]}),qf=ni(function(t){return bi(h(t,Ys))}),Wf=ni(function(t){var e=wa(t);return Ys(e)&&(e=it),bi(h(t,Ys),xo(e,2))}),Yf=ni(function(t){var e=wa(t);return e="function"==typeof e?e:it,bi(h(t,Ys),it,e)}),Xf=ni(Wa),Zf=ni(function(t){var e=t.length,n=e>1?t[e-1]:it;return n="function"==typeof n?(t.pop(),n):it,Ya(t,n)}),Kf=vo(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return er(e,t)};return!(e>1||this.__actions__.length)&&r instanceof _&&ko(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:Ja,args:[o],thisArg:it}),new i(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(it),t})):this.thru(o)}),Qf=Bi(function(t,e,n){gc.call(t,n)?++t[n]:tr(t,n,1)}),Jf=Ki(fa),$f=Ki(ha),th=Bi(function(t,e,n){gc.call(t,n)?t[n].push(e):tr(t,n,[e])}),eh=ni(function(t,e,n){var r=-1,i="function"==typeof e,o=Ws(t)?nc(t.length):[];return mf(t,function(t){o[++r]=i?s(e,t,n):Sr(t,e,n)}),o}),nh=Bi(function(t,e,n){tr(t,n,e)}),rh=Bi(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),ih=ni(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Do(t,e[0],e[1])?e=[]:n>2&&Do(e[0],e[1],e[2])&&(e=[e[0]]),Yr(t,hr(e,1),[])}),oh=Dc||function(){return Ln.Date.now()},ah=ni(function(t,e,n){var r=gt;if(n.length){var i=X(n,wo(ah));r|=wt}return uo(t,r,e,n,i)}),sh=ni(function(t,e,n){var r=gt|vt;if(n.length){var i=X(n,wo(sh));r|=wt}return uo(e,r,t,n,i)}),lh=ni(function(t,e){return ar(t,1,e)}),uh=ni(function(t,e,n){return ar(t,Ml(e)||0,n)});Rs.Cache=un;var ch=wf(function(t,e){e=1==e.length&&vh(e[0])?m(e[0],k(xo())):m(hr(e,1),k(xo()));var n=e.length;return ni(function(r){for(var i=-1,o=Wc(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return s(t,this,r)})}),fh=ni(function(t,e){var n=X(e,wo(fh));return uo(t,wt,it,e,n)}),hh=ni(function(t,e){var n=X(e,wo(hh));return uo(t,xt,it,e,n)}),dh=vo(function(t,e){return uo(t,Mt,it,it,it,e)}),ph=oo(br),mh=oo(function(t,e){return t>=e}),gh=Tr(function(){return arguments}())?Tr:function(t){return ol(t)&&gc.call(t,"callee")&&!Ac.call(t,"callee")},vh=nc.isArray,yh=Un?k(Un):Cr,bh=Bc||Bu,_h=zn?k(zn):Or,wh=Bn?k(Bn):Rr,xh=Vn?k(Vn):Nr,Eh=Gn?k(Gn):kr,Mh=Hn?k(Hn):Dr,Sh=oo(zr),Th=oo(function(t,e){return t<=e}),Ch=Vi(function(t,e){if(Bo(e)||Ws(e))return void ji(e,zl(e),t);for(var n in e)gc.call(e,n)&&qn(t,n,e[n])}),Oh=Vi(function(t,e){ji(e,Bl(e),t)}),Ah=Vi(function(t,e,n,r){ji(e,Bl(e),t,r)}),Ih=Vi(function(t,e,n,r){ji(e,zl(e),t,r)}),Rh=vo(er),Ph=ni(function(t){return t.push(it,co),s(Ah,it,t)}),Lh=ni(function(t){return t.push(it,fo),s(jh,it,t)}),Nh=$i(function(t,e,n){t[e]=n},Ou(Iu)),kh=$i(function(t,e,n){gc.call(t,e)?t[e].push(n):t[e]=[n]},xo),Dh=ni(Sr),Fh=Vi(function(t,e,n){Hr(t,e,n)}),jh=Vi(function(t,e,n,r){Hr(t,e,n,r)}),Uh=vo(function(t,e){var n={};if(null==t)return n;var r=!1;e=m(e,function(e){return e=Ei(e,t),r||(r=e.length>1),e}),ji(t,bo(t),n),r&&(n=rr(n,ft|ht|dt,ho));for(var i=e.length;i--;)mi(n,e[i]);return n}),zh=vo(function(t,e){return null==t?{}:Xr(t,e)}),Bh=lo(zl),Vh=lo(Bl),Gh=Yi(function(t,e,n){return e=e.toLowerCase(),t+(n?iu(e):e)}),Hh=Yi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),qh=Yi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Wh=Wi("toLowerCase"),Yh=Yi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Xh=Yi(function(t,e,n){return t+(n?" ":"")+Kh(e)}),Zh=Yi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Kh=Wi("toUpperCase"),Qh=ni(function(t,e){try{return s(t,it,e)}catch(t){return $s(t)?t:new ic(t)}}),Jh=vo(function(t,e){return u(e,function(e){e=$o(e),tr(t,e,ah(t[e],t))}),t}),$h=Qi(),td=Qi(!0),ed=ni(function(t,e){return function(n){return Sr(n,t,e)}}),nd=ni(function(t,e){return function(n){return Sr(t,n,e)}}),rd=eo(m),id=eo(f),od=eo(b),ad=io(),sd=io(!0),ld=to(function(t,e){return t+e},0),ud=so("ceil"),cd=to(function(t,e){return t/e},1),fd=so("floor"),hd=to(function(t,e){return t*e},1),dd=so("round"),pd=to(function(t,e){return t-e},0);return n.after=Ms,n.ary=Ss,n.assign=Ch,n.assignIn=Oh,n.assignInWith=Ah,n.assignWith=Ih,n.at=Rh,n.before=Ts,n.bind=ah,n.bindAll=Jh,n.bindKey=sh,n.castArray=Us,n.chain=Ka,n.chunk=ra,n.compact=ia,n.concat=oa,n.cond=Tu,n.conforms=Cu,n.constant=Ou,n.countBy=Qf,n.create=Ol,n.curry=Cs,n.curryRight=Os,n.debounce=As,n.defaults=Ph,n.defaultsDeep=Lh,n.defer=lh,n.delay=uh,n.difference=Lf,n.differenceBy=Nf,n.differenceWith=kf,n.drop=aa,n.dropRight=sa,n.dropRightWhile=la,n.dropWhile=ua,n.fill=ca,n.filter=ss,n.flatMap=ls,n.flatMapDeep=us,n.flatMapDepth=cs,n.flatten=da,n.flattenDeep=pa,n.flattenDepth=ma,n.flip=Is,n.flow=$h,n.flowRight=td,n.fromPairs=ga,n.functions=kl,n.functionsIn=Dl,n.groupBy=th,n.initial=ba,n.intersection=Df,n.intersectionBy=Ff,n.intersectionWith=jf,n.invert=Nh,n.invertBy=kh,n.invokeMap=eh,n.iteratee=Ru,n.keyBy=nh,n.keys=zl,n.keysIn=Bl,n.map=ps,n.mapKeys=Vl,n.mapValues=Gl,n.matches=Pu,n.matchesProperty=Lu,n.memoize=Rs,n.merge=Fh,n.mergeWith=jh,n.method=ed,n.methodOf=nd,n.mixin=Nu,n.negate=Ps,n.nthArg=Fu,n.omit=Uh,n.omitBy=Hl,n.once=Ls,n.orderBy=ms,n.over=rd,n.overArgs=ch,n.overEvery=id,n.overSome=od,n.partial=fh,n.partialRight=hh,n.partition=rh,n.pick=zh,n.pickBy=ql,n.property=ju,n.propertyOf=Uu,n.pull=Uf,n.pullAll=Ma,n.pullAllBy=Sa,n.pullAllWith=Ta,n.pullAt=zf,n.range=ad,n.rangeRight=sd,n.rearg=dh,n.reject=ys,n.remove=Ca,n.rest=Ns,n.reverse=Oa,n.sampleSize=_s,n.set=Yl,n.setWith=Xl,n.shuffle=ws,n.slice=Aa,n.sortBy=ih,n.sortedUniq=Da,n.sortedUniqBy=Fa,n.split=mu,n.spread=ks,n.tail=ja,n.take=Ua,n.takeRight=za,n.takeRightWhile=Ba,n.takeWhile=Va,n.tap=Qa,n.throttle=Ds,n.thru=Ja,n.toArray=_l,n.toPairs=Bh,n.toPairsIn=Vh,n.toPath=Wu,n.toPlainObject=Sl,n.transform=Zl,n.unary=Fs,n.union=Bf,n.unionBy=Vf,n.unionWith=Gf,n.uniq=Ga,n.uniqBy=Ha,n.uniqWith=qa,n.unset=Kl,n.unzip=Wa,n.unzipWith=Ya,n.update=Ql,n.updateWith=Jl,n.values=$l,n.valuesIn=tu,n.without=Hf,n.words=Su,n.wrap=js,n.xor=qf,n.xorBy=Wf,n.xorWith=Yf,n.zip=Xf,n.zipObject=Xa,n.zipObjectDeep=Za,n.zipWith=Zf,n.entries=Bh,n.entriesIn=Vh,n.extend=Oh,n.extendWith=Ah,Nu(n,n),n.add=ld,n.attempt=Qh,n.camelCase=Gh,n.capitalize=iu,n.ceil=ud,n.clamp=eu,n.clone=zs,n.cloneDeep=Vs,n.cloneDeepWith=Gs,n.cloneWith=Bs,n.conformsTo=Hs,n.deburr=ou,n.defaultTo=Au,n.divide=cd,n.endsWith=au,n.eq=qs,n.escape=su,n.escapeRegExp=lu,n.every=as,n.find=Jf,n.findIndex=fa,n.findKey=Al,n.findLast=$f,n.findLastIndex=ha,n.findLastKey=Il,n.floor=fd,n.forEach=fs,n.forEachRight=hs,n.forIn=Rl,n.forInRight=Pl,n.forOwn=Ll,n.forOwnRight=Nl,n.get=Fl,n.gt=ph,n.gte=mh,n.has=jl,n.hasIn=Ul,n.head=va,n.identity=Iu,n.includes=ds,n.indexOf=ya,n.inRange=nu,n.invoke=Dh,n.isArguments=gh,n.isArray=vh,n.isArrayBuffer=yh,n.isArrayLike=Ws,n.isArrayLikeObject=Ys,n.isBoolean=Xs,n.isBuffer=bh,n.isDate=_h,n.isElement=Zs,n.isEmpty=Ks,n.isEqual=Qs,n.isEqualWith=Js,n.isError=$s,n.isFinite=tl,n.isFunction=el,n.isInteger=nl,n.isLength=rl,n.isMap=wh,n.isMatch=al,n.isMatchWith=sl,n.isNaN=ll,n.isNative=ul,n.isNil=fl,n.isNull=cl,n.isNumber=hl,n.isObject=il,n.isObjectLike=ol,n.isPlainObject=dl,n.isRegExp=xh,n.isSafeInteger=pl,n.isSet=Eh,n.isString=ml,n.isSymbol=gl,n.isTypedArray=Mh,n.isUndefined=vl,n.isWeakMap=yl,n.isWeakSet=bl,n.join=_a,n.kebabCase=Hh,n.last=wa,n.lastIndexOf=xa,n.lowerCase=qh,n.lowerFirst=Wh,n.lt=Sh,n.lte=Th,n.max=Xu,n.maxBy=Zu,n.mean=Ku,n.meanBy=Qu,n.min=Ju,n.minBy=$u,n.stubArray=zu,n.stubFalse=Bu,n.stubObject=Vu,n.stubString=Gu,n.stubTrue=Hu,n.multiply=hd,n.nth=Ea,n.noConflict=ku,n.noop=Du,n.now=oh,n.pad=uu,n.padEnd=cu,n.padStart=fu,n.parseInt=hu,n.random=ru,n.reduce=gs,n.reduceRight=vs,n.repeat=du,n.replace=pu,n.result=Wl,n.round=dd,n.runInContext=t,n.sample=bs,n.size=xs,n.snakeCase=Yh,n.some=Es,n.sortedIndex=Ia,n.sortedIndexBy=Ra,n.sortedIndexOf=Pa,n.sortedLastIndex=La,n.sortedLastIndexBy=Na,n.sortedLastIndexOf=ka,n.startCase=Xh,n.startsWith=gu,n.subtract=pd,n.sum=tc,n.sumBy=ec,n.template=vu,n.times=qu,n.toFinite=wl,n.toInteger=xl,n.toLength=El,n.toLower=yu,n.toNumber=Ml,n.toSafeInteger=Tl,n.toString=Cl,n.toUpper=bu,n.trim=_u,n.trimEnd=wu,n.trimStart=xu,n.truncate=Eu,n.unescape=Mu,n.uniqueId=Yu,n.upperCase=Zh,n.upperFirst=Kh,n.each=fs,n.eachRight=hs,n.first=va,Nu(n,function(){var t={};return dr(n,function(e,r){gc.call(n.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),n.VERSION="4.17.4",u(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),u(["drop","take"],function(t,e){_.prototype[t]=function(n){n=n===it?1:qc(xl(n),0);var r=this.__filtered__&&!e?new _(this):this.clone();return r.__filtered__?r.__takeCount__=Wc(n,r.__takeCount__):r.__views__.push({size:Wc(n,Dt),type:t+(r.__dir__<0?"Right":"")}),r},_.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),u(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==It||3==n;_.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:xo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),u(["head","last"],function(t,e){var n="take"+(e?"Right":"");_.prototype[t]=function(){return this[n](1).value()[0]}}),u(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");_.prototype[t]=function(){return this.__filtered__?new _(this):this[n](1)}}),_.prototype.compact=function(){return this.filter(Iu)},_.prototype.find=function(t){return this.filter(t).head()},_.prototype.findLast=function(t){return this.reverse().find(t)},_.prototype.invokeMap=ni(function(t,e){return"function"==typeof t?new _(this):this.map(function(n){return Sr(n,t,e)})}),_.prototype.reject=function(t){return this.filter(Ps(xo(t)))},_.prototype.slice=function(t,e){t=xl(t);var n=this;return n.__filtered__&&(t>0||e<0)?new _(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==it&&(e=xl(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},_.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},_.prototype.toArray=function(){return this.take(Dt)},dr(_.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),a=n[o?"take"+("last"==e?"Right":""):e],s=o||/^find/.test(e);a&&(n.prototype[e]=function(){var e=this.__wrapped__,l=o?[1]:arguments,u=e instanceof _,c=l[0],f=u||vh(e),h=function(t){var e=a.apply(n,g([t],l));return o&&d?e[0]:e};f&&r&&"function"==typeof c&&1!=c.length&&(u=f=!1);var d=this.__chain__,p=!!this.__actions__.length,m=s&&!d,v=u&&!p;if(!s&&f){e=v?e:new _(this);var y=t.apply(e,l);return y.__actions__.push({func:Ja,args:[h],thisArg:it}),new i(y,d)}return m&&v?t.apply(this,l):(y=this.thru(h),m?o?y.value()[0]:y.value():y)})}),u(["pop","push","shift","sort","splice","unshift"],function(t){var e=fc[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var n=this.value();return e.apply(vh(n)?n:[],t)}return this[r](function(n){return e.apply(vh(n)?n:[],t)})}}),dr(_.prototype,function(t,e){var r=n[e];if(r){var i=r.name+"";(of[i]||(of[i]=[])).push({name:e,func:r})}}),of[Ji(it,vt).name]=[{name:"wrapper",func:it}],_.prototype.clone=A,_.prototype.reverse=Q,_.prototype.value=et,n.prototype.at=Kf,n.prototype.chain=$a,n.prototype.commit=ts,n.prototype.next=es,n.prototype.plant=rs,n.prototype.reverse=is,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=os,n.prototype.first=n.prototype.head,Pc&&(n.prototype[Pc]=ns),n}();Ln._=Zn,(i=function(){return Zn}.call(e,n,e,r))!==it&&(r.exports=i)}).call(this)}).call(e,n(37),n(120)(t))},function(t,e,n){t.exports=n(988)},function(t,e,n){var r=n(32);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports={default:n(948),__esModule:!0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.utils=e.Well=e.Tooltip=e.ToggleButtonGroup=e.ToggleButton=e.Thumbnail=e.Tabs=e.TabPane=e.Table=e.TabContent=e.TabContainer=e.Tab=e.SplitButton=e.SafeAnchor=e.Row=e.ResponsiveEmbed=e.Radio=e.ProgressBar=e.Popover=e.PanelGroup=e.Panel=e.PaginationButton=e.Pagination=e.Pager=e.PageItem=e.PageHeader=e.OverlayTrigger=e.Overlay=e.NavItem=e.NavDropdown=e.NavbarBrand=e.Navbar=e.Nav=e.ModalTitle=e.ModalHeader=e.ModalFooter=e.ModalBody=e.Modal=e.MenuItem=e.Media=e.ListGroupItem=e.ListGroup=e.Label=e.Jumbotron=e.InputGroup=e.Image=e.HelpBlock=e.Grid=e.Glyphicon=e.FormGroup=e.FormControl=e.Form=e.Fade=e.DropdownButton=e.Dropdown=e.Collapse=e.Col=e.ControlLabel=e.CloseButton=e.Clearfix=e.Checkbox=e.CarouselItem=e.Carousel=e.ButtonToolbar=e.ButtonGroup=e.Button=e.BreadcrumbItem=e.Breadcrumb=e.Badge=e.Alert=e.Accordion=void 0;var i=n(1202),o=r(i),a=n(1203),s=r(a),l=n(1204),u=r(l),c=n(1205),f=r(c),h=n(525),d=r(h),p=n(206),m=r(p),g=n(355),v=r(g),y=n(1206),b=r(y),_=n(1207),w=r(_),x=n(526),E=r(x),M=n(1210),S=r(M),T=n(1211),C=r(T),O=n(354),A=r(O),I=n(1212),R=r(I),P=n(1213),L=r(P),N=n(357),k=r(N),D=n(258),F=r(D),j=n(1224),U=r(j),z=n(261),B=r(z),V=n(1225),G=r(V),H=n(1226),q=r(H),W=n(1229),Y=r(W),X=n(356),Z=r(X),K=n(535),Q=r(K),J=n(1230),$=r(J),tt=n(1231),et=r(tt),nt=n(1232),rt=r(nt),it=n(1235),ot=r(it),at=n(1236),st=r(at),lt=n(1237),ut=r(lt),ct=n(536),ft=r(ct),ht=n(262),dt=r(ht),pt=n(1244),mt=r(pt),gt=n(1245),vt=r(gt),yt=n(541),bt=r(yt),_t=n(542),wt=r(_t),xt=n(543),Et=r(xt),Mt=n(544),St=r(Mt),Tt=n(545),Ct=r(Tt),Ot=n(1261),At=r(Ot),It=n(546),Rt=r(It),Pt=n(1265),Lt=r(Pt),Nt=n(547),kt=r(Nt),Dt=n(548),Ft=r(Dt),jt=n(1272),Ut=r(jt),zt=n(1273),Bt=r(zt),Vt=n(1274),Gt=r(Vt),Ht=n(1276),qt=r(Ht),Wt=n(1277),Yt=r(Wt),Xt=n(552),Zt=r(Xt),Kt=n(1278),Qt=r(Kt),Jt=n(524),$t=r(Jt),te=n(1279),ee=r(te),ne=n(1280),re=r(ne),ie=n(1281),oe=r(ie),ae=n(1282),se=r(ae),le=n(1283),ue=r(le),ce=n(103),fe=r(ce),he=n(1284),de=r(he),pe=n(1286),me=r(pe),ge=n(360),ve=r(ge),ye=n(361),be=r(ye),_e=n(1287),we=r(_e),xe=n(553),Ee=r(xe),Me=n(1288),Se=r(Me),Te=n(1289),Ce=r(Te),Oe=n(554),Ae=r(Oe),Ie=n(1290),Re=r(Ie),Pe=n(1291),Le=r(Pe),Ne=n(1292),ke=r(Ne),De=n(1293),Fe=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(De);e.Accordion=o.default,e.Alert=s.default,e.Badge=u.default,e.Breadcrumb=f.default,e.BreadcrumbItem=d.default,e.Button=m.default,e.ButtonGroup=v.default,e.ButtonToolbar=b.default,e.Carousel=w.default,e.CarouselItem=E.default,e.Checkbox=S.default,e.Clearfix=C.default,e.CloseButton=A.default,e.ControlLabel=R.default,e.Col=L.default,e.Collapse=k.default,e.Dropdown=F.default,e.DropdownButton=U.default,e.Fade=B.default,e.Form=G.default,e.FormControl=q.default,e.FormGroup=Y.default,e.Glyphicon=Z.default,e.Grid=Q.default,e.HelpBlock=$.default,e.Image=et.default,e.InputGroup=rt.default,e.Jumbotron=ot.default,e.Label=st.default,e.ListGroup=ut.default,e.ListGroupItem=ft.default,e.Media=dt.default,e.MenuItem=mt.default,e.Modal=vt.default,e.ModalBody=bt.default,e.ModalFooter=wt.default,e.ModalHeader=Et.default,e.ModalTitle=St.default,e.Nav=Ct.default,e.Navbar=At.default,e.NavbarBrand=Rt.default,e.NavDropdown=Lt.default,e.NavItem=kt.default,e.Overlay=Ft.default,e.OverlayTrigger=Ut.default,e.PageHeader=Bt.default,e.PageItem=Gt.default,e.Pager=qt.default,e.Pagination=Yt.default,e.PaginationButton=Zt.default,e.Panel=Qt.default,e.PanelGroup=$t.default,e.Popover=ee.default,e.ProgressBar=re.default,e.Radio=oe.default,e.ResponsiveEmbed=se.default,e.Row=ue.default,e.SafeAnchor=fe.default,e.SplitButton=de.default,e.Tab=me.default,e.TabContainer=ve.default,e.TabContent=be.default,e.Table=we.default,e.TabPane=Ee.default,e.Tabs=Se.default,e.Thumbnail=Ce.default,e.ToggleButton=Ae.default,e.ToggleButtonGroup=Re.default,e.Tooltip=Le.default,e.Well=ke.default,e.utils=Fe},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.5.2"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";function r(t,e,n){return e in t?p()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){return function(){var e=t.apply(this,arguments);return new h.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return h.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"LOAD_USER_PROFILE",function(){return x}),n.d(e,"SET_PROFILE_CONFIG",function(){return E}),n.d(e,"SET_PROFILE_GLOBAL",function(){return M}),n.d(e,"REMOVE_PROFILE_CONFIG",function(){return S}),n.d(e,"UserProfileGlobalKeys",function(){return T}),n.d(e,"UserProfileConfigKeys",function(){return C}),n.d(e,"loadUserProfile",function(){return I}),n.d(e,"setProfileConfig",function(){return D}),n.d(e,"setProfileGlobal",function(){return F}),n.d(e,"removeProfileConfig",function(){return j}),n.d(e,"ActionTypes",function(){return U});var o=n(61),a=n.n(o),s=n(17),l=n.n(s),u=n(21),c=n.n(u),f=n(19),h=n.n(f),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(16),y=(n.n(v),n(63)),b=n(209),_=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w=this,x="@@userprofile/LOAD_USER_PROFILE",E="@@userprofile/SET_PROFILE_CONFIG",M="@@userprofile/SET_PROFILE_GLOBAL",S="@@userprofile/REMOVE_PROFILE_CONFIG",T={LOCALE:"locale",MAP_SHOW_SCALE_BAR:"mapShowScaleBar",MAP_SHOW_ZOOM_SLIDER:"mapShowZoomSlider",OPACITY:"opacity"},C={BASE_LAYER:"baseLayer",LAYER_SETTINGS:"layerSettings",SEARCH_HISTORY:"searchHistory",STARTUP_EXTENT:"startupExtent",USER_SRS:"userSrs",MAX_WINDOWS:"maxWindows",RECENT_URLS:"recentUrls"},O=function(){var t=i(c.a.mark(function t(e,n,r,i,o){var a,s,l,u,f;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(y.b)(),s=e+n+"/"+r.replace(/\//g,"_")+(i?"/"+i.replace(/\//g,"_"):""),l=new Request(s,{method:n,headers:new Headers(a),mode:"cors",body:o}),t.next=5,fetch(l);case 5:if(u=t.sent,u.ok){t.next=9;break}return f="Loading user profile "+s+" failed with status code "+u.status+". Message: "+u.statusText,t.abrupt("return",new Error(f));case 9:return t.abrupt("return",u);case 10:case"end":return t.stop()}},t,w)}));return function(e,n,r,i,o){return t.apply(this,arguments)}}(),A=Object(v.createAction)(x,function(){var t=i(c.a.mark(function t(e,n,i,o,s,u,f){var h,d,p,m,g,v,y,x,E,M,S,A,I,R,P,L,N,k,D,F,j,U,z;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(h={},d={},p=void 0,!o){t.next=39;break}if(!i){t.next=24;break}if(!n){t.next=15;break}return t.next=8,O(e,"get",n,i);case 8:return p=t.sent,t.next=11,p.text();case 11:m=t.sent,h=r({},i,m),t.next=22;break;case 15:return t.next=17,O(e,"get","global",i);case 17:return p=t.sent,t.next=20,p.text();case 20:g=t.sent,h=r({},i,g);case 22:t.next=37;break;case 24:return t.next=26,O(e,"get","global",i);case 26:return p=t.sent,t.next=29,p.json();case 29:if(d=t.sent,"global"===n){t.next=37;break}return t.next=33,O(e,"get",n,i);case 33:return p=t.sent,t.next=36,p.json();case 36:h=t.sent;case 37:t.next=85;break;case 39:if(!i){t.next=43;break}n?(v=b.a.getItem(n+"/"+i))&&(h[i]=v):(y=b.a.getItem(i))&&(d[i]=y),t.next=85;break;case 43:if(s!==n){t.next=84;break}for(x=!0,E=!1,M=void 0,t.prev=47,S=l()(a()(T));!(x=(A=S.next()).done);x=!0)I=A.value,(R=b.a.getItem(I))&&(d[I]=R);t.next=55;break;case 51:t.prev=51,t.t0=t.catch(47),E=!0,M=t.t0;case 55:t.prev=55,t.prev=56,!x&&S.return&&S.return();case 58:if(t.prev=58,!E){t.next=61;break}throw M;case 61:return t.finish(58);case 62:return t.finish(55);case 63:for(P=!0,L=!1,N=void 0,t.prev=66,k=l()(a()(C));!(P=(D=k.next()).done);P=!0)F=D.value,(j=b.a.getItem(n+"/"+F))&&(h[F]=j);t.next=74;break;case 70:t.prev=70,t.t1=t.catch(66),L=!0,N=t.t1;case 74:t.prev=74,t.prev=75,!P&&k.return&&k.return();case 77:if(t.prev=77,!L){t.next=80;break}throw N;case 80:return t.finish(77);case 81:return t.finish(74);case 82:t.next=85;break;case 84:u&&n&&(U=b.a.getItem(n+"/"+u))&&(h[u]=U,z=void 0,z=0===U.length||""===U?[]:JSON.parse(U),z.forEach(function(t){if(t){var e=f?t[f]:t,r=b.a.getItem(n+"/"+e);h[e]=r}}));case 85:return t.abrupt("return",_({},d,h));case 86:case"end":return t.stop()}},t,w,[[47,51,55,63],[56,,58,62],[66,70,74,82],[75,,77,81]])}));return function(e,n,r,i,o,a,s){return t.apply(this,arguments)}}()),I=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments[4],a=arguments[5];return function(){var s=i(c.a.mark(function i(s,l){var u,f,h,d,p,m;return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return u=l().config,f=u.isApi,h=u.config,d=void 0,d=r?!f&&h.application.userProfileOnline:r,p=d?h.services.userProfile.onlineResource:void 0,m=t+(e?"/"+e:""),i.abrupt("return",s(A(p,m,n,d,h.configId,o,a)));case 6:case"end":return i.stop()}},i,w)}));return function(t,e){return s.apply(this,arguments)}}()},R=function(){var t=i(c.a.mark(function t(e,n,r,i,o){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o?O(e,"post",n,r,i):b.a.setItem("global"===n?r:n+"/"+r,i);case 1:case"end":return t.stop()}},t,w)}));return function(e,n,r,i,o){return t.apply(this,arguments)}}(),P=Object(v.createAction)(E,function(){var t=i(c.a.mark(function t(e,n,r,i,o){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return R(e,n,r,i,o),t.abrupt("return",{configId:n,key:r,value:i});case 2:case"end":return t.stop()}},t,w)}));return function(e,n,r,i,o){return t.apply(this,arguments)}}()),L=function(){var t=i(c.a.mark(function t(e,n,r,i){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i?O(e,"post",n,r,""):b.a.removeItem("global"===n?r:n+"/"+r);case 1:case"end":return t.stop()}},t,w)}));return function(e,n,r,i){return t.apply(this,arguments)}}(),N=Object(v.createAction)(S,function(){var t=i(c.a.mark(function t(e,n,r,i){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return L(e,n,r,i),t.abrupt("return",{configId:n,key:r});case 2:case"end":return t.stop()}},t,w)}));return function(e,n,r,i){return t.apply(this,arguments)}}()),k=Object(v.createAction)(M,function(){var t=i(c.a.mark(function t(e,n,r,i){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return R(e,"global",n,r,i),t.abrupt("return",{key:n,value:r});case 2:case"end":return t.stop()}},t,w)}));return function(e,n,r,i){return t.apply(this,arguments)}}()),D=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(i,o){var a=o().config,s=a.isApi,l=a.configId,u=a.config,c=void 0;c=r?!s&&u.application.userProfileOnline:r;var f=c?u.services.userProfile.onlineResource:void 0;return i(P(f,l+(n?"/"+n:""),t,e,c))}},F=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(r,i){var o=i().config,a=o.isApi,s=o.config,l=void 0;l=n?!a&&s.application.userProfileOnline:n;var u=l?s.services.userProfile.onlineResource:void 0;return r(k(u,t,e,l))}},j=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(r,i){var o=i().config,a=o.isApi,s=o.configId,l=o.config,u=void 0;u=n?!a&&l.application.userProfileOnline:n;var c=u?l.services.userProfile.onlineResource:void 0;return r(N(c,s+(e?"/"+e:""),t,u))}},U={LOAD_USER_PROFILE:x,SET_PROFILE_CONFIG:E,SET_PROFILE_GLOBAL:M,REMOVE_PROFILE_CONFIG:S};e.default={loadUserProfile:I,setProfileConfig:D,setProfileGlobal:F,removeProfileConfig:j}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.connect=e.connectAdvanced=e.createProvider=e.Provider=void 0;var i=n(1191),o=r(i),a=n(521),s=r(a),l=n(1194),u=r(l);e.Provider=o.default,e.createProvider=i.createProvider,e.connectAdvanced=s.default,e.connect=u.default},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){t.exports={default:n(945),__esModule:!0}},function(t,e,n){"use strict";var r=n(0),i=(n.n(r),n(15));n.n(i);e.a=Object(i.injectIntl)(r.Component)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";var r=n(165);n.d(e,"d",function(){return r.a}),n.d(e,"e",function(){return r.b}),n.d(e,"g",function(){return r.c});var i=n(923);n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return i.b});var o=n(454);n.d(e,"c",function(){return o.a}),n.d(e,"f",function(){return o.b})},function(t,e,n){var r,i;!function(o,a){"use strict";r=a,void 0!==(i="function"==typeof r?r.call(e,n,e,t):r)&&(t.exports=i)}(0,function(){"use strict";function t(t,e){var n=t[e];if("function"==typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch(e){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function e(e){return"debug"===e&&(e="log"),typeof console!==s&&(void 0!==console[e]?t(console,e):void 0!==console.log?t(console,"log"):a)}function n(t,e){for(var n=0;n<l.length;n++){var r=l[n];this[r]=n<t?a:this.methodFactory(r,t,e)}this.log=this.debug}function r(t,e,r){return function(){typeof console!==s&&(n.call(this,e,r),this[t].apply(this,arguments))}}function i(t,n,i){return e(t)||r.apply(this,arguments)}function o(t,e,r){function o(t){var e=(l[t]||"silent").toUpperCase();if(typeof window!==s){try{return void(window.localStorage[f]=e)}catch(t){}try{window.document.cookie=encodeURIComponent(f)+"="+e+";"}catch(t){}}}function a(){var t;if(typeof window!==s){try{t=window.localStorage[f]}catch(t){}if(typeof t===s)try{var e=window.document.cookie,n=e.indexOf(encodeURIComponent(f)+"=");-1!==n&&(t=/^([^;]+)/.exec(e.slice(n))[1])}catch(t){}return void 0===c.levels[t]&&(t=void 0),t}}var u,c=this,f="loglevel";t&&(f+=":"+t),c.name=t,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=r||i,c.getLevel=function(){return u},c.setLevel=function(e,r){if("string"==typeof e&&void 0!==c.levels[e.toUpperCase()]&&(e=c.levels[e.toUpperCase()]),!("number"==typeof e&&e>=0&&e<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+e;if(u=e,!1!==r&&o(e),n.call(c,e,t),typeof console===s&&e<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(t){a()||c.setLevel(t,!1)},c.enableAll=function(t){c.setLevel(c.levels.TRACE,t)},c.disableAll=function(t){c.setLevel(c.levels.SILENT,t)};var h=a();null==h&&(h=null==e?"WARN":e),c.setLevel(h,!1)}var a=function(){},s="undefined",l=["trace","debug","info","warn","error"],u=new o,c={};u.getLogger=function(t){if("string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=c[t];return e||(e=c[t]=new o(t,u.getLevel(),u.methodFactory)),e};var f=typeof window!==s?window.log:void 0;return u.noConflict=function(){return typeof window!==s&&window.log===u&&(window.log=f),u},u.getLoggers=function(){return c},u})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r,i){var a=t[e],l=void 0===a?"undefined":o(a);return s.default.isValidElement(a)?new Error("Invalid "+r+" `"+i+"` of type ReactElement supplied to `"+n+"`, expected an element type (a string or a ReactClass)."):"function"!==l&&"string"!==l?new Error("Invalid "+r+" `"+i+"` of value `"+a+"` supplied to `"+n+"`, expected an element type (a string or a ReactClass)."):null}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(0),s=r(a),l=n(254),u=r(l);e.default=(0,u.default)(i),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.compose=e.applyMiddleware=e.bindActionCreators=e.combineReducers=e.createStore=void 0;var i=n(507),o=r(i),a=n(1143),s=r(a),l=n(1144),u=r(l),c=n(1145),f=r(c),h=n(509),d=r(h),p=n(508);r(p);e.createStore=o.default,e.combineReducers=s.default,e.bindActionCreators=u.default,e.applyMiddleware=f.default,e.compose=d.default},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(221)("wks"),i=n(129),o=n(25).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){var r=n(58),i=n(26),o=n(109),a=n(116),s=function(t,e,n){var l,u,c,f=t&s.F,h=t&s.G,d=t&s.S,p=t&s.P,m=t&s.B,g=t&s.W,v=h?i:i[e]||(i[e]={}),y=v.prototype,b=h?r:d?r[e]:(r[e]||{}).prototype;h&&(n=e);for(l in n)(u=!f&&b&&void 0!==b[l])&&l in v||(c=u?b[l]:n[l],v[l]=h&&"function"!=typeof b[l]?n[l]:m&&u?o(c,r):g&&b[l]==c?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):p&&"function"==typeof c?o(Function.call,c):c,p&&((v.virtual||(v.virtual={}))[l]=c,t&s.R&&y&&!y[l]&&a(y,l,c)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e,n){t.exports={default:n(929),__esModule:!0}},function(t,e,n){"use strict";n.d(e,"b",function(){return y}),n.d(e,"c",function(){return b}),n.d(e,"a",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"m",function(){return x}),n.d(e,"l",function(){return E}),n.d(e,"n",function(){return M}),n.d(e,"h",function(){return S}),n.d(e,"g",function(){return T}),n.d(e,"o",function(){return O}),n.d(e,"k",function(){return I}),n.d(e,"j",function(){return L}),n.d(e,"f",function(){return N}),n.d(e,"e",function(){return k});var r=n(77),i=n.n(r),o=n(23),a=n.n(o),s=n(17),l=n.n(s),u=n(69),c=n.n(u),f=n(18),h=n.n(f),d=n(250),p=n(20),m=n.n(p),g=n(165),v=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=l()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(a()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=.3048006096012192,b=1/y,_=2,w={METERS:"m",FEET:"ft",USFEET:"us-ft",DEGREES:"degrees",UNKNOWN:"?"},x=function(t){switch(t){case"m":case"ft":case"us-ft":return 2;case"degrees":return 6;case"?":default:return 6}},E=function(t){var e=c.a.defs(t),n=e&&e.units||"?";return x(n)},M=function(t){var e=t?c.a.defs(t):null,n=e&&"none"!==e.datumCode?e.units:"?",r="degrees"===n?"m":n;return{xyUnits:n,heightUnits:r,precisionUnits:r}},S=function(t,e,n){return t!==e&&i()(n)?"m"===t&&"ft"===e?n*b:"ft"===t&&"m"===e?n*y:n:n},T=function(t,e){if(!Array.isArray(e))return e;var n=v(e,2),r=(n[0],n[1]),i=t,o=t,a=i/(6378137*Math.cos(Object(g.b)(r))),s=o/6378137;return{dLon:Object(g.a)(a),dLat:Object(g.a)(s)}},C=function(t){return t.SRSName+" - "+t.Name},O=function(t){return"string"==typeof t&&""!==t&&/^EPSG:[0-9]+$/.test(t)},A=function(t){var e=void 0;return/^[0-9]+$/.test(t)&&(e="EPSG:"+t),e},I=function(t){var e=void 0;if(t){var n=m.a.parseInt(t);if(m.a.isNumber(n)&&m.a.isFinite(n))e={type:"epsg",properties:{code:n}};else{if(!m.a.isString(t))throw Error("UNKNOWN SRS TYPE");e={type:"name",properties:{name:t}}}}return e},R=function(t,e){var n=t.find(function(t){return t.Name.replace(/_/g," ")===e.replace(/_/g," ")});return n&&O(n.SRSName)?n.SRSName:n},P=function(t,e){var n=t.find(function(t){return t.SRSName===e.toUpperCase()});return n&&O(n.SRSName)?n.SRSName:n},L=function(t){var e=Object(d.a)().getState(),n=e.srs.srs,r=void 0;return t&&(r=m.a.isNumber(m.a.parseInt(t))&&m.a.isFinite(m.a.parseInt(t))?P(n,A(m.a.parseInt(t))):"string"==typeof t&&O(t.toUpperCase())?P(n,t):R(n,t)),r||(r=e.srs.userSrs),r},N=function(t,e){var n=void 0;return t&&("name"===t.type?n=t.properties.name:"EPSG"===t.type&&(n="EPSG:"+t.properties.code)),!n&&e&&(n=e),n},k=function(t,e){var n=void 0;return t&&("name"===t.type?n=h.a.proj.get(t.properties.name):"EPSG"===t.type?n=h.a.proj.get("EPSG:"+t.properties.code):h.a.asserts.assert(!1,36)),!n&&e&&(n=e),n};e.i={getPrecision:E,getUnitsForSrs:M,formatSrsName:C,formatCRS:I,findProjection:L,checkOLProjection:k,METRIC_PRECISION:2,DEGREE_PRECISION:_,LON_LAT_PRECISION:6,Units:w}},function(t,e,n){t.exports=!n(29)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(22),i=n(400),o=n(95),a=Object.defineProperty;e.f=n(42)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(97),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=2*Math.PI,i=n(185);t.exports=function(t){return Math.abs(t)<=3.14159265359?t:t-i(t)*r}},function(t,e,n){"use strict";function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(t){return null!=t}).reduce(function(t,e){if("function"!=typeof e)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===t?e:function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r),e.apply(this,r)}},null)}e.__esModule=!0,e.default=r,t.exports=e.default},function(t,e,n){var r=n(96);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new f.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return f.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"OBSERVATION_LIMIT",function(){return tt}),n.d(e,"MeasureMethod",function(){return et}),n.d(e,"SHOW_TYPE_SELECTION_MODAL",function(){return nt}),n.d(e,"HIDE_TYPE_SELECTION_MODAL",function(){return rt}),n.d(e,"SET_MEASUREMENT_CHANGED",function(){return it}),n.d(e,"SET_MEASURE_METHOD",function(){return ot}),n.d(e,"SELECT_BEST_MEASURE_METHOD",function(){return at}),n.d(e,"ADD_MEASUREMENT",function(){return st}),n.d(e,"REMOVE_MEASUREMENT_ITEM",function(){return lt}),n.d(e,"INCREASE_PENDING_MEASUREMENTS_COUNT",function(){return ut}),n.d(e,"DECREASE_PENDING_MEASUREMENTS_COUNT",function(){return ct}),n.d(e,"MEASURE_POINT",function(){return ft}),n.d(e,"ADD_MEASUREMENT_POINT",function(){return ht}),n.d(e,"UPDATE_MEASUREMENT_POINT",function(){return dt}),n.d(e,"REMOVE_MEASUREMENT_POINT",function(){return pt}),n.d(e,"SET_MEASUREMENT_DIMENSION",function(){return mt}),n.d(e,"SET_ACTIVE_MEASUREMENT_ID",function(){return gt}),n.d(e,"UPDATE_MEASUREMENT_NAME",function(){return vt}),n.d(e,"UPDATE_MEASUREMENT_OBSERVATION_LINES",function(){return yt}),n.d(e,"UPDATE_MEASUREMENT_ACTIVE_OBSERVATION",function(){return bt}),n.d(e,"SAVE_MEASUREMENT",function(){return _t}),n.d(e,"IMPORT_MEASUREMENT",function(){return wt}),n.d(e,"SET_INSERT_POINT_INDEX",function(){return xt}),n.d(e,"UPDATE_HEIGHT_SLIDER",function(){return Et}),n.d(e,"UPDATE_MEASUREMENT_ATTRIBUTE",function(){return Mt}),n.d(e,"REMOVE_MEASUREMENT_ATTRIBUTE",function(){return St}),n.d(e,"showTypeSelectionModal",function(){return Tt}),n.d(e,"hideTypeSelectionModal",function(){return Ct}),n.d(e,"setMeasurementChanged",function(){return Ot}),n.d(e,"setMeasureMethod",function(){return At}),n.d(e,"selectBestMeasureMethod",function(){return It}),n.d(e,"addMeasurementPoint",function(){return Lt}),n.d(e,"setMeasurementDimension",function(){return Nt}),n.d(e,"updateHeightSlider",function(){return kt}),n.d(e,"updateMeasurementAttribute",function(){return Dt}),n.d(e,"MEASUREMENT_INDEX",function(){return Ft}),n.d(e,"MEASUREMENT_GROUP",function(){return jt}),n.d(e,"addMeasurement",function(){return Ut}),n.d(e,"removeMeasurement",function(){return zt}),n.d(e,"setInsertPointIndex",function(){return Bt}),n.d(e,"setInsertPointIndexToLast",function(){return Vt}),n.d(e,"addPoint",function(){return Gt}),n.d(e,"updateActiveMeasurement",function(){return Ht}),n.d(e,"removeMeasurementPoint",function(){return qt}),n.d(e,"determineNewPointNeeded",function(){return Kt}),n.d(e,"removeObservation",function(){return $t}),n.d(e,"readMeasurements",function(){return ne}),n.d(e,"getActiveMeasurement",function(){return re}),n.d(e,"updateMeasurementName",function(){return ie}),n.d(e,"updateMeasurementObservationLines",function(){return oe}),n.d(e,"updateMeasurementActiveObservation",function(){return ae}),n.d(e,"saveMeasurement",function(){return se}),n.d(e,"importMeasurement",function(){return le}),n.d(e,"readMeasurementById",function(){return ue}),n.d(e,"measurePoint",function(){return ce}),n.d(e,"initSmartClickClient",function(){return fe}),n.d(e,"getMeasurementsWithGeoJSON",function(){return he}),n.d(e,"isJsonStringCorrect",function(){return de}),n.d(e,"exportMeasurementsToCSV",function(){return pe}),n.d(e,"exportMeasurementsToShapes",function(){return me}),n.d(e,"ActionTypes",function(){return ge});var i=n(40),o=n.n(i),a=n(21),s=n.n(a),l=n(76),u=n.n(l),c=n(19),f=n.n(c),h=n(23),d=n.n(h),p=n(17),m=n.n(p),g=n(4),v=n.n(g),y=n(50),b=n.n(y),w=n(54),x=n.n(w),E=n(555),M=(n.n(E),n(1302)),S=(n.n(M),n(1303)),T=n.n(S),C=n(34),O=n.n(C),A=n(102),I=n.n(A),R=n(69),P=n.n(R),L=n(20),N=(n.n(L),n(15)),k=(n.n(N),n(16)),D=(n.n(k),n(1337)),F=n(269),j=n(479),U=n(149),z=n(145),B=(n(211),n(165),n(575),n(1345)),V=n(71),G=n(63),H=n(89),q=n(27),W=(n(577),n(1351)),Y="function"==typeof x.a&&"symbol"==typeof b.a?function(t){return typeof t}:function(t){return t&&"function"==typeof x.a&&t.constructor===x.a&&t!==x.a.prototype?"symbol":typeof t},X=v.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=m()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(d()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),K=this,Q=Object(N.defineMessages)({pointFailed:{id:"measurements.pointFailed",description:"Message to show to user in flash message when adding a point fails",defaultMessage:"Failed to add measurement point! Reason:\n{reason}"},invalidObservationAdded:{id:"measurements.invalidObservationAdded",description:"Message to show to user in flash message when forward intersection fails",defaultMessage:"Invalid observation added"},measurementSaved:{id:"measurements.measurementSaved",description:"Message to show to user click to save the measurement",defaultMessage:"Measurement saved!"},insertFirstPoint:{id:"measurements.insertFirstPoint",description:"insert first point for measurement",defaultMessage:"Insert point 1"},insertPointBetween:{id:"measurements.insertPointBetween",description:"insert point between two other points",defaultMessage:"Insert point between"},and:{id:"measurements.and",description:"just `and`",defaultMessage:"and"}}),J=void 0,$=f.a.resolve(),tt=3,et={DEPTH_MAP:"DepthMap",SMART_CLICK:"SmartClick",AUTO_FOCUS:"AutoFocus",FORWARD_INTERSECTION:"ForwardIntersection"},nt="@@measurements/SHOW_TYPE_SELECTION_MODAL",rt="@@measurements/HIDE_TYPE_SELECTION_MODAL",it="@@measurements/SET_MEASUREMENT_CHANGED",ot="@@measurements/SET_MEASURE_METHOD",at="@@measurements/SELECT_BEST_MEASURE_METHOD",st="@@measurements/ADD_MEASUREMENT",lt="@@measurements/REMOVE_MEASUREMENT_ITEM",ut="@@measurements/INCREASE_PENDING_MEASUREMENTS_COUNT",ct="@@measurements/DECREASE_PENDING_MEASUREMENTS_COUNT",ft="@@measurements/MEASURE_POINT",ht="@@measurements/ADD_MEASUREMENT_POINT",dt="@@measurements/UPDATE_MEASUREMENT_POINT",pt="@@measurements/REMOVE_MEASUREMENT_POINT",mt="@@measurements/SET_MEASUREMENT_DIMENSION",gt="@@measurements/SET_ACTIVE_MEASUREMENT_ID",vt="@@measurements/UPDATE_MEASUREMENT_NAME",yt="@@measurements/UPDATE_MEASUREMENT_OBSERVATION_LINES",bt="@@measurements/UPDATE_MEASUREMENT_ACTIVE_OBSERVATION",_t="@@measurements/SAVE_MEASUREMENT",wt="@@measurements/IMPORT_MEASUREMENT",xt="@@measurements/SET_INSERT_POINT_INDEX",Et="@@measurements/UPDATE_HEIGHT_SLIDER",Mt="@@measurements/UPDATE_MEASUREMENT_ATTRIBUTE",St="@@measurements/REMOVE_MEASUREMENT_ATTRIBUTE",Tt=Object(k.createAction)(nt),Ct=Object(k.createAction)(rt),Ot=Object(k.createAction)(it),At=Object(k.createAction)(ot,function(t){return t}),It=Object(k.createAction)(at),Rt=Object(k.createAction)(ut),Pt=Object(k.createAction)(ct),Lt=Object(k.createAction)(ht,function(t){return t}),Nt=Object(k.createAction)(mt,function(t){return t}),kt=Object(k.createAction)(Et,function(t){return t}),Dt=Object(k.createAction)(Mt,function(t,e){return{uid:t,value:e}}),Ft="index",jt="measurement",Ut=function(t,e){return function(n,r){var i=r(),o=(i.measurements,i.srs);i.windowmanager,i.mapviewers;$=f.a.resolve();var a=o.userSrs;n(Object(k.createAction)(st,function(){return{measurementId:I()(),activeMeasurement:e,type:t,preciseCRS:a}})())}},zt=function(t){return function(e,n){e(Object(k.createAction)(lt)(t));var r=n().measurements.measurementList;e(q.default.removeProfileConfig(t,jt)),e(q.default.setProfileConfig(Ft,u()(r),jt))}},Bt=function(t){return function(e){e(Object(k.createAction)(xt)(t)),e(0===t?F.b.showMeasurementFeedbackMessage(Object(V.b)(Q.insertFirstPoint),{class:"success"}):F.b.showMeasurementFeedbackMessage(Object(V.b)(Q.insertPointBetween)+" "+t+" "+Object(V.b)(Q.and)+" "+(t+1),{class:"success"}))}},Vt=function(t){return function(e){e(Object(k.createAction)(xt)(t))}},Gt=function(t,e,n){return function(r,i){var o=i(),a=o.measurements.activeMeasurement.properties.preciseCRS,s=i(),l=s.measurements.activeMeasurement,u=P()(e,a,t);null===t[0]&&(u=[null,null,null]),l.properties.customGeometryType===z.a.HEIGHT&&0!==l.properties.measureDetails.length&&r(Object(k.createAction)(pt)(0)),r(Object(k.createAction)(ht,function(){return{coord:u,props:n}})()),r(Ot(!0))}},Ht=function(t,e){return function(n,r){var i=r(),o=i.measurements.activeMeasurement.properties,a=o.preciseCRS,s=o.measureDetails,l=o.customGeometryType,u=P()(t.srsName,a,t.coords);if(t.coords.includes(null)&&(u=[null,null,null]),n(Object(k.createAction)(dt)({coord:u,props:t.props,pointIndex:e})),s.length>e+1){var c=e+1;1===e&&l===z.a.ORTHOGONAL&&(c+=1),n(Object(k.createAction)(bt)({activeObservation:c}))}n(Ot(!0))}},qt=function(t){return function(e){e(Object(k.createAction)(pt)(t)),e(Ot(!0))}},Wt=function(t){return function(e,n){var r=n(),i=r.measurements.measurementId;t.catch(function(){}),$=$.then(function(){return t}).then(function(t){var r=t.coords,o=t.props,a=t.srsName;if(i===n().measurements.measurementId)return e(Pt()),e(Gt(r,a,o))}).catch(function(t){var r=i===n().measurements.measurementId;if(r&&e(Pt()),t){if(r){var o=void 0;o=t instanceof Error?t.type?t.name+": "+t.message+" ("+t.type+")":t.name+": "+t.message:t,e(F.b.showMeasurementFeedbackMessage(Object(V.b)(Q.pointFailed,{reason:o}),{class:"danger"}))}$.catch(function(){return O.a.debug("Final Point Fail Catch")}),$=f.a.resolve()}return f.a.reject()})}},Yt=function(){var t=r(s.a.mark(function t(e,n,r){var i,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=void 0,t.prev=1,i=r.getSmartMeasurePointDetails(n),t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(1),new B.a(B.a.REQUEST_ERROR,"Error while performing Measure Smart request: "+t.t0,{error:t.t0});case 8:if(i){t.next=10;break}throw new B.a(B.a.NO_RESULT);case 10:return o={measureDetails:{measureMethod:et.DEPTH_MAP,details:i}},t.abrupt("return",{coords:i.position,props:o});case 12:case"end":return t.stop()}},t,K,[[1,5]])}));return function(e,n,r){return t.apply(this,arguments)}}(),Xt=function(){var t=r(s.a.mark(function t(e,n){var r,i,o,a,l,u,c,f,h,d,p;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.imageId,i=n.srsName,o=Z(n.direction,3),a=o[0],l=o[1],u=o[2],c=void 0,t.prev=2,t.next=5,J.requestTriangulation(r,i,a,l,u);case 5:c=t.sent,t.next=11;break;case 8:throw t.prev=8,t.t0=t.catch(2),new B.b(B.b.REQUEST_ERROR,"Error while performing smart click request: "+t.t0,{error:t.t0});case 11:if(f=c.ScmResult,!(f.Confidence<0)){t.next=15;break}throw h=f.Message,new B.b(B.b.NO_RESULT,"Error while performing smart click request: "+h,{error:h});case 15:return d=[f.PositionX,f.PositionY,f.PositionZ],p={measureDetails:{measureMethod:et.SMART_CLICK,details:f}},t.abrupt("return",{coords:d,props:p});case 18:case"end":return t.stop()}},t,K,[[2,8]])}));return function(e,n){return t.apply(this,arguments)}}(),Zt=function(t,e,n){var r=n.props.recording,i=n.takeScreenShot(e[0],e[1]);return{DirectionX:t.direction[0],DirectionY:t.direction[1],DirectionZ:t.direction[2],GroundLevelOffset:r.groundLevelOffset,Id:t.imageId,MatchImage:i,Orientation:r.orientation/(2*Math.PI),PositionX:r.xyz[0],PositionY:r.xyz[1],PositionZ:r.xyz[2],StdOrientation:r.orientationPrecision,StdX:r.longitudePrecision,StdY:r.latitudePrecision,StdZ:r.heightPrecision,RecordedAt:r.recordedAt}},Kt=function(t,e){var n=Object(L.get)(t,"properties.observationLines.activeObservation",void 0);if(void 0===n||-1===n)return!0;var r=t.properties.measureDetails;return!r[n]||r[n].measureMethod===et.DEPTH_MAP||(t.properties.customGeometryType===z.a.HEIGHT&&(r[0].measureMethod===et.DEPTH_MAP||r[0].details.ResultDirections.ResultDirection.length>2)||r.length&&r[n]&&r[n].details&&r[n].details.ResultDirections.ResultDirection.map(function(t){return t.Id}).includes(e))},Qt=function(){return{details:{PositionX:null,PositionY:null,PositionZ:null,ResultDirections:{ResultDirection:[]}},measureMethod:et.FORWARD_INTERSECTION}},Jt=function(t){var e=[null,null,null],n=t.details.ResultDirections.ResultDirection;if(n.length>1){var r=Object(W.a)(n),i=r.p;e=i,t.details.PositionX=i[0],t.details.PositionY=i[1],t.details.PositionZ=i[2]}return{coords:e,props:t}},$t=function(t,e){return function(n,r){var i=r(),o=i.measurements.activeMeasurement,a=i.srs.userSrs,s=Object(L.cloneDeep)(o.properties.measureDetails[t]),l=s.details.ResultDirections.ResultDirection;l.splice(e,1);var u=void 0,c=void 0;if(0===l.length)return void n(qt(t));if(1===l.length)u=[null,null,null],s.details.PositionX=null,s.details.PositionY=null,s.details.PositionZ=null,c={details:s.details};else{var f=Jt(s);u=f.coords,c=f.props}c.measureMethod=et.FORWARD_INTERSECTION,n(Ht({props:{measureDetails:c},srsName:a,coords:u},t)),u.includes(null)&&o.properties.customGeometryType===z.a.HEIGHT&&n(kt(null)),n(Ot(!0))}},te=function(t){var e=t.properties,n=e.observationLines.activeObservation,r=e.measureDetails,i=r[n];return!!i&&i.details.ResultDirections.ResultDirection.length>=tt},ee=function(t,e,n,r,i){var o=r.props.activeMeasurement,a=o.properties.observationLines.activeObservation,s=Zt(e,n,r),l=Kt(o,e.imageId),u=void 0;if(l)u=Qt();else{if(te(o))return;u=_.cloneDeep(o.properties.measureDetails[a])}u.measureMethod=et.FORWARD_INTERSECTION,u.details.ResultDirections.ResultDirection.push(s);var c=void 0,f=void 0;try{var h=Jt(u);c=h.coords,f=h.props}catch(e){return void t(F.b.showMeasurementFeedbackMessage(Object(V.b)(Q.invalidObservationAdded),{class:"danger"}))}var d={props:{measureDetails:f},srsName:e.srsName,coords:c};t(l?Gt(d.coords,d.srsName,d.props):Ht(d,a))},ne=function(t){return function(e){e(q.default.loadUserProfile(t,jt,Ft))}},re=function(){return function(t,e){return e().measurements.activeMeasurement}},ie=function(t){var e=t.name;return function(t){t(Object(k.createAction)(vt,function(){return{name:e}})())}},oe=function(t){var e=t.activeObservation,n=t.recordingId,r=t.color,i=t.selectedMeasureMethod;return function(t){t(Object(k.createAction)(yt,function(){return{activeObservation:e,recordingId:n,color:r,selectedMeasureMethod:i}})())}},ae=function(t){var e=t.activeObservation;return function(t){t(Object(k.createAction)(bt,function(){return{activeObservation:e}})())}},se=function(){return function(t,e){t(Object(k.createAction)(_t,function(){return{}})());var n=e().measurements,r=n.activeMeasurement,i=n.measurementList,o={type:r.type,geometry:r.geometry,properties:X({},r.properties)};if(3===r.properties.dimension){var a=e().viewermanager.currentPanoramaWID,s=e().panoramaviewer.byId;o.lastPosition={recordingId:s[a].recording.id,orientation:X({},s[a].orientation)}}r.properties.heightWorldVector&&(o.properties.heightWorldVector=r.properties.heightWorldVector),i[i.map(function(t){return t.id}).indexOf(r.properties.id)].name=r.properties.name,t(q.default.setProfileConfig(r.properties.id,u()(o),jt)),t(q.default.setProfileConfig(Ft,u()(i),jt)),t(F.b.showMeasurementFeedbackMessage(Object(V.b)(Q.measurementSaved),{class:"success"})),t(Ot(!1))}},le=function(t){return function(e,n){var r=n().measurementattribute.attributes,i=t.properties.measurementAttributes;if(i){o()(i).forEach(function(t){r.forEach(function(e){e.name.trim()===t.trim()&&(i[e.uid]=i[e.name],delete i[e.name])})})}e(Object(k.createAction)(wt,function(){return t})());var a=n().measurements.measurementList;a[a.map(function(t){return t.id}).indexOf(t.properties.id)].name=t.properties.name,e(q.default.setProfileConfig(t.properties.id,u()(t),jt)),e(q.default.setProfileConfig(Ft,u()(a),jt))}},ue=function(t){return function(){var e=r(s.a.mark(function e(n,r){var i,a,l,u,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(k.createAction)(gt,function(){return t})()),i=r().config.configId,e.next=4,n(q.default.loadUserProfile(i,jt,t));case 4:a=r(),l=a.measurements.activeMeasurement.properties.measurementAttributes,u=a.measurementattribute.attributes,l&&(c=o()(l),c.forEach(function(t){var e=!1;u.forEach(function(n){n.uid===t&&(e=!0)}),e||n(Object(k.createAction)(St,function(){return t})())}));case 6:case"end":return e.stop()}},e,K)}));return function(t,n){return e.apply(this,arguments)}}()},ce=function(t,e,n){return function(r,i){var o=i().measurements,a=o.measureMethod,s=(o.activeMeasurement,void 0);switch(a){case et.DEPTH_MAP:if(!n)throw new B.a(B.a.CLIENT_NOT_INITIALIZED);r(Rt()),s=Yt(r,t,n);break;case et.SMART_CLICK:if(!J)throw new B.b(B.b.CLIENT_NOT_INITIALIZED);if(r(Rt()),!(s=Xt(r,t)))throw new B.b(B.b.NO_RELIABLE_RESULT);break;case et.FORWARD_INTERSECTION:return ee(r,t,e,n,i().measurements.geometryType);default:throw new B.c(B.c.NO_METHOD_AVAILABLE)}s=s.then(function(e){return X({},e,{srsName:t.srsName})}),r(Wt(s))}},fe=function(){return function(t,e){if(!J){var n=e().config,r=n.config;r.application.functionalities.includes(U.a.MeasureSmartClick)||O.a.warn("No Smart Click permissions");var i=n.apiKey,o=Object(G.b)(),a=r.services.smartClick.onlineResource,s={dataUri:a,withCredentials:!0,apiKey:i,authHeaders:o};J=new j.b(s)}}},he=function(){return function(){var t=r(s.a.mark(function t(e,n){var r,i,o,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),i=r.config.configId,t.next=3,e(q.default.loadUserProfile(i,jt,void 0,!0,Ft,"id"));case 3:return o=n(),a=o.measurements.measurementCollection,t.abrupt("return",a.features.map(function(t){return X({},t)}));case 5:case"end":return t.stop()}},t,K)}));return function(e,n){return t.apply(this,arguments)}}()},de=function(t){try{var e=JSON.parse(t);if(e&&"object"===(void 0===e?"undefined":Y(e)))return e}catch(t){}return!1},pe=function(){return function(){var t=r(s.a.mark(function t(e,n){var r,i,a,l,c,f,h;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(he());case 2:r=t.sent,i=new Date,a=i.getDate()+"-"+i.getMonth()+"-"+i.getFullYear(),l=r.length+"_measurements_"+a+".csv",c=n().measurementattribute.attributes,r.forEach(function(t){var e=t.properties.measurementAttributes;if(e){o()(e).forEach(function(t){c.forEach(function(n){n.uid===t&&(""!==e[n.uid].trim()&&(e[n.name]=e[n.uid]),delete e[n.uid])})})}}),f=Object(M.csvFormatRows)([["Name","JSON"]].concat(r.map(function(t){var e=u()(t);return de(e)?[t.properties.name,e]:[]}))),h=new Blob([f],{type:"text/plain;charset=utf-8"}),Object(E.saveAs)(h,l);case 11:case"end":return t.stop()}},t,K)}));return function(e,n){return t.apply(this,arguments)}}()},me=function(){return function(){var t=r(s.a.mark(function t(e,n){var r,i,a,l,u,c,f,h;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),i=r.srs.userSrs,a=r.measurementattribute.attributes,l=i.split(":")[1],u=new Request(Object(H.a)("./assets/prj/"+l+".prj"),{method:"GET"}),t.next=5,fetch(u);case 5:return c=t.sent,t.next=8,c.text();case 8:return f=t.sent,t.next=11,e(he());case 11:h=t.sent,h.forEach(function(t){var e=""+(t.properties.name?t.properties.name:t.properties.id),n=e.replace(/[\^#%&$*:<>?\/{|}"]/g,"_"),r={prj:f,filename:n},s={geometry:X({},t.geometry,{coordinates:t.properties.preciseGeometry.coordinates}),properties:X({},t.properties,t.properties.measurementAttributes)},l=t.properties.measurementAttributes;if(l){o()(l).forEach(function(t){a.forEach(function(e){e.uid===t&&(""!==s.properties[e.uid].trim()&&(s.properties[e.name]=s.properties[e.uid]),delete s.properties[e.uid])})})}var u=T.a.zip({type:"FeatureCollection",features:[s]},r),c=Object(D.a)(u,"application/zip");t.properties.preciseCRS===i&&Object(E.saveAs)(c,n+".zip")});case 13:case"end":return t.stop()}},t,K)}));return function(e,n){return t.apply(this,arguments)}}()};e.default={addPoint:Gt,determineNewPointNeeded:Kt,showTypeSelectionModal:Tt,hideTypeSelectionModal:Ct,setMeasurementChanged:Ot,setMeasureMethod:At,selectBestMeasureMethod:It,addMeasurementPoint:Lt,removeMeasurementPoint:qt,removeObservation:$t,addMeasurement:Ut,importMeasurement:le,removeMeasurement:zt,measurePoint:ce,initSmartClickClient:fe,setMeasurementDimension:Nt,updateMeasurementName:ie,updateMeasurementObservationLines:oe,updateMeasurementActiveObservation:ae,saveMeasurement:se,readMeasurements:ne,readMeasurementById:ue,exportMeasurementsToShapes:me,setInsertPointIndex:Bt,setInsertPointIndexToLast:Vt,exportMeasurementsToCSV:pe,getActiveMeasurement:re,updateHeightSlider:kt,updateMeasurementAttribute:Dt};var ge={SHOW_TYPE_SELECTION_MODAL:nt,HIDE_TYPE_SELECTION_MODAL:rt,SET_MEASUREMENT_CHANGED:it,SET_MEASURE_METHOD:ot,SELECT_BEST_MEASURE_METHOD:at,ADD_MEASUREMENT:st,REMOVE_MEASUREMENT_ITEM:lt,INCREASE_PENDING_MEASUREMENTS_COUNT:ut,DECREASE_PENDING_MEASUREMENTS_COUNT:ct,MEASURE_POINT:ft,ADD_MEASUREMENT_POINT:ht,UPDATE_MEASUREMENT_POINT:dt,REMOVE_MEASUREMENT_POINT:pt,SET_MEASUREMENT_DIMENSION:mt,UPDATE_MEASUREMENT_NAME:vt,UPDATE_MEASUREMENT_OBSERVATION_LINES:yt,UPDATE_MEASUREMENT_ACTIVE_OBSERVATION:bt,SAVE_MEASUREMENT:_t,IMPORT_MEASUREMENT:wt,SET_ACTIVE_MEASUREMENT_ID:gt,SET_INSERT_POINT_INDEX:xt,UPDATE_HEIGHT_SLIDER:Et,UPDATE_MEASUREMENT_ATTRIBUTE:Mt,REMOVE_MEASUREMENT_ATTRIBUTE:St}},function(t,e,n){e.glMatrix=n(108),e.mat2=n(855),e.mat2d=n(856),e.mat3=n(307),e.mat4=n(857),e.quat=n(858),e.vec2=n(235),e.vec3=n(100),e.vec4=n(435)},function(t,e,n){t.exports={default:n(905),__esModule:!0}},function(t,e,n){t.exports={default:n(1e3),__esModule:!0}},function(t,e){t.exports=n},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return v()(t)}function i(t,e,n){return e in t?m()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){return function(){var e=t.apply(this,arguments);return new d.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return d.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ViewerError",function(){return ut}),n.d(e,"ViewerMode",function(){return ct}),n.d(e,"ViewerType",function(){return ft}),n.d(e,"PanoramaViewerOptions",function(){return ht}),n.d(e,"ObliqueViewerOptions",function(){return dt}),n.d(e,"SET_VIEWER_MODE",function(){return pt}),n.d(e,"SET_CURRENT_PANORAMA_WID",function(){return mt}),n.d(e,"TOGGLE_HELP",function(){return gt}),n.d(e,"TOGGLE_REPORT_BLURRING",function(){return vt}),n.d(e,"PANORAMA_EXTENT_SIZE",function(){return yt}),n.d(e,"setViewerMode",function(){return bt}),n.d(e,"setCurrentPanoramaWid",function(){return _t}),n.d(e,"centerMap",function(){return Mt}),n.d(e,"centerMapForRecording",function(){return St}),n.d(e,"openPanoramaViewerByCoordinate",function(){return Tt}),n.d(e,"openPanoramaViewerByImageId",function(){return Ct}),n.d(e,"openObliqueViewerByCoordinate",function(){return It}),n.d(e,"openObliqueViewerByImageId",function(){return Rt}),n.d(e,"openViewerByCoordinate",function(){return Pt}),n.d(e,"openViewerByExtent",function(){return Lt}),n.d(e,"openViewer",function(){return kt}),n.d(e,"enableMeasurementMode",function(){return jt}),n.d(e,"disableMeasurementMode",function(){return Ut}),n.d(e,"toggleHelp",function(){return zt}),n.d(e,"toggleReportBlurring",function(){return Bt}),n.d(e,"ActionTypes",function(){return Vt});var a=n(61),s=n.n(a),l=n(21),u=n.n(l),c=n(77),f=n.n(c),h=n(19),d=n.n(h),p=n(1),m=n.n(p),g=n(30),v=n.n(g),y=n(4),b=n.n(y),_=n(23),w=n.n(_),x=n(17),E=n.n(x),M=n(50),S=n.n(M),T=n(54),C=n.n(T),O=n(16),A=(n.n(O),n(15)),I=(n.n(A),n(102)),R=n.n(I),P=n(18),L=n.n(P),N=n(71),k=n(88),D=n(33),F=n(112),j=n(176),U=n(208),z=n(81),B=n(123),V=n(48),G=n(179),H=n(376),q=n(218),W=n(272),Y=n(373),X=n(273),Z=n(377),K=n(379),Q=n(274),J=n(596),$=n(105),tt=n(267),et=n(153),nt=n(219),rt=n(594),it="function"==typeof C.a&&"symbol"==typeof S.a?function(t){return typeof t}:function(t){return t&&"function"==typeof C.a&&t.constructor===C.a&&t!==C.a.prototype?"symbol":typeof t},ot=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=E()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(w()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),at=this,st=b.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lt=f.a,ut={NO_ADDRESS_CLIENT:"NoAddressClient",NO_ADDRESS_FOUND:"NoAddressFound",NO_SRS_PROVIDED:"NoSrsProvided",ADDRESS_CLIENT_ERROR:"AddressClientError",ADDRESS_NOT_A_POINT:"AddressNotAPoint",NO_RECORDING_LOADED:"NoRecordingLoaded"},ct={VIEWER:"@@ViewerMode/VIEWER",MEASUREMENT:"@@ViewerMode/MEASUREMENT"},ft={PANORAMA:"@@ViewerType/PANORAMA",OBLIQUE:"@@ViewerType/OBLIQUE",MAP:"@@ViewerType/MAP"},ht={},dt={},pt="@@viewermanager/SET_VIEWER_MODE",mt="@viewermanager/SET_CURRENT_PANORAMA_WID",gt="@@viewermanager/TOGGLE_HELP",vt="@@viewermanager/TOGGLE_REPORT_BLURRING",yt=25,bt=Object(O.createAction)(pt),_t=Object(O.createAction)(mt,function(t){return t}),wt=Object(A.defineMessages)({couldNotFindRecording:{id:"ObliqueViewer.couldNotFindRecording",description:"Flash message text when we could not find a suitable oblique recording",defaultMessage:"Could not find a suitable nearby oblique image!"},obliqueNotAllowed:{id:"viewermanager.obliqueNotAllowed",description:"Error message when opening oblique is not allowed",defaultMessage:"Not allowed to open oblique image: oblique not available or in measurement mode."},loadingRecordingsFailed:{id:"viewermanager.loadingRecordingsFailed",description:"Error message when recordings could not be loaded",defaultMessage:"Failed to load recordings!"},maxPanoramaViewersAreReached:{id:"viewermanager.maxPanoramaViewersAreReached",description:"Error maximum panorama viewers is reached",defaultMessage:"Maximum panorama viewers is reached!"}}),xt=function(t){var e=t(),n=e.viewermanager.viewerMode,r=e.config.config,i=r.services.obliqueLocation,o=r.map.obliqueLayers;return i&&o&&0!==o.length&&n!==ct.MEASUREMENT},Et=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=o(u.a.mark(function n(o,a){var l,c,h,d,p,m,g,v,y,b,_,w,x,E,M,S,T,C,O,A,I,P,k,U,B,V,H,q,W,Y,X,Z;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(c=a(),h=c.panoramaviewer,d=c.windowmanager,p=c.config.isApi,m=c.login,g="string"==typeof m.tidToken,v=e.openOblique,y=void 0===v?!p:v,b=e.panoramaOptions,_=e.obliqueOptions,w=st({replace:!0,pitch:0,hFov:K.a,navbarVisible:!0,recordingsVisible:!0,timeTravelVisible:!0},b),x=st({navbarVisible:!0,timeTravelVisible:!0},_),E=j.default.addPanoramaViewerWindow,M=z.default.addPanoramaViewer,S=z.default.updateRecording,T=z.default.updatePanoramaOrientation,C=z.default.updatePanoramaViewer,O=st({},Object($.a)(s()(et.a.buttons),{enabled:!0}),(l={},i(l,et.a.NAVBAR,{visible:!g&&w.navbarVisible,expanded:!g}),i(l,et.a.TIME_TRAVEL,{visible:!g&&w.timeTravelVisible,expanded:!g}),i(l,et.a.RECORDINGS,{visible:!g&&w.recordingsVisible}),i(l,et.a.MEASUREMENTS,{visible:!g}),i(l,et.a.ADDRESSES,{visible:!g}),l)),A=d.layout[tt.b.PANORAMAS],I=[],P=void 0,k=w.yaw,U=!1,(w.replace||A&&A.children.length>=d.maxLengthWindows)&&(!p||w.replace||A.children.length<d.maxLengthWindows?P=A&&A.children.length>0&&A.children[0]:U=!0),P?(0!==k&&(k=k||h.byId[P].orientation.yaw),o(S(P,t))):U||(P=R()(),o(M(P,{recording:t,ui:O})),o(E({id:P,childIndex:0,closable:w.closable,maximizable:w.maximizable,replace:w.replace})),B=G.default.initPanoramaViewerLayers,o(B(P)),lt(k)||(k=t.recorderDirection),lt(k)||(k=t.orientation)),U||(o(T(P,{yaw:k,pitch:w.pitch,hFov:w.hFov,xyz:t.xyz})),o(C(P,{viewerSettings:{brightness:100,contrast:100,opacity:1},ui:O})),I.push({wid:P,viewerType:ft.PANORAMA})),!y||!xt(a)){n.next=25;break}return V=t.xyz,H=t.srs,q=f()(k)?Object(D.d)(k):rt.a.NORTH,W=L.a.proj.transform(V,H,Q.a),Y=[W[0]-yt,W[1]-yt,W[0]+yt,W[1]+yt],n.next=23,o(It(V,H,{direction:q,viewExtent:Y,closable:x.closable,maximizable:x.maximizable,navbarVisible:x.navbarVisible,timeTravelVisible:x.timeTravelVisible})).catch(function(t){throw o(Object(F.showFlashMessage)(t.message,{style:"danger"})),new Error(t.message)});case 23:X=n.sent,X&&I.push.apply(I,r(X));case 25:if(!U){n.next=30;break}if(Z=Object(N.b)(wt.maxPanoramaViewersAreReached),o(Object(F.showFlashMessage)(Z,{style:"danger"})),y){n.next=30;break}throw new Error(Z);case 30:return n.abrupt("return",I);case 31:case"end":return n.stop()}},n,at)}));return function(t,e){return n.apply(this,arguments)}}()},Mt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,i){var o=U.b.setMapCenter,a=U.b.setMapZoomUsingRange,s=i(),l=s.config,u=s.mapviewers,c=s.windowmanager,f=c.layout[tt.b.MAPS],h=f&&f.children.length>0&&f.children[0];if(h in u.byId&&(r(o(h,t,e)),n)){r(a(h,l.config.map.featureZoomLevel))}}},St=function(t){return function(e,n){var r=t.xyz,i=t.srs,o=n(),a=o.windowmanager,s=o.mapviewers,l=a.layout[tt.b.MAPS],u=l&&l.children.length>0&&l.children[0],c=s.byId[u];if(c){var f=c.center,h=c.resolution,d=c.projection;if(lt(h)&&Object(k.i)(f)){var p=document.getElementById(u),m=p.offsetWidth,g=p.offsetHeight;r=L.a.proj.transform(r,i,d);var v=h*m/3,y=h*g/3,b=ot(f,2),_=b[0],w=b[1],x=[_-v,w-y,_+v,w+y];L.a.extent.containsCoordinate(x,r)||e(U.b.setMapCenter(u,r,d))}}}},Tt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{panoramaOptions:{},obliqueOptions:{}};return function(){var i=o(u.a.mark(function i(a){var s;return u.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return s=[],i.next=3,q.a.getRecordingsByRadius(t,e,100,{maxFeatures:1}).then(function(){var e=o(u.a.mark(function e(i){var o,l,c,f=ot(i,1),h=f[0];return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=st({},n),l=o,c=l.panoramaOptions,void 0===c.yaw&&(c=st({},c,{yaw:Object(k.m)(h.xyz,t)})),o=st({},n,{panoramaOptions:c}),e.t0=s.push,e.t1=s,e.t2=r,e.next=9,a(Et(h,o));case 9:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 12:case"end":return e.stop()}},e,at)}));return function(t){return e.apply(this,arguments)}}(),function(){throw new Error(Object(N.b)(wt.loadingRecordingsFailed))});case 3:return i.abrupt("return",s);case 4:case"end":return i.stop()}},i,at)}));return function(t){return i.apply(this,arguments)}}()},Ct=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=o(u.a.mark(function n(i,a){var s,l;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s=a().srs.userSrs,l=[],n.next=4,q.a.getRecordingById(t,s).then(function(){var t=o(u.a.mark(function t(n){var o,a,s=ot(n,1),c=s[0];return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=c.xyz,a=c.srs,t.t0=l.push,t.t1=l,t.t2=r,t.next=6,i(Et(c,e));case 6:t.t3=t.sent,t.t4=(0,t.t2)(t.t3),t.t0.apply.call(t.t0,t.t1,t.t4),i(Mt(o,a,!0));case 10:case"end":return t.stop()}},t,at)}));return function(e){return t.apply(this,arguments)}}(),function(){throw new Error(Object(N.b)(wt.loadingRecordingsFailed))});case 4:return n.abrupt("return",l);case 5:case"end":return n.stop()}},n,at)}));return function(t,e){return n.apply(this,arguments)}}()},Ot=function(t){return function(){var e=o(u.a.mark(function e(n,r){var o,a,l,c,f,h,d,p,m,g,v,y,b,_,w,x,E,M;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r(),l=a.login,c="string"==typeof l.tidToken,f=t.replace,h=void 0===f||f,d=t.maximizable,p=t.closable,m=t.navbarVisible,g=t.timeTravelVisible,v=st({},Object($.a)(s()(nt.a.buttons),{enabled:!0}),(o={},i(o,nt.a.NAVBAR,{visible:!c&&m,expanded:!c}),i(o,nt.a.TIME_TRAVEL,{visible:!c&&g}),o)),y=j.default.addObliqueViewerWindow,b=B.default.addObliqueViewer,_=B.default.updateObliqueViewer,w=void 0,h&&(x=r(),E=x.windowmanager,M=E.layout[tt.b.OBLIQUES],w=M&&M.children.length>0&&M.children[0]),w?n(_(w,st({},t,{ui:v}))):(w=R()(),n(b(w,st({},t,{ui:v}))),n(y({id:w,parentIndex:1,replace:!1,maximizable:d,closable:p}))),e.abrupt("return",{wid:w,viewerType:ft.OBLIQUE});case 10:case"end":return e.stop()}},e,at)}));return function(t,n){return e.apply(this,arguments)}}()},At=function(t,e){return function(){var n=o(u.a.mark(function n(r,i){var o,a,l,c,h,d,p,m,g,v,y,b,_,w,x,E,M,S;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=i(),a=o.obliqueviewer,l=e.multiple,c=e.maximizable,h=e.closable,d=e.navbarVisible,p=e.timeTravelVisible,m=e.coords||t.footprintCentre.getCoordinates(),g=t.worldVectorToPixel(m[0],m[1],f()(m[2])?m[2]:t.avgFootprintHeight),v=e.viewRotation,y=s()(a.byId)[0],b=[],_={brightness:100,contrast:100,opacity:1},y&&y.recording&&y.recording.imageId===t.imageId){n.next=16;break}return n.t0=b,n.next=12,r(Ot({recording:t,viewResolution:e.viewResolution,viewCenter:g,viewExtent:e.viewExtent,openNearestFromPixel:function(t,n,i,o,a){var s=st({},e,{replace:!0,multiple:!1,viewExtent:null},a,{year:t.year}),l=s.viewHeading;s.direction=Object(D.d)(l);var u=t.pixelToWorldVector(n,i,o);r(It(u,t.srs,st({},s,{currentImageId:t.imageId}))).catch(function(t){throw r(Object(F.showFlashMessage)(t.message,{style:"danger"})),new Error(t.message)})},replace:!0,multiple:l,maximizable:c,closable:h,navbarVisible:d,timeTravelVisible:p,viewerSettings:_}));case 12:n.t1=n.sent,n.t0.push.call(n.t0,n.t1),n.next=21;break;case 16:w=i(),x=w.windowmanager,E=x.layout[tt.b.OBLIQUES],M=E&&E.children.length>0&&E.children[0],M&&(S=B.default.updateObliqueViewer,r(S(M,{viewRotation:v,viewCenter:g,viewExtent:e.viewExtent}))),b.push({wid:M,viewerType:ft.OBLIQUE});case 21:return n.abrupt("return",b);case 22:case"end":return n.stop()}},n,at)}));return function(t,e){return n.apply(this,arguments)}}()},It=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(){var r=o(u.a.mark(function r(i,o){var a,s,l,c,f;return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(xt(o)){r.next=2;break}throw new Error(Object(N.b)(wt.obliqueNotAllowed));case 2:return a=st({navbarVisible:!0,recordingsVisible:!0,timeTravelVisible:!0},n,{direction:n&&n.direction?n.direction:0}),s=L.a.proj.transform(t,e,Q.a),r.next=6,Z.a.instance.requestNearestToCoordinate(s,Q.a,a);case 6:if(l=r.sent,c=[s[0]-yt,s[1]-yt,s[0]+yt,s[1]+yt],!l){r.next=15;break}if(f=l.footprint,f.intersectsCoordinate(s)){r.next=12;break}throw new Error(Object(N.b)(wt.couldNotFindRecording));case 12:return r.next=14,i(At(l,st({},a,{coords:s,viewExtent:c})));case 14:return r.abrupt("return",r.sent);case 15:throw new Error(Object(N.b)(wt.couldNotFindRecording));case 16:case"end":return r.stop()}},r,at)}));return function(t,e){return r.apply(this,arguments)}}()},Rt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{direction:0,srs:Q.a};return function(){var n=o(u.a.mark(function n(r,i){var o,a,s,l;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(xt(i)){n.next=2;break}throw new Error(Object(N.b)(wt.obliqueNotAllowed));case 2:return o=null,n.next=5,Z.a.instance.requestById(t,Q.a,e);case 5:if(a=n.sent,!Array.isArray(a)||!a[0]){n.next=15;break}return s=a[0],l=s.footprintCentre.getCoordinates(),n.next=11,r(At(s,e));case 11:o=n.sent,r(Mt(l,Q.a)),n.next=16;break;case 15:throw new Error(Object(N.b)(wt.couldNotFindRecording));case 16:return n.abrupt("return",o);case 17:case"end":return n.stop()}},n,at)}));return function(t,e){return n.apply(this,arguments)}}()},Pt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{panoramaOptions:{},obliqueOptions:{}};return function(){var i=o(u.a.mark(function i(o,a){var s,l,c,f,h,d;return u.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(s=a(),l=s.viewermanager,c=s.measurements,f=l.viewerMode===ct.MEASUREMENT,h=!f||f&&3===c.dimension,d=[],!h){i.next=13;break}return i.t0=d.push,i.t1=d,i.t2=r,i.next=10,o(Tt(t,e,n));case 10:i.t3=i.sent,i.t4=(0,i.t2)(i.t3),i.t0.apply.call(i.t0,i.t1,i.t4);case 13:return o(Mt(t,e,!0)),i.abrupt("return",d);case 15:case"end":return i.stop()}},i,at)}));return function(t,e){return i.apply(this,arguments)}}()},Lt=function(t,e){return function(){var n=o(u.a.mark(function n(r,i){var o,a,s,l,c,f,h,d,p,m,g,v,y,b,_;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=U.b.setMapExtent,a=i(),s=a.mapviewers,l=a.windowmanager,c=l.layout[tt.b.MAPS],f=c&&c.children.length>0&&c.children[0],h=void 0,f&&(h=s.byId[f],r(o(f,t,e))),d=null,!xt(i)){n.next=16;break}if(p=L.a.extent.getSize(t),m=ot(p,2),g=m[0],v=m[1],!(lt(g)&&lt(v)&&g<=500&&v<=500)){n.next=16;break}return y=L.a.extent.getCenter(t),b=h&&h.rotation||0,_=L.a.proj.transformExtent(t,e,Q.a),n.next=15,r(It(y,e,{direction:Object(D.f)(-1*Object(D.d)(b),0,360),viewRotation:b,viewExtent:_})).catch(function(t){throw r(Object(F.showFlashMessage)(t.message,{style:"danger"})),new Error(t.message)});case 15:d=n.sent;case 16:return n.abrupt("return",d);case 17:case"end":return n.stop()}},n,at)}));return function(t,e){return n.apply(this,arguments)}}()},Nt=function(t,e){return"string"==typeof t&&t===e||Array.isArray(t)&&t.includes(e)},kt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=o(u.a.mark(function n(i,o){var a,s,l,c,f,h,d,p,m,g,v,y;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=e.viewerType,s=e.panoramaViewer,l=e.obliqueViewer,c={maximizable:!0,closable:!0,replace:!0},f=st({},c,s),h=st({},c,l),d=Nt(a,ft.PANORAMA),p=Nt(a,ft.OBLIQUE),d||p||(d=!0,p=!o().config.isApi),m=[],g=null,v=void 0,"string"!=typeof t){n.next=16;break}return n.next=13,i(H.default.getSearchResult(t,e));case 13:v=n.sent,n.next=17;break;case 16:"object"===(void 0===t?"undefined":it(t))&&(v=t);case 17:if(y={openOblique:p,panoramaOptions:f,obliqueOptions:h},!v||!v.panoramaId){n.next=30;break}if(!d){n.next=28;break}return n.t0=m.push,n.t1=m,n.t2=r,n.next=25,i(Ct(v.panoramaId,y));case 25:n.t3=n.sent,n.t4=(0,n.t2)(n.t3),n.t0.apply.call(n.t0,n.t1,n.t4);case 28:n.next=60;break;case 30:if(!v||!v.obliqueId){n.next=42;break}if(!p){n.next=40;break}return n.t5=m.push,n.t6=m,n.t7=r,n.next=37,i(Rt(v.obliqueId,h));case 37:n.t8=n.sent,n.t9=(0,n.t7)(n.t8),n.t5.apply.call(n.t5,n.t6,n.t9);case 40:n.next=60;break;case 42:if(!v||!v.coordinate){n.next=46;break}g=v.coordinate,n.next=60;break;case 46:if(!v||!v.extent){n.next=57;break}return n.t10=m.push,n.t11=m,n.t12=r,n.next=52,i(Lt(v.extent,v.srs));case 52:n.t13=n.sent,n.t14=(0,n.t12)(n.t13),n.t10.apply.call(n.t10,n.t11,n.t14),n.next=60;break;case 57:return n.next=59,i(H.default.getSearchResult(t,e.srs));case 59:g=n.sent;case 60:if(!g){n.next=80;break}if(!d){n.next=72;break}return n.t15=m.push,n.t16=m,n.t17=r,n.next=67,i(Pt(v.coordinate,v.srs,y));case 67:n.t18=n.sent,n.t19=(0,n.t17)(n.t18),n.t15.apply.call(n.t15,n.t16,n.t19),n.next=80;break;case 72:return n.t20=m.push,n.t21=m,n.t22=r,n.next=77,i(It(v.coordinate,v.srs,h));case 77:n.t23=n.sent,n.t24=(0,n.t22)(n.t23),n.t20.apply.call(n.t20,n.t21,n.t24);case 80:return n.abrupt("return",m);case 81:case"end":return n.stop()}},n,at)}));return function(t,e){return n.apply(this,arguments)}}()},Dt=function(){return function(t,e){var n=e(),r=n.windowmanager,i=r.layout[tt.b.MAPS],o=i&&i.children.length>0&&i.children[0],a=j.default.addNode,s=j.default.moveNode,l=j.default.saveNode,u=j.default.removeNode,c=G.default.copyLayerVisibility,f=G.default.toggleOverlay;t(c(o+"_backup",o)),t(f(o,W.a.defaults.id,!1)),t(f(o,Y.a.defaults.id,!1)),t(f(o,X.a.defaults.id,!0)),t(l(tt.b.VIEWERS)),t(a({id:tt.b.MEASUREMENT,parentId:tt.b.ROOT,type:tt.c.CONTAINER,direction:tt.a.COLUMN,childIndex:1})),t(a({id:R()(),parentId:tt.b.MEASUREMENT,childIndex:0,type:tt.c.MEASUREMENT_NAVBAR,weight:0})),t(s({id:tt.b.VIEWERS,parentId:tt.b.MEASUREMENT,childIndex:1})),t(u(tt.b.PANORAMAS)),t(u(tt.b.OBLIQUES))}},Ft=function(){return function(t,e){var n=e(),r=n.viewermanager,i=n.windowmanager,o=n.config,a=G.default.copyLayerVisibility,s=G.default.toggleOverlay,l=o.isApi;t(V.default.selectBestMeasureMethod());var u=i.layout[tt.b.MAPS],c=u&&u.children.length>0&&u.children[0],f=r.currentPanoramaWID;t(a(c+"_backup",c)),t(a(f+"_backup",f));var h=j.default.addNode,d=j.default.updateNode,p=j.default.moveNode,m=j.default.removeNode,g=j.default.saveNode;t(s(f,X.a.defaults.id,!0)),t(s(c,X.a.defaults.id,!0)),t(g(tt.b.VIEWERS)),t(h({id:tt.b.MEASUREMENT,parentId:tt.b.ROOT,type:tt.c.CONTAINER,direction:tt.a.COLUMN,childIndex:1})),t(h({id:R()(),parentId:tt.b.MEASUREMENT,childIndex:0,type:tt.c.MEASUREMENT_NAVBAR,weight:0})),t(p({id:tt.b.VIEWERS,parentId:tt.b.MEASUREMENT,childIndex:1})),l||(t(d({id:tt.b.MAPS,weight:30})),t(d({id:tt.b.PANORAMAS,weight:70})));var v=Object(J.b)(tt.b.PANORAMAS,i.layout),y=!0,b=!1,_=void 0;try{for(var w,x=E()(v);!(y=(w=x.next()).done);y=!0){var M=w.value;M!==f&&t(m(M))}}catch(t){b=!0,_=t}finally{try{!y&&x.return&&x.return()}finally{if(b)throw _}}t(m(tt.b.OBLIQUES))}},jt=function(){return function(t,e){var n=e(),r=n.viewermanager,i=n.measurements;r.viewerMode!==ct.MEASUREMENT&&(t(2===i.dimension?Dt():Ft()),t(bt(ct.MEASUREMENT)))}},Ut=function(){return function(t,e){var n=e(),r=n.viewermanager,i=n.measurements,o=n.windowmanager,a=G.default.toggleOverlay,s=G.default.restoreCopiedLayerVisibility,l=G.default.removeLayerStore,u=o.layout[tt.b.MAPS],c=u&&u.children.length>0&&u.children[0],f=r.currentPanoramaWID;if(r.viewerMode===ct.MEASUREMENT){t(s(c,c+"_backup")),t(l(c+"_backup")),t(a(c,W.a.defaults.id,!0)),t(a(c,Y.a.defaults.id,!0)),3===i.dimension&&(t(s(f+"_backup",f)),t(l(f+"_backup")),t(a(f,X.a.defaults.id,!0)));var h=j.default.removeNode,d=j.default.popNode;t(h(tt.b.MEASUREMENT)),t(d(tt.b.VIEWERS,tt.b.ROOT)),t(bt(ct.VIEWER))}}},zt=function(t){return function(e,n){var r=n(),i=r.viewermanager;if(i.helpVisible!==t){i.reportBlurringVisible&&e(Bt(!1));var o=void 0!==t?!!t:!i.helpVisible;e(o?j.default.addNode({id:tt.b.HELP,type:tt.c.HELP,weight:30,parentId:tt.b.ROOT,childIndex:1}):j.default.removeNode(tt.b.HELP)),e(Object(O.createAction)(gt,function(){return o})())}}},Bt=function(t){return function(e,n){var r=n(),i=r.viewermanager;if(i.reportBlurringVisible!==t){i.helpVisible&&e(zt(!1));var o=void 0!==t?!!t:!i.reportBlurringVisible;e(o?j.default.addNode({id:tt.b.REPORT_BLURRING,type:tt.c.REPORT_BLURRING,weight:30,parentId:tt.b.ROOT,childIndex:1}):j.default.removeNode(tt.b.REPORT_BLURRING)),e(Object(O.createAction)(vt,function(){return o})())}}};e.default={centerMap:Mt,centerMapForRecording:St,openPanoramaViewerByRecording:Et,openPanoramaViewerByCoordinate:Tt,openPanoramaViewerByImageId:Ct,openObliqueViewerByRecording:At,openObliqueViewerByCoordinate:It,openObliqueViewerByImageId:Rt,openViewerByCoordinate:Pt,openViewerByExtent:Lt,openViewer:kt,enableMeasurementMode:jt,_enable2dMeasurementMode:Dt,_enable3dMeasurementMode:Ft,disableMeasurementMode:Ut,setCurrentPanoramaWid:_t,toggleHelp:zt,toggleReportBlurring:Bt};var Vt={SET_VIEWER_MODE:pt,SET_CURRENT_PANORAMA_WID:mt,TOGGLE_HELP:gt,TOGGLE_REPORT_BLURRING:vt}},function(t,e,n){t.exports={default:n(912),__esModule:!0}},function(t,e,n){t.exports={default:n(919),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0;e.Size={LARGE:"large",SMALL:"small",XSMALL:"xsmall"},e.SIZE_MAP={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"},e.DEVICE_SIZES=["lg","md","sm","xs"],e.State={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},e.Style={DEFAULT:"default",PRIMARY:"primary",LINK:"link",INVERSE:"inverse"}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(320)("wks"),i=n(241),o=n(58).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){!function(t,n){n(e)}(0,function(t){"use strict";function e(){}function n(t,e){this.x=t||0,this.y=e||0}function r(t,e,i,o,a,s,l,u,c,f){Object.defineProperty(this,"id",{value:ts++}),this.uuid=$a.generateUUID(),this.name="",this.image=void 0!==t?t:r.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:r.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:na,this.wrapT=void 0!==o?o:na,this.magFilter=void 0!==a?a:sa,this.minFilter=void 0!==s?s:ua,this.anisotropy=void 0!==c?c:1,this.format=void 0!==l?l:Ma,this.type=void 0!==u?u:ca,this.offset=new n(0,0),this.repeat=new n(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==f?f:Ha,this.version=0,this.onUpdate=null}function i(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==r?r:1}function o(t,e,n){this.uuid=$a.generateUUID(),this.width=t,this.height=e,this.scissor=new i(0,0,t,e),this.scissorTest=!1,this.viewport=new i(0,0,t,e),n=n||{},void 0===n.minFilter&&(n.minFilter=sa),this.texture=new r(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function a(t,e,n){o.call(this,t,e,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function s(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==r?r:1}function l(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}function u(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function c(t,e,n,i,o,a,s,l,u,c){t=void 0!==t?t:[],e=void 0!==e?e:Xo,r.call(this,t,e,n,i,o,a,s,l,u,c),this.flipY=!1}function f(){this.seq=[],this.map={}}function h(t,e,n){var r=t[0];if(r<=0||r>0)return t;var i=e*n,o=rs[i];if(void 0===o&&(o=new Float32Array(i),rs[i]=o),0!==e){r.toArray(o,0);for(var a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function d(t,e){var n=is[e];void 0===n&&(n=new Int32Array(e),is[e]=n);for(var r=0;r!==e;++r)n[r]=t.allocTextureUnit();return n}function p(t,e){t.uniform1f(this.addr,e)}function m(t,e){t.uniform1i(this.addr,e)}function g(t,e){void 0===e.x?t.uniform2fv(this.addr,e):t.uniform2f(this.addr,e.x,e.y)}function v(t,e){void 0!==e.x?t.uniform3f(this.addr,e.x,e.y,e.z):void 0!==e.r?t.uniform3f(this.addr,e.r,e.g,e.b):t.uniform3fv(this.addr,e)}function y(t,e){void 0===e.x?t.uniform4fv(this.addr,e):t.uniform4f(this.addr,e.x,e.y,e.z,e.w)}function b(t,e){t.uniformMatrix2fv(this.addr,!1,e.elements||e)}function _(t,e){t.uniformMatrix3fv(this.addr,!1,e.elements||e)}function w(t,e){t.uniformMatrix4fv(this.addr,!1,e.elements||e)}function x(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),n.setTexture2D(e||es,r)}function E(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),n.setTextureCube(e||ns,r)}function M(t,e){t.uniform2iv(this.addr,e)}function S(t,e){t.uniform3iv(this.addr,e)}function T(t,e){t.uniform4iv(this.addr,e)}function C(t){switch(t){case 5126:return p;case 35664:return g;case 35665:return v;case 35666:return y;case 35674:return b;case 35675:return _;case 35676:return w;case 35678:return x;case 35680:return E;case 5124:case 35670:return m;case 35667:case 35671:return M;case 35668:case 35672:return S;case 35669:case 35673:return T}}function O(t,e){t.uniform1fv(this.addr,e)}function A(t,e){t.uniform1iv(this.addr,e)}function I(t,e){t.uniform2fv(this.addr,h(e,this.size,2))}function R(t,e){t.uniform3fv(this.addr,h(e,this.size,3))}function P(t,e){t.uniform4fv(this.addr,h(e,this.size,4))}function L(t,e){t.uniformMatrix2fv(this.addr,!1,h(e,this.size,4))}function N(t,e){t.uniformMatrix3fv(this.addr,!1,h(e,this.size,9))}function k(t,e){t.uniformMatrix4fv(this.addr,!1,h(e,this.size,16))}function D(t,e,n){var r=e.length,i=d(n,r);t.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTexture2D(e[o]||es,i[o])}function F(t,e,n){var r=e.length,i=d(n,r);t.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTextureCube(e[o]||ns,i[o])}function j(t){switch(t){case 5126:return O;case 35664:return I;case 35665:return R;case 35666:return P;case 35674:return L;case 35675:return N;case 35676:return k;case 35678:return D;case 35680:return F;case 5124:case 35670:return A;case 35667:case 35671:return M;case 35668:case 35672:return S;case 35669:case 35673:return T}}function U(t,e,n){this.id=t,this.addr=n,this.setValue=C(e.type)}function z(t,e,n){this.id=t,this.addr=n,this.size=e.size,this.setValue=j(e.type)}function B(t){this.id=t,f.call(this)}function V(t,e){t.seq.push(e),t.map[e.id]=e}function G(t,e,n){var r=t.name,i=r.length;for(os.lastIndex=0;;){var o=os.exec(r),a=os.lastIndex,s=o[1],l="]"===o[2],u=o[3];if(l&&(s|=0),void 0===u||"["===u&&a+2===i){V(n,void 0===u?new U(s,t,e):new z(s,t,e));break}var c=n.map,f=c[s];void 0===f&&(f=new B(s),V(n,f)),n=f}}function H(t,e,n){f.call(this),this.renderer=n;for(var r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<r;++i){var o=t.getActiveUniform(e,i),a=o.name;G(o,t.getUniformLocation(e,a),this)}}function q(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}function W(t,e,n,i,o,a,s,l,u,c,f,h){r.call(this,null,a,s,l,u,c,i,o,f,h),this.image={data:t,width:e,height:n},this.magFilter=void 0!==u?u:ia,this.minFilter=void 0!==c?c:ia,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function Y(t,e){this.min=void 0!==t?t:new n(1/0,1/0),this.max=void 0!==e?e:new n(-1/0,-1/0)}function X(t,e){function r(){var t=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),e=new Uint16Array([0,1,2,0,2,3]);o=p.createBuffer(),a=p.createBuffer(),p.bindBuffer(p.ARRAY_BUFFER,o),p.bufferData(p.ARRAY_BUFFER,t,p.STATIC_DRAW),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,a),p.bufferData(p.ELEMENT_ARRAY_BUFFER,e,p.STATIC_DRAW),h=p.createTexture(),d=p.createTexture(),m.bindTexture(p.TEXTURE_2D,h),p.texImage2D(p.TEXTURE_2D,0,p.RGB,16,16,0,p.RGB,p.UNSIGNED_BYTE,null),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST),m.bindTexture(p.TEXTURE_2D,d),p.texImage2D(p.TEXTURE_2D,0,p.RGBA,16,16,0,p.RGBA,p.UNSIGNED_BYTE,null),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST),s={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},u=i(s),c={vertex:p.getAttribLocation(u,"position"),uv:p.getAttribLocation(u,"uv")},f={renderType:p.getUniformLocation(u,"renderType"),map:p.getUniformLocation(u,"map"),occlusionMap:p.getUniformLocation(u,"occlusionMap"),opacity:p.getUniformLocation(u,"opacity"),color:p.getUniformLocation(u,"color"),scale:p.getUniformLocation(u,"scale"),rotation:p.getUniformLocation(u,"rotation"),screenPosition:p.getUniformLocation(u,"screenPosition")}}function i(e){var n=p.createProgram(),r=p.createShader(p.FRAGMENT_SHADER),i=p.createShader(p.VERTEX_SHADER),o="precision "+t.getPrecision()+" float;\n";return p.shaderSource(r,o+e.fragmentShader),p.shaderSource(i,o+e.vertexShader),p.compileShader(r),p.compileShader(i),p.attachShader(n,r),p.attachShader(n,i),p.linkProgram(n),n}var o,a,s,u,c,f,h,d,p=t.context,m=t.state;this.render=function(i,s,g){if(0!==e.length){var v=new l,y=g.w/g.z,b=.5*g.z,_=.5*g.w,w=16/g.w,x=new n(w*y,w),E=new l(1,1,0),M=new n(1,1),S=new Y;S.min.set(g.x,g.y),S.max.set(g.x+(g.z-16),g.y+(g.w-16)),void 0===u&&r(),p.useProgram(u),m.initAttributes(),m.enableAttribute(c.vertex),m.enableAttribute(c.uv),m.disableUnusedAttributes(),p.uniform1i(f.occlusionMap,0),p.uniform1i(f.map,1),p.bindBuffer(p.ARRAY_BUFFER,o),p.vertexAttribPointer(c.vertex,2,p.FLOAT,!1,16,0),p.vertexAttribPointer(c.uv,2,p.FLOAT,!1,16,8),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,a),m.disable(p.CULL_FACE),m.setDepthWrite(!1);for(var T=0,C=e.length;T<C;T++){w=16/g.w,x.set(w*y,w);var O=e[T];if(v.set(O.matrixWorld.elements[12],O.matrixWorld.elements[13],O.matrixWorld.elements[14]),v.applyMatrix4(s.matrixWorldInverse),v.applyMatrix4(s.projectionMatrix),E.copy(v),M.x=g.x+E.x*b+b-8,M.y=g.y+E.y*_+_-8,!0===S.containsPoint(M)){m.activeTexture(p.TEXTURE0),m.bindTexture(p.TEXTURE_2D,null),m.activeTexture(p.TEXTURE1),m.bindTexture(p.TEXTURE_2D,h),p.copyTexImage2D(p.TEXTURE_2D,0,p.RGB,M.x,M.y,16,16,0),p.uniform1i(f.renderType,0),p.uniform2f(f.scale,x.x,x.y),p.uniform3f(f.screenPosition,E.x,E.y,E.z),m.disable(p.BLEND),m.enable(p.DEPTH_TEST),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0),m.activeTexture(p.TEXTURE0),m.bindTexture(p.TEXTURE_2D,d),p.copyTexImage2D(p.TEXTURE_2D,0,p.RGBA,M.x,M.y,16,16,0),p.uniform1i(f.renderType,1),m.disable(p.DEPTH_TEST),m.activeTexture(p.TEXTURE1),m.bindTexture(p.TEXTURE_2D,h),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0),O.positionScreen.copy(E),O.customUpdateCallback?O.customUpdateCallback(O):O.updateLensFlares(),p.uniform1i(f.renderType,2),m.enable(p.BLEND);for(var A=0,I=O.lensFlares.length;A<I;A++){var R=O.lensFlares[A];R.opacity>.001&&R.scale>.001&&(E.x=R.x,E.y=R.y,E.z=R.z,w=R.size*R.scale/g.w,x.x=w*y,x.y=w,p.uniform3f(f.screenPosition,E.x,E.y,E.z),p.uniform2f(f.scale,x.x,x.y),p.uniform1f(f.rotation,R.rotation),p.uniform1f(f.opacity,R.opacity),p.uniform3f(f.color,R.color.r,R.color.g,R.color.b),m.setBlending(R.blending,R.blendEquation,R.blendSrc,R.blendDst),t.setTexture2D(R.texture,1),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0))}}}m.enable(p.CULL_FACE),m.enable(p.DEPTH_TEST),m.setDepthWrite(!0),t.resetGLState()}}}function Z(t,e){function n(){var t=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),e=new Uint16Array([0,1,2,0,2,3]);a=p.createBuffer(),u=p.createBuffer(),p.bindBuffer(p.ARRAY_BUFFER,a),p.bufferData(p.ARRAY_BUFFER,t,p.STATIC_DRAW),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,u),p.bufferData(p.ELEMENT_ARRAY_BUFFER,e,p.STATIC_DRAW),c=i(),f={position:p.getAttribLocation(c,"position"),uv:p.getAttribLocation(c,"uv")},h={uvOffset:p.getUniformLocation(c,"uvOffset"),uvScale:p.getUniformLocation(c,"uvScale"),rotation:p.getUniformLocation(c,"rotation"),scale:p.getUniformLocation(c,"scale"),color:p.getUniformLocation(c,"color"),map:p.getUniformLocation(c,"map"),opacity:p.getUniformLocation(c,"opacity"),modelViewMatrix:p.getUniformLocation(c,"modelViewMatrix"),projectionMatrix:p.getUniformLocation(c,"projectionMatrix"),fogType:p.getUniformLocation(c,"fogType"),fogDensity:p.getUniformLocation(c,"fogDensity"),fogNear:p.getUniformLocation(c,"fogNear"),fogFar:p.getUniformLocation(c,"fogFar"),fogColor:p.getUniformLocation(c,"fogColor"),alphaTest:p.getUniformLocation(c,"alphaTest")};var n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");n.width=8,n.height=8;var o=n.getContext("2d");o.fillStyle="white",o.fillRect(0,0,8,8),d=new r(n),d.needsUpdate=!0}function i(){var e=p.createProgram(),n=p.createShader(p.VERTEX_SHADER),r=p.createShader(p.FRAGMENT_SHADER);return p.shaderSource(n,["precision "+t.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),p.shaderSource(r,["precision "+t.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),p.compileShader(n),p.compileShader(r),p.attachShader(e,n),p.attachShader(e,r),p.linkProgram(e),e}function o(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}var a,u,c,f,h,d,p=t.context,m=t.state,g=new l,v=new s,y=new l;this.render=function(r,i){if(0!==e.length){void 0===c&&n(),p.useProgram(c),m.initAttributes(),m.enableAttribute(f.position),m.enableAttribute(f.uv),m.disableUnusedAttributes(),m.disable(p.CULL_FACE),m.enable(p.BLEND),p.bindBuffer(p.ARRAY_BUFFER,a),p.vertexAttribPointer(f.position,2,p.FLOAT,!1,16,0),p.vertexAttribPointer(f.uv,2,p.FLOAT,!1,16,8),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,u),p.uniformMatrix4fv(h.projectionMatrix,!1,i.projectionMatrix.elements),m.activeTexture(p.TEXTURE0),p.uniform1i(h.map,0);var s=0,l=0,b=r.fog;b?(p.uniform3f(h.fogColor,b.color.r,b.color.g,b.color.b),b.isFog?(p.uniform1f(h.fogNear,b.near),p.uniform1f(h.fogFar,b.far),p.uniform1i(h.fogType,1),s=1,l=1):b.isFogExp2&&(p.uniform1f(h.fogDensity,b.density),p.uniform1i(h.fogType,2),s=2,l=2)):(p.uniform1i(h.fogType,0),s=0,l=0);for(var _=0,w=e.length;_<w;_++){var x=e[_];x.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,x.matrixWorld),x.z=-x.modelViewMatrix.elements[14]}e.sort(o);for(var E=[],_=0,w=e.length;_<w;_++){var x=e[_],M=x.material;if(!1!==M.visible){p.uniform1f(h.alphaTest,M.alphaTest),p.uniformMatrix4fv(h.modelViewMatrix,!1,x.modelViewMatrix.elements),x.matrixWorld.decompose(g,v,y),E[0]=y.x,E[1]=y.y;var S=0;r.fog&&M.fog&&(S=l),s!==S&&(p.uniform1i(h.fogType,S),s=S),null!==M.map?(p.uniform2f(h.uvOffset,M.map.offset.x,M.map.offset.y),p.uniform2f(h.uvScale,M.map.repeat.x,M.map.repeat.y)):(p.uniform2f(h.uvOffset,0,0),p.uniform2f(h.uvScale,1,1)),p.uniform1f(h.opacity,M.opacity),p.uniform3f(h.color,M.color.r,M.color.g,M.color.b),p.uniform1f(h.rotation,M.rotation),p.uniform2fv(h.scale,E),m.setBlending(M.blending,M.blendEquation,M.blendSrc,M.blendDst),m.setDepthTest(M.depthTest),m.setDepthWrite(M.depthWrite),M.map?t.setTexture2D(M.map,0):t.setTexture2D(d,0),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0)}}m.enable(p.CULL_FACE),t.resetGLState()}}}function K(){Object.defineProperty(this,"id",{value:fs++}),this.uuid=$a.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=co,this.side=eo,this.shading=oo,this.vertexColors=ao,this.opacity=1,this.transparent=!1,this.blendSrc=So,this.blendDst=To,this.blendEquation=go,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ko,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this._needsUpdate=!0}function Q(t){K.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function J(t){K.call(this),this.type="MeshDepthMaterial",this.depthPacking=Qa,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function $(t,e){this.min=void 0!==t?t:new l(1/0,1/0,1/0),this.max=void 0!==e?e:new l(-1/0,-1/0,-1/0)}function tt(t,e){this.center=void 0!==t?t:new l,this.radius=void 0!==e?e:0}function et(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function nt(t,e){this.normal=void 0!==t?t:new l(1,0,0),this.constant=void 0!==e?e:0}function rt(t,e,n,r,i,o){this.planes=[void 0!==t?t:new nt,void 0!==e?e:new nt,void 0!==n?n:new nt,void 0!==r?r:new nt,void 0!==i?i:new nt,void 0!==o?o:new nt]}function it(t,e,r,a){function s(e,n,r,i){var o=e.geometry,a=null,s=M,l=e.customDepthMaterial;if(r&&(s=S,l=e.customDistanceMaterial),l)a=l;else{var u=!1;n.morphTargets&&(o&&o.isBufferGeometry?u=o.morphAttributes&&o.morphAttributes.position&&o.morphAttributes.position.length>0:o&&o.isGeometry&&(u=o.morphTargets&&o.morphTargets.length>0));var c=e.isSkinnedMesh&&n.skinning,f=0;u&&(f|=w),c&&(f|=x),a=s[f]}if(t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var h=a.uuid,d=n.uuid,p=T[h];void 0===p&&(p={},T[h]=p);var m=p[d];void 0===m&&(m=a.clone(),p[d]=m),a=m}a.visible=n.visible,a.wireframe=n.wireframe;var g=n.side;return j.renderSingleSided&&g==ro&&(g=eo),j.renderReverseSided&&(g===eo?g=no:g===no&&(g=eo)),a.side=g,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,r&&void 0!==a.uniforms.lightPos&&a.uniforms.lightPos.value.copy(i),a}function c(t,e,n){if(!1!==t.visible){if(0!=(t.layers.mask&e.layers.mask)&&(t.isMesh||t.isLine||t.isPoints)&&t.castShadow&&(!1===t.frustumCulled||!0===d.intersectsObject(t))){!0===t.material.visible&&(t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),_.push(t))}for(var r=t.children,i=0,o=r.length;i<o;i++)c(r[i],e,n)}}var f=t.context,h=t.state,d=new rt,p=new u,m=e.shadows,g=new n,v=new n(a.maxTextureSize,a.maxTextureSize),y=new l,b=new l,_=[],w=1,x=2,E=1+(w|x),M=new Array(E),S=new Array(E),T={},C=[new l(1,0,0),new l(-1,0,0),new l(0,0,1),new l(0,0,-1),new l(0,1,0),new l(0,-1,0)],O=[new l(0,1,0),new l(0,1,0),new l(0,1,0),new l(0,1,0),new l(0,0,1),new l(0,0,-1)],A=[new i,new i,new i,new i,new i,new i],I=new J;I.depthPacking=Ja,I.clipping=!0;for(var R=cs.distanceRGBA,P=as.clone(R.uniforms),L=0;L!==E;++L){var N=0!=(L&w),k=0!=(L&x),D=I.clone();D.morphTargets=N,D.skinning=k,M[L]=D;var F=new Q({defines:{USE_SHADOWMAP:""},uniforms:P,vertexShader:R.vertexShader,fragmentShader:R.fragmentShader,morphTargets:N,skinning:k,clipping:!0});S[L]=F}var j=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=$i,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(e,n){if(!1!==j.enabled&&(!1!==j.autoUpdate||!1!==j.needsUpdate)&&0!==m.length){h.buffers.color.setClear(1,1,1,1),h.disable(f.BLEND),h.setDepthTest(!0),h.setScissorTest(!1);for(var i,a,l=0,u=m.length;l<u;l++){var w=m[l],x=w.shadow;if(void 0!==x){var E=x.camera;if(g.copy(x.mapSize),g.min(v),w&&w.isPointLight){i=6,a=!0;var M=g.x,S=g.y;A[0].set(2*M,S,M,S),A[1].set(0,S,M,S),A[2].set(3*M,S,M,S),A[3].set(M,S,M,S),A[4].set(3*M,0,M,S),A[5].set(M,0,M,S),g.x*=4,g.y*=2}else i=1,a=!1;if(null===x.map){var T={minFilter:ia,magFilter:ia,format:Ma};x.map=new o(g.x,g.y,T),E.updateProjectionMatrix()}x.isSpotLightShadow&&x.update(w),x&&x.isRectAreaLightShadow&&x.update(w);var I=x.map,R=x.matrix;b.setFromMatrixPosition(w.matrixWorld),E.position.copy(b),t.setRenderTarget(I),t.clear();for(var P=0;P<i;P++){if(a){y.copy(E.position),y.add(C[P]),E.up.copy(O[P]),E.lookAt(y);var L=A[P];h.viewport(L)}else y.setFromMatrixPosition(w.target.matrixWorld),E.lookAt(y);E.updateMatrixWorld(),E.matrixWorldInverse.getInverse(E.matrixWorld),R.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),R.multiply(E.projectionMatrix),R.multiply(E.matrixWorldInverse),p.multiplyMatrices(E.projectionMatrix,E.matrixWorldInverse),d.setFromMatrix(p),_.length=0,c(e,n,E);for(var N=0,k=_.length;N<k;N++){var D=_[N],F=r.update(D),U=D.material;if(U&&U.isMultiMaterial)for(var z=F.groups,B=U.materials,V=0,G=z.length;V<G;V++){var H=z[V],q=B[H.materialIndex];if(!0===q.visible){var W=s(D,q,a,b);t.renderBufferDirect(E,null,F,W,D,H)}}else{var W=s(D,U,a,b);t.renderBufferDirect(E,null,F,W,D,null)}}}}else console.warn("THREE.WebGLShadowMap:",w,"has no shadow.")}var Y=t.getClearColor(),X=t.getClearAlpha();t.setClearColor(Y,X),j.needsUpdate=!1}}}function ot(t,e){this.origin=void 0!==t?t:new l,this.direction=void 0!==e?e:new l}function at(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._order=r||at.DefaultOrder}function st(){this.mask=1}function lt(){function t(){i.setFromEuler(r,!1)}function e(){r.setFromQuaternion(i,void 0,!1)}Object.defineProperty(this,"id",{value:hs++}),this.uuid=$a.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=lt.DefaultUp.clone();var n=new l,r=new at,i=new s,o=new l(1,1,1);r.onChange(t),i.onChange(e),Object.defineProperties(this,{position:{enumerable:!0,value:n},rotation:{enumerable:!0,value:r},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:o},modelViewMatrix:{value:new u},normalMatrix:{value:new et}}),this.matrix=new u,this.matrixWorld=new u,this.matrixAutoUpdate=lt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new st,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={},this.onBeforeRender=function(){},this.onAfterRender=function(){}}function ut(t,e){this.start=void 0!==t?t:new l,this.end=void 0!==e?e:new l}function ct(t,e,n){this.a=void 0!==t?t:new l,this.b=void 0!==e?e:new l,this.c=void 0!==n?n:new l}function ft(t,e,n,r,i,o){this.a=t,this.b=e,this.c=n,this.normal=r&&r.isVector3?r:new l,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new q,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}function ht(t){K.call(this),this.type="MeshBasicMaterial",this.color=new q(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=zo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function dt(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=$a.generateUUID(),this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function pt(t,e){dt.call(this,new Int8Array(t),e)}function mt(t,e){dt.call(this,new Uint8Array(t),e)}function gt(t,e){dt.call(this,new Uint8ClampedArray(t),e)}function vt(t,e){dt.call(this,new Int16Array(t),e)}function yt(t,e){dt.call(this,new Uint16Array(t),e)}function bt(t,e){dt.call(this,new Int32Array(t),e)}function _t(t,e){dt.call(this,new Uint32Array(t),e)}function wt(t,e){dt.call(this,new Float32Array(t),e)}function xt(t,e){dt.call(this,new Float64Array(t),e)}function Et(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Mt(t){for(var e=t.length,n=-1/0;e--;)t[e]>n&&(n=t[e]);return n}function St(){return ds++}function Tt(){Object.defineProperty(this,"id",{value:St()}),this.uuid=$a.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function Ct(){Object.defineProperty(this,"id",{value:St()}),this.uuid=$a.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Ot(t,e){lt.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new Ct,this.material=void 0!==e?e:new ht({color:16777215*Math.random()}),this.drawMode=Ba,this.updateMorphTargets()}function At(t,e,n,r,i,o){Tt.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new It(t,e,n,r,i,o)),this.mergeVertices()}function It(t,e,n,r,i,o){function a(t,e,n,r,i,o,a,m,g,v,y){var b,_,w=o/g,x=a/v,E=o/2,M=a/2,S=m/2,T=g+1,C=v+1,O=0,A=0,I=new l;for(_=0;_<C;_++){var R=_*x-M;for(b=0;b<T;b++){var P=b*w-E;I[t]=P*r,I[e]=R*i,I[n]=S,c.push(I.x,I.y,I.z),I[t]=0,I[e]=0,I[n]=m>0?1:-1,f.push(I.x,I.y,I.z),h.push(b/g),h.push(1-_/v),O+=1}}for(_=0;_<v;_++)for(b=0;b<g;b++){var L=d+b+T*_,N=d+b+T*(_+1),k=d+(b+1)+T*(_+1),D=d+(b+1)+T*_;u.push(L,N,D),u.push(N,k,D),A+=6}s.addGroup(p,A,y),p+=A,d+=O}Ct.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var s=this;r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var u=[],c=[],f=[],h=[],d=0,p=0;a("z","y","x",-1,-1,n,e,t,o,i,0),a("z","y","x",1,-1,n,e,-t,o,i,1),a("x","z","y",1,1,t,n,e,r,o,2),a("x","z","y",1,-1,t,n,-e,r,o,3),a("x","y","z",1,-1,t,e,n,r,i,4),a("x","y","z",-1,-1,t,e,-n,r,i,5),this.setIndex(u),this.addAttribute("position",new wt(c,3)),this.addAttribute("normal",new wt(f,3)),this.addAttribute("uv",new wt(h,2))}function Rt(t,e,n,r){Tt.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new Pt(t,e,n,r))}function Pt(t,e,n,r){Ct.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};var i,o,a=t/2,s=e/2,l=Math.floor(n)||1,u=Math.floor(r)||1,c=l+1,f=u+1,h=t/l,d=e/u,p=[],m=[],g=[],v=[];for(o=0;o<f;o++){var y=o*d-s;for(i=0;i<c;i++){var b=i*h-a;m.push(b,-y,0),g.push(0,0,1),v.push(i/l),v.push(1-o/u)}}for(o=0;o<u;o++)for(i=0;i<l;i++){var _=i+c*o,w=i+c*(o+1),x=i+1+c*(o+1),E=i+1+c*o;p.push(_,w,E),p.push(w,x,E)}this.setIndex(p),this.addAttribute("position",new wt(m,3)),this.addAttribute("normal",new wt(g,3)),this.addAttribute("uv",new wt(v,2))}function Lt(){lt.call(this),this.type="Camera",this.matrixWorldInverse=new u,this.projectionMatrix=new u}function Nt(t,e,n,r){Lt.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function kt(t,e,n,r,i,o){Lt.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function Dt(t,e,n){function r(t){s=t}function i(n){n.array instanceof Uint32Array&&e.get("OES_element_index_uint")?(l=t.UNSIGNED_INT,u=4):n.array instanceof Uint16Array?(l=t.UNSIGNED_SHORT,u=2):(l=t.UNSIGNED_BYTE,u=1)}function o(e,r){t.drawElements(s,r,l,e*u),n.calls++,n.vertices+=r,s===t.TRIANGLES&&(n.faces+=r/3)}function a(r,i,o){var a=e.get("ANGLE_instanced_arrays");if(null===a)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");a.drawElementsInstancedANGLE(s,o,l,i*u,r.maxInstancedCount),n.calls++,n.vertices+=o*r.maxInstancedCount,s===t.TRIANGLES&&(n.faces+=r.maxInstancedCount*o/3)}var s,l,u;return{setMode:r,setIndex:i,render:o,renderInstances:a}}function Ft(t,e,n){function r(t){a=t}function i(e,r){t.drawArrays(a,e,r),n.calls++,n.vertices+=r,a===t.TRIANGLES&&(n.faces+=r/3)}function o(r){var i=e.get("ANGLE_instanced_arrays");if(null===i)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");var o=r.attributes.position,s=0;o.isInterleavedBufferAttribute?(s=o.data.count,i.drawArraysInstancedANGLE(a,0,s,r.maxInstancedCount)):(s=o.count,i.drawArraysInstancedANGLE(a,0,s,r.maxInstancedCount)),n.calls++,n.vertices+=s*r.maxInstancedCount,a===t.TRIANGLES&&(n.faces+=r.maxInstancedCount*s/3)}var a;return{setMode:r,render:i,renderInstances:o}}function jt(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var r;switch(e.type){case"DirectionalLight":r={direction:new l,color:new q,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new n};break;case"SpotLight":r={position:new l,direction:new l,color:new q,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new n};break;case"PointLight":r={position:new l,color:new q,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new n};break;case"HemisphereLight":r={direction:new l,skyColor:new q,groundColor:new q};break;case"RectAreaLight":r={color:new q,position:new l,halfWidth:new l,halfHeight:new l}}return t[e.id]=r,r}}}function Ut(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}function zt(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),!1===t.getShaderParameter(r,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(r),Ut(n)),r}function Bt(t){switch(t){case Ha:return["Linear","( value )"];case qa:return["sRGB","( value )"];case Ya:return["RGBE","( value )"];case Xa:return["RGBM","( value, 7.0 )"];case Za:return["RGBM","( value, 16.0 )"];case Ka:return["RGBD","( value, 256.0 )"];case Wa:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function Vt(t,e){var n=Bt(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Gt(t,e){var n=Bt(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Ht(t,e){var n;switch(e){case Ho:n="Linear";break;case qo:n="Reinhard";break;case Wo:n="Uncharted2";break;case Yo:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function qt(t,e,n){return t=t||{},[t.derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Xt).join("\n")}function Wt(t){var e=[];for(var n in t){var r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}function Yt(t,e,n){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=0;o<i;o++){var a=t.getActiveAttrib(e,o),s=a.name;r[s]=t.getAttribLocation(e,s)}return r}function Xt(t){return""!==t}function Zt(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function Kt(t){function e(t,e){var n=ss[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return Kt(n)}var n=/#include +<([\w\d.]+)>/g;return t.replace(n,e)}function Qt(t){function e(t,e,n,r){for(var i="",o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]");return i}var n=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;return t.replace(n,e)}function Jt(t,e,n,r){var i=t.context,o=n.extensions,a=n.defines,s=n.__webglShader.vertexShader,l=n.__webglShader.fragmentShader,u="SHADOWMAP_TYPE_BASIC";r.shadowMapType===$i?u="SHADOWMAP_TYPE_PCF":r.shadowMapType===to&&(u="SHADOWMAP_TYPE_PCF_SOFT");var c="ENVMAP_TYPE_CUBE",f="ENVMAP_MODE_REFLECTION",h="ENVMAP_BLENDING_MULTIPLY";if(r.envMap){switch(n.envMap.mapping){case Xo:case Zo:c="ENVMAP_TYPE_CUBE";break;case $o:case ta:c="ENVMAP_TYPE_CUBE_UV";break;case Ko:case Qo:c="ENVMAP_TYPE_EQUIREC";break;case Jo:c="ENVMAP_TYPE_SPHERE"}switch(n.envMap.mapping){case Zo:case Qo:f="ENVMAP_MODE_REFRACTION"}switch(n.combine){case zo:h="ENVMAP_BLENDING_MULTIPLY";break;case Bo:h="ENVMAP_BLENDING_MIX";break;case Vo:h="ENVMAP_BLENDING_ADD"}}var d,p,m=t.gammaFactor>0?t.gammaFactor:1,g=qt(o,r,t.extensions),v=Wt(a),y=i.createProgram();n.isRawShaderMaterial?(d=[v,"\n"].filter(Xt).join("\n"),p=[g,v,"\n"].filter(Xt).join("\n")):(d=["precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,v,r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+m,"#define MAX_BONES "+r.maxBones,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+f:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+u:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Xt).join("\n"),p=[g,"precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,v,r.alphaTest?"#define ALPHATEST "+r.alphaTest:"","#define GAMMA_FACTOR "+m,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+c:"",r.envMap?"#define "+f:"",r.envMap?"#define "+h:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(r.numClippingPlanes-r.numClipIntersection),r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+u:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",r.envMap&&t.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",r.toneMapping!==Go?"#define TONE_MAPPING":"",r.toneMapping!==Go?ss.tonemapping_pars_fragment:"",r.toneMapping!==Go?Ht("toneMapping",r.toneMapping):"",r.outputEncoding||r.mapEncoding||r.envMapEncoding||r.emissiveMapEncoding?ss.encodings_pars_fragment:"",r.mapEncoding?Vt("mapTexelToLinear",r.mapEncoding):"",r.envMapEncoding?Vt("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMapEncoding?Vt("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.outputEncoding?Gt("linearToOutputTexel",r.outputEncoding):"",r.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Xt).join("\n")),s=Kt(s,r),s=Zt(s,r),l=Kt(l,r),l=Zt(l,r),n.isShaderMaterial||(s=Qt(s),l=Qt(l));var b=d+s,_=p+l,w=zt(i,i.VERTEX_SHADER,b),x=zt(i,i.FRAGMENT_SHADER,_);i.attachShader(y,w),i.attachShader(y,x),void 0!==n.index0AttributeName?i.bindAttribLocation(y,0,n.index0AttributeName):!0===r.morphTargets&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);var E=i.getProgramInfoLog(y),M=i.getShaderInfoLog(w),S=i.getShaderInfoLog(x),T=!0,C=!0;!1===i.getProgramParameter(y,i.LINK_STATUS)?(T=!1,console.error("THREE.WebGLProgram: shader error: ",i.getError(),"gl.VALIDATE_STATUS",i.getProgramParameter(y,i.VALIDATE_STATUS),"gl.getProgramInfoLog",E,M,S)):""!==E?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",E):""!==M&&""!==S||(C=!1),C&&(this.diagnostics={runnable:T,material:n,programLog:E,vertexShader:{log:M,prefix:d},fragmentShader:{log:S,prefix:p}}),i.deleteShader(w),i.deleteShader(x);var O;this.getUniforms=function(){return void 0===O&&(O=new H(i,y,t)),O};var A;return this.getAttributes=function(){return void 0===A&&(A=Yt(i,y)),A},this.destroy=function(){i.deleteProgram(y),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=ps++,this.code=e,this.usedTimes=1,this.program=y,this.vertexShader=w,this.fragmentShader=x,this}function $t(t,e){function n(t){if(e.floatVertexTextures&&t&&t.skeleton&&t.skeleton.useVertexTexture)return 1024;var n=e.maxVertexUniforms,r=Math.floor((n-20)/4),i=r;return void 0!==t&&t&&t.isSkinnedMesh&&(i=Math.min(t.skeleton.bones.length,i))<t.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+t.skeleton.bones.length+", this GPU supports just "+i+" (try OpenGL instead of ANGLE)"),i}function r(t,e){var n;return t?t.isTexture?n=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=t.texture.encoding):n=Ha,n===Ha&&e&&(n=Wa),n}var i=[],o={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},a=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking"];this.getParameters=function(i,a,s,l,u,c){var f=o[i.type],h=n(c),d=t.getPrecision();null!==i.precision&&(d=e.getMaxPrecision(i.precision))!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",d,"instead.");var p=t.getCurrentRenderTarget();return{shaderID:f,precision:d,supportsVertexTextures:e.vertexTextures,outputEncoding:r(p?p.texture:null,t.gammaOutput),map:!!i.map,mapEncoding:r(i.map,t.gammaInput),envMap:!!i.envMap,envMapMode:i.envMap&&i.envMap.mapping,envMapEncoding:r(i.envMap,t.gammaInput),envMapCubeUV:!!i.envMap&&(i.envMap.mapping===$o||i.envMap.mapping===ta),lightMap:!!i.lightMap,aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:r(i.emissiveMap,t.gammaInput),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,combine:i.combine,vertexColors:i.vertexColors,fog:!!s,useFog:i.fog,fogExp:s&&s.isFogExp2,flatShading:i.shading===io,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:e.logarithmicDepthBuffer,skinning:i.skinning,maxBones:h,useVertexTexture:e.floatVertexTextures&&c&&c.skeleton&&c.skeleton.useVertexTexture,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numClippingPlanes:l,numClipIntersection:u,shadowMapEnabled:t.shadowMap.enabled&&c.receiveShadow&&a.shadows.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===ro,flipSided:i.side===no,depthPacking:void 0!==i.depthPacking&&i.depthPacking}},this.getProgramCode=function(t,e){var n=[];if(e.shaderID?n.push(e.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);for(var i=0;i<a.length;i++)n.push(e[a[i]]);return n.join()},this.acquireProgram=function(e,n,r){for(var o,a=0,s=i.length;a<s;a++){var l=i[a];if(l.code===r){o=l,++o.usedTimes;break}}return void 0===o&&(o=new Jt(t,r,e,n),i.push(o)),o},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=i.indexOf(t);i[e]=i[i.length-1],i.pop(),t.destroy()}},this.programs=i}function te(t,e,n){function r(t){var i=t.target,s=l[i.id];null!==s.index&&o(s.index),a(s.attributes),i.removeEventListener("dispose",r),delete l[i.id];var u=e.get(i);u.wireframe&&o(u.wireframe),e.delete(i);var c=e.get(s);c.wireframe&&o(c.wireframe),e.delete(s),n.memory.geometries--}function i(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}function o(e){var n=i(e);void 0!==n&&(t.deleteBuffer(n),s(e))}function a(t){for(var e in t)o(t[e])}function s(t){t.isInterleavedBufferAttribute?e.delete(t.data):e.delete(t)}var l={};return{get:function(t){var e=t.geometry;if(void 0!==l[e.id])return l[e.id];e.addEventListener("dispose",r);var i;return e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new Ct).setFromObject(t)),i=e._bufferGeometry),l[e.id]=i,n.memory.geometries++,i}}}function ee(t,e,n){function r(e){var n=c.get(e);e.geometry.isGeometry&&n.updateFromObject(e);var r=n.index,o=n.attributes;null!==r&&i(r,t.ELEMENT_ARRAY_BUFFER);for(var a in o)i(o[a],t.ARRAY_BUFFER);var s=n.morphAttributes;for(var a in s)for(var l=s[a],u=0,f=l.length;u<f;u++)i(l[u],t.ARRAY_BUFFER);return n}function i(t,n){var r=t.isInterleavedBufferAttribute?t.data:t,i=e.get(r);void 0===i.__webglBuffer?o(i,r,n):i.version!==r.version&&a(i,r,n)}function o(e,n,r){e.__webglBuffer=t.createBuffer(),t.bindBuffer(r,e.__webglBuffer);var i=n.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW;t.bufferData(r,n.array,i);var o=t.FLOAT,a=n.array;a instanceof Float32Array?o=t.FLOAT:a instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):a instanceof Uint16Array?o=t.UNSIGNED_SHORT:a instanceof Int16Array?o=t.SHORT:a instanceof Uint32Array?o=t.UNSIGNED_INT:a instanceof Int32Array?o=t.INT:a instanceof Int8Array?o=t.BYTE:a instanceof Uint8Array&&(o=t.UNSIGNED_BYTE),e.bytesPerElement=a.BYTES_PER_ELEMENT,e.type=o,e.version=n.version,n.onUploadCallback()}function a(e,n,r){t.bindBuffer(r,e.__webglBuffer),!1===n.dynamic?t.bufferData(r,n.array,t.STATIC_DRAW):-1===n.updateRange.count?t.bufferSubData(r,0,n.array):0===n.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(r,n.updateRange.offset*n.array.BYTES_PER_ELEMENT,n.array.subarray(n.updateRange.offset,n.updateRange.offset+n.updateRange.count)),n.updateRange.count=0),e.version=n.version}function s(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}function l(t){return t.isInterleavedBufferAttribute?e.get(t.data):e.get(t)}function u(n){var r=e.get(n);if(void 0!==r.wireframe)return r.wireframe;var o=[],a=n.index,s=n.attributes;if(null!==a)for(var l=a.array,u=0,c=l.length;u<c;u+=3){var f=l[u+0],h=l[u+1],d=l[u+2];o.push(f,h,h,d,d,f)}else for(var l=s.position.array,u=0,c=l.length/3-1;u<c;u+=3){var f=u+0,h=u+1,d=u+2;o.push(f,h,h,d,d,f)}var p=new(Mt(o)>65535?_t:yt)(o,1);return i(p,t.ELEMENT_ARRAY_BUFFER),r.wireframe=p,p}var c=new te(t,e,n);return{getAttributeBuffer:s,getAttributeProperties:l,getWireframeAttribute:u,update:r}}function ne(t,e,n,r,i,o,a){function s(t,e){if(t.width>e||t.height>e){var n=e/Math.max(t.width,t.height),r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");r.width=Math.floor(t.width*n),r.height=Math.floor(t.height*n);return r.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+r.width+"x"+r.height,t),r}return t}function l(t){return $a.isPowerOfTwo(t.width)&&$a.isPowerOfTwo(t.height)}function u(t){if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement){var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");e.width=$a.nearestPowerOfTwo(t.width),e.height=$a.nearestPowerOfTwo(t.height);return e.getContext("2d").drawImage(t,0,0,e.width,e.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+t.width+"x"+t.height+"). Resized to "+e.width+"x"+e.height,t),e}return t}function c(t){return t.wrapS!==na||t.wrapT!==na||t.minFilter!==ia&&t.minFilter!==sa}function f(e){return e===ia||e===oa||e===aa?t.NEAREST:t.LINEAR}function h(t){var e=t.target;e.removeEventListener("dispose",h),p(e),C.textures--}function d(t){var e=t.target;e.removeEventListener("dispose",d),m(e),C.textures--}function p(e){var n=r.get(e);if(e.image&&n.__image__webglTextureCube)t.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;t.deleteTexture(n.__webglTexture)}r.delete(e)}function m(e){var n=r.get(e),i=r.get(e.texture);if(e){if(void 0!==i.__webglTexture&&t.deleteTexture(i.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var o=0;o<6;o++)t.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[o]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer);r.delete(e.texture),r.delete(e)}}function g(e,i){var o=r.get(e);if(e.version>0&&o.__version!==e.version){var a=e.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",e);else{if(!1!==a.complete)return void _(o,e,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",e)}}n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_2D,o.__webglTexture)}function v(e,a){var u=r.get(e);if(6===e.image.length)if(e.version>0&&u.__version!==e.version){u.__image__webglTextureCube||(e.addEventListener("dispose",h),u.__image__webglTextureCube=t.createTexture(),C.textures++),n.activeTexture(t.TEXTURE0+a),n.bindTexture(t.TEXTURE_CUBE_MAP,u.__image__webglTextureCube),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var c=e&&e.isCompressedTexture,f=e.image[0]&&e.image[0].isDataTexture,d=[],p=0;p<6;p++)d[p]=c||f?f?e.image[p].image:e.image[p]:s(e.image[p],i.maxCubemapSize);var m=d[0],g=l(m),v=o(e.format),y=o(e.type);b(t.TEXTURE_CUBE_MAP,e,g);for(var p=0;p<6;p++)if(c)for(var _,w=d[p].mipmaps,x=0,E=w.length;x<E;x++)_=w[x],e.format!==Ma&&e.format!==Ea?n.getCompressedTextureFormats().indexOf(v)>-1?n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+p,x,v,_.width,_.height,0,_.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+p,x,v,_.width,_.height,0,v,y,_.data);else f?n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+p,0,v,d[p].width,d[p].height,0,v,y,d[p].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+p,0,v,v,y,d[p]);e.generateMipmaps&&g&&t.generateMipmap(t.TEXTURE_CUBE_MAP),u.__version=e.version,e.onUpdate&&e.onUpdate(e)}else n.activeTexture(t.TEXTURE0+a),n.bindTexture(t.TEXTURE_CUBE_MAP,u.__image__webglTextureCube)}function y(e,i){n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_CUBE_MAP,r.get(e).__webglTexture)}function b(n,a,s){var l;if(s?(t.texParameteri(n,t.TEXTURE_WRAP_S,o(a.wrapS)),t.texParameteri(n,t.TEXTURE_WRAP_T,o(a.wrapT)),t.texParameteri(n,t.TEXTURE_MAG_FILTER,o(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,o(a.minFilter))):(t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),a.wrapS===na&&a.wrapT===na||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",a),t.texParameteri(n,t.TEXTURE_MAG_FILTER,f(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,f(a.minFilter)),a.minFilter!==ia&&a.minFilter!==sa&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",a)),l=e.get("EXT_texture_filter_anisotropic")){if(a.type===ga&&null===e.get("OES_texture_float_linear"))return;if(a.type===va&&null===e.get("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(t.texParameterf(n,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function _(e,r,a){void 0===e.__webglInit&&(e.__webglInit=!0,r.addEventListener("dispose",h),e.__webglTexture=t.createTexture(),C.textures++),n.activeTexture(t.TEXTURE0+a),n.bindTexture(t.TEXTURE_2D,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,r.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,r.unpackAlignment);var f=s(r.image,i.maxTextureSize);c(r)&&!1===l(f)&&(f=u(f));var d=l(f),p=o(r.format),m=o(r.type);b(t.TEXTURE_2D,r,d);var g,v=r.mipmaps;if(r.isDepthTexture){var y=t.DEPTH_COMPONENT;if(r.type===ga){if(!O)throw new Error("Float Depth Texture only supported in WebGL2.0");y=t.DEPTH_COMPONENT32F}else O&&(y=t.DEPTH_COMPONENT16);r.format===Oa&&y===t.DEPTH_COMPONENT&&r.type!==da&&r.type!==ma&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=da,m=o(r.type)),r.format===Aa&&(y=t.DEPTH_STENCIL,r.type!==wa&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=wa,m=o(r.type))),n.texImage2D(t.TEXTURE_2D,0,y,f.width,f.height,0,p,m,null)}else if(r.isDataTexture)if(v.length>0&&d){for(var _=0,w=v.length;_<w;_++)g=v[_],n.texImage2D(t.TEXTURE_2D,_,p,g.width,g.height,0,p,m,g.data);r.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,p,f.width,f.height,0,p,m,f.data);else if(r.isCompressedTexture)for(var _=0,w=v.length;_<w;_++)g=v[_],r.format!==Ma&&r.format!==Ea?n.getCompressedTextureFormats().indexOf(p)>-1?n.compressedTexImage2D(t.TEXTURE_2D,_,p,g.width,g.height,0,g.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(t.TEXTURE_2D,_,p,g.width,g.height,0,p,m,g.data);else if(v.length>0&&d){for(var _=0,w=v.length;_<w;_++)g=v[_],n.texImage2D(t.TEXTURE_2D,_,p,p,m,g);r.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,p,p,m,f);r.generateMipmaps&&d&&t.generateMipmap(t.TEXTURE_2D),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function w(e,i,a,s){var l=o(i.texture.format),u=o(i.texture.type);n.texImage2D(s,0,l,i.width,i.height,0,l,u,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,a,s,r.get(i.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function x(e,n){t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer&&!n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)):n.depthBuffer&&n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)):t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,n.width,n.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}function E(e,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported!");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),g(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Oa)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,i,0);else{if(n.depthTexture.format!==Aa)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,i,0)}}function M(e){var n=r.get(e),i=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");E(n.__webglFramebuffer,e)}else if(i){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=t.createRenderbuffer(),x(n.__webglDepthbuffer[o],e)}else t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),x(n.__webglDepthbuffer,e);t.bindFramebuffer(t.FRAMEBUFFER,null)}function S(e){var i=r.get(e),o=r.get(e.texture);e.addEventListener("dispose",d),o.__webglTexture=t.createTexture(),C.textures++;var a=!0===e.isWebGLRenderTargetCube,s=l(e);if(a){i.__webglFramebuffer=[];for(var u=0;u<6;u++)i.__webglFramebuffer[u]=t.createFramebuffer()}else i.__webglFramebuffer=t.createFramebuffer();if(a){n.bindTexture(t.TEXTURE_CUBE_MAP,o.__webglTexture),b(t.TEXTURE_CUBE_MAP,e.texture,s);for(var u=0;u<6;u++)w(i.__webglFramebuffer[u],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+u);e.texture.generateMipmaps&&s&&t.generateMipmap(t.TEXTURE_CUBE_MAP),n.bindTexture(t.TEXTURE_CUBE_MAP,null)}else n.bindTexture(t.TEXTURE_2D,o.__webglTexture),b(t.TEXTURE_2D,e.texture,s),w(i.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),e.texture.generateMipmaps&&s&&t.generateMipmap(t.TEXTURE_2D),n.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&M(e)}function T(e){var i=e.texture;if(i.generateMipmaps&&l(e)&&i.minFilter!==ia&&i.minFilter!==sa){var o=e&&e.isWebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,a=r.get(i).__webglTexture;n.bindTexture(o,a),t.generateMipmap(o),n.bindTexture(o,null)}}var C=a.memory,O="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext;this.setTexture2D=g,this.setTextureCube=v,this.setTextureCubeDynamic=y,this.setupRenderTarget=S,this.updateRenderTargetMipmap=T}function re(){var t={};return{get:function(e){var n=e.uuid,r=t[n];return void 0===r&&(r={},t[n]=r),r},delete:function(e){delete t[e.uuid]},clear:function(){t={}}}}function ie(t,e,n){function r(){var e=!1,n=new i,r=null,o=new i;return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,r,i,a,s){!0===s&&(e*=a,r*=a,i*=a),n.set(e,r,i,a),!1===o.equals(n)&&(t.clearColor(e,r,i,a),o.copy(n))},reset:function(){e=!1,r=null,o.set(0,0,0,1)}}}function o(){var e=!1,n=null,r=null,i=null;return{setTest:function(e){e?d(t.DEPTH_TEST):p(t.DEPTH_TEST)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case Po:t.depthFunc(t.NEVER);break;case Lo:t.depthFunc(t.ALWAYS);break;case No:t.depthFunc(t.LESS);break;case ko:t.depthFunc(t.LEQUAL);break;case Do:t.depthFunc(t.EQUAL);break;case Fo:t.depthFunc(t.GEQUAL);break;case jo:t.depthFunc(t.GREATER);break;case Uo:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);r=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,n=null,r=null,i=null}}}function a(){var e=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,u=null;return{setTest:function(e){e?d(t.STENCIL_TEST):p(t.STENCIL_TEST)},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,a){r===e&&i===n&&o===a||(t.stencilFunc(e,n,a),r=e,i=n,o=a)},setOp:function(e,n,r){a===e&&s===n&&l===r||(t.stencilOp(e,n,r),a=e,s=n,l=r)},setLocked:function(t){e=t},setClear:function(e){u!==e&&(t.clearStencil(e),u=e)},reset:function(){e=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,u=null}}}function s(e,n,r){var i=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var a=0;a<r;a++)t.texImage2D(n+a,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,i);return o}function l(){j.setClear(0,0,0,1),U.setClear(1),z.setClear(0),d(t.DEPTH_TEST),_(ko),S(!1),T(Ki),d(t.CULL_FACE),d(t.BLEND),g(co)}function u(){for(var t=0,e=V.length;t<e;t++)V[t]=0}function c(n){if(V[n]=1,0===G[n]&&(t.enableVertexAttribArray(n),G[n]=1),0!==H[n]){e.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,0),H[n]=0}}function f(e,n,r){V[e]=1,0===G[e]&&(t.enableVertexAttribArray(e),G[e]=1),H[e]!==n&&(r.vertexAttribDivisorANGLE(e,n),H[e]=n)}function h(){for(var e=0,n=G.length;e!==n;++e)G[e]!==V[e]&&(t.disableVertexAttribArray(e),G[e]=0)}function d(e){!0!==q[e]&&(t.enable(e),q[e]=!0)}function p(e){!1!==q[e]&&(t.disable(e),q[e]=!1)}function m(){if(null===W&&(W=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")))for(var n=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),r=0;r<n.length;r++)W.push(n[r]);return W}function g(e,r,i,o,a,s,l,u){e!==uo?d(t.BLEND):p(t.BLEND),e===Y&&u===tt||(e===fo?u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)):e===ho?u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR)):e===po?u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR)):u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)),Y=e,tt=u),e===mo?(a=a||r,s=s||i,l=l||o,r===X&&a===Q||(t.blendEquationSeparate(n(r),n(a)),X=r,Q=a),i===Z&&o===K&&s===J&&l===$||(t.blendFuncSeparate(n(i),n(o),n(s),n(l)),Z=i,K=o,J=s,$=l)):(X=null,Z=null,K=null,Q=null,J=null,$=null)}function v(t){j.setMask(t)}function y(t){U.setTest(t)}function b(t){U.setMask(t)}function _(t){U.setFunc(t)}function w(t){z.setTest(t)}function x(t){z.setMask(t)}function E(t,e,n){z.setFunc(t,e,n)}function M(t,e,n){z.setOp(t,e,n)}function S(e){et!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),et=e)}function T(e){e!==Zi?(d(t.CULL_FACE),e!==nt&&(e===Ki?t.cullFace(t.BACK):e===Qi?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):p(t.CULL_FACE),nt=e}function C(e){e!==rt&&(ut&&t.lineWidth(e),rt=e)}function O(e,n,r){e?(d(t.POLYGON_OFFSET_FILL),it===n&&ot===r||(t.polygonOffset(n,r),it=n,ot=r)):p(t.POLYGON_OFFSET_FILL)}function A(){return at}function I(e){at=e,e?d(t.SCISSOR_TEST):p(t.SCISSOR_TEST)}function R(e){void 0===e&&(e=t.TEXTURE0+st-1),ct!==e&&(t.activeTexture(e),ct=e)}function P(e,n){null===ct&&R();var r=ft[ct];void 0===r&&(r={type:void 0,texture:void 0},ft[ct]=r),r.type===e&&r.texture===n||(t.bindTexture(e,n||pt[e]),r.type=e,r.texture=n)}function L(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error(t)}}function N(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error(t)}}function k(e){!1===ht.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),ht.copy(e))}function D(e){!1===dt.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),dt.copy(e))}function F(){for(var e=0;e<G.length;e++)1===G[e]&&(t.disableVertexAttribArray(e),G[e]=0);q={},W=null,ct=null,ft={},Y=null,et=null,nt=null,j.reset(),U.reset(),z.reset()}var j=new r,U=new o,z=new a,B=t.getParameter(t.MAX_VERTEX_ATTRIBS),V=new Uint8Array(B),G=new Uint8Array(B),H=new Uint8Array(B),q={},W=null,Y=null,X=null,Z=null,K=null,Q=null,J=null,$=null,tt=!1,et=null,nt=null,rt=null,it=null,ot=null,at=null,st=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),lt=parseFloat(/^WebGL\ ([0-9])/.exec(t.getParameter(t.VERSION))[1]),ut=parseFloat(lt)>=1,ct=null,ft={},ht=new i,dt=new i,pt={};return pt[t.TEXTURE_2D]=s(t.TEXTURE_2D,t.TEXTURE_2D,1),pt[t.TEXTURE_CUBE_MAP]=s(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),{buffers:{color:j,depth:U,stencil:z},init:l,initAttributes:u,enableAttribute:c,enableAttributeAndDivisor:f,disableUnusedAttributes:h,enable:d,disable:p,getCompressedTextureFormats:m,setBlending:g,setColorWrite:v,setDepthTest:y,setDepthWrite:b,setDepthFunc:_,setStencilTest:w,setStencilWrite:x,setStencilFunc:E,setStencilOp:M,setFlipSided:S,setCullFace:T,setLineWidth:C,setPolygonOffset:O,getScissorTest:A,setScissorTest:I,activeTexture:R,bindTexture:P,compressedTexImage2D:L,texImage2D:N,scissor:k,viewport:D,reset:F}}function oe(t,e,n){function r(){if(void 0!==o)return o;var n=e.get("EXT_texture_filter_anisotropic");return o=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}function i(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var o,a=void 0!==n.precision?n.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var l=!0===n.logarithmicDepthBuffer&&!!e.get("EXT_frag_depth"),u=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),c=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=t.getParameter(t.MAX_TEXTURE_SIZE),h=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),d=t.getParameter(t.MAX_VERTEX_ATTRIBS),p=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),m=t.getParameter(t.MAX_VARYING_VECTORS),g=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),v=c>0,y=!!e.get("OES_texture_float");return{getMaxAnisotropy:r,getMaxPrecision:i,precision:a,logarithmicDepthBuffer:l,maxTextures:u,maxVertexTextures:c,maxTextureSize:f,maxCubemapSize:h,maxAttributes:d,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y}}function ae(t){var e={};return{get:function(n){if(void 0!==e[n])return e[n];var r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":r=t.getExtension("WEBGL_compressed_texture_etc1");break;default:r=t.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),e[n]=r,r}}}function se(){function t(){u.value!==r&&(u.value=r,u.needsUpdate=i>0),n.numPlanes=i,n.numIntersection=0}function e(t,e,r,i){var o=null!==t?t.length:0,a=null;if(0!==o){if(a=u.value,!0!==i||null===a){var c=r+4*o,f=e.matrixWorldInverse;l.getNormalMatrix(f),(null===a||a.length<c)&&(a=new Float32Array(c));for(var h=0,d=r;h!==o;++h,d+=4)s.copy(t[h]).applyMatrix4(f,l),s.normal.toArray(a,d),a[d+3]=s.constant}u.value=a,u.needsUpdate=!0}return n.numPlanes=o,a}var n=this,r=null,i=0,o=!1,a=!1,s=new nt,l=new et,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(t,n,a){var s=0!==t.length||n||0!==i||o;return o=n,r=e(t,a,0),i=t.length,s},this.beginShadows=function(){a=!0,e(null)},this.endShadows=function(){a=!1,t()},this.setState=function(n,s,l,c,f,h){if(!o||null===n||0===n.length||a&&!l)a?e(null):t();else{var d=a?0:i,p=4*d,m=f.clippingState||null;u.value=m,m=e(n,c,p,h);for(var g=0;g!==p;++g)m[g]=r[g];f.clippingState=m,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=d}}}function le(t){function e(){return null===dt?Tt:1}function n(){le.init(),le.scissor(yt.copy(At).multiplyScalar(Tt)),le.viewport(_t.copy(Lt).multiplyScalar(Tt)),le.buffers.color.setClear(xt.r,xt.g,xt.b,Et,K)}function r(){ft=null,vt=null,gt="",mt=-1,le.reset()}function o(t){t.preventDefault(),r(),n(),ue.clear()}function a(t){var e=t.target;e.removeEventListener("dispose",a),s(e)}function s(t){c(t),ue.delete(t)}function c(t){var e=ue.get(t).program;t.program=void 0,void 0!==e&&he.releaseProgram(e)}function f(t,e,n,r){var i;if(n&&n.isInstancedBufferGeometry&&null===(i=Jt.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");void 0===r&&(r=0),le.initAttributes();var o=n.attributes,a=e.getAttributes(),s=t.defaultAttributeValues;for(var l in a){var u=a[l];if(u>=0){var c=o[l];if(void 0!==c){var f=c.normalized,h=c.itemSize,d=fe.getAttributeProperties(c),p=d.__webglBuffer,m=d.type,g=d.bytesPerElement;if(c.isInterleavedBufferAttribute){var v=c.data,y=v.stride,b=c.offset;v&&v.isInstancedInterleavedBuffer?(le.enableAttributeAndDivisor(u,v.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=v.meshPerAttribute*v.count)):le.enableAttribute(u),Kt.bindBuffer(Kt.ARRAY_BUFFER,p),Kt.vertexAttribPointer(u,h,m,f,y*g,(r*y+b)*g)}else c.isInstancedBufferAttribute?(le.enableAttributeAndDivisor(u,c.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=c.meshPerAttribute*c.count)):le.enableAttribute(u),Kt.bindBuffer(Kt.ARRAY_BUFFER,p),Kt.vertexAttribPointer(u,h,m,f,0,r*h*g)}else if(void 0!==s){var _=s[l];if(void 0!==_)switch(_.length){case 2:Kt.vertexAttrib2fv(u,_);break;case 3:Kt.vertexAttrib3fv(u,_);break;case 4:Kt.vertexAttrib4fv(u,_);break;default:Kt.vertexAttrib1fv(u,_)}}}}le.disableUnusedAttributes()}function h(t,e){return Math.abs(e[0])-Math.abs(t[0])}function d(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.material.program&&e.material.program&&t.material.program!==e.material.program?t.material.program.id-e.material.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function p(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function m(t,e,n,r,i){var o,a;n.transparent?(o=ot,a=++at):(o=et,a=++nt);var s=o[a];void 0!==s?(s.id=t.id,s.object=t,s.geometry=e,s.material=n,s.z=qt.z,s.group=i):(s={id:t.id,object:t,geometry:e,material:n,z:qt.z,group:i},o.push(s))}function g(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Gt.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),y(Gt)}function v(t){return Gt.center.set(0,0,0),Gt.radius=.7071067811865476,Gt.applyMatrix4(t.matrixWorld),y(Gt)}function y(t){if(!Ut.intersectsSphere(t))return!1;var e=zt.numPlanes;if(0===e)return!0;var n=ct.clippingPlanes,r=t.center,i=-t.radius,o=0;do{if(n[o].distanceToPoint(r)<i)return!1}while(++o!==e);return!0}function b(t,e){if(!1!==t.visible){if(0!=(t.layers.mask&e.layers.mask))if(t.isLight)$.push(t);else if(t.isSprite)!1!==t.frustumCulled&&!0!==v(t)||lt.push(t);else if(t.isLensFlare)ut.push(t);else if(t.isImmediateRenderObject)!0===ct.sortObjects&&(qt.setFromMatrixPosition(t.matrixWorld),qt.applyMatrix4(Ht)),m(t,null,t.material,qt.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!1===t.frustumCulled||!0===g(t))){var n=t.material;if(!0===n.visible){!0===ct.sortObjects&&(qt.setFromMatrixPosition(t.matrixWorld),qt.applyMatrix4(Ht));var r=fe.update(t);if(n.isMultiMaterial)for(var i=r.groups,o=n.materials,a=0,s=i.length;a<s;a++){var l=i[a],u=o[l.materialIndex];!0===u.visible&&m(t,r,u,qt.z,l)}else m(t,r,n,qt.z,null)}}for(var c=t.children,a=0,s=c.length;a<s;a++)b(c[a],e)}}function _(t,e,n,r){for(var i=0,o=t.length;i<o;i++){var a=t[i],s=a.object,l=a.geometry,u=void 0===r?a.material:r,c=a.group;if(s.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,s.matrixWorld),s.normalMatrix.getNormalMatrix(s.modelViewMatrix),s.onBeforeRender(ct,e,n,l,u,c),s.isImmediateRenderObject){x(u);var f=E(n,e.fog,u,s);gt="",s.render(function(t){ct.renderBufferImmediate(t,f,u)})}else ct.renderBufferDirect(n,e.fog,l,u,s,c);s.onAfterRender(ct,e,n,l,u,c)}}function w(t,e,n){var r=ue.get(t),i=he.getParameters(t,Xt,e,zt.numPlanes,zt.numIntersection,n),o=he.getProgramCode(t,i),s=r.program,l=!0;if(void 0===s)t.addEventListener("dispose",a);else if(s.code!==o)c(t);else{if(void 0!==i.shaderID)return;l=!1}if(l){if(i.shaderID){var u=cs[i.shaderID];r.__webglShader={name:t.type,uniforms:as.clone(u.uniforms),vertexShader:u.vertexShader,fragmentShader:u.fragmentShader}}else r.__webglShader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.__webglShader=r.__webglShader,s=he.acquireProgram(t,i,o),r.program=s,t.program=s}var f=s.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var h=0;h<ct.maxMorphTargets;h++)f["morphTarget"+h]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(var h=0;h<ct.maxMorphNormals;h++)f["morphNormal"+h]>=0&&t.numSupportedMorphNormals++}var d=r.__webglShader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=zt.numPlanes,r.numIntersection=zt.numIntersection,d.clippingPlanes=zt.uniform),r.fog=e,r.lightsHash=Xt.hash,t.lights&&(d.ambientLightColor.value=Xt.ambient,d.directionalLights.value=Xt.directional,d.spotLights.value=Xt.spot,d.rectAreaLights.value=Xt.rectArea,d.pointLights.value=Xt.point,d.hemisphereLights.value=Xt.hemi,d.directionalShadowMap.value=Xt.directionalShadowMap,d.directionalShadowMatrix.value=Xt.directionalShadowMatrix,d.spotShadowMap.value=Xt.spotShadowMap,d.spotShadowMatrix.value=Xt.spotShadowMatrix,d.pointShadowMap.value=Xt.pointShadowMap,d.pointShadowMatrix.value=Xt.pointShadowMatrix);var p=r.program.getUniforms(),m=H.seqWithValue(p.seq,d);r.uniformsList=m}function x(t){t.side===ro?le.disable(Kt.CULL_FACE):le.enable(Kt.CULL_FACE),le.setFlipSided(t.side===no),!0===t.transparent?le.setBlending(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):le.setBlending(uo),le.setDepthFunc(t.depthFunc),le.setDepthTest(t.depthTest),le.setDepthWrite(t.depthWrite),le.setColorWrite(t.colorWrite),le.setPolygonOffset(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function E(t,e,n,r){wt=0;var i=ue.get(n);if(Bt&&(Vt||t!==vt)){var o=t===vt&&n.id===mt;zt.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,i,o)}!1===n.needsUpdate&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==e?n.needsUpdate=!0:n.lights&&i.lightsHash!==Xt.hash?n.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===zt.numPlanes&&i.numIntersection===zt.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(w(n,e,r),n.needsUpdate=!1);var a=!1,s=!1,l=!1,u=i.program,c=u.getUniforms(),f=i.__webglShader.uniforms;if(u.id!==ft&&(Kt.useProgram(u.program),ft=u.id,a=!0,s=!0,l=!0),n.id!==mt&&(mt=n.id,s=!0),a||t!==vt){if(c.set(Kt,t,"projectionMatrix"),te.logarithmicDepthBuffer&&c.setValue(Kt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),t!==vt&&(vt=t,s=!0,l=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var h=c.map.cameraPosition;void 0!==h&&h.setValue(Kt,qt.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&c.setValue(Kt,"viewMatrix",t.matrixWorldInverse),c.set(Kt,ct,"toneMappingExposure"),c.set(Kt,ct,"toneMappingWhitePoint")}if(n.skinning){c.setOptional(Kt,r,"bindMatrix"),c.setOptional(Kt,r,"bindMatrixInverse");var d=r.skeleton;d&&(te.floatVertexTextures&&d.useVertexTexture?(c.set(Kt,d,"boneTexture"),c.set(Kt,d,"boneTextureWidth"),c.set(Kt,d,"boneTextureHeight")):c.setOptional(Kt,d,"boneMatrices"))}return s&&(n.lights&&k(f,l),e&&n.fog&&O(f,e),(n.isMeshBasicMaterial||n.isMeshLambertMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.isMeshNormalMaterial||n.isMeshDepthMaterial)&&M(f,n),n.isLineBasicMaterial?S(f,n):n.isLineDashedMaterial?(S(f,n),T(f,n)):n.isPointsMaterial?C(f,n):n.isMeshLambertMaterial?A(f,n):n.isMeshToonMaterial?R(f,n):n.isMeshPhongMaterial?I(f,n):n.isMeshPhysicalMaterial?L(f,n):n.isMeshStandardMaterial?P(f,n):n.isMeshDepthMaterial?n.displacementMap&&(f.displacementMap.value=n.displacementMap,f.displacementScale.value=n.displacementScale,f.displacementBias.value=n.displacementBias):n.isMeshNormalMaterial&&N(f,n),void 0!==f.ltcMat&&(f.ltcMat.value=THREE.UniformsLib.LTC_MAT_TEXTURE),void 0!==f.ltcMag&&(f.ltcMag.value=THREE.UniformsLib.LTC_MAG_TEXTURE),H.upload(Kt,i.uniformsList,f,ct)),c.set(Kt,r,"modelViewMatrix"),c.set(Kt,r,"normalMatrix"),c.setValue(Kt,"modelMatrix",r.matrixWorld),u}function M(t,e){t.opacity.value=e.opacity,t.diffuse.value=e.color,e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),t.map.value=e.map,t.specularMap.value=e.specularMap,t.alphaMap.value=e.alphaMap,e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity);var n;if(e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap),void 0!==n){n.isWebGLRenderTarget&&(n=n.texture);var r=n.offset,i=n.repeat;t.offsetRepeat.value.set(r.x,r.y,i.x,i.y)}t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio}function S(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function T(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function C(t,e){if(t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*Tt,t.scale.value=.5*St,t.map.value=e.map,null!==e.map){var n=e.map.offset,r=e.map.repeat;t.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}}function O(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}function A(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}function I(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function R(t,e){I(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}function P(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function L(t,e){t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness,P(t,e)}function N(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function k(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLights.needsUpdate=e,t.pointLights.needsUpdate=e,t.spotLights.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}function D(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t[n];i.castShadow&&(Xt.shadows[e++]=i)}Xt.shadows.length=e}function F(t,e){var n,r,i,o,a,s,l,c=0,f=0,h=0,d=e.matrixWorldInverse,p=0,m=0,g=0,v=0,y=0;for(n=0,r=t.length;n<r;n++)if(i=t[n],o=i.color,a=i.intensity,s=i.distance,l=i.shadow&&i.shadow.map?i.shadow.map.texture:null,i.isAmbientLight)c+=o.r*a,f+=o.g*a,h+=o.b*a;else if(i.isDirectionalLight){var b=de.get(i);b.color.copy(i.color).multiplyScalar(i.intensity),b.direction.setFromMatrixPosition(i.matrixWorld),qt.setFromMatrixPosition(i.target.matrixWorld),b.direction.sub(qt),b.direction.transformDirection(d),b.shadow=i.castShadow,i.castShadow&&(b.shadowBias=i.shadow.bias,b.shadowRadius=i.shadow.radius,b.shadowMapSize=i.shadow.mapSize),Xt.directionalShadowMap[p]=l,Xt.directionalShadowMatrix[p]=i.shadow.matrix,Xt.directional[p++]=b}else if(i.isSpotLight){var b=de.get(i);b.position.setFromMatrixPosition(i.matrixWorld),b.position.applyMatrix4(d),b.color.copy(o).multiplyScalar(a),b.distance=s,b.direction.setFromMatrixPosition(i.matrixWorld),qt.setFromMatrixPosition(i.target.matrixWorld),b.direction.sub(qt),b.direction.transformDirection(d),b.coneCos=Math.cos(i.angle),b.penumbraCos=Math.cos(i.angle*(1-i.penumbra)),b.decay=0===i.distance?0:i.decay,b.shadow=i.castShadow,i.castShadow&&(b.shadowBias=i.shadow.bias,b.shadowRadius=i.shadow.radius,b.shadowMapSize=i.shadow.mapSize),Xt.spotShadowMap[g]=l,Xt.spotShadowMatrix[g]=i.shadow.matrix,Xt.spot[g++]=b}else if(i.isRectAreaLight){var b=de.get(i);b.color.copy(o).multiplyScalar(a/(i.width*i.height)),b.position.setFromMatrixPosition(i.matrixWorld),b.position.applyMatrix4(d),Yt.identity(),Wt.copy(i.matrixWorld),Wt.premultiply(d),Yt.extractRotation(Wt),b.halfWidth.set(.5*i.width,0,0),b.halfHeight.set(0,.5*i.height,0),b.halfWidth.applyMatrix4(Yt),b.halfHeight.applyMatrix4(Yt),Xt.rectArea[v++]=b}else if(i.isPointLight){var b=de.get(i);b.position.setFromMatrixPosition(i.matrixWorld),b.position.applyMatrix4(d),b.color.copy(i.color).multiplyScalar(i.intensity),b.distance=i.distance,b.decay=0===i.distance?0:i.decay,b.shadow=i.castShadow,i.castShadow&&(b.shadowBias=i.shadow.bias,b.shadowRadius=i.shadow.radius,b.shadowMapSize=i.shadow.mapSize),Xt.pointShadowMap[m]=l,void 0===Xt.pointShadowMatrix[m]&&(Xt.pointShadowMatrix[m]=new u),qt.setFromMatrixPosition(i.matrixWorld).negate(),Xt.pointShadowMatrix[m].identity().setPosition(qt),Xt.point[m++]=b}else if(i.isHemisphereLight){var b=de.get(i);b.direction.setFromMatrixPosition(i.matrixWorld),b.direction.transformDirection(d),b.direction.normalize(),b.skyColor.copy(i.color).multiplyScalar(a),b.groundColor.copy(i.groundColor).multiplyScalar(a),Xt.hemi[y++]=b}Xt.ambient[0]=c,Xt.ambient[1]=f,Xt.ambient[2]=h,Xt.directional.length=p,Xt.spot.length=g,Xt.rectArea.length=v,Xt.point.length=m,Xt.hemi.length=y,Xt.hash=p+","+m+","+g+","+v+","+y+","+Xt.shadows.length}function j(){var t=wt;return t>=te.maxTextures&&console.warn("WebGLRenderer: trying to use "+t+" texture units while this GPU supports only "+te.maxTextures),wt+=1,t}function U(t){var e;if(t===ea)return Kt.REPEAT;if(t===na)return Kt.CLAMP_TO_EDGE;if(t===ra)return Kt.MIRRORED_REPEAT;if(t===ia)return Kt.NEAREST;if(t===oa)return Kt.NEAREST_MIPMAP_NEAREST;if(t===aa)return Kt.NEAREST_MIPMAP_LINEAR;if(t===sa)return Kt.LINEAR;if(t===la)return Kt.LINEAR_MIPMAP_NEAREST;if(t===ua)return Kt.LINEAR_MIPMAP_LINEAR;if(t===ca)return Kt.UNSIGNED_BYTE;if(t===ya)return Kt.UNSIGNED_SHORT_4_4_4_4;if(t===ba)return Kt.UNSIGNED_SHORT_5_5_5_1;if(t===_a)return Kt.UNSIGNED_SHORT_5_6_5;if(t===fa)return Kt.BYTE;if(t===ha)return Kt.SHORT;if(t===da)return Kt.UNSIGNED_SHORT;if(t===pa)return Kt.INT;if(t===ma)return Kt.UNSIGNED_INT;if(t===ga)return Kt.FLOAT;if(t===va&&null!==(e=Jt.get("OES_texture_half_float")))return e.HALF_FLOAT_OES;if(t===xa)return Kt.ALPHA;if(t===Ea)return Kt.RGB;if(t===Ma)return Kt.RGBA;if(t===Sa)return Kt.LUMINANCE;if(t===Ta)return Kt.LUMINANCE_ALPHA;if(t===Oa)return Kt.DEPTH_COMPONENT;if(t===Aa)return Kt.DEPTH_STENCIL;if(t===go)return Kt.FUNC_ADD;if(t===vo)return Kt.FUNC_SUBTRACT;if(t===yo)return Kt.FUNC_REVERSE_SUBTRACT;if(t===wo)return Kt.ZERO;if(t===xo)return Kt.ONE;if(t===Eo)return Kt.SRC_COLOR;if(t===Mo)return Kt.ONE_MINUS_SRC_COLOR;if(t===So)return Kt.SRC_ALPHA;if(t===To)return Kt.ONE_MINUS_SRC_ALPHA;if(t===Co)return Kt.DST_ALPHA;if(t===Oo)return Kt.ONE_MINUS_DST_ALPHA;if(t===Ao)return Kt.DST_COLOR;if(t===Io)return Kt.ONE_MINUS_DST_COLOR;if(t===Ro)return Kt.SRC_ALPHA_SATURATE;if((t===Ia||t===Ra||t===Pa||t===La)&&null!==(e=Jt.get("WEBGL_compressed_texture_s3tc"))){if(t===Ia)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===Ra)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===Pa)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===La)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===Na||t===ka||t===Da||t===Fa)&&null!==(e=Jt.get("WEBGL_compressed_texture_pvrtc"))){if(t===Na)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===ka)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===Da)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===Fa)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===ja&&null!==(e=Jt.get("WEBGL_compressed_texture_etc1")))return e.COMPRESSED_RGB_ETC1_WEBGL;if((t===bo||t===_o)&&null!==(e=Jt.get("EXT_blend_minmax"))){if(t===bo)return e.MIN_EXT;if(t===_o)return e.MAX_EXT}return t===wa&&null!==(e=Jt.get("WEBGL_depth_texture"))?e.UNSIGNED_INT_24_8_WEBGL:0}console.log("THREE.WebGLRenderer",Yi),t=t||{};var z=void 0!==t.canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),B=void 0!==t.context?t.context:null,V=void 0!==t.alpha&&t.alpha,G=void 0===t.depth||t.depth,W=void 0===t.stencil||t.stencil,Y=void 0!==t.antialias&&t.antialias,K=void 0===t.premultipliedAlpha||t.premultipliedAlpha,J=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,$=[],et=[],nt=-1,ot=[],at=-1,st=new Float32Array(8),lt=[],ut=[];this.domElement=z,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=Ho,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var ct=this,ft=null,dt=null,pt=null,mt=-1,gt="",vt=null,yt=new i,bt=null,_t=new i,wt=0,xt=new q(0),Et=0,Mt=z.width,St=z.height,Tt=1,At=new i(0,0,Mt,St),Rt=!1,Lt=new i(0,0,Mt,St),Ut=new rt,zt=new se,Bt=!1,Vt=!1,Gt=new tt,Ht=new u,qt=new l,Wt=new u,Yt=new u,Xt={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},Zt={calls:0,vertices:0,faces:0,points:0};this.info={render:Zt,memory:{geometries:0,textures:0},programs:null};var Kt;try{var Qt={alpha:V,depth:G,stencil:W,antialias:Y,premultipliedAlpha:K,preserveDrawingBuffer:J};if(null===(Kt=B||z.getContext("webgl",Qt)||z.getContext("experimental-webgl",Qt)))throw null!==z.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===Kt.getShaderPrecisionFormat&&(Kt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),z.addEventListener("webglcontextlost",o,!1)}catch(t){console.error("THREE.WebGLRenderer: "+t)}var Jt=new ae(Kt);Jt.get("WEBGL_depth_texture"),Jt.get("OES_texture_float"),Jt.get("OES_texture_float_linear"),Jt.get("OES_texture_half_float"),Jt.get("OES_texture_half_float_linear"),Jt.get("OES_standard_derivatives"),Jt.get("ANGLE_instanced_arrays"),Jt.get("OES_element_index_uint")&&(Ct.MaxIndex=4294967296);var te=new oe(Kt,Jt,t),le=new ie(Kt,Jt,U),ue=new re,ce=new ne(Kt,Jt,le,ue,te,U,this.info),fe=new ee(Kt,ue,this.info),he=new $t(this,te),de=new jt;this.info.programs=he.programs;var pe,me,ge,ve,ye=new Ft(Kt,Jt,Zt),be=new Dt(Kt,Jt,Zt);n(),this.context=Kt,this.capabilities=te,this.extensions=Jt,this.properties=ue,this.state=le;var _e=new it(this,Xt,fe,te);this.shadowMap=_e;var we=new Z(this,lt),xe=new X(this,ut);this.getContext=function(){return Kt},this.getContextAttributes=function(){return Kt.getContextAttributes()},this.forceContextLoss=function(){Jt.get("WEBGL_lose_context").loseContext()},this.getMaxAnisotropy=function(){return te.getMaxAnisotropy()},this.getPrecision=function(){return te.precision},this.getPixelRatio=function(){return Tt},this.setPixelRatio=function(t){void 0!==t&&(Tt=t,this.setSize(Lt.z,Lt.w,!1))},this.getSize=function(){return{width:Mt,height:St}},this.setSize=function(t,e,n){Mt=t,St=e,z.width=t*Tt,z.height=e*Tt,!1!==n&&(z.style.width=t+"px",z.style.height=e+"px"),this.setViewport(0,0,t,e)},this.setViewport=function(t,e,n,r){le.viewport(Lt.set(t,e,n,r))},this.setScissor=function(t,e,n,r){le.scissor(At.set(t,e,n,r))},this.setScissorTest=function(t){le.setScissorTest(Rt=t)},this.getClearColor=function(){return xt},this.setClearColor=function(t,e){xt.set(t),Et=void 0!==e?e:1,le.buffers.color.setClear(xt.r,xt.g,xt.b,Et,K)},this.getClearAlpha=function(){return Et},this.setClearAlpha=function(t){Et=t,le.buffers.color.setClear(xt.r,xt.g,xt.b,Et,K)},this.clear=function(t,e,n){var r=0;(void 0===t||t)&&(r|=Kt.COLOR_BUFFER_BIT),(void 0===e||e)&&(r|=Kt.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=Kt.STENCIL_BUFFER_BIT),Kt.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,n,r){this.setRenderTarget(t),this.clear(e,n,r)},this.resetGLState=r,this.dispose=function(){ot=[],at=-1,et=[],nt=-1,z.removeEventListener("webglcontextlost",o,!1)},this.renderBufferImmediate=function(t,e,n){le.initAttributes();var r=ue.get(t);t.hasPositions&&!r.position&&(r.position=Kt.createBuffer()),t.hasNormals&&!r.normal&&(r.normal=Kt.createBuffer()),t.hasUvs&&!r.uv&&(r.uv=Kt.createBuffer()),t.hasColors&&!r.color&&(r.color=Kt.createBuffer());var i=e.getAttributes();if(t.hasPositions&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,r.position),Kt.bufferData(Kt.ARRAY_BUFFER,t.positionArray,Kt.DYNAMIC_DRAW),le.enableAttribute(i.position),Kt.vertexAttribPointer(i.position,3,Kt.FLOAT,!1,0,0)),t.hasNormals){if(Kt.bindBuffer(Kt.ARRAY_BUFFER,r.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&n.shading===io)for(var o=0,a=3*t.count;o<a;o+=9){var s=t.normalArray,l=(s[o+0]+s[o+3]+s[o+6])/3,u=(s[o+1]+s[o+4]+s[o+7])/3,c=(s[o+2]+s[o+5]+s[o+8])/3;s[o+0]=l,s[o+1]=u,s[o+2]=c,s[o+3]=l,s[o+4]=u,s[o+5]=c,s[o+6]=l,s[o+7]=u,s[o+8]=c}Kt.bufferData(Kt.ARRAY_BUFFER,t.normalArray,Kt.DYNAMIC_DRAW),le.enableAttribute(i.normal),Kt.vertexAttribPointer(i.normal,3,Kt.FLOAT,!1,0,0)}t.hasUvs&&n.map&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,r.uv),Kt.bufferData(Kt.ARRAY_BUFFER,t.uvArray,Kt.DYNAMIC_DRAW),le.enableAttribute(i.uv),Kt.vertexAttribPointer(i.uv,2,Kt.FLOAT,!1,0,0)),t.hasColors&&n.vertexColors!==ao&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,r.color),Kt.bufferData(Kt.ARRAY_BUFFER,t.colorArray,Kt.DYNAMIC_DRAW),le.enableAttribute(i.color),Kt.vertexAttribPointer(i.color,3,Kt.FLOAT,!1,0,0)),le.disableUnusedAttributes(),Kt.drawArrays(Kt.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,n,r,i,o,a){x(i);var s=E(t,n,i,o),l=!1,u=r.id+"_"+s.id+"_"+i.wireframe;u!==gt&&(gt=u,l=!0);var c=o.morphTargetInfluences;if(void 0!==c){for(var d=[],p=0,m=c.length;p<m;p++){var g=c[p];d.push([g,p])}d.sort(h),d.length>8&&(d.length=8);for(var v=r.morphAttributes,p=0,m=d.length;p<m;p++){var g=d[p];if(st[p]=g[0],0!==g[0]){var y=g[1];!0===i.morphTargets&&v.position&&r.addAttribute("morphTarget"+p,v.position[y]),!0===i.morphNormals&&v.normal&&r.addAttribute("morphNormal"+p,v.normal[y])}else!0===i.morphTargets&&r.removeAttribute("morphTarget"+p),!0===i.morphNormals&&r.removeAttribute("morphNormal"+p)}for(var p=d.length,b=st.length;p<b;p++)st[p]=0;s.getUniforms().setValue(Kt,"morphTargetInfluences",st),l=!0}var y=r.index,_=r.attributes.position,w=1;!0===i.wireframe&&(y=fe.getWireframeAttribute(r),w=2);var M;null!==y?(M=be,M.setIndex(y)):M=ye,l&&(f(i,s,r),null!==y&&Kt.bindBuffer(Kt.ELEMENT_ARRAY_BUFFER,fe.getAttributeBuffer(y)));var S=0;null!==y?S=y.count:void 0!==_&&(S=_.count);var T=r.drawRange.start*w,C=r.drawRange.count*w,O=null!==a?a.start*w:0,A=null!==a?a.count*w:1/0,I=Math.max(T,O),R=Math.min(S,T+C,O+A)-1,P=Math.max(0,R-I+1);if(0!==P){if(o.isMesh)if(!0===i.wireframe)le.setLineWidth(i.wireframeLinewidth*e()),M.setMode(Kt.LINES);else switch(o.drawMode){case Ba:M.setMode(Kt.TRIANGLES);break;case Va:M.setMode(Kt.TRIANGLE_STRIP);break;case Ga:M.setMode(Kt.TRIANGLE_FAN)}else if(o.isLine){var L=i.linewidth;void 0===L&&(L=1),le.setLineWidth(L*e()),o.isLineSegments?M.setMode(Kt.LINES):M.setMode(Kt.LINE_STRIP)}else o.isPoints&&M.setMode(Kt.POINTS);r&&r.isInstancedBufferGeometry?r.maxInstancedCount>0&&M.renderInstances(r,I,P):M.render(I,P)}},this.render=function(t,e,n,r){if(void 0!==e&&!0!==e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");gt="",mt=-1,vt=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),e.matrixWorldInverse.getInverse(e.matrixWorld),Ht.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),Ut.setFromMatrix(Ht),$.length=0,nt=-1,at=-1,lt.length=0,ut.length=0,Vt=this.localClippingEnabled,Bt=zt.init(this.clippingPlanes,Vt,e),b(t,e),et.length=nt+1,ot.length=at+1,!0===ct.sortObjects&&(et.sort(d),ot.sort(p)),Bt&&zt.beginShadows(),D($),_e.render(t,e),F($,e),Bt&&zt.endShadows(),Zt.calls=0,Zt.vertices=0,Zt.faces=0,Zt.points=0,void 0===n&&(n=null),this.setRenderTarget(n);var i=t.background;if(null===i?le.buffers.color.setClear(xt.r,xt.g,xt.b,Et,K):i&&i.isColor&&(le.buffers.color.setClear(i.r,i.g,i.b,1,K),r=!0),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),i&&i.isCubeTexture?(void 0===ge&&(ge=new Nt,ve=new Ot(new It(5,5,5),new Q({uniforms:cs.cube.uniforms,vertexShader:cs.cube.vertexShader,fragmentShader:cs.cube.fragmentShader,side:no,depthTest:!1,depthWrite:!1,fog:!1}))),ge.projectionMatrix.copy(e.projectionMatrix),ge.matrixWorld.extractRotation(e.matrixWorld),ge.matrixWorldInverse.getInverse(ge.matrixWorld),ve.material.uniforms.tCube.value=i,ve.modelViewMatrix.multiplyMatrices(ge.matrixWorldInverse,ve.matrixWorld),fe.update(ve),ct.renderBufferDirect(ge,null,ve.geometry,ve.material,ve,null)):i&&i.isTexture&&(void 0===pe&&(pe=new kt(-1,1,1,-1,0,1),me=new Ot(new Pt(2,2),new ht({depthTest:!1,depthWrite:!1,fog:!1}))),me.material.map=i,fe.update(me),ct.renderBufferDirect(pe,null,me.geometry,me.material,me,null)),t.overrideMaterial){var o=t.overrideMaterial;_(et,t,e,o),_(ot,t,e,o)}else le.setBlending(uo),_(et,t,e),_(ot,t,e);we.render(t,e),xe.render(t,e,_t),n&&ce.updateRenderTargetMipmap(n),le.setDepthTest(!0),le.setDepthWrite(!0),le.setColorWrite(!0)},this.setFaceCulling=function(t,e){le.setCullFace(t),le.setFlipSided(e===Ji)},this.allocTextureUnit=j,this.setTexture2D=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTarget&&(t||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),ce.setTexture2D(e,n)}}(),this.setTexture=function(){var t=!1;return function(e,n){t||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),t=!0),ce.setTexture2D(e,n)}}(),this.setTextureCube=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTargetCube&&(t||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?ce.setTextureCube(e,n):ce.setTextureCubeDynamic(e,n)}}(),this.getCurrentRenderTarget=function(){return dt},this.setRenderTarget=function(t){dt=t,t&&void 0===ue.get(t).__webglFramebuffer&&ce.setupRenderTarget(t);var e,n=t&&t.isWebGLRenderTargetCube;if(t){var r=ue.get(t);e=n?r.__webglFramebuffer[t.activeCubeFace]:r.__webglFramebuffer,yt.copy(t.scissor),bt=t.scissorTest,_t.copy(t.viewport)}else e=null,yt.copy(At).multiplyScalar(Tt),bt=Rt,_t.copy(Lt).multiplyScalar(Tt);if(pt!==e&&(Kt.bindFramebuffer(Kt.FRAMEBUFFER,e),pt=e),le.scissor(yt),le.setScissorTest(bt),le.viewport(_t),n){var i=ue.get(t.texture);Kt.framebufferTexture2D(Kt.FRAMEBUFFER,Kt.COLOR_ATTACHMENT0,Kt.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,i.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,n,r,i,o){if(!1===(t&&t.isWebGLRenderTarget))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");var a=ue.get(t).__webglFramebuffer;if(a){var s=!1;a!==pt&&(Kt.bindFramebuffer(Kt.FRAMEBUFFER,a),s=!0);try{var l=t.texture,u=l.format,c=l.type;if(u!==Ma&&U(u)!==Kt.getParameter(Kt.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(c===ca||U(c)===Kt.getParameter(Kt.IMPLEMENTATION_COLOR_READ_TYPE)||c===ga&&(Jt.get("OES_texture_float")||Jt.get("WEBGL_color_buffer_float"))||c===va&&Jt.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Kt.checkFramebufferStatus(Kt.FRAMEBUFFER)===Kt.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&Kt.readPixels(e,n,r,i,U(u),U(c),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&Kt.bindFramebuffer(Kt.FRAMEBUFFER,pt)}}}}function ue(t,e){this.name="",this.color=new q(t),this.density=void 0!==e?e:25e-5}function ce(t,e,n){this.name="",this.color=new q(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function fe(){lt.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function he(t,e,n,r,i){lt.call(this),this.lensFlares=[],this.positionScreen=new l,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,n,r,i)}function de(t){K.call(this),this.type="SpriteMaterial",this.color=new q(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(t)}function pe(t){lt.call(this),this.type="Sprite",this.material=void 0!==t?t:new de}function me(){lt.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function ge(t,e,n){if(this.useVertexTexture=void 0===n||n,this.identityMatrix=new u,t=t||[],this.bones=t.slice(0),this.useVertexTexture){var r=Math.sqrt(4*this.bones.length);r=$a.nextPowerOfTwo(Math.ceil(r)),r=Math.max(r,4),this.boneTextureWidth=r,this.boneTextureHeight=r,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new W(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,Ma,ga)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var i=0,o=this.bones.length;i<o;i++)this.boneInverses.push(new u)}}function ve(){lt.call(this),this.type="Bone"}function ye(t,e,n){Ot.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new u,this.bindMatrixInverse=new u;var r=[];if(this.geometry&&void 0!==this.geometry.bones){for(var i,o,a=0,s=this.geometry.bones.length;a<s;++a)o=this.geometry.bones[a],i=new ve,r.push(i),i.name=o.name,i.position.fromArray(o.pos),i.quaternion.fromArray(o.rotq),void 0!==o.scl&&i.scale.fromArray(o.scl);for(var a=0,s=this.geometry.bones.length;a<s;++a)o=this.geometry.bones[a],-1!==o.parent&&null!==o.parent&&void 0!==r[o.parent]?r[o.parent].add(r[a]):this.add(r[a])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new ge(r,void 0,n),this.matrixWorld)}function be(t){K.call(this),this.type="LineBasicMaterial",this.color=new q(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function _e(t,e,n){if(1===n)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new we(t,e);lt.call(this),this.type="Line",this.geometry=void 0!==t?t:new Ct,this.material=void 0!==e?e:new be({color:16777215*Math.random()})}function we(t,e){_e.call(this,t,e),this.type="LineSegments"}function xe(t){K.call(this),this.type="PointsMaterial",this.color=new q(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(t)}function Ee(t,e){lt.call(this),this.type="Points",this.geometry=void 0!==t?t:new Ct,this.material=void 0!==e?e:new xe({color:16777215*Math.random()})}function Me(){lt.call(this),this.type="Group"}function Se(t,e,n,i,o,a,s,l,u){function c(){requestAnimationFrame(c),t.readyState>=t.HAVE_CURRENT_DATA&&(f.needsUpdate=!0)}r.call(this,t,e,n,i,o,a,s,l,u),this.generateMipmaps=!1;var f=this;c()}function Te(t,e,n,i,o,a,s,l,u,c,f,h){r.call(this,null,a,s,l,u,c,i,o,f,h),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Ce(t,e,n,i,o,a,s,l,u){r.call(this,t,e,n,i,o,a,s,l,u),this.needsUpdate=!0}function Oe(t,e,n,i,o,a,s,l,u,c){if((c=void 0!==c?c:Oa)!==Oa&&c!==Aa)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===Oa&&(n=da),void 0===n&&c===Aa&&(n=wa),r.call(this,null,i,o,a,s,l,c,n,u),this.image={width:t,height:e},this.magFilter=void 0!==s?s:ia,this.minFilter=void 0!==l?l:ia,this.flipY=!1,this.generateMipmaps=!1}function Ae(t){function e(t,e){return t-e}Ct.call(this),this.type="WireframeGeometry";var n,r,i,o,a,s,u,c,f=[],h=[0,0],d={},p=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(n=0,i=m.length;n<i;n++){var g=m[n];for(r=0;r<3;r++)h[0]=g[p[r]],h[1]=g[p[(r+1)%3]],h.sort(e),u=h.toString(),void 0===d[u]&&(d[u]={index1:h[0],index2:h[1]})}for(u in d)s=d[u],c=t.vertices[s.index1],f.push(c.x,c.y,c.z),c=t.vertices[s.index2],f.push(c.x,c.y,c.z)}else if(t&&t.isBufferGeometry){var v,y,b,_,w,x,E,M;if(c=new l,null!==t.index){for(v=t.attributes.position,y=t.index,b=t.groups,0===b.length&&t.addGroup(0,y.count),o=0,a=b.length;o<a;++o)for(_=b[o],w=_.start,x=_.count,n=w,i=w+x;n<i;n+=3)for(r=0;r<3;r++)h[0]=y.getX(n+r),h[1]=y.getX(n+(r+1)%3),h.sort(e),u=h.toString(),void 0===d[u]&&(d[u]={index1:h[0],index2:h[1]});for(u in d)s=d[u],c.fromBufferAttribute(v,s.index1),f.push(c.x,c.y,c.z),c.fromBufferAttribute(v,s.index2),f.push(c.x,c.y,c.z)}else for(v=t.attributes.position,n=0,i=v.count/3;n<i;n++)for(r=0;r<3;r++)E=3*n+r,c.fromBufferAttribute(v,E),f.push(c.x,c.y,c.z),M=3*n+(r+1)%3,c.fromBufferAttribute(v,M),f.push(c.x,c.y,c.z)}this.addAttribute("position",new wt(f,3))}function Ie(t,e,n){Tt.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new Re(t,e,n)),this.mergeVertices()}function Re(t,e,n){Ct.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var r,i,o=[],a=[],s=[],l=e+1;for(r=0;r<=n;r++){var u=r/n;for(i=0;i<=e;i++){var c=i/e,f=t(c,u);a.push(f.x,f.y,f.z),s.push(c,u)}}for(r=0;r<n;r++)for(i=0;i<e;i++){var h=r*l+i,d=r*l+i+1,p=(r+1)*l+i+1,m=(r+1)*l+i;o.push(h,d,m),o.push(d,p,m)}this.setIndex(o),this.addAttribute("position",new wt(a,3)),this.addAttribute("uv",new wt(s,2)),this.computeVertexNormals()}function Pe(t,e,n,r){Tt.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},this.fromBufferGeometry(new Le(t,e,n,r)),this.mergeVertices()}function Le(t,e,r,i){function o(t,e,n,r){var i,o,a=Math.pow(2,r),l=[];for(i=0;i<=a;i++){l[i]=[];var u=t.clone().lerp(n,i/a),c=e.clone().lerp(n,i/a),f=a-i;for(o=0;o<=f;o++)l[i][o]=0===o&&i===a?u:u.clone().lerp(c,o/f)}for(i=0;i<a;i++)for(o=0;o<2*(a-i)-1;o++){var h=Math.floor(o/2);o%2==0?(s(l[i][h+1]),s(l[i+1][h]),s(l[i][h])):(s(l[i][h+1]),s(l[i+1][h+1]),s(l[i+1][h]))}}function a(){for(var t=0;t<m.length;t+=6){var e=m[t+0],n=m[t+2],r=m[t+4],i=Math.max(e,n,r),o=Math.min(e,n,r);i>.9&&o<.1&&(e<.2&&(m[t+0]+=1),n<.2&&(m[t+2]+=1),r<.2&&(m[t+4]+=1))}}function s(t){p.push(t.x,t.y,t.z)}function u(e,n){var r=3*e;n.x=t[r+0],n.y=t[r+1],n.z=t[r+2]}function c(){for(var t=new l,e=new l,r=new l,i=new l,o=new n,a=new n,s=new n,u=0,c=0;u<p.length;u+=9,c+=6){t.set(p[u+0],p[u+1],p[u+2]),e.set(p[u+3],p[u+4],p[u+5]),r.set(p[u+6],p[u+7],p[u+8]),o.set(m[c+0],m[c+1]),a.set(m[c+2],m[c+3]),s.set(m[c+4],m[c+5]),i.copy(t).add(e).add(r).divideScalar(3);var d=h(i);f(o,c+0,t,d),f(a,c+2,e,d),f(s,c+4,r,d)}}function f(t,e,n,r){r<0&&1===t.x&&(m[e]=t.x-1),0===n.x&&0===n.z&&(m[e]=r/2/Math.PI+.5)}function h(t){return Math.atan2(t.z,-t.x)}function d(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}Ct.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:r,detail:i},r=r||1,i=i||0;var p=[],m=[];!function(t){for(var n=new l,r=new l,i=new l,a=0;a<e.length;a+=3)u(e[a+0],n),u(e[a+1],r),u(e[a+2],i),o(n,r,i,t)}(i),function(t){for(var e=new l,n=0;n<p.length;n+=3)e.x=p[n+0],e.y=p[n+1],e.z=p[n+2],e.normalize().multiplyScalar(t),p[n+0]=e.x,p[n+1]=e.y,p[n+2]=e.z}(r),function(){for(var t=new l,e=0;e<p.length;e+=3){t.x=p[e+0],t.y=p[e+1],t.z=p[e+2];var n=h(t)/2/Math.PI+.5,r=d(t)/Math.PI+.5;m.push(n,1-r)}c(),a()}(),this.addAttribute("position",new wt(p,3)),this.addAttribute("normal",new wt(p.slice(),3)),this.addAttribute("uv",new wt(m,2)),this.normalizeNormals()}function Ne(t,e){Tt.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new ke(t,e)),this.mergeVertices()}function ke(t,e){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];Le.call(this,n,r,t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function De(t,e){Tt.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Fe(t,e)),this.mergeVertices()}function Fe(t,e){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];Le.call(this,n,r,t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function je(t,e){Tt.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ue(t,e)),this.mergeVertices()}function Ue(t,e){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];Le.call(this,r,i,t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function ze(t,e){Tt.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Be(t,e)),this.mergeVertices()}function Be(t,e){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];Le.call(this,i,o,t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Ve(t,e,n,r,i,o){Tt.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new Ge(t,e,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function Ge(t,e,r,i,o){function a(n){var o=t.getPointAt(n/e),a=c.normals[n],s=c.binormals[n];for(h=0;h<=i;h++){var l=h/i*Math.PI*2,u=Math.sin(l),f=-Math.cos(l);p.x=f*a.x+u*s.x,p.y=f*a.y+u*s.y,p.z=f*a.z+u*s.z,p.normalize(),v.push(p.x,p.y,p.z),d.x=o.x+r*p.x,d.y=o.y+r*p.y,d.z=o.z+r*p.z,g.push(d.x,d.y,d.z)}}function s(){for(h=1;h<=e;h++)for(f=1;f<=i;f++){var t=(i+1)*(h-1)+(f-1),n=(i+1)*h+(f-1),r=(i+1)*h+f,o=(i+1)*(h-1)+f;b.push(t,n,o),b.push(n,r,o)}}function u(){for(f=0;f<=e;f++)for(h=0;h<=i;h++)m.x=f/e,m.y=h/i,y.push(m.x,m.y)}Ct.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:r,radialSegments:i,closed:o},e=e||64,r=r||1,i=i||8,o=o||!1;var c=t.computeFrenetFrames(e,o);this.tangents=c.tangents,this.normals=c.normals,this.binormals=c.binormals;var f,h,d=new l,p=new l,m=new n,g=[],v=[],y=[],b=[];!function(){for(f=0;f<e;f++)a(f);a(!1===o?e:0),u(),s()}(),this.setIndex(b),this.addAttribute("position",new wt(g,3)),this.addAttribute("normal",new wt(v,3)),this.addAttribute("uv",new wt(y,2))}function He(t,e,n,r,i,o,a){Tt.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new qe(t,e,n,r,i,o)),this.mergeVertices()}function qe(t,e,r,i,o,a){function s(t,e,n,r,i){var o=Math.cos(t),a=Math.sin(t),s=n/e*t,l=Math.cos(s);i.x=r*(2+l)*.5*o,i.y=r*(2+l)*a*.5,i.z=r*Math.sin(s)*.5}Ct.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:r,radialSegments:i,p:o,q:a},t=t||100,e=e||40,r=Math.floor(r)||64,i=Math.floor(i)||8,o=o||2,a=a||3;var u,c,f=[],h=[],d=[],p=[],m=new l,g=new l,v=(new n,new l),y=new l,b=new l,_=new l,w=new l;for(u=0;u<=r;++u){var x=u/r*o*Math.PI*2;for(s(x,o,a,t,v),s(x+.01,o,a,t,y),_.subVectors(y,v),w.addVectors(y,v),b.crossVectors(_,w),w.crossVectors(b,_),b.normalize(),w.normalize(),c=0;c<=i;++c){var E=c/i*Math.PI*2,M=-e*Math.cos(E),S=e*Math.sin(E);m.x=v.x+(M*w.x+S*b.x),m.y=v.y+(M*w.y+S*b.y),m.z=v.z+(M*w.z+S*b.z),h.push(m.x,m.y,m.z),g.subVectors(m,v).normalize(),d.push(g.x,g.y,g.z),p.push(u/r),p.push(c/i)}}for(c=1;c<=r;c++)for(u=1;u<=i;u++){var T=(i+1)*(c-1)+(u-1),C=(i+1)*c+(u-1),O=(i+1)*c+u,A=(i+1)*(c-1)+u;f.push(T,C,A),f.push(C,O,A)}this.setIndex(f),this.addAttribute("position",new wt(h,3)),this.addAttribute("normal",new wt(d,3)),this.addAttribute("uv",new wt(p,2))}function We(t,e,n,r,i){Tt.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new Ye(t,e,n,r,i))}function Ye(t,e,n,r,i){Ct.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},t=t||100,e=e||40,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o,a,s=[],u=[],c=[],f=[],h=new l,d=new l,p=new l;for(o=0;o<=n;o++)for(a=0;a<=r;a++){var m=a/r*i,g=o/n*Math.PI*2;d.x=(t+e*Math.cos(g))*Math.cos(m),d.y=(t+e*Math.cos(g))*Math.sin(m),d.z=e*Math.sin(g),u.push(d.x,d.y,d.z),h.x=t*Math.cos(m),h.y=t*Math.sin(m),p.subVectors(d,h).normalize(),c.push(p.x,p.y,p.z),f.push(a/r),f.push(o/n)}for(o=1;o<=n;o++)for(a=1;a<=r;a++){var v=(r+1)*o+a-1,y=(r+1)*(o-1)+a-1,b=(r+1)*(o-1)+a,_=(r+1)*o+a;s.push(v,y,_),s.push(y,b,_)}this.setIndex(s),this.addAttribute("position",new wt(u,3)),this.addAttribute("normal",new wt(c,3)),this.addAttribute("uv",new wt(f,2))}function Xe(t,e){if(void 0===t)return void(t=[]);Tt.call(this),this.type="ExtrudeGeometry",t=Array.isArray(t)?t:[t],this.addShapeList(t,e),this.computeFaceNormals()}function Ze(t,e){e=e||{};var n=e.font;if(!1===(n&&n.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Tt;var r=n.generateShapes(t,e.size,e.curveSegments);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),Xe.call(this,r,e),this.type="TextGeometry"}function Ke(t,e,n,r,i,o,a){Tt.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new Qe(t,e,n,r,i,o,a))}function Qe(t,e,n,r,i,o,a){Ct.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},t=t||50,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;var s,u,c=o+a,f=0,h=[],d=new l,p=new l,m=[],g=[],v=[],y=[];for(u=0;u<=n;u++){var b=[],_=u/n;for(s=0;s<=e;s++){var w=s/e;d.x=-t*Math.cos(r+w*i)*Math.sin(o+_*a),d.y=t*Math.cos(o+_*a),d.z=t*Math.sin(r+w*i)*Math.sin(o+_*a),g.push(d.x,d.y,d.z),p.set(d.x,d.y,d.z).normalize(),v.push(p.x,p.y,p.z),y.push(w,1-_),b.push(f++)}h.push(b)}for(u=0;u<n;u++)for(s=0;s<e;s++){var x=h[u][s+1],E=h[u][s],M=h[u+1][s],S=h[u+1][s+1];(0!==u||o>0)&&m.push(x,E,S),(u!==n-1||c<Math.PI)&&m.push(E,M,S)}this.setIndex(m),this.addAttribute("position",new wt(g,3)),this.addAttribute("normal",new wt(v,3)),this.addAttribute("uv",new wt(y,2))}function Je(t,e,n,r,i,o){Tt.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new $e(t,e,n,r,i,o))}function $e(t,e,r,i,o,a){Ct.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:a},t=t||20,e=e||50,o=void 0!==o?o:0,a=void 0!==a?a:2*Math.PI,r=void 0!==r?Math.max(3,r):8,i=void 0!==i?Math.max(1,i):1;var s,u,c,f=[],h=[],d=[],p=[],m=t,g=(e-t)/i,v=new l,y=new n;for(u=0;u<=i;u++){for(c=0;c<=r;c++)s=o+c/r*a,v.x=m*Math.cos(s),v.y=m*Math.sin(s),h.push(v.x,v.y,v.z),d.push(0,0,1),y.x=(v.x/e+1)/2,y.y=(v.y/e+1)/2,p.push(y.x,y.y);m+=g}for(u=0;u<i;u++){var b=u*(r+1);for(c=0;c<r;c++){s=c+b;var _=s,w=s+r+1,x=s+r+2,E=s+1;f.push(_,w,E),f.push(w,x,E)}}this.setIndex(f),this.addAttribute("position",new wt(h,3)),this.addAttribute("normal",new wt(d,3)),this.addAttribute("uv",new wt(p,2))}function tn(t,e,n,r){Tt.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},this.fromBufferGeometry(new en(t,e,n,r)),this.mergeVertices()}function en(t,e,r,i){Ct.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:r,phiLength:i},e=Math.floor(e)||12,r=r||0,i=i||2*Math.PI,i=$a.clamp(i,0,2*Math.PI);var o,a,s,u=[],c=[],f=[],h=1/e,d=new l,p=new n;for(a=0;a<=e;a++){var m=r+a*h*i,g=Math.sin(m),v=Math.cos(m);for(s=0;s<=t.length-1;s++)d.x=t[s].x*g,d.y=t[s].y,d.z=t[s].x*v,c.push(d.x,d.y,d.z),p.x=a/e,p.y=s/(t.length-1),f.push(p.x,p.y)}for(a=0;a<e;a++)for(s=0;s<t.length-1;s++){o=s+a*t.length;var y=o,b=o+t.length,_=o+t.length+1,w=o+1;u.push(y,b,w),u.push(b,_,w)}if(this.setIndex(u),this.addAttribute("position",new wt(c,3)),this.addAttribute("uv",new wt(f,2)),this.computeVertexNormals(),i===2*Math.PI){var x=this.attributes.normal.array,E=new l,M=new l,S=new l;for(o=e*t.length*3,a=0,s=0;a<t.length;a++,s+=3)E.x=x[s+0],E.y=x[s+1],E.z=x[s+2],M.x=x[o+s+0],M.y=x[o+s+1],M.z=x[o+s+2],S.addVectors(E,M).normalize(),x[s+0]=x[o+s+0]=S.x,x[s+1]=x[o+s+1]=S.y,x[s+2]=x[o+s+2]=S.z}}function nn(t,e){Tt.call(this),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new rn(t,e)),this.mergeVertices()}function rn(t,e){function n(t){var n,s,u,c=i.length/3,f=t.extractPoints(e),h=f.shape,d=f.holes;if(!1===ms.isClockWise(h))for(h=h.reverse(),n=0,s=d.length;n<s;n++)u=d[n],!0===ms.isClockWise(u)&&(d[n]=u.reverse());var p=ms.triangulateShape(h,d);for(n=0,s=d.length;n<s;n++)u=d[n],h=h.concat(u);for(n=0,s=h.length;n<s;n++){var m=h[n];i.push(m.x,m.y,0),o.push(0,0,1),a.push(m.x,m.y)}for(n=0,s=p.length;n<s;n++){var g=p[n],v=g[0]+c,y=g[1]+c,b=g[2]+c;r.push(v,y,b),l+=3}}Ct.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var r=[],i=[],o=[],a=[],s=0,l=0;if(!1===Array.isArray(t))n(t);else for(var u=0;u<t.length;u++)n(t[u]),this.addGroup(s,l,u),s+=l,l=0;this.setIndex(r),this.addAttribute("position",new wt(i,3)),this.addAttribute("normal",new wt(o,3)),this.addAttribute("uv",new wt(a,2))}function on(t,e){function n(t,e){return t-e}Ct.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var r,i,o=[],a=Math.cos($a.DEG2RAD*e),s=[0,0],l={},u=["a","b","c"];t.isBufferGeometry?(i=new Tt,i.fromBufferGeometry(t)):i=t.clone(),i.mergeVertices(),i.computeFaceNormals();for(var c=i.vertices,f=i.faces,h=0,d=f.length;h<d;h++)for(var p=f[h],m=0;m<3;m++)s[0]=p[u[m]],s[1]=p[u[(m+1)%3]],s.sort(n),r=s.toString(),void 0===l[r]?l[r]={index1:s[0],index2:s[1],face1:h,face2:void 0}:l[r].face2=h;for(r in l){var g=l[r];if(void 0===g.face2||f[g.face1].normal.dot(f[g.face2].normal)<=a){var v=c[g.index1];o.push(v.x,v.y,v.z),v=c[g.index2],o.push(v.x,v.y,v.z)}}this.addAttribute("position",new wt(o,3))}function an(t,e,n,r,i,o,a,s){Tt.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new sn(t,e,n,r,i,o,a,s)),this.mergeVertices()}function sn(t,e,r,i,o,a,s,u){function c(r){var o,a,c,v=new n,_=new l,w=0,x=!0===r?t:e,E=!0===r?1:-1;for(a=g,o=1;o<=i;o++)d.push(0,y*E,0),p.push(0,E,0),m.push(.5,.5),g++;for(c=g,o=0;o<=i;o++){var M=o/i,S=M*u+s,T=Math.cos(S),C=Math.sin(S);_.x=x*C,_.y=y*E,_.z=x*T,d.push(_.x,_.y,_.z),p.push(0,E,0),v.x=.5*T+.5,v.y=.5*C*E+.5,m.push(v.x,v.y),g++}for(o=0;o<i;o++){var O=a+o,A=c+o;!0===r?h.push(A,A+1,O):h.push(A+1,A,O),w+=3}f.addGroup(b,w,!0===r?1:2),b+=w}Ct.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:r,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:u};var f=this;t=void 0!==t?t:20,e=void 0!==e?e:20,r=void 0!==r?r:100,i=Math.floor(i)||8,o=Math.floor(o)||1,a=void 0!==a&&a,s=void 0!==s?s:0,u=void 0!==u?u:2*Math.PI;var h=[],d=[],p=[],m=[],g=0,v=[],y=r/2,b=0;!function(){var n,a,c=new l,_=new l,w=0,x=(e-t)/r;for(a=0;a<=o;a++){var E=[],M=a/o,S=M*(e-t)+t;for(n=0;n<=i;n++){var T=n/i,C=T*u+s,O=Math.sin(C),A=Math.cos(C);_.x=S*O,_.y=-M*r+y,_.z=S*A,d.push(_.x,_.y,_.z),c.set(O,x,A).normalize(),p.push(c.x,c.y,c.z),m.push(T,1-M),E.push(g++)}v.push(E)}for(n=0;n<i;n++)for(a=0;a<o;a++){var I=v[a][n],R=v[a+1][n],P=v[a+1][n+1],L=v[a][n+1];h.push(I,R,L),h.push(R,P,L),w+=6}f.addGroup(b,w,0),b+=w}(),!1===a&&(t>0&&c(!0),e>0&&c(!1)),this.setIndex(h),this.addAttribute("position",new wt(d,3)),this.addAttribute("normal",new wt(p,3)),this.addAttribute("uv",new wt(m,2))}function ln(t,e,n,r,i,o,a){an.call(this,0,t,e,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function un(t,e,n,r,i,o,a){sn.call(this,0,t,e,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function cn(t,e,n,r){Tt.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new fn(t,e,n,r))}function fn(t,e,r,i){Ct.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:r,thetaLength:i},t=t||50,e=void 0!==e?Math.max(3,e):8,r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI;var o,a,s=[],u=[],c=[],f=[],h=new l,d=new n;for(u.push(0,0,0),c.push(0,0,1),f.push(.5,.5),a=0,o=3;a<=e;a++,o+=3){var p=r+a/e*i;h.x=t*Math.cos(p),h.y=t*Math.sin(p),u.push(h.x,h.y,h.z),c.push(0,0,1),d.x=(u[o]/t+1)/2,d.y=(u[o+1]/t+1)/2,f.push(d.x,d.y)}for(o=1;o<=e;o++)s.push(o,o+1,0);this.setIndex(s),this.addAttribute("position",new wt(u,3)),this.addAttribute("normal",new wt(c,3)),this.addAttribute("uv",new wt(f,2))}function hn(){Q.call(this,{uniforms:as.merge([us.lights,{opacity:{value:1}}]),vertexShader:ss.shadow_vert,fragmentShader:ss.shadow_frag}),this.lights=!0,this.transparent=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}}})}function dn(t){Q.call(this,t),this.type="RawShaderMaterial"}function pn(t){this.uuid=$a.generateUUID(),this.type="MultiMaterial",this.materials=Array.isArray(t)?t:[],this.visible=!0}function mn(t){K.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new q(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new q(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function gn(t){mn.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function vn(t){K.call(this),this.type="MeshPhongMaterial",this.color=new q(16777215),this.specular=new q(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new q(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=zo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function yn(t){vn.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function bn(t){K.call(this,t),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function _n(t){K.call(this),this.type="MeshLambertMaterial",this.color=new q(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new q(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=zo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function wn(t){K.call(this),this.type="LineDashedMaterial",this.color=new q(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(t)}function xn(t,e,n){var r=this,i=!1,o=0,a=0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){a++,!1===i&&void 0!==r.onStart&&r.onStart(t,o,a),i=!0},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)}}function En(t){this.manager=void 0!==t?t:bs}function Mn(t){this.manager=void 0!==t?t:bs,this._parser=null}function Sn(t){this.manager=void 0!==t?t:bs,this._parser=null}function Tn(t){this.manager=void 0!==t?t:bs}function Cn(t){this.manager=void 0!==t?t:bs}function On(t){this.manager=void 0!==t?t:bs}function An(t,e){lt.call(this),this.type="Light",this.color=new q(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function In(t,e,n){An.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(lt.DefaultUp),this.updateMatrix(),this.groundColor=new q(e)}function Rn(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new n(512,512),this.map=null,this.matrix=new u}function Pn(){Rn.call(this,new Nt(50,1,.5,500))}function Ln(t,e,n,r,i,o){An.call(this,t,e),this.type="SpotLight",this.position.copy(lt.DefaultUp),this.updateMatrix(),this.target=new lt,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new Pn}function Nn(t,e,n,r){An.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Rn(new Nt(90,1,.5,500))}function kn(){Rn.call(this,new kt(-5,5,5,-5,.5,500))}function Dn(t,e){An.call(this,t,e),this.type="DirectionalLight",this.position.copy(lt.DefaultUp),this.updateMatrix(),this.target=new lt,this.shadow=new kn}function Fn(t,e){An.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function jn(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function Un(t,e,n,r){jn.call(this,t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function zn(t,e,n,r){jn.call(this,t,e,n,r)}function Bn(t,e,n,r){jn.call(this,t,e,n,r)}function Vn(t,e,n,r){if(void 0===t)throw new Error("track name is undefined");if(void 0===e||0===e.length)throw new Error("no keyframes in track named "+t);this.name=t,this.times=_s.convertArray(e,this.TimeBufferType),this.values=_s.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation),this.validate(),this.optimize()}function Gn(t,e,n,r){Vn.call(this,t,e,n,r)}function Hn(t,e,n,r){jn.call(this,t,e,n,r)}function qn(t,e,n,r){Vn.call(this,t,e,n,r)}function Wn(t,e,n,r){Vn.call(this,t,e,n,r)}function Yn(t,e,n,r){Vn.call(this,t,e,n,r)}function Xn(t,e,n){Vn.call(this,t,e,n)}function Zn(t,e,n,r){Vn.call(this,t,e,n,r)}function Kn(t,e,n,r){Vn.apply(this,arguments)}function Qn(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=$a.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function Jn(t){this.manager=void 0!==t?t:bs,this.textures={}}function $n(t){this.manager=void 0!==t?t:bs}function tr(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function er(t){"boolean"==typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:bs,this.withCredentials=!1}function nr(t){this.manager=void 0!==t?t:bs,this.texturePath=""}function rr(t,e,n,r,i){var o=.5*(r-e),a=.5*(i-n),s=t*t;return(2*n-2*r+o+a)*(t*s)+(-3*n+3*r-2*o-a)*s+o*t+n}function ir(t,e){var n=1-t;return n*n*e}function or(t,e){return 2*(1-t)*t*e}function ar(t,e){return t*t*e}function sr(t,e,n,r){return ir(t,e)+or(t,n)+ar(t,r)}function lr(t,e){var n=1-t;return n*n*n*e}function ur(t,e){var n=1-t;return 3*n*n*t*e}function cr(t,e){return 3*(1-t)*t*t*e}function fr(t,e){return t*t*t*e}function hr(t,e,n,r,i){return lr(t,e)+ur(t,n)+cr(t,r)+fr(t,i)}function dr(){}function pr(t,e){this.v1=t,this.v2=e}function mr(){this.curves=[],this.autoClose=!1}function gr(t,e,n,r,i,o,a,s){this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s||0}function vr(t){this.points=void 0===t?[]:t}function yr(t,e,n,r){this.v0=t,this.v1=e,this.v2=n,this.v3=r}function br(t,e,n){this.v0=t,this.v1=e,this.v2=n}function _r(t){mr.call(this),this.currentPoint=new n,t&&this.fromPoints(t)}function wr(){_r.apply(this,arguments),this.holes=[]}function xr(){this.subPaths=[],this.currentPath=null}function Er(t){this.data=t}function Mr(t){this.manager=void 0!==t?t:bs}function Sr(t){this.manager=void 0!==t?t:bs}function Tr(t,e,n,r){An.call(this,t,e),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function Cr(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Nt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Nt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Or(t,e,n){lt.call(this),this.type="CubeCamera";var r=new Nt(90,1,t,e);r.up.set(0,-1,0),r.lookAt(new l(1,0,0)),this.add(r);var i=new Nt(90,1,t,e);i.up.set(0,-1,0),i.lookAt(new l(-1,0,0)),this.add(i);var o=new Nt(90,1,t,e);o.up.set(0,0,1),o.lookAt(new l(0,1,0)),this.add(o);var s=new Nt(90,1,t,e);s.up.set(0,0,-1),s.lookAt(new l(0,-1,0)),this.add(s);var u=new Nt(90,1,t,e);u.up.set(0,-1,0),u.lookAt(new l(0,0,1)),this.add(u);var c=new Nt(90,1,t,e);c.up.set(0,-1,0),c.lookAt(new l(0,0,-1)),this.add(c);var f={format:Ea,magFilter:sa,minFilter:sa};this.renderTarget=new a(n,n,f),this.updateCubeMap=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,a=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,t.render(e,r,n),n.activeCubeFace=1,t.render(e,i,n),n.activeCubeFace=2,t.render(e,o,n),n.activeCubeFace=3,t.render(e,s,n),n.activeCubeFace=4,t.render(e,u,n),n.texture.generateMipmaps=a,n.activeCubeFace=5,t.render(e,c,n),t.setRenderTarget(null)}}function Ar(){lt.call(this),this.type="AudioListener",this.context=Ms.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function Ir(t){lt.call(this),this.type="Audio",this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Rr(t){Ir.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Pr(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function Lr(t,e,n){this.binding=t,this.valueSize=n;var r,i=Float64Array;switch(e){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Nr(t,e,n){this.path=e,this.parsedPath=n||Nr.parseTrackName(e),this.node=Nr.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function kr(t){this.uuid=$a.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function Dr(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var r=e.tracks,i=r.length,o=new Array(i),a={endingStart:za,endingEnd:za},s=0;s!==i;++s){var l=r[s].createInterpolant(null);o[s]=l,l.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Ua,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Fr(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function jr(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function Ur(){Ct.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function zr(t,e,n,r){this.uuid=$a.generateUUID(),this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}function Br(t,e){this.uuid=$a.generateUUID(),this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function Vr(t,e,n){Br.call(this,t,e),this.meshPerAttribute=n||1}function Gr(t,e,n){dt.call(this,t,e),this.meshPerAttribute=n||1}function Hr(t,e,n,r){this.ray=new ot(t,e),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function qr(t,e){return t.distance-e.distance}function Wr(t,e,n,r){if(!1!==t.visible&&(t.raycast(e,n),!0===r))for(var i=t.children,o=0,a=i.length;o<a;o++)Wr(i[o],e,n,!0)}function Yr(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Xr(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}function Zr(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}function Kr(t,e){Ot.call(this,t,e),this.animationsMap={},this.animationsList=[];var n=this.geometry.morphTargets.length,r=n-1,i=n/1;this.createAnimation("__default",0,r,i),this.setAnimationWeight("__default",1)}function Qr(t){lt.call(this),this.material=t,this.render=function(t){}}function Jr(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16711680,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var l=new Ct,u=new wt(2*a*3,3);l.addAttribute("position",u),we.call(this,l,new be({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function $r(t){lt.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;for(var e=new Ct,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,i=1;r<32;r++,i++){var o=r/32*Math.PI*2,a=i/32*Math.PI*2;n.push(Math.cos(o),Math.sin(o),1,Math.cos(a),Math.sin(a),1)}e.addAttribute("position",new wt(n,3));var s=new be({fog:!1});this.cone=new we(e,s),this.add(this.cone),this.update()}function ti(t){this.bones=this.getBoneList(t);for(var e=new Ct,n=[],r=[],i=new q(0,0,1),o=new q(0,1,0),a=0;a<this.bones.length;a++){var s=this.bones[a];s.parent&&s.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(i.r,i.g,i.b),r.push(o.r,o.g,o.b))}e.addAttribute("position",new wt(n,3)),e.addAttribute("color",new wt(r,3));var l=new be({vertexColors:lo,depthTest:!1,depthWrite:!1,transparent:!0});we.call(this,e,l),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function ei(t,e){this.light=t,this.light.updateMatrixWorld();var n=new Qe(e,4,2),r=new ht({wireframe:!0,fog:!1});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),Ot.call(this,n,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1}function ni(t){lt.call(this),this.light=t,this.light.updateMatrixWorld();var e=new ht({color:t.color,fog:!1}),n=new ht({color:t.color,fog:!1,wireframe:!0}),r=new Ct;r.addAttribute("position",new dt(new Float32Array(18),3)),this.add(new Ot(r,e)),this.add(new Ot(r,n)),this.update()}function ri(t,e){lt.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;var n=new Fe(e);n.rotateY(.5*Math.PI);var r=new ht({vertexColors:lo,wireframe:!0}),i=n.getAttribute("position"),o=new Float32Array(3*i.count);n.addAttribute("color",new dt(o,3)),this.add(new Ot(n,r)),this.update()}function ii(t,e,n,r){t=t||10,e=e||10,n=new q(void 0!==n?n:4473924),r=new q(void 0!==r?r:8947848);for(var i=e/2,o=t/e,a=t/2,s=[],l=[],u=0,c=0,f=-a;u<=e;u++,f+=o){s.push(-a,0,f,a,0,f),s.push(f,0,-a,f,0,a);var h=u===i?n:r;h.toArray(l,c),c+=3,h.toArray(l,c),c+=3,h.toArray(l,c),c+=3,h.toArray(l,c),c+=3}var d=new Ct;d.addAttribute("position",new wt(s,3)),d.addAttribute("color",new wt(l,3));var p=new be({vertexColors:lo});we.call(this,d,p)}function oi(t,e,n,r,i,o){t=t||10,e=e||16,n=n||8,r=r||64,i=new q(void 0!==i?i:4473924),o=new q(void 0!==o?o:8947848);var a,s,l,u,c,f,h,d=[],p=[];for(u=0;u<=e;u++)l=u/e*(2*Math.PI),a=Math.sin(l)*t,s=Math.cos(l)*t,d.push(0,0,0),d.push(a,0,s),h=1&u?i:o,p.push(h.r,h.g,h.b),p.push(h.r,h.g,h.b);for(u=0;u<=n;u++)for(h=1&u?i:o,f=t-t/n*u,c=0;c<r;c++)l=c/r*(2*Math.PI),a=Math.sin(l)*f,s=Math.cos(l)*f,d.push(a,0,s),p.push(h.r,h.g,h.b),l=(c+1)/r*(2*Math.PI),a=Math.sin(l)*f,s=Math.cos(l)*f,d.push(a,0,s),p.push(h.r,h.g,h.b);var m=new Ct;m.addAttribute("position",new wt(d,3)),m.addAttribute("color",new wt(p,3));var g=new be({vertexColors:lo});we.call(this,m,g)}function ai(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var l=new Ct,u=new wt(2*a*3,3);l.addAttribute("position",u),we.call(this,l,new be({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function si(t,e){lt.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,void 0===e&&(e=1);var n=new Ct;n.addAttribute("position",new wt([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var r=new be({fog:!1});this.add(new _e(n,r)),n=new Ct,n.addAttribute("position",new wt([0,0,0,0,0,1],3)),this.add(new _e(n,r)),this.update()}function li(t){function e(t,e,r){n(t,r),n(e,r)}function n(t,e){o.push(0,0,0),a.push(e.r,e.g,e.b),void 0===s[t]&&(s[t]=[]),s[t].push(o.length/3-1)}var r=new Ct,i=new be({color:16777215,vertexColors:so}),o=[],a=[],s={},l=new q(16755200),u=new q(16711680),c=new q(43775),f=new q(16777215),h=new q(3355443);e("n1","n2",l),e("n2","n4",l),e("n4","n3",l),e("n3","n1",l),e("f1","f2",l),e("f2","f4",l),e("f4","f3",l),e("f3","f1",l),e("n1","f1",l),e("n2","f2",l),e("n3","f3",l),e("n4","f4",l),e("p","n1",u),e("p","n2",u),e("p","n3",u),e("p","n4",u),e("u1","u2",c),e("u2","u3",c),e("u3","u1",c),e("c","t",f),e("p","c",h),e("cn1","cn2",h),e("cn3","cn4",h),e("cf1","cf2",h),e("cf3","cf4",h),r.addAttribute("position",new wt(o,3)),r.addAttribute("color",new wt(a,3)),we.call(this,r,i),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function ui(t,e){void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new Ct;i.setIndex(new dt(n,1)),i.addAttribute("position",new dt(r,3)),we.call(this,i,new be({color:e})),void 0!==t&&this.update(t)}function ci(t,e,n,r,i,o){lt.call(this),void 0===r&&(r=16776960),void 0===n&&(n=1),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===Ss&&(Ss=new Ct,Ss.addAttribute("position",new wt([0,0,0,0,1,0],3)),Ts=new sn(0,.5,1,5,1),Ts.translate(0,-.5,0)),this.position.copy(e),this.line=new _e(Ss,new be({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ot(Ts,new ht({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,i,o)}function fi(t){t=t||1;var e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Ct;r.addAttribute("position",new wt(e,3)),r.addAttribute("color",new wt(n,3));var i=new be({vertexColors:lo});we.call(this,r,i)}function hi(){function t(t,o,a,s){e=t,n=a,r=-3*t+3*o-2*a-s,i=2*t-2*o+a+s}var e=0,n=0,r=0,i=0;return{initCatmullRom:function(e,n,r,i,o){t(n,r,o*(r-e),o*(i-n))},initNonuniformCatmullRom:function(e,n,r,i,o,a,s){var l=(n-e)/o-(r-e)/(o+a)+(r-n)/a,u=(r-n)/a-(i-n)/(a+s)+(i-r)/s;l*=a,u*=a,t(n,r,l,u)},calc:function(t){var o=t*t;return e+n*t+r*o+i*(o*t)}}}function di(t){this.points=t||[],this.closed=!1}function pi(t,e,n,r){this.v0=t,this.v1=e,this.v2=n,this.v3=r}function mi(t,e,n){this.v0=t,this.v1=e,this.v2=n}function gi(t,e){this.v1=t,this.v2=e}function vi(t,e,n,r,i,o){gr.call(this,t,e,n,n,r,i,o)}function yi(t,e,n,r,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new ft(t,e,n,i,o,a)}function bi(t){return console.warn("THREE.MeshFaceMaterial has been renamed to THREE.MultiMaterial."),new pn(t)}function _i(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Ee(t,e)}function wi(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new pe(t)}function xi(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Ee(t,e)}function Ei(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new xe(t)}function Mi(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new xe(t)}function Si(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new xe(t)}function Ti(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new l(t,e,n)}function Ci(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new dt(t,e).setDynamic(!0)}function Oi(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new pt(t,e)}function Ai(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new mt(t,e)}function Ii(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new gt(t,e)}function Ri(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new vt(t,e)}function Pi(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new yt(t,e)}function Li(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new bt(t,e)}function Ni(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new _t(t,e)}function ki(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new wt(t,e)}function Di(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new xt(t,e)}function Fi(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),di.call(this,t),this.type="catmullrom",this.closed=!0}function ji(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),di.call(this,t),this.type="catmullrom"}function Ui(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),di.call(this,t),this.type="catmullrom"}function zi(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new ui(t,e)}function Bi(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new we(new on(t.geometry),new be({color:void 0!==e?e:16777215}))}function Vi(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new we(new Ae(t.geometry),new be({color:void 0!==e?e:16777215}))}function Gi(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new En(t)}function Hi(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Sn(t)}function qi(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function Wi(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&function(){Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}}(),e.prototype={addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners,r=n[t];if(void 0!==r){var i=r.indexOf(e);-1!==i&&r.splice(i,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,n=e[t.type];if(void 0!==n){t.target=this;var r=[],i=0,o=n.length;for(i=0;i<o;i++)r[i]=n[i];for(i=0;i<o;i++)r[i].call(this,t)}}}};var Yi="84",Xi={LEFT:0,MIDDLE:1,RIGHT:2},Zi=0,Ki=1,Qi=2,Ji=0,$i=1,to=2,eo=0,no=1,ro=2,io=1,oo=2,ao=0,so=1,lo=2,uo=0,co=1,fo=2,ho=3,po=4,mo=5,go=100,vo=101,yo=102,bo=103,_o=104,wo=200,xo=201,Eo=202,Mo=203,So=204,To=205,Co=206,Oo=207,Ao=208,Io=209,Ro=210,Po=0,Lo=1,No=2,ko=3,Do=4,Fo=5,jo=6,Uo=7,zo=0,Bo=1,Vo=2,Go=0,Ho=1,qo=2,Wo=3,Yo=4,Xo=301,Zo=302,Ko=303,Qo=304,Jo=305,$o=306,ta=307,ea=1e3,na=1001,ra=1002,ia=1003,oa=1004,aa=1005,sa=1006,la=1007,ua=1008,ca=1009,fa=1010,ha=1011,da=1012,pa=1013,ma=1014,ga=1015,va=1016,ya=1017,ba=1018,_a=1019,wa=1020,xa=1021,Ea=1022,Ma=1023,Sa=1024,Ta=1025,Ca=Ma,Oa=1026,Aa=1027,Ia=2001,Ra=2002,Pa=2003,La=2004,Na=2100,ka=2101,Da=2102,Fa=2103,ja=2151,Ua=2201,za=2400,Ba=0,Va=1,Ga=2,Ha=3e3,qa=3001,Wa=3007,Ya=3002,Xa=3004,Za=3005,Ka=3006,Qa=3200,Ja=3201,$a={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=new Array(36),r=0;return function(){for(var i=0;i<36;i++)8===i||13===i||18===i||23===i?n[i]="-":14===i?n[i]="4":(r<=2&&(r=33554432+16777216*Math.random()|0),t=15&r,r>>=4,n[i]=e[19===i?3&t|8:t]);return n.join("")}}(),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*$a.DEG2RAD},radToDeg:function(t){return t*$a.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}};n.prototype={constructor:n,isVector2:!0,get width(){return this.x},set width(t){this.x=t},get height(){return this.y},set height(t){this.y=t},set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t,e;return function(r,i){return void 0===t&&(t=new n,e=new n),t.set(r,r),e.set(i,i),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*n-o*r+t.x,this.y=i*r+o*n+t.y,this}};var ts=0;r.DEFAULT_IMAGE=void 0,r.DEFAULT_MAPPING=300,r.prototype={constructor:r,isTexture:!0,set needsUpdate(t){!0===t&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){if(void 0!==t.textures[this.uuid])return t.textures[this.uuid];var e={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var n=this.image;void 0===n.uuid&&(n.uuid=$a.generateUUID()),void 0===t.images[n.uuid]&&(t.images[n.uuid]={uuid:n.uuid,url:function(t){var e;return void 0!==t.toDataURL?e=t:(e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0,t.width,t.height)),e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}(n)}),e.image=n.uuid}return t.textures[this.uuid]=e,e},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300===this.mapping){if(t.multiply(this.repeat),t.add(this.offset),t.x<0||t.x>1)switch(this.wrapS){case ea:t.x=t.x-Math.floor(t.x);break;case na:t.x=t.x<0?0:1;break;case ra:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case ea:t.y=t.y-Math.floor(t.y);break;case na:t.y=t.y<0?0:1;break;case ra:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}},Object.assign(r.prototype,e.prototype),i.prototype={constructor:i,isVector4:!0,set:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this.w*=t):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*e+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*e+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*e+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,r,i,o=t.elements,a=o[0],s=o[4],l=o[8],u=o[1],c=o[5],f=o[9],h=o[2],d=o[6],p=o[10];if(Math.abs(s-u)<.01&&Math.abs(l-h)<.01&&Math.abs(f-d)<.01){if(Math.abs(s+u)<.1&&Math.abs(l+h)<.1&&Math.abs(f+d)<.1&&Math.abs(a+c+p-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var m=(a+1)/2,g=(c+1)/2,v=(p+1)/2,y=(s+u)/4,b=(l+h)/4,_=(f+d)/4;return m>g&&m>v?m<.01?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(m),r=y/n,i=b/n):g>v?g<.01?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(g),n=y/r,i=_/r):v<.01?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=b/i,r=_/i),this.set(n,r,i,e),this}var w=Math.sqrt((d-f)*(d-f)+(l-h)*(l-h)+(u-s)*(u-s));return Math.abs(w)<.001&&(w=1),this.x=(d-f)/w,this.y=(l-h)/w,this.z=(u-s)/w,this.w=Math.acos((a+c+p-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new i,e=new i),t.set(n,n,n,n),e.set(r,r,r,r),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}},o.prototype={constructor:o,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(o.prototype,e.prototype),a.prototype=Object.create(o.prototype),a.prototype.constructor=a,a.prototype.isWebGLRenderTargetCube=!0,s.prototype={constructor:s,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!1===(t&&t.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=Math.cos(t._x/2),r=Math.cos(t._y/2),i=Math.cos(t._z/2),o=Math.sin(t._x/2),a=Math.sin(t._y/2),s=Math.sin(t._z/2),l=t.order;return"XYZ"===l?(this._x=o*r*i+n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i-o*a*s):"YXZ"===l?(this._x=o*r*i+n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i+o*a*s):"ZXY"===l?(this._x=o*r*i-n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i-o*a*s):"ZYX"===l?(this._x=o*r*i-n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i+o*a*s):"YZX"===l?(this._x=o*r*i+n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i-o*a*s):"XZY"===l&&(this._x=o*r*i-n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i+o*a*s),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],l=n[9],u=n[2],c=n[6],f=n[10],h=r+s+f;return h>0?(e=.5/Math.sqrt(h+1),this._w=.25/e,this._x=(c-l)*e,this._y=(o-u)*e,this._z=(a-i)*e):r>s&&r>f?(e=2*Math.sqrt(1+r-s-f),this._w=(c-l)/e,this._x=.25*e,this._y=(i+a)/e,this._z=(o+u)/e):s>f?(e=2*Math.sqrt(1+s-r-f),this._w=(o-u)/e,this._x=(i+a)/e,this._y=.25*e,this._z=(l+c)/e):(e=2*Math.sqrt(1+f-r-s),this._w=(a-i)/e,this._x=(o+u)/e,this._y=(l+c)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e;return function(n,r){return void 0===t&&(t=new l),e=n.dot(r)+1,e<1e-6?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,r=t._y,i=t._z,o=t._w,a=e._x,s=e._y,l=e._z,u=e._w;return this._x=n*u+o*a+r*l-i*s,this._y=r*u+o*s+i*a-n*l,this._z=i*u+o*l+n*s-r*a,this._w=o*u-n*a-r*s-i*l,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*t._w+n*t._x+r*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=Math.sqrt(1-a*a);if(Math.abs(s)<.001)return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var l=Math.atan2(s,a),u=Math.sin((1-e)*l)/s,c=Math.sin(e*l)/s;return this._w=o*u+this._w*c,this._x=n*u+this._x*c,this._y=r*u+this._y*c,this._z=i*u+this._z*c,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},Object.assign(s,{slerp:function(t,e,n,r){return n.copy(t).slerp(e,r)},slerpFlat:function(t,e,n,r,i,o,a){var s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],f=i[o+0],h=i[o+1],d=i[o+2],p=i[o+3];if(c!==p||s!==f||l!==h||u!==d){var m=1-a,g=s*f+l*h+u*d+c*p,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var b=Math.sqrt(y),_=Math.atan2(b,g*v);m=Math.sin(m*_)/b,a=Math.sin(a*_)/b}var w=a*v;if(s=s*m+f*w,l=l*m+h*w,u=u*m+d*w,c=c*m+p*w,m===1-a){var x=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=x,l*=x,u*=x,c*=x}}t[e]=s,t[e+1]=l,t[e+2]=u,t[e+3]=c}}),l.prototype={constructor:l,isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t;return function(e){return!1===(e&&e.isEuler)&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),void 0===t&&(t=new s),this.applyQuaternion(t.setFromEuler(e))}}(),applyAxisAngle:function(){var t;return function(e,n){return void 0===t&&(t=new s),this.applyQuaternion(t.setFromAxisAngle(e,n))}}(),applyMatrix3:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;this.x=i[0]*e+i[4]*n+i[8]*r+i[12],this.y=i[1]*e+i[5]*n+i[9]*r+i[13],this.z=i[2]*e+i[6]*n+i[10]*r+i[14];var o=i[3]*e+i[7]*n+i[11]*r+i[15];return this.divideScalar(o)},applyQuaternion:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,a=t.z,s=t.w,l=s*e+o*r-a*n,u=s*n+a*e-i*r,c=s*r+i*n-o*e,f=-i*e-o*n-a*r;return this.x=l*s+f*-i+u*-a-c*-o,this.y=u*s+f*-o+c*-i-l*-a,this.z=c*s+f*-a+l*-o-u*-i,this},project:function(){var t;return function(e){return void 0===t&&(t=new u),t.multiplyMatrices(e.projectionMatrix,t.getInverse(e.matrixWorld)),this.applyMatrix4(t)}}(),unproject:function(){var t;return function(e){return void 0===t&&(t=new u),t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyMatrix4(t)}}(),transformDirection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new l,e=new l),t.set(n,n,n),e.set(r,r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){if(void 0!==e)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e);var n=this.x,r=this.y,i=this.z;return this.x=r*t.z-i*t.y,this.y=i*t.x-n*t.z,this.z=n*t.y-r*t.x,this},crossVectors:function(t,e){var n=t.x,r=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t;return function(e){return void 0===t&&(t=new l),t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t;return function(e){return void 0===t&&(t=new l),this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos($a.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){return this.setFromMatrixColumn(t,3)},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){if("number"==typeof t){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var n=t;t=e,e=n}return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}},u.prototype={constructor:u,isMatrix4:!0,set:function(t,e,n,r,i,o,a,s,l,u,c,f,h,d,p,m){var g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=l,g[6]=u,g[10]=c,g[14]=f,g[3]=h,g[7]=d,g[11]=p,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new u).fromArray(this.elements)},copy:function(t){return this.elements.set(t.elements),this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(){var t;return function(e){void 0===t&&(t=new l);var n=this.elements,r=e.elements,i=1/t.setFromMatrixColumn(e,0).length(),o=1/t.setFromMatrixColumn(e,1).length(),a=1/t.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,this}}(),makeRotationFromEuler:function(t){!1===(t&&t.isEuler)&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,r=t.y,i=t.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===t.order){var f=o*u,h=o*c,d=a*u,p=a*c;e[0]=s*u,e[4]=-s*c,e[8]=l,e[1]=h+d*l,e[5]=f-p*l,e[9]=-a*s,e[2]=p-f*l,e[6]=d+h*l,e[10]=o*s}else if("YXZ"===t.order){var m=s*u,g=s*c,v=l*u,y=l*c;e[0]=m+y*a,e[4]=v*a-g,e[8]=o*l,e[1]=o*c,e[5]=o*u,e[9]=-a,e[2]=g*a-v,e[6]=y+m*a,e[10]=o*s}else if("ZXY"===t.order){var m=s*u,g=s*c,v=l*u,y=l*c;e[0]=m-y*a,e[4]=-o*c,e[8]=v+g*a,e[1]=g+v*a,e[5]=o*u,e[9]=y-m*a,e[2]=-o*l,e[6]=a,e[10]=o*s}else if("ZYX"===t.order){var f=o*u,h=o*c,d=a*u,p=a*c;e[0]=s*u,e[4]=d*l-h,e[8]=f*l+p,e[1]=s*c,e[5]=p*l+f,e[9]=h*l-d,e[2]=-l,e[6]=a*s,e[10]=o*s}else if("YZX"===t.order){var b=o*s,_=o*l,w=a*s,x=a*l;e[0]=s*u,e[4]=x-b*c,e[8]=w*c+_,e[1]=c,e[5]=o*u,e[9]=-a*u,e[2]=-l*u,e[6]=_*c+w,e[10]=b-x*c}else if("XZY"===t.order){var b=o*s,_=o*l,w=a*s,x=a*l;e[0]=s*u,e[4]=-c,e[8]=l*u,e[1]=b*c+x,e[5]=o*u,e[9]=_*c-w,e[2]=w*c-_,e[6]=a*u,e[10]=x*c+b}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z,o=t.w,a=n+n,s=r+r,l=i+i,u=n*a,c=n*s,f=n*l,h=r*s,d=r*l,p=i*l,m=o*a,g=o*s,v=o*l;return e[0]=1-(h+p),e[4]=c-v,e[8]=f+g,e[1]=c+v,e[5]=1-(u+p),e[9]=d-m,e[2]=f-g,e[6]=d+m,e[10]=1-(u+h),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(){var t,e,n;return function(r,i,o){void 0===t&&(t=new l,e=new l,n=new l);var a=this.elements;return n.subVectors(r,i).normalize(),0===n.lengthSq()&&(n.z=1),t.crossVectors(o,n).normalize(),0===t.lengthSq()&&(n.z+=1e-4,t.crossVectors(o,n).normalize()),e.crossVectors(n,t),a[0]=t.x,a[4]=e.x,a[8]=n.x,a[1]=t.y,a[5]=e.y,a[9]=n.y,a[2]=t.z,a[6]=e.z,a[10]=n.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],u=n[1],c=n[5],f=n[9],h=n[13],d=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],_=n[15],w=r[0],x=r[4],E=r[8],M=r[12],S=r[1],T=r[5],C=r[9],O=r[13],A=r[2],I=r[6],R=r[10],P=r[14],L=r[3],N=r[7],k=r[11],D=r[15];return i[0]=o*w+a*S+s*A+l*L,i[4]=o*x+a*T+s*I+l*N,i[8]=o*E+a*C+s*R+l*k,i[12]=o*M+a*O+s*P+l*D,i[1]=u*w+c*S+f*A+h*L,i[5]=u*x+c*T+f*I+h*N,i[9]=u*E+c*C+f*R+h*k,i[13]=u*M+c*O+f*P+h*D,i[2]=d*w+p*S+m*A+g*L,i[6]=d*x+p*T+m*I+g*N,i[10]=d*E+p*C+m*R+g*k,i[14]=d*M+p*O+m*P+g*D,i[3]=v*w+y*S+b*A+_*L,i[7]=v*x+y*T+b*I+_*N,i[11]=v*E+y*C+b*R+_*k,i[15]=v*M+y*O+b*P+_*D,this},multiplyToArray:function(t,e,n){var r=this.elements;return this.multiplyMatrices(t,e),n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t;return function(e){void 0===t&&(t=new l);for(var n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix4(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],o=t[1],a=t[5],s=t[9],l=t[13],u=t[2],c=t[6],f=t[10],h=t[14];return t[3]*(+i*s*c-r*l*c-i*a*f+n*l*f+r*a*h-n*s*h)+t[7]*(+e*s*h-e*l*f+i*o*f-r*o*h+r*l*u-i*s*u)+t[11]*(+e*l*c-e*a*h-i*o*c+n*o*h+i*a*u-n*l*u)+t[15]*(-r*a*u-e*s*c+e*a*f+r*o*c-n*o*f+n*s*u)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n=this.elements,r=t.elements,i=r[0],o=r[1],a=r[2],s=r[3],l=r[4],u=r[5],c=r[6],f=r[7],h=r[8],d=r[9],p=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15],_=d*y*f-v*p*f+v*c*m-u*y*m-d*c*b+u*p*b,w=g*p*f-h*y*f-g*c*m+l*y*m+h*c*b-l*p*b,x=h*v*f-g*d*f+g*u*m-l*v*m-h*u*b+l*d*b,E=g*d*c-h*v*c-g*u*p+l*v*p+h*u*y-l*d*y,M=i*_+o*w+a*x+s*E;if(0===M){var S="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(!0===e)throw new Error(S);return console.warn(S),this.identity()}var T=1/M;return n[0]=_*T,n[1]=(v*p*s-d*y*s-v*a*m+o*y*m+d*a*b-o*p*b)*T,n[2]=(u*y*s-v*c*s+v*a*f-o*y*f-u*a*b+o*c*b)*T,n[3]=(d*c*s-u*p*s-d*a*f+o*p*f+u*a*m-o*c*m)*T,n[4]=w*T,n[5]=(h*y*s-g*p*s+g*a*m-i*y*m-h*a*b+i*p*b)*T,n[6]=(g*c*s-l*y*s-g*a*f+i*y*f+l*a*b-i*c*b)*T,n[7]=(l*p*s-h*c*s+h*a*f-i*p*f-l*a*m+i*c*m)*T,n[8]=x*T,n[9]=(g*d*s-h*v*s-g*o*m+i*v*m+h*o*b-i*d*b)*T,n[10]=(l*v*s-g*u*s+g*o*f-i*v*f-l*o*b+i*u*b)*T,n[11]=(h*u*s-l*d*s-h*o*f+i*d*f+l*o*m-i*u*m)*T,n[12]=E*T,n[13]=(h*v*a-g*d*a+g*o*p-i*v*p-h*o*y+i*d*y)*T,n[14]=(g*u*a-l*v*a-g*o*c+i*v*c+l*o*y-i*u*y)*T,n[15]=(l*d*a-h*u*a+h*o*c-i*d*c-l*o*p+i*u*p)*T,this},scale:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,o=t.x,a=t.y,s=t.z,l=i*o,u=i*a;return this.set(l*o+n,l*a-r*s,l*s+r*a,0,l*a+r*s,u*a+n,u*s-r*o,0,l*s-r*a,u*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){return this.makeRotationFromQuaternion(e),this.scale(n),this.setPosition(t),this},decompose:function(){var t,e;return function(n,r,i){void 0===t&&(t=new l,e=new u);var o=this.elements,a=t.set(o[0],o[1],o[2]).length(),s=t.set(o[4],o[5],o[6]).length(),c=t.set(o[8],o[9],o[10]).length();this.determinant()<0&&(a=-a),n.x=o[12],n.y=o[13],n.z=o[14],e.elements.set(this.elements);var f=1/a,h=1/s,d=1/c;return e.elements[0]*=f,e.elements[1]*=f,e.elements[2]*=f,e.elements[4]*=h,e.elements[5]*=h,e.elements[6]*=h,e.elements[8]*=d,e.elements[9]*=d,e.elements[10]*=d,r.setFromRotationMatrix(e),i.x=a,i.y=s,i.z=c,this}}(),makePerspective:function(t,e,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(e-t),l=2*i/(n-r),u=(e+t)/(e-t),c=(n+r)/(n-r),f=-(o+i)/(o-i),h=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=l,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(t,e,n,r,i,o){var a=this.elements,s=1/(e-t),l=1/(n-r),u=1/(o-i),c=(e+t)*s,f=(n+r)*l,h=(o+i)*u;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-h,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}},c.prototype=Object.create(r.prototype),c.prototype.constructor=c,c.prototype.isCubeTexture=!0,Object.defineProperty(c.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});var es=new r,ns=new c,rs=[],is=[];B.prototype.setValue=function(t,e){for(var n=this.seq,r=0,i=n.length;r!==i;++r){var o=n[r];o.setValue(t,e[o.id])}};var os=/([\w\d_]+)(\])?(\[|\.)?/g;H.prototype.setValue=function(t,e,n){var r=this.map[e];void 0!==r&&r.setValue(t,n,this.renderer)},H.prototype.set=function(t,e,n){var r=this.map[n];void 0!==r&&r.setValue(t,e[n],this.renderer)},H.prototype.setOptional=function(t,e,n){var r=e[n];void 0!==r&&this.setValue(t,n,r)},H.upload=function(t,e,n,r){for(var i=0,o=e.length;i!==o;++i){var a=e[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(t,s.value,r)}},H.seqWithValue=function(t,e){for(var n=[],r=0,i=t.length;r!==i;++r){var o=t[r];o.id in e&&n.push(o)}return n};var as={merge:function(t){for(var e={},n=0;n<t.length;n++){var r=this.clone(t[n]);for(var i in r)e[i]=r[i]}return e},clone:function(t){var e={};for(var n in t){e[n]={};for(var r in t[n]){var i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}},ss={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 ltcTextureCoords( const in GeometricContext geometry, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = (LUT_SIZE - 1.0)/LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5/LUT_SIZE;\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nvoid clipQuadToHorizon( inout vec3 L[5], out int n ) {\n\tint config = 0;\n\tif ( L[0].z > 0.0 ) config += 1;\n\tif ( L[1].z > 0.0 ) config += 2;\n\tif ( L[2].z > 0.0 ) config += 4;\n\tif ( L[3].z > 0.0 ) config += 8;\n\tn = 0;\n\tif ( config == 0 ) {\n\t} else if ( config == 1 ) {\n\t\tn = 3;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 2 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 3 ) {\n\t\tn = 4;\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t\tL[3] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 4 ) {\n\t\tn = 3;\n\t\tL[0] = -L[3].z * L[2] + L[2].z * L[3];\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t} else if ( config == 5 ) {\n\t\tn = 0;\n\t} else if ( config == 6 ) {\n\t\tn = 4;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 7 ) {\n\t\tn = 5;\n\t\tL[4] = -L[3].z * L[0] + L[0].z * L[3];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 8 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[1] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] =  L[3];\n\t} else if ( config == 9 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[2].z * L[3] + L[3].z * L[2];\n\t} else if ( config == 10 ) {\n\t\tn = 0;\n\t} else if ( config == 11 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 12 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t} else if ( config == 13 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = L[2];\n\t\tL[2] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t} else if ( config == 14 ) {\n\t\tn = 5;\n\t\tL[4] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t} else if ( config == 15 ) {\n\t\tn = 4;\n\t}\n\tif ( n == 3 )\n\t\tL[3] = L[0];\n\tif ( n == 4 )\n\t\tL[4] = L[0];\n}\nfloat integrateLtcBrdfOverRectEdge( vec3 v1, vec3 v2 ) {\n\tfloat cosTheta = dot( v1, v2 );\n\tfloat theta = acos( cosTheta );\n\tfloat res = cross( v1, v2 ).z * ( ( theta > 0.001 ) ? theta / sin( theta ) : 1.0 );\n\treturn res;\n}\nvoid initRectPoints( const in vec3 pos, const in vec3 halfWidth, const in vec3 halfHeight, out vec3 rectPoints[4] ) {\n\trectPoints[0] = pos - halfWidth - halfHeight;\n\trectPoints[1] = pos + halfWidth - halfHeight;\n\trectPoints[2] = pos + halfWidth + halfHeight;\n\trectPoints[3] = pos - halfWidth + halfHeight;\n}\nvec3 integrateLtcBrdfOverRect( const in GeometricContext geometry, const in mat3 brdfMat, const in vec3 rectPoints[4] ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tvec3 T1, T2;\n\tT1 = normalize(V - N * dot( V, N ));\n\tT2 = - cross( N, T1 );\n\tmat3 brdfWrtSurface = brdfMat * transpose( mat3( T1, T2, N ) );\n\tvec3 clippedRect[5];\n\tclippedRect[0] = brdfWrtSurface * ( rectPoints[0] - P );\n\tclippedRect[1] = brdfWrtSurface * ( rectPoints[1] - P );\n\tclippedRect[2] = brdfWrtSurface * ( rectPoints[2] - P );\n\tclippedRect[3] = brdfWrtSurface * ( rectPoints[3] - P );\n\tint n;\n\tclipQuadToHorizon(clippedRect, n);\n\tif ( n == 0 )\n\t\treturn vec3( 0, 0, 0 );\n\tclippedRect[0] = normalize( clippedRect[0] );\n\tclippedRect[1] = normalize( clippedRect[1] );\n\tclippedRect[2] = normalize( clippedRect[2] );\n\tclippedRect[3] = normalize( clippedRect[3] );\n\tclippedRect[4] = normalize( clippedRect[4] );\n\tfloat sum = 0.0;\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[0], clippedRect[1] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[1], clippedRect[2] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[2], clippedRect[3] );\n\tif (n >= 4)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[3], clippedRect[4] );\n\tif (n == 5)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[4], clippedRect[0] );\n\tsum = max( 0.0, sum );\n\tvec3 Lo_i = vec3( sum, sum, sum );\n\treturn Lo_i;\n}\nvec3 Rect_Area_Light_Specular_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight,\n\t\tconst in float roughness,\n\t\tconst in sampler2D ltcMat, const in sampler2D ltcMag ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tvec2 uv = ltcTextureCoords( geometry, roughness );\n\tvec4 brdfLtcApproxParams, t;\n\tbrdfLtcApproxParams = texture2D( ltcMat, uv );\n\tt = texture2D( ltcMat, uv );\n\tfloat brdfLtcScalar = texture2D( ltcMag, uv ).a;\n\tmat3 brdfLtcApproxMat = mat3(\n\t\tvec3(   1,   0, t.y ),\n\t\tvec3(   0, t.z,   0 ),\n\t\tvec3( t.w,   0, t.x )\n\t);\n\tvec3 specularReflectance = integrateLtcBrdfOverRect( geometry, brdfLtcApproxMat, rectPoints );\n\tspecularReflectance *= brdfLtcScalar;\n\treturn specularReflectance;\n}\nvec3 Rect_Area_Light_Diffuse_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tmat3 diffuseBrdfMat = mat3(1);\n\tvec3 diffuseReflectance = integrateLtcBrdfOverRect( geometry, diffuseBrdfMat, rectPoints );\n\treturn diffuseReflectance;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transpose( const in mat3 v ) {\n\tmat3 tmp;\n\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n\treturn tmp;\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_BlinnPhong( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 matDiffColor = material.diffuseColor;\n\t\tvec3 matSpecColor = material.specularColor;\n\t\tvec3 lightColor   = rectAreaLight.color;\n\t\tfloat roughness = BlinnExponentToGGXRoughness( material.specularShininess );\n\t\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n\t\t\t\troughness,\n\t\t\t\tltcMat, ltcMag );\n\t\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n\t\treflectedLight.directSpecular += lightColor * matSpecColor * spec / PI2;\n\t\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff / PI2;\n\t}\n#endif\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 matDiffColor = material.diffuseColor;\n\t\tvec3 matSpecColor = material.specularColor;\n\t\tvec3 lightColor   = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n\t\t\t\troughness,\n\t\t\t\tltcMat, ltcMag );\n\t\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n\t\treflectedLight.directSpecular += lightColor * matSpecColor * spec;\n\t\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff;\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_flip:"#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",distanceRGBA_vert:"varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0 - getShadowMask() ) );\n}\n",shadow_vert:"#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n"};q.prototype={constructor:q,isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(){function t(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}return function(e,n,r){if(e=$a.euclideanModulo(e,1),n=$a.clamp(n,0,1),r=$a.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+n):r+n-r*n,o=2*r-i;this.r=t(o,i,e+1/3),this.g=t(o,i,e),this.b=t(o,i,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(a,s,l)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var u=n[1],c=u.length;if(3===c)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}if(t&&t.length>0){var u=ls[t];void 0!==u?this.setHex(u):console.warn("THREE.Color: Unknown color "+t)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(){var t=this.r,e=this.g,n=this.b;return this.r=t*t,this.g=e*e,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e,n,r=t||{h:0,s:0,l:0},i=this.r,o=this.g,a=this.b,s=Math.max(i,o,a),l=Math.min(i,o,a),u=(l+s)/2;if(l===s)e=0,n=0;else{var c=s-l;switch(n=u<=.5?c/(s+l):c/(2-s-l),s){case i:e=(o-a)/c+(o<a?6:0);break;case o:e=(a-i)/c+2;break;case a:e=(i-o)/c+4}e/=6}return r.h=e,r.s=n,r.l=u,r},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,n){var r=this.getHSL();return r.h+=t,r.s+=e,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}};var ls={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};W.prototype=Object.create(r.prototype),W.prototype.constructor=W,W.prototype.isDataTexture=!0;var us={common:{diffuse:{value:new q(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new i(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new n(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new q(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new q(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new i(0,0,1,1)}}},cs={basic:{uniforms:as.merge([us.common,us.aomap,us.lightmap,us.fog]),vertexShader:ss.meshbasic_vert,fragmentShader:ss.meshbasic_frag},lambert:{uniforms:as.merge([us.common,us.aomap,us.lightmap,us.emissivemap,us.fog,us.lights,{emissive:{value:new q(0)}}]),vertexShader:ss.meshlambert_vert,fragmentShader:ss.meshlambert_frag},phong:{uniforms:as.merge([us.common,us.aomap,us.lightmap,us.emissivemap,us.bumpmap,us.normalmap,us.displacementmap,us.gradientmap,us.fog,us.lights,{emissive:{value:new q(0)},specular:{value:new q(1118481)},shininess:{value:30}}]),vertexShader:ss.meshphong_vert,fragmentShader:ss.meshphong_frag},standard:{uniforms:as.merge([us.common,us.aomap,us.lightmap,us.emissivemap,us.bumpmap,us.normalmap,us.displacementmap,us.roughnessmap,us.metalnessmap,us.fog,us.lights,{emissive:{value:new q(0)},roughness:{value:.5},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ss.meshphysical_vert,fragmentShader:ss.meshphysical_frag},points:{uniforms:as.merge([us.points,us.fog]),vertexShader:ss.points_vert,fragmentShader:ss.points_frag},dashed:{uniforms:as.merge([us.common,us.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ss.linedashed_vert,fragmentShader:ss.linedashed_frag},depth:{uniforms:as.merge([us.common,us.displacementmap]),vertexShader:ss.depth_vert,fragmentShader:ss.depth_frag},normal:{uniforms:as.merge([us.common,us.bumpmap,us.normalmap,us.displacementmap,{opacity:{value:1}}]),vertexShader:ss.normal_vert,fragmentShader:ss.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ss.cube_vert,fragmentShader:ss.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:ss.equirect_vert,fragmentShader:ss.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new l}},vertexShader:ss.distanceRGBA_vert,fragmentShader:ss.distanceRGBA_frag}};cs.physical={uniforms:as.merge([cs.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:ss.meshphysical_vert,fragmentShader:ss.meshphysical_frag},Y.prototype={constructor:Y,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new n;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){var e=t||new n;return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new n;return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return(e||new n).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return(e||new n).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new n;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}};var fs=0;K.prototype={constructor:K,isMaterial:!0,get needsUpdate(){return this._needsUpdate},set needsUpdate(t){!0===t&&this.update(),this._needsUpdate=t},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n){var r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]="overdraw"===e?Number(n):n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){function e(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}var n=void 0===t;n&&(t={textures:{},images:{}});var r={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearCoat&&(r.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(r.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(t).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(t).uuid,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(t).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(t).uuid,r.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==co&&(r.blending=this.blending),this.shading!==oo&&(r.shading=this.shading),this.side!==eo&&(r.side=this.side),this.vertexColors!==ao&&(r.vertexColors=this.vertexColors),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),r.skinning=this.skinning,r.morphTargets=this.morphTargets,n){var i=e(t.textures),o=e(t.images);i.length>0&&(r.textures=i),o.length>0&&(r.images=o)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.shading=t.shading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,n=null;if(null!==e){var r=e.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(K.prototype,e.prototype),Q.prototype=Object.create(K.prototype),Q.prototype.constructor=Q,Q.prototype.isShaderMaterial=!0,Q.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=as.clone(t.uniforms),this.defines=t.defines,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},Q.prototype.toJSON=function(t){var e=K.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},J.prototype=Object.create(K.prototype),J.prototype.constructor=J,J.prototype.isMeshDepthMaterial=!0,J.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},$.prototype={constructor:$,isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,l=t.length;s<l;s+=3){var u=t[s],c=t[s+1],f=t[s+2];u<e&&(e=u),c<n&&(n=c),f<r&&(r=f),u>i&&(i=u),c>o&&(o=c),f>a&&(a=f)}return this.min.set(e,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,l=t.count;s<l;s++){var u=t.getX(s),c=t.getY(s),f=t.getZ(s);u<e&&(e=u),c<n&&(n=c),f<r&&(r=f),u>i&&(i=u),c>o&&(o=c),f>a&&(a=f)}return this.min.set(e,n,r),this.max.set(i,o,a),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new l;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){var e=t||new l;return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new l;return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t=new l;return function(e){var n=this;return e.updateMatrixWorld(!0),e.traverse(function(e){var r,i,o=e.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(r=0,i=a.length;r<i;r++)t.copy(a[r]),t.applyMatrix4(e.matrixWorld),n.expandByPoint(t)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(r=0,i=s.count;r<i;r++)t.fromBufferAttribute(s,r).applyMatrix4(e.matrixWorld),n.expandByPoint(t)}}),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return(e||new l).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t;return function(e){return void 0===t&&(t=new l),this.clampPoint(e.center,t),t.distanceToSquared(e.center)<=e.radius*e.radius}}(),intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=t.constant&&n>=t.constant},clampPoint:function(t,e){return(e||new l).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new l;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new l;return function(e){var n=e||new tt;return this.getCenter(n.center),n.radius=.5*this.getSize(t).length(),n}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new l,new l,new l,new l,new l,new l,new l,new l];return function(e){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(t),this)}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},tt.prototype={constructor:tt,set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t;return function(e,n){void 0===t&&(t=new $);var r=this.center;void 0!==n?r.copy(n):t.setFromPoints(e).getCenter(r);for(var i=0,o=0,a=e.length;o<a;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(this.center.dot(t.normal)-t.constant)<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t),r=e||new l;return r.copy(t),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(t){var e=t||new $;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},et.prototype={constructor:et,isMatrix3:!0,set:function(t,e,n,r,i,o,a,s,l){var u=this.elements;return u[0]=t,u[1]=r,u[2]=a,u[3]=e,u[4]=i,u[5]=s,u[6]=n,u[7]=o,u[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t;return function(e){void 0===t&&(t=new l);for(var n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix3(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8];return e*o*u-e*a*l-n*i*u+n*a*s+r*i*l-r*o*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var n=t.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],l=n[4],u=n[5],c=n[6],f=n[7],h=n[8],d=h*l-u*f,p=u*c-h*s,m=f*s-l*c,g=i*d+o*p+a*m;if(0===g){var v="THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";if(!0===e)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return r[0]=d*y,r[1]=(a*f-h*o)*y,r[2]=(u*o-a*l)*y,r[3]=p*y,r[4]=(h*i-a*c)*y,r[5]=(a*s-u*i)*y,r[6]=m*y,r[7]=(o*c-f*i)*y,r[8]=(l*i-o*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}},nt.prototype={constructor:nt,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new l,e=new l;return function(n,r,i){var o=t.subVectors(i,r).cross(e.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var n=this.distanceToPoint(t);return(e||new l).copy(this.normal).multiplyScalar(n)},intersectLine:function(){var t=new l;return function(e,n){var r=n||new l,i=e.delta(t),o=this.normal.dot(i);if(0!==o){var a=-(e.start.dot(this.normal)+this.constant)/o;if(!(a<0||a>1))return r.copy(i).multiplyScalar(a).add(e.start)}else if(0===this.distanceToPoint(e.start))return r.copy(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return(t||new l).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new l,e=new et;return function(n,r){var i=this.coplanarPoint(t).applyMatrix4(n),o=r||e.getNormalMatrix(n),a=this.normal.applyMatrix3(o).normalize();return this.constant=-i.dot(a),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},rt.prototype={constructor:rt,set:function(t,e,n,r,i,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=n[6],c=n[7],f=n[8],h=n[9],d=n[10],p=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return e[0].setComponents(a-r,c-s,p-f,y-m).normalize(),e[1].setComponents(a+r,c+s,p+f,y+m).normalize(),e[2].setComponents(a+i,c+l,p+h,y+g).normalize(),e[3].setComponents(a-i,c-l,p-h,y-g).normalize(),e[4].setComponents(a-o,c-u,p-d,y-v).normalize(),e[5].setComponents(a+o,c+u,p+d,y+v).normalize(),this},intersectsObject:function(){var t=new tt;return function(e){var n=e.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),t.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new tt;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,n=t.center,r=-t.radius,i=0;i<6;i++){if(e[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(){var t=new l,e=new l;return function(n){for(var r=this.planes,i=0;i<6;i++){var o=r[i];t.x=o.normal.x>0?n.min.x:n.max.x,e.x=o.normal.x>0?n.max.x:n.min.x,t.y=o.normal.y>0?n.min.y:n.max.y,e.y=o.normal.y>0?n.max.y:n.min.y,t.z=o.normal.z>0?n.min.z:n.max.z,e.z=o.normal.z>0?n.max.z:n.min.z;var a=o.distanceToPoint(t),s=o.distanceToPoint(e);if(a<0&&s<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}},ot.prototype={constructor:ot,set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return(e||new l).copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new l;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){var n=e||new l;n.subVectors(t,this.origin);var r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new l;return function(e){var n=t.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(n).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:function(){var t=new l,e=new l,n=new l;return function(r,i,o,a){t.copy(r).add(i).multiplyScalar(.5),e.copy(i).sub(r).normalize(),n.copy(this.origin).sub(t);var s,l,u,c,f=.5*r.distanceTo(i),h=-this.direction.dot(e),d=n.dot(this.direction),p=-n.dot(e),m=n.lengthSq(),g=Math.abs(1-h*h);if(g>0)if(s=h*p-d,l=h*d-p,c=f*g,s>=0)if(l>=-c)if(l<=c){var v=1/g;s*=v,l*=v,u=s*(s+h*l+2*d)+l*(h*s+l+2*p)+m}else l=f,s=Math.max(0,-(h*l+d)),u=-s*s+l*(l+2*p)+m;else l=-f,s=Math.max(0,-(h*l+d)),u=-s*s+l*(l+2*p)+m;else l<=-c?(s=Math.max(0,-(-h*f+d)),l=s>0?-f:Math.min(Math.max(-f,-p),f),u=-s*s+l*(l+2*p)+m):l<=c?(s=0,l=Math.min(Math.max(-f,-p),f),u=l*(l+2*p)+m):(s=Math.max(0,-(h*f+d)),l=s>0?f:Math.min(Math.max(-f,-p),f),u=-s*s+l*(l+2*p)+m);else l=h>0?-f:f,s=Math.max(0,-(h*l+d)),u=-s*s+l*(l+2*p)+m;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(e).multiplyScalar(l).add(t),u}}(),intersectSphere:function(){var t=new l;return function(e,n){t.subVectors(e.center,this.origin);var r=t.dot(this.direction),i=t.dot(t)-r*r,o=e.radius*e.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=r-a,l=r+a;return s<0&&l<0?null:s<0?this.at(l,n):this.at(s,n)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var n,r,i,o,a,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,f=this.origin;return l>=0?(n=(t.min.x-f.x)*l,r=(t.max.x-f.x)*l):(n=(t.max.x-f.x)*l,r=(t.min.x-f.x)*l),u>=0?(i=(t.min.y-f.y)*u,o=(t.max.y-f.y)*u):(i=(t.max.y-f.y)*u,o=(t.min.y-f.y)*u),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),c>=0?(a=(t.min.z-f.z)*c,s=(t.max.z-f.z)*c):(a=(t.max.z-f.z)*c,s=(t.min.z-f.z)*c),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,e)))},intersectsBox:function(){var t=new l;return function(e){return null!==this.intersectBox(e,t)}}(),intersectTriangle:function(){var t=new l,e=new l,n=new l,r=new l;return function(i,o,a,s,l){e.subVectors(o,i),n.subVectors(a,i),r.crossVectors(e,n);var u,c=this.direction.dot(r);if(c>0){if(s)return null;u=1}else{if(!(c<0))return null;u=-1,c=-c}t.subVectors(this.origin,i);var f=u*this.direction.dot(n.crossVectors(t,n));if(f<0)return null;var h=u*this.direction.dot(e.cross(t));if(h<0)return null;if(f+h>c)return null;var d=-u*t.dot(r);return d<0?null:this.at(d/c,l)}}(),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},at.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],at.DefaultOrder="XYZ",at.prototype={constructor:at,isEuler:!0,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get order(){return this._order},set order(t){this._order=t,this.onChangeCallback()},set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var r=$a.clamp,i=t.elements,o=i[0],a=i[4],s=i[8],l=i[1],u=i[5],c=i[9],f=i[2],h=i[6],d=i[10];return e=e||this._order,"XYZ"===e?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(h,u),this._z=0)):"YXZ"===e?(this._x=Math.asin(-r(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(r(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,o))):"ZYX"===e?(this._y=Math.asin(-r(f,-1,1)),Math.abs(f)<.99999?(this._x=Math.atan2(h,d),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,u))):"YZX"===e?(this._z=Math.asin(r(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===e?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(h,u),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-c,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var t;return function(e,n,r){return void 0===t&&(t=new u),t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,n,r)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new s;return function(e){return t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new l(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},st.prototype={constructor:st,set:function(t){this.mask=1<<t},enable:function(t){this.mask|=1<<t},toggle:function(t){this.mask^=1<<t},disable:function(t){this.mask&=~(1<<t)},test:function(t){return 0!=(this.mask&t.mask)}};var hs=0;lt.DefaultUp=new l(0,1,0),lt.DefaultMatrixAutoUpdate=!0,lt.prototype={constructor:lt,isObject3D:!0,applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new s;return function(e,n){return t.setFromAxisAngle(e,n),this.quaternion.multiply(t),this}}(),rotateX:function(){var t=new l(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new l(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new l(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new l;return function(e,n){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(n)),this}}(),translateX:function(){var t=new l(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new l(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new l(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new u;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new u;return function(e){t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);var n=this.children.indexOf(t);-1!==n&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(n,1))},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n],o=i.getObjectByProperty(t,e);if(void 0!==o)return o}},getWorldPosition:function(t){var e=t||new l;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new l,e=new l;return function(n){var r=n||new s;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,r,e),r}}(),getWorldRotation:function(){var t=new s;return function(e){var n=e||new at;return this.getWorldQuaternion(t),n.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new l,e=new s;return function(n){var r=n||new l;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,r),r}}(),getWorldDirection:function(){var t=new s;return function(e){var n=e||new l;return this.getWorldQuaternion(t),n.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==t||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].updateMatrixWorld(t)},toJSON:function(t){function e(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}var n=void 0===t||""===t,r={};n&&(t={geometries:{},materials:{},textures:{},images:{}},r.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var i={};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),i.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===t.geometries[this.geometry.uuid]&&(t.geometries[this.geometry.uuid]=this.geometry.toJSON(t)),i.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===t.materials[this.material.uuid]&&(t.materials[this.material.uuid]=this.material.toJSON(t)),i.material=this.material.uuid),this.children.length>0){i.children=[];for(var o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(t).object)}if(n){var a=e(t.geometries),s=e(t.materials),l=e(t.textures),u=e(t.images);a.length>0&&(r.geometries=a),s.length>0&&(r.materials=s),l.length>0&&(r.textures=l),u.length>0&&(r.images=u)}return r.object=i,r},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var r=t.children[n];this.add(r.clone())}return this}},Object.assign(lt.prototype,e.prototype),ut.prototype={constructor:ut,set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return(t||new l).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return(t||new l).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var n=e||new l;return this.delta(n).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new l,e=new l;return function(n,r){t.subVectors(n,this.start),e.subVectors(this.end,this.start);var i=e.dot(e),o=e.dot(t),a=o/i;return r&&(a=$a.clamp(a,0,1)),a}}(),closestPointToPoint:function(t,e,n){var r=this.closestPointToPointParameter(t,e),i=n||new l;return this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}},ct.normal=function(){var t=new l;return function(e,n,r,i){var o=i||new l;o.subVectors(r,n),t.subVectors(e,n),o.cross(t);var a=o.lengthSq();return a>0?o.multiplyScalar(1/Math.sqrt(a)):o.set(0,0,0)}}(),ct.barycoordFromPoint=function(){var t=new l,e=new l,n=new l;return function(r,i,o,a,s){t.subVectors(a,i),e.subVectors(o,i),n.subVectors(r,i);var u=t.dot(t),c=t.dot(e),f=t.dot(n),h=e.dot(e),d=e.dot(n),p=u*h-c*c,m=s||new l;if(0===p)return m.set(-2,-1,-1);var g=1/p,v=(h*f-c*d)*g,y=(u*d-c*f)*g;return m.set(1-v-y,y,v)}}(),ct.containsPoint=function(){var t=new l;return function(e,n,r,i){var o=ct.barycoordFromPoint(e,n,r,i,t);return o.x>=0&&o.y>=0&&o.x+o.y<=1}}(),ct.prototype={constructor:ct,set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new l,e=new l;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){return(t||new l).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return ct.normal(this.a,this.b,this.c,t)},plane:function(t){return(t||new nt).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return ct.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return ct.containsPoint(t,this.a,this.b,this.c)},closestPointToPoint:function(){var t,e,n,r;return function(i,o){void 0===t&&(t=new nt,e=[new ut,new ut,new ut],n=new l,r=new l);var a=o||new l,s=1/0;if(t.setFromCoplanarPoints(this.a,this.b,this.c),t.projectPoint(i,n),!0===this.containsPoint(n))a.copy(n);else{e[0].set(this.a,this.b),e[1].set(this.b,this.c),e[2].set(this.c,this.a);for(var u=0;u<e.length;u++){e[u].closestPointToPoint(n,!0,r);var c=n.distanceToSquared(r);c<s&&(s=c,a.copy(r))}}return a}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}},ft.prototype={constructor:ft,clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(var e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}},ht.prototype=Object.create(K.prototype),ht.prototype.constructor=ht,ht.prototype.isMeshBasicMaterial=!0,ht.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},dt.prototype={constructor:dt,isBufferAttribute:!0,set needsUpdate(t){!0===t&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.itemSize:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new q),e[n++]=o.r,e[n++]=o.g,e[n++]=o.b}return this},copyIndicesArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];e[n++]=o.a,e[n++]=o.b,e[n++]=o.c}return this},copyVector2sArray:function(t){for(var e=this.array,r=0,i=0,o=t.length;i<o;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),a=new n),e[r++]=a.x,e[r++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new l),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,r=0,o=t.length;r<o;r++){var a=t[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new i),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z,e[n++]=a.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},pt.prototype=Object.create(dt.prototype),pt.prototype.constructor=pt,mt.prototype=Object.create(dt.prototype),mt.prototype.constructor=mt,gt.prototype=Object.create(dt.prototype),gt.prototype.constructor=gt,vt.prototype=Object.create(dt.prototype),vt.prototype.constructor=vt,yt.prototype=Object.create(dt.prototype),yt.prototype.constructor=yt,bt.prototype=Object.create(dt.prototype),bt.prototype.constructor=bt,_t.prototype=Object.create(dt.prototype),_t.prototype.constructor=_t,wt.prototype=Object.create(dt.prototype),wt.prototype.constructor=wt,xt.prototype=Object.create(dt.prototype),xt.prototype.constructor=xt,Object.assign(Et.prototype,{computeGroups:function(t){for(var e,n=[],r=void 0,i=t.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==e&&(e.count=3*o-e.start,n.push(e)),e={start:3*o,materialIndex:r})}void 0!==e&&(e.count=3*o-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,r=t.faces,i=t.vertices,o=t.faceVertexUvs,a=o[0]&&o[0].length>0,s=o[1]&&o[1].length>0,l=t.morphTargets,u=l.length;if(u>0){e=[];for(var c=0;c<u;c++)e[c]=[];this.morphTargets.position=e}var f,h=t.morphNormals,d=h.length;if(d>0){f=[];for(var c=0;c<d;c++)f[c]=[];this.morphTargets.normal=f}for(var p=t.skinIndices,m=t.skinWeights,g=p.length===i.length,v=m.length===i.length,c=0;c<r.length;c++){var y=r[c];this.vertices.push(i[y.a],i[y.b],i[y.c]);var b=y.vertexNormals;if(3===b.length)this.normals.push(b[0],b[1],b[2]);else{var _=y.normal;this.normals.push(_,_,_)}var w=y.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var x=y.color;this.colors.push(x,x,x)}if(!0===a){var E=o[0][c];void 0!==E?this.uvs.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new n,new n,new n))}if(!0===s){var E=o[1][c];void 0!==E?this.uvs2.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new n,new n,new n))}for(var M=0;M<u;M++){var S=l[M].vertices;e[M].push(S[y.a],S[y.b],S[y.c])}for(var M=0;M<d;M++){var T=h[M].vertexNormals[c];f[M].push(T.a,T.b,T.c)}g&&this.skinIndices.push(p[y.a],p[y.b],p[y.c]),v&&this.skinWeights.push(m[y.a],m[y.b],m[y.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var ds=0;Tt.prototype={constructor:Tt,isGeometry:!0,applyMatrix:function(t){for(var e=(new et).getNormalMatrix(t),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(t)}for(var n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(e).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new u),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new u),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new u),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,n,r){return void 0===t&&(t=new u),t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,n,r){return void 0===t&&(t=new u),t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new lt),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){function e(t,e,n,i){var o=void 0!==s?[h[t].clone(),h[e].clone(),h[n].clone()]:[],a=void 0!==u?[r.colors[t].clone(),r.colors[e].clone(),r.colors[n].clone()]:[],l=new ft(t,e,n,o,a,i);r.faces.push(l),void 0!==c&&r.faceVertexUvs[0].push([d[t].clone(),d[e].clone(),d[n].clone()]),void 0!==f&&r.faceVertexUvs[1].push([p[t].clone(),p[e].clone(),p[n].clone()])}var r=this,i=null!==t.index?t.index.array:void 0,o=t.attributes,a=o.position.array,s=void 0!==o.normal?o.normal.array:void 0,u=void 0!==o.color?o.color.array:void 0,c=void 0!==o.uv?o.uv.array:void 0,f=void 0!==o.uv2?o.uv2.array:void 0;void 0!==f&&(this.faceVertexUvs[1]=[]);for(var h=[],d=[],p=[],m=0,g=0;m<a.length;m+=3,g+=2)r.vertices.push(new l(a[m],a[m+1],a[m+2])),void 0!==s&&h.push(new l(s[m],s[m+1],s[m+2])),void 0!==u&&r.colors.push(new q(u[m],u[m+1],u[m+2])),void 0!==c&&d.push(new n(c[g],c[g+1])),void 0!==f&&p.push(new n(f[g],f[g+1]));if(void 0!==i){var v=t.groups;if(v.length>0)for(var m=0;m<v.length;m++)for(var y=v[m],b=y.start,_=y.count,g=b,w=b+_;g<w;g+=3)e(i[g],i[g+1],i[g+2],y.materialIndex);else for(var m=0;m<i.length;m+=3)e(i[m],i[m+1],i[m+2])}else for(var m=0;m<a.length/3;m+=3)e(m,m+1,m+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,r=new u;return r.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new l,e=new l,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];t.subVectors(s,a),e.subVectors(o,a),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){void 0===t&&(t=!0);var e,n,r,i,o,a;for(a=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)a[e]=new l;if(t){var s,u,c,f=new l,h=new l;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s=this.vertices[o.a],u=this.vertices[o.b],c=this.vertices[o.c],f.subVectors(c,u),h.subVectors(s,u),f.cross(h),a[o.a].add(f),a[o.b].add(f),a[o.c].add(f)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)o=this.faces[r],a[o.a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(e=0,n=this.vertices.length;e<n;e++)a[e].normalize();for(r=0,i=this.faces.length;r<i;r++){o=this.faces[r];var d=o.vertexNormals;3===d.length?(d[0].copy(a[o.a]),d[1].copy(a[o.b]),d[2].copy(a[o.c])):(d[0]=a[o.a].clone(),d[1]=a[o.b].clone(),d[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){n=this.faces[t];var r=n.vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for(i=this.faces[n],i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),t=0,e=i.vertexNormals.length;t<e;t++)i.__originalVertexNormals[t]?i.__originalVertexNormals[t].copy(i.vertexNormals[t]):i.__originalVertexNormals[t]=i.vertexNormals[t].clone();var o=new Tt;for(o.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var a,s,u=this.morphNormals[t].faceNormals,c=this.morphNormals[t].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)a=new l,s={a:new l,b:new l,c:new l},u.push(a),c.push(s)}var f=this.morphNormals[t];o.vertices=this.morphTargets[t].vertices,o.computeFaceNormals(),o.computeVertexNormals();var a,s;for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],a=f.faceNormals[n],s=f.vertexNormals[n],a.copy(i.normal),s.a.copy(i.vertexNormals[0]),s.b.copy(i.vertexNormals[1]),s.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeLineDistances:function(){for(var t=0,e=this.vertices,n=0,r=e.length;n<r;n++)n>0&&(t+=e[n].distanceTo(e[n-1])),this.lineDistances[n]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new $),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new tt),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(!1===(t&&t.isGeometry))return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);var r,i=this.vertices.length,o=this.vertices,a=t.vertices,s=this.faces,l=t.faces,u=this.faceVertexUvs[0],c=t.faceVertexUvs[0],f=this.colors,h=t.colors;void 0===n&&(n=0),void 0!==e&&(r=(new et).getNormalMatrix(e));for(var d=0,p=a.length;d<p;d++){var m=a[d],g=m.clone();void 0!==e&&g.applyMatrix4(e),o.push(g)}for(var d=0,p=h.length;d<p;d++)f.push(h[d].clone());for(d=0,p=l.length;d<p;d++){var v,y,b,_=l[d],w=_.vertexNormals,x=_.vertexColors;v=new ft(_.a+i,_.b+i,_.c+i),v.normal.copy(_.normal),void 0!==r&&v.normal.applyMatrix3(r).normalize();for(var E=0,M=w.length;E<M;E++)y=w[E].clone(),void 0!==r&&y.applyMatrix3(r).normalize(),v.vertexNormals.push(y);v.color.copy(_.color);for(var E=0,M=x.length;E<M;E++)b=x[E],v.vertexColors.push(b.clone());v.materialIndex=_.materialIndex+n,s.push(v)}for(d=0,p=c.length;d<p;d++){var S=c[d],T=[];if(void 0!==S){for(var E=0,M=S.length;E<M;E++)T.push(S[E].clone());u.push(T)}}},mergeMesh:function(t){if(!1===(t&&t.isMesh))return void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t);t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)},mergeVertices:function(){var t,e,n,r,i,o,a,s,l={},u=[],c=[],f=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)t=this.vertices[n],e=Math.round(t.x*f)+"_"+Math.round(t.y*f)+"_"+Math.round(t.z*f),void 0===l[e]?(l[e]=n,u.push(this.vertices[n]),c[n]=u.length-1):c[n]=c[l[e]];var h=[];for(n=0,r=this.faces.length;n<r;n++){i=this.faces[n],i.a=c[i.a],i.b=c[i.b],i.c=c[i.c],o=[i.a,i.b,i.c];for(var d=0;d<3;d++)if(o[d]===o[(d+1)%3]){h.push(n);break}}for(n=h.length-1;n>=0;n--){var p=h[n];for(this.faces.splice(p,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(p,1)}var m=this.vertices.length-u.length;return this.vertices=u,m},sortFacesByMaterialIndex:function(){function t(t,e){return t.materialIndex-e.materialIndex}for(var e=this.faces,n=e.length,r=0;r<n;r++)e[r]._id=r;e.sort(t);var i,o,a=this.faceVertexUvs[0],s=this.faceVertexUvs[1];a&&a.length===n&&(i=[]),s&&s.length===n&&(o=[]);for(var r=0;r<n;r++){var l=e[r]._id;i&&i.push(a[l]),o&&o.push(s[l])}i&&(this.faceVertexUvs[0]=i),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){function t(t,e,n){return n?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==h[e]?h[e]:(h[e]=f.length/3,f.push(t.x,t.y,t.z),h[e])}function n(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==p[e]?p[e]:(p[e]=d.length,d.push(t.getHex()),p[e])}function r(t){var e=t.x.toString()+t.y.toString();return void 0!==g[e]?g[e]:(g[e]=m.length/2,m.push(t.x,t.y),g[e])}var i={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var a in o)void 0!==o[a]&&(i[a]=o[a]);return i}for(var s=[],l=0;l<this.vertices.length;l++){var u=this.vertices[l];s.push(u.x,u.y,u.z)}for(var c=[],f=[],h={},d=[],p={},m=[],g={},l=0;l<this.faces.length;l++){var v=this.faces[l],y=void 0!==this.faceVertexUvs[0][l],b=v.normal.length()>0,_=v.vertexNormals.length>0,w=1!==v.color.r||1!==v.color.g||1!==v.color.b,x=v.vertexColors.length>0,E=0;if(E=t(E,0,0),E=t(E,1,!0),E=t(E,2,!1),E=t(E,3,y),E=t(E,4,b),E=t(E,5,_),E=t(E,6,w),E=t(E,7,x),c.push(E),c.push(v.a,v.b,v.c),c.push(v.materialIndex),y){var M=this.faceVertexUvs[0][l];c.push(r(M[0]),r(M[1]),r(M[2]))}if(b&&c.push(e(v.normal)),_){var S=v.vertexNormals;c.push(e(S[0]),e(S[1]),e(S[2]))}if(w&&c.push(n(v.color)),x){var T=v.vertexColors;c.push(n(T[0]),n(T[1]),n(T[2]))}}return i.data={},i.data.vertices=s,i.data.normals=f,d.length>0&&(i.data.colors=d),m.length>0&&(i.data.uvs=[m]),i.data.faces=c,i},clone:function(){return(new Tt).copy(this)},copy:function(t){var e,n,r,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,n=s.length;e<n;e++)this.vertices.push(s[e].clone());var l=t.colors;for(e=0,n=l.length;e<n;e++)this.colors.push(l[e].clone());var u=t.faces;for(e=0,n=u.length;e<n;e++)this.faces.push(u[e].clone());for(e=0,n=t.faceVertexUvs.length;e<n;e++){var c=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),r=0,i=c.length;r<i;r++){var f=c[r],h=[];for(o=0,a=f.length;o<a;o++){var d=f[o];h.push(d.clone())}this.faceVertexUvs[e].push(h)}}var p=t.morphTargets;for(e=0,n=p.length;e<n;e++){var m={};if(m.name=p[e].name,void 0!==p[e].vertices)for(m.vertices=[],r=0,i=p[e].vertices.length;r<i;r++)m.vertices.push(p[e].vertices[r].clone());if(void 0!==p[e].normals)for(m.normals=[],r=0,i=p[e].normals.length;r<i;r++)m.normals.push(p[e].normals[r].clone());this.morphTargets.push(m)}var g=t.morphNormals;for(e=0,n=g.length;e<n;e++){var v={};if(void 0!==g[e].vertexNormals)for(v.vertexNormals=[],r=0,i=g[e].vertexNormals.length;r<i;r++){var y=g[e].vertexNormals[r],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),v.vertexNormals.push(b)}if(void 0!==g[e].faceNormals)for(v.faceNormals=[],r=0,i=g[e].faceNormals.length;r<i;r++)v.faceNormals.push(g[e].faceNormals[r].clone());this.morphNormals.push(v)}var _=t.skinWeights;for(e=0,n=_.length;e<n;e++)this.skinWeights.push(_[e].clone());var w=t.skinIndices;for(e=0,n=w.length;e<n;e++)this.skinIndices.push(w[e].clone());var x=t.lineDistances;for(e=0,n=x.length;e<n;e++)this.lineDistances.push(x[e]);var E=t.boundingBox;null!==E&&(this.boundingBox=E.clone());var M=t.boundingSphere;return null!==M&&(this.boundingSphere=M.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(Tt.prototype,e.prototype),Ct.prototype={constructor:Ct,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(Mt(t)>65535?_t:yt)(t,1):this.index=t},addAttribute:function(t,e){return!1===(e&&e.isBufferAttribute)&&!1===(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(t,new dt(arguments[1],arguments[2]))):"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(e)):(this.attributes[t]=e,this)},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){(new et).getNormalMatrix(t).applyToBufferAttribute(n),n.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new u),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new u),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new u),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,n,r){return void 0===t&&(t=new u),t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,n,r){return void 0===t&&(t=new u),t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new lt),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new wt(3*e.vertices.length,3),r=new wt(3*e.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(e.vertices)),this.addAttribute("color",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var i=new wt(e.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},updateFromObject:function(t){var e=t.geometry;if(t.isMesh){var n=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(n=void 0,e.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(e);n.verticesNeedUpdate=e.verticesNeedUpdate,n.normalsNeedUpdate=e.normalsNeedUpdate,n.colorsNeedUpdate=e.colorsNeedUpdate,n.uvsNeedUpdate=e.uvsNeedUpdate,n.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=n}var r;return!0===e.verticesNeedUpdate&&(r=this.attributes.position,void 0!==r&&(r.copyVector3sArray(e.vertices),r.needsUpdate=!0),e.verticesNeedUpdate=!1),!0===e.normalsNeedUpdate&&(r=this.attributes.normal,void 0!==r&&(r.copyVector3sArray(e.normals),r.needsUpdate=!0),e.normalsNeedUpdate=!1),!0===e.colorsNeedUpdate&&(r=this.attributes.color,void 0!==r&&(r.copyColorsArray(e.colors),r.needsUpdate=!0),e.colorsNeedUpdate=!1),e.uvsNeedUpdate&&(r=this.attributes.uv,void 0!==r&&(r.copyVector2sArray(e.uvs),r.needsUpdate=!0),e.uvsNeedUpdate=!1),e.lineDistancesNeedUpdate&&(r=this.attributes.lineDistance,void 0!==r&&(r.copyArray(e.lineDistances),r.needsUpdate=!0),e.lineDistancesNeedUpdate=!1),e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Et).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new dt(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.addAttribute("normal",new dt(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.addAttribute("color",new dt(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new dt(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var o=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new dt(o,2).copyVector2sArray(t.uvs2))}if(t.indices.length>0){var a=Mt(t.indices)>65535?Uint32Array:Uint16Array,s=new a(3*t.indices.length);this.setIndex(new dt(s,1).copyIndicesArray(t.indices))}this.groups=t.groups;for(var l in t.morphTargets){for(var u=[],c=t.morphTargets[l],f=0,h=c.length;f<h;f++){var d=c[f],p=new wt(3*d.length,3);u.push(p.copyVector3sArray(d))}this.morphAttributes[l]=u}if(t.skinIndices.length>0){var m=new wt(4*t.skinIndices.length,4);this.addAttribute("skinIndex",m.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var g=new wt(4*t.skinWeights.length,4);this.addAttribute("skinWeight",g.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new $);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var t=new $,e=new l;return function(){null===this.boundingSphere&&(this.boundingSphere=new tt);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;t.setFromBufferAttribute(n),t.getCenter(r);for(var i=0,o=0,a=n.count;o<a;o++)e.x=n.getX(o),e.y=n.getY(o),e.z=n.getZ(o),i=Math.max(i,r.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,n=this.groups;if(e.position){var r=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new dt(new Float32Array(r.length),3));else for(var i=e.normal.array,o=0,a=i.length;o<a;o++)i[o]=0;var s,u,c,f=e.normal.array,h=new l,d=new l,p=new l,m=new l,g=new l;if(t){var v=t.array;0===n.length&&this.addGroup(0,v.length);for(var y=0,b=n.length;y<b;++y)for(var _=n[y],w=_.start,x=_.count,o=w,a=w+x;o<a;o+=3)s=3*v[o+0],u=3*v[o+1],c=3*v[o+2],h.fromArray(r,s),d.fromArray(r,u),p.fromArray(r,c),m.subVectors(p,d),g.subVectors(h,d),m.cross(g),f[s]+=m.x,f[s+1]+=m.y,f[s+2]+=m.z,f[u]+=m.x,f[u+1]+=m.y,f[u+2]+=m.z,f[c]+=m.x,f[c+1]+=m.y,f[c+2]+=m.z}else for(var o=0,a=r.length;o<a;o+=9)h.fromArray(r,o),d.fromArray(r,o+3),p.fromArray(r,o+6),m.subVectors(p,d),g.subVectors(h,d),m.cross(g),f[o]=m.x,f[o+1]=m.y,f[o+2]=m.z,f[o+3]=m.x,f[o+4]=m.y,f[o+5]=m.z,f[o+6]=m.x,f[o+7]=m.y,f[o+8]=m.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(!1===(t&&t.isBufferGeometry))return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0);var n=this.attributes;for(var r in n)if(void 0!==t.attributes[r])for(var i=n[r],o=i.array,a=t.attributes[r],s=a.array,l=a.itemSize,u=0,c=l*e;u<s.length;u++,c++)o[c]=s[u];return this},normalizeNormals:function(){for(var t,e,n,r,i=this.attributes.normal.array,o=0,a=i.length;o<a;o+=3)t=i[o],e=i[o+1],n=i[o+2],r=1/Math.sqrt(t*t+e*e+n*n),i[o]*=r,i[o+1]*=r,i[o+2]*=r},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Ct,e=this.index.array,n=this.attributes;for(var r in n){for(var i=n[r],o=i.array,a=i.itemSize,s=new o.constructor(e.length*a),l=0,u=0,c=0,f=e.length;c<f;c++){l=e[c]*a;for(var h=0;h<a;h++)s[u++]=o[l++]}t.addAttribute(r,new dt(s,a))}return t},toJSON:function(){var t={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);t.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var a=o[n],i=Array.prototype.slice.call(a.array);t.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var l=this.boundingSphere;return null!==l&&(t.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),t},clone:function(){return(new Ct).copy(this)},copy:function(t){var e,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var i=t.index;null!==i&&this.setIndex(i.clone());var o=t.attributes;for(e in o){var a=o[e];this.addAttribute(e,a.clone())}var s=t.morphAttributes;for(e in s){var l=[],u=s[e];for(n=0,r=u.length;n<r;n++)l.push(u[n].clone());this.morphAttributes[e]=l}var c=t.groups;for(n=0,r=c.length;n<r;n++){var f=c[n];this.addGroup(f.start,f.count,f.materialIndex)}var h=t.boundingBox;null!==h&&(this.boundingBox=h.clone());var d=t.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},Ct.MaxIndex=65535,Object.assign(Ct.prototype,e.prototype),Ot.prototype=Object.assign(Object.create(lt.prototype),{constructor:Ot,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return lt.prototype.copy.call(this,t),this.drawMode=t.drawMode,this},updateMorphTargets:function(){var t=this.geometry.morphTargets;if(void 0!==t&&t.length>0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,n=t.length;e<n;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[t[e].name]=e}},raycast:function(){function t(t,e,n,r,i,o,a){return ct.barycoordFromPoint(t,e,n,r,y),i.multiplyScalar(y.x),o.multiplyScalar(y.y),a.multiplyScalar(y.z),i.add(o).add(a),i.clone()}function e(t,e,n,r,i,o,a){var s=t.material;if(null===(s.side===no?n.intersectTriangle(o,i,r,!0,a):n.intersectTriangle(r,i,o,s.side!==ro,a)))return null;_.copy(a),_.applyMatrix4(t.matrixWorld);var l=e.ray.origin.distanceTo(_);return l<e.near||l>e.far?null:{distance:l,point:_.clone(),object:t}}function r(n,r,i,o,a,l,u,h){s.fromBufferAttribute(o,l),c.fromBufferAttribute(o,u),f.fromBufferAttribute(o,h);var d=e(n,r,i,s,c,f,b);return d&&(a&&(m.fromBufferAttribute(a,l),g.fromBufferAttribute(a,u),v.fromBufferAttribute(a,h),d.uv=t(b,s,c,f,m,g,v)),d.face=new ft(l,u,h,ct.normal(s,c,f)),d.faceIndex=l),d}var i=new u,o=new ot,a=new tt,s=new l,c=new l,f=new l,h=new l,d=new l,p=new l,m=new n,g=new n,v=new n,y=new l,b=new l,_=new l;return function(n,l){var u=this.geometry,y=this.material,_=this.matrixWorld;if(void 0!==y&&(null===u.boundingSphere&&u.computeBoundingSphere(),a.copy(u.boundingSphere),a.applyMatrix4(_),!1!==n.ray.intersectsSphere(a)&&(i.getInverse(_),o.copy(n.ray).applyMatrix4(i),null===u.boundingBox||!1!==o.intersectsBox(u.boundingBox)))){var w;if(u.isBufferGeometry){var x,E,M,S,T,C=u.index,O=u.attributes.position,A=u.attributes.uv;if(null!==C)for(S=0,T=C.count;S<T;S+=3)x=C.getX(S),E=C.getX(S+1),M=C.getX(S+2),(w=r(this,n,o,O,A,x,E,M))&&(w.faceIndex=Math.floor(S/3),l.push(w));else for(S=0,T=O.count;S<T;S+=3)x=S,E=S+1,M=S+2,(w=r(this,n,o,O,A,x,E,M))&&(w.index=x,l.push(w))}else if(u.isGeometry){var I,R,P,L,N=y&&y.isMultiMaterial,k=!0===N?y.materials:null,D=u.vertices,F=u.faces,j=u.faceVertexUvs[0];j.length>0&&(L=j);for(var U=0,z=F.length;U<z;U++){var B=F[U],V=!0===N?k[B.materialIndex]:y;if(void 0!==V){if(I=D[B.a],R=D[B.b],P=D[B.c],!0===V.morphTargets){var G=u.morphTargets,H=this.morphTargetInfluences;s.set(0,0,0),c.set(0,0,0),f.set(0,0,0);for(var q=0,W=G.length;q<W;q++){var Y=H[q];if(0!==Y){var X=G[q].vertices;s.addScaledVector(h.subVectors(X[B.a],I),Y),c.addScaledVector(d.subVectors(X[B.b],R),Y),f.addScaledVector(p.subVectors(X[B.c],P),Y)}}s.add(I),c.add(R),f.add(P),I=s,R=c,P=f}if(w=e(this,n,o,I,R,P,b)){if(L){var Z=L[U];m.copy(Z[0]),g.copy(Z[1]),v.copy(Z[2]),w.uv=t(b,I,R,P,m,g,v)}w.face=B,w.faceIndex=U,l.push(w)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),At.prototype=Object.create(Tt.prototype),At.prototype.constructor=At,It.prototype=Object.create(Ct.prototype),It.prototype.constructor=It,Rt.prototype=Object.create(Tt.prototype),Rt.prototype.constructor=Rt,Pt.prototype=Object.create(Ct.prototype),Pt.prototype.constructor=Pt,Lt.prototype=Object.create(lt.prototype),Lt.prototype.constructor=Lt,Lt.prototype.isCamera=!0,Lt.prototype.getWorldDirection=function(){var t=new s;return function(e){var n=e||new l;return this.getWorldQuaternion(t),n.set(0,0,-1).applyQuaternion(t)}}(),Lt.prototype.lookAt=function(){var t=new u;return function(e){t.lookAt(this.position,e,this.up),this.quaternion.setFromRotationMatrix(t)}}(),Lt.prototype.clone=function(){return(new this.constructor).copy(this)},Lt.prototype.copy=function(t){return lt.prototype.copy.call(this,t),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},Nt.prototype=Object.assign(Object.create(Lt.prototype),{constructor:Nt,isPerspectiveCamera:!0,copy:function(t){return Lt.prototype.copy.call(this,t),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*$a.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*$a.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*$a.RAD2DEG*Math.atan(Math.tan(.5*$a.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,r,i,o){this.aspect=t/e,this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*$a.DEG2RAD*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==o){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,e-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var l=this.filmOffset;0!==l&&(i+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far)},toJSON:function(t){var e=lt.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),kt.prototype=Object.assign(Object.create(Lt.prototype),{constructor:kt,isOrthographicCamera:!0,copy:function(t){return Lt.prototype.copy.call(this,t),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,r,i,o){this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-t,o=n+t,a=r+e,s=r-e;if(null!==this.view){var l=this.zoom/(this.view.width/this.view.fullWidth),u=this.zoom/(this.view.height/this.view.fullHeight),c=(this.right-this.left)/this.view.width,f=(this.top-this.bottom)/this.view.height;i+=c*(this.view.offsetX/l),o=i+c*(this.view.width/l),a-=f*(this.view.offsetY/u),s=a-f*(this.view.height/u)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far)},toJSON:function(t){var e=lt.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}});var ps=0;ue.prototype.isFogExp2=!0,ue.prototype.clone=function(){return new ue(this.color.getHex(),this.density)},ue.prototype.toJSON=function(t){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},ce.prototype.isFog=!0,ce.prototype.clone=function(){return new ce(this.color.getHex(),this.near,this.far)},ce.prototype.toJSON=function(t){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},fe.prototype=Object.create(lt.prototype),fe.prototype.constructor=fe,fe.prototype.copy=function(t,e){return lt.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},fe.prototype.toJSON=function(t){var e=lt.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},he.prototype=Object.assign(Object.create(lt.prototype),{constructor:he,isLensFlare:!0,copy:function(t){lt.prototype.copy.call(this,t),this.positionScreen.copy(t.positionScreen),this.customUpdateCallback=t.customUpdateCallback;for(var e=0,n=t.lensFlares.length;e<n;e++)this.lensFlares.push(t.lensFlares[e]);return this},add:function(t,e,n,r,i,o){void 0===e&&(e=-1),void 0===n&&(n=0),void 0===o&&(o=1),void 0===i&&(i=new q(16777215)),void 0===r&&(r=co),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:t,size:e,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:i,blending:r})},updateLensFlares:function(){var t,e,n=this.lensFlares.length,r=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(t=0;t<n;t++)e=this.lensFlares[t],e.x=this.positionScreen.x+r*e.distance,e.y=this.positionScreen.y+i*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)}}),de.prototype=Object.create(K.prototype),de.prototype.constructor=de,de.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},pe.prototype=Object.assign(Object.create(lt.prototype),{constructor:pe,isSprite:!0,raycast:function(){var t=new l;return function(e,n){t.setFromMatrixPosition(this.matrixWorld);var r=e.ray.distanceSqToPoint(t);r>this.scale.x*this.scale.y/4||n.push({distance:Math.sqrt(r),point:this.position,face:null,object:this})}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),me.prototype=Object.assign(Object.create(lt.prototype),{constructor:me,copy:function(t){lt.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,r=e.length;n<r;n++){var i=e[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,r=0;r<n.length&&!(e<n[r].distance);r++);n.splice(r,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,n=1,r=e.length;n<r&&!(t<e[n].distance);n++);return e[n-1].object},raycast:function(){var t=new l;return function(e,n){t.setFromMatrixPosition(this.matrixWorld);var r=e.ray.origin.distanceTo(t);this.getObjectForDistance(r).raycast(e,n)}}(),update:function(){var t=new l,e=new l;return function(n){var r=this.levels;if(r.length>1){t.setFromMatrixPosition(n.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var i=t.distanceTo(e);r[0].object.visible=!0;for(var o=1,a=r.length;o<a&&i>=r[o].distance;o++)r[o-1].object.visible=!1,r[o].object.visible=!0;for(;o<a;o++)r[o].object.visible=!1}}}(),toJSON:function(t){var e=lt.prototype.toJSON.call(this,t);e.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}),Object.assign(ge.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new u;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(var t,e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(var e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new u;return function(){for(var e=0,n=this.bones.length;e<n;e++){var r=this.bones[e]?this.bones[e].matrixWorld:this.identityMatrix;t.multiplyMatrices(r,this.boneInverses[e]),t.toArray(this.boneMatrices,16*e)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),clone:function(){return new ge(this.bones,this.boneInverses,this.useVertexTexture)}}),ve.prototype=Object.assign(Object.create(lt.prototype),{constructor:ve,isBone:!0}),ye.prototype=Object.assign(Object.create(Ot.prototype),{constructor:ye,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry&&this.geometry.isGeometry)for(var t=0;t<this.geometry.skinWeights.length;t++){var e=this.geometry.skinWeights[t],n=1/e.lengthManhattan();n!==1/0?e.multiplyScalar(n):e.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry)for(var r=new i,o=this.geometry.attributes.skinWeight,t=0;t<o.count;t++){r.x=o.getX(t),r.y=o.getY(t),r.z=o.getZ(t),r.w=o.getW(t);var n=1/r.lengthManhattan();n!==1/0?r.multiplyScalar(n):r.set(1,0,0,0),o.setXYZW(t,r.x,r.y,r.z,r.w)}},updateMatrixWorld:function(t){Ot.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material,this.skeleton.useVertexTexture).copy(this)}}),be.prototype=Object.create(K.prototype),be.prototype.constructor=be,be.prototype.isLineBasicMaterial=!0,be.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},_e.prototype=Object.assign(Object.create(lt.prototype),{constructor:_e,isLine:!0,raycast:function(){var t=new u,e=new ot,n=new tt;return function(r,i){var o=r.linePrecision,a=o*o,s=this.geometry,u=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(u),!1!==r.ray.intersectsSphere(n)){t.getInverse(u),e.copy(r.ray).applyMatrix4(t);var c=new l,f=new l,h=new l,d=new l,p=this&&this.isLineSegments?2:1;if(s.isBufferGeometry){var m=s.index,g=s.attributes,v=g.position.array;if(null!==m)for(var y=m.array,b=0,_=y.length-1;b<_;b+=p){var w=y[b],x=y[b+1];c.fromArray(v,3*w),f.fromArray(v,3*x);var E=e.distanceSqToSegment(c,f,d,h);if(!(E>a)){d.applyMatrix4(this.matrixWorld);var M=r.ray.origin.distanceTo(d);M<r.near||M>r.far||i.push({distance:M,point:h.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else for(var b=0,_=v.length/3-1;b<_;b+=p){c.fromArray(v,3*b),f.fromArray(v,3*b+3);var E=e.distanceSqToSegment(c,f,d,h);if(!(E>a)){d.applyMatrix4(this.matrixWorld);var M=r.ray.origin.distanceTo(d);M<r.near||M>r.far||i.push({distance:M,point:h.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}else if(s.isGeometry)for(var S=s.vertices,T=S.length,b=0;b<T-1;b+=p){var E=e.distanceSqToSegment(S[b],S[b+1],d,h);if(!(E>a)){d.applyMatrix4(this.matrixWorld);var M=r.ray.origin.distanceTo(d);M<r.near||M>r.far||i.push({distance:M,point:h.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),we.prototype=Object.assign(Object.create(_e.prototype),{constructor:we,isLineSegments:!0}),xe.prototype=Object.create(K.prototype),xe.prototype.constructor=xe,xe.prototype.isPointsMaterial=!0,xe.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this},Ee.prototype=Object.assign(Object.create(lt.prototype),{constructor:Ee,isPoints:!0,raycast:function(){var t=new u,e=new ot,n=new tt;return function(r,i){function o(t,n){var o=e.distanceSqToPoint(t);if(o<h){var s=e.closestPointToPoint(t);s.applyMatrix4(u);var l=r.ray.origin.distanceTo(s);if(l<r.near||l>r.far)return;i.push({distance:l,distanceToRay:Math.sqrt(o),point:s.clone(),index:n,face:null,object:a})}}var a=this,s=this.geometry,u=this.matrixWorld,c=r.params.Points.threshold;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(u),!1!==r.ray.intersectsSphere(n)){t.getInverse(u),e.copy(r.ray).applyMatrix4(t);var f=c/((this.scale.x+this.scale.y+this.scale.z)/3),h=f*f,d=new l;if(s.isBufferGeometry){var p=s.index,m=s.attributes,g=m.position.array;if(null!==p)for(var v=p.array,y=0,b=v.length;y<b;y++){var _=v[y];d.fromArray(g,3*_),o(d,_)}else for(var y=0,w=g.length/3;y<w;y++)d.fromArray(g,3*y),o(d,y)}else for(var x=s.vertices,y=0,w=x.length;y<w;y++)o(x[y],y)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Me.prototype=Object.assign(Object.create(lt.prototype),{constructor:Me}),Se.prototype=Object.create(r.prototype),Se.prototype.constructor=Se,Te.prototype=Object.create(r.prototype),Te.prototype.constructor=Te,Te.prototype.isCompressedTexture=!0,Ce.prototype=Object.create(r.prototype),Ce.prototype.constructor=Ce,Oe.prototype=Object.create(r.prototype),Oe.prototype.constructor=Oe,Oe.prototype.isDepthTexture=!0,Ae.prototype=Object.create(Ct.prototype),Ae.prototype.constructor=Ae,Ie.prototype=Object.create(Tt.prototype),Ie.prototype.constructor=Ie,Re.prototype=Object.create(Ct.prototype),Re.prototype.constructor=Re,Pe.prototype=Object.create(Tt.prototype),Pe.prototype.constructor=Pe,Le.prototype=Object.create(Ct.prototype),Le.prototype.constructor=Le,Ne.prototype=Object.create(Tt.prototype),Ne.prototype.constructor=Ne,ke.prototype=Object.create(Le.prototype),ke.prototype.constructor=ke,De.prototype=Object.create(Tt.prototype),De.prototype.constructor=De,Fe.prototype=Object.create(Le.prototype),Fe.prototype.constructor=Fe,je.prototype=Object.create(Tt.prototype),je.prototype.constructor=je,Ue.prototype=Object.create(Le.prototype),Ue.prototype.constructor=Ue,ze.prototype=Object.create(Tt.prototype),ze.prototype.constructor=ze,Be.prototype=Object.create(Le.prototype),Be.prototype.constructor=Be,Ve.prototype=Object.create(Tt.prototype),Ve.prototype.constructor=Ve,Ge.prototype=Object.create(Ct.prototype),Ge.prototype.constructor=Ge,He.prototype=Object.create(Tt.prototype),He.prototype.constructor=He,qe.prototype=Object.create(Ct.prototype),qe.prototype.constructor=qe,We.prototype=Object.create(Tt.prototype),We.prototype.constructor=We,Ye.prototype=Object.create(Ct.prototype),Ye.prototype.constructor=Ye;var ms={area:function(t){for(var e=t.length,n=0,r=e-1,i=0;i<e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;return.5*n},triangulate:function(){function t(t,e,n,r,i,o){var a,s,l,u,c,f,h,d,p;if(s=t[o[e]].x,l=t[o[e]].y,u=t[o[n]].x,c=t[o[n]].y,f=t[o[r]].x,h=t[o[r]].y,(u-s)*(h-l)-(c-l)*(f-s)<=0)return!1;var m,g,v,y,b,_,w,x,E,M,S,T,C,O,A;for(m=f-u,g=h-c,v=s-f,y=l-h,b=u-s,_=c-l,a=0;a<i;a++)if(d=t[o[a]].x,p=t[o[a]].y,!(d===s&&p===l||d===u&&p===c||d===f&&p===h)&&(w=d-s,x=p-l,E=d-u,M=p-c,S=d-f,T=p-h,A=m*M-g*E,C=b*x-_*w,O=v*T-y*S,A>=-Number.EPSILON&&O>=-Number.EPSILON&&C>=-Number.EPSILON))return!1;return!0}return function(e,n){var r=e.length;if(r<3)return null;var i,o,a,s=[],l=[],u=[];if(ms.area(e)>0)for(o=0;o<r;o++)l[o]=o;else for(o=0;o<r;o++)l[o]=r-1-o;var c=r,f=2*c;for(o=c-1;c>2;){if(f--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),n?u:s;if(i=o,c<=i&&(i=0),o=i+1,c<=o&&(o=0),a=o+1,c<=a&&(a=0),t(e,i,o,a,c,l)){var h,d,p,m,g;for(h=l[i],d=l[o],p=l[a],s.push([e[h],e[d],e[p]]),u.push([l[i],l[o],l[a]]),m=o,g=o+1;g<c;m++,g++)l[m]=l[g];c--,f=2*c}}return n?u:s}}(),triangulateShape:function(t,e){function n(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function r(t,e,n){return t.x!==e.x?t.x<e.x?t.x<=n.x&&n.x<=e.x:e.x<=n.x&&n.x<=t.x:t.y<e.y?t.y<=n.y&&n.y<=e.y:e.y<=n.y&&n.y<=t.y}function i(t,e,n,i,o){var a=e.x-t.x,s=e.y-t.y,l=i.x-n.x,u=i.y-n.y,c=t.x-n.x,f=t.y-n.y,h=s*l-a*u,d=s*c-a*f;if(Math.abs(h)>Number.EPSILON){var p;if(h>0){if(d<0||d>h)return[];if((p=u*c-l*f)<0||p>h)return[]}else{if(d>0||d<h)return[];if((p=u*c-l*f)>0||p<h)return[]}if(0===p)return!o||0!==d&&d!==h?[t]:[];if(p===h)return!o||0!==d&&d!==h?[e]:[];if(0===d)return[n];if(d===h)return[i];var m=p/h;return[{x:t.x+m*a,y:t.y+m*s}]}if(0!==d||u*c!=l*f)return[];var g=0===a&&0===s,v=0===l&&0===u;if(g&&v)return t.x!==n.x||t.y!==n.y?[]:[t];if(g)return r(n,i,t)?[t]:[];if(v)return r(t,e,n)?[n]:[];var y,b,_,w,x,E,M,S;return 0!==a?(t.x<e.x?(y=t,_=t.x,b=e,w=e.x):(y=e,_=e.x,b=t,w=t.x),n.x<i.x?(x=n,M=n.x,E=i,S=i.x):(x=i,M=i.x,E=n,S=n.x)):(t.y<e.y?(y=t,_=t.y,b=e,w=e.y):(y=e,_=e.y,b=t,w=t.y),n.y<i.y?(x=n,M=n.y,E=i,S=i.y):(x=i,M=i.y,E=n,S=n.y)),_<=M?w<M?[]:w===M?o?[]:[x]:w<=S?[x,b]:[x,E]:_>S?[]:_===S?o?[]:[y]:w<=S?[y,b]:[y,E]}function o(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=n.x-t.x,s=n.y-t.y,l=r.x-t.x,u=r.y-t.y,c=i*s-o*a,f=i*u-o*l;if(Math.abs(c)>Number.EPSILON){var h=l*s-u*a;return c>0?f>=0&&h>=0:f>=0||h>=0}return f>0}n(t),e.forEach(n);for(var a,s,l,u,c,f,h={},d=t.concat(),p=0,m=e.length;p<m;p++)Array.prototype.push.apply(d,e[p]);for(a=0,s=d.length;a<s;a++)c=d[a].x+":"+d[a].y,void 0!==h[c]&&console.warn("THREE.ShapeUtils: Duplicate point",c,a),h[c]=a;var g=function(t,e){for(var n,r,a,s,l,u,c,f,h,d,p,m=t.concat(),g=[],v=[],y=0,b=e.length;y<b;y++)g.push(y);for(var _=0,w=2*g.length;g.length>0;){if(--w<0){console.log("Infinite Loop! Holes left:"+g.length+", Probably Hole outside Shape!");break}for(a=_;a<m.length;a++){s=m[a],r=-1;for(var y=0;y<g.length;y++)if(u=g[y],c=s.x+":"+s.y+":"+u,void 0===v[c]){n=e[u];for(var x=0;x<n.length;x++)if(l=n[x],function(t,e){var r=m.length-1,i=t-1;i<0&&(i=r);var a=t+1;a>r&&(a=0);var s=o(m[t],m[i],m[a],n[e]);if(!s)return!1;var l=n.length-1,u=e-1;u<0&&(u=l);var c=e+1;return c>l&&(c=0),!!(s=o(n[e],n[u],n[c],m[t]))}(a,x)&&!function(t,e){var n,r,o;for(n=0;n<m.length;n++)if(r=n+1,r%=m.length,o=i(t,e,m[n],m[r],!0),o.length>0)return!0;return!1}(s,l)&&!function(t,n){var r,o,a,s,l;for(r=0;r<g.length;r++)for(o=e[g[r]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,l=i(t,n,o[a],o[s],!0),l.length>0)return!0;return!1}(s,l)){r=x,g.splice(y,1),f=m.slice(0,a+1),h=m.slice(a),d=n.slice(r),p=n.slice(0,r+1),m=f.concat(d).concat(p).concat(h),_=a;break}if(r>=0)break;v[c]=!0}if(r>=0)break}}return m}(t,e),v=ms.triangulate(g,!1);for(a=0,s=v.length;a<s;a++)for(u=v[a],l=0;l<3;l++)c=u[l].x+":"+u[l].y,void 0!==(f=h[c])&&(u[l]=f);return v.concat()},isClockWise:function(t){return ms.area(t)<0}};Xe.prototype=Object.create(Tt.prototype),Xe.prototype.constructor=Xe,Xe.prototype.addShapeList=function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r];this.addShape(i,e)}},Xe.prototype.addShape=function(t,e){function r(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}function i(t,e,r){var i,o,a=1,s=t.x-e.x,l=t.y-e.y,u=r.x-t.x,c=r.y-t.y,f=s*s+l*l,h=s*c-l*u;if(Math.abs(h)>Number.EPSILON){var d=Math.sqrt(f),p=Math.sqrt(u*u+c*c),m=e.x-l/d,g=e.y+s/d,v=r.x-c/p,y=r.y+u/p,b=((v-m)*c-(y-g)*u)/(s*c-l*u);i=m+s*b-t.x,o=g+l*b-t.y;var _=i*i+o*o;if(_<=2)return new n(i,o);a=Math.sqrt(_/2)}else{var w=!1;s>Number.EPSILON?u>Number.EPSILON&&(w=!0):s<-Number.EPSILON?u<-Number.EPSILON&&(w=!0):Math.sign(l)===Math.sign(c)&&(w=!0),w?(i=-l,o=s,a=Math.sqrt(f)):(i=s,o=l,a=Math.sqrt(f/2))}return new n(i/a,o/a)}function o(t,e){var n,r;for(q=t.length;--q>=0;){n=q,r=q-1,r<0&&(r=t.length-1);var i=0,o=w+2*y;for(i=0;i<o;i++){var a=V*i,s=V*(i+1);u(e+n+a,e+r+a,e+r+s,e+n+s,t,i,o,n,r)}}}function a(t,e,n){O.vertices.push(new l(t,e,n))}function s(t,e,n){t+=A,e+=A,n+=A,O.faces.push(new ft(t,e,n,null,null,0));var r=M.generateTopUV(O,t,e,n);O.faceVertexUvs[0].push(r)}function u(t,e,n,r,i,o,a,s,l){t+=A,e+=A,n+=A,r+=A,O.faces.push(new ft(t,e,r,null,null,1)),O.faces.push(new ft(e,n,r,null,null,1));var u=M.generateSideWallUV(O,t,e,n,r);O.faceVertexUvs[0].push([u[0],u[1],u[3]]),O.faceVertexUvs[0].push([u[1],u[2],u[3]])}var c,f,h,d,p,m=void 0!==e.amount?e.amount:100,g=void 0!==e.bevelThickness?e.bevelThickness:6,v=void 0!==e.bevelSize?e.bevelSize:g-2,y=void 0!==e.bevelSegments?e.bevelSegments:3,b=void 0===e.bevelEnabled||e.bevelEnabled,_=void 0!==e.curveSegments?e.curveSegments:12,w=void 0!==e.steps?e.steps:1,x=e.extrudePath,E=!1,M=void 0!==e.UVGenerator?e.UVGenerator:Xe.WorldUVGenerator;x&&(c=x.getSpacedPoints(w),E=!0,b=!1,f=void 0!==e.frames?e.frames:x.computeFrenetFrames(w,!1),h=new l,d=new l,p=new l),b||(y=0,g=0,v=0);var S,T,C,O=this,A=this.vertices.length,I=t.extractPoints(_),R=I.shape,P=I.holes,L=!ms.isClockWise(R);if(L){for(R=R.reverse(),T=0,C=P.length;T<C;T++)S=P[T],ms.isClockWise(S)&&(P[T]=S.reverse());L=!1}var N=ms.triangulateShape(R,P),k=R;for(T=0,C=P.length;T<C;T++)S=P[T],R=R.concat(S);for(var D,F,j,U,z,B,V=R.length,G=N.length,H=[],q=0,W=k.length,Y=W-1,X=q+1;q<W;q++,Y++,X++)Y===W&&(Y=0),X===W&&(X=0),H[q]=i(k[q],k[Y],k[X]);var Z,K=[],Q=H.concat();for(T=0,C=P.length;T<C;T++){for(S=P[T],Z=[],q=0,W=S.length,Y=W-1,X=q+1;q<W;q++,Y++,X++)Y===W&&(Y=0),X===W&&(X=0),Z[q]=i(S[q],S[Y],S[X]);K.push(Z),Q=Q.concat(Z)}for(D=0;D<y;D++){for(j=D/y,U=g*Math.cos(j*Math.PI/2),F=v*Math.sin(j*Math.PI/2),q=0,W=k.length;q<W;q++)z=r(k[q],H[q],F),a(z.x,z.y,-U);for(T=0,C=P.length;T<C;T++)for(S=P[T],Z=K[T],q=0,W=S.length;q<W;q++)z=r(S[q],Z[q],F),a(z.x,z.y,-U)}for(F=v,q=0;q<V;q++)z=b?r(R[q],Q[q],F):R[q],E?(d.copy(f.normals[0]).multiplyScalar(z.x),h.copy(f.binormals[0]).multiplyScalar(z.y),p.copy(c[0]).add(d).add(h),a(p.x,p.y,p.z)):a(z.x,z.y,0);var J;for(J=1;J<=w;J++)for(q=0;q<V;q++)z=b?r(R[q],Q[q],F):R[q],E?(d.copy(f.normals[J]).multiplyScalar(z.x),h.copy(f.binormals[J]).multiplyScalar(z.y),p.copy(c[J]).add(d).add(h),a(p.x,p.y,p.z)):a(z.x,z.y,m/w*J);for(D=y-1;D>=0;D--){for(j=D/y,U=g*Math.cos(j*Math.PI/2),F=v*Math.sin(j*Math.PI/2),q=0,W=k.length;q<W;q++)z=r(k[q],H[q],F),a(z.x,z.y,m+U);for(T=0,C=P.length;T<C;T++)for(S=P[T],Z=K[T],q=0,W=S.length;q<W;q++)z=r(S[q],Z[q],F),E?a(z.x,z.y+c[w-1].y,c[w-1].x+U):a(z.x,z.y,m+U)}!function(){if(b){var t=0,e=V*t;for(q=0;q<G;q++)B=N[q],s(B[2]+e,B[1]+e,B[0]+e);for(t=w+2*y,e=V*t,q=0;q<G;q++)B=N[q],s(B[0]+e,B[1]+e,B[2]+e)}else{for(q=0;q<G;q++)B=N[q],s(B[2],B[1],B[0]);for(q=0;q<G;q++)B=N[q],s(B[0]+V*w,B[1]+V*w,B[2]+V*w)}}(),function(){var t=0;for(o(k,t),t+=k.length,T=0,C=P.length;T<C;T++)S=P[T],o(S,t),t+=S.length}()},Xe.WorldUVGenerator={generateTopUV:function(t,e,r,i){var o=t.vertices,a=o[e],s=o[r],l=o[i];return[new n(a.x,a.y),new n(s.x,s.y),new n(l.x,l.y)]},generateSideWallUV:function(t,e,r,i,o){var a=t.vertices,s=a[e],l=a[r],u=a[i],c=a[o];return Math.abs(s.y-l.y)<.01?[new n(s.x,1-s.z),new n(l.x,1-l.z),new n(u.x,1-u.z),new n(c.x,1-c.z)]:[new n(s.y,1-s.z),new n(l.y,1-l.z),new n(u.y,1-u.z),new n(c.y,1-c.z)]}},Ze.prototype=Object.create(Xe.prototype),Ze.prototype.constructor=Ze,Ke.prototype=Object.create(Tt.prototype),Ke.prototype.constructor=Ke,Qe.prototype=Object.create(Ct.prototype),Qe.prototype.constructor=Qe,Je.prototype=Object.create(Tt.prototype),Je.prototype.constructor=Je,$e.prototype=Object.create(Ct.prototype),$e.prototype.constructor=$e,tn.prototype=Object.create(Tt.prototype),tn.prototype.constructor=tn,en.prototype=Object.create(Ct.prototype),en.prototype.constructor=en,nn.prototype=Object.create(Tt.prototype),nn.prototype.constructor=nn,rn.prototype=Object.create(Ct.prototype),rn.prototype.constructor=rn,on.prototype=Object.create(Ct.prototype),on.prototype.constructor=on,an.prototype=Object.create(Tt.prototype),an.prototype.constructor=an,sn.prototype=Object.create(Ct.prototype),sn.prototype.constructor=sn,ln.prototype=Object.create(an.prototype),ln.prototype.constructor=ln,un.prototype=Object.create(sn.prototype),un.prototype.constructor=un,cn.prototype=Object.create(Tt.prototype),cn.prototype.constructor=cn,fn.prototype=Object.create(Ct.prototype),fn.prototype.constructor=fn;var gs=Object.freeze({WireframeGeometry:Ae,ParametricGeometry:Ie,ParametricBufferGeometry:Re,TetrahedronGeometry:Ne,TetrahedronBufferGeometry:ke,OctahedronGeometry:De,OctahedronBufferGeometry:Fe,IcosahedronGeometry:je,IcosahedronBufferGeometry:Ue,DodecahedronGeometry:ze,DodecahedronBufferGeometry:Be,PolyhedronGeometry:Pe,PolyhedronBufferGeometry:Le,TubeGeometry:Ve,TubeBufferGeometry:Ge,TorusKnotGeometry:He,TorusKnotBufferGeometry:qe,TorusGeometry:We,TorusBufferGeometry:Ye,TextGeometry:Ze,SphereGeometry:Ke,SphereBufferGeometry:Qe,RingGeometry:Je,RingBufferGeometry:$e,PlaneGeometry:Rt,PlaneBufferGeometry:Pt,LatheGeometry:tn,LatheBufferGeometry:en,ShapeGeometry:nn,ShapeBufferGeometry:rn,ExtrudeGeometry:Xe,EdgesGeometry:on,ConeGeometry:ln,ConeBufferGeometry:un,CylinderGeometry:an,CylinderBufferGeometry:sn,CircleGeometry:cn,CircleBufferGeometry:fn,BoxGeometry:At,BoxBufferGeometry:It});hn.prototype=Object.create(Q.prototype),hn.prototype.constructor=hn,hn.prototype.isShadowMaterial=!0,dn.prototype=Object.create(Q.prototype),dn.prototype.constructor=dn,dn.prototype.isRawShaderMaterial=!0,pn.prototype={constructor:pn,isMultiMaterial:!0,toJSON:function(t){for(var e={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},n=this.materials,r=0,i=n.length;r<i;r++){var o=n[r].toJSON(t);delete o.metadata,e.materials.push(o)}return e.visible=this.visible,e},clone:function(){for(var t=new this.constructor,e=0;e<this.materials.length;e++)t.materials.push(this.materials[e].clone());return t.visible=this.visible,t}},mn.prototype=Object.create(K.prototype),mn.prototype.constructor=mn,mn.prototype.isMeshStandardMaterial=!0,mn.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},gn.prototype=Object.create(mn.prototype),gn.prototype.constructor=gn,gn.prototype.isMeshPhysicalMaterial=!0,gn.prototype.copy=function(t){return mn.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},vn.prototype=Object.create(K.prototype),vn.prototype.constructor=vn,vn.prototype.isMeshPhongMaterial=!0,vn.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},yn.prototype=Object.create(vn.prototype),yn.prototype.constructor=yn,yn.prototype.isMeshToonMaterial=!0,yn.prototype.copy=function(t){return vn.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},bn.prototype=Object.create(K.prototype),bn.prototype.constructor=bn,bn.prototype.isMeshNormalMaterial=!0,bn.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},_n.prototype=Object.create(K.prototype),_n.prototype.constructor=_n,_n.prototype.isMeshLambertMaterial=!0,_n.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},wn.prototype=Object.create(K.prototype),wn.prototype.constructor=wn,wn.prototype.isLineDashedMaterial=!0,wn.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var vs=Object.freeze({ShadowMaterial:hn,SpriteMaterial:de,RawShaderMaterial:dn,ShaderMaterial:Q,PointsMaterial:xe,MultiMaterial:pn,MeshPhysicalMaterial:gn,MeshStandardMaterial:mn,MeshPhongMaterial:vn,MeshToonMaterial:yn,MeshNormalMaterial:bn,MeshLambertMaterial:_n,MeshDepthMaterial:J,MeshBasicMaterial:ht,LineDashedMaterial:wn,LineBasicMaterial:be,Material:K}),ys={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},bs=new xn;Object.assign(En.prototype,{load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t);var i=this,o=ys.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;var a=/^data:(.*?)(;base64)?,(.*)$/,s=t.match(a);if(s){var l=s[1],u=!!s[2],c=s[3];c=window.decodeURIComponent(c),u&&(c=window.atob(c));try{var f,h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":f=new ArrayBuffer(c.length);for(var d=new Uint8Array(f),p=0;p<c.length;p++)d[p]=c.charCodeAt(p);"blob"===h&&(f=new Blob([f],{type:l}));break;case"document":var m=new DOMParser;f=m.parseFromString(c,l);break;case"json":f=JSON.parse(c);break;default:f=c}window.setTimeout(function(){e&&e(f),i.manager.itemEnd(t)},0)}catch(e){window.setTimeout(function(){r&&r(e),i.manager.itemError(t)},0)}}else{var g=new XMLHttpRequest;g.open("GET",t,!0),g.addEventListener("load",function(n){var o=n.target.response;ys.add(t,o),200===this.status?(e&&e(o),i.manager.itemEnd(t)):0===this.status?(console.warn("THREE.FileLoader: HTTP Status 0 received."),e&&e(o),i.manager.itemEnd(t)):(r&&r(n),i.manager.itemError(t))},!1),void 0!==n&&g.addEventListener("progress",function(t){n(t)},!1),g.addEventListener("error",function(e){r&&r(e),i.manager.itemError(t)},!1),void 0!==this.responseType&&(g.responseType=this.responseType),void 0!==this.withCredentials&&(g.withCredentials=this.withCredentials),g.overrideMimeType&&g.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),g.send(null)}return i.manager.itemStart(t),g},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this}}),Object.assign(Mn.prototype,{load:function(t,e,n,r){var i=this,o=[],a=new Te;a.image=o;var s=new En(this.manager);if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var l=0,u=0,c=t.length;u<c;++u)!function(u){s.load(t[u],function(t){var n=i._parser(t,!0);o[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(a.minFilter=sa),a.format=n.format,a.needsUpdate=!0,e&&e(a))},n,r)}(u);else s.load(t,function(t){var n=i._parser(t,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){o[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=sa),a.format=n.format,a.needsUpdate=!0,e&&e(a)},n,r);return a},setPath:function(t){return this.path=t,this}}),Object.assign(Sn.prototype,{load:function(t,e,n,r){var i=this,o=new W,a=new En(this.manager);return a.setResponseType("arraybuffer"),a.load(t,function(t){var n=i._parser(t);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:na,o.wrapT=void 0!==n.wrapT?n.wrapT:na,o.magFilter=void 0!==n.magFilter?n.magFilter:sa,o.minFilter=void 0!==n.minFilter?n.minFilter:ua,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=sa),o.needsUpdate=!0,e&&e(o,n))},n,r),o}}),Object.assign(Tn.prototype,{load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t);var i=this,o=ys.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");return a.addEventListener("load",function(){ys.add(t,this),e&&e(this),i.manager.itemEnd(t)},!1),a.addEventListener("error",function(e){r&&r(e),i.manager.itemError(t)},!1),void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(t),a.src=t,a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Cn.prototype,{load:function(t,e,n,r){var i=new c,o=new Tn(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);for(var a=0,s=0;s<t.length;++s)!function(n){o.load(t[n],function(t){i.images[n]=t,6==++a&&(i.needsUpdate=!0,e&&e(i))},void 0,r)}(s);return i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(On.prototype,{load:function(t,e,n,i){var o=new r,a=new Tn(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,function(n){var r=t.search(/\.(jpg|jpeg)$/)>0||0===t.search(/^data\:image\/jpeg/);o.format=r?Ea:Ma,o.image=n,o.needsUpdate=!0,void 0!==e&&e(o)},n,i),o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),An.prototype=Object.assign(Object.create(lt.prototype),{constructor:An,isLight:!0,copy:function(t){return lt.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=lt.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),In.prototype=Object.assign(Object.create(An.prototype),{constructor:In,isHemisphereLight:!0,copy:function(t){return An.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(Rn.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),Pn.prototype=Object.assign(Object.create(Rn.prototype),{constructor:Pn,isSpotLightShadow:!0,update:function(t){var e=2*$a.RAD2DEG*t.angle,n=this.mapSize.width/this.mapSize.height,r=t.distance||500,i=this.camera;e===i.fov&&n===i.aspect&&r===i.far||(i.fov=e,i.aspect=n,i.far=r,i.updateProjectionMatrix())}}),Ln.prototype=Object.assign(Object.create(An.prototype),{constructor:Ln,isSpotLight:!0,copy:function(t){return An.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Nn.prototype=Object.assign(Object.create(An.prototype),{constructor:Nn,isPointLight:!0,copy:function(t){return An.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),kn.prototype=Object.assign(Object.create(Rn.prototype),{constructor:kn}),Dn.prototype=Object.assign(Object.create(An.prototype),{constructor:Dn,isDirectionalLight:!0,copy:function(t){return An.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Fn.prototype=Object.assign(Object.create(An.prototype),{constructor:Fn,isAmbientLight:!0});var _s={arraySlice:function(t,e,n){return _s.isTypedArray(t)?new t.constructor(t.subarray(e,n)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(e,n){return t[e]-t[n]}for(var n=t.length,r=new Array(n),i=0;i!==n;++i)r[i]=i;return r.sort(e),r},sortedArray:function(t,e,n){for(var r=t.length,i=new t.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*e,l=0;l!==e;++l)i[a++]=t[s+l];return i},flattenJSON:function(t,e,n,r){for(var i=1,o=t[0];void 0!==o&&void 0===o[r];)o=t[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{a=o[r],void 0!==a&&(e.push(o.time),n.push.apply(n,a)),o=t[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{a=o[r],void 0!==a&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++]}while(void 0!==o);else do{a=o[r],void 0!==a&&(e.push(o.time),n.push(a)),o=t[i++]}while(void 0!==o)}}};jn.prototype={constructor:jn,evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{var o;n:{r:if(!(t<r)){for(var a=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,i)}if(n===a)break;if(i=r,r=e[++n],t<r)break e}o=e.length;break n}{if(t>=i)break t;var s=e[1];t<s&&(n=2,i=s);for(var a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===a)break;if(r=i,i=e[--n-1],t>=i)break e}o=n,n=0}}for(;n<o;){var l=n+o>>>1;t<e[l]?o=l:n=l+1}if(r=e[n],void 0===(i=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,i,t)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r,o=0;o!==r;++o)e[o]=n[i+o];return e},interpolate_:function(t,e,n,r){throw new Error("call to abstract method")},intervalChanged_:function(t,e,n){}},Object.assign(jn.prototype,{beforeStart_:jn.prototype.copySampleValue_,afterEnd_:jn.prototype.copySampleValue_}),Un.prototype=Object.assign(Object.create(jn.prototype),{constructor:Un,DefaultSettings_:{endingStart:za,endingEnd:za},intervalChanged_:function(t,e,n){var r=this.parameterPositions,i=t-2,o=t+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:i=t,a=2*e-n;break;case 2402:i=r.length-2,a=e+r[i]-r[i+1];break;default:i=t,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:o=t,s=2*n-e;break;case 2402:o=1,s=n+r[1]-r[0];break;default:o=t-1,s=e}var l=.5*(n-e),u=this.valueSize;this._weightPrev=l/(e-a),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=o*u},interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=s-a,u=this._offsetPrev,c=this._offsetNext,f=this._weightPrev,h=this._weightNext,d=(n-e)/(r-e),p=d*d,m=p*d,g=-f*m+2*f*p-f*d,v=(1+f)*m+(-1.5-2*f)*p+(-.5+f)*d+1,y=(-1-h)*m+(1.5+h)*p+.5*d,b=h*m-h*p,_=0;_!==a;++_)i[_]=g*o[u+_]+v*o[l+_]+y*o[s+_]+b*o[c+_];return i}}),zn.prototype=Object.assign(Object.create(jn.prototype),{constructor:zn,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=s-a,u=(n-e)/(r-e),c=1-u,f=0;f!==a;++f)i[f]=o[l+f]*c+o[s+f]*u;return i}}),Bn.prototype=Object.assign(Object.create(jn.prototype),{constructor:Bn,interpolate_:function(t,e,n,r){return this.copySampleValue_(t-1)}});var ws;ws={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(t){return new Bn(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new zn(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Un(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return void console.warn(n)}this.createInterpolant=e},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<t;)++i;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);var a=this.getValueSize();this.times=_s.arraySlice(n,i,o),this.values=_s.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("invalid value size in track",this),t=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("track is empty",this),t=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"==typeof s&&isNaN(s)){console.error("time is not a valid number",this,a,s),t=!1;break}if(null!==o&&o>s){console.error("out of order keys",this,a,s,o),t=!1;break}o=s}if(void 0!==r&&_s.isTypedArray(r))for(var a=0,l=r.length;a!==l;++a){var u=r[a];if(isNaN(u)){console.error("value is not a valid number",this,a,u),t=!1;break}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),r=2302===this.getInterpolation(),i=1,o=t.length-1,a=1;a<o;++a){var s=!1,l=t[a];if(l!==t[a+1]&&(1!==a||l!==l[0]))if(r)s=!0;else for(var u=a*n,c=u-n,f=u+n,h=0;h!==n;++h){var d=e[u+h];if(d!==e[c+h]||d!==e[f+h]){s=!0;break}}if(s){if(a!==i){t[i]=t[a];for(var p=a*n,m=i*n,h=0;h!==n;++h)e[m+h]=e[p+h]}++i}}if(o>0){t[i]=t[o];for(var p=o*n,m=i*n,h=0;h!==n;++h)e[m+h]=e[p+h];++i}return i!==t.length&&(this.times=_s.arraySlice(t,0,i),this.values=_s.arraySlice(e,0,i*n)),this}},Gn.prototype=Object.assign(Object.create(ws),{constructor:Gn,ValueTypeName:"vector"}),Hn.prototype=Object.assign(Object.create(jn.prototype),{constructor:Hn,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=t*a,u=(n-e)/(r-e),c=l+a;l!==c;l+=4)s.slerpFlat(i,0,o,l-a,o,l,u);return i}}),qn.prototype=Object.assign(Object.create(ws),{constructor:qn,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(t){return new Hn(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Wn.prototype=Object.assign(Object.create(ws),{constructor:Wn,ValueTypeName:"number"}),Yn.prototype=Object.assign(Object.create(ws),{constructor:Yn,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Xn.prototype=Object.assign(Object.create(ws),{constructor:Xn,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Zn.prototype=Object.assign(Object.create(ws),{constructor:Zn,ValueTypeName:"color"}),Kn.prototype=ws,ws.constructor=Kn,Object.assign(Kn,{parse:function(t){if(void 0===t.type)throw new Error("track type undefined, can not parse");var e=Kn._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){var n=[],r=[];_s.flattenJSON(t.keys,n,r,"value"),t.times=n,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){var e,n=t.constructor;if(void 0!==n.toJSON)e=n.toJSON(t);else{e={name:t.name,times:_s.convertArray(t.times,Array),values:_s.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(e.interpolation=r)}return e.type=t.ValueTypeName,e},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Wn;case"vector":case"vector2":case"vector3":case"vector4":return Gn;case"color":return Zn;case"quaternion":return qn;case"bool":case"boolean":return Xn;case"string":return Yn}throw new Error("Unsupported typeName: "+t)}}),Qn.prototype={constructor:Qn,resetDuration:function(){for(var t=this.tracks,e=0,n=0,r=t.length;n!==r;++n){var i=this.tracks[n];e=Math.max(e,i.times[i.times.length-1])}this.duration=e},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}},Object.assign(Qn,{parse:function(t){for(var e=[],n=t.tracks,r=1/(t.fps||1),i=0,o=n.length;i!==o;++i)e.push(Kn.parse(n[i]).scale(r));return new Qn(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e},i=0,o=n.length;i!==o;++i)e.push(Kn.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(t,e,n,r){for(var i=e.length,o=[],a=0;a<i;a++){var s=[],l=[];s.push((a+i-1)%i,a,(a+1)%i),l.push(0,1,0);var u=_s.getKeyframeOrder(s);s=_s.sortedArray(s,1,u),l=_s.sortedArray(l,1,u),r||0!==s[0]||(s.push(i),l.push(l[0])),o.push(new Wn(".morphTargetInfluences["+e[a].name+"]",s,l).scale(1/n))}return new Qn(t,-1,o)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var r=t;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=t.length;o<a;o++){var s=t[o],l=s.name.match(i);if(l&&l.length>1){var u=l[1],c=r[u];c||(r[u]=c=[]),c.push(s)}}var f=[];for(var u in r)f.push(Qn.CreateFromMorphTargetSequence(u,r[u],e,n));return f},parseAnimation:function(t,e){if(!t)return console.error("  no animation in JSONLoader data"),null;for(var n=function(t,e,n,r,i){if(0!==n.length){var o=[],a=[];_s.flattenJSON(n,o,a,r),0!==o.length&&i.push(new t(e,o,a))}},r=[],i=t.name||"default",o=t.length||-1,a=t.fps||30,s=t.hierarchy||[],l=0;l<s.length;l++){var u=s[l].keys;if(u&&0!==u.length)if(u[0].morphTargets){for(var c={},f=0;f<u.length;f++)if(u[f].morphTargets)for(var h=0;h<u[f].morphTargets.length;h++)c[u[f].morphTargets[h]]=-1;for(var d in c){for(var p=[],m=[],h=0;h!==u[f].morphTargets.length;++h){var g=u[f];p.push(g.time),m.push(g.morphTarget===d?1:0)}r.push(new Wn(".morphTargetInfluence["+d+"]",p,m))}o=c.length*(a||1)}else{var v=".bones["+e[l].name+"]";n(Gn,v+".position",u,"pos",r),n(qn,v+".quaternion",u,"rot",r),n(Gn,v+".scale",u,"scl",r)}}return 0===r.length?null:new Qn(i,o,r)}}),Object.assign(Jn.prototype,{load:function(t,e,n,r){var i=this;new En(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},n,r)},setTextures:function(t){this.textures=t},parse:function(t){function e(t){return void 0===r[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),r[t]}var r=this.textures,i=new vs[t.type];if(void 0!==t.uuid&&(i.uuid=t.uuid),void 0!==t.name&&(i.name=t.name),void 0!==t.color&&i.color.setHex(t.color),void 0!==t.roughness&&(i.roughness=t.roughness),void 0!==t.metalness&&(i.metalness=t.metalness),void 0!==t.emissive&&i.emissive.setHex(t.emissive),void 0!==t.specular&&i.specular.setHex(t.specular),void 0!==t.shininess&&(i.shininess=t.shininess),void 0!==t.clearCoat&&(i.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(i.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.uniforms&&(i.uniforms=t.uniforms),void 0!==t.vertexShader&&(i.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(i.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(i.vertexColors=t.vertexColors),void 0!==t.fog&&(i.fog=t.fog),void 0!==t.shading&&(i.shading=t.shading),void 0!==t.blending&&(i.blending=t.blending),void 0!==t.side&&(i.side=t.side),void 0!==t.opacity&&(i.opacity=t.opacity),void 0!==t.transparent&&(i.transparent=t.transparent),void 0!==t.alphaTest&&(i.alphaTest=t.alphaTest),void 0!==t.depthTest&&(i.depthTest=t.depthTest),void 0!==t.depthWrite&&(i.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(i.colorWrite=t.colorWrite),void 0!==t.wireframe&&(i.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(i.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(i.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(i.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.skinning&&(i.skinning=t.skinning),void 0!==t.morphTargets&&(i.morphTargets=t.morphTargets),void 0!==t.size&&(i.size=t.size),void 0!==t.sizeAttenuation&&(i.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(i.map=e(t.map)),void 0!==t.alphaMap&&(i.alphaMap=e(t.alphaMap),i.transparent=!0),void 0!==t.bumpMap&&(i.bumpMap=e(t.bumpMap)),void 0!==t.bumpScale&&(i.bumpScale=t.bumpScale),void 0!==t.normalMap&&(i.normalMap=e(t.normalMap)),void 0!==t.normalScale){var o=t.normalScale;!1===Array.isArray(o)&&(o=[o,o]),i.normalScale=(new n).fromArray(o)}if(void 0!==t.displacementMap&&(i.displacementMap=e(t.displacementMap)),void 0!==t.displacementScale&&(i.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(i.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(i.roughnessMap=e(t.roughnessMap)),void 0!==t.metalnessMap&&(i.metalnessMap=e(t.metalnessMap)),void 0!==t.emissiveMap&&(i.emissiveMap=e(t.emissiveMap)),void 0!==t.emissiveIntensity&&(i.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(i.specularMap=e(t.specularMap)),void 0!==t.envMap&&(i.envMap=e(t.envMap)),void 0!==t.reflectivity&&(i.reflectivity=t.reflectivity),void 0!==t.lightMap&&(i.lightMap=e(t.lightMap)),void 0!==t.lightMapIntensity&&(i.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(i.aoMap=e(t.aoMap)),void 0!==t.aoMapIntensity&&(i.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(i.gradientMap=e(t.gradientMap)),void 0!==t.materials)for(var a=0,s=t.materials.length;a<s;a++)i.materials.push(this.parse(t.materials[a]));return i}}),Object.assign($n.prototype,{load:function(t,e,n,r){var i=this;new En(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},n,r)},parse:function(t){var e=new Ct,n=t.data.index,r={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};if(void 0!==n){var i=new r[n.type](n.array);e.setIndex(new dt(i,1))}var o=t.data.attributes;for(var a in o){var s=o[a],i=new r[s.type](s.array);e.addAttribute(a,new dt(i,s.itemSize,s.normalized))}var u=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==u)for(var c=0,f=u.length;c!==f;++c){var h=u[c];e.addGroup(h.start,h.count,h.materialIndex)}var d=t.data.boundingSphere;if(void 0!==d){var p=new l;void 0!==d.center&&p.fromArray(d.center),e.boundingSphere=new tt(p,d.radius)}return e}}),tr.prototype={constructor:tr,crossOrigin:void 0,extractUrlBase:function(t){var e=t.split("/");return 1===e.length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(t,e,n){for(var r=[],i=0;i<t.length;++i)r[i]=this.createMaterial(t[i],e,n);return r},createMaterial:function(){var t,e,n,r={NoBlending:uo,NormalBlending:co,AdditiveBlending:fo,SubtractiveBlending:ho,MultiplyBlending:po,CustomBlending:mo};return function(i,o,a){function s(t,n,r,i,s){var u,c=o+t,f=tr.Handlers.get(c);null!==f?u=f.load(c):(e.setCrossOrigin(a),u=e.load(c)),void 0!==n&&(u.repeat.fromArray(n),1!==n[0]&&(u.wrapS=ea),1!==n[1]&&(u.wrapT=ea)),void 0!==r&&u.offset.fromArray(r),void 0!==i&&("repeat"===i[0]&&(u.wrapS=ea),"mirror"===i[0]&&(u.wrapS=ra),"repeat"===i[1]&&(u.wrapT=ea),"mirror"===i[1]&&(u.wrapT=ra)),void 0!==s&&(u.anisotropy=s);var h=$a.generateUUID();return l[h]=u,h}void 0===t&&(t=new q),void 0===e&&(e=new On),void 0===n&&(n=new Jn);var l={},u={uuid:$a.generateUUID(),type:"MeshLambertMaterial"};for(var c in i){var f=i[c];switch(c){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":u.name=f;break;case"blending":u.blending=r[f];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",c,"is no longer supported.");break;case"colorDiffuse":u.color=t.fromArray(f).getHex();break;case"colorSpecular":u.specular=t.fromArray(f).getHex();break;case"colorEmissive":u.emissive=t.fromArray(f).getHex();break;case"specularCoef":u.shininess=f;break;case"shading":"basic"===f.toLowerCase()&&(u.type="MeshBasicMaterial"),"phong"===f.toLowerCase()&&(u.type="MeshPhongMaterial"),"standard"===f.toLowerCase()&&(u.type="MeshStandardMaterial");break;case"mapDiffuse":u.map=s(f,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":u.emissiveMap=s(f,i.mapEmissiveRepeat,i.mapEmissiveOffset,i.mapEmissiveWrap,i.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":u.lightMap=s(f,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":u.aoMap=s(f,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":u.bumpMap=s(f,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case"mapBumpScale":u.bumpScale=f;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":u.normalMap=s(f,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case"mapNormalFactor":u.normalScale=[f,f];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":u.specularMap=s(f,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":u.metalnessMap=s(f,i.mapMetalnessRepeat,i.mapMetalnessOffset,i.mapMetalnessWrap,i.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":u.roughnessMap=s(f,i.mapRoughnessRepeat,i.mapRoughnessOffset,i.mapRoughnessWrap,i.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":u.alphaMap=s(f,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":u.side=no;break;case"doubleSided":u.side=ro;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),u.opacity=f;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":u[c]=f;break;case"vertexColors":!0===f&&(u.vertexColors=lo),"face"===f&&(u.vertexColors=so);break;default:console.error("THREE.Loader.createMaterial: Unsupported",c,f)}}return"MeshBasicMaterial"===u.type&&delete u.emissive,"MeshPhongMaterial"!==u.type&&delete u.specular,u.opacity<1&&(u.transparent=!0),n.setTextures(l),n.parse(u)}}()},tr.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,n=0,r=e.length;n<r;n+=2){var i=e[n],o=e[n+1];if(i.test(t))return o}return null}},Object.assign(er.prototype,{load:function(t,e,n,r){var i=this,o=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:tr.prototype.extractUrlBase(t),a=new En(this.manager);a.setWithCredentials(this.withCredentials),a.load(t,function(n){var r=JSON.parse(n),a=r.metadata;if(void 0!==a){var s=a.type;if(void 0!==s){if("object"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.ObjectLoader instead.");if("scene"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.SceneLoader instead.")}}var l=i.parse(r,o);e(l.geometry,l.materials)},n,r)},setTexturePath:function(t){this.texturePath=t},parse:function(t,e){var r=new Tt,o=void 0!==t.scale?1/t.scale:1;if(function(e){function i(t,e){return t&1<<e}var o,a,s,u,c,f,h,d,p,m,g,v,y,b,_,w,x,E,M,S,T,C,O,A,I,R,P,L=t.faces,N=t.vertices,k=t.normals,D=t.colors,F=0;if(void 0!==t.uvs){for(o=0;o<t.uvs.length;o++)t.uvs[o].length&&F++;for(o=0;o<F;o++)r.faceVertexUvs[o]=[]}for(u=0,c=N.length;u<c;)E=new l,E.x=N[u++]*e,E.y=N[u++]*e,E.z=N[u++]*e,r.vertices.push(E);for(u=0,c=L.length;u<c;)if(m=L[u++],g=i(m,0),v=i(m,1),y=i(m,3),b=i(m,4),_=i(m,5),w=i(m,6),x=i(m,7),g){if(S=new ft,S.a=L[u],S.b=L[u+1],S.c=L[u+3],T=new ft,T.a=L[u+1],T.b=L[u+2],T.c=L[u+3],u+=4,v&&(p=L[u++],S.materialIndex=p,T.materialIndex=p),s=r.faces.length,y)for(o=0;o<F;o++)for(A=t.uvs[o],r.faceVertexUvs[o][s]=[],r.faceVertexUvs[o][s+1]=[],a=0;a<4;a++)d=L[u++],R=A[2*d],P=A[2*d+1],I=new n(R,P),2!==a&&r.faceVertexUvs[o][s].push(I),0!==a&&r.faceVertexUvs[o][s+1].push(I);if(b&&(h=3*L[u++],S.normal.set(k[h++],k[h++],k[h]),T.normal.copy(S.normal)),_)for(o=0;o<4;o++)h=3*L[u++],O=new l(k[h++],k[h++],k[h]),2!==o&&S.vertexNormals.push(O),0!==o&&T.vertexNormals.push(O);if(w&&(f=L[u++],C=D[f],S.color.setHex(C),T.color.setHex(C)),x)for(o=0;o<4;o++)f=L[u++],C=D[f],2!==o&&S.vertexColors.push(new q(C)),0!==o&&T.vertexColors.push(new q(C));r.faces.push(S),r.faces.push(T)}else{if(M=new ft,M.a=L[u++],M.b=L[u++],M.c=L[u++],v&&(p=L[u++],M.materialIndex=p),s=r.faces.length,y)for(o=0;o<F;o++)for(A=t.uvs[o],r.faceVertexUvs[o][s]=[],a=0;a<3;a++)d=L[u++],R=A[2*d],P=A[2*d+1],I=new n(R,P),r.faceVertexUvs[o][s].push(I);if(b&&(h=3*L[u++],M.normal.set(k[h++],k[h++],k[h])),_)for(o=0;o<3;o++)h=3*L[u++],O=new l(k[h++],k[h++],k[h]),M.vertexNormals.push(O);if(w&&(f=L[u++],M.color.setHex(D[f])),x)for(o=0;o<3;o++)f=L[u++],M.vertexColors.push(new q(D[f]));r.faces.push(M)}}(o),function(){var e=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var n=0,o=t.skinWeights.length;n<o;n+=e){var a=t.skinWeights[n],s=e>1?t.skinWeights[n+1]:0,l=e>2?t.skinWeights[n+2]:0,u=e>3?t.skinWeights[n+3]:0;r.skinWeights.push(new i(a,s,l,u))}if(t.skinIndices)for(var n=0,o=t.skinIndices.length;n<o;n+=e){var c=t.skinIndices[n],f=e>1?t.skinIndices[n+1]:0,h=e>2?t.skinIndices[n+2]:0,d=e>3?t.skinIndices[n+3]:0;r.skinIndices.push(new i(c,f,h,d))}r.bones=t.bones,r.bones&&r.bones.length>0&&(r.skinWeights.length!==r.skinIndices.length||r.skinIndices.length!==r.vertices.length)&&console.warn("When skinning, number of vertices ("+r.vertices.length+"), skinIndices ("+r.skinIndices.length+"), and skinWeights ("+r.skinWeights.length+") should match.")}(),function(e){if(void 0!==t.morphTargets)for(var n=0,i=t.morphTargets.length;n<i;n++){r.morphTargets[n]={},r.morphTargets[n].name=t.morphTargets[n].name,r.morphTargets[n].vertices=[];for(var o=r.morphTargets[n].vertices,a=t.morphTargets[n].vertices,s=0,u=a.length;s<u;s+=3){var c=new l;c.x=a[s]*e,c.y=a[s+1]*e,c.z=a[s+2]*e,o.push(c)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var f=r.faces,h=t.morphColors[0].colors,n=0,i=f.length;n<i;n++)f[n].color.fromArray(h,3*n)}}(o),function(){var e=[],n=[];void 0!==t.animation&&n.push(t.animation),void 0!==t.animations&&(t.animations.length?n=n.concat(t.animations):n.push(t.animations));for(var i=0;i<n.length;i++){var o=Qn.parseAnimation(n[i],r.bones);o&&e.push(o)}if(r.morphTargets){var a=Qn.CreateClipsFromMorphTargetSequences(r.morphTargets,10);e=e.concat(a)}e.length>0&&(r.animations=e)}(),r.computeFaceNormals(),r.computeBoundingSphere(),void 0===t.materials||0===t.materials.length)return{geometry:r};var a=tr.prototype.initMaterials(t.materials,e,this.crossOrigin);return{geometry:r,materials:a}}}),Object.assign(nr.prototype,{load:function(t,e,n,r){""===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf("/")+1));var i=this;new En(i.manager).load(t,function(n){var o=null;try{o=JSON.parse(n)}catch(e){return void 0!==r&&r(e),void console.error("THREE:ObjectLoader: Can't parse "+t+".",e.message)}var a=o.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())return void console.error("THREE.ObjectLoader: Can't load "+t+". Use THREE.JSONLoader instead.");i.parse(o,e)},n,r)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var n=this.parseGeometries(t.geometries),r=this.parseImages(t.images,function(){void 0!==e&&e(a)}),i=this.parseTextures(t.textures,r),o=this.parseMaterials(t.materials,i),a=this.parseObject(t.object,n,o);return t.animations&&(a.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(a),a},parseGeometries:function(t){var e={};if(void 0!==t)for(var n=new er,r=new $n,i=0,o=t.length;i<o;i++){var a,s=t[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new gs[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new gs[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new gs[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new gs[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new gs[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new gs[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":a=new gs[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new gs[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new gs[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new gs[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new gs[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":a=r.parse(s);break;case"Geometry":a=n.parse(s.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),e[s.uuid]=a}return e},parseMaterials:function(t,e){var n={};if(void 0!==t){var r=new Jn;r.setTextures(e);for(var i=0,o=t.length;i<o;i++){var a=r.parse(t[i]);n[a.uuid]=a}}return n},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var r=Qn.parse(t[n]);e.push(r)}return e},parseImages:function(t,e){var n=this,r={};if(void 0!==t&&t.length>0){var i=new xn(e),o=new Tn(i);o.setCrossOrigin(this.crossOrigin);for(var a=0,s=t.length;a<s;a++){var l=t[a],u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:n.texturePath+l.url;r[l.uuid]=function(t){return n.manager.itemStart(t),o.load(t,function(){n.manager.itemEnd(t)},void 0,function(){n.manager.itemError(t)})}(u)}}return r},parseTextures:function(t,e){function n(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var i={UVMapping:300,CubeReflectionMapping:Xo,CubeRefractionMapping:Zo,EquirectangularReflectionMapping:Ko,EquirectangularRefractionMapping:Qo,SphericalReflectionMapping:Jo,CubeUVReflectionMapping:$o,CubeUVRefractionMapping:ta},o={RepeatWrapping:ea,ClampToEdgeWrapping:na,MirroredRepeatWrapping:ra},a={NearestFilter:ia,NearestMipMapNearestFilter:oa,NearestMipMapLinearFilter:aa,LinearFilter:sa,LinearMipMapNearestFilter:la,LinearMipMapLinearFilter:ua},s={};if(void 0!==t)for(var l=0,u=t.length;l<u;l++){var c=t[l];void 0===c.image&&console.warn('THREE.ObjectLoader: No "image" specified for',c.uuid),void 0===e[c.image]&&console.warn("THREE.ObjectLoader: Undefined image",c.image);var f=new r(e[c.image]);f.needsUpdate=!0,f.uuid=c.uuid,void 0!==c.name&&(f.name=c.name),void 0!==c.mapping&&(f.mapping=n(c.mapping,i)),void 0!==c.offset&&f.offset.fromArray(c.offset),void 0!==c.repeat&&f.repeat.fromArray(c.repeat),void 0!==c.wrap&&(f.wrapS=n(c.wrap[0],o),f.wrapT=n(c.wrap[1],o)),void 0!==c.minFilter&&(f.minFilter=n(c.minFilter,a)),void 0!==c.magFilter&&(f.magFilter=n(c.magFilter,a)),void 0!==c.anisotropy&&(f.anisotropy=c.anisotropy),void 0!==c.flipY&&(f.flipY=c.flipY),s[c.uuid]=f}return s},parseObject:function(){var t=new u;return function(e,n,r){function i(t){return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),n[t]}function o(t){if(void 0!==t)return void 0===r[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),r[t]}var a;switch(e.type){case"Scene":a=new fe,void 0!==e.background&&Number.isInteger(e.background)&&(a.background=new q(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new ce(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new ue(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":a=new Nt(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new kt(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case"AmbientLight":a=new Fn(e.color,e.intensity);break;case"DirectionalLight":a=new Dn(e.color,e.intensity);break;case"PointLight":a=new Nn(e.color,e.intensity,e.distance,e.decay);break;case"SpotLight":a=new Ln(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new In(e.color,e.groundColor,e.intensity);break;case"Mesh":var s=i(e.geometry),l=o(e.material);a=s.bones&&s.bones.length>0?new ye(s,l):new Ot(s,l);break;case"LOD":a=new me;break;case"Line":a=new _e(i(e.geometry),o(e.material),e.mode);break;case"LineSegments":a=new we(i(e.geometry),o(e.material));break;case"PointCloud":case"Points":a=new Ee(i(e.geometry),o(e.material));break;case"Sprite":a=new pe(o(e.material));break;case"Group":a=new Me;break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh type. Instantiates Object3D instead.");default:a=new lt}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(t.fromArray(e.matrix),t.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.children)for(var u in e.children)a.add(this.parseObject(e.children[u],n,r));if("LOD"===e.type)for(var c=e.levels,f=0;f<c.length;f++){var h=c[f],u=a.getObjectByProperty("uuid",h.object);void 0!==u&&a.addLevel(u,h.distance)}return a}}()}),dr.prototype={constructor:dr,getPoint:function(t){return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),null},getPointAt:function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},getPoints:function(t){isNaN(t)&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){isNaN(t)&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(isNaN(t)&&(t=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=t;n++)e=this.getPoint(n/t),o+=e.distanceTo(i),r.push(o),i=e;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,r=this.getLengths(),i=0,o=r.length;n=e||t*r[o-1];for(var a,s=0,l=o-1;s<=l;)if(i=Math.floor(s+(l-s)/2),(a=r[i]-n)<0)s=i+1;else{if(!(a>0)){l=i;break}l=i-1}if(i=l,r[i]===n){var u=i/(o-1);return u}var c=r[i],f=r[i+1],h=f-c,d=(n-c)/h,u=(i+d)/(o-1);return u},getTangent:function(t){var e=t-1e-4,n=t+1e-4;e<0&&(e=0),n>1&&(n=1);var r=this.getPoint(e);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var n,r,i,o=new l,a=[],s=[],c=[],f=new l,h=new u;for(n=0;n<=t;n++)r=n/t,a[n]=this.getTangentAt(r),a[n].normalize();s[0]=new l,c[0]=new l;var d=Number.MAX_VALUE,p=Math.abs(a[0].x),m=Math.abs(a[0].y),g=Math.abs(a[0].z);for(p<=d&&(d=p,o.set(1,0,0)),m<=d&&(d=m,o.set(0,1,0)),g<=d&&o.set(0,0,1),f.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],f),c[0].crossVectors(a[0],s[0]),n=1;n<=t;n++)s[n]=s[n-1].clone(),c[n]=c[n-1].clone(),f.crossVectors(a[n-1],a[n]),f.length()>Number.EPSILON&&(f.normalize(),i=Math.acos($a.clamp(a[n-1].dot(a[n]),-1,1)),s[n].applyMatrix4(h.makeRotationAxis(f,i))),c[n].crossVectors(a[n],s[n]);if(!0===e)for(i=Math.acos($a.clamp(s[0].dot(s[t]),-1,1)),i/=t,a[0].dot(f.crossVectors(s[0],s[t]))>0&&(i=-i),n=1;n<=t;n++)s[n].applyMatrix4(h.makeRotationAxis(a[n],i*n)),c[n].crossVectors(a[n],s[n]);return{tangents:a,normals:s,binormals:c}}},pr.prototype=Object.create(dr.prototype),pr.prototype.constructor=pr,pr.prototype.isLineCurve=!0,pr.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},pr.prototype.getPointAt=function(t){return this.getPoint(t)},pr.prototype.getTangent=function(t){return this.v2.clone().sub(this.v1).normalize()},mr.prototype=Object.assign(Object.create(dr.prototype),{constructor:mr,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new pr(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=e){var i=n[r]-e,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){isNaN(t)&&(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*t:o&&o.isLineCurve?1:o&&o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a),l=0;l<s.length;l++){var u=s[l];e&&e.equals(u)||(n.push(u),e=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new Tt,n=0,r=t.length;n<r;n++){var i=t[n];e.vertices.push(new l(i.x,i.y,i.z||0))}return e}}),gr.prototype=Object.create(dr.prototype),gr.prototype.constructor=gr,gr.prototype.isEllipseCurve=!0,gr.prototype.getPoint=function(t){for(var e=2*Math.PI,r=this.aEndAngle-this.aStartAngle,i=Math.abs(r)<Number.EPSILON;r<0;)r+=e;for(;r>e;)r-=e;r<Number.EPSILON&&(r=i?0:e),!0!==this.aClockwise||i||(r===e?r=-e:r-=e);var o=this.aStartAngle+t*r,a=this.aX+this.xRadius*Math.cos(o),s=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),u=Math.sin(this.aRotation),c=a-this.aX,f=s-this.aY;a=c*l-f*u+this.aX,s=c*u+f*l+this.aY}return new n(a,s)},vr.prototype=Object.create(dr.prototype),vr.prototype.constructor=vr,vr.prototype.isSplineCurve=!0,vr.prototype.getPoint=function(t){var e=this.points,r=(e.length-1)*t,i=Math.floor(r),o=r-i,a=e[0===i?i:i-1],s=e[i],l=e[i>e.length-2?e.length-1:i+1],u=e[i>e.length-3?e.length-1:i+2];return new n(rr(o,a.x,s.x,l.x,u.x),rr(o,a.y,s.y,l.y,u.y))},yr.prototype=Object.create(dr.prototype),yr.prototype.constructor=yr,yr.prototype.getPoint=function(t){var e=this.v0,r=this.v1,i=this.v2,o=this.v3;return new n(hr(t,e.x,r.x,i.x,o.x),hr(t,e.y,r.y,i.y,o.y))},br.prototype=Object.create(dr.prototype),br.prototype.constructor=br,br.prototype.getPoint=function(t){var e=this.v0,r=this.v1,i=this.v2;return new n(sr(t,e.x,r.x,i.x),sr(t,e.y,r.y,i.y))};var xs=Object.assign(Object.create(mr.prototype),{fromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var r=new pr(this.currentPoint.clone(),new n(t,e));this.curves.push(r),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,r,i){var o=new br(this.currentPoint.clone(),new n(t,e),new n(r,i));this.curves.push(o),this.currentPoint.set(r,i)},bezierCurveTo:function(t,e,r,i,o,a){var s=new yr(this.currentPoint.clone(),new n(t,e),new n(r,i),new n(o,a));this.curves.push(s),this.currentPoint.set(o,a)},splineThru:function(t){var e=[this.currentPoint.clone()].concat(t),n=new vr(e);this.curves.push(n),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+a,e+s,n,r,i,o)},absarc:function(t,e,n,r,i,o){this.absellipse(t,e,n,n,r,i,o)},ellipse:function(t,e,n,r,i,o,a,s){var l=this.currentPoint.x,u=this.currentPoint.y;this.absellipse(t+l,e+u,n,r,i,o,a,s)},absellipse:function(t,e,n,r,i,o,a,s){var l=new gr(t,e,n,r,i,o,a,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);this.currentPoint.copy(c)}});_r.prototype=xs,xs.constructor=_r,wr.prototype=Object.assign(Object.create(xs),{constructor:wr,getPointsHoles:function(t){for(var e=[],n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e},extractAllPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},extractPoints:function(t){return this.extractAllPoints(t)}}),xr.prototype={moveTo:function(t,e){this.currentPath=new _r,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,n,r){this.currentPath.quadraticCurveTo(t,e,n,r)},bezierCurveTo:function(t,e,n,r,i,o){this.currentPath.bezierCurveTo(t,e,n,r,i,o)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function n(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n],o=new wr;o.curves=i.curves,e.push(o)}return e}var r=ms.isClockWise,i=this.subPaths;if(0===i.length)return[];if(!0===e)return n(i);var o,a,s,l=[];if(1===i.length)return a=i[0],s=new wr,s.curves=a.curves,l.push(s),l;var u=!r(i[0].getPoints());u=t?!u:u;var c,f=[],h=[],d=[],p=0;h[p]=void 0,d[p]=[];for(var m=0,g=i.length;m<g;m++)a=i[m],c=a.getPoints(),o=r(c),o=t?!o:o,o?(!u&&h[p]&&p++,h[p]={s:new wr,p:c},h[p].s.curves=a.curves,u&&p++,d[p]=[]):d[p].push({h:a,p:c[0]});if(!h[0])return n(i);if(h.length>1){for(var v=!1,y=[],b=0,_=h.length;b<_;b++)f[b]=[];for(var b=0,_=h.length;b<_;b++)for(var w=d[b],x=0;x<w.length;x++){for(var E=w[x],M=!0,S=0;S<h.length;S++)(function(t,e){for(var n=e.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=e[i],s=e[o],l=s.x-a.x,u=s.y-a.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(a=e[o],l=-l,s=e[i],u=-u),t.y<a.y||t.y>s.y)continue;if(t.y===a.y){if(t.x===a.x)return!0}else{var c=u*(t.x-a.x)-l*(t.y-a.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(t.y!==a.y)continue;if(s.x<=t.x&&t.x<=a.x||a.x<=t.x&&t.x<=s.x)return!0}}return r})(E.p,h[S].p)&&(b!==S&&y.push({froms:b,tos:S,hole:x}),M?(M=!1,f[S].push(E)):v=!0);M&&f[b].push(E)}y.length>0&&(v||(d=f))}for(var T,m=0,C=h.length;m<C;m++){s=h[m].s,l.push(s),T=d[m];for(var O=0,A=T.length;O<A;O++)s.holes.push(T[O].h)}return l}},Object.assign(Er.prototype,{isFont:!0,generateShapes:function(t,e,n){function r(t,e,r,o){var a=i.glyphs[t]||i.glyphs["?"];if(a){var s,l,u,c,f,h,d,p,m,g,v,y=new xr,b=[];if(a.o)for(var _=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),w=0,x=_.length;w<x;){var E=_[w++];switch(E){case"m":s=_[w++]*e+r,l=_[w++]*e+o,y.moveTo(s,l);break;case"l":s=_[w++]*e+r,l=_[w++]*e+o,y.lineTo(s,l);break;case"q":if(u=_[w++]*e+r,c=_[w++]*e+o,d=_[w++]*e+r,p=_[w++]*e+o,y.quadraticCurveTo(d,p,u,c),v=b[b.length-1]){f=v.x,h=v.y;for(var M=1;M<=n;M++){var S=M/n;sr(S,f,d,u),sr(S,h,p,c)}}break;case"b":if(u=_[w++]*e+r,c=_[w++]*e+o,d=_[w++]*e+r,p=_[w++]*e+o,m=_[w++]*e+r,g=_[w++]*e+o,y.bezierCurveTo(d,p,m,g,u,c),v=b[b.length-1]){f=v.x,h=v.y;for(var M=1;M<=n;M++){var S=M/n;hr(S,f,d,m,u),hr(S,h,p,g,c)}}}}return{offsetX:a.ha*e,path:y}}}void 0===e&&(e=100),void 0===n&&(n=4);for(var i=this.data,o=function(t){for(var n=String(t).split(""),o=e/i.resolution,a=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*o,s=0,l=0,u=[],c=0;c<n.length;c++){var f=n[c];if("\n"===f)s=0,l-=a;else{var h=r(f,o,s,l);s+=h.offsetX,u.push(h.path)}}return u}(t),a=[],s=0,l=o.length;s<l;s++)Array.prototype.push.apply(a,o[s].toShapes());return a}}),Object.assign(Mr.prototype,{load:function(t,e,n,r){var i=this;new En(this.manager).load(t,function(t){var n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var r=i.parse(n);e&&e(r)},n,r)},parse:function(t){return new Er(t)}});var Es,Ms={getContext:function(){return void 0===Es&&(Es=new(window.AudioContext||window.webkitAudioContext)),Es},setContext:function(t){Es=t}};Object.assign(Sr.prototype,{load:function(t,e,n,r){var i=new En(this.manager);i.setResponseType("arraybuffer"),i.load(t,function(t){Ms.getContext().decodeAudioData(t,function(t){e(t)})},n,r)}}),Tr.prototype=Object.assign(Object.create(An.prototype),{constructor:Tr,isRectAreaLight:!0,copy:function(t){return An.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this}}),Object.assign(Cr.prototype,{update:function(){var t,e,n,r,i,o,a,s=new u,l=new u;return function(u){if(t!==this||e!==u.focus||n!==u.fov||r!==u.aspect*this.aspect||i!==u.near||o!==u.far||a!==u.zoom){t=this,e=u.focus,n=u.fov,r=u.aspect*this.aspect,i=u.near,o=u.far,a=u.zoom;var c,f,h=u.projectionMatrix.clone(),d=this.eyeSep/2,p=d*i/e,m=i*Math.tan($a.DEG2RAD*n*.5)/a;l.elements[12]=-d,s.elements[12]=d,c=-m*r+p,f=m*r+p,h.elements[0]=2*i/(f-c),h.elements[8]=(f+c)/(f-c),this.cameraL.projectionMatrix.copy(h),c=-m*r-p,f=m*r-p,h.elements[0]=2*i/(f-c),h.elements[8]=(f+c)/(f-c),this.cameraR.projectionMatrix.copy(h)}this.cameraL.matrixWorld.copy(u.matrixWorld).multiply(l),this.cameraR.matrixWorld.copy(u.matrixWorld).multiply(s)}}()}),Or.prototype=Object.create(lt.prototype),Or.prototype.constructor=Or,Ar.prototype=Object.assign(Object.create(lt.prototype),{constructor:Ar,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(t){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){this.gain.gain.value=t},updateMatrixWorld:function(){var t=new l,e=new s,n=new l,r=new l;return function(i){lt.prototype.updateMatrixWorld.call(this,i);var o=this.context.listener,a=this.up;this.matrixWorld.decompose(t,e,n),r.set(0,0,-1).applyQuaternion(e),o.positionX?(o.positionX.setValueAtTime(t.x,this.context.currentTime),o.positionY.setValueAtTime(t.y,this.context.currentTime),o.positionZ.setValueAtTime(t.z,this.context.currentTime),o.forwardX.setValueAtTime(r.x,this.context.currentTime),o.forwardY.setValueAtTime(r.y,this.context.currentTime),o.forwardZ.setValueAtTime(r.z,this.context.currentTime),o.upX.setValueAtTime(a.x,this.context.currentTime),o.upY.setValueAtTime(a.y,this.context.currentTime),o.upZ.setValueAtTime(a.z,this.context.currentTime)):(o.setPosition(t.x,t.y,t.z),o.setOrientation(r.x,r.y,r.z,a.x,a.y,a.z))}}()}),Ir.prototype=Object.assign(Object.create(lt.prototype),{constructor:Ir,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),t.playbackRate.setValueAtTime(this.playbackRate,this.startTime),t.start(0,this.startTime),this.isPlaying=!0,this.source=t,this.connect()},pause:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this)},stop:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=0,this.isPlaying=!1,this)},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this)},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.value=t,this}}),Rr.prototype=Object.assign(Object.create(Ir.prototype),{constructor:Rr,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){this.panner.refDistance=t},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){this.panner.rolloffFactor=t},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){this.panner.distanceModel=t},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){this.panner.maxDistance=t},updateMatrixWorld:function(){var t=new l;return function(e){lt.prototype.updateMatrixWorld.call(this,e),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}()}),Object.assign(Pr.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Lr.prototype={constructor:Lr,accumulate:function(t,e){var n=this.buffer,r=this.valueSize,i=t*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=e}else{o+=e;var s=e/o;this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},apply:function(t){var e=this.valueSize,n=this.buffer,r=t*e+e,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*e;this._mixBufferRegion(n,r,a,1-i,e)}for(var s=e,l=e+e;s!==l;++s)if(n[s]!==n[s+e]){o.setValue(n,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,r=3*n;t.getValue(e,r);for(var i=n,o=r;i!==o;++i)e[i]=e[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)t[e+o]=t[n+o]},_slerp:function(t,e,n,r,i){s.slerpFlat(t,e,t,e,t,n,r)},_lerp:function(t,e,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=e+a;t[s]=t[s]*o+t[n+a]*r}}},Nr.prototype={constructor:Nr,getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,r=e.propertyName,i=e.propertyIndex;if(t||(t=Nr.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("  trying to update node for track: "+this.path+" but it wasn't found.");if(n){var o=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("  can not bind to material as node does not have a material",this);if(!t.material.materials)return void console.error("  can not bind to material.materials as node.material does not have a materials array",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("  can not bind to bones as node does not have a skeleton",this);t=t.skeleton.bones;for(var a=0;a<t.length;a++)if(t[a].name===o){o=a;break}break;default:if(void 0===t[n])return void console.error("  can not bind to objectName of node, undefined",this);t=t[n]}if(void 0!==o){if(void 0===t[o])return void console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,t);t=t[o]}}var s=t[r];if(void 0===s){var l=e.nodeName;return void console.error("  trying to update property for track: "+l+"."+r+" but it wasn't found.",t)}var u=this.Versioning.None;void 0!==t.needsUpdate?(u=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var c=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);if(!t.geometry.morphTargets)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);for(var a=0;a<this.node.geometry.morphTargets.length;a++)if(t.geometry.morphTargets[a].name===i){i=a;break}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):void 0!==s.length?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(Nr.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:Nr.prototype.getValue,_setValue_unbound:Nr.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)t[e++]=n[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.node[this.propertyName]=t[e]},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),Nr.Composite=function(t,e,n){var r=n||Nr.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)},Nr.Composite.prototype={constructor:Nr.Composite,getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}},Nr.create=function(t,e,n){return t&&t.isAnimationObjectGroup?new Nr.Composite(t,e,n):new Nr(t,e,n)},Nr.parseTrackName=function(t){var e=/^((?:[\w-]+[\/:])*)([\w-]+)?(?:\.([\w-]+)(?:\[(.+)\])?)?\.([\w-]+)(?:\[(.+)\])?$/,n=e.exec(t);if(!n)throw new Error("cannot parse trackName at all: "+t);var r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]};if(null===r.propertyName||0===r.propertyName.length)throw new Error("can not parse propertyName from trackName: "+t);return r},Nr.findNode=function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=function(t){for(var n=0;n<t.bones.length;n++){var r=t.bones[n];if(r.name===e)return r}return null}(t.skeleton);if(n)return n}if(t.children){var r=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.name===e||i.uuid===e)return i;var o=r(i.children);if(o)return o}return null},i=r(t.children);if(i)return i}return null},kr.prototype={constructor:kr,isAnimationObjectGroup:!0,add:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._paths,a=this._parsedPaths,s=this._bindings,l=s.length,u=0,c=arguments.length;u!==c;++u){var f=arguments[u],h=f.uuid,d=i[h],p=void 0;if(void 0===d){d=n++,i[h]=d,e.push(f);for(var m=0,g=l;m!==g;++m)s[m].push(new Nr(f,o[m],a[m]))}else if(d<r){p=e[d];var v=--r,y=e[v];i[y.uuid]=d,e[d]=y,i[h]=v,e[v]=f;for(var m=0,g=l;m!==g;++m){var b=s[m],_=b[v],w=b[d];b[d]=_,void 0===w&&(w=new Nr(f,o[m],a[m])),b[v]=w}}else e[d]!==p&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=r},remove:function(t){for(var e=this._objects,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var l=arguments[a],u=l.uuid,c=r[u];if(void 0!==c&&c>=n){var f=n++,h=e[f];r[h.uuid]=c,e[c]=h,r[u]=f,e[f]=l;for(var d=0,p=o;d!==p;++d){var m=i[d],g=m[f],v=m[c];m[c]=g,m[f]=v}}}this.nCachedObjects_=n},uncache:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._bindings,a=o.length,s=0,l=arguments.length;s!==l;++s){var u=arguments[s],c=u.uuid,f=i[c];if(void 0!==f)if(delete i[c],f<r){var h=--r,d=e[h],p=--n,m=e[p];i[d.uuid]=f,e[f]=d,i[m.uuid]=h,e[h]=m,e.pop();for(var g=0,v=a;g!==v;++g){var y=o[g],b=y[h],_=y[p];y[f]=b,y[h]=_,y.pop()}}else{var p=--n,m=e[p];i[m.uuid]=f,e[f]=m,e.pop();for(var g=0,v=a;g!==v;++g){var y=o[g];y[f]=y[p],y.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,r=n[t],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,l=s.length,u=this.nCachedObjects_,c=new Array(l);r=i.length,n[t]=r,o.push(t),a.push(e),i.push(c);for(var f=u,h=s.length;f!==h;++f){var d=s[f];c[f]=new Nr(d,t,e)}return c},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];e[t[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}},Dr.prototype={constructor:Dr,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var r=this._clip.duration,i=t._clip.duration,o=i/r,a=r/i;t.warp(1,o,e),this.warp(a,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=i,s[1]=i+n,l[0]=t/a,l[1]=e/a,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,r){var i=this._startTime;if(null!==i){var o=(t-i)*n;if(o<0||0===n)return;this._startTime=null,e=n*o}e*=this._updateTimeScale(t);var a=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var l=this._interpolants,u=this._propertyBindings,c=0,f=l.length;c!==f;++c)l[c].evaluate(a),u[c].accumulate(r,s)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var n=this._clip.duration,r=this.loop,i=this._loopCount;if(2200===r){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=n)e=n;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{var o=2202===r;if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),e>=n||e<0){var a=Math.floor(e/n);e-=n*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(0===s){var l=t<0;this._setEndings(l,!l,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1==(1&i))return this.time=e,n-e}return this.time=e,e},_setEndings:function(t,e,n){var r=this._interpolantSettings;n?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=t?this.zeroSlopeAtStart?2401:za:2402,r.endingEnd=e?this.zeroSlopeAtEnd?2401:za:2402)},_scheduleFading:function(t,e,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=e,a[1]=i+t,s[1]=n,this}},Fr.prototype={constructor:Fr,clipAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"==typeof t?Qn.findByName(n,t):t,o=null!==i?i.uuid:t,a=this._actionsByClip[o],s=null;if(void 0!==a){var l=a.actionByRoot[r];if(void 0!==l)return l;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var u=new Dr(this,i,e);return this._bindAction(u,s),this._addInactiveAction(u,o,r),u},existingAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"==typeof t?Qn.findByName(n,t):t,o=i?i.uuid:t,a=this._actionsByClip[o];return void 0!==a?a.actionByRoot[r]||null:null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==e;++i)t[i].reset();for(var i=0;i!==r;++i)n[i].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,r=this.time+=t,i=Math.sign(t),o=this._accuIndex^=1,a=0;a!==n;++a){var s=e[a];s.enabled&&s._update(r,t,i,o)}for(var l=this._bindings,u=this._nActiveBindings,a=0;a!==u;++a)l[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var l=o[a];this._deactivateAction(l);var u=l._cacheIndex,c=e[e.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,e[u]=c,e.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot,o=i[e];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var a=this._bindingsByRootAndName,s=a[e];if(void 0!==s)for(var l in s){var u=s[l];u.restoreOriginalState(),this._removeInactiveBinding(u)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}},Object.assign(Fr.prototype,{_bindAction:function(t,e){var n=t._localRoot||this._root,r=t._clip.tracks,i=r.length,o=t._propertyBindings,a=t._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==i;++c){var f=r[c],h=f.name,d=u[h];if(void 0!==d)o[c]=d;else{if(void 0!==(d=o[c])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,h));continue}var p=e&&e._propertyBindings[c].binding.parsedPath;d=new Lr(Nr.create(n,h,p),f.ValueTypeName,f.getValueSize()),++d.referenceCount,this._addInactiveBinding(d,s,h),o[c]=d}a[c].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}for(var i=t._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var r=this._actions,i=this._actionsByClip,o=i[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=o;else{var a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=r.length,r.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;var i=t._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,l=s[s.length-1],u=t._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),t._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_addInactiveBinding:function(t,e,n){var r=this._bindingsByRootAndName,i=r[e],o=this._bindings;void 0===i&&(i={},r[e]=i),i[n]=t,t._cacheIndex=o.length,o.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=e[e.length-1],l=t._cacheIndex;s._cacheIndex=l,e[l]=s,e.pop(),delete a[i];t:{for(var u in a)break t;delete o[r]}},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&(n=new zn(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,i=e[r];t.__cacheIndex=r,e[r]=t,i.__cacheIndex=n,e[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1)}),Object.assign(Fr.prototype,e.prototype),jr.prototype.clone=function(){return new jr(void 0===this.value.clone?this.value:this.value.clone())},Ur.prototype=Object.create(Ct.prototype),Ur.prototype.constructor=Ur,Ur.prototype.isInstancedBufferGeometry=!0,Ur.prototype.addGroup=function(t,e,n){this.groups.push({start:t,count:e,materialIndex:n})},Ur.prototype.copy=function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var n=t.attributes;for(var r in n){var i=n[r];this.addAttribute(r,i.clone())}for(var o=t.groups,a=0,s=o.length;a<s;a++){var l=o[a];this.addGroup(l.start,l.count,l.materialIndex)}return this},zr.prototype={constructor:zr,isInterleavedBufferAttribute:!0,get count(){return this.data.count},get array(){return this.data.array},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this}},Br.prototype={constructor:Br,isInterleavedBuffer:!0,set needsUpdate(t){!0===t&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.stride:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}},Vr.prototype=Object.create(Br.prototype),Vr.prototype.constructor=Vr,Vr.prototype.isInstancedInterleavedBuffer=!0,Vr.prototype.copy=function(t){return Br.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},Gr.prototype=Object.create(dt.prototype),Gr.prototype.constructor=Gr,Gr.prototype.isInstancedBufferAttribute=!0,Gr.prototype.copy=function(t){return dt.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},Hr.prototype={constructor:Hr,linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e){var n=[];return Wr(t,this,n,e),n.sort(qr),n},intersectObjects:function(t,e){var n=[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var r=0,i=t.length;r<i;r++)Wr(t[r],this,n,e);return n.sort(qr),n}},Yr.prototype={constructor:Yr,start:function(){this.startTime=(performance||Date).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running&&this.start(),this.running){var e=(performance||Date).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}},Xr.prototype={constructor:Xr,set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos($a.clamp(t.y/this.radius,-1,1))),this}},Zr.prototype={constructor:Zr,set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.radius=Math.sqrt(t.x*t.x+t.z*t.z),this.theta=Math.atan2(t.x,t.z),this.y=t.y,this}},Kr.prototype=Object.create(Ot.prototype),Kr.prototype.constructor=Kr,Kr.prototype.createAnimation=function(t,e,n,r){var i={start:e,end:n,length:n-e+1,fps:r,duration:(n-e)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=i,this.animationsList.push(i)},Kr.prototype.autoCreateAnimations=function(t){for(var e,n=/([a-z]+)_?(\d+)/i,r={},i=this.geometry,o=0,a=i.morphTargets.length;o<a;o++){var s=i.morphTargets[o],l=s.name.match(n);if(l&&l.length>1){var u=l[1];r[u]||(r[u]={start:1/0,end:-1/0});var c=r[u];o<c.start&&(c.start=o),o>c.end&&(c.end=o),e||(e=u)}}for(var u in r){var c=r[u];this.createAnimation(u,c.start,c.end,t)}this.firstAnimation=e},Kr.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},Kr.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},Kr.prototype.setAnimationFPS=function(t,e){var n=this.animationsMap[t];n&&(n.fps=e,n.duration=(n.end-n.start)/n.fps)},Kr.prototype.setAnimationDuration=function(t,e){var n=this.animationsMap[t];n&&(n.duration=e,n.fps=(n.end-n.start)/n.duration)},Kr.prototype.setAnimationWeight=function(t,e){var n=this.animationsMap[t];n&&(n.weight=e)},Kr.prototype.setAnimationTime=function(t,e){var n=this.animationsMap[t];n&&(n.time=e)},Kr.prototype.getAnimationTime=function(t){var e=0,n=this.animationsMap[t];return n&&(e=n.time),e},Kr.prototype.getAnimationDuration=function(t){var e=-1,n=this.animationsMap[t];return n&&(e=n.duration),e},Kr.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn("THREE.MorphBlendMesh: animation["+t+"] undefined in .playAnimation()")},Kr.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},Kr.prototype.update=function(t){for(var e=0,n=this.animationsList.length;e<n;e++){var r=this.animationsList[e];if(r.active){var i=r.duration/r.length;r.time+=r.direction*t,r.mirroredLoop?(r.time>r.duration||r.time<0)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),r.time<0&&(r.time=0,r.directionBackwards=!1)):(r.time=r.time%r.duration,r.time<0&&(r.time+=r.duration));var o=r.start+$a.clamp(Math.floor(r.time/i),0,r.length-1),a=r.weight;o!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*a,this.morphTargetInfluences[o]=0,r.lastFrame=r.currentFrame,r.currentFrame=o);var s=r.time%i/i;r.directionBackwards&&(s=1-s),r.currentFrame!==r.lastFrame?(this.morphTargetInfluences[r.currentFrame]=s*a,this.morphTargetInfluences[r.lastFrame]=(1-s)*a):this.morphTargetInfluences[r.currentFrame]=a}}},Qr.prototype=Object.create(lt.prototype),Qr.prototype.constructor=Qr,Qr.prototype.isImmediateRenderObject=!0,Jr.prototype=Object.create(we.prototype),Jr.prototype.constructor=Jr,Jr.prototype.update=function(){var t=new l,e=new l,n=new et;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s=a.vertices,l=a.faces,u=0,c=0,f=l.length;c<f;c++)for(var h=l[c],d=0,p=h.vertexNormals.length;d<p;d++){var m=s[h[r[d]]],g=h.vertexNormals[d];t.copy(m).applyMatrix4(i),e.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(u,t.x,t.y,t.z),u+=1,o.setXYZ(u,e.x,e.y,e.z),u+=1}else if(a&&a.isBufferGeometry)for(var v=a.attributes.position,y=a.attributes.normal,u=0,d=0,p=v.count;d<p;d++)t.set(v.getX(d),v.getY(d),v.getZ(d)).applyMatrix4(i),e.set(y.getX(d),y.getY(d),y.getZ(d)),e.applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(u,t.x,t.y,t.z),u+=1,o.setXYZ(u,e.x,e.y,e.z),u+=1;return o.needsUpdate=!0,this}}(),$r.prototype=Object.create(lt.prototype),$r.prototype.constructor=$r,$r.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},$r.prototype.update=function(){var t=new l,e=new l;return function(){var n=this.light.distance?this.light.distance:1e3,r=n*Math.tan(this.light.angle);this.cone.scale.set(r,r,n),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),ti.prototype=Object.create(we.prototype),ti.prototype.constructor=ti,ti.prototype.getBoneList=function(t){var e=[];t&&t.isBone&&e.push(t);for(var n=0;n<t.children.length;n++)e.push.apply(e,this.getBoneList(t.children[n]));return e},ti.prototype.update=function(){var t=new l,e=new u,n=new u;return function(){var r=this.geometry,i=r.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var o=0,a=0;o<this.bones.length;o++){var s=this.bones[o];s.parent&&s.parent.isBone&&(e.multiplyMatrices(n,s.matrixWorld),t.setFromMatrixPosition(e),i.setXYZ(a,t.x,t.y,t.z),e.multiplyMatrices(n,s.parent.matrixWorld),t.setFromMatrixPosition(e),i.setXYZ(a+1,t.x,t.y,t.z),a+=2)}r.getAttribute("position").needsUpdate=!0}}(),ei.prototype=Object.create(Ot.prototype),ei.prototype.constructor=ei,ei.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},ei.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},ni.prototype=Object.create(lt.prototype),ni.prototype.constructor=ni,ni.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose(),this.children[1].geometry.dispose(),this.children[1].material.dispose()},ni.prototype.update=function(){var t=new l,e=new l;return function(){var n=this.children[0],r=this.children[1];if(this.light.target){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld);var i=e.clone().sub(t);n.lookAt(i),r.lookAt(i)}n.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var o=.5*this.light.width,a=.5*this.light.height,s=n.geometry.getAttribute("position"),l=s.array;l[0]=o,l[1]=-a,l[2]=0,l[3]=o,l[4]=a,l[5]=0,l[6]=-o,l[7]=a,l[8]=0,l[9]=-o,l[10]=a,l[11]=0,l[12]=-o,l[13]=-a,l[14]=0,l[15]=o,l[16]=-a,l[17]=0,s.needsUpdate=!0}}(),ri.prototype=Object.create(lt.prototype),ri.prototype.constructor=ri,ri.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},ri.prototype.update=function(){var t=new l,e=new q,n=new q;return function(){var r=this.children[0],i=r.geometry.getAttribute("color");e.copy(this.light.color).multiplyScalar(this.light.intensity),n.copy(this.light.groundColor).multiplyScalar(this.light.intensity);for(var o=0,a=i.count;o<a;o++){var s=o<a/2?e:n;i.setXYZ(o,s.r,s.g,s.b)}r.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate()),i.needsUpdate=!0}}(),ii.prototype=Object.create(we.prototype),ii.prototype.constructor=ii,oi.prototype=Object.create(we.prototype),oi.prototype.constructor=oi,ai.prototype=Object.create(we.prototype),ai.prototype.constructor=ai,ai.prototype.update=function(){var t=new l,e=new l,n=new et;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,l=0,u=0,c=s.length;u<c;u++){var f=s[u],h=f.normal;t.copy(a[f.a]).add(a[f.b]).add(a[f.c]).divideScalar(3).applyMatrix4(r),e.copy(h).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),i.setXYZ(l,t.x,t.y,t.z),l+=1,i.setXYZ(l,e.x,e.y,e.z),l+=1}return i.needsUpdate=!0,this}}(),si.prototype=Object.create(lt.prototype),si.prototype.constructor=si,si.prototype.dispose=function(){var t=this.children[0],e=this.children[1];t.geometry.dispose(),t.material.dispose(),e.geometry.dispose(),e.material.dispose()},si.prototype.update=function(){var t=new l,e=new l,n=new l;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(e,t);var r=this.children[0],i=this.children[1];r.lookAt(n),r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),i.lookAt(n),i.scale.z=n.length()}}(),li.prototype=Object.create(we.prototype),li.prototype.constructor=li,li.prototype.update=function(){function t(t,o,a,s){r.set(o,a,s).unproject(i);var l=n[t];if(void 0!==l)for(var u=e.getAttribute("position"),c=0,f=l.length;c<f;c++)u.setXYZ(l[c],r.x,r.y,r.z)}var e,n,r=new l,i=new Lt;return function(){e=this.geometry,n=this.pointMap;i.projectionMatrix.copy(this.camera.projectionMatrix),t("c",0,0,-1),t("t",0,0,1),t("n1",-1,-1,-1),t("n2",1,-1,-1),t("n3",-1,1,-1),t("n4",1,1,-1),t("f1",-1,-1,1),t("f2",1,-1,1),t("f3",-1,1,1),t("f4",1,1,1),t("u1",.7,1.1,-1),t("u2",-.7,1.1,-1),t("u3",0,2,-1),t("cf1",-1,0,1),t("cf2",1,0,1),t("cf3",0,-1,1),t("cf4",0,1,1),t("cn1",-1,0,-1),t("cn2",1,0,-1),t("cn3",0,-1,-1),t("cn4",0,1,-1),e.getAttribute("position").needsUpdate=!0}}(),ui.prototype=Object.create(we.prototype),ui.prototype.constructor=ui,ui.prototype.update=function(){var t=new $;return function(e){if(e&&e.isBox3?t.copy(e):t.setFromObject(e),!t.isEmpty()){var n=t.min,r=t.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}();var Ss,Ts;ci.prototype=Object.create(lt.prototype),ci.prototype.constructor=ci,ci.prototype.setDirection=function(){var t,e=new l;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(n.z,0,-n.x).normalize(),t=Math.acos(n.y),this.quaternion.setFromAxisAngle(e,t))}}(),ci.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},ci.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},fi.prototype=Object.create(we.prototype),fi.prototype.constructor=fi;var Cs=new l,Os=new hi,As=new hi,Is=new hi;di.prototype=Object.create(dr.prototype),di.prototype.constructor=di,di.prototype.getPoint=function(t){var e=this.points,n=e.length;n<2&&console.log("duh, you need at least 2 points");var r=(n-(this.closed?0:1))*t,i=Math.floor(r),o=r-i;this.closed?i+=i>0?0:(Math.floor(Math.abs(i)/e.length)+1)*e.length:0===o&&i===n-1&&(i=n-2,o=1);var a,s,u,c;if(this.closed||i>0?a=e[(i-1)%n]:(Cs.subVectors(e[0],e[1]).add(e[0]),a=Cs),s=e[i%n],u=e[(i+1)%n],this.closed||i+2<n?c=e[(i+2)%n]:(Cs.subVectors(e[n-1],e[n-2]).add(e[n-1]),c=Cs),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var f="chordal"===this.type?.5:.25,h=Math.pow(a.distanceToSquared(s),f),d=Math.pow(s.distanceToSquared(u),f),p=Math.pow(u.distanceToSquared(c),f);d<1e-4&&(d=1),h<1e-4&&(h=d),p<1e-4&&(p=d),Os.initNonuniformCatmullRom(a.x,s.x,u.x,c.x,h,d,p),As.initNonuniformCatmullRom(a.y,s.y,u.y,c.y,h,d,p),Is.initNonuniformCatmullRom(a.z,s.z,u.z,c.z,h,d,p)}else if("catmullrom"===this.type){var m=void 0!==this.tension?this.tension:.5;Os.initCatmullRom(a.x,s.x,u.x,c.x,m),As.initCatmullRom(a.y,s.y,u.y,c.y,m),Is.initCatmullRom(a.z,s.z,u.z,c.z,m)}return new l(Os.calc(o),As.calc(o),Is.calc(o))},pi.prototype=Object.create(dr.prototype),pi.prototype.constructor=pi,pi.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2,i=this.v3;return new l(hr(t,e.x,n.x,r.x,i.x),hr(t,e.y,n.y,r.y,i.y),hr(t,e.z,n.z,r.z,i.z))},mi.prototype=Object.create(dr.prototype),mi.prototype.constructor=mi,mi.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2;return new l(sr(t,e.x,n.x,r.x),sr(t,e.y,n.y,r.y),sr(t,e.z,n.z,r.z))},gi.prototype=Object.create(dr.prototype),gi.prototype.constructor=gi,gi.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=new l;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e},vi.prototype=Object.create(gr.prototype),vi.prototype.constructor=vi;var Rs={createMultiMaterialObject:function(t,e){for(var n=new Me,r=0,i=e.length;r<i;r++)n.add(new Ot(t,e[r]));return n},detach:function(t,e,n){t.applyMatrix(e.matrixWorld),e.remove(t),n.add(t)},attach:function(t,e,n){var r=new u;r.getInverse(n.matrixWorld),t.applyMatrix(r),e.remove(t),n.add(t)}};dr.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(dr.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Fi.prototype=Object.create(di.prototype),ji.prototype=Object.create(di.prototype),Ui.prototype=Object.create(di.prototype),Object.assign(Ui.prototype,{initFromArray:function(t){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(t){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(t){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),ii.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Object.assign(Y.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign($.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),ut.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},$a.random16=function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},Object.assign(et.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},applyToBuffer:function(t,e,n){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(u.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new l),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t,e,n){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,i,o)}}),nt.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},s.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(ot.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(wr.prototype,{extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Xe(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new nn(this,t)}}),Object.assign(n.prototype,{fromAttribute:function(t,e,n){return console.error("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Object.assign(l.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.error("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Object.assign(i.prototype,{fromAttribute:function(t,e,n){return console.error("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Tt.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(lt.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)}}),Object.defineProperties(lt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(me.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Nt.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(An.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(dt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(Ct.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(Ct.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(jr.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(K.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE."+this.type+": .wrapRGB has been removed."),new q}}}),Object.defineProperties(vn.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Q.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(le.prototype,{supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(le.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=t}}}),Object.defineProperties(it.prototype,{cullFace:{get:function(){return this.renderReverseSided?Qi:Ki},set:function(t){var e=t!==Ki;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+e+"."),this.renderReverseSided=e}}}),Object.defineProperties(o.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Ir.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new Sr).load(t,function(t){e.setBuffer(t)}),this},Pr.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};var Ps={merge:function(t,e,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var r;e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,n)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},Ls={crossOrigin:void 0,loadTexture:function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new On;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},loadTextureCube:function(t,e,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Cn;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};t.WebGLRenderTargetCube=a,t.WebGLRenderTarget=o,t.WebGLRenderer=le,t.ShaderLib=cs,t.UniformsLib=us,t.UniformsUtils=as,t.ShaderChunk=ss,t.FogExp2=ue,t.Fog=ce,t.Scene=fe,t.LensFlare=he,t.Sprite=pe,t.LOD=me,t.SkinnedMesh=ye,t.Skeleton=ge,t.Bone=ve,t.Mesh=Ot,t.LineSegments=we,t.Line=_e,t.Points=Ee,t.Group=Me,t.VideoTexture=Se,t.DataTexture=W,t.CompressedTexture=Te,t.CubeTexture=c,t.CanvasTexture=Ce,t.DepthTexture=Oe,t.Texture=r,t.CompressedTextureLoader=Mn,t.DataTextureLoader=Sn,t.CubeTextureLoader=Cn,t.TextureLoader=On,t.ObjectLoader=nr,t.MaterialLoader=Jn,t.BufferGeometryLoader=$n,t.DefaultLoadingManager=bs,t.LoadingManager=xn,t.JSONLoader=er,t.ImageLoader=Tn,t.FontLoader=Mr,t.FileLoader=En,t.Loader=tr,t.Cache=ys,t.AudioLoader=Sr,t.SpotLightShadow=Pn,t.SpotLight=Ln,t.PointLight=Nn,t.RectAreaLight=Tr,t.HemisphereLight=In,t.DirectionalLightShadow=kn,t.DirectionalLight=Dn,t.AmbientLight=Fn,t.LightShadow=Rn,t.Light=An,t.StereoCamera=Cr,t.PerspectiveCamera=Nt,t.OrthographicCamera=kt,t.CubeCamera=Or,t.Camera=Lt,t.AudioListener=Ar,t.PositionalAudio=Rr,t.AudioContext=Ms,t.AudioAnalyser=Pr,t.Audio=Ir,t.VectorKeyframeTrack=Gn,t.StringKeyframeTrack=Yn,t.QuaternionKeyframeTrack=qn,t.NumberKeyframeTrack=Wn,t.ColorKeyframeTrack=Zn,t.BooleanKeyframeTrack=Xn,t.PropertyMixer=Lr,t.PropertyBinding=Nr,t.KeyframeTrack=Kn,t.AnimationUtils=_s,t.AnimationObjectGroup=kr,t.AnimationMixer=Fr,t.AnimationClip=Qn,t.Uniform=jr,t.InstancedBufferGeometry=Ur,t.BufferGeometry=Ct,t.GeometryIdCount=St,t.Geometry=Tt,t.InterleavedBufferAttribute=zr,t.InstancedInterleavedBuffer=Vr,t.InterleavedBuffer=Br,t.InstancedBufferAttribute=Gr,t.Face3=ft,t.Object3D=lt,t.Raycaster=Hr,t.Layers=st,t.EventDispatcher=e,t.Clock=Yr,t.QuaternionLinearInterpolant=Hn,t.LinearInterpolant=zn,t.DiscreteInterpolant=Bn,t.CubicInterpolant=Un,t.Interpolant=jn,t.Triangle=ct,t.Math=$a,t.Spherical=Xr,t.Cylindrical=Zr,t.Plane=nt,t.Frustum=rt,t.Sphere=tt,t.Ray=ot,t.Matrix4=u,t.Matrix3=et,t.Box3=$,t.Box2=Y,t.Line3=ut,t.Euler=at,t.Vector4=i,t.Vector3=l,t.Vector2=n,t.Quaternion=s,t.Color=q,t.MorphBlendMesh=Kr,t.ImmediateRenderObject=Qr,t.VertexNormalsHelper=Jr,t.SpotLightHelper=$r,t.SkeletonHelper=ti,t.PointLightHelper=ei,t.RectAreaLightHelper=ni,t.HemisphereLightHelper=ri,t.GridHelper=ii,t.PolarGridHelper=oi,t.FaceNormalsHelper=ai,t.DirectionalLightHelper=si,t.CameraHelper=li,t.BoxHelper=ui,t.ArrowHelper=ci,t.AxisHelper=fi,t.CatmullRomCurve3=di,t.CubicBezierCurve3=pi,t.QuadraticBezierCurve3=mi,t.LineCurve3=gi,t.ArcCurve=vi,t.EllipseCurve=gr,t.SplineCurve=vr,t.CubicBezierCurve=yr,t.QuadraticBezierCurve=br,t.LineCurve=pr,t.Shape=wr,t.Path=_r,t.ShapePath=xr,t.Font=Er,t.CurvePath=mr,t.Curve=dr,t.ShapeUtils=ms,t.SceneUtils=Rs,t.WireframeGeometry=Ae,t.ParametricGeometry=Ie,t.ParametricBufferGeometry=Re,t.TetrahedronGeometry=Ne,t.TetrahedronBufferGeometry=ke,t.OctahedronGeometry=De,t.OctahedronBufferGeometry=Fe,t.IcosahedronGeometry=je,t.IcosahedronBufferGeometry=Ue,t.DodecahedronGeometry=ze,t.DodecahedronBufferGeometry=Be,t.PolyhedronGeometry=Pe,t.PolyhedronBufferGeometry=Le,t.TubeGeometry=Ve,t.TubeBufferGeometry=Ge,t.TorusKnotGeometry=He,t.TorusKnotBufferGeometry=qe,t.TorusGeometry=We,t.TorusBufferGeometry=Ye,t.TextGeometry=Ze,t.SphereGeometry=Ke,t.SphereBufferGeometry=Qe,t.RingGeometry=Je,t.RingBufferGeometry=$e,t.PlaneGeometry=Rt,t.PlaneBufferGeometry=Pt,t.LatheGeometry=tn,t.LatheBufferGeometry=en,t.ShapeGeometry=nn,t.ShapeBufferGeometry=rn,t.ExtrudeGeometry=Xe,t.EdgesGeometry=on,t.ConeGeometry=ln,t.ConeBufferGeometry=un,t.CylinderGeometry=an,t.CylinderBufferGeometry=sn,t.CircleGeometry=cn,t.CircleBufferGeometry=fn,t.BoxGeometry=At,t.BoxBufferGeometry=It,t.ShadowMaterial=hn,t.SpriteMaterial=de,t.RawShaderMaterial=dn,t.ShaderMaterial=Q,t.PointsMaterial=xe,t.MultiMaterial=pn,t.MeshPhysicalMaterial=gn,t.MeshStandardMaterial=mn,t.MeshPhongMaterial=vn,t.MeshToonMaterial=yn;t.MeshNormalMaterial=bn,t.MeshLambertMaterial=_n,t.MeshDepthMaterial=J,t.MeshBasicMaterial=ht,t.LineDashedMaterial=wn,t.LineBasicMaterial=be,t.Material=K,t.Float64BufferAttribute=xt,t.Float32BufferAttribute=wt,t.Uint32BufferAttribute=_t,t.Int32BufferAttribute=bt,t.Uint16BufferAttribute=yt,t.Int16BufferAttribute=vt,t.Uint8ClampedBufferAttribute=gt,t.Uint8BufferAttribute=mt,t.Int8BufferAttribute=pt,t.BufferAttribute=dt,t.REVISION=Yi,t.MOUSE=Xi,t.CullFaceNone=Zi,t.CullFaceBack=Ki,t.CullFaceFront=Qi,t.CullFaceFrontBack=3,t.FrontFaceDirectionCW=Ji,t.FrontFaceDirectionCCW=1,t.BasicShadowMap=0,t.PCFShadowMap=$i,t.PCFSoftShadowMap=to,t.FrontSide=eo,t.BackSide=no,t.DoubleSide=ro,t.FlatShading=io,t.SmoothShading=oo,t.NoColors=ao,t.FaceColors=so,t.VertexColors=lo,t.NoBlending=uo,t.NormalBlending=co,t.AdditiveBlending=fo,t.SubtractiveBlending=ho,t.MultiplyBlending=po,t.CustomBlending=mo,t.AddEquation=go,t.SubtractEquation=vo,t.ReverseSubtractEquation=yo,t.MinEquation=bo,t.MaxEquation=_o,t.ZeroFactor=wo,t.OneFactor=xo,t.SrcColorFactor=Eo,t.OneMinusSrcColorFactor=Mo,t.SrcAlphaFactor=So,t.OneMinusSrcAlphaFactor=To,t.DstAlphaFactor=Co,t.OneMinusDstAlphaFactor=Oo,t.DstColorFactor=Ao,t.OneMinusDstColorFactor=Io,t.SrcAlphaSaturateFactor=Ro,t.NeverDepth=Po,t.AlwaysDepth=Lo,t.LessDepth=No,t.LessEqualDepth=ko,t.EqualDepth=Do,t.GreaterEqualDepth=Fo,t.GreaterDepth=jo,t.NotEqualDepth=Uo,t.MultiplyOperation=zo,t.MixOperation=Bo,t.AddOperation=Vo,t.NoToneMapping=Go,t.LinearToneMapping=Ho,t.ReinhardToneMapping=qo,t.Uncharted2ToneMapping=Wo,t.CineonToneMapping=Yo,t.UVMapping=300,t.CubeReflectionMapping=Xo,t.CubeRefractionMapping=Zo,t.EquirectangularReflectionMapping=Ko,t.EquirectangularRefractionMapping=Qo,t.SphericalReflectionMapping=Jo,t.CubeUVReflectionMapping=$o,t.CubeUVRefractionMapping=ta,t.RepeatWrapping=ea,t.ClampToEdgeWrapping=na,t.MirroredRepeatWrapping=ra,t.NearestFilter=ia,t.NearestMipMapNearestFilter=oa,t.NearestMipMapLinearFilter=aa,t.LinearFilter=sa,t.LinearMipMapNearestFilter=la,t.LinearMipMapLinearFilter=ua,t.UnsignedByteType=ca,t.ByteType=fa,t.ShortType=ha,t.UnsignedShortType=da,t.IntType=pa,t.UnsignedIntType=ma,t.FloatType=ga,t.HalfFloatType=va,t.UnsignedShort4444Type=ya,t.UnsignedShort5551Type=ba,t.UnsignedShort565Type=_a,t.UnsignedInt248Type=wa,t.AlphaFormat=xa,t.RGBFormat=Ea,t.RGBAFormat=Ma,t.LuminanceFormat=Sa,t.LuminanceAlphaFormat=Ta,t.RGBEFormat=Ca,t.DepthFormat=Oa,t.DepthStencilFormat=Aa,t.RGB_S3TC_DXT1_Format=Ia,t.RGBA_S3TC_DXT1_Format=Ra,t.RGBA_S3TC_DXT3_Format=Pa,t.RGBA_S3TC_DXT5_Format=La,t.RGB_PVRTC_4BPPV1_Format=Na,t.RGB_PVRTC_2BPPV1_Format=ka,t.RGBA_PVRTC_4BPPV1_Format=Da,t.RGBA_PVRTC_2BPPV1_Format=Fa,t.RGB_ETC1_Format=ja,t.LoopOnce=2200,t.LoopRepeat=Ua,t.LoopPingPong=2202,t.InterpolateDiscrete=2300,t.InterpolateLinear=2301,t.InterpolateSmooth=2302,t.ZeroCurvatureEnding=za,t.ZeroSlopeEnding=2401,t.WrapAroundEnding=2402,t.TrianglesDrawMode=Ba,t.TriangleStripDrawMode=Va,t.TriangleFanDrawMode=Ga,t.LinearEncoding=Ha,t.sRGBEncoding=qa,t.GammaEncoding=Wa,t.RGBEEncoding=Ya,t.LogLuvEncoding=3003,t.RGBM7Encoding=Xa,t.RGBM16Encoding=Za,t.RGBDEncoding=Ka,t.BasicDepthPacking=Qa,t.RGBADepthPacking=Ja,t.CubeGeometry=At,t.Face4=yi,t.LineStrip=0,t.LinePieces=1,t.MeshFaceMaterial=bi,t.PointCloud=_i,t.Particle=wi,t.ParticleSystem=xi,t.PointCloudMaterial=Ei,t.ParticleBasicMaterial=Mi,t.ParticleSystemMaterial=Si,t.Vertex=Ti,t.DynamicBufferAttribute=Ci,t.Int8Attribute=Oi,t.Uint8Attribute=Ai,t.Uint8ClampedAttribute=Ii,t.Int16Attribute=Ri,t.Uint16Attribute=Pi,t.Int32Attribute=Li,t.Uint32Attribute=Ni,t.Float32Attribute=ki,t.Float64Attribute=Di,t.ClosedSplineCurve3=Fi,t.SplineCurve3=ji,t.Spline=Ui,t.BoundingBoxHelper=zi,t.EdgesHelper=Bi,t.WireframeHelper=Vi,t.XHRLoader=Gi,t.BinaryTextureLoader=Hi,t.GeometryUtils=Ps,t.ImageUtils=Ls,t.Projector=qi,t.CanvasRenderer=Wi,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){t.exports={default:n(1005),__esModule:!0}},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}n.d(e,"a",function(){return w}),n.d(e,"b",function(){return x});var i=n(55),o=n.n(i),a=n(4),s=n.n(a),l=n(23),u=n.n(l),c=n(17),f=n.n(c),h=n(3),d=n.n(h),p=n(0),m=n.n(p),g=n(12),v=n.n(g),y=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=f()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(u()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=s.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_=function(t){var e=t.glyph,n=t.className,i=void 0===n?"":n,o=r(t,["glyph","className"]);return m.a.createElement("span",b({className:v()(i,"glyphicon","novaicon-"+e),"aria-hidden":"true"},o))};_.propTypes={glyph:d.a.string.isRequired,className:d.a.string},e.c=_;var w={Login:"custom-login",Logout:"custom-logout",Home:"places-home-1",Settings:"cog-check",AppInformation:"interface-information",Help:"interface-question-mark",Contact:"phone-outgoing",User:"user",Map:"location-map",Panorama:"panorama-horizontal",Close:"close",Maximize:"expand-diagonal-3",Restore:"shrink-diagonal-1",Expand:"navigation-up-3",Collapse:"navigation-down-3",Search:"custom-magnify",Information:"interface-information",Locate:"cursor-target-2",Delete:"bin",Menu:"navigation-drawer-2",MenuMore:"navigation-show-more-horizontal",Layers:"content-layers-show",Display:"hide",Oblique:"custom-trapezoid",Nadir:"custom-square",Measure:"ruler-1",Compass:"compass-2",Timestamp:"custom-clock",TimeTravel:"time-view",ToClipboard:"file-tasks-add",ZoomIn:"add-circle-1",ZoomOut:"subtract-circle-1",Download:"data-download-8",Upload:"data-upload-8",DepthMap:"custom-ruler-depth",SmartClick:"custom-ruler-smartclick",ManualMeasurement:"custom-ruler-other",DepthMapSmall:"custom-measure-method-depth",SmartClickSmall:"custom-measure-method-smartclick",ManualMeasurementSmall:"forward-intersection",WithoutDepth:"panorama-horizontal",WithDepth:"custom-panorama-horizontal-shadow",MeasurePoint:"custom-dot",MeasureLine:"organization-graph",MeasurePolygon:"organization-flowchart-1",MeasureCircle:"custom-circle",MeasureOrthogonal:"ruler-2",MeasureHeight:"cursor-move-up-1",QuestionMark:"interface-question-mark",CheckCircle:"check-circle-2",AlertCircle:"interface-alert-circle",AlertTriangle:"interface-alert-triangle",ObliqueDirection:"custom-camera",FileNew:"file-new-1",SubFiles:"files-1",Save:"data-download-2",Load:"data-upload-2",Edit:"pencil-2",AddRowUp:"move-up-1",AddRowDown:"move-down-1",ReportBlurring:"chat-bubble-square-alert-2",Elevation:"water-level-up",AttributeInfo:"location-pin-information-1",Undo:"text-undo"},x={};o()(w).forEach(function(t){var e=y(t,2),n=e[0],r=e[1];x[n]=function(t){return _(b({glyph:r},t))}})},function(t,e,n){"use strict";function r(){var t=l(),e=t.basicToken,n=t.tidToken,r=t.bearerToken;return e?i(e):r?o(r):n?a(n):void 0}function i(t){return{Authorization:"Basic "+t}}function o(t){return{Authorization:"Bearer "+t}}function a(t){return{Authorization:"TID "+t}}e.b=r,e.a=i;var s=n(250),l=function(){return Object(s.a)().getState().login}},function(t,e,n){"use strict";function r(t,e,n){var r=0;return h.default.Children.map(t,function(t){return h.default.isValidElement(t)?e.call(n,t,r++):t})}function i(t,e,n){var r=0;h.default.Children.forEach(t,function(t){h.default.isValidElement(t)&&e.call(n,t,r++)})}function o(t){var e=0;return h.default.Children.forEach(t,function(t){h.default.isValidElement(t)&&++e}),e}function a(t,e,n){var r=0,i=[];return h.default.Children.forEach(t,function(t){h.default.isValidElement(t)&&e.call(n,t,r++)&&i.push(t)}),i}function s(t,e,n){var r=0,i=void 0;return h.default.Children.forEach(t,function(t){i||h.default.isValidElement(t)&&e.call(n,t,r++)&&(i=t)}),i}function l(t,e,n){var r=0,i=!0;return h.default.Children.forEach(t,function(t){i&&h.default.isValidElement(t)&&(e.call(n,t,r++)||(i=!1))}),i}function u(t,e,n){var r=0,i=!1;return h.default.Children.forEach(t,function(t){i||h.default.isValidElement(t)&&e.call(n,t,r++)&&(i=!0)}),i}function c(t){var e=[];return h.default.Children.forEach(t,function(t){h.default.isValidElement(t)&&e.push(t)}),e}e.__esModule=!0;var f=n(0),h=function(t){return t&&t.__esModule?t:{default:t}}(f);e.default={map:r,forEach:i,count:o,find:s,filter:a,every:l,some:u,toArray:c},t.exports=e.default},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(43),i=n(128);t.exports=n(42)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(25),i=n(66),o=n(65),a=n(129)("src"),s=Function.toString,l=(""+s).split("toString");n(94).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(u&&(o(n,a)||i(n,a,t[e]?""+t[e]:l.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){var r=n(2),i=n(29),o=n(96),a=/"/g,s=function(t,e,n,r){var i=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),r(r.P+r.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e,n){var r=n(861);r.defaultDatum="WGS84",r.Proj=n(308),r.WGS84=new r.Proj("WGS84"),r.Point=n(875),r.toPoint=n(440),r.defs=n(436),r.transform=n(439),r.mgrs=n(441),r.version=n(876).version,n(877)(r),t.exports=r},function(t,e,n){t.exports={default:n(973),__esModule:!0}},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=p()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(h.a?h()(t,e):t.__proto__=e)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(){return b.instance&&b.instance.context?b.instance.context.intl:void 0}function s(){for(var t=a(),e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t?t.formatMessage.apply(t,n):n[0].defaultMessage||n[0].id}function l(){var t=a();return t?t.formatNumber.apply(t,arguments):arguments.length<=0?void 0:arguments[0]}e.b=s,e.c=l;var u=n(7),c=n.n(u),f=n(6),h=n.n(f),d=n(5),p=n.n(d),m=n(1),g=n.n(m),v=n(31),y=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),g()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),b=function t(){o(this,t)};b.instance=null;var _=function(t){function e(){return o(this,e),r(this,(e.__proto__||c()(e)).apply(this,arguments))}return i(e,t),y(e,[{key:"componentWillMount",value:function(){b.instance=this}},{key:"render",value:function(){return!1}}]),e}(v.a);e.a=_},function(t,e,n){var r=n(182),i=n(96);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(183),i=n(128),o=n(72),a=n(95),s=n(65),l=n(400),u=Object.getOwnPropertyDescriptor;e.f=n(42)?u:function(t,e){if(t=o(t),e=a(e,!0),l)try{return u(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(65),i=n(47),o=n(283)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports={default:n(921),__esModule:!0}},function(t,e,n){t.exports={default:n(975),__esModule:!0}},function(t,e,n){"use strict";var r=function(){};t.exports=r},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}n.d(e,"a",function(){return C});var s=n(7),l=n.n(s),u=n(6),c=n.n(u),f=n(5),h=n.n(f),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(3),y=n.n(v),b=n(0),_=n.n(b),w=n(24),x=(n.n(w),n(15)),E=(n.n(x),n(31)),M=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),T=function(t){function e(){return i(this,e),o(this,(e.__proto__||l()(e)).apply(this,arguments))}return a(e,t),S(e,[{key:"render",value:function(){var t=this.props,e=t.id,n=t.defaultMessage,i=t.formatted,o=void 0!==i&&i,a=(t.active,t.activeKey,t.activeHref,r(t,["id","defaultMessage","formatted","active","activeKey","activeHref"])),s=void 0;return s=o?n:_.a.createElement(x.FormattedMessage,{id:e,defaultMessage:n}),_.a.createElement(w.Tooltip,M({id:"tooltip-"+e},a),s)}}]),e}(E.a);e.b=T;var C=function(t){function e(){return i(this,e),o(this,(e.__proto__||l()(e)).apply(this,arguments))}return a(e,t),S(e,[{key:"render",value:function(){var t=this.props,e=t.placement,n=t.children,i=t.rootClose,o=t.trigger,a=t.container,s=r(t,["placement","children","rootClose","trigger","container"]),l=this.context.rootElement;return a&&(l=a),_.a.createElement(w.OverlayTrigger,M({placement:e,container:l,rootClose:i,trigger:o},{overlay:_.a.createElement(T,s),rootClose:!0}),n)}}]),e}(E.a);C.contextTypes={rootElement:y.a.object,intl:y.a.object}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"INIT_CLIENT",function(){return f}),n.d(e,"SET_SERVICE_URL",function(){return h}),n.d(e,"DESTROY_CLIENT",function(){return d}),n.d(e,"LOG",function(){return p}),n.d(e,"ActionTypes",function(){return m}),n.d(e,"EventTypes",function(){return g}),n.d(e,"initClient",function(){return v}),n.d(e,"destroyClient",function(){return y}),n.d(e,"setServiceUrl",function(){return b}),n.d(e,"log",function(){return _}),n.d(e,"logLogIn",function(){return w}),n.d(e,"logLogOut",function(){return x}),n.d(e,"logClickControl",function(){return E}),n.d(e,"logOpenViewer",function(){return M}),n.d(e,"logCloseViewer",function(){return S}),n.d(e,"logZoomMap",function(){return T}),n.d(e,"logSelectBaseLayer",function(){return C}),n.d(e,"logToggleOverlay",function(){return O}),n.d(e,"logToggleControl",function(){return A}),n.d(e,"logOpenPanorama",function(){return I}),n.d(e,"logCopyLink",function(){return R}),n.d(e,"logSaveImage",function(){return P}),n.d(e,"logSetValue",function(){return L}),n.d(e,"logSearch",function(){return N});var r=n(4),i=n.n(r),o=n(16),a=(n.n(o),n(15)),s=(n.n(a),n(556)),l=n(71),u=i.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=Object(a.defineMessages)({clientNotInitialized:{id:"Logging.clientNotInitialized",defaultMessage:"Client not initialized"}}),f="@@logging/INIT_CLIENT",h="@@logging/SET_SERVICE_URL",d="@@logging/DESTROY_CLIENT",p="@@logging/LOG",m={INIT_CLIENT:f,DESTROY_CLIENT:d,SET_SERVICE_URL:h,LOG:p},g={LOG_IN:"log_in",LOG_OUT:"log_out",CLICK_CONTROL:"click_control",OPEN_VIEWER:"open_viewer",CLOSE_VIEWER:"close_viewer",ZOOM_MAP:"zoom_map",SELECT_BASE_LAYER:"select_base_layer",TOGGLE_OVERLAY:"toggle_overlay",TOGGLE_CONTROL:"toggle_control",OPEN_PANORAMA:"open_panorama",COPY_LINK:"copy_link",SAVE_IMAGE:"save_image",SET_VALUE:"set_value",SEARCH:"search"},v=Object(o.createAction)(f),y=Object(o.createAction)(d),b=function(t){return function(e,n){var r=n().logging.client;e(Object(o.createAction)(h,function(){return r?(r.serviceUrl=t,null):new Error(Object(l.b)(c.clientNotInitialized))})())}},_=function(t){return function(e,n){var r=n().logging.client;e(Object(o.createAction)(p,function(){return r?(r.log(new s.b(t)),null):new Error(Object(l.b)(c.clientNotInitialized))})())}},w=function(t,e){return _(u({eventType:g.LOG_IN,detail:{username:t}},e))},x=function(t,e){return _(u({eventType:g.LOG_OUT,detail:{username:t}},e))},E=function(t,e){return _(u({eventType:g.CLICK_CONTROL,detail:{control:t}},e))},M=function(t,e){return _(u({eventType:g.OPEN_VIEWER,detail:{viewerType:t}},e))},S=function(t,e){return _(u({eventType:g.CLOSE_VIEWER,detail:{viewerType:t}},e))},T=function(t,e){return _(u({eventType:g.ZOOM_MAP,detail:{resolution:t}},e))},C=function(t,e,n){return _(u({eventType:g.SELECT_BASE_LAYER,detail:{layerId:t,name:e}},n))},O=function(t,e,n,r){return _(u({eventType:g.TOGGLE_OVERLAY,detail:{layerId:t,name:e,visible:n}},r))},A=function(t,e,n){return _(u({eventType:g.TOGGLE_CONTROL,detail:{control:t,visible:e}},n))},I=function(t,e){return _(u({eventType:g.OPEN_PANORAMA,detail:{id:t}},e))},R=function(t,e){return _(u({eventType:g.COPY_LINK,detail:{link:t}},e))},P=function(t,e){return _(u({eventType:g.SAVE_IMAGE,detail:{type:t}},e))},L=function(t,e,n){return _(u({eventType:g.SET_VALUE,detail:{key:t,value:e}},n))},N=function(t,e,n){return _(u({eventType:g.SEARCH,detail:{source:t,fromHistory:e}},n))};e.default={initClient:v,destroyClient:y,setServiceUrl:b,log:_,logLogIn:w,logLogOut:x,logClickControl:E,logOpenViewer:M,logCloseViewer:S,logZoomMap:T,logSelectBaseLayer:C,logToggleOverlay:O,logToggleControl:A,logOpenPanorama:I,logCopyLink:R,logSaveImage:P,logSetValue:L,logSearch:N}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ADD_PANORAMA_VIEWER",function(){return i}),n.d(e,"REMOVE_PANORAMA_VIEWER",function(){return o}),n.d(e,"UPDATE_PANORAMA_VIEWER_PARAMS",function(){return a}),n.d(e,"CLONE_PANORAMA_VIEWER",function(){return s}),n.d(e,"UPDATE_PANORAMA_VIEWER",function(){return l}),n.d(e,"UPDATE_RECORDING",function(){return u}),n.d(e,"UPDATE_PANORAMA_ORIENTATION",function(){return c}),n.d(e,"TOGGLE_UI_STATE",function(){return f}),n.d(e,"SET_ACTIVE_PANEL",function(){return h}),n.d(e,"SET_CUBE_PROGRAM",function(){return d}),n.d(e,"addPanoramaViewer",function(){return p}),n.d(e,"removePanoramaViewer",function(){return m}),n.d(e,"clonePanoramaViewer",function(){return v}),n.d(e,"updatePanoramaViewer",function(){return y}),n.d(e,"updateRecording",function(){return b}),n.d(e,"updatePanoramaOrientation",function(){return _}),n.d(e,"toggleUiState",function(){return w}),n.d(e,"setActivePanel",function(){return x}),n.d(e,"setCubeProgram",function(){return E}),n.d(e,"ActionTypes",function(){return M});var r=n(16),i=(n.n(r),"@@PanoramaViewer/ADD_PANORAMA_VIEWER"),o="@@PanoramaViewer/REMOVE_PANORAMA_VIEWER",a="@@PanoramaViewer/UPDATE_PANORAMA_VIEWER_PARAMS",s="@@PanoramaViewer/CLONE_PANORAMA_VIEWER",l="@@PanoramaViewer/UPDATE_PANORAMA_VIEWER",u="@@PanoramaViewer/UPDATE_RECORDING",c="@@PanoramaViewer/UPDATE_PANORAMA_ORIENTATION",f="@@PanoramaViewer/TOGGLE_UI_STATE",h="@@PanoramaViewer/SET_ACTIVE_PANEL",d="@@PanoramaViewer/SET_CUBE_PROGRAM",p=Object(r.createAction)(i,function(t){return{id:t,newEntry:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}}}),m=Object(r.createAction)(o,function(t){return{id:t}}),g=Object(r.createAction)(a,function(t,e){return{wid:t,options:e}}),v=Object(r.createAction)(s,function(t,e){return{toId:t,fromId:e}}),y=Object(r.createAction)(l,function(t,e){return{id:t,newState:e}}),b=Object(r.createAction)(u,function(t,e){return{id:t,recording:e}}),_=Object(r.createAction)(c,function(t,e){return{id:t,yawOffset:e.yawOffset,yaw:e.yaw,hFov:e.hFov,pitch:e.pitch,xyz:e.xyz}}),w=Object(r.createAction)(f,function(t,e,n,r){return{id:t,componentId:e,property:n,enabled:r}}),x=Object(r.createAction)(h,function(t,e){return{id:t,panel:e}}),E=Object(r.createAction)(d,function(t,e){return{id:t,value:e}}),M={ADD_PANORAMA_VIEWER:i,REMOVE_PANORAMA_VIEWER:o,UPDATE_PANORAMA_VIEWER_PARAMS:a,CLONE_PANORAMA_VIEWER:s,UPDATE_PANORAMA_VIEWER:l,UPDATE_RECORDING:u,UPDATE_PANORAMA_ORIENTATION:c,TOGGLE_UI_STATE:f,SET_ACTIVE_PANEL:h,SET_CUBE_PROGRAM:d};e.default={addPanoramaViewer:p,removePanoramaViewer:m,updatePanoramaViewerParams:g,clonePanoramaViewer:v,updatePanoramaViewer:y,updateRecording:b,updatePanoramaOrientation:_,toggleUiState:w,setActivePanel:x,setCubeProgram:E}},function(t,e,n){var r=n(57);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";var r=n(29);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){var r=n(101),i=n(444),o=n(317),a=Object.defineProperty;e.f=n(86)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(139)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports={default:n(931),__esModule:!0}},function(t,e,n){"use strict";n.d(e,"m",function(){return x}),n.d(e,"j",function(){return E}),n.d(e,"i",function(){return M}),n.d(e,"d",function(){return S}),n.d(e,"e",function(){return T}),n.d(e,"g",function(){return C}),n.d(e,"f",function(){return O}),n.d(e,"b",function(){return I}),n.d(e,"l",function(){return L}),n.d(e,"k",function(){return j}),n.d(e,"c",function(){return z}),n.d(e,"a",function(){return B}),n.d(e,"h",function(){return V});var r=n(70),i=n.n(r),o=n(77),a=n.n(o),s=n(23),l=n.n(s),u=n(17),c=n.n(u),f=n(1038),h=n.n(f),d=n(49),p=(n.n(d),n(20)),m=n.n(p),g=n(33),v=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=c()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(l()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=a.a,b=function(){return new Float64Array(2)},_=function(t){return d.vec3.copy(b(),t)},w=function(){return new Float64Array(3)},x=function(t,e){if(!t||!e)throw new Error("geometryUtils.yawFromOrigin():: one of points does not exist");var n=v(t,2),r=n[0],i=n[1],o=v(e,2),a=o[0],s=o[1],l=a-r,u=s-i,c=Math.atan2(l,u);return Object(g.f)(c,0,2*Math.PI)},E=function(t,e){if(!t||!e)throw new Error("geometryUtils.pitchFromOrigin():: one of points does not exist");if(!t[2]||!e[2])return 0;var n=v(t,3),r=n[0],i=n[1],o=n[2],a=v(e,3),s=a[0],l=a[1],u=a[2],c=s-r,f=l-i,h=u-o,d=Math.atan2(h,Math.sqrt(c*c+f*f));return Object(g.c)(d,-Math.PI/2,Math.PI/2)},M=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Array.isArray(t)&&(2===t.length||3===t.length)&&y(t[0])&&y(t[1])&&(3===t.length&&y(t[2])||!e)},S=function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]},T=function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2,(t[2]+e[2])/2]},C=d.vec3.distance,O=d.vec2.distance,A=function(t){var e=t.length;if(e<3)return 0;for(var n=0,r=t[e-1],i=void 0,o=0;o<e;++o)i=t[o],n+=r[0]*i[1]-r[1]*i[0],r=i;return n/2},I=function(t){return Math.abs(A(t))},R=function(t){var e=t.length;if(e<3)return null;for(var n=w(),r=w(),i=w(),o=w(),a=0;a<e;++a){var s=t[a],l=t[(a-1+e)%e],u=t[(a+1)%e];d.vec3.cross(r,d.vec3.subtract(i,l,s),d.vec3.subtract(o,u,s));var c=.5*d.vec3.length(r),f=d.vec3.distance(l,s)+d.vec3.distance(u,l)+d.vec3.distance(s,u);Math.sqrt(Math.abs(c))>1e-6*f&&d.vec3.add(n,n,r)}var h=d.vec3.length(r);return Math.abs(h)<1e-6?null:d.vec3.scale(r,r,1/h)},P=function(t){var e=d.vec3.normalize(w(),t),n=d.vec3.cross(w(),e,Math.abs(e[0])<Math.abs(e[1])?[1,0,0]:[0,-1,0]);d.vec3.normalize(n,n);var r=d.vec3.cross(w(),n,e);return d.vec3.normalize(r,r),d.mat3.fromValues(r[0],n[0],e[0],r[1],n[1],e[1],r[2],n[2],e[2])},L=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.edges,r=e.normal,i=e.allowUnusedPoints,o=void 0!==i&&i;if(!t||!Array.isArray(t)||t.length<3)return null;var a=m.a.isEqual(t[0],t[t.length-1])?t.slice(0,-1):t,s=a.length;if(s<3)return null;var l=n||new Array(s).fill(0).map(function(t,e){return[e,(e+1)%s]}),u=r||R(a);if(!u)return null;var f=P(u),p=a.map(function(t){return d.vec3.transformMat3(w(),t,f)}),g=p.map(_),y=h()(g,l,{delaunay:!0,interior:!0,exterior:!1,infinity:!0});if(y&&!o){var b=new Array(a.length).fill(!1),x=!0,E=!1,M=void 0;try{for(var S,T=c()(y);!(x=(S=T.next()).done);x=!0){var C=v(S.value,3),O=C[0],A=C[1],I=C[2];b[O]=!0,b[A]=!0,b[I]=!0}}catch(t){E=!0,M=t}finally{try{!x&&T.return&&T.return()}finally{if(E)throw M}}if(b.some(function(t){return!t}))return null}return y},N=w(),k=w(),D=w(),F=function(t,e,n){return d.vec3.cross(N,d.vec3.subtract(k,e,t),d.vec3.subtract(D,n,t)),d.vec3.length(N)},j=function(t,e,n){return Math.abs(F(t,e,n))};j.Heron=function(t,e,n){var r=i()(e[0]-t[0],e[1]-t[1],e[2]-t[2]),o=i()(n[0]-e[0],n[1]-e[1],n[2]-e[2]),a=i()(t[0]-n[0],t[1]-n[1],t[2]-n[2]),s=.5*(r+o+a);return Math.sqrt(s*(s-r)*(s-o)*(s-a))};var U=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.triangles,r=e.edges,i=e.normal;if(t.length<3)return 0;var o=n||L(t,{edges:r,normal:i});if(!o)return NaN;var a=0,s=!0,l=!1,u=void 0;try{for(var f,h=c()(o);!(s=(f=h.next()).done);s=!0){var d=v(f.value,3),p=d[0],m=d[1],g=d[2];a+=F(t[p],t[m],t[g])}}catch(t){l=!0,u=t}finally{try{!s&&h.return&&h.return()}finally{if(l)throw u}}return a/2},z=function(t,e){return Math.abs(U(t,e))},B=function(t,e,n){return d.vec3.angle(d.vec3.sub(w(),e,t),d.vec3.sub(w(),n,t))},V=function(t,e,n){var r=d.vec3.sub(w(),e,t);d.vec3.normalize(r,r);var i=d.vec3.sub(w(),n,t),o=d.vec3.dot(r,i),a=d.vec3.scale(w(),r,o);return d.vec3.add(w(),t,a)}},function(t,e,n){"use strict";function r(){var t=a()(document.scripts),e=t.find(function(t){return t.src.indexOf("StreetSmartApi.js")>1}),n=e?e.getAttribute("src"):"";return n.substring(0,n.lastIndexOf("/")+1)}function i(t){return u=u||r(),l.a.resolve(u,"./"+t)}e.a=i;var o=n(30),a=n.n(o),s=n(1045),l=n.n(s),u=null},function(t,e,n){"use strict";var r=function(t,e,n,r,i,o,a,s){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;l=new Error(e.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};t.exports=r},function(t,e,n){"use strict";var r=n(15);n.n(r);e.a=Object(r.defineMessages)({basemap:{id:"tooltips.basemap",defaultMessage:"Base Map"},overlays:{id:"tooltips.overlays",defaultMessage:"Overlays"},elevation:{id:"tooltips.elevation",defaultMessage:"Elevation"},elevationNotPossibleCurrentSrs:{id:"tooltips.elevationNotPossibleCurrentSrs",defaultMessage:"Elevation not available with current selected SRS"},display:{id:"tooltips.display",defaultMessage:"Display"},attributeinfo:{id:"tooltips.attributeinfo",defaultMessage:"Object info"},reset:{id:"tooltips.reset",defaultMessage:"Reset"},oblique:{id:"tooltips.oblique",defaultMessage:"Show oblique viewer"},openOblique:{id:"tooltips.openOblique",defaultMessage:"Click the map to open an oblique image!"},measure:{id:"tooltips.measure",defaultMessage:"Measure"},copyMapLink:{id:"tooltips.copyMapLink",defaultMessage:"Copy map link to clipboard"},mapImage:{id:"tooltips.mapImage",defaultMessage:"Download map image"},compass:{id:"tooltips.compass",defaultMessage:"Compass"},zoomInButton:{id:"tooltips.zoomIn",defaultMessage:"Zoom in"},zoomOutButton:{id:"tooltips.zoomOut",defaultMessage:"Zoom out"},timetravel:{id:"tooltips.timetravel",defaultMessage:"Time Travel"},cycloramaImage:{id:"tooltips.cycloramaImage",defaultMessage:"Download Cyclorama Image"},copyCycloramaLink:{id:"tooltips.copyCycloramaLink",defaultMessage:"Copy Cyclorama link to clipboard"},obliqueImage:{id:"tooltips.obliqueImage",defaultMessage:"Download oblique image"},copyObliqueLink:{id:"tooltips.copyObliqueLink",defaultMessage:"Copy oblique link to clipboard"},obliqueRotateView:{id:"tooltips.obliqueRotateView",defaultMessage:"Rotate view"},obliqueNadirSwitch:{id:"tooltips.obliqueNadirSwitch",defaultMessage:"Switch between oblique and nadir images"},imageInfo:{id:"tooltips.imageInfo",defaultMessage:"Open image info"},mapLocation:{id:"tooltips.mapLocation",defaultMessage:"Go to map location"},goToDashboard:{id:"tooltips.goToDashboard",defaultMessage:"Go to dashboard"},goToMap:{id:"tooltips.goToMap",defaultMessage:"Go to map"},openMenu:{id:"tooltips.openMenu",defaultMessage:"Open menu"},closeMenu:{id:"tooltips.closeMenu",defaultMessage:"Close menu"},search:{id:"tooltips.search",defaultMessage:"Search"},downloadAllActive:{id:"tooltips.downloadAllActive",defaultMessage:"Download all active windows"},newMeasurement:{id:"tooltips.newMeasurement",defaultMessage:"New measurement"},saveMeasurement:{id:"tooltips.saveMeasurement",defaultMessage:"Save measurement"},collapseMeasurementPanel:{id:"tooltips.collapseMeasurementPanel",defaultMessage:"Collapse"},expandMeasurementPanel:{id:"tooltips.expandMeasurementPanel",defaultMessage:"Expand"},removeMeasurementPoint:{id:"tooltips.removeMeasurementPoint",defaultMessage:"Delete"},removeObservation:{id:"tooltips.removeObservation",defaultMessage:"Delete"},cancelMeasurementPoint:{id:"tooltips.cancelMeasurementPoint",defaultMessage:"Cancel"},wrongMeasurementPoint:{id:"tooltips.wrongMeasurementPoint",defaultMessage:"Show problem description"},insertAbove:{id:"tooltips.insertAbove",defaultMessage:"Insert above"},insertBelow:{id:"tooltips.insertBelow",defaultMessage:"Insert below"},reportBlurring:{id:"tooltips.reportBlurring",defaultMessage:"Report blurring issue"},toggleMeasureMethodManual:{id:"tooltips.toggleMeasureMethodManual",defaultMessage:"Measure method: Forward Intersection"},toggleMeasureMethodSmartClick:{id:"tooltips.toggleMeasureMethodSmartClick",defaultMessage:"Measure method: Smart Click"},toggleMeasureMethodDepthMap:{id:"tooltips.toggleMeasureMethodDepthMap",defaultMessage:"Measure method: Measure Smart"},toggleDepthMapWithDepth:{id:"tooltips.toggleDepthMapWithDepth",defaultMessage:"Measure method: With Depth"},toggleDepthMapWithoutDepth:{id:"tooltips.toggleDepthMapWithoutDepth",defaultMessage:"Measure method: Without Depth"}})},function(t,e,n){"use strict";var r=n(145);n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return r.b}),n.d(e,"c",function(){return r.c}),n.d(e,"d",function(){return r.d}),n.d(e,"e",function(){return r.g}),n.d(e,"f",function(){return r.h});var i=n(342);n.d(e,"k",function(){return i.a}),n.d(e,"l",function(){return i.b});var o=n(1361);n.d(e,"g",function(){return o.a}),n.d(e,"h",function(){return o.b}),n.d(e,"i",function(){return o.c}),n.d(e,"j",function(){return o.d}),n.d(e,"m",function(){return o.e}),n.d(e,"n",function(){return o.f}),n.d(e,"o",function(){return o.g}),n.d(e,"p",function(){return o.h});n(211)},function(t,e,n){"use strict";function r(t){return t}function i(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}function o(t){var n=65536,r=[],i=t.length,o=e.getTypeOf(t),a=0,s=!0;try{switch(o){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,u(0))}}catch(t){s=!1}if(!s){for(var l="",c=0;c<t.length;c++)l+=String.fromCharCode(t[c]);return l}for(;a<i&&n>1;)try{"array"===o||"nodebuffer"===o?r.push(String.fromCharCode.apply(null,t.slice(a,Math.min(a+n,i)))):r.push(String.fromCharCode.apply(null,t.subarray(a,Math.min(a+n,i)))),a+=n}catch(t){n=Math.floor(n/2)}return r.join("")}function a(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}var s=n(181),l=n(396),u=n(398);e.string2binary=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(255&t.charCodeAt(n));return e},e.arrayBuffer2Blob=function(t,n){e.checkSupport("blob"),n=n||"application/zip";try{return new Blob([t],{type:n})}catch(e){try{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=new r;return i.append(t),i.getBlob(n)}catch(t){throw new Error("Bug : can't construct the Blob.")}}},e.applyFromCharCode=o;var c={};c.string={string:r,array:function(t){return i(t,new Array(t.length))},arraybuffer:function(t){return c.string.uint8array(t).buffer},uint8array:function(t){return i(t,new Uint8Array(t.length))},nodebuffer:function(t){return i(t,u(t.length))}},c.array={string:o,array:r,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return u(t)}},c.arraybuffer={string:function(t){return o(new Uint8Array(t))},array:function(t){return a(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:r,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return u(new Uint8Array(t))}},c.uint8array={string:o,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:r,nodebuffer:function(t){return u(t)}},c.nodebuffer={string:o,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return c.nodebuffer.uint8array(t).buffer},uint8array:function(t){return a(t,new Uint8Array(t.length))},nodebuffer:r},e.transformTo=function(t,n){if(n||(n=""),!t)return n;e.checkSupport(t);var r=e.getTypeOf(n);return c[r][t](n)},e.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":s.nodebuffer&&u.test(t)?"nodebuffer":s.uint8array&&t instanceof Uint8Array?"uint8array":s.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(t){if(!s[t.toLowerCase()])throw new Error(t+" is not supported by this browser")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(t){var e,n,r="";for(n=0;n<(t||"").length;n++)e=t.charCodeAt(n),r+="\\x"+(e<16?"0":"")+e.toString(16).toUpperCase();return r},e.findCompression=function(t){for(var e in l)if(l.hasOwnProperty(e)&&l[e].magic===t)return l[e];return null},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n}},function(t,e){var n=t.exports={version:"2.5.2"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(32);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(2),i=n(94),o=n(29);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(82),i=n(182),o=n(47),a=n(44),s=n(300);t.exports=function(t,e){var n=1==t,l=2==t,u=3==t,c=4==t,f=6==t,h=5==t||f,d=e||s;return function(e,s,p){for(var m,g,v=o(e),y=i(v),b=r(s,p,3),_=a(y.length),w=0,x=n?d(e,_):l?d(e,0):void 0;_>w;w++)if((h||w in y)&&(m=y[w],g=b(m,w,v),t))if(n)x[w]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return w;case 2:x.push(m)}else if(c)return!1;return f?-1:u||c?c:x}}},function(t,e,n){var r=n(108),i={};i.create=function(){var t=new r.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},i.fromValues=function(t,e,n){var i=new r.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=n,i},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},i.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},i.cross=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],l=n[2];return t[0]=i*l-o*s,t[1]=o*a-r*l,t[2]=r*s-i*a,t},i.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t},i.hermite=function(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,l=a*(o-2)+o,u=a*(o-1),c=a*(3-2*o);return t[0]=e[0]*s+n[0]*l+r[0]*u+i[0]*c,t[1]=e[1]*s+n[1]*l+r[1]*u+i[1]*c,t[2]=e[2]*s+n[2]*l+r[2]*u+i[2]*c,t},i.bezier=function(t,e,n,r,i,o){var a=1-o,s=a*a,l=o*o,u=s*a,c=3*o*s,f=3*l*a,h=l*o;return t[0]=e[0]*u+n[0]*c+r[0]*f+i[0]*h,t[1]=e[1]*u+n[1]*c+r[1]*f+i[1]*h,t[2]=e[2]*u+n[2]*c+r[2]*f+i[2]*h,t},i.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,i=2*r.RANDOM()-1,o=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=i*e,t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t},i.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},i.transformQuat=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],l=n[2],u=n[3],c=u*r+s*o-l*i,f=u*i+l*r-a*o,h=u*o+a*i-s*r,d=-a*r-s*i-l*o;return t[0]=c*u+d*-a+f*-l-h*-s,t[1]=f*u+d*-s+h*-a-c*-l,t[2]=h*u+d*-l+c*-s-f*-a,t},i.rotateX=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},i.rotateY=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},i.rotateZ=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,o,a){var s,l;for(n||(n=3),r||(r=0),l=i?Math.min(i*n+r,e.length):e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}(),i.angle=function(t,e){var n=i.fromValues(t[0],t[1],t[2]),r=i.fromValues(e[0],e[1],e[2]);i.normalize(n,n),i.normalize(r,r);var o=i.dot(n,r);return o>1?0:Math.acos(o)},i.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=e[0],s=e[1],l=e[2];return Math.abs(n-a)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))},t.exports=i},function(t,e,n){var r=n(75);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){!function(e){"use strict";var n=0,r=Math.pow(36,4),i=function(t,e){var n="000000000"+t;return n.substr(n.length-e)},o=function(){return i((Math.random()*r<<0).toString(36),4)},a=function(){return n=n<r?n:0,++n-1},s=function(){var t,e=(new Date).getTime().toString(36),n=s.fingerprint(),r=o()+o();return t=i(a().toString(36),4),"c"+e+t+n+r};s.slug=function(){var t,e=(new Date).getTime().toString(36),n=s.fingerprint().slice(0,1)+s.fingerprint().slice(-1),r=o().slice(-2);return t=a().toString(36).slice(-4),e.slice(-2)+t+n+r},s.globalCount=function(){var t=function(){var t,e=0;for(t in window)e++;return e}();return s.globalCount=function(){return t},t},s.fingerprint=function(){return i((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+s.globalCount().toString(36),4)},e.register?e.register("cuid",s):t.exports=s}(this.applitude||this)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return!t||"#"===t.trim()}e.__esModule=!0;var o=n(11),a=r(o),s=n(13),l=r(s),u=n(8),c=r(u),f=n(9),h=r(f),d=n(10),p=r(d),m=n(0),g=r(m),v=n(3),y=r(v),b=n(35),_=r(b),w=n(46),x=r(w),E={href:y.default.string,onClick:y.default.func,onKeyDown:y.default.func,disabled:y.default.bool,role:y.default.string,tabIndex:y.default.oneOfType([y.default.number,y.default.string]),componentClass:_.default},M={componentClass:"a"},S=function(t){function e(n,r){(0,c.default)(this,e);var i=(0,h.default)(this,t.call(this,n,r));return i.handleClick=i.handleClick.bind(i),i.handleKeyDown=i.handleKeyDown.bind(i),i}return(0,p.default)(e,t),e.prototype.handleClick=function(t){var e=this.props,n=e.disabled,r=e.href,o=e.onClick;if((n||i(r))&&t.preventDefault(),n)return void t.stopPropagation();o&&o(t)},e.prototype.handleKeyDown=function(t){" "===t.key&&(t.preventDefault(),this.handleClick(t))},e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.disabled,r=t.onKeyDown,o=(0,l.default)(t,["componentClass","disabled","onKeyDown"]);return i(o.href)&&(o.role=o.role||"button",o.href=o.href||"#"),n&&(o.tabIndex=-1,o.style=(0,a.default)({pointerEvents:"none"},o.style)),g.default.createElement(e,(0,a.default)({},o,{onClick:this.handleClick,onKeyDown:(0,x.default)(this.handleKeyDown,r)}))},e}(g.default.Component);S.propTypes=E,S.defaultProps=M,e.default=S,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t}function i(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}function o(t){var n=65536,r=[],i=t.length,o=e.getTypeOf(t),a=0,s=!0;try{switch(o){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,u(0))}}catch(t){s=!1}if(!s){for(var l="",c=0;c<t.length;c++)l+=String.fromCharCode(t[c]);return l}for(;a<i&&n>1;)try{"array"===o||"nodebuffer"===o?r.push(String.fromCharCode.apply(null,t.slice(a,Math.min(a+n,i)))):r.push(String.fromCharCode.apply(null,t.subarray(a,Math.min(a+n,i)))),a+=n}catch(t){n=Math.floor(n/2)}return r.join("")}function a(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}var s=n(210),l=n(368),u=n(370);e.string2binary=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(255&t.charCodeAt(n));return e},e.arrayBuffer2Blob=function(t,n){e.checkSupport("blob"),n=n||"application/zip";try{return new Blob([t],{type:n})}catch(e){try{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=new r;return i.append(t),i.getBlob(n)}catch(t){throw new Error("Bug : can't construct the Blob.")}}},e.applyFromCharCode=o;var c={};c.string={string:r,array:function(t){return i(t,new Array(t.length))},arraybuffer:function(t){return c.string.uint8array(t).buffer},uint8array:function(t){return i(t,new Uint8Array(t.length))},nodebuffer:function(t){return i(t,u(t.length))}},c.array={string:o,array:r,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return u(t)}},c.arraybuffer={string:function(t){return o(new Uint8Array(t))},array:function(t){return a(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:r,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return u(new Uint8Array(t))}},c.uint8array={string:o,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:r,nodebuffer:function(t){return u(t)}},c.nodebuffer={string:o,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return c.nodebuffer.uint8array(t).buffer},uint8array:function(t){return a(t,new Uint8Array(t.length))},nodebuffer:r},e.transformTo=function(t,n){if(n||(n=""),!t)return n;e.checkSupport(t);var r=e.getTypeOf(n);return c[r][t](n)},e.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":s.nodebuffer&&u.test(t)?"nodebuffer":s.uint8array&&t instanceof Uint8Array?"uint8array":s.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(t){if(!s[t.toLowerCase()])throw new Error(t+" is not supported by this browser")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(t){var e,n,r="";for(n=0;n<(t||"").length;n++)e=t.charCodeAt(n),r+="\\x"+(e<16?"0":"")+e.toString(16).toUpperCase();return r},e.findCompression=function(t){for(var e in l)if(l.hasOwnProperty(e)&&l[e].magic===t)return l[e];return null},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";function r(t,e,n){return e in t?c()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){return y.a.error(e.payload.message),t}function o(t,e){var n=e.payload,i=n.componentId,o=n.property,a=n.enabled,s="boolean"==typeof a,l=t.ui,u="string"==typeof o&&"object"===_(l[i]),c=u?!!l[i][o]:!!l[i];s||(a=!c);var f=u?b({},l[i],r({},o,a)):a;return a!==c&&(l=b({},l,r({},i,f))),b({},t,{ui:l})}function a(t,e){var n=function t(n,r){return"object"===(void 0===r?"undefined":_(r))?l()(r).reduce(t,n):""!==r&&(n[r]=e),n};return t.reduce(n,{})}e.b=i,e.c=o,e.a=a;var s=n(61),l=n.n(s),u=n(1),c=n.n(u),f=n(50),h=n.n(f),d=n(54),p=n.n(d),m=n(4),g=n.n(m),v=n(34),y=n.n(v),b=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_="function"==typeof p.a&&"symbol"==typeof h.a?function(t){return typeof t}:function(t){return t&&"function"==typeof p.a&&t.constructor===p.a&&t!==p.a.prototype?"symbol":typeof t}},function(t,e,n){"use strict";if(n(42)){var r=n(130),i=n(25),o=n(29),a=n(2),s=n(231),l=n(306),u=n(82),c=n(136),f=n(128),h=n(66),d=n(138),p=n(97),m=n(44),g=n(426),v=n(132),y=n(95),b=n(65),_=n(184),w=n(32),x=n(47),E=n(297),M=n(133),S=n(74),T=n(134).f,C=n(299),O=n(129),A=n(38),I=n(99),R=n(222),P=n(229),L=n(302),N=n(156),k=n(226),D=n(135),F=n(301),j=n(416),U=n(43),z=n(73),B=U.f,V=z.f,G=i.RangeError,H=i.TypeError,q=i.Uint8Array,W=Array.prototype,Y=l.ArrayBuffer,X=l.DataView,Z=I(0),K=I(2),Q=I(3),J=I(4),$=I(5),tt=I(6),et=R(!0),nt=R(!1),rt=L.values,it=L.keys,ot=L.entries,at=W.lastIndexOf,st=W.reduce,lt=W.reduceRight,ut=W.join,ct=W.sort,ft=W.slice,ht=W.toString,dt=W.toLocaleString,pt=A("iterator"),mt=A("toStringTag"),gt=O("typed_constructor"),vt=O("def_constructor"),yt=s.CONSTR,bt=s.TYPED,_t=s.VIEW,wt=I(1,function(t,e){return Tt(P(t,t[vt]),e)}),xt=o(function(){return 1===new q(new Uint16Array([1]).buffer)[0]}),Et=!!q&&!!q.prototype.set&&o(function(){new q(1).set({})}),Mt=function(t,e){var n=p(t);if(n<0||n%e)throw G("Wrong offset!");return n},St=function(t){if(w(t)&&bt in t)return t;throw H(t+" is not a typed array!")},Tt=function(t,e){if(!(w(t)&&gt in t))throw H("It is not a typed array constructor!");return new t(e)},Ct=function(t,e){return Ot(P(t,t[vt]),e)},Ot=function(t,e){for(var n=0,r=e.length,i=Tt(t,r);r>n;)i[n]=e[n++];return i},At=function(t,e,n){B(t,e,{get:function(){return this._d[n]}})},It=function(t){var e,n,r,i,o,a,s=x(t),l=arguments.length,c=l>1?arguments[1]:void 0,f=void 0!==c,h=C(s);if(void 0!=h&&!E(h)){for(a=h.call(s),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);s=r}for(f&&l>2&&(c=u(c,arguments[2],2)),e=0,n=m(s.length),i=Tt(this,n);n>e;e++)i[e]=f?c(s[e],e):s[e];return i},Rt=function(){for(var t=0,e=arguments.length,n=Tt(this,e);e>t;)n[t]=arguments[t++];return n},Pt=!!q&&o(function(){dt.call(new q(1))}),Lt=function(){return dt.apply(Pt?ft.call(St(this)):St(this),arguments)},Nt={copyWithin:function(t,e){return j.call(St(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return J(St(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return F.apply(St(this),arguments)},filter:function(t){return Ct(this,K(St(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return $(St(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(St(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Z(St(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(St(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(St(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ut.apply(St(this),arguments)},lastIndexOf:function(t){return at.apply(St(this),arguments)},map:function(t){return wt(St(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(St(this),arguments)},reduceRight:function(t){return lt.apply(St(this),arguments)},reverse:function(){for(var t,e=this,n=St(e).length,r=Math.floor(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e},some:function(t){return Q(St(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ct.call(St(this),t)},subarray:function(t,e){var n=St(this),r=n.length,i=v(t,r);return new(P(n,n[vt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,m((void 0===e?r:v(e,r))-i))}},kt=function(t,e){return Ct(this,ft.call(St(this),t,e))},Dt=function(t){St(this);var e=Mt(arguments[1],1),n=this.length,r=x(t),i=m(r.length),o=0;if(i+e>n)throw G("Wrong length!");for(;o<i;)this[e+o]=r[o++]},Ft={entries:function(){return ot.call(St(this))},keys:function(){return it.call(St(this))},values:function(){return rt.call(St(this))}},jt=function(t,e){return w(t)&&t[bt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ut=function(t,e){return jt(t,e=y(e,!0))?f(2,t[e]):V(t,e)},zt=function(t,e,n){return!(jt(t,e=y(e,!0))&&w(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?B(t,e,n):(t[e]=n.value,t)};yt||(z.f=Ut,U.f=zt),a(a.S+a.F*!yt,"Object",{getOwnPropertyDescriptor:Ut,defineProperty:zt}),o(function(){ht.call({})})&&(ht=dt=function(){return ut.call(this)});var Bt=d({},Nt);d(Bt,Ft),h(Bt,pt,Ft.values),d(Bt,{slice:kt,set:Dt,constructor:function(){},toString:ht,toLocaleString:Lt}),At(Bt,"buffer","b"),At(Bt,"byteOffset","o"),At(Bt,"byteLength","l"),At(Bt,"length","e"),B(Bt,mt,{get:function(){return this[bt]}}),t.exports=function(t,e,n,l){l=!!l;var u=t+(l?"Clamped":"")+"Array",f="get"+t,d="set"+t,p=i[u],v=p||{},y=p&&S(p),b=!p||!s.ABV,x={},E=p&&p.prototype,C=function(t,n){var r=t._d;return r.v[f](n*e+r.o,xt)},O=function(t,n,r){var i=t._d;l&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[d](n*e+i.o,r,xt)},A=function(t,e){B(t,e,{get:function(){return C(this,e)},set:function(t){return O(this,e,t)},enumerable:!0})};b?(p=n(function(t,n,r,i){c(t,p,u,"_d");var o,a,s,l,f=0,d=0;if(w(n)){if(!(n instanceof Y||"ArrayBuffer"==(l=_(n))||"SharedArrayBuffer"==l))return bt in n?Ot(p,n):It.call(p,n);o=n,d=Mt(r,e);var v=n.byteLength;if(void 0===i){if(v%e)throw G("Wrong length!");if((a=v-d)<0)throw G("Wrong length!")}else if((a=m(i)*e)+d>v)throw G("Wrong length!");s=a/e}else s=g(n),a=s*e,o=new Y(a);for(h(t,"_d",{b:o,o:d,l:a,e:s,v:new X(o)});f<s;)A(t,f++)}),E=p.prototype=M(Bt),h(E,"constructor",p)):o(function(){p(1)})&&o(function(){new p(-1)})&&k(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=n(function(t,n,r,i){c(t,p,u);var o;return w(n)?n instanceof Y||"ArrayBuffer"==(o=_(n))||"SharedArrayBuffer"==o?void 0!==i?new v(n,Mt(r,e),i):void 0!==r?new v(n,Mt(r,e)):new v(n):bt in n?Ot(p,n):It.call(p,n):new v(g(n))}),Z(y!==Function.prototype?T(v).concat(T(y)):T(v),function(t){t in p||h(p,t,v[t])}),p.prototype=E,r||(E.constructor=p));var I=E[pt],R=!!I&&("values"==I.name||void 0==I.name),P=Ft.values;h(p,gt,!0),h(E,bt,u),h(E,_t,!0),h(E,vt,p),(l?new p(1)[mt]==u:mt in E)||B(E,mt,{get:function(){return u}}),x[u]=p,a(a.G+a.W+a.F*(p!=v),x),a(a.S,u,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o(function(){v.of.call(p,1)}),u,{from:It,of:Rt}),"BYTES_PER_ELEMENT"in E||h(E,"BYTES_PER_ELEMENT",e),a(a.P,u,Nt),D(u),a(a.P+a.F*Et,u,{set:Dt}),a(a.P+a.F*!R,u,Ft),r||E.toString==ht||(E.toString=ht),a(a.P+a.F*o(function(){new p(1).slice()}),u,{slice:kt}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!o(function(){E.toLocaleString.call([1,2])})),u,{toLocaleString:Lt}),N[u]=R?I:P,r||R||h(E,pt,P)}}else t.exports=function(){}},function(t,e,n){var r=n(421),i=n(2),o=n(221)("metadata"),a=o.store||(o.store=new(n(424))),s=function(t,e,n){var i=a.get(t);if(!i){if(!n)return;a.set(t,i=new r)}var o=i.get(e);if(!o){if(!n)return;i.set(e,o=new r)}return o},l=function(t,e,n){var r=s(e,n,!1);return void 0!==r&&r.has(t)},u=function(t,e,n){var r=s(e,n,!1);return void 0===r?void 0:r.get(t)},c=function(t,e,n,r){s(n,r,!0).set(t,e)},f=function(t,e){var n=s(t,e,!1),r=[];return n&&n.forEach(function(t,e){r.push(e)}),r},h=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},d=function(t){i(i.S,"Reflect",t)};t.exports={store:a,map:s,has:l,get:u,set:c,keys:f,key:h,exp:d}},function(t,e){var n={};n.EPSILON=1e-6,n.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random,n.ENABLE_SIMD=!1,n.SIMD_AVAILABLE=n.ARRAY_TYPE===Float32Array&&"SIMD"in this,n.USE_SIMD=n.ENABLE_SIMD&&n.SIMD_AVAILABLE,n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t};var r=Math.PI/180;n.toRadian=function(t){return t*r},n.equals=function(t,e){return Math.abs(t-e)<=n.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},t.exports=n},function(t,e,n){var r=n(192);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return s()(t)}n.d(e,"e",function(){return p}),n.d(e,"d",function(){return m}),n.d(e,"f",function(){return g}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return y}),n.d(e,"g",function(){return b}),n.d(e,"a",function(){return w});var i=n(55),o=n.n(i),a=n(30),s=n.n(a),l=n(23),u=n.n(l),c=n(17),f=n.n(c),h=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=f()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(u()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=["green","orange","blue","purple","gray"],p={green:[152,194,60],orange:[236,122,8],blue:[0,82,147],purple:[151,2,84],gray:[188,189,188],darkGreen:[93,116,26],offWhite:[242,242,242],lightGray:[190,190,190],midGray:[102,102,102],darkGray:[51,51,51],black:[0,0,0]},m={},g=d.map(function(t){return{name:"cmt-"+t,rgb:p[t]}}),v={};o()(p).forEach(function(t){var e=h(t,2),n=e[0],i=e[1];m[n]=[].concat(r(i),[1]),v[n]="#"+i.map(function(t){return("0"+t.toString(16)).slice(-2)}).join("")});var y=["blue","yellow","magenta"],b={blue:[60,165,194],magenta:[222,111,118],yellow:[222,209,91]},_={},w=(y.map(function(t){return{name:"cmt-"+t,rgb:b[t]}}),{});o()(b).forEach(function(t){var e=h(t,2),n=e[0],i=e[1];_[n]=[].concat(r(i),[1]),w[n]="#"+i.map(function(t){return("0"+t.toString(16)).slice(-2)}).join("")})},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o});var r=function(t){throw new TypeError(t+"::INVALID_ARGUMENTS")},i=function(t){throw new Error(t+"::NOT_ALLOWED")},o=function(t,e){throw new Error(t+"::"+e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}n.d(e,"SHOW_FLASH_MESSAGE",function(){return l}),n.d(e,"HIDE_FLASH_MESSAGE",function(){return u}),n.d(e,"hideFlashMessage",function(){return c}),n.d(e,"showFlashMessage",function(){return f}),n.d(e,"ActionTypes",function(){return h});var i=n(4),o=n.n(i),a=n(16),s=(n.n(a),o.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),l="@@flash/SHOW_FLASH_MESSAGE",u="@@flash/HIDE_FLASH_MESSAGE",c=Object(a.createAction)(u),f=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.delay,o=void 0===i?5e3:i,u=n.dismiss,f=n.onDismiss,h=r(n,["delay","dismiss","onDismiss"]);return function(n,r){var i=void 0,d=function(){clearTimeout(i),n(c()),f&&f()};i=t.setTimeout(d,o),n(Object(a.createAction)(l,function(){return s({content:e,onDismiss:u?d:void 0},h)})())}},h={SHOW_FLASH_MESSAGE:l,HIDE_FLASH_MESSAGE:u};e.default={showFlashMessage:f,hideFlashMessage:c}}.call(e,n(37))},function(t,e,n){"use strict";e.a={NONE:-1,BASE_LAYERS:0,OVERLAYS:1,IMAGE_CONTROLS:2,ATTRIBUTE_INFO:8,COMPASS:3,MEASURE:4,OBLIQUE:5,IMAGE_INFORMATION:6,ELEVATION:7}},function(t,e,n){var r=n(129)("meta"),i=n(32),o=n(65),a=n(43).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(29)(function(){return l(Object.preventExtensions({}))}),c=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[r].i},h=function(t,e){if(!o(t,r)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[r].w},d=function(t){return u&&p.NEED&&l(t)&&!o(t,r)&&c(t),t},p=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:h,onFreeze:d}},function(t,e,n){var r=n(38)("unscopables"),i=Array.prototype;void 0==i[r]&&n(66)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){var r=n(85),i=n(193);t.exports=n(86)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(318),i=n(314);t.exports=function(t){return r(i(t))}},function(t,e,n){function r(t){if(!o(t))return!1;var e=i(t);return e==s||e==l||e==a||e==u}var i=n(142),o=n(199),a="[object AsyncFunction]",s="[object Function]",l="[object GeneratorFunction]",u="[object Proxy]";t.exports=r},function(t,e,n){var r=n(461),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;try{var r=!0,i=!1,o=void 0;try{for(var a,s=u()(e.split("/"));!(r=(a=s.next()).done);r=!0){t=t[a.value]}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return void 0!==t?t:n}catch(t){return n}}function i(t){return void 0===t?[]:Array.isArray(t)?t:[t]}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if("boolean"==typeof t)return t;var n=/^\s*(?:(true|yes|1)|(false|no|0))\s*$/i,r=n.exec(t);return r?!!r[1]:e}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=/^\s*(\d+\.\d+\.\d+)\s*$/,r=n.exec(t);return r?r[1]:e}function s(t){if(t)return[parseFloat(t["gsc:MinX"]),parseFloat(t["gsc:MinY"]),parseFloat(t["gsc:MaxX"]),parseFloat(t["gsc:MaxY"])]}e.e=r,e.a=i,e.b=o,e.d=a,e.c=s;var l=n(17),u=n.n(l),c=n(18);n.n(c)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=!("undefined"==typeof window||!window.document||!window.document.createElement),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ADD_OBLIQUE_VIEWER",function(){return i}),n.d(e,"REMOVE_OBLIQUE_VIEWER",function(){return o}),n.d(e,"UPDATE_OBLIQUE_VIEWER_PARAMS",function(){return a}),n.d(e,"CLONE_OBLIQUE_VIEWER",function(){return s}),n.d(e,"UPDATE_OBLIQUE_RECORDING",function(){return l}),n.d(e,"UPDATE_OBLIQUE_VIEWER",function(){return u}),n.d(e,"LOAD_IMAGE",function(){return c}),n.d(e,"UPDATE_OBLIQUE_ORIENTATION",function(){return f}),n.d(e,"TOGGLE_UI_STATE",function(){return h}),n.d(e,"SET_ACTIVE_PANEL",function(){return d}),n.d(e,"addObliqueViewer",function(){return p}),n.d(e,"removeObliqueViewer",function(){return m}),n.d(e,"updateObliqueViewerParams",function(){return g}),n.d(e,"cloneObliqueViewer",function(){return v}),n.d(e,"updateObliqueViewer",function(){return y}),n.d(e,"updateObliqueRecording",function(){return b}),n.d(e,"loadImage",function(){return _}),n.d(e,"updateObliqueOrientation",function(){return w}),n.d(e,"toggleUiState",function(){return x}),n.d(e,"setActivePanel",function(){return E}),n.d(e,"ActionTypes",function(){return M});var r=n(16),i=(n.n(r),"@@ObliqueViewer/ADD_OBLIQUE_VIEWER"),o="@@ObliqueViewer/REMOVE_OBLIQUE_VIEWER",a="@@ObliqueViewer/UPDATE_OBLIQUE_VIEWER_PARAMS",s="@@ObliqueViewer/CLONE_OBLIQUE_VIEWER",l="@@ObliqueViewer/UPDATE_OBLIQUE_RECORDING",u="@@ObliqueViewer/UPDATE_OBLIQUE_VIEWER",c="@@ObliqueViewer/LOAD_IMAGE",f="@@ObliqueViewer/UPDATE_OBLIQUE_ORIENTATION",h="@@ObliqueViewer/TOGGLE_UI_STATE",d="@@ObliqueViewer/SET_ACTIVE_PANEL",p=Object(r.createAction)(i,function(t){return{id:t,newEntry:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}}}),m=Object(r.createAction)(o,function(t){return{id:t}}),g=Object(r.createAction)(a,function(t,e){return{wid:t,options:e}}),v=Object(r.createAction)(s,function(t,e){return{toId:t,fromId:e}}),y=Object(r.createAction)(u,function(t,e){return{id:t,newState:e}}),b=Object(r.createAction)(l,function(t,e,n){return{id:t,recording:e,options:n}}),_=Object(r.createAction)(c,function(t,e){return{id:t,image:e}}),w=Object(r.createAction)(f,function(t,e){return{id:t,yaw:e.yaw,hFov:e.hFov,pitch:e.pitch,xyz:e.xyz}}),x=Object(r.createAction)(h,function(t,e,n,r){return{id:t,componentId:e,property:n,enabled:r}}),E=Object(r.createAction)(d,function(t,e){return{id:t,panel:e}}),M={ADD_OBLIQUE_VIEWER:i,REMOVE_OBLIQUE_VIEWER:o,UPDATE_OBLIQUE_VIEWER_PARAMS:a,CLONE_OBLIQUE_VIEWER:s,UPDATE_OBLIQUE_VIEWER:u,UPDATE_OBLIQUE_RECORDING:l,LOAD_IMAGE:c,UPDATE_OBLIQUE_ORIENTATION:f,TOGGLE_UI_STATE:h,SET_ACTIVE_PANEL:d};e.default={addObliqueViewer:p,removeObliqueViewer:m,updateObliqueViewerParams:g,cloneObliqueViewer:v,updateObliqueViewer:y,updateObliqueRecording:b,loadImage:_,updateObliqueOrientation:w,toggleUiState:x,setActivePanel:E}},function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)return void t.set(e.subarray(n,n+r),i);for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,a;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)o=t[e],a.set(o,i),i+=o.length;return a}},o={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,i)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(r)},function(t,e,n){!function(){"use strict";t.exports.Vector=n(576),t.exports.Matrix=n(1342)}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"TimeTravelType",function(){return i}),n.d(e,"SETUP",function(){return o}),n.d(e,"ADD_TIMETRAVEL",function(){return a}),n.d(e,"REMOVE_TIMETRAVEL",function(){return s}),n.d(e,"SET_TIME",function(){return l}),n.d(e,"SET_TIMES_VALUES",function(){return u}),n.d(e,"TOGGLE_TIMETRAVEL",function(){return c}),n.d(e,"LOAD_THUMBNAIL",function(){return f}),n.d(e,"setup",function(){return h}),n.d(e,"addTimeTravel",function(){return d}),n.d(e,"removeTimeTravel",function(){return p}),n.d(e,"toggleTimeTravel",function(){return m}),n.d(e,"setTime",function(){return g}),n.d(e,"setTimesValues",function(){return v}),n.d(e,"ActionTypes",function(){return b});var r=n(16),i=(n.n(r),{PANORAMA:"@@TimeTravelType/PANORAMA",OBLIQUE:"@@TimeTravelType/OBLIQUE"}),o="@@TimeTravel/SETUP",a="@@TimeTravel/ADD_TIMETRAVEL",s="@@TimeTravel/REMOVE_TIMETRAVEL",l="@@TimeTravel/SET_TIME",u="@@TimeTravel/SET_TIMES_VALUES",c="@@TimeTravel/TOGGLE_TIMETRAVEL",f="@@TimeTravel/LOAD_THUMBNAIL",h=Object(r.createAction)(o),d=Object(r.createAction)(a,function(t,e){return{id:t,viewerType:e}}),p=Object(r.createAction)(s,function(t){return{id:t}}),m=Object(r.createAction)(c,function(t,e){return{id:t,visible:e}}),g=Object(r.createAction)(l,function(t,e){return{id:t,time:e}}),v=Object(r.createAction)(u,function(t,e,n){return{id:t,times:e,timesValues:n}}),y=Object(r.createAction)(f,function(t,e){return{id:t,url:e}}),b={SETUP:o,ADD_TIMETRAVEL:a,REMOVE_TIMETRAVEL:s,TOGGLE_TIMETRAVEL:c,SET_TIME:l,SET_TIMES_VALUES:u,LOAD_THUMBNAIL:f};e.default={setup:h,addTimeTravel:d,removeTimeTravel:p,toggleTimeTravel:m,setTime:g,setTimesValues:v,setThumbnail:y}},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(t[i]=n[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)return void t.set(e.subarray(n,n+r),i);for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,a;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)o=t[e],a.set(o,i),i+=o.length;return a}},a={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(i)},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=!1},function(t,e,n){var r=n(402),i=n(284);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(97),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(22),i=n(403),o=n(284),a=n(283)("IE_PROTO"),s=function(){},l=function(){var t,e=n(281)("iframe"),r=o.length;for(e.style.display="none",n(285).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;r--;)delete l.prototype[o[r]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=l(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(402),i=n(284).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){"use strict";var r=n(25),i=n(43),o=n(42),a=n(38)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(82),i=n(414),o=n(297),a=n(22),s=n(44),l=n(299),u={},c={},e=t.exports=function(t,e,n,f,h){var d,p,m,g,v=h?function(){return t}:l(t),y=r(n,f,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(d=s(t.length);d>b;b++)if((g=e?y(a(p=t[b])[0],p[1]):y(t[b]))===u||g===c)return g}else for(m=v.call(t);!(p=m.next()).done;)if((g=i(m,y,p.value,e))===u||g===c)return g};e.BREAK=u,e.RETURN=c},function(t,e,n){var r=n(67);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){function r(t,e,n){var r=c(e),f=a(e,r),h=!(u(n)&&"chain"in n&&!n.chain),d=l(t);return i(f,function(n){var r=e[n];t[n]=r,d&&(t.prototype[n]=function(){var e=this.__chain__;if(h||e){var n=t(this.__wrapped__);return(n.__actions__=s(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,o([this.value()],arguments))})}),t}var i=n(460),o=n(952),a=n(953),s=n(957),l=n(118),u=n(199),c=n(200);t.exports=r},function(t,e,n){function r(t){return null==t?void 0===t?l:s:u&&u in Object(t)?o(t):a(t)}var i=n(332),o=n(955),a=n(956),s="[object Null]",l="[object Undefined]",u=i?i.toStringTag:void 0;t.exports=r},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new s.a(function(t,n){function r(i,o){try{var a=e[i](o),l=a.value}catch(t){return void n(t)}if(!a.done)return s.a.resolve(l).then(function(t){r("next",t)},function(t){r("throw",t)});t(l)}return r("next")})}}n.d(e,"b",function(){return c}),n.d(e,"a",function(){return f});var i=n(21),o=n.n(i),a=n(19),s=n.n(a),l=n(997),u=this,c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json";if("text"===e)return t;var n=new DOMParser,r=n.parseFromString(t,"application/xml");if("xml"===e)return r;var i=Object(l.a)(r);return"json"===e?i:void 0},f=function(){var t=r(o.a.mark(function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json";return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=2;break}return t.abrupt("return",new Error("Error parsing XML response: response not ok"));case 2:return t.t0=c,t.next=5,e.text();case 5:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 8:case"end":return t.stop()}},t,u)}));return function(e){return t.apply(this,arguments)}}()},function(t,e,n){"use strict";(function(t){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=o.prototype):(null===t&&(t=new o(e)),t.length=e),t}function o(t,e,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return a(this,t,e,n)}function a(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?h(t,e,n,r):"string"==typeof e?c(t,e,n):d(t,e)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e,n,r){return s(e),e<=0?i(t,e):void 0!==n?"string"==typeof r?i(t,e).fill(n,r):i(t,e).fill(n):i(t,e)}function u(t,e){if(s(e),t=i(t,e<0?0:0|p(e)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function c(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(e,n);t=i(t,r);var a=t.write(e,n);return a!==r&&(t=t.slice(0,a)),t}function f(t,e){var n=e.length<0?0:0|p(e.length);t=i(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),o.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=o.prototype):t=f(t,e),t}function d(t,e){if(o.isBuffer(e)){var n=0|p(e.length);return t=i(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||Z(e.length)?i(t,0):f(t,e);if("Buffer"===e.type&&J(e.data))return f(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function m(t){return+t!=t&&(t=0),o.alloc(+t)}function g(t,e){if(o.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(t).length;default:if(r)return H(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return I(this,e,n);case"latin1":case"binary":return R(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function b(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=o.from(e,r)),o.isBuffer(e))return 0===e.length?-1:_(t,e,n,r,i);if("number"==typeof e)return e&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):_(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(t,e,n,r,i){function o(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,s=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,n/=2}var u;if(i){var c=-1;for(u=n;u<s;u++)if(o(t,u)===o(e,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===l)return c*a}else-1!==c&&(u-=u-c),c=-1}else for(n+l>s&&(n=s-l),u=n;u>=0;u--){for(var f=!0,h=0;h<l;h++)if(o(t,u+h)!==o(e,h)){f=!1;break}if(f)return u}return-1}function w(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function x(t,e,n,r){return X(H(e,t.length-n),t,n,r)}function E(t,e,n,r){return X(q(e),t,n,r)}function M(t,e,n,r){return E(t,e,n,r)}function S(t,e,n,r){return X(Y(e),t,n,r)}function T(t,e,n,r){return X(W(e,t.length-n),t,n,r)}function C(t,e,n){return 0===e&&n===t.length?K.fromByteArray(t):K.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var l,u,c,f;switch(s){case 1:o<128&&(a=o);break;case 2:l=t[i+1],128==(192&l)&&(f=(31&o)<<6|63&l)>127&&(a=f);break;case 3:l=t[i+1],u=t[i+2],128==(192&l)&&128==(192&u)&&(f=(15&o)<<12|(63&l)<<6|63&u)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:l=t[i+1],u=t[i+2],c=t[i+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&(f=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return A(r)}function A(t){var e=t.length;if(e<=$)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=$));return n}function I(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function R(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function P(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=G(t[o]);return i}function L(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function k(t,e,n,r,i,a){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function F(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function j(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,i){return i||j(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(t,e,n,r,23,4),n+4}function z(t,e,n,r,i){return i||j(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(t,e,n,r,52,8),n+8}function B(t){if(t=V(t).replace(tt,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function V(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function G(t){return t<16?"0"+t.toString(16):t.toString(16)}function H(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function W(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function Y(t){return K.toByteArray(B(t))}function X(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function Z(t){return t!==t}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var K=n(1012),Q=n(1013),J=n(1014);e.Buffer=o,e.SlowBuffer=m,e.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=r(),o.poolSize=8192,o._augment=function(t){return t.__proto__=o.prototype,t},o.from=function(t,e,n){return a(null,t,e,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(t,e,n){return l(null,t,e,n)},o.allocUnsafe=function(t){return u(null,t)},o.allocUnsafeSlow=function(t){return u(null,t)},o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,a=Math.min(n,r);i<a;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!J(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=o.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=g,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):v.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t,e,n,r,i){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var a=i-r,s=n-e,l=Math.min(a,s),u=this.slice(r,i),c=t.slice(e,n),f=0;f<l;++f)if(u[f]!==c[f]){a=u[f],s=c[f];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},o.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},o.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},o.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return x(this,t,e,n);case"ascii":return E(this,t,e,n);case"latin1":case"binary":return M(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;o.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=o.prototype;else{var i=e-t;r=new o(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+t]}return r},o.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},o.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},o.prototype.readUInt8=function(t,e){return e||N(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||N(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||N(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},o.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||N(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){e||N(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||N(t,4,this.length),Q.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||N(t,4,this.length),Q.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||N(t,8,this.length),Q.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||N(t,8,this.length),Q.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){k(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},o.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){k(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},o.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):F(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);k(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);k(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):F(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return z(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return z(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,a=r-n;if(this===t&&n<e&&e<r)for(i=a-1;i>=0;--i)t[i+e]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},o.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var a;if("number"==typeof t)for(a=e;a<n;++a)this[a]=t;else{var s=o.isBuffer(t)?t:H(new o(t,r).toString()),l=s.length;for(a=0;a<n-e;++a)this[a+e]=s[a%l]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,n(37))},function(t,e,n){"use strict";n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return l}),n.d(e,"a",function(){return u}),n.d(e,"g",function(){return c}),n.d(e,"h",function(){return f});var r=n(41),i=135,o=45,a=20,s=a*r.c,l={POSITIONS:"Positions",POINT:"Point",MULTIPOINT:"MultiPoint",LINESTRING:"LineString",CIRCLE:"Circle",MULTILINESTRING:"MultiLineString",POLYGON:"Polygon",MULTIPOLYGON:"MultiPolygon",GEOMETRYCOLLECTION:"GeometryCollection"},u={CIRCLE:"Circle",ORTHOGONAL:"Orthogonal",HEIGHT:"Height"},c={TOO_FEW_RECORDINGS:"TOO_FEW_RECORDINGS",INVALID_ANGLE:"INVALID_ANGLE",POINT_TOO_FAR:"POINT_TOO_FAR",STANDARD_DEVIATION:"STANDARD_DEVIATION"},f={GOOD:"RELIABLE",OK:"ACCEPTABLE",BAD:"UNRELIABLE"}},function(t,e,n){function r(t){if(!a(t)||i(t)!=s)return!1;var e=o(t);if(null===e)return!0;var n=f.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==h}var i=n(142),o=n(1139),a=n(167),s="[object Object]",l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,h=c.call(Object);t.exports=r},function(t,e,n){"use strict";e.a={name:"streetsmart",version:"18.4.0"}},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new s.a(function(t,n){function r(i,o){try{var a=e[i](o),l=a.value}catch(t){return void n(t)}if(!a.done)return s.a.resolve(l).then(function(t){r("next",t)},function(t){r("throw",t)});t(l)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"SET_API_KEY",function(){return y}),n.d(e,"LOAD_USER_INFO",function(){return b}),n.d(e,"LOAD_USER_CONFIG",function(){return _}),n.d(e,"DESTROY_USER_CONFIG",function(){return w}),n.d(e,"SET_CONFIG_URL",function(){return x}),n.d(e,"SET_CONFIG_FILE",function(){return E}),n.d(e,"SET_ADDRESS_SETTINGS",function(){return M}),n.d(e,"SET_IS_API",function(){return S}),n.d(e,"configurationServicePaths",function(){return T}),n.d(e,"setApiKey",function(){return A}),n.d(e,"getUserInfo",function(){return R}),n.d(e,"_internalLoadUserConfig",function(){return P}),n.d(e,"loadUserConfig",function(){return L}),n.d(e,"loadCustomConfig",function(){return N}),n.d(e,"setConfigUrl",function(){return k}),n.d(e,"setConfigFile",function(){return D}),n.d(e,"setAddressSettings",function(){return F}),n.d(e,"destroyUserConfig",function(){return j}),n.d(e,"setIsApi",function(){return U}),n.d(e,"ActionTypes",function(){return z});var i=n(21),o=n.n(i),a=n(19),s=n.n(a),l=n(4),u=n.n(l),c=n(16),f=(n.n(c),n(143)),h=n(1171),d=n(1172),p=n(608),m=n(63),g=u.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v=this,y="@@config/SET_API_KEY",b="@@config/LOAD_USER_INFO",_="@@config/LOAD_USER_CONFIG",w="@@config/DESTROY_USER_CONFIG",x="@@config/SET_CONFIG_URL",E="@@config/SET_CONFIG_FILE",M="@@config/SET_ADDRESS_SETTINGS",S="@@config/SET_IS_API",T={USER_INFO:"userinfo/",CONFIGURATION:"configuration/{name}"},C=function(t,e){var n=new Request(t,{method:"POST",headers:new Headers(e),mode:"cors"});return fetch(n)},O=function(t){var e=new Request(t,{method:"GET"});return fetch(e)},A=Object(c.createAction)(y),I=Object(c.createAction)(b,function(){var t=r(o.a.mark(function t(){var e,n,r,i,a,s,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=l.filter,c=l.headers,h=l.configUrl;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=c,e||(e=Object(m.b)()),n=h+T.USER_INFO,t.next=5,C(n,e);case 5:if(r=t.sent,r.ok){t.next=9;break}throw i="Loading user info failed with status code "+r.status+". Message: "+r.statusText,new Error(i);case 9:return t.next=11,Object(f.a)(r,"json");case 11:if(!((a=t.sent)instanceof Error)){t.next=14;break}throw new Error("parsing xml response of userinfo failed.");case 14:return s=new p.b,t.abrupt("return",s.parse(a,{filter:u}));case 16:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()),R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filter,n=t.headers;return function(){var t=r(o.a.mark(function t(r,i){var a,s,l,u;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=i().config,s=a.userInfo,l=a.configUrl,!s){t.next=3;break}return t.abrupt("return",{payload:s});case 3:return t.next=5,r(I({filter:e,headers:n,configUrl:l}));case 5:if(u=t.sent,!u.error){t.next=10;break}throw u.payload;case 10:return t.abrupt("return",u);case 11:case"end":return t.stop()}},t,v)}));return function(e,n){return t.apply(this,arguments)}}()},P=Object(c.createAction)(_,function(){var t=r(o.a.mark(function t(){var e,n,r,i,a,s,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=l.name,c=l.headers,h=l.configUrl,p=l.configFile;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=c,e||(e=Object(m.b)()),n=h+T.CONFIGURATION.replace("{name}",u),r=void 0,!p){t.next=10;break}return t.next=7,O(p);case 7:r=t.sent,t.next=13;break;case 10:return t.next=12,C(n,e);case 12:r=t.sent;case 13:if(r.ok){t.next=15;break}throw new Error("Loading configuration failed with status code "+r.status+". Message: "+r.statusText);case 15:return t.next=17,Object(f.a)(r,"json");case 17:if(!((i=t.sent)instanceof Error)){t.next=20;break}throw new Error("parsing xml response of user config failed.");case 20:return a=new d.a,t.next=23,a.parseConfig(i);case 23:return s=t.sent,t.abrupt("return",{config:g({},s,{configId:u}),configId:u});case 25:case"end":return t.stop()}},t,v)}));return function(){return t.apply(this,arguments)}}()),L=function(t){return function(){var e=r(o.a.mark(function e(n,r){var i,a,s,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r().config,a=i.configUrl,s=i.configFile,e.next=3,n(P(g({},t,{configUrl:a,configFile:s})));case 3:if(l=e.sent,!l.error){e.next=6;break}throw l.payload;case 6:return e.abrupt("return",l);case 7:case"end":return e.stop()}},e,v)}));return function(t,n){return e.apply(this,arguments)}}()},N=Object(c.createAction)(_,function(){var t=r(o.a.mark(function t(e){var n,r,i,a,s,l=e.url;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Request(l,{method:"GET",mode:"cors"}),t.next=3,fetch(n);case 3:if(r=t.sent,r.ok){t.next=6;break}throw new Error("Loading tid configuration failed with status code "+r.status+". Message: "+r.statusText);case 6:return t.next=8,Object(f.a)(r,"json");case 8:if(!((i=t.sent)instanceof Error)){t.next=11;break}throw new Error("parsing xml response of user config failed.");case 11:return a=new d.a,t.next=14,a.parseConfig(i);case 14:return s=t.sent,t.abrupt("return",{config:g({},s)});case 16:case"end":return t.stop()}},t,v)}));return function(e){return t.apply(this,arguments)}}()),k=Object(c.createAction)(x,function(t){return t&&!/\/$/.test(t)?t+"/":t}),D=Object(c.createAction)(E),F=Object(c.createAction)(M,function(t){var e=t.locale,n=t.database;if(!e||!n)throw new Error("Locale or database not provided.");if(!h.a.map(function(t){return t.toLowerCase()}).includes(n.toLowerCase()))throw new Error("Unsupported address database resource.");return{locale:e,database:n}}),j=Object(c.createAction)(w),U=Object(c.createAction)(S),z={SET_API_KEY:y,LOAD_USER_INFO:b,LOAD_USER_CONFIG:_,DESTROY_USER_CONFIG:w,SET_CONFIG_URL:x,SET_CONFIG_FILE:E,SET_ADDRESS_SETTINGS:M,SET_IS_API:S};e.default={setApiKey:A,loadUserConfig:L,loadCustomConfig:N,destroyUserConfig:j,setConfigUrl:k,setConfigFile:D,setAddressSettings:F,setIsApi:U}},function(t,e,n){"use strict";var r=n(1175),i=new r.a({Basic:{value:"Basic",description:"Basic usage"},AddLayerWMS:{value:"AddLayerWMS",description:"Add WMS layers"},AddLayerWFS:{value:"AddLayerWFS",description:"Add WFS layers"},AddLayerSHP:{value:"AddLayerSHP",description:"Add SHP layers"},AddLayerSLD:{value:"AddLayerSLD",description:"Add SLD layers"},MapDrawingTool:{value:"MapDrawingTool",description:"Use map drawing tool"},MeasureAdvanced:{value:"MeasureAdvanced",description:"Create advanced measurements"},MeasurePoint:{value:"MeasurePoint",description:"Measure points"},MeasureHeight:{value:"MeasureHeight",description:"Measure heights"},MeasureLine:{value:"MeasureLine",description:"Measure lines"},MeasurePolygon:{value:"MeasurePolygon",description:"Measure polygons"},MeasureArea:{value:"MeasureArea",description:"Measure areas"},MeasureVolume:{value:"MeasureVolume",description:"Measure volumes"},MeasureSmartClick:{value:"MeasureSmartClick",description:"Measure using Smart Click"},MeasureSmart:{value:"MeasureSmart",description:"Measure using Measure Smart"},Player:{value:"Player",description:"Player"},ShapePlaylist:{value:"ShapePlaylist",description:"Import playlist from SHP"},ReportBlurring:{value:"ReportBlurring",decription:"Report blurring is needed"},Elevation:{value:"Elevation",decription:"Adjust elevation level"}});e.a=i},function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n(1188),i=n.n(r),o=n(23),a=n.n(o),s=n(17),l=n.n(s),u=n(18),c=n.n(u),f=(function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=l()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}}(),function(t,e){return Math.max(c.a.extent.getWidth(t)/e[0],c.a.extent.getHeight(t)/e[1])}),h=function(t,e){return t/Math.pow(2,e)},d=function(t,e){return i()(t/e)},p=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new Array(e+1),i=n;i<=e;i++)r[i]=h(t,i);return r},m=function(t,e){var n=document.createElement("CANVAS");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")};e.b={getResolutionForExtent:f,getResolutionForZoomLevel:h,getZoomLevelForResolution:d,buildResolutions:p,createCanvasContext2D:m}},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(7),l=n.n(s),u=n(6),c=n.n(u),f=n(5),h=n.n(f),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(18),y=n.n(v),b=n(20),_=n.n(b),w=n(15),x=(n.n(w),n(205)),E=n(1353),M=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),T=(Object(w.defineMessages)({layerName:{id:"layer.FeatureLayer.name",description:"Default Feature layers name",defaultMessage:"Feature layer"}}),function(t){function e(t){var n=r(t,[]);i(this,e);var a=o(this,(e.__proto__||l()(e)).call(this,_.a.defaults({},n,e.defaults))),s=a.color;return/^(?:[\da-f]{3}|[\da-f]{6})$/i.exec(s)&&(a.color="#"+s),a}return a(e,t),S(e,[{key:"toMapLayer",value:function(){this.mapLayer||(this.mapLayer=new y.a.layer.Vector(M({},this._getMapLayerOptions(),{source:this.createMapSource(),style:this.getFeatureStyle()})),this.mapLayer.set("id",this.id),this.mapLayer.set("name",this.name));var t=this.mapLayer,e=this.parent;if(e)if(e instanceof y.a.Map)e.addLayer(t);else if(e instanceof y.a.layer.Group){var n=e.getLayers();n.push(t),this.parent.setLayers(n)}return t}},{key:"getFeatureStyle",value:function(){var t=y.a.color.asArray(this.color).slice();return t[3]=.2,new E.a({strokeColor:this.color,fillColor:t})}},{key:"createMapSource",value:function(){return new y.a.source.Vector(this._getMapSourceOptions())}}]),e}(x.a));T.defaults={type:"FeatureLayer",nameIntl:"layer.FeatureLayer.name",color:"#00ff00"},e.a=T},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new m.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return m.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=d()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(f.a?f()(t,e):t.__proto__=e)}var l=n(21),u=n.n(l),c=n(6),f=n.n(c),h=n(5),d=n.n(h),p=n(19),m=n.n(p),g=n(7),v=n.n(g),y=n(51),b=n.n(y),_=n(1),w=n.n(_),x=n(4),E=n.n(x),M=n(18),S=n.n(M),T=n(15),C=(n.n(T),n(205)),O=n(63),A=n(89),I=E.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),w()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),P=function t(e,n,r){null===e&&(e=Function.prototype);var i=b()(e,n);if(void 0===i){var o=v()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},L=Object(A.a)("./assets/img/empty.png"),N=(Object(T.defineMessages)({layerName:{id:"layer.RasterLayer.name",description:"Default raster layer name",defaultMessage:"Raster layer"}}),function(t){function e(t){var n=i(t,[]);o(this,e);var r=a(this,(e.__proto__||v()(e)).call(this,I({},e.defaults,n)));return r.customTileLoader=r.customTileLoader.bind(r),r}return s(e,t),R(e,[{key:"toMapLayer",value:function(){if(!this.mapLayer){var t=this.tiled?S.a.layer.Tile:S.a.layer.Image;this.mapLayer=new t(I({},this._getMapLayerOptions(),{source:this.createMapSource()}))}return this.mapLayer}},{key:"_getMapSourceOptions",value:function(){var t=I({},P(e.prototype.__proto__||v()(e.prototype),"_getMapSourceOptions",this).call(this),{crossOrigin:this.crossOrigin,tileGrid:this.tiled?new S.a.tilegrid.TileGrid(this.tileGrid):void 0});if(this.authRequired?this.tiled?t.tileLoadFunction=this.customTileLoader:t.imageLoadFunction=this.customTileLoader:t.crossOrigin="anonymous",this.useProxy)if(t.urls&&t.urls.length>0)for(var n=0;n<t.urls;n++)t.urls[n]=""+this.proxyUrl+t.urls[n];else t.url=""+this.proxyUrl+t.url;return t}},{key:"customTileLoader",value:function(){function t(t,n){return e.apply(this,arguments)}var e=r(u.a.mark(function t(e,n){var r,i,o,a,s,l,c,f,h;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={"Content-Type":"application/octet-stream"},this.authRequired&&(this.credentials&&this.credentials.username&&this.credentials.password?(i=this.credentials,o=i.username,a=i.password,s=btoa(o+":"+a),r=I({},r,Object(O.a)(s))):r=I({},r,Object(O.b)())),l=new Request(n,{method:"GET",mode:"cors",headers:new Headers(r)}),c=L,t.prev=4,t.next=7,fetch(l);case 7:if(f=t.sent,!f.ok){t.next=13;break}return t.next=11,f.blob();case 11:h=t.sent,c=URL.createObjectURL(h);case 13:t.next=18;break;case 15:throw t.prev=15,t.t0=t.catch(4),new Error("Error in loading tile:\nMessage: "+t.t0.message+"\nURL: "+n);case 18:e.getImage().src=c;case 19:case"end":return t.stop()}},t,this,[[4,15]])}));return t}()}]),e}(C.a));N.defaults={type:"RasterLayer",nameIntl:"layer.RasterLayer.name",tiled:!0},e.a=N},function(t,e,n){"use strict";e.a={buttons:{ELEVATION:"panorama.elevation",OVERLAYS:"panorama.overlays",OPEN_OBLIQUE:"panorama.openOblique",REPORT_BLURRING:"panorama.reportBlurring",MEASURE:"panorama.measure",CENTER_MAP:"panorama.centerMap",IMAGE_INFORMATION:"panorama.imageInformation",COPY_LINK:"panorama.copyLink",SAVE_IMAGE:"panorama.saveImage",ZOOM_IN:"panorama.zoomIn",ZOOM_OUT:"panorama.zoomOut"},TIME_TRAVEL:"panorama.timeTravel",NAVBAR:"panorama.navbar",RECORDINGS:"panorama.recordings",MEASUREMENTS:"panorama.measurements",ADDRESSES:"panorama.addresses"}},function(t,e,n){var r=n(43).f,i=n(65),o=n(38)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(2),i=n(96),o=n(29),a=n(287),s="["+a+"]",l="â€‹Â…",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),f=function(t,e,n){var i={},s=o(function(){return!!a[t]()||l[t]()!=l}),u=i[t]=s?e(h):a[t];n&&(i[n]=u),r(r.P+r.F*s,"String",i)},h=f.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};t.exports=f},function(t,e){t.exports={}},function(t,e,n){var r=n(32);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e){t.exports=function(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)}},function(t,e){t.exports=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}},function(t,e,n){"use strict";var r=n(906)(!0);n(315)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e){t.exports={}},function(t,e,n){var r=n(447),i=n(321);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(314);t.exports=function(t){return Object(r(t))}},function(t,e,n){t.exports=n(917)},function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return l});var r=n(454),i=Math.PI/180,o=180/Math.PI,a=function(t){return t*i},s=function(t){return t*o},l=function(t){return Object(r.b)(Math.round(2*t/Math.PI),0,4)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t){var e=0,n=t.length;if(0===n)return e;for(var r=0;r<n;r++)e=(e<<5)-e+t.charCodeAt(r),e&=e;return e},l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.apiKey,i=e.dataUri,o=e.withCredentials,a=void 0!==o&&o;r(this,t),this.withCredentials=!1,this._dataUris=[],this._uriIndex=0,this.apiKey=n,this.setDataUri(i),this.withCredentials=a}return a(t,[{key:"_selectDataUriRoundRobinBased",value:function(){var t=this._dataUris,e=this._uriIndex,n=t[e];return this._uriIndex=(e+1)%t.length,n}},{key:"_selectDataUriHashBased",value:function(t){var e=this._dataUris;return e[Math.abs(s(t))%e.length]}},{key:"getDataUri",value:function(){return this._dataUris}},{key:"setDataUri",value:function(t){this._dataUris=Array.isArray(t)?t:[t]}}]),t}();e.a=l},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){function r(t){return null!=t&&o(t.length)&&!i(t)}var i=n(118),o=n(466);t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return f});var i=n(1),o=n.n(i),a=n(60),s=(n.n(a),n(1004)),l=n(1007),u=n(1044),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f={LINE:"line",DASHED_LINE:"dashed_line",PERSPECTIVE_LINE:"perspective_line",PERSPECTIVE_LINE_PLANEXZ:"perspective_line_planexz",POLYGON_RING:"polygon_ring",BILLBOARD:"billboard",GEOMETRY:"geometry",DOT_2D:"dot2D",DOT_3D:"dot3D",POLYGON_SHAPE:"polygon_shape",TEXT:"text",TEXT_2D:"text2D",CROSSHAIR:"crosshair",CROSS:"cross",CIRCLE:"circle",SQUARE:"square",EXTERNAL_GEOMETRY:"external_geometry",CYLINDER:"cylinder"},h=function(){function t(e,n){r(this,t),this.elementId=0,this.font=void 0,a.ImageUtils.crossOrigin="",this.scene=e,this.camera=n,this.elementManager=new s.a(this),this.elementFactory=new l.a(this),this.mouseManager=new u.a(this)}return c(t,[{key:"setFont",value:function(t){this.font=t}},{key:"destroy",value:function(){this.elementManager.destroy(),this.elementManager=void 0,this.elementFactory.destroy(),this.elementFactory=void 0,this.mouseManager.destroy(),this.mouseManager=void 0}},{key:"dispose",value:function(t){void 0===t||Array.isArray(t)&&0===t.length?this.elementManager.destroyAll():this.elementManager.destroyElements(t)}},{key:"disposeGroup",value:function(t){this.elementManager.destroyElements(this.elementManager.getElementsByGroup(t))}},{key:"hide",value:function(t){this.elementManager.setVisible(!1,t)}},{key:"show",value:function(t){this.elementManager.setVisible(!0,t)}},{key:"hideGroup",value:function(t){this.elementManager.setGroupVisible(!1,t)}},{key:"showGroup",value:function(t){this.elementManager.setGroupVisible(!0,t)}},{key:"getElementByObject",value:function(t){return this.elementManager.getElementByObject(t)}},{key:"getElementById",value:function(t){return this.elementManager.getElementById(t)}},{key:"getElementByName",value:function(t){return this.elementManager.getElementByName(t)}},{key:"getElementsByGroup",value:function(t){return this.elementManager.getElementsByGroup(t)}},{key:"update",value:function(t,e,n){this.elementManager.update(t,e,n)}},{key:"create",value:function(t,e){switch(t.font=this.font,t.type){case"Feature":case"FeatureCollection":return this.elementFactory.constructObjectFromGeoJSON(t,e);default:return this.elementFactory.constructObject(t.type,t,t.name)}}}]),t}();e.b=h},function(t,e,n){function r(t,e){var n=o(t,e);return i(n)?n:void 0}var i=n(1075),o=n(1078);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.ownerDocument||document}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(e)do{if(e===t)return!0}while(e=e.parentNode);return!1}Object.defineProperty(e,"__esModule",{value:!0});var i=n(122),o=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(){return o.default?function(t,e){return t.contains?t.contains(e):t.compareDocumentPosition?t===e||!!(16&t.compareDocumentPosition(e)):r(t,e)}:r}(),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.default=function(t){return(0,s.default)(o.default.findDOMNode(t))};var i=n(52),o=r(i),a=n(173),s=r(a);t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"SET_MAX_WINDOWS",function(){return c}),n.d(e,"ADD_NODE",function(){return f}),n.d(e,"UPDATE_NODE",function(){return h}),n.d(e,"MOVE_NODE",function(){return d}),n.d(e,"REMOVE_NODE",function(){return p}),n.d(e,"CLEAR_NODE",function(){return m}),n.d(e,"FORCE_UPDATE_VIEWS",function(){return g}),n.d(e,"UPDATE_LOADING_COUNT",function(){return v}),n.d(e,"SAVE_NODE",function(){return y}),n.d(e,"POP_NODE",function(){return b}),n.d(e,"setMaxWindows",function(){return _}),n.d(e,"addMapViewerWindow",function(){return C}),n.d(e,"addPanoramaViewerWindow",function(){return O}),n.d(e,"addObliqueViewerWindow",function(){return A}),n.d(e,"updateLoadingCount",function(){return R}),n.d(e,"saveNode",function(){return P}),n.d(e,"popNode",function(){return L}),n.d(e,"forceUpdateViews",function(){return N}),n.d(e,"ActionTypes",function(){return k});var r=n(4),i=n.n(r),o=n(16),a=(n.n(o),n(27)),s=n(267),l=n(111),u=i.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c="@@WindowManager/SET_MAX_WINDOWS",f="@@WindowManager/ADD_NODE",h="@@WindowManager/UPDATE_NODE",d="@@WindowManager/MOVE_NODE",p="@@WindowManager/REMOVE_NODE",m="@@WindowManager/CLEAR_NODE",g="@@WindowManager/FORCE_UPDATE_VIEWS",v="@@WindowManger/UPDATE_LOADING_COUNT",y="@@WindowManger/SAVE_NODE",b="@@WindowManger/POP_NODE",_=function(t){return function(e,n){var r=n().maxLengthWindows!==t;e(Object(o.createAction)(c,function(){return{maxWindows:t}})()),r&&e(a.default.setProfileConfig(a.UserProfileConfigKeys.MAX_WINDOWS,t.toString()))}},w=Object(o.createAction)(f,function(t){return t}),x=Object(o.createAction)(h,function(t){return t}),E=Object(o.createAction)(d,function(t){return t}),M=Object(o.createAction)(d,function(t){return t}),S=Object(o.createAction)(m),T=function(t){return function(e,n){var r=n(),i=r.windowmanager,o=(i.maxLengthWindows,i.layout),a=t.parentId;t.replace,t.childIndex;o[a]||Object(l.a)("addViewerWindow","PARENT_NODE_NOT_FOUND"),e(w(t))}},C=function(t){return T(u({parentId:s.b.MAPS},t,{type:s.c.MAP_VIEWER}))},O=function(t){return T(u({parentId:s.b.PANORAMAS},t,{type:s.c.PANORAMA_VIEWER}))},A=function(t){return T(u({parentId:s.b.OBLIQUES},t,{type:s.c.OBLIQUE_VIEWER}))},I=Object(o.createAction)(p,function(t){return t}),R=Object(o.createAction)(v,function(t,e){return{wid:t,loadingDelta:e}}),P=Object(o.createAction)(y,function(t){return{id:t,key:arguments.length>1&&void 0!==arguments[1]?arguments[1]:t}}),L=Object(o.createAction)(b,function(t,e,n){return{key:t,parentId:e,childIndex:n}}),N=Object(o.createAction)(g),k={SET_MAX_WINDOWS:c,ADD_NODE:f,UPDATE_NODE:h,MOVE_NODE:d,CLEAR_NODE:m,REMOVE_NODE:p,UPDATE_LOADING_COUNT:v,FORCE_UPDATE_VIEWS:g,SAVE_NODE:y,POP_NODE:b};e.default={setMaxWindows:_,addNode:w,updateNode:x,addMapViewerWindow:C,addPanoramaViewerWindow:O,addObliqueViewerWindow:A,insertNode:E,clearNode:S,moveNode:M,removeNode:I,forceUpdateViews:N,updateLoadingCount:R,saveNode:P,popNode:L}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(100),s=n.n(a),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(){function t(e,n,i,o){r(this,t);var a=this.value=new Float64Array(6),l=this.stdev=new Float64Array(6),u=this.position=a.subarray(0,3),c=this.orientation=a.subarray(3,6),f=this.positionStdev=l.subarray(0,3),h=this.orientationStdev=l.subarray(3,6);s.a.copy(u,e),s.a.copy(f,n),s.a.copy(c,i),s.a.copy(h,o)}return l(t,[{key:"toJson",value:function(){return{position:{value:s.a.clone([],this.position),stdev:s.a.clone([],this.positionStdev)},orientation:{value:s.a.clone([],this.orientation),stdev:s.a.clone([],this.orientationStdev)}}}},{key:"yaw",get:function(){return this.orientation[0]}},{key:"pitch",get:function(){return this.orientation[1]}},{key:"roll",get:function(){return this.orientation[2]}},{key:"yawStdev",get:function(){return this.orientationStdev[0]}},{key:"pitchStdev",get:function(){return this.orientationStdev[1]}},{key:"rollStdev",get:function(){return this.orientationStdev[2]}},{key:"is2d",get:function(){return isNaN(this.position[2])}}],[{key:"fromJson",value:function(e){return new t(e.position.value,e.position.stdev,e.orientation.value,e.orientation.stdev)}}]),t}();e.a=u},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n(165),i=(Object(r.b)(.1),Object(r.b)(.01),1e-5),o=Object(r.b)(1e-5)},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new u.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return u.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"LAYER_INDEX",function(){return O}),n.d(e,"LAYER_GROUP",function(){return A}),n.d(e,"LayerType",function(){return I}),n.d(e,"ADD_LAYER",function(){return R}),n.d(e,"UPDATE_LAYER",function(){return P}),n.d(e,"UPDATE_SUB_LAYER",function(){return L}),n.d(e,"REMOVE_LAYER",function(){return N}),n.d(e,"ADD_LAYERS",function(){return k}),n.d(e,"TOGGLE_OVERLAY",function(){return D}),n.d(e,"SELECT_BASE_LAYER",function(){return F}),n.d(e,"COPY_LAYER_VISIBILITY",function(){return j}),n.d(e,"RESTORE_COPIED_LAYER_VISIBILITY",function(){return U}),n.d(e,"REMOVE_LAYER_STORE",function(){return z}),n.d(e,"SET_LAYER_VISIBILITY",function(){return B}),n.d(e,"addBaseLayer",function(){return H}),n.d(e,"addBaseLayers",function(){return q}),n.d(e,"addOverlay",function(){return W}),n.d(e,"updateLayer",function(){return Y}),n.d(e,"updateSubLayer",function(){return X}),n.d(e,"removeLayer",function(){return Z}),n.d(e,"addOverlays",function(){return K}),n.d(e,"toggleOverlay",function(){return Q}),n.d(e,"selectBaseLayer",function(){return J}),n.d(e,"copyLayerVisibility",function(){return $}),n.d(e,"restoreCopiedLayerVisibility",function(){return tt}),n.d(e,"removeLayerStore",function(){return et}),n.d(e,"loadCustomOverlays",function(){return nt}),n.d(e,"initLayers",function(){return rt}),n.d(e,"initMapViewerLayers",function(){return it}),n.d(e,"initPanoramaViewerLayers",function(){return ot}),n.d(e,"setLayerVisibility",function(){return at}),n.d(e,"ActionTypes",function(){return st});var i=n(21),o=n.n(i),a=n(76),s=n.n(a),l=n(19),u=n.n(l),c=n(4),f=n.n(c),h=n(16),d=(n.n(h),n(18)),p=n.n(d),m=n(272),g=n(373),v=n(586),y=n(587),b=n(374),_=n(273),w=n(591),x=n(27),E=n(53),M=n(375),S=n(153),T=this,C=f.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O="layer_index",A="layer",I={BASELAYER:"baseLayers",OVERLAY:"overlays"},R="@@Layer/ADD_LAYER",P="@@Layer/UPDATE_LAYER",L="@@Layer/UPDATE_SUB_LAYER",N="@@Layer/REMOVE_LAYER",k="@@Layer/ADD_LAYERS",D="@@Layer/TOGGLE_OVERLAY",F="@@Layer/SELECT_BASE_LAYER",j="@@Layer/COPY_LAYER_VISIBILITY",U="@@Layer/RESTORE_COPIED_LAYER_VISIBILITY",z="@@Layer/REMOVE_LAYER_STORE",B="@@Layer/SET_LAYER_VISIBILITY",V=function t(e,n){return e.map(function(e){var r=n(e);return"LayerGroup"===r.type?C({},r,{layers:t(r.layers,n)}):r})},G=function(t){var e=t.layer.overlays,n=e.all.filter(function(t){return t.customLayer}),r=[];return n&&n.forEach(function(t){return r.push(t.id)}),r},H=Object(h.createAction)(R,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*";return{type:I.BASELAYER,storeId:e,layer:t}}),q=Object(h.createAction)(k,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*";return{type:I.BASELAYER,storeId:e,layers:t}}),W=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,i){if(r(Object(h.createAction)(R,function(){return{type:I.OVERLAY,storeId:e,layer:t}})()),n){var o=G(i());r(x.default.setProfileConfig(t.id,s()(t),A)),r(x.default.setProfileConfig(O,s()(o),A))}}},Y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,i){r(Object(h.createAction)(P,function(){return{type:I.OVERLAY,storeId:e,layer:t}})()),n&&r(x.default.setProfileConfig(t.id,s()(t),A))}},X=Object(h.createAction)(L,function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"*";return{type:I.OVERLAY,storeId:i,layer:t,mainLayerType:e,subLayerId:n,mainLayerId:r}}),Z=function(t){return function(e,n){var r=n().layer.overlays;for(var i in r)if(r.hasOwnProperty(i)){e(Object(h.createAction)(N)({layerList:i,id:t}));var o=G(n());e(x.default.removeProfileConfig(t,A)),e(x.default.setProfileConfig(O,s()(o),A))}}},K=Object(h.createAction)(k,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*";return{type:I.OVERLAY,storeId:e,layers:t}}),Q=Object(h.createAction)(D,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*",e=arguments[1],n=arguments[2];return{type:I.OVERLAY,storeId:t,layerId:e,visible:n}}),J=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*",e=arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(r,i){n=n&&i().layer.baseLayer!==e,r(Object(h.createAction)(F,function(){return{type:I.BASELAYER,storeId:t,layerId:e}})()),n&&r(x.default.setProfileConfig(x.UserProfileConfigKeys.BASE_LAYER,e))}},$=Object(h.createAction)(j,function(t,e){return{toStoreId:t,fromStoreId:e}}),tt=Object(h.createAction)(U,function(t,e){return{toStoreId:t,fromStoreId:e}}),et=Object(h.createAction)(z,function(t){return{storeId:t}}),nt=function(){return function(){var t=r(o.a.mark(function t(e,n){var r,i,a,s,l,u;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),i=r.config.configId,t.next=3,e(x.default.loadUserProfile(i,A,void 0,!0,O));case 3:a=n(),s=a.layer,l=s.customLayers,u=s.layerSettings,l&&l.forEach(function(t){if("WMSLayer"===t.type){var n={id:t.id,minZoomLevel:t.minZoomLevel,name:t._name,description:t.description,projection:t.projection,transparent:t.transparent,tiled:t.tiled,url:t.url,useProxy:t.useProxy,proxyUrl:t.proxyUrl,version:t.version,visible:t.id in u?u[t.id].visible:t.visible,layers:t.layers,urls:t.urls,bgColor:t.bgColor};t.authRequired&&(n.authRequired=t.authRequired,t.credentials&&(n.credentials=t.credentials));var r={extent:t.extent,tileGridExtent:t.tileGridExtent,maxMapResolution:t.maxMapResolution,origin:t.origin,customOverlayExtent:t.customOverlayExtent,srs:t.srs,locateByExtent:E.default.openViewerByExtent,layerList:t.layerList,customLayer:t.customLayer},i=new M.a(n);e(W(C({},i,r)))}else if("WFSLayer"===t.type){var o={sld:t.sld,wfsUrl:t.url,wfsTypeName:t.typeName,layerName:t._name,layerOrigin:t.layerOrigin,userSrs:t.projection,minZoomLevel:t.minZoomLevel,useProxy:t.useProxy,version:t.version,id:t.id,visible:t.id in u?u[t.id].visible:t.visible};t.authRequired&&(o.authRequired=t.authRequired,t.credentials&&(o.credentials=t.credentials));var a={extent:t.extent,tileGridExtent:t.tileGridExtent,maxMapResolution:t.maxMapResolution,origin:t.origin,customOverlayExtent:t.customOverlayExtent,srs:t.srs,locateByExtent:E.default.openViewerByExtent,layerList:t.layerList,customLayer:t.customLayer},s=Object(w.a)(o);e(W(C({},s,a)))}});case 5:case"end":return t.stop()}},t,T)}));return function(e,n){return t.apply(this,arguments)}}()},rt=function(){return function(t,e){var n=e(),r=n.config.config,i=n.measurements,o=r.map,a=o.featureZoomLevel,s=o.maxZoomLevel,l=o.maxResolution,u=o.maxExtent,c=o.initialExtent,f=o.baseLayers,h=o.overlays,d=o.srsName,w=r.services,x=w.recording,E=w.address,M=w.depthTile,S=w.proxy,T=S.url,O=n.srs.userSrs,A={extent:c,tileGridExtent:u,maxMapResolution:l,origin:p.a.extent.getTopLeft(u),proxyUrl:T},I=function(t){return C({},t,A)};if(x){var R=new m.a({apiKey:n.config.apiKey,url:x.onlineResource,minZoomLevel:a,maxZoomLevel:s,projection:O,mapProjection:d});h.push(R);var P=new g.a({mapProjection:d});h.push(P)}if(E){var L=new v.a({url:E.onlineResource+"/wfs",minZoomLevel:a,maxZoomLevel:s,projection:O});h.push(L)}var N=new y.a;if(h.push(N),M){var k=new b.a({visible:!0});h.push(k)}i.allowedToMeasure&&h.push(new _.a({visible:!0}));var D=V(f,I),F=V(h,I);t(q(D)),t(K(F));for(var j=n.layer.baseLayer,U=!1,z=0;z<D.length;z++)D[z].id===j&&(U=!0);t(J("all",U?j:D[0].id)),t(nt())}},it=function(t){return function(e,n){var r=n(),i=r.layer,o=i.baseLayers,a=i.overlays,s=i.layerSettings,l=i.baseLayer,u=o.all,c=a.all;e(q(u,t));for(var f=!1,h=0;h<u.length;h++)u[h].id===l&&(f=!0);e(J(t,f?l:u[0].id)),c=c.map(function(t){var e=s[t.id];return e?C({},t,e):t}),e(K(c,t))}},ot=function(t){return function(e,n){var r=n(),i=r.layer,o=r.panoramaviewer,a=i.overlays,s=i.layerSettings,l=o.byId[t],u=[];a.all.forEach(function(t){if(("WFSLayer"===t.type||"SHPLayer"===t.type||"MeasurementLayer"===t.type||"SurfaceCursorLayer"===t.type||"AddressLayer"===t.type||"LayerGroup"===t.type&&t.layers&&("WFSLayer"===t.layers[0].type||"SHPLayer"===t.layers[0].type))&&u.push(t),"RecordingLayer"===t.type){var e=C({},t);e.visible=l.ui[S.a.RECORDINGS].visible,u.push(e)}}),u=u.map(function(t){var e=s[t.id];return e?C({},t,e):t}),e(K(u,t))}},at=function(t,e){return function(n,r){n(Object(h.createAction)(B,function(){return{layerId:t,visible:e}})());var i=r().layer.layerSettings;n(x.default.setProfileConfig(x.UserProfileConfigKeys.LAYER_SETTINGS,s()(i)))}},st={ADD_LAYER:R,UPDATE_LAYER:P,UPDATE_SUB_LAYER:L,ADD_LAYERS:k,TOGGLE_OVERLAY:D,SELECT_BASE_LAYER:F,COPY_LAYER_VISIBILITY:j,REMOVE_LAYER_STORE:z,RESTORE_COPIED_LAYER_VISIBILITY:U,SET_LAYER_VISIBILITY:B};e.default={addBaseLayer:H,addBaseLayers:q,addOverlay:W,addOverlays:K,updateLayer:Y,updateSubLayer:X,selectBaseLayer:J,toggleOverlay:Q,copyLayerVisibility:$,restoreCopiedLayerVisibility:tt,removeLayerStore:et,removeLayer:Z,initLayers:rt,initMapViewerLayers:it,initPanoramaViewerLayers:ot,setLayerVisibility:at}},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new s.a(function(t,n){function r(i,o){try{var a=e[i](o),l=a.value}catch(t){return void n(t)}if(!a.done)return s.a.resolve(l).then(function(t){r("next",t)},function(t){r("throw",t)});t(l)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"LOGIN",function(){return m}),n.d(e,"LOGOUT",function(){return g}),n.d(e,"LOCALSTORAGE_TOKEN_KEY",function(){return v}),n.d(e,"loginBasic",function(){return _}),n.d(e,"login",function(){return w}),n.d(e,"logout",function(){return x}),n.d(e,"ActionTypes",function(){return E});var i=n(21),o=n.n(i),a=n(19),s=n.n(a),l=n(34),u=(n.n(l),n(16)),c=(n.n(u),n(609)),f=n(63),h=n(148),d=n(209),p=this,m="@@login/LOGIN",g="@@login/LOGOUT",v="basicToken",y=Object(u.createAction)(m),b="The user name or password passed was empty.",_=function(t,e){return function(){var n=r(o.a.mark(function n(r,i){var a,s,l,u,m,g,_,w,x,E,M,S;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=i(),s=a.config,l=s.isApi,u=s.configUrl,m=!1,g=void 0,t||e){n.next=11;break}if(g=d.a.getItem(v)){n.next=8;break}return n.abrupt("return");case 8:m=!l,n.next=17;break;case 11:if(!t||!e){n.next=15;break}g=btoa(t+":"+e),n.next=17;break;case 15:throw r(y(new c.a(c.a.CREDENTIALS_EMPTY,b))),new Error(b);case 17:return _=Object(f.a)(g),w=new Request(u+h.configurationServicePaths.USER_INFO,{method:"GET",headers:new Headers(_)}),x=void 0,n.prev=20,n.next=23,fetch(w);case 23:x=n.sent,n.next=35;break;case 26:if(n.prev=26,n.t0=n.catch(20),E="Logging in failed. Response: "+n.t0.message,r(y(m?new c.a(c.a.AUTO_LOGIN_FAILED,E,{reason:c.a.SERVER_UNREACHABLE}):new c.a(c.a.SERVER_UNREACHABLE,E))),m){n.next=34;break}throw new Error(E);case 34:return n.abrupt("return");case 35:if(x.ok){n.next=47;break}if(M="Logging in failed with status code "+x.status+". Message: "+x.statusText,S=void 0,S=404===x.status?c.a.NOT_FOUND:401===x.status?c.a.UNAUTHORIZED:c.a.UNKNOWN_ERROR,r(y(m?new c.a(c.a.AUTO_LOGIN_FAILED,M,{reason:S}):new c.a(S,M,m))),m){n.next=44;break}throw new Error(M);case 44:return n.abrupt("return");case 45:n.next=48;break;case 47:return n.abrupt("return",r(y({username:t,basicToken:g})));case 48:case"end":return n.stop()}},n,p,[[20,26]])}));return function(t,e){return n.apply(this,arguments)}}()},w=function(t){var e=t.agree,n=t.username,i=t.password,a=t.tid;return function(){var t=r(o.a.mark(function t(r,s){var l;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l=s().config.isApi,e){t.next=4;break}throw r(y(new c.a(c.a.NOT_AGREED))),new Error(c.a.NOT_AGREED);case 4:if(!n||!i){t.next=9;break}return t.next=7,r(_(n,i));case 7:t.next=16;break;case 9:if(!a){t.next=14;break}return r(y({tidToken:a})),t.abrupt("return");case 14:throw r(y(new c.a(c.a.CREDENTIALS_EMPTY,b))),new Error(b);case 16:case"end":return t.stop()}},t,p)}));return function(e,n){return t.apply(this,arguments)}}()},x=Object(u.createAction)(g),E={LOGIN:m,LOGOUT:g};e.default={login:w,logout:x,loginBasic:_}},function(t,e,n){"use strict";(function(t){if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,e.nodebuffer=void 0!==t,e.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)e.blob=!1;else{var n=new ArrayBuffer(0);try{e.blob=0===new Blob([n],{type:"application/zip"}).size}catch(t){try{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=new r;i.append(n),e.blob=0===i.getBlob("application/zip").size}catch(t){e.blob=!1}}}}).call(e,n(144).Buffer)},function(t,e,n){var r=n(83);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(83),i=n(38)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e){t.exports=function(t){return t<0?-1:1}},function(t,e){t.exports=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))}},function(t,e){t.exports=function(t){return.375*t*(1+.25*t*(1+.46875*t))}},function(t,e){t.exports=function(t){return.05859375*t*t*(1+.75*t)}},function(t,e){t.exports=function(t){return t*t*t*(35/3072)}},function(t,e){t.exports=function(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}},function(t,e,n){var r=Math.PI/2,i=n(185);t.exports=function(t){return Math.abs(t)<r?t:t-i(t)*Math.PI}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(85).f,i=n(140),o=n(59)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){n(910);for(var r=n(58),i=n(116),o=n(161),a=n(59)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=r[u],f=c&&c.prototype;f&&!f[a]&&i(f,a,u),o[u]=o.Array}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(109),i=n(455),o=n(456),a=n(101),s=n(240),l=n(330),u={},c={},e=t.exports=function(t,e,n,f,h){var d,p,m,g,v=h?function(){return t}:l(t),y=r(n,f,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(d=s(t.length);d>b;b++)if((g=e?y(a(p=t[b])[0],p[1]):y(t[b]))===u||g===c)return g}else for(m=v.call(t);!(p=m.next()).done;)if((g=i(m,y,p.value,e))===u||g===c)return g};e.BREAK=u,e.RETURN=c},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){function r(t){return a(t)?i(t):o(t)}var i=n(958),o=n(467),a=n(169);t.exports=r},function(t,e,n){"use strict";e.a={PLAIN_COLOR:"PlainColor",PLAIN_DEPTH:"PlainDepth",SURFACE_CURSOR:"SurfaceCursor",HV_MAP:"HVMap",FOG:"Fog",DARKNESS:"Darkness",HEIGHT:"Height",ELEVATION:"Elevation"}},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=o(e);if(0===n)return[i(0),i(1)];if(0===r)return[i(0),i(0)];r<0&&(t=t.neg(),e=e.neg());var a=t.gcd(e);return a.cmpn(1)?[t.div(a),e.div(a)]:[t,e]}var i=n(489),o=n(341);t.exports=r},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new w.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return w.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(){return gt&&1===gt.getState().stage.stage}function o(){i()||Object(Q.a)("StreetSmartApi","API not initialized yet!")}function a(t){var e={};t&&t.component&&(e.viewer=t.component);var n=ut.VIEWER_ADDED;this.trigger(n,new ft.a(n,e))}function s(t){var e={};if(t){var n=this.getComponentRef(t);n&&n.component&&(e.viewer=n.component)}var r=ut.VIEWER_REMOVED;this.trigger(r,new ft.a(r,e))}function l(t,e){var n={};if(e){var r=this.getComponentRef(e);r&&(n.panoramaViewer=r.component)}t&&(n.activeMeasurement=Object(ct.n)(t));var i=lt.MEASUREMENT_CHANGED;this.trigger(i,new ft.a(i,n))}function u(){return K.a.name}function c(t){if(!(t.targetElement&&t.targetElement instanceof Element))throw new Error("NO_OR_INVALID_TARGET");B.a.unmountComponentAtNode(t.targetElement),bt()}function f(){return K.a.version}function h(){if(o(),gt){var t=gt.getState();if(t.config.config&&t.config.config.application&&t.config.config.application.functionalities)return t.config.config.application.functionalities.map(function(t){return t&&t.description}).filter(function(t){return!!t})}return[]}function d(){return"string"==typeof gt.getState().login.tidToken}function p(){d()&&Object(Q.c)("getAddressSettings");var t=void 0,e=void 0;if(gt){var n=gt.getState();n.config.config&&n.config.config.services.address&&(t=n.config.config.services.address.code,e=n.config.config.services.address.databaseResource)}return{locale:t,database:e}}function m(){var t=localStorage.getItem("StreetSmart/log");return null===t?[]:JSON.parse(t)}n.d(e,"a",function(){return vt}),n.d(e,"k",function(){return yt}),e.f=i,e.n=o,n.d(e,"b",function(){return _t}),n.d(e,"l",function(){return wt}),e.o=a,e.p=s,e.m=l,e.g=u,e.d=c,e.h=f,e.j=h,e.e=p,e.i=m;var g=n(55),v=n.n(g),y=n(21),b=n.n(y),_=n(19),w=n.n(_),x=n(4),E=n.n(x),M=n(50),S=n.n(M),T=n(54),C=n.n(T),O=n(23),A=n.n(O),I=n(17),R=n.n(I),P=n(493),L=n.n(P),N=n(399),k=(n.n(N),n(1104)),D=(n.n(k),n(434)),F=(n.n(D),n(1105),n(504)),j=(n.n(F),n(1108),n(0)),U=n.n(j),z=n(52),B=n.n(z),V=n(69),G=n.n(V),H=n(18),q=n.n(H),W=n(20),Y=n.n(W),X=n(36),Z=(n.n(X),n(204)),K=n(147),Q=n(111),J=n(41),$=n(1146),tt=n(250),et=n(89),nt=n(1426),rt=n(1428),it=n(1458),ot=(n.n(it),n(1467),n(272)),at=n(273),st=n(374),lt=n(632),ut=n(633),ct=n(92),ft=n(393),ht=n(53);n.d(e,"c",function(){return ht.ViewerType});var dt=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=R()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(A()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),pt="function"==typeof C.a&&"symbol"==typeof S.a?function(t){return typeof t}:function(t){return t&&"function"==typeof C.a&&t.constructor===C.a&&t!==C.a.prototype?"symbol":typeof t},mt=E.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};Z.a.setLocalStorageEnabled(!1);var gt=void 0,vt={},yt=function(){return gt?gt.getState():void 0},bt=function(){gt=null,vt={}},_t=function(t){return o(),U.a.createElement(rt.a,mt({},t,{store:gt}))},wt=function(){var t=r(b.a.mark(function t(e){var n,r,o,a,s,l,u,c,f,h,d,p,m,g,y,_,x,E,M,S,T,C,O,A,I,P,N;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(L.a.createEmitter(this),!i()){t.next=3;break}throw new Error("API ALREADY INITIALIZED");case 3:if(e&&!Y.a.isEmpty(e)){t.next=5;break}throw new Error("NO OPTIONS PROVIDED FOR INIT");case 5:if(n=e.username,r=e.password,o=e.apiKey,a=e.srs,s=e.locale,l=e.maxWindows,u=e.tid,c=e.configurationUrl,f=e.addressSettings,h=e.targetElement,n&&r&&("string"==typeof n||"string"==typeof r)||u&&"string"==typeof u){t.next=8;break}throw new Error("NO_OR_INVALID_CREDENTIALS");case 8:if(o&&"string"==typeof o){t.next=10;break}throw new Error("NO_OR_INVALID_APIKEY");case 10:if(Object(J.o)(a)){t.next=12;break}throw new Error("NO_OR_INVALID_SRS");case 12:if(!s||"string"==typeof s){t.next=14;break}throw new Error("WRONG_LOCALE_TYPEOF");case 14:if(!c||"string"==typeof c){t.next=16;break}throw new Error("INVALID_CONFIGURATION_URL");case 16:if(!f||"object"===(void 0===f?"undefined":pt(f))){t.next=18;break}throw new Error("INVALID_ADDRESS_SETTINGS");case 18:if(h&&h instanceof Element){t.next=20;break}throw new Error("NO_OR_INVALID_TARGET");case 20:for(CM.Proj4.setProj4(G.a),q.a.proj.setProj4(G.a),gt=Object($.a)(),t.prev=23,d=gt.dispatch,p=!0,m=!1,g=void 0,t.prev=28,y=R()(v()(nt.a));!(p=(_=y.next()).done);p=!0)x=dt(_.value,2),E=x[0],M=x[1],vt[E]=Object(X.bindActionCreators)(M,d);t.next=36;break;case 32:t.prev=32,t.t0=t.catch(28),m=!0,g=t.t0;case 36:t.prev=36,t.prev=37,!p&&y.return&&y.return();case 39:if(t.prev=39,!m){t.next=42;break}throw g;case 42:return t.finish(39);case 43:return t.finish(36);case 44:return vt.config.setIsApi(!0),c&&vt.config.setConfigUrl(c),t.prev=46,t.next=49,vt.login.login({username:n,password:r,tid:u,agree:!0});case 49:t.next=56;break;case 51:throw t.prev=51,t.t1=t.catch(46),S="init::"+t.t1.message,c&&(S+="::ConfigurationUrl might be Invalid"),new Error(S);case 56:return Object(tt.b)(gt),t.next=59,w.a.all([vt.srs.loadSrsList({url:Object(et.a)("//streetsmart.cyclomedia.com/api/v18.4/assets/srs/SpatialReference.xml")}),vt.intl.setLocale(s||"en-US")]);case 59:if(t.t2=function(t){if("object"===(void 0===t?"undefined":pt(t))&&t.payload instanceof Error)throw t.payload},t.sent.forEach(t.t2),vt.config.setApiKey(o),vt.srs.setUserSrs(a),!l){t.next=69;break}if(!(l>=1&&l<=3)){t.next=68;break}vt.windowmanager.setMaxWindows(parseInt(l,10)),t.next=69;break;case 68:throw new Error("INVALID MAX WINDOWS");case 69:return t.next=71,vt.stage.initApp();case 71:f&&f.locale&&f.database&&vt.config.setAddressSettings(f),T=gt.getState().config.config,T.services.recording&&(C=new ot.a({}),vt.layer.addOverlays([C])),T.services.depthTile&&(O=new st.a({visible:!0}),vt.layer.addOverlays([O])),A=gt.getState(),I=A.measurements,I.allowedToMeasure&&(P=new at.a({}),vt.layer.addOverlays([P])),N={width:"100%",height:"100%"},B.a.render(U.a.createElement(_t,{style:N}),h),t.next=85;break;case 81:throw t.prev=81,t.t3=t.catch(23),bt(),t.t3;case 85:case"end":return t.stop()}},t,this,[[23,81],[28,32,36,44],[37,,39,43],[46,51]])}));return function(e){return t.apply(this,arguments)}}()},function(t,e,n){"use strict";function r(){return o}function i(t){o=t}var o=!0;e.a={getLocalStorageEnabled:r,setLocalStorageEnabled:i}},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(1),a=n.n(o),s=n(4),l=n.n(s),u=n(18),c=n.n(u),f=n(34),h=n.n(f),d=n(15),p=(n.n(d),n(71)),m=n(351),g=(n(518),n(150)),v=l.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),a()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),b=(Object(d.defineMessages)({layerName:{id:"layer.Layer.name",description:"Default layer name",defaultMessage:"Layer"}}),function(){function t(e){var n=r(e,[]);i(this,t);var o=v({},t.defaults,{crossOrigin:n.authRequired?"anonymous":void 0},n);l()(this,o)}return y(t,[{key:"getResolutions",value:function(){var t=this.minZoomLevel,e=this.maxZoomLevel,n=this.maxMapResolution;return g.b.buildResolutions(n,e,t)}},{key:"toMapLayer",value:function(){h.a.warn(Object(p.b)(m.a.notImplemented,{method:this.constructor.name+".toMapLayer"}))}},{key:"updateMapLayer",value:function(t){t.setVisible(this.visible)}},{key:"_getMapSourceOptions",value:function(){var t=this.attribution,e=this.projection,n=this.urls,r={attributions:t?[new c.a.Attribution({html:t})]:void 0,projection:e};return n&&1===n.length?r.url=n[0]:n&&n.length>1?r.urls=n:r.url=this.url,r}},{key:"_getMapLayerOptions",value:function(){var t=this.isBaseLayer,e=this.visible,n=this.maxMapResolution,r=this.extent;return{minResolution:t?this.minResolution:g.b.getResolutionForZoomLevel(n,this.maxZoomLevel),maxResolution:t?this.maxResolution:g.b.getResolutionForZoomLevel(n,this.minZoomLevel-1),visible:e,extent:r,preload:2,isBaseLayer:t,name:this.name}}},{key:"tileGrid",get:function(){var t=this.origin,e=this.tileGridExtent;return{resolutions:this.getResolutions(),extent:e,origin:t}}},{key:"key",get:function(){return this.id}},{key:"name",get:function(){return this._name||(this.nameIntl?Object(p.b)({id:this.nameIntl}):null)},set:function(t){this._name=t}}]),t}());b.defaults={type:"Layer",isBaseLayer:!1,id:void 0,name:null,nameIntl:"layer.Layer",url:void 0,apiKey:void 0,minResolution:0,maxResolution:1e6,minZoomLevel:0,maxZoomLevel:99,authRequired:!1,tiled:!1,visible:!1,sortOrder:-1},e.a=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(61),o=r(i),a=n(13),s=r(a),l=n(11),u=r(l),c=n(8),f=r(c),h=n(9),d=r(h),p=n(10),m=r(p),g=n(12),v=r(g),y=n(0),b=r(y),_=n(3),w=r(_),x=n(35),E=r(x),M=n(14),S=n(56),T=n(103),C=r(T),O={active:w.default.bool,disabled:w.default.bool,block:w.default.bool,onClick:w.default.func,componentClass:E.default,href:w.default.string,type:w.default.oneOf(["button","reset","submit"])},A={active:!1,block:!1,disabled:!1},I=function(t){function e(){return(0,f.default)(this,e),(0,d.default)(this,t.apply(this,arguments))}return(0,m.default)(e,t),e.prototype.renderAnchor=function(t,e){return b.default.createElement(C.default,(0,u.default)({},t,{className:(0,v.default)(e,t.disabled&&"disabled")}))},e.prototype.renderButton=function(t,e){var n=t.componentClass,r=(0,s.default)(t,["componentClass"]),i=n||"button";return b.default.createElement(i,(0,u.default)({},r,{type:r.type||"button",className:e}))},e.prototype.render=function(){var t,e=this.props,n=e.active,r=e.block,i=e.className,o=(0,s.default)(e,["active","block","className"]),a=(0,M.splitBsProps)(o),l=a[0],c=a[1],f=(0,u.default)({},(0,M.getClassSet)(l),(t={active:n},t[(0,M.prefix)(l,"block")]=r,t)),h=(0,v.default)(i,f);return c.href?this.renderAnchor(c,h):this.renderButton(c,h)},e}(b.default.Component);I.propTypes=O,I.defaultProps=A,e.default=(0,M.bsClass)("btn",(0,M.bsSizes)([S.Size.LARGE,S.Size.SMALL,S.Size.XSMALL],(0,M.bsStyles)([].concat((0,o.default)(S.State),[S.Style.DEFAULT,S.Style.PRIMARY,S.Style.LINK]),S.Style.DEFAULT,I))),t.exports=e.default},function(t,e,n){"use strict";function r(t,e,n,r,i){n&&(t._notifying=!0,n.call.apply(n,[t,r].concat(i)),t._notifying=!1),t._values[e]=r,t.unmounted||t.forceUpdate()}e.__esModule=!0;var i=n(1220),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a={shouldComponentUpdate:function(){return!this._notifying}};e.default=(0,o.default)(a,r),t.exports=e.default},function(t,e,n){"use strict";n.d(e,"a",function(){return P});var r=n(76),i=n.n(r),o=n(16),a=(n.n(o),n(18)),s=n.n(a),l=n(34),u=n.n(l),c=n(20),f=(n.n(c),n(33)),h=n(111),d=n(150),p=n(113),m=n(27),g=function(t){return function(e,n){t||Object(h.b)("addMapViewer");var r=n(),i=r.mapviewers,a=r.config,s=i.startupExtent,l=i.mapShowScaleBar,u=i.mapShowZoomSlider,c=i.opacity,f=s&&s.extent,d=a.config.map,m=d.initialExtent,g=d.maxResolution,v=d.srsName,y=d.maxZoomLevel,b=f||m,_={extent:b,maxExtent:m,projection:v,maxResolution:g,maxZoomLevel:y,showScaleBar:l,showZoomSlider:u,activePanel:p.a.NONE,navbarExpanded:!0,navbarVisible:!0,rotation:0,viewerSettings:{brightness:100,contrast:100,opacity:c}};e(Object(o.createAction)("@@MapViewer/ADD_MAP_VIEWER",function(){return{wid:t,options:_}})())}},v=Object(o.createAction)("@@MapViewer/CLONE_MAP_VIEWER",function(t,e){return{toId:t,fromId:e}}),y=Object(o.createAction)("@@MapViewer/REMOVE_MAP_VIEWER",function(t){return{id:t}}),b=Object(o.createAction)("@@MapViewer/UPDATE_MAP_VIEWER_PARAMS",function(t,e){return{wid:t,options:e}}),_=Object(o.createAction)("@@MapViewer/UPDATE_MAP_RESOLUTION",function(t,e){return{wid:t,resolution:e}}),w=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(r,i){var o=e;if(n){var a=i().config.config.map.maxResolution,s=Math.floor(d.b.getZoomLevelForResolution(a,o));o=d.b.getResolutionForZoomLevel(a,s)}r(_(t,o))}},x=function(t,e){return function(n,r){var i=r().mapviewers.byId[t].maxResolution,o=d.b.getResolutionForZoomLevel(i,e);n(_(t,o))}},E=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:99;return function(r,i){var o=i().mapviewers.byId[t],a=o.maxResolution,s=o.resolution,l=void 0;if(!s||isNaN(s))l=e;else{var u=Math.round(d.b.getZoomLevelForResolution(a,s)),c=Object(f.c)(u,e,n);c!==u&&(l=c)}if(l){var h=d.b.getResolutionForZoomLevel(a,l);r(_(t,h))}}},M=Object(o.createAction)("@@MapViewer/UPDATE_MAP_CENTER",function(t,e){return{wid:t,center:e}}),S=function(t,e,n){return function(r,i){var o=i().config.config.map.srsName,a=e;n!==o&&(a=s.a.proj.transform(a,n,o)),r(M(t,a))}},T=function(t,e,n,r){return function(i,o){var a=e,l=r,f=o().mapviewers.byId[t].projection;n!==f&&(a=s.a.proj.transformExtent(a,n,f));var h=Object(c.some)(a,function(t){return t});if(!l){var p=document.getElementById(t);p&&(l=[p.offsetWidth,p.offsetHeight])}if(h)if(l){var m=s.a.extent.getCenter(a),g=d.b.getResolutionForExtent(a,l);i(M(t,m)),i(w(t,g))}else i(b(t,{extent:a,center:void 0,resolution:void 0}));else u.a.warn("setMapExtent:: Extent is invalid")}},C=function(t,e){return function(n){n(Object(o.createAction)("@@MapViewer/SET_MAP_ZOOM_SLIDER_VISIBILITY",function(){return{wid:t,showZoomSlider:e}})()),n(m.default.setProfileGlobal(m.UserProfileGlobalKeys.MAP_SHOW_ZOOM_SLIDER,i()(e)))}},O=function(t,e){return function(n){n(Object(o.createAction)("@@MapViewer/SET_MAP_SCALE_BAR_VISIBILITY",function(){return{wid:t,showScaleBar:e}})()),n(m.default.setProfileGlobal(m.UserProfileGlobalKeys.MAP_SHOW_SCALE_BAR,i()(e)))}},A=Object(o.createAction)("@@MapViewer/SET_ACTIVE_PANEL",function(t,e){return{wid:t,panel:e}}),I=function(t,e){return function(n){n(Object(o.createAction)("@@MapViewer/SET_STARTUP_MAP_EXTENT",function(){return{extent:t,srs:e}})()),n(m.default.setProfileConfig(m.UserProfileConfigKeys.STARTUP_EXTENT,i()({extent:t,srs:e})))}},R=function(t){return function(e){e(Object(o.createAction)("@@MapViewer/SET_OPACITY",function(){return{opacity:t}})()),e(m.default.setProfileGlobal(m.UserProfileGlobalKeys.OPACITY,i()(t)))}},P={ADD_MAP_VIEWER:"@@MapViewer/ADD_MAP_VIEWER",CLONE_MAP_VIEWER:"@@MapViewer/CLONE_MAP_VIEWER",REMOVE_MAP_VIEWER:"@@MapViewer/REMOVE_MAP_VIEWER",UPDATE_MAP_VIEWER_PARAMS:"@@MapViewer/UPDATE_MAP_VIEWER_PARAMS",SET_MAP_CENTER:"@@MapViewer/UPDATE_MAP_CENTER",SET_MAP_RESOLUTION:"@@MapViewer/UPDATE_MAP_RESOLUTION",SET_MAP_ZOOM_SLIDER_VISIBILITY:"@@MapViewer/SET_MAP_ZOOM_SLIDER_VISIBILITY",SET_MAP_SCALE_BAR_VISIBILITY:"@@MapViewer/SET_MAP_SCALE_BAR_VISIBILITY",SET_ACTIVE_PANEL:"@@MapViewer/SET_ACTIVE_PANEL",SET_STARTUP_MAP_EXTENT:"@@MapViewer/SET_STARTUP_MAP_EXTENT",SET_OPACITY:"@@MapViewer/SET_OPACITY"};e.b={addMapViewer:g,cloneMapViewer:v,removeMapViewer:y,updateMapViewerParams:b,setMapCenter:S,setMapExtent:T,setMapZoom:x,setMapZoomUsingRange:E,setMapResolution:w,setMapZoomSliderVisibility:C,setMapScaleBarVisibility:O,setActivePanel:A,setStartupMapExtent:I,setOpacity:R}},function(t,e,n){"use strict";var r=n(204),i=void 0;if(r.a.getLocalStorageEnabled()){var o=localStorage.getItem("StreetSmart/currentUser");o&&(i=o)}var a=function(){return i},s=function(t){return"StreetSmart/"+a()+"/"+t},l=function(t){return r.a.getLocalStorageEnabled()&&i?localStorage.getItem(s(t)):void 0},u=function(t,e){r.a.getLocalStorageEnabled()&&i&&localStorage.setItem(s(t),e)},c=function(t){r.a.getLocalStorageEnabled()&&localStorage.removeItem(s(t))},f=function(t){r.a.getLocalStorageEnabled()&&t&&(i=t,localStorage.setItem("StreetSmart/currentUser",t))},h=function(){r.a.getLocalStorageEnabled()&&(localStorage.removeItem("StreetSmart/currentUser"),i=void 0)};e.a={getItem:l,setItem:u,removeItem:c,setCurrentUser:f,removeCurrentUser:h}},function(t,e,n){"use strict";(function(t){if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,e.nodebuffer=void 0!==t,e.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)e.blob=!1;else{var n=new ArrayBuffer(0);try{e.blob=0===new Blob([n],{type:"application/zip"}).size}catch(t){try{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=new r;i.append(n),e.blob=0===i.getBlob("application/zip").size}catch(t){e.blob=!1}}}}).call(e,n(144).Buffer)},function(t,e,n){"use strict";var r=n(177);n.d(e,"a",function(){return r.a});var i=(n(1338),n(1339),n(573),n(1340),n(371),n(574),n(212),n(213),n(215),n(1341));n.d(e,"b",function(){return i.a});var o=n(214);n.d(e,"c",function(){return o.a})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=(n(177),n(213),n(214)),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function(){function t(e,n,i){r(this,t),this.type=e,this.method=n,this.extrinsics=i}return s(t,[{key:"update",value:function(){}},{key:"toJson",value:function(){return{type:this.type,method:this.method,extrinsics:this.extrinsics.toJson()}}}],[{key:"fromJson",value:function(t){switch(t.type){case a.a.MAP:return n(573).fromJson(t);case a.a.PANORAMA:return n(215).fromJson(t);case a.a.OBLIQUE:return n(574).fromJson(t);default:throw new Error("Error parsing observation")}}}]),t}();e.a=l},function(t,e,n){"use strict";e.a={MEASURE_SMART:"MeasureSmart",SMART_CLICK:"SmartClick",MANUAL:"Manual"}},function(t,e,n){"use strict";e.a={MAP:"map",PANORAMA:"panorama",OBLIQUE:"oblique"}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=u()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(s.a?s()(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(6),s=n.n(a),l=n(5),u=n.n(l),c=n(7),f=n.n(c),h=n(51),d=n.n(h),p=n(1),m=n.n(p),g=n(4),v=n.n(g),y=n(235),b=n.n(y),_=n(100),w=n.n(_),x=n(177),E=n(212),M=n(214),S=v.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),m()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),C=function t(e,n,r){null===e&&(e=Function.prototype);var i=d()(e,n);if(void 0===i){var o=f()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},O=function(t){function e(t,n,o,a,s){r(this,e);var l=i(this,(e.__proto__||f()(e)).call(this,M.a.PANORAMA,t,o));return l._direction=w.a.create(),l._directionHV=b.a.create(),l.imageId=n,l.groundLevelOffset=a,l.update(s),l}return o(e,t),T(e,[{key:"update",value:function(t){var e=this._direction;w.a.normalize(e,t);var n=e[0],r=e[1],i=e[2];b.a.set(this._directionHV,Math.atan2(r,n),Math.asin(i))}},{key:"toJson",value:function(){return S({},C(e.prototype.__proto__||f()(e.prototype),"toJson",this).call(this),{imageId:this.imageId,groundLevelOffset:this.groundLevelOffset,direction:w.a.clone([],this.direction)})}},{key:"direction",get:function(){return this._direction}},{key:"directionHV",get:function(){return this._directionHV}}],[{key:"fromJson",value:function(t){return new e(t.method,t.imageId,x.a.fromJson(t.extrinsics),t.groundLevelOffset,t.direction)}}]),e}(E.a);e.default=O},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new m.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return m.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=d()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(f.a?f()(t,e):t.__proto__=e)}var l=n(21),u=n.n(l),c=n(6),f=n.n(c),h=n(5),d=n.n(h),p=n(19),m=n.n(p),g=n(7),v=n.n(g),y=n(51),b=n.n(y),_=n(1),w=n.n(_),x=n(50),E=n.n(x),M=n(54),S=n.n(M),T=n(4),C=n.n(T),O=n(18),A=n.n(O),I=n(20),R=n.n(I),P=n(15),L=(n.n(P),n(151)),N=n(63),k=n(143),D=n(580),F=C.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j="function"==typeof S.a&&"symbol"==typeof E.a?function(t){return typeof t}:function(t){return t&&"function"==typeof S.a&&t.constructor===S.a&&t!==S.a.prototype?"symbol":typeof t},U=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),w()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),z=function t(e,n,r){null===e&&(e=Function.prototype);var i=b()(e,n);if(void 0===i){var o=v()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},B=(Object(P.defineMessages)({layerName:{id:"layer.WFSLayer.name",description:"Default WFS layers name",defaultMessage:"WFS layer"}}),function(t){function e(t){var n=i(t,[]);return o(this,e),a(this,(e.__proto__||v()(e)).call(this,R.a.defaults({},n,e.defaults)))}return s(e,t),U(e,[{key:"toMapLayer",value:function(){var t=z(e.prototype.__proto__||v()(e.prototype),"toMapLayer",this).call(this),n=this.sld;if(n&&n.xmlText){t.getSource().on("addfeature",function(t){var e=t.feature.getProperties(),n=void 0;for(var r in e)if(!n){var i=e[r]&&"object"===j(e[r])&&e[r].getType;if(i)switch(e[r].constructor){case A.a.geom.Point:case A.a.geom.LineString:case A.a.geom.LinearRing:case A.a.geom.Polygon:case A.a.geom.MultiPoint:case A.a.geom.MultiLineString:case A.a.geom.MultiPolygon:case A.a.geom.GeometryCollection:case A.a.geom.Circle:n=r;break;default:n=void 0}}n&&t.feature.setGeometryName(n)});var r=new D.a;r.read(n.xmlText.trim()),r.setStyle(n.SLD_WFS_typeName),this.mapLayer.setStyle(function(t,e){return r.styleFunction(t,e)}),r.style.tooltip&&t.set("tooltipProperties",r.style.tooltip[0]),r.style.attributeInfo&&t.set("attributeInfo",r.style.attributeInfo[0])}return t.set("onHover",this._onFeatureHover),t}},{key:"_getMapSourceOptions",value:function(){var t=this.tiled?A.a.loadingstrategy.tile(A.a.tilegrid.createXYZ({maxZoom:this.maxZoomLevel,minZoom:this.minZoomLevel})):A.a.loadingstrategy.bbox,n=this.buildCustomLoader();return F({},z(e.prototype.__proto__||v()(e.prototype),"_getMapSourceOptions",this).call(this),{strategy:t,loader:n})}},{key:"buildUrl",value:function(t,e,n){var r=n instanceof A.a.proj.Projection?n.getCode():n,i=this.url;return i.indexOf("?")<0?i+="?":"?"!==i.charAt(i.length-1)&&(i+="&"),this.useProxy&&(i=""+this.proxyUrl+i),"POST"===this.method?i:i+"SERVICE=WFS&VERSION="+this.version+"&REQUEST=GetFeature&SRSNAME="+r+"&TYPENAME="+this.typeName+"&BBOX="+t.join(",")+","+r}},{key:"buildBody",value:function(t,e){return null}},{key:"buildCustomLoader",value:function(){var t=this.buildUrl.bind(this),e=this.buildBody.bind(this),n=this.version,i=this.authRequired,o=this.credentials,a=this.method,s=this.projection;return function(){function l(t,e,n){return c.apply(this,arguments)}var c=r(u.a.mark(function r(l,c,f){var h,d,p,m,g,v,y,b,_,w,x,E,M;return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return h=A.a.proj.transformExtent(l,f,s),d=t(h,c,s),p="POST"===a&&e?e(h,s):void 0,m={"Content-Type":"application/xml"},i&&(o&&o.username&&o.password?(g=o.username,v=o.password,y=btoa(g+":"+v),m=F({},m,Object(N.a)(y))):m=F({},m,Object(N.b)())),b=new Request(d,{method:a,mode:"cors",headers:new Headers(m),body:p}),this.clear(),r.prev=7,r.next=10,fetch(b);case 10:return _=r.sent,r.next=13,Object(k.a)(_,"text");case 13:w=r.sent,x="1.0.0"===n?new A.a.format.GML2:new A.a.format.GML3,E=new A.a.format.WFS({gmlFormat:x}),M=E.readFeatures(w,{dataProjection:s,featureProjection:f}),this.addFeatures(M),r.next=23;break;case 20:throw r.prev=20,r.t0=r.catch(7),new Error("Error in loading wfs features!\nMessage: "+r.t0.message+"\nURL: "+d);case 23:case"end":return r.stop()}},r,this,[[7,20]])}));return l}()}},{key:"_onFeatureHover",value:function(){}}]),e}(L.a));B.defaults={type:"WFSLayer",nameIntl:"layer.WFSLayer.name",method:"GET"},e.a=B},function(t,e,n){"use strict";var r=n(15);n.n(r);e.a=Object(r.defineMessages)({m:{id:"units.m",description:"Short unit format for meters",defaultMessage:"m"},m2:{id:"units.m2",description:"Short unit format for square meters",defaultMessage:"mÂ²"},m3:{id:"units.m3",description:"Short unit format for cubic meters",defaultMessage:"mÂ³"},ft:{id:"units.ft",description:"Short unit format for feet",defaultMessage:"ft"},ft2:{id:"units.ft2",description:"Short unit format for square feet",defaultMessage:"ftÂ²"},ft3:{id:"units.ft3",description:"Short unit format for cubic feet",defaultMessage:"ftÂ³"},"us-ft":{id:"units.us-ft",description:"Short unit format for US feet",defaultMessage:"us-ft"},"us-ft2":{id:"units.us-ft2",description:"Short unit format for square US feet",defaultMessage:"us-ftÂ²"},"us-ft3":{id:"units.us-ft3",description:"Short unit format for cubic US feet",defaultMessage:"us-ftÂ³"},degrees:{id:"units.deg",description:"Short unit format for degrees",defaultMessage:"deg"},percent:{id:"units.percent",description:"Short unit format for percent",defaultMessage:"%"},"?":{id:"units.unknown",description:"Short unit format for unknown unit",defaultMessage:"?"}})},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new s.a(function(t,n){function r(i,o){try{var a=e[i](o),l=a.value}catch(t){return void n(t)}if(!a.done)return s.a.resolve(l).then(function(t){r("next",t)},function(t){r("throw",t)});t(l)}return r("next")})}}var i=n(21),o=n.n(i),a=n(19),s=n.n(a),l=n(23),u=n.n(l),c=n(17),f=n.n(c),h=n(63),d=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=f()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(u()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=void 0,m=function(t){throw new Error(t)};e.a={initRecordingClient:function(t,e){p=new CM.aperture.WfsRecordingClient({uriManager:new CM.aperture.WfsRecordingUriManager({apiKey:e,dataUri:t,withCredentials:!0}),authHeaders:Object(h.b)()})},getRecordingById:function(t,e){var n=this;return r(o.a.mark(function r(){return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return p||m("RecordingLoader:: Recording client not initialized!"),r.next=3,n.handlePromiseCallback(p.fetchRecording(t,e));case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},r,n)}))()},getRecordingsByRadius:function(t,e,n,i){var a=d(t,2),s=a[0],l=a[1],u=this;return r(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return p||m("RecordingLoader:: Recording client not initialized!"),t.next=3,u.handlePromiseCallback(p.requestWithinRadius(s,l,n,e,i));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,u)}))()},getRecordingsByBBOX:function(t,e,n){var i=d(t,4),a=i[0],s=i[1],l=i[2],u=i[3],c=this;return r(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return p||m("RecordingLoader:: Recording client not initialized!"),t.next=3,c.handlePromiseCallback(p.requestWithinBBOX(a,s,l,u,e,n));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,c)}))()},handlePromiseCallback:function(t){return t.then(function(t){return t&&0!==t.length||m("RecordingLoader:: No recordings found"),t},function(t){m("arealoadfailure"===t.message?"RecordingLoader:: Area load failure!":"REQUEST_FAILED"===t.message?"RecordingLoader:: Request failed!":"RecordingLoader:: Error parsing RecordingLoad GML response!")})}}},function(t,e,n){"use strict";e.a={buttons:{CENTER_MAP:"oblique.centerMap",IMAGE_INFORMATION:"oblique.imageInformation",COPY_LINK:"oblique.copyLink",SAVE_IMAGE:"oblique.saveImage",ZOOM_IN:"oblique.zoomIn",ZOOM_OUT:"oblique.zoomOut",SWITCH_DIRECTION:"oblique.switchDirection",TOGGLE_NADIR:"oblique.toggleNadir"},TIME_TRAVEL:"oblique.timeTravel",NAVBAR:"oblique.navbar"}},function(t,e,n){"use strict";var r=n(15);n.n(r);e.a=Object(r.defineMessages)({copied:{id:"Common.copied",description:"Text to show when the user has copied something.",defaultMessage:"Copied!"},name:{id:"Common.name",description:'Generic "name" field',defaultMessage:"Name"},description:{id:"Common.description",description:'Generic "description" field',defaultMessage:"Description"},na:{id:"Common.na",description:'N/A: abbreviation for "not applicable" or "not available"',defaultMessage:"N/A"}})},function(t,e,n){var r=n(25),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e,n){var r=n(72),i=n(44),o=n(132);t.exports=function(t){return function(e,n,a){var s,l=r(e),u=i(l.length),c=o(a,u);if(t&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(83);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(32),i=n(83),o=n(38)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(38)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(22);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(66),i=n(67),o=n(29),a=n(96),s=n(38);t.exports=function(t,e,n){var l=s(t),u=n(a,l,""[t]),c=u[0],f=u[1];o(function(){var e={};return e[l]=function(){return 7},7!=""[t](e)})&&(i(String.prototype,t,c),r(RegExp.prototype,l,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)}))}},function(t,e,n){var r=n(22),i=n(57),o=n(38)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[o])?e:i(n)}},function(t,e,n){"use strict";var r=n(25),i=n(2),o=n(67),a=n(138),s=n(114),l=n(137),u=n(136),c=n(32),f=n(29),h=n(226),d=n(154),p=n(288);t.exports=function(t,e,n,m,g,v){var y=r[t],b=y,_=g?"set":"add",w=b&&b.prototype,x={},E=function(t){var e=w[t];o(w,t,"delete"==t?function(t){return!(v&&!c(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(v||w.forEach&&!f(function(){(new b).entries().next()}))){var M=new b,S=M[_](v?{}:-0,1)!=M,T=f(function(){M.has(1)}),C=h(function(t){new b(t)}),O=!v&&f(function(){for(var t=new b,e=5;e--;)t[_](e,e);return!t.has(-0)});C||(b=e(function(e,n){u(e,b,t);var r=p(new y,e,b);return void 0!=n&&l(n,g,r[_],r),r}),b.prototype=w,w.constructor=b),(T||O)&&(E("delete"),E("has"),g&&E("get")),(O||S)&&E(_),v&&w.clear&&delete w.clear}else b=m.getConstructor(e,t,g,_),a(b.prototype,n),s.NEED=!0;return d(b,t),x[t]=b,i(i.G+i.W+i.F*(b!=y),x),v||m.setStrong(b,t,g),b}},function(t,e,n){for(var r,i=n(25),o=n(66),a=n(129),s=a("typed_array"),l=a("view"),u=!(!i.ArrayBuffer||!i.DataView),c=u,f=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[h[f++]])?(o(r.prototype,s,!0),o(r.prototype,l,!0)):c=!1;t.exports={ABV:u,CONSTR:c,TYPED:s,VIEW:l}},function(t,e,n){"use strict";t.exports=n(130)||!n(29)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(25)[t]})},function(t,e,n){"use strict";var r=n(2);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";var r=n(2),i=n(57),o=n(82),a=n(137);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,s,l=arguments[1];return i(this),e=void 0!==l,e&&i(l),void 0==t?new this:(n=[],e?(r=0,s=o(l,arguments[2],2),a(t,!1,function(t){n.push(s(t,r++))})):a(t,!1,n.push,n),new this(n))}})}},function(t,e,n){var r=n(108),i={};i.create=function(){var t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},i.fromValues=function(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},i.set=function(t,e,n){return t[0]=e,t[1]=n,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},i.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},i.lerp=function(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t},i.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},i.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},i.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},i.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,o,a){var s,l;for(n||(n=2),r||(r=0),l=i?Math.min(i*n+r,e.length):e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}(),i.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},i.equals=function(t,e){var n=t[0],i=t[1],o=e[0],a=e[1];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))},t.exports=i},function(t,e){var n=Math.PI/2;t.exports=function(t,e,r){var i=t*r,o=.5*t;return i=Math.pow((1-i)/(1+i),o),Math.tan(.5*(n-e))/i}},function(t,e){var n=Math.PI/2;t.exports=function(t,e){for(var r,i,o=.5*t,a=n-2*Math.atan(e),s=0;s<=15;s++)if(r=t*Math.sin(a),i=n-2*Math.atan(e*Math.pow((1-r)/(1+r),o))-a,a+=i,Math.abs(i)<=1e-10)return a;return-9999}},function(t,e){t.exports=!0},function(t,e,n){var r=n(101),i=n(446),o=n(321),a=n(319)("IE_PROTO"),s=function(){},l=function(){var t,e=n(316)("iframe"),r=o.length;for(e.style.display="none",n(448).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;r--;)delete l.prototype[o[r]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=l(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(313),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(241)("meta"),i=n(75),o=n(140),a=n(85).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(139)(function(){return l(Object.preventExtensions({}))}),c=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[r].i},h=function(t,e){if(!o(t,r)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[r].w},d=function(t){return u&&p.NEED&&l(t)&&!o(t,r)&&c(t),t},p=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:h,onFreeze:d}},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return r});var r=(n(928),function(e){var n=-1;e.requestAnimationFrame=function(r){-1===n&&(n=t.requestAnimationFrame(function(t){n=-1,e.animateFrame(t,r)}))}})}).call(e,n(37))},function(t,e,n){var r=n(39),i=n(26),o=n(139);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(194),i=n(59)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){"use strict";n.d(e,"f",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"d",function(){return l}),n.d(e,"c",function(){return u});var r={TILED:"Tiled",EQR:"Equirectangular"},i=function(t,e){var n=t.length-1;return{type:r.TILED,zoomResolutions:t,maxZoom:n,maxZoomResolution:t[n],zoomTileDimensionalities:e}},o=i([256,512,1536],["H",1,3]),a=i([256,512,1536,4608],["H",1,3,9]),s=i([80,160,320,640,1280],[1,1,1,1,2]),l={type:r.EQR,width:4800,height:2400},u={Dcr9Tiling:o,Dcr10Tiling:a,SwedishTiling:s,NoTiling:l}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(){function t(){r(this,t),this.sceneReady=!0}return a(t,[{key:"destroy",value:function(){}},{key:"directCamera",value:function(t){}},{key:"getRenderInfo",value:function(){}},{key:"getReady",value:function(){return this.sceneReady}},{key:"resize",value:function(t){}}]),t}();e.a=s},function(t,e,n){"use strict";"use restrict";function r(t){var e=32;return t&=-t,t&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,n;return e=(t>65535)<<4,t>>>=e,n=(t>255)<<3,t>>>=n,e|=n,n=(t>15)<<2,t>>>=n,e|=n,n=(t>3)<<1,t>>>=n,(e|=n)|t>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return t-=t>>>1&1431655765,16843009*((t=(858993459&t)+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},e.deinterleave2=function(t,e){return t=t>>>e&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),(t=65535&(t|t>>>16))<<16>>16},e.interleave3=function(t,e,n){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|=e<<1,n&=1023,n=4278190335&(n|n<<16),n=251719695&(n|n<<8),n=3272356035&(n|n<<4),n=1227133513&(n|n<<2),t|n<<2},e.deinterleave3=function(t,e){return t=t>>>e&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),(t=1023&(t|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},function(t,e,n){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}function a(t,e,n){for(var r=0,i=Math.min(t.length,n),o=e;o<i;o++){var a=t.charCodeAt(o)-48;r<<=4,r|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return r}function s(t,e,n,r){for(var i=0,o=Math.min(t.length,n),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}function l(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}function u(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,l=a/67108864|0;n.words[0]=s;for(var u=1;u<r;u++){for(var c=l>>>26,f=67108863&l,h=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=h;d++){var p=u-d|0;i=0|t.words[p],o=0|e.words[d],a=i*o+f,c+=a/67108864|0,f=67108863&a}n.words[u]=0|f,l=0|c}return 0!==l?n.words[u]=0|l:n.length--,n.strip()}function c(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,l=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=l;u++){var c=o-u,f=0|t.words[c],h=0|e.words[u],d=f*h,p=67108863&d;a=a+(d/67108864|0)|0,p=p+s|0,s=67108863&p,a=a+(p>>>26)|0,i+=a>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}function f(t,e,n){return(new h).mulp(t,e,n)}function h(t,e){this.x=t,this.y=e}function d(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function p(){d.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function m(){d.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function g(){d.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function v(){d.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function y(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function b(t){y.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;var _;try{_=n(1023).Buffer}catch(t){}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36),t=t.toString().replace(/\s+/g,"");var i=0;"-"===t[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,i,o=0;for(n=t.length-6,r=0;n>=e;n-=6)i=a(t,n,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,r++);n+6!==e&&(i=a(t,e,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,a=o%r,l=Math.min(o,o-a)+n,u=0,c=n;c<l;c+=r)u=s(t,c,c+r,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var f=1;for(u=s(t,c,t.length,e),c=0;c<a;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){t=t||10,e=0|e||1;var n;if(16===t||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],l=(16777215&(s<<i|o)).toString(16);o=s>>>24-i&16777215,n=0!==o||a!==this.length-1?w[6-l.length]+l+n:l+n,i+=2,i>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=x[t],c=E[t];n="";var f=this.clone();for(f.negative=0;!f.isZero();){var h=f.modn(c).toString(t);f=f.idivn(c),n=f.isZero()?h+n:w[u-h.length]+h+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r(void 0!==_),this.toArrayLike(_,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,l="le"===e,u=new t(o),c=this.clone();if(l){for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),u[s]=a;for(;s<o;s++)u[s]=0}else{for(s=0;s<o-i;s++)u[s]=0;for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),u[o-s-1]=a}return u},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();var n,r;this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;var r,i;n>0?(r=this,i=t):(r=t,i=this);for(var o=0,a=0;a<i.length;a++)e=(0|r.words[a])-(0|i.words[a])+o,o=e>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)e=(0|r.words[a])+o,o=e>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var M=function(t,e,n){var r,i,o,a=t.words,s=e.words,l=n.words,u=0,c=0|a[0],f=8191&c,h=c>>>13,d=0|a[1],p=8191&d,m=d>>>13,g=0|a[2],v=8191&g,y=g>>>13,b=0|a[3],_=8191&b,w=b>>>13,x=0|a[4],E=8191&x,M=x>>>13,S=0|a[5],T=8191&S,C=S>>>13,O=0|a[6],A=8191&O,I=O>>>13,R=0|a[7],P=8191&R,L=R>>>13,N=0|a[8],k=8191&N,D=N>>>13,F=0|a[9],j=8191&F,U=F>>>13,z=0|s[0],B=8191&z,V=z>>>13,G=0|s[1],H=8191&G,q=G>>>13,W=0|s[2],Y=8191&W,X=W>>>13,Z=0|s[3],K=8191&Z,Q=Z>>>13,J=0|s[4],$=8191&J,tt=J>>>13,et=0|s[5],nt=8191&et,rt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],lt=8191&st,ut=st>>>13,ct=0|s[8],ft=8191&ct,ht=ct>>>13,dt=0|s[9],pt=8191&dt,mt=dt>>>13;n.negative=t.negative^e.negative,n.length=19,r=Math.imul(f,B),i=Math.imul(f,V),i=i+Math.imul(h,B)|0,o=Math.imul(h,V);var gt=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(p,B),i=Math.imul(p,V),i=i+Math.imul(m,B)|0,o=Math.imul(m,V),r=r+Math.imul(f,H)|0,i=i+Math.imul(f,q)|0,i=i+Math.imul(h,H)|0,o=o+Math.imul(h,q)|0;var vt=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(v,B),i=Math.imul(v,V),i=i+Math.imul(y,B)|0,o=Math.imul(y,V),r=r+Math.imul(p,H)|0,i=i+Math.imul(p,q)|0,i=i+Math.imul(m,H)|0,o=o+Math.imul(m,q)|0,r=r+Math.imul(f,Y)|0,i=i+Math.imul(f,X)|0,i=i+Math.imul(h,Y)|0,o=o+Math.imul(h,X)|0;var yt=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(_,B),i=Math.imul(_,V),i=i+Math.imul(w,B)|0,o=Math.imul(w,V),r=r+Math.imul(v,H)|0,i=i+Math.imul(v,q)|0,i=i+Math.imul(y,H)|0,o=o+Math.imul(y,q)|0,r=r+Math.imul(p,Y)|0,i=i+Math.imul(p,X)|0,i=i+Math.imul(m,Y)|0,o=o+Math.imul(m,X)|0,r=r+Math.imul(f,K)|0,i=i+Math.imul(f,Q)|0,i=i+Math.imul(h,K)|0,o=o+Math.imul(h,Q)|0;var bt=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(E,B),i=Math.imul(E,V),i=i+Math.imul(M,B)|0,o=Math.imul(M,V),r=r+Math.imul(_,H)|0,i=i+Math.imul(_,q)|0,i=i+Math.imul(w,H)|0,o=o+Math.imul(w,q)|0,r=r+Math.imul(v,Y)|0,i=i+Math.imul(v,X)|0,i=i+Math.imul(y,Y)|0,o=o+Math.imul(y,X)|0,r=r+Math.imul(p,K)|0,i=i+Math.imul(p,Q)|0,i=i+Math.imul(m,K)|0,o=o+Math.imul(m,Q)|0,r=r+Math.imul(f,$)|0,i=i+Math.imul(f,tt)|0,i=i+Math.imul(h,$)|0,o=o+Math.imul(h,tt)|0;var _t=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(T,B),i=Math.imul(T,V),i=i+Math.imul(C,B)|0,o=Math.imul(C,V),r=r+Math.imul(E,H)|0,i=i+Math.imul(E,q)|0,i=i+Math.imul(M,H)|0,o=o+Math.imul(M,q)|0,r=r+Math.imul(_,Y)|0,i=i+Math.imul(_,X)|0,i=i+Math.imul(w,Y)|0,o=o+Math.imul(w,X)|0,r=r+Math.imul(v,K)|0,i=i+Math.imul(v,Q)|0,i=i+Math.imul(y,K)|0,o=o+Math.imul(y,Q)|0,r=r+Math.imul(p,$)|0,i=i+Math.imul(p,tt)|0,i=i+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0,r=r+Math.imul(f,nt)|0,i=i+Math.imul(f,rt)|0,i=i+Math.imul(h,nt)|0,o=o+Math.imul(h,rt)|0;var wt=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(A,B),i=Math.imul(A,V),i=i+Math.imul(I,B)|0,o=Math.imul(I,V),r=r+Math.imul(T,H)|0,i=i+Math.imul(T,q)|0,i=i+Math.imul(C,H)|0,o=o+Math.imul(C,q)|0,r=r+Math.imul(E,Y)|0,i=i+Math.imul(E,X)|0,i=i+Math.imul(M,Y)|0,o=o+Math.imul(M,X)|0,r=r+Math.imul(_,K)|0,i=i+Math.imul(_,Q)|0,i=i+Math.imul(w,K)|0,o=o+Math.imul(w,Q)|0,r=r+Math.imul(v,$)|0,i=i+Math.imul(v,tt)|0,i=i+Math.imul(y,$)|0,o=o+Math.imul(y,tt)|0,r=r+Math.imul(p,nt)|0,i=i+Math.imul(p,rt)|0,i=i+Math.imul(m,nt)|0,o=o+Math.imul(m,rt)|0,r=r+Math.imul(f,ot)|0,i=i+Math.imul(f,at)|0,i=i+Math.imul(h,ot)|0,o=o+Math.imul(h,at)|0;var xt=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(P,B),i=Math.imul(P,V),i=i+Math.imul(L,B)|0,o=Math.imul(L,V),r=r+Math.imul(A,H)|0,i=i+Math.imul(A,q)|0,i=i+Math.imul(I,H)|0,o=o+Math.imul(I,q)|0,r=r+Math.imul(T,Y)|0,i=i+Math.imul(T,X)|0,i=i+Math.imul(C,Y)|0,o=o+Math.imul(C,X)|0,r=r+Math.imul(E,K)|0,i=i+Math.imul(E,Q)|0,i=i+Math.imul(M,K)|0,o=o+Math.imul(M,Q)|0,r=r+Math.imul(_,$)|0,i=i+Math.imul(_,tt)|0,i=i+Math.imul(w,$)|0,o=o+Math.imul(w,tt)|0,r=r+Math.imul(v,nt)|0,i=i+Math.imul(v,rt)|0,i=i+Math.imul(y,nt)|0,o=o+Math.imul(y,rt)|0,r=r+Math.imul(p,ot)|0,i=i+Math.imul(p,at)|0,i=i+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0,r=r+Math.imul(f,lt)|0,i=i+Math.imul(f,ut)|0,i=i+Math.imul(h,lt)|0,o=o+Math.imul(h,ut)|0;var Et=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(k,B),i=Math.imul(k,V),i=i+Math.imul(D,B)|0,o=Math.imul(D,V),r=r+Math.imul(P,H)|0,i=i+Math.imul(P,q)|0,i=i+Math.imul(L,H)|0,o=o+Math.imul(L,q)|0,r=r+Math.imul(A,Y)|0,i=i+Math.imul(A,X)|0,i=i+Math.imul(I,Y)|0,o=o+Math.imul(I,X)|0,r=r+Math.imul(T,K)|0,i=i+Math.imul(T,Q)|0,i=i+Math.imul(C,K)|0,o=o+Math.imul(C,Q)|0,r=r+Math.imul(E,$)|0,i=i+Math.imul(E,tt)|0,i=i+Math.imul(M,$)|0,o=o+Math.imul(M,tt)|0,r=r+Math.imul(_,nt)|0,i=i+Math.imul(_,rt)|0,i=i+Math.imul(w,nt)|0,o=o+Math.imul(w,rt)|0,r=r+Math.imul(v,ot)|0,i=i+Math.imul(v,at)|0,i=i+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,r=r+Math.imul(p,lt)|0,i=i+Math.imul(p,ut)|0,i=i+Math.imul(m,lt)|0,o=o+Math.imul(m,ut)|0,r=r+Math.imul(f,ft)|0,i=i+Math.imul(f,ht)|0,i=i+Math.imul(h,ft)|0,o=o+Math.imul(h,ht)|0;var Mt=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(j,B),i=Math.imul(j,V),i=i+Math.imul(U,B)|0,o=Math.imul(U,V),r=r+Math.imul(k,H)|0,i=i+Math.imul(k,q)|0,i=i+Math.imul(D,H)|0,o=o+Math.imul(D,q)|0,r=r+Math.imul(P,Y)|0,i=i+Math.imul(P,X)|0,i=i+Math.imul(L,Y)|0,o=o+Math.imul(L,X)|0,r=r+Math.imul(A,K)|0,i=i+Math.imul(A,Q)|0,i=i+Math.imul(I,K)|0,o=o+Math.imul(I,Q)|0,r=r+Math.imul(T,$)|0,i=i+Math.imul(T,tt)|0,i=i+Math.imul(C,$)|0,o=o+Math.imul(C,tt)|0,r=r+Math.imul(E,nt)|0,i=i+Math.imul(E,rt)|0,i=i+Math.imul(M,nt)|0,o=o+Math.imul(M,rt)|0,r=r+Math.imul(_,ot)|0,i=i+Math.imul(_,at)|0,i=i+Math.imul(w,ot)|0,o=o+Math.imul(w,at)|0,r=r+Math.imul(v,lt)|0,i=i+Math.imul(v,ut)|0,i=i+Math.imul(y,lt)|0,o=o+Math.imul(y,ut)|0,r=r+Math.imul(p,ft)|0,i=i+Math.imul(p,ht)|0,i=i+Math.imul(m,ft)|0,o=o+Math.imul(m,ht)|0,r=r+Math.imul(f,pt)|0,i=i+Math.imul(f,mt)|0,i=i+Math.imul(h,pt)|0,o=o+Math.imul(h,mt)|0;var St=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(j,H),i=Math.imul(j,q),i=i+Math.imul(U,H)|0,o=Math.imul(U,q),r=r+Math.imul(k,Y)|0,i=i+Math.imul(k,X)|0,i=i+Math.imul(D,Y)|0,o=o+Math.imul(D,X)|0,r=r+Math.imul(P,K)|0,i=i+Math.imul(P,Q)|0,i=i+Math.imul(L,K)|0,o=o+Math.imul(L,Q)|0,r=r+Math.imul(A,$)|0,i=i+Math.imul(A,tt)|0,i=i+Math.imul(I,$)|0,o=o+Math.imul(I,tt)|0,r=r+Math.imul(T,nt)|0,i=i+Math.imul(T,rt)|0,i=i+Math.imul(C,nt)|0,o=o+Math.imul(C,rt)|0,r=r+Math.imul(E,ot)|0,i=i+Math.imul(E,at)|0,i=i+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,r=r+Math.imul(_,lt)|0,i=i+Math.imul(_,ut)|0,i=i+Math.imul(w,lt)|0,o=o+Math.imul(w,ut)|0,r=r+Math.imul(v,ft)|0,i=i+Math.imul(v,ht)|0,i=i+Math.imul(y,ft)|0,o=o+Math.imul(y,ht)|0,r=r+Math.imul(p,pt)|0,i=i+Math.imul(p,mt)|0,i=i+Math.imul(m,pt)|0,o=o+Math.imul(m,mt)|0;var Tt=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(j,Y),i=Math.imul(j,X),i=i+Math.imul(U,Y)|0,o=Math.imul(U,X),r=r+Math.imul(k,K)|0,i=i+Math.imul(k,Q)|0,i=i+Math.imul(D,K)|0,o=o+Math.imul(D,Q)|0,r=r+Math.imul(P,$)|0,i=i+Math.imul(P,tt)|0,i=i+Math.imul(L,$)|0,o=o+Math.imul(L,tt)|0,r=r+Math.imul(A,nt)|0,i=i+Math.imul(A,rt)|0,i=i+Math.imul(I,nt)|0,o=o+Math.imul(I,rt)|0,r=r+Math.imul(T,ot)|0,i=i+Math.imul(T,at)|0,i=i+Math.imul(C,ot)|0,o=o+Math.imul(C,at)|0,r=r+Math.imul(E,lt)|0,i=i+Math.imul(E,ut)|0,i=i+Math.imul(M,lt)|0,o=o+Math.imul(M,ut)|0,r=r+Math.imul(_,ft)|0,i=i+Math.imul(_,ht)|0,i=i+Math.imul(w,ft)|0,o=o+Math.imul(w,ht)|0,r=r+Math.imul(v,pt)|0,i=i+Math.imul(v,mt)|0,i=i+Math.imul(y,pt)|0,o=o+Math.imul(y,mt)|0;var Ct=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(j,K),i=Math.imul(j,Q),i=i+Math.imul(U,K)|0,o=Math.imul(U,Q),r=r+Math.imul(k,$)|0,i=i+Math.imul(k,tt)|0,i=i+Math.imul(D,$)|0,o=o+Math.imul(D,tt)|0,r=r+Math.imul(P,nt)|0,i=i+Math.imul(P,rt)|0,i=i+Math.imul(L,nt)|0,o=o+Math.imul(L,rt)|0,r=r+Math.imul(A,ot)|0,i=i+Math.imul(A,at)|0,i=i+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,r=r+Math.imul(T,lt)|0,i=i+Math.imul(T,ut)|0,i=i+Math.imul(C,lt)|0,o=o+Math.imul(C,ut)|0,r=r+Math.imul(E,ft)|0,i=i+Math.imul(E,ht)|0,i=i+Math.imul(M,ft)|0,o=o+Math.imul(M,ht)|0,r=r+Math.imul(_,pt)|0,i=i+Math.imul(_,mt)|0,i=i+Math.imul(w,pt)|0,o=o+Math.imul(w,mt)|0;var Ot=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(j,$),i=Math.imul(j,tt),i=i+Math.imul(U,$)|0,o=Math.imul(U,tt),r=r+Math.imul(k,nt)|0,i=i+Math.imul(k,rt)|0,i=i+Math.imul(D,nt)|0,o=o+Math.imul(D,rt)|0,r=r+Math.imul(P,ot)|0,i=i+Math.imul(P,at)|0,i=i+Math.imul(L,ot)|0,o=o+Math.imul(L,at)|0,r=r+Math.imul(A,lt)|0,i=i+Math.imul(A,ut)|0,i=i+Math.imul(I,lt)|0,o=o+Math.imul(I,ut)|0,r=r+Math.imul(T,ft)|0,i=i+Math.imul(T,ht)|0,i=i+Math.imul(C,ft)|0,o=o+Math.imul(C,ht)|0,r=r+Math.imul(E,pt)|0,i=i+Math.imul(E,mt)|0,i=i+Math.imul(M,pt)|0,o=o+Math.imul(M,mt)|0;var At=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(j,nt),i=Math.imul(j,rt),i=i+Math.imul(U,nt)|0,o=Math.imul(U,rt),r=r+Math.imul(k,ot)|0,i=i+Math.imul(k,at)|0,i=i+Math.imul(D,ot)|0,o=o+Math.imul(D,at)|0,r=r+Math.imul(P,lt)|0,i=i+Math.imul(P,ut)|0,i=i+Math.imul(L,lt)|0,o=o+Math.imul(L,ut)|0,r=r+Math.imul(A,ft)|0,i=i+Math.imul(A,ht)|0,i=i+Math.imul(I,ft)|0,o=o+Math.imul(I,ht)|0,r=r+Math.imul(T,pt)|0,i=i+Math.imul(T,mt)|0,i=i+Math.imul(C,pt)|0,o=o+Math.imul(C,mt)|0;var It=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(j,ot),i=Math.imul(j,at),i=i+Math.imul(U,ot)|0,o=Math.imul(U,at),r=r+Math.imul(k,lt)|0,i=i+Math.imul(k,ut)|0,i=i+Math.imul(D,lt)|0,o=o+Math.imul(D,ut)|0,r=r+Math.imul(P,ft)|0,i=i+Math.imul(P,ht)|0,i=i+Math.imul(L,ft)|0,o=o+Math.imul(L,ht)|0,r=r+Math.imul(A,pt)|0,i=i+Math.imul(A,mt)|0,i=i+Math.imul(I,pt)|0,o=o+Math.imul(I,mt)|0;var Rt=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(j,lt),i=Math.imul(j,ut),i=i+Math.imul(U,lt)|0,o=Math.imul(U,ut),r=r+Math.imul(k,ft)|0,i=i+Math.imul(k,ht)|0,i=i+Math.imul(D,ft)|0,o=o+Math.imul(D,ht)|0,r=r+Math.imul(P,pt)|0,i=i+Math.imul(P,mt)|0,i=i+Math.imul(L,pt)|0,o=o+Math.imul(L,mt)|0;var Pt=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul(j,ft),i=Math.imul(j,ht),i=i+Math.imul(U,ft)|0,o=Math.imul(U,ht),r=r+Math.imul(k,pt)|0,i=i+Math.imul(k,mt)|0,i=i+Math.imul(D,pt)|0,o=o+Math.imul(D,mt)|0;var Lt=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,r=Math.imul(j,pt),i=Math.imul(j,mt),i=i+Math.imul(U,pt)|0,o=Math.imul(U,mt);var Nt=(u+r|0)+((8191&i)<<13)|0;return u=(o+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,l[0]=gt,l[1]=vt,l[2]=yt,l[3]=bt,l[4]=_t,l[5]=wt,l[6]=xt,l[7]=Et,l[8]=Mt,l[9]=St,l[10]=Tt,l[11]=Ct,l[12]=Ot,l[13]=At,l[14]=It,l[15]=Rt,l[16]=Pt,l[17]=Lt,l[18]=Nt,0!==u&&(l[19]=u,n.length++),n};Math.imul||(M=u),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?M(this,t,e):n<63?u(this,t,e):n<1024?c(this,t,e):f(this,t,e)},h.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},h.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},h.prototype.permute=function(t,e,n,r,i,o){for(var a=0;a<o;a++)r[a]=e[t[a]],i[a]=n[t[a]]},h.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,l=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var f=l,h=u,d=0;d<a;d++){var p=n[c+d],m=r[c+d],g=n[c+d+a],v=r[c+d+a],y=f*g-h*v;v=f*v+h*g,g=y,n[c+d]=p+g,r[c+d]=m+v,n[c+d+a]=p-g,r[c+d+a]=m-v,d!==s&&(y=l*f-u*h,h=l*h+u*f,f=y)}},h.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},h.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},h.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},h.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},h.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},h.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),l=new Array(r),u=new Array(r),c=new Array(r),f=new Array(r),h=n.words;h.length=r,this.convert13b(t.words,t.length,a,r),this.convert13b(e.words,e.length,u,r),this.transform(a,o,s,l,r,i),this.transform(u,o,c,f,r,i);for(var d=0;d<r;d++){var p=s[d]*c[d]-l[d]*f[d];l[d]=s[d]*f[d]+l[d]*c[d],s[d]=p}return this.conjugate(s,l,r),this.transform(s,l,h,o,r,i),this.conjugate(h,o,r),this.normalize13b(h,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),f(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=l(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,l=(0|this.words[e])-s<<n;this.words[e]=l|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){r("number"==typeof t&&t>=0);var i;i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,l=n;if(i-=a,i=Math.max(0,i),l){for(var u=0;u<a;u++)l.words[u]=this.words[u];l.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=i);u--){var f=0|this.words[u];this.words[u]=c<<26-o|f>>>o,c=f&s}return l&&0!==c&&(l.words[l.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o=t.length+n;this._expand(o);var a,s=0;for(i=0;i<t.length;i++){a=(0|this.words[i+n])+s;var l=(0|t.words[i])*e;a-=67108863&l,s=(a>>26)-(l/67108864|0),this.words[i+n]=67108863&a}for(;i<this.length-n;i++)a=(0|this.words[i+n])+s,s=a>>26,this.words[i+n]=67108863&a;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)a=-(0|this.words[i])+s,s=a>>26,this.words[i]=67108863&a;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=this.length-t.length,r=this.clone(),i=t,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,l=r.length-i.length;if("mod"!==e){s=new o(null),s.length=l+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var c=r.clone()._ishlnsubmul(i,1,l);0===c.negative&&(r=c,s&&(s.words[l]=1));for(var f=l-1;f>=0;f--){var h=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(h=Math.min(h/a|0,67108863),r._ishlnsubmul(i,h,f);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=h)}return s&&s.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(t,e,n){if(r(!t.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var i,a,s;return 0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e)},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),l=new o(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var c=n.clone(),f=e.clone();!e.isZero();){for(var h=0,d=1;0==(e.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(e.iushrn(h);h-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(f)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||l.isOdd())&&(s.iadd(c),l.isub(f)),s.iushrn(1),l.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(s),a.isub(l)):(n.isub(e),s.isub(i),l.isub(a))}return{a:s,b:l,gcd:n.iushln(u)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,u=1;0==(e.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(e.iushrn(l);l-- >0;)i.isOdd()&&i.iadd(s),i.iushrn(1);for(var c=0,f=1;0==(n.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(s),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a)):(n.isub(e),a.isub(i))}var h;return h=0===e.cmpn(1)?i:a,h.cmpn(0)<0&&h.iadd(t),h},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];s+=o,o=s>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e=t<0;if(0!==this.negative&&!e)return-1;if(0===this.negative&&e)return 1;this.strip();var n;if(this.length>1)n=1;else{e&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];n=i===t?0:i<t?-1:1}return 0!==this.negative?0|-n:n},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new y(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var S={k256:null,p224:null,p192:null,p25519:null};d.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},d.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),e=n.bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):n.strip(),n},d.prototype.split=function(t,e){t.iushrn(this.n,0,e)},d.prototype.imulK=function(t){return t.imul(this.k)},i(p,d),p.prototype.split=function(t,e){for(var n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[r-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},p.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(m,d),i(g,d),i(v,d),v.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(S[t])return S[t];var e;if("k256"===t)e=new p;else if("p224"===t)e=new m;else if("p192"===t)e=new g;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new v}return S[t]=e,e},y.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},y.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},y.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},y.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},y.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},y.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},y.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},y.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},y.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},y.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},y.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},y.prototype.isqr=function(t){return this.imul(t,t.clone())},y.prototype.sqr=function(t){return this.mul(t,t)},y.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),l=s.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,u).cmp(l);)c.redIAdd(l);for(var f=this.pow(c,i),h=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var m=d,g=0;0!==m.cmp(s);g++)m=m.redSqr();r(g<p);var v=this.pow(f,new o(1).iushln(p-g-1));h=h.redMul(v),f=v.redSqr(),d=d.redMul(f),p=g}return h},y.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},y.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],a=0,s=0,l=e.bitLength()%26;for(0===l&&(l=26),r=e.length-1;r>=0;r--){for(var u=e.words[r],c=l-1;c>=0;c--){var f=u>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===r&&0===c)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}l=26}return i},y.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},y.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new b(t)},i(b,y),b.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},b.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},b.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},b.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},b.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)}).call(e,n(120)(t))},function(t,e,n){"use strict";function r(t){o=t}function i(){return o}e.b=r,e.a=i;var o=null},function(t,e,n){"use strict";function r(t,e,n,r,i){var o=["function ",t,"(a,l,h,",r.join(","),"){",i?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a[m]"];return i?e.indexOf("c")<0?o.push(";if(x===y){return m}else if(x<=y){"):o.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):o.push(";if(",e,"){i=m;"),n?o.push("l=m+1}else{h=m-1}"):o.push("h=m-1}else{l=m+1}"),o.push("}"),i?o.push("return -1};"):o.push("return i};"),o.join("")}function i(t,e,n,i){return new Function([r("A","x"+t+"y",e,["y"],i),r("P","c(x,y)"+t+"0",e,["y","c"],i),"function dispatchBsearch",n,"(a,y,c,l,h){if(typeof(c)==='function'){return P(a,(l===void 0)?0:l|0,(h===void 0)?a.length-1:h|0,y,c)}else{return A(a,(c===void 0)?0:c|0,(l===void 0)?a.length-1:l|0,y)}}return dispatchBsearch",n].join(""))()}t.exports={ge:i(">=",!1,"GE"),gt:i(">",!1,"GT"),lt:i("<",!0,"LT"),le:i("<=",!0,"LE"),eq:i("-",!0,"EQ",!0)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=w()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(b.a?b()(t,e):t.__proto__=e)}n.d(e,"b",function(){return qt});var a=n(87),s=n.n(a),l=n(76),u=n.n(l),c=n(40),f=n.n(c),h=n(61),d=n.n(h),p=n(77),m=n.n(p),g=n(7),v=n.n(g),y=n(6),b=n.n(y),_=n(5),w=n.n(_),x=n(1),E=n.n(x),M=n(23),S=n.n(M),T=n(17),C=n.n(T),O=n(50),A=n.n(O),I=n(54),R=n.n(I),P=n(4),L=n.n(P),N=n(20),k=n.n(N),D=n(34),F=n.n(D),j=n(18),U=n.n(j),z=n(69),B=n.n(z),V=n(3),G=n.n(V),H=n(0),q=n.n(H),W=n(15),Y=(n.n(W),n(28)),X=(n.n(Y),n(36)),Z=(n.n(X),n(31)),K=n(1201),Q=n(364),J=n(380),$=n(1374),tt=n(598),et=n(383),nt=n(600),rt=n(601),it=n(112),ot=n(179),at=n(80),st=n(208),lt=n(81),ut=n(27),ct=n(176),ft=n(53),ht=n(48),dt=n(274),pt=n(33),mt=n(41),gt=n(205),vt=n(519),yt=n(151),bt=n(216),_t=n(273),wt=n(375),xt=n(602),Et=n(603),Mt=n(604),St=n(272),Tt=n(584),Ct=n(605),Ot=n(606),At=n(373),It=n(586),Rt=n(607),Pt=n(587),Lt=n(374),Nt=n(88),kt=n(150),Dt=n(111),Ft=n(113),jt=L.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ut="function"==typeof R.a&&"symbol"==typeof A.a?function(t){return typeof t}:function(t){return t&&"function"==typeof R.a&&t.constructor===R.a&&t!==R.a.prototype?"symbol":typeof t},zt=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=C()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(S()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Bt=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),E()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Vt=0,Gt=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=i(this,(t=e.__proto__||v()(e)).call.apply(t,[this].concat(o)));Ht.call(s);var l=s.props,u=l.showScaleBar,c=l.showZoomSlider,f=l.navbarVisible,h=l.navbarExpanded;return s.onCenterChange=s.onCenterChange.bind(s),s.onMapSizeChange=s.onMapSizeChange.bind(s),s.onPointerDown=s.onPointerDown.bind(s),s.onPointerMove=s.onPointerMove.bind(s),s.onConeDrag=s.onConeDrag.bind(s),s.onConePointerUp=s.onConePointerUp.bind(s),s.onMeasureDrag=s.onMeasureDrag.bind(s),s.onMeasurePointerUp=s.onMeasurePointerUp.bind(s),s.onResolutionChange=s.onResolutionChange.bind(s),s.selectBaseLayer=s.selectBaseLayer.bind(s),s.setScaleBarVisibility=s.setScaleBarVisibility.bind(s),s.setZoomSliderVisibility=s.setZoomSliderVisibility.bind(s),s.toggleOverlay=s.toggleOverlay.bind(s),s.setRotation=s.setRotation.bind(s),s.resetToNorth=s.resetToNorth.bind(s),s.selectTab=s.selectTab.bind(s),s.onTilesLoaded=s.onTilesLoaded.bind(s),s.toggleNavbarVisible=s.toggleNavbarVisible.bind(s),s.getNavbarVisible=s.getNavbarVisible.bind(s),s.toggleNavbarExpanded=s.toggleNavbarExpanded.bind(s),s.getNavbarExpanded=s.getNavbarExpanded.bind(s),s.updateLayers=s.updateLayers.bind(s),s.state={activeTab:1},s._mapControls=new Q.c({showScaleBar:u,showZoomSlider:c,showLayerName:!0,showMousePosition:!0,userSrs:s.props.srs.userSrs}),s.styleScalePosition(h,f),s.previousOnPointerMoveFeatures=[],s}return o(e,t),Bt(e,[{key:"mapView",get:function(){return this.map.getView()}}]),Bt(e,[{key:"componentDidMount",value:function(t,n){var r=this,i=this.props,o=i.id,a=i.navbarExpanded,s=i.projection,l=i.maxExtent,u=i.resolution,c=i.maxResolution,f=i.maxZoomLevel,h=i.baseLayers,d=i.overlays,p=i.center,g=i.rotation,v=i.reduxEnabled,y=i.measurements,b=y.activeMeasurement,_=this.props.actions.updateMapViewerParams,w=this.olEventListenerIds,x={target:o,logo:!1,controls:this._mapControls.controlPackage},E={resolution:m()(u)?u:void 0,center:p,rotation:g,projection:s,resolutions:kt.b.buildResolutions(c,f),extent:l,maxResolution:c,maxZoom:f};"boolean"==typeof a&&a&&this.toggleNavbarExpanded(a),this.geoJsonFormatter=new U.a.format.GeoJSON;var M=this.map=new U.a.Map(x),S=new U.a.View(E);M.setView(S);var T=e.setSelect();this.map.addInteraction(T),this.clearSelectedFeature(!0),h&&h.forEach(function(t){return r.addLayer(t)}),d&&d.forEach(function(t){return r.addLayer(t)}),b&&this.drawActiveMeasurement(b),w.push(M.on("pointermove",this.onPointerMove),M.on("pointerdown",function(t){r.onPointerDown(t,T)}),M.getView().on("propertychange",function(t){"rotation"===t.key&&r.setRotation(t.target.getRotation(),!1)})),v&&w.push(S.on("change:center",this.onCenterChange),S.on("change:resolution",this.onResolutionChange),M.on("change:size",this.onMapSizeChange));var C=this.props.extent;this.setState({},C?function(){S.fit(C),v&&_(o,{extent:void 0})}:void 0);var O=M.getLayers().getArray();Vt=0,O.forEach(function(t){var e=t.getSource&&t.getSource();e instanceof U.a.source.Tile&&w.push(e.on("tileloadstart",function(){r.onTilesLoaded(1)}),e.on("tileloadend",function(){r.onTilesLoaded(-1)}),e.on("tileloaderror",function(t){r.onTilesLoaded(-1);var e=t.target,n=e.getLayer&&e.getLayer();if(!n){var i=e.getUrls&&e.getUrls();i&&i.length>0&&(n=i[0])}n||(n="???"),F.a.warn("Maplayer ["+n+"] could not be loaded.")}))})}},{key:"componentWillUnmount",value:function(){this.olEventListenerIds.forEach(U.a.Observable.unByKey),this.map.setTarget(null)}},{key:"onTilesLoaded",value:function(t){var e=this.props.actions.updateLoadingCount;Vt+=t,0!==Vt?e(this.props.id,1):0===Vt&&e(this.props.id,-1)}},{key:"styleScalePosition",value:function(t,e){var n=this._mapControls.scaleBar,r=this._mapControls.mousePosition;!t&&e?(n.addClass("contracted"),r.element.classList.add("contracted")):(n.removeClass("contracted"),r.element.classList.remove("contracted"))}},{key:"onPointerDown",value:function(t,e){var n=this;if(!U.a.events.condition.primaryAction(t))return void event.preventDefault();var r=!0;e.removeEventListener("select");var i=t.map,o=t.originalEvent,a=/^cone_(.+)/,s=this.props,l=s.inMeasurementMode,u=s.inPanoramaMeasurementMode,c=s.activePanel,f=s.obliqueviewer,h=s.openViewer,p=s.openObliqueViewer,m=s.actions,g=m.openObliqueViewerByCoordinate,v=m.showFlashMessage;if(l)return this.pointerDragEventListener=i.on("pointerdrag",this.onMeasureDrag),this.pointerUpEventListener=i.on("pointerup",this.onMeasurePointerUp),this.measurementClickTimeout=setTimeout(this.clearMeasureClickCheck.bind(this),500),void e.on("select",function(){e.getFeatures().clear()});if(c===Ft.a.OBLIQUE&&p){var y=!o.shiftKey,b=o.ctrlKey,_=Object(pt.f)(-this.getCompassDirection(),0,360),w=d()(f.byId)[0],x=!w||w.recording.isOblique,E=this.map.getView(),M=E.getRotation(),S=i.getSize(),T=E.calculateExtent([Math.round(S[0]/3),Math.round(S[1]/3)]),C=U.a.proj.transformExtent(T,E.getProjection(),dt.a),O={brightness:100,contrast:100,opacity:1},A=this.getMapSrs();g(t.coordinate,A,{direction:_,viewRotation:M,viewExtent:C,isOblique:x,replace:y,multiple:b,viewerSettings:O}).catch(function(t){v(t.message,{style:"danger"}),F.a.warn(t.message)})}i.forEachFeatureAtPixel(t.pixel,function(s,l){r=!1;var f=s.getId(),d=a.exec(f);if(null!==d)return n.panoramaId=d[1],n.pointerDragEventListener=i.on("pointerdrag",n.onConeDrag),n.pointerUpEventListener=i.on("pointerup",n.onConePointerUp),t.preventDefault(),!0;if(e.on("select",function(i){r=!1;var a=i.selected[0];if(a||n.clearSelectedFeature(!1),a===s){if(s instanceof Tt.a&&c!==Ft.a.OBLIQUE){if(h){var f=n.getMapSrs(),d=zt(t.coordinate,2),p=d[0],m=d[1],g=!o.shiftKey,v=o.ctrlKey;if(!g&&u)return!1;var y=s.getProperties();h({x:p,y:m,recording:y,mapSrs:f,replace:g,multiple:v,openOblique:!1})}e.getFeatures().clear(),n.clearSelectedFeature(!1)}else a&&n.setSelectedFeature(s,l);return!0}}),l){var p=l.get("onClick");p&&p(s)}return!1}),r&&(e.getFeatures().clear(),this.clearSelectedFeature(!1))}},{key:"setSelectedFeature",value:function(t,e){var n={selectedFeature:{layerName:e.get("name"),attributes:{}}},r=t.getProperties(),i=e.get("attributeInfo");if(i){var o=i.split(","),a=!0,s=!1,l=void 0;try{for(var u,c=C()(o.values());!(a=(u=c.next()).done);a=!0){var h=u.value,d=h.trim();r[d]&&"object"!==Ut(r[d])&&(n.selectedFeature.attributes[d]=r[d])}}catch(t){s=!0,l=t}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}}else f()(r).forEach(function(t){"object"!==Ut(r[t])&&"navigateToURLOnClick"!==t&&(n.selectedFeature.attributes[t]=r[t])});r.navigateToURLOnClick&&window.open(r.navigateToURLOnClick,"_blank"),this.props.actions.updateMapViewerParams(this.props.id,n),this.props.actions.setMapActivePanel(this.props.id,Ft.a.ATTRIBUTE_INFO)}},{key:"clearSelectedFeature",value:function(t){if(this.props.selectedFeature){var e={selectedFeature:void 0};this.props.actions.updateMapViewerParams(this.props.id,e),t&&this.props.actions.setMapActivePanel(this.props.id,Ft.a.NONE)}}},{key:"onConeDrag",value:function(t){t.preventDefault();var e=this.panoramaId,n=this.props.panoramaviewer.byId[e],r=n.recording,i=n.orientation;if(r){var o=r.xyz,a=r.srs,s=B()(this.getMapSrs(),a).forward(t.coordinate),l=Object(Nt.m)(o,s);this.props.actions.updatePanoramaOrientation(e,{yaw:l});var u={yaw:l,xyz:o,hFov:i?i.hFov:void 0,srs:a};dispatchEvent(new CustomEvent("panoramaUpdated",{detail:{viewerData:u,panoramaId:e}}))}}},{key:"onConePointerUp",value:function(){this.removePointerEvents()}},{key:"onMeasureDrag",value:function(){this.clearMeasureClickCheck()}},{key:"onMeasurePointerUp",value:function(t){this.clearMeasureClickCheck();var e=this.props.srs.userSrs,n=B()(this.props.projection,e,this.map.getCoordinateFromPixel(t.pixel));this.props.actions.addPoint(n,e)}},{key:"clearMeasureClickCheck",value:function(){this.removePointerEvents(),clearTimeout(this.measurementClickTimeout)}},{key:"removePointerEvents",value:function(){U.a.Observable.unByKey(this.pointerDragEventListener),U.a.Observable.unByKey(this.pointerUpEventListener)}},{key:"onCenterChange",value:function(){var t=this.mapView,e=t.getCenter(),n=t.constrainCenter(e);this.isSameCoord2d(e,n)||t.setCenter(n),this.props.center!==n&&this.props.actions.setMapCenter(this.props.id,n,this.getMapSrs())}},{key:"onResolutionChange",value:function(t){var e=this.mapView,n=e.getResolution();this.props.resolution!==n&&this.props.actions.setMapResolution(this.props.id,n,!1)}},{key:"setCursor",value:function(t){this.props.activePanel!==Ft.a.OBLIQUE?this.map.getViewport().style.cursor=t||"":this.map.getViewport().style.cursor=""}},{key:"onPointerMove",value:function(t){var e=this,n=t.map,r=t.pixel;if(this.props.inMeasurementMode)return void this.setCursor("crosshair");var i=n.hasFeatureAtPixel(r),o=!1;this.setCursor(i?"pointer":""),i||this.onFeatureHoverOut(),n.forEachFeatureAtPixel(r,function(n,r){r&&!o&&(o=!0,e.onFeatureHover(n,r,t))})}},{key:"onMapSizeChange",value:function(t){var e=this.mapView.getResolution();this.props.resolution!==e&&this.props.actions.setMapResolution(this.props.id,e,!1)}},{key:"onFeatureHover",value:function(t,e,n){var r=e.get("tooltipProperties");if(r){for(var i=r.split(","),o=t.getProperties(),a=[],s=0;s<i.length;s++){var l=o[i[s]];if(i[s]in o&&a.length<5){var u=i[s]+": "+l;a.push(u)}}var c=a.join("<br />"),f=n.originalEvent||window.event,h=document.getElementById("popup"),d=f.clientX-h.offsetWidth/2;h.style.opacity=1,h.style.left=d+"px",h.style.bottom="calc(100% - "+(f.clientY-100)+"px)";document.getElementById("popup-content").innerHTML=c}var p=e.get("onHover");p&&p(t)}},{key:"onFeatureHoverOut",value:function(){document.getElementById("popup").style.opacity=0,dispatchEvent(new CustomEvent("hoverOverAddress",{detail:{address:[""]}}))}},{key:"componentDidUpdate",value:function(){this.applyViewingFilter(),this.updateLayers()}},{key:"updateLayers",value:function(){var t=this,e=this.props,n=e.baseLayers,r=e.overlays;n&&n.forEach(function(e){return t.updateLayer(e)}),r&&r.forEach(function(e){return t.updateLayer(e)})}},{key:"addLayer",value:function(t){var e=qt(t),n=e.toMapLayer();return n instanceof U.a.layer.Vector&&("oblique-footprint-layer"===n.get("id")?n.setZIndex(1):n.setZIndex(2)),this.map.addLayer(n),this.mapLayers.set(e.id,n),this.applyLayerSettings(t,n),n}},{key:"updateLayer",value:function(t){var e=qt(t),n=this.mapLayers.get(e.id);n?e.updateMapLayer(n):n=this.addLayer(e),this.applyLayerSettings(t,n)}},{key:"applyLayerSettings",value:function(t,e){t.isBaseLayer?this.applyBaseLayerSettings(e):this.applyOverlaySettings(e)}},{key:"applyViewingFilter",value:function(){var t="contrast("+this.props.viewerSettings.contrast+"%) brightness("+this.props.viewerSettings.brightness+"%)";this.mapViewerRef.getElementsByTagName("canvas")[0].style.filter=t}},{key:"applyBaseLayerSettings",value:function(){}},{key:"applyOverlaySettings",value:function(t){t.getOpacity()!==this.props.viewerSettings.opacity&&t.setOpacity(u()(this.props.viewerSettings.opacity))}},{key:"getMapSrs",value:function(){return this.map.getView().getProjection().getCode()}},{key:"getCompassDirection",value:function(){var t=this.map.getView().getRotation();return Object(pt.d)(t)}},{key:"componentWillReceiveProps",value:function(t){var e=this,n=this.map;if(this.props.reduxEnabled){var r=n.getView(),i=t.center,o=t.resolution,a=t.rotation,s=t.windowManagerRevision,l=t.measurements.activeMeasurement,u=t.navbarVisible,c=t.navbarExpanded,f=t.showScaleBar,h=t.showZoomSlider,d=(t.viewerSettings,this.props),p=d.rotation,g=d.windowManagerRevision,v=d.measurements.activeMeasurement,y=d.navbarVisible,b=d.navbarExpanded,_=d.showScaleBar,w=d.showZoomSlider,x=(d.viewerSettings,{duration:1e3,easing:U.a.easing.inAndOut}),E=!1;if(i){var M=r.getCenter(),S=void 0!==M,T=!S||!this.isSameCoord2d(M,i);S&&T&&(x.center=i,E=!0)}if(o){var C=r.getResolution(),O=void 0!==C,A=!O||o!==C;O&&A&&(x.resolution=o,E=!0)}if(m()(a)){m()(p)&&a!==p&&r.setRotation(a)}E&&r.animate(x);var I=t.showScaleBar,R=t.showZoomSlider;if(this._mapControls.showScaleBar=I,this._mapControls.showZoomSlider=R,_!==f||w!==h){var P=n.getControls();P.clear(),this._mapControls.controlPackage.forEach(function(t){return P.push(t)})}this.styleScalePosition(c,u),g!==s&&setTimeout(function(){return n.updateSize()},0),l!==v&&this.drawActiveMeasurement(l),u!==y&&u!==this.getNavbarVisible()&&this.toggleNavbarVisible(u),c!==b&&c!==this.getNavbarExpanded()&&(this.toggleNavbarExpanded(c),setTimeout(function(){return e.map.updateSize()},0))}}},{key:"toggleNavbarVisible",value:function(t){void 0!==t&&"boolean"!=typeof t&&Object(Dt.b)("toggleNavbarVisible");var e=this.props,n=e.navbarVisible,r=e.id;e.actions.updateMapViewerParams(r,{navbarVisible:void 0!==t?t:!n})}},{key:"getNavbarVisible",value:function(){return this.props.navbarVisible}},{key:"toggleNavbarExpanded",value:function(t){void 0!==t&&"boolean"!=typeof t&&Object(Dt.b)("toggleNavbarExpanded");var e=this.props,n=e.navbarExpanded,r=e.id;e.actions.updateMapViewerParams(r,{navbarExpanded:void 0!==t?t:!n})}},{key:"getNavbarExpanded",value:function(){return this.props.navbarExpanded}},{key:"drawActiveMeasurement",value:function(t){var e=this.mapLayers.get(_t.a.defaults.id);if(e){var n=e.getSource(),r=n.getFeatures().find(function(t){return t.getProperties().isActiveMeasurement});if(r&&n.removeFeature(r),t&&0!==t.properties.measureDetails.length){var i=this.props.srs.userSrs,o=k.a.cloneDeep(t);o.properties.isActiveMeasurement=!0,o.properties.featureProjection=this.props.projection,o.geometry=o.properties.preciseGeometry;var a=o.properties.derivedData,s=Object(mt.n)(i),l=s.xyUnits,u=a.unit;if(u!==l&&u!==mt.d.DEGREES&&l!==mt.d.DEGREES&&u!==mt.d.UNKNOWN&&l!==mt.d.UNKNOWN){a.unit=l;var c=l===mt.d.METERS?mt.b:mt.c,h=Math.pow(c,2);f()(a).forEach(function(t){switch(t){case"radius":case"deltaXY":case"deltaZ":case"totalLength":a[t].value*=c,m()(a[t].stdev)&&(a[t].stdev*=c);break;case"area":a[t].value*=h,m()(a[t].stdev)&&(a[t].stdev*=h);break;case"segmentLengths":a[t].value=a[t].value.map(function(t){return t*c}),Array.isArray(a[t].stdev)&&(a[t].stdev=a[t].stdev.map(function(t){return t*c}))}})}n.addFeature(this.geoJsonFormatter.readFeature(o,{dataProjection:o.properties.preciseCRS,featureProjection:this.props.projection}))}}}},{key:"isSameCoord2d",value:function(t,e){return t&&e&&t[0]===e[0]&&t[1]===e[1]}},{key:"shouldComponentUpdate",value:function(t,e){var n=this.props;return n.center!==t.center||n.resolution!==t.resolution||n.rotation!==t.rotation||n.baseLayers!==t.baseLayers||n.overlays!==t.overlays||n.showScaleBar!==t.showScaleBar||n.showZoomSlider!==t.showZoomSlider||n.activePanel!==t.activePanel||n.navbarExpanded!==t.navbarExpanded||n.navbarVisible!==t.navbarVisible||n.viewerSettings!==t.viewerSettings||this.state!==e}},{key:"selectBaseLayer",value:function(t){var e=this.props.actions,n=e.selectBaseLayer,r=e.logSelectBaseLayer,i=this.props,o=i.id,a=i.inMeasurementMode,s=t.id;n(o,s,!a),r(s,t.name)}},{key:"toggleOverlay",value:function(t){var e=this.props.actions,n=e.toggleOverlay,r=e.logToggleOverlay,i=e.setLayerVisibility,o=this.props,a=o.id,s=o.inMeasurementMode,l=t.id,u=!t.visible;n(a,l,u),s||i(l,u),r(l,t.name,u)}},{key:"setZoomSliderVisibility",value:function(t){this.props.actions.setMapZoomSliderVisibility(this.props.id,t)}},{key:"setScaleBarVisibility",value:function(t){this.props.actions.setMapScaleBarVisibility(this.props.id,t)}},{key:"setRotation",value:function(t){var e=this.props,n=e.id,r=e.rotation,i=e.actions.updateMapViewerParams;t!==r&&i(n,{rotation:t}),this._logSetRotation(Object(pt.d)(t))}},{key:"resetToNorth",value:function(){this.setRotation(0)}},{key:"selectTab",value:function(t){this.setState({activeTab:t})}},{key:"render",value:function(){var t=this;this.refs["feature-zoom-indicator"]&&this.refs["feature-zoom-indicator"].getWrappedInstance();var e=this.props,n=e.id,r=e.rotation,i=e.className,o=e.baseLayers,a=e.overlays,s=e.showZoomSlider,l=e.showScaleBar,u=e.inMeasurementMode,c=e.navbarExpanded,f=e.navbarVisible,h="",d="",p=void 0;this.context.intl.formatMessage;switch(this.props.activePanel){case Ft.a.NONE:p=null;break;case Ft.a.BASE_LAYERS:p=q.a.createElement($.a,{layers:o,onSelectBaseLayer:this.selectBaseLayer});break;case Ft.a.OVERLAYS:var m={toggleOverlay:this.toggleOverlay,showZoomSlider:s,showScaleBar:l,setZoomSliderVisibility:this.setZoomSliderVisibility,setScaleBarVisibility:this.setScaleBarVisibility};p=q.a.createElement(tt.b,{type:tt.a.MAP,overlays:a,options:m});break;case Ft.a.IMAGE_CONTROLS:p=q.a.createElement(et.a,{className:"cmtNavBarPanel",mapId:this.props.id,showTransparency:!0});break;case Ft.a.ATTRIBUTE_INFO:p=q.a.createElement(nt.a,{mapId:this.props.id});break;case Ft.a.COMPASS:d=" full-width",p=q.a.createElement(rt.a,{rotation:r,setRotation:this.setRotation,resetRotation:this.resetToNorth});break;case Ft.a.OBLIQUE:h=" oblique-pin",p=null;break;default:p=null}return q.a.createElement("div",{className:"viewer flexColumn "+(i||"")},q.a.createElement("div",{className:"flexColumn map-relative-position"+h},q.a.createElement("div",{className:"ol-mouse-position",id:"mouse-position"}),q.a.createElement("div",{className:"openLayers flexItem",id:n,ref:function(e){t.mapViewerRef=e}}),q.a.createElement(Q.b,{visible:s}),q.a.createElement(Q.a,{visible:!0}),u&&q.a.createElement(J.a,null),q.a.createElement("div",{className:"cmtViewerPanel"+d},p),q.a.createElement("div",{id:"popup",className:"popup popup--tooltip"},q.a.createElement("div",{id:"popup-content",className:"popup-content"}),q.a.createElement("div",{className:"popup_arrow-down"}))),f&&q.a.createElement(K.a,{id:n,expanded:c,onExpand:this.toggleNavbarExpanded,map:this.map,compassRotation:r,resetRotation:this.resetToNorth}))}}],[{key:"setSelect",value:function(){var t=new U.a.style.Style({stroke:new U.a.style.Stroke({color:"rgba(230, 126, 34, 0.8)",width:1}),fill:new U.a.style.Fill({color:"rgba(230, 126, 34, 0.8)"}),image:new U.a.style.Circle({radius:7,fill:new U.a.style.Fill({color:"rgba(230, 126, 34, 0.8)"})})});return new U.a.interaction.Select({style:t,addCondition:U.a.events.condition.shiftKeyOnly,toggleCondition:U.a.events.condition.never,removeCondition:U.a.events.condition.altKeyOnly,filter:function(t,e){var n=["cyclorama-viewer-cones","oblique-footprint-layer","addressLayer"],r=e.get("id");return!n.find(function(t){return t===r})}})}}]),e}(Z.a);Gt.propTypes={id:G.a.string,projection:function(t,e,n){if(!/EPSG:[0-9]+/.test(t[e]))return new Error("Property "+e+" in component "+n+" must be an EPSG-code (string), e.g. 'EPSG:4326'.")},center:G.a.oneOfType([G.a.instanceOf(Float32Array),G.a.instanceOf(Float64Array),G.a.arrayOf(G.a.number)]),extent:G.a.arrayOf(G.a.number),maxExtent:G.a.arrayOf(G.a.number),maxResolution:G.a.number,onMoveEnd:G.a.func,baseLayerPanel:G.a.object,layerPanel:G.a.object,viewerPanel:G.a.object,openViewer:G.a.func,navbarVisible:G.a.bool,navbarExpanded:G.a.bool,viewerSettings:G.a.shape({brightness:G.a.number,contrast:G.a.number,opacity:G.a.number}),reduxEnabled:G.a.bool},Gt.defaultProps={id:"map",navbarVisible:!0,reduxEnabled:!0,viewerSettings:{brightness:100,contrast:100,opacity:1}};var Ht=function(){this.mapLayers=new s.a,this.olEventListenerIds=[],this.measurementClickTimeout=null,this._logSetRotation=k.a.debounce(this.props.actions.logSetValue.bind(this,"map_rotation"),500,{leading:!1})},qt=function(t){if(t.constructor&&"Object"!==t.constructor.name)return t;switch(t.type){case"Layer":return t instanceof gt.a?t:new gt.a(t);case"LayerGroup":return t instanceof vt.a?t:new vt.a(t);case"FeatureLayer":return t instanceof yt.a?t:new yt.a(t);case"WFSLayer":return t instanceof bt.a?t:new bt.a(t);case"MeasurementLayer":return t instanceof _t.a?t:new _t.a(t);case"WMSLayer":return t instanceof wt.a?t:new wt.a(t);case"WMTSLayer":return t instanceof xt.a?t:new xt.a(t);case"TMSLayer":return t instanceof Et.a?t:new Et.a(t);case"OSMLayer":return t instanceof Mt.a?t:new Mt.a(t);case"ArcGISLayer":return t instanceof Ot.a?t:new Ot.a(t);case"BingLayer":return t instanceof Ct.a?t:new Ct.a(t);case"RecordingLayer":return t instanceof St.a?t:new St.a(t);case"ObliqueFootprintLayer":return t instanceof Pt.a?t:new Pt.a(t);case"ViewingConeLayer":return t instanceof At.a?t:new At.a(t);case"AddressLayer":return t instanceof It.a?t:new It.a(t);case"SHPLayer":return t instanceof Rt.a?t:new Rt.a(t);case"SurfaceCursorLayer":return t instanceof Lt.a?t:new Lt.a(t);default:F.a.error("mapViewer: objectAssign: layer not found.")}return t},Wt=function(t,e){var n=t.config,r=t.layer,i=t.mapviewers,o=t.measurements,a=t.obliqueviewer,s=t.panoramaviewer,l=t.viewermanager,u=t.windowmanager,c=t.srs,f=e.id,h=i.byId[f];return jt({},h,{config:n,obliqueviewer:a,panoramaviewer:s,baseLayers:r.baseLayers[f],overlays:r.overlays[f],windowManagerRevision:u.revision,measurements:o,srs:c,viewermanager:l,inMeasurementMode:l.viewerMode===ft.ViewerMode.MEASUREMENT&&2===o.dimension,inPanoramaMeasurementMode:l.viewerMode===ft.ViewerMode.MEASUREMENT&&3===o.dimension})},Yt=function(t){return{actions:Object(X.bindActionCreators)(jt({showFlashMessage:it.showFlashMessage},ot.default,at.default,st.b,lt.default,ut.default,ht.default,ft.default,{updateLoadingCount:ct.default.updateLoadingCount,setMapActivePanel:st.b.setActivePanel}),t)}};e.a=Object(Y.connect)(Wt,Yt,null,{withRef:!0})(Gt)},function(t,e,n){var r,i;/*!
 * jQuery JavaScript Library v3.2.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2017-03-20T18:59Z
 */
!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,o){"use strict";function a(t,e){e=e||at;var n=e.createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function s(t){var e=!!t&&"length"in t&&t.length,n=yt.type(t);return"function"!==n&&!yt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function l(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function u(t,e,n){return yt.isFunction(e)?yt.grep(t,function(t,r){return!!e.call(t,r,t)!==n}):e.nodeType?yt.grep(t,function(t){return t===e!==n}):"string"!=typeof e?yt.grep(t,function(t){return ft.call(e,t)>-1!==n}):Ot.test(e)?yt.filter(e,t,n):(e=yt.filter(e,t),yt.grep(t,function(t){return ft.call(e,t)>-1!==n&&1===t.nodeType}))}function c(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function f(t){var e={};return yt.each(t.match(Lt)||[],function(t,n){e[n]=!0}),e}function h(t){return t}function d(t){throw t}function p(t,e,n,r){var i;try{t&&yt.isFunction(i=t.promise)?i.call(t).done(e).fail(n):t&&yt.isFunction(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}function m(){at.removeEventListener("DOMContentLoaded",m),n.removeEventListener("load",m),yt.ready()}function g(){this.expando=yt.expando+g.uid++}function v(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:zt.test(t)?JSON.parse(t):t)}function y(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(Bt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=v(n)}catch(t){}Ut.set(t,e,n)}else n=void 0;return n}function b(t,e,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return yt.css(t,e,"")},l=s(),u=n&&n[3]||(yt.cssNumber[e]?"":"px"),c=(yt.cssNumber[e]||"px"!==u&&+l)&&Gt.exec(yt.css(t,e));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do{o=o||".5",c/=o,yt.style(t,e,c+u)}while(o!==(o=s()/l)&&1!==o&&--a)}return n&&(c=+c||+l||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=i)),i}function _(t){var e,n=t.ownerDocument,r=t.nodeName,i=Yt[r];return i||(e=n.body.appendChild(n.createElement(r)),i=yt.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),Yt[r]=i,i)}function w(t,e){for(var n,r,i=[],o=0,a=t.length;o<a;o++)r=t[o],r.style&&(n=r.style.display,e?("none"===n&&(i[o]=jt.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&qt(r)&&(i[o]=_(r))):"none"!==n&&(i[o]="none",jt.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}function x(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&l(t,e)?yt.merge([t],n):n}function E(t,e){for(var n=0,r=t.length;n<r;n++)jt.set(t[n],"globalEval",!e||jt.get(e[n],"globalEval"))}function M(t,e,n,r,i){for(var o,a,s,l,u,c,f=e.createDocumentFragment(),h=[],d=0,p=t.length;d<p;d++)if((o=t[d])||0===o)if("object"===yt.type(o))yt.merge(h,o.nodeType?[o]:o);else if(Jt.test(o)){for(a=a||f.appendChild(e.createElement("div")),s=(Zt.exec(o)||["",""])[1].toLowerCase(),l=Qt[s]||Qt._default,a.innerHTML=l[1]+yt.htmlPrefilter(o)+l[2],c=l[0];c--;)a=a.lastChild;yt.merge(h,a.childNodes),a=f.firstChild,a.textContent=""}else h.push(e.createTextNode(o));for(f.textContent="",d=0;o=h[d++];)if(r&&yt.inArray(o,r)>-1)i&&i.push(o);else if(u=yt.contains(o.ownerDocument,o),a=x(f.appendChild(o),"script"),u&&E(a),n)for(c=0;o=a[c++];)Kt.test(o.type||"")&&n.push(o);return f}function S(){return!0}function T(){return!1}function C(){try{return at.activeElement}catch(t){}}function O(t,e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=void 0);for(s in e)O(t,s,n,r,e[s],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=T;else if(!i)return t;return 1===o&&(a=i,i=function(t){return yt().off(t),a.apply(this,arguments)},i.guid=a.guid||(a.guid=yt.guid++)),t.each(function(){yt.event.add(this,e,i,r,n)})}function A(t,e){return l(t,"table")&&l(11!==e.nodeType?e:e.firstChild,"tr")?yt(">tbody",t)[0]||t:t}function I(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function R(t){var e=ae.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function P(t,e){var n,r,i,o,a,s,l,u;if(1===e.nodeType){if(jt.hasData(t)&&(o=jt.access(t),a=jt.set(e,o),u=o.events)){delete a.handle,a.events={};for(i in u)for(n=0,r=u[i].length;n<r;n++)yt.event.add(e,i,u[i][n])}Ut.hasData(t)&&(s=Ut.access(t),l=yt.extend({},s),Ut.set(e,l))}}function L(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Xt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function N(t,e,n,r){e=ut.apply([],e);var i,o,s,l,u,c,f=0,h=t.length,d=h-1,p=e[0],m=yt.isFunction(p);if(m||h>1&&"string"==typeof p&&!vt.checkClone&&oe.test(p))return t.each(function(i){var o=t.eq(i);m&&(e[0]=p.call(this,i,o.html())),N(o,e,n,r)});if(h&&(i=M(e,t[0].ownerDocument,!1,t,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=yt.map(x(i,"script"),I),l=s.length;f<h;f++)u=i,f!==d&&(u=yt.clone(u,!0,!0),l&&yt.merge(s,x(u,"script"))),n.call(t[f],u,f);if(l)for(c=s[s.length-1].ownerDocument,yt.map(s,R),f=0;f<l;f++)u=s[f],Kt.test(u.type||"")&&!jt.access(u,"globalEval")&&yt.contains(c,u)&&(u.src?yt._evalUrl&&yt._evalUrl(u.src):a(u.textContent.replace(se,""),c))}return t}function k(t,e,n){for(var r,i=e?yt.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||yt.cleanData(x(r)),r.parentNode&&(n&&yt.contains(r.ownerDocument,r)&&E(x(r,"script")),r.parentNode.removeChild(r));return t}function D(t,e,n){var r,i,o,a,s=t.style;return n=n||ce(t),n&&(a=n.getPropertyValue(e)||n[e],""!==a||yt.contains(t.ownerDocument,t)||(a=yt.style(t,e)),!vt.pixelMarginRight()&&ue.test(a)&&le.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function F(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function j(t){if(t in ge)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=me.length;n--;)if((t=me[n]+e)in ge)return t}function U(t){var e=yt.cssProps[t];return e||(e=yt.cssProps[t]=j(t)||t),e}function z(t,e,n){var r=Gt.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function B(t,e,n,r,i){var o,a=0;for(o=n===(r?"border":"content")?4:"width"===e?1:0;o<4;o+=2)"margin"===n&&(a+=yt.css(t,n+Ht[o],!0,i)),r?("content"===n&&(a-=yt.css(t,"padding"+Ht[o],!0,i)),"margin"!==n&&(a-=yt.css(t,"border"+Ht[o]+"Width",!0,i))):(a+=yt.css(t,"padding"+Ht[o],!0,i),"padding"!==n&&(a+=yt.css(t,"border"+Ht[o]+"Width",!0,i)));return a}function V(t,e,n){var r,i=ce(t),o=D(t,e,i),a="border-box"===yt.css(t,"boxSizing",!1,i);return ue.test(o)?o:(r=a&&(vt.boxSizingReliable()||o===t.style[e]),"auto"===o&&(o=t["offset"+e[0].toUpperCase()+e.slice(1)]),(o=parseFloat(o)||0)+B(t,e,n||(a?"border":"content"),r,i)+"px")}function G(t,e,n,r,i){return new G.prototype.init(t,e,n,r,i)}function H(){ye&&(!1===at.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(H):n.setTimeout(H,yt.fx.interval),yt.fx.tick())}function q(){return n.setTimeout(function(){ve=void 0}),ve=yt.now()}function W(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)n=Ht[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function Y(t,e,n){for(var r,i=(K.tweeners[e]||[]).concat(K.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,e,t))return r}function X(t,e,n){var r,i,o,a,s,l,u,c,f="width"in e||"height"in e,h=this,d={},p=t.style,m=t.nodeType&&qt(t),g=jt.get(t,"fxshow");n.queue||(a=yt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,yt.queue(t,"fx").length||a.empty.fire()})}));for(r in e)if(i=e[r],be.test(i)){if(delete e[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}d[r]=g&&g[r]||yt.style(t,r)}if((l=!yt.isEmptyObject(e))||!yt.isEmptyObject(d)){f&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=g&&g.display,null==u&&(u=jt.get(t,"display")),c=yt.css(t,"display"),"none"===c&&(u?c=u:(w([t],!0),u=t.style.display||u,c=yt.css(t,"display"),w([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===yt.css(t,"float")&&(l||(h.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1;for(r in d)l||(g?"hidden"in g&&(m=g.hidden):g=jt.access(t,"fxshow",{display:u}),o&&(g.hidden=!m),m&&w([t],!0),h.done(function(){m||w([t]),jt.remove(t,"fxshow");for(r in d)yt.style(t,r,d[r])})),l=Y(m?g[r]:0,r,h),r in g||(g[r]=l.start,m&&(l.end=l.start,l.start=0))}}function Z(t,e){var n,r,i,o,a;for(n in t)if(r=yt.camelCase(n),i=e[r],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(a=yt.cssHooks[r])&&"expand"in a){o=a.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function K(t,e,n){var r,i,o=0,a=K.prefilters.length,s=yt.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var e=ve||q(),n=Math.max(0,u.startTime+u.duration-e),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;a<l;a++)u.tweens[a].run(o);return s.notifyWith(t,[u,o,n]),o<1&&l?n:(l||s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:yt.extend({},e),opts:yt.extend(!0,{specialEasing:{},easing:yt.easing._default},n),originalProperties:e,originalOptions:n,startTime:ve||q(),duration:n.duration,tweens:[],createTween:function(e,n){var r=yt.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(r),r},stop:function(e){var n=0,r=e?u.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)u.tweens[n].run(1);return e?(s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u,e])):s.rejectWith(t,[u,e]),this}}),c=u.props;for(Z(c,u.opts.specialEasing);o<a;o++)if(r=K.prefilters[o].call(u,t,c,u.opts))return yt.isFunction(r.stop)&&(yt._queueHooks(u.elem,u.opts.queue).stop=yt.proxy(r.stop,r)),r;return yt.map(c,Y,u),yt.isFunction(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),yt.fx.timer(yt.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}function Q(t){return(t.match(Lt)||[]).join(" ")}function J(t){return t.getAttribute&&t.getAttribute("class")||""}function $(t,e,n,r){var i;if(Array.isArray(e))yt.each(e,function(e,i){n||Ie.test(t)?r(t,i):$(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==yt.type(e))r(t,e);else for(i in e)$(t+"["+i+"]",e[i],n,r)}function tt(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(Lt)||[];if(yt.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function et(t,e,n,r){function i(s){var l;return o[s]=!0,yt.each(t[s]||[],function(t,s){var u=s(e,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(e.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=t===Ve;return i(e.dataTypes[0])||!o["*"]&&i("*")}function nt(t,e){var n,r,i=yt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&yt.extend(!0,t,r),t}function rt(t,e,n){for(var r,i,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||t.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}function it(t,e,n,r){var i,o,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[i]:!0!==u[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}var ot=[],at=n.document,st=Object.getPrototypeOf,lt=ot.slice,ut=ot.concat,ct=ot.push,ft=ot.indexOf,ht={},dt=ht.toString,pt=ht.hasOwnProperty,mt=pt.toString,gt=mt.call(Object),vt={},yt=function(t,e){return new yt.fn.init(t,e)},bt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,_t=/^-ms-/,wt=/-([a-z])/g,xt=function(t,e){return e.toUpperCase()};yt.fn=yt.prototype={jquery:"3.2.1",constructor:yt,length:0,toArray:function(){return lt.call(this)},get:function(t){return null==t?lt.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=yt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return yt.each(this,t)},map:function(t){return this.pushStack(yt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(lt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ct,sort:ot.sort,splice:ot.splice},yt.extend=yt.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||yt.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],r=t[e],a!==r&&(u&&r&&(yt.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&yt.isPlainObject(n)?n:{},a[e]=yt.extend(u,o,r)):void 0!==r&&(a[e]=r));return a},yt.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===yt.type(t)},isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=yt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==dt.call(t))&&(!(e=st(t))||"function"==typeof(n=pt.call(e,"constructor")&&e.constructor)&&mt.call(n)===gt)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ht[dt.call(t)]||"object":typeof t},globalEval:function(t){a(t)},camelCase:function(t){return t.replace(_t,"ms-").replace(wt,xt)},each:function(t,e){var n,r=0;if(s(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(bt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(s(Object(t))?yt.merge(n,"string"==typeof t?[t]:t):ct.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:ft.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,a=!n;i<o;i++)!e(t[i],i)!==a&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,a=[];if(s(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&a.push(i);return ut.apply([],a)},guid:1,proxy:function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),yt.isFunction(t))return r=lt.call(arguments,2),i=function(){return t.apply(e||this,r.concat(lt.call(arguments)))},i.guid=t.guid=t.guid||yt.guid++,i},now:Date.now,support:vt}),"function"==typeof Symbol&&(yt.fn[Symbol.iterator]=ot[Symbol.iterator]),yt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ht["[object "+e+"]"]=e.toLowerCase()});var Et=/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(t){function e(t,e,n,r){var i,o,a,s,l,c,h,d=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&((e?e.ownerDocument||e:U)!==R&&I(e),e=e||R,L)){if(11!==p&&(l=mt.exec(t)))if(i=l[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(d&&(a=d.getElementById(i))&&F(e,a)&&a.id===i)return n.push(a),n}else{if(l[2])return K.apply(n,e.getElementsByTagName(t)),n;if((i=l[3])&&_.getElementsByClassName&&e.getElementsByClassName)return K.apply(n,e.getElementsByClassName(i)),n}if(_.qsa&&!H[t+" "]&&(!N||!N.test(t))){if(1!==p)d=e,h=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(bt,_t):e.setAttribute("id",s=j),c=M(t),o=c.length;o--;)c[o]="#"+s+" "+f(c[o]);h=c.join(","),d=gt.test(t)&&u(e.parentNode)||e}if(h)try{return K.apply(n,d.querySelectorAll(h)),n}catch(t){}finally{s===j&&e.removeAttribute("id")}}}return T(t.replace(ot,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>w.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[j]=!0,t}function i(t){var e=R.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=n.length;r--;)w.attrHandle[n[r]]=e}function a(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&xt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function l(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function u(t){return t&&void 0!==t.getElementsByTagName&&t}function c(){}function f(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function h(t,e,n){var r=e.dir,i=e.next,o=i||r,a=n&&"parentNode"===o,s=B++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||a)return t(e,n,i);return!1}:function(e,n,l){var u,c,f,h=[z,s];if(l){for(;e=e[r];)if((1===e.nodeType||a)&&t(e,n,l))return!0}else for(;e=e[r];)if(1===e.nodeType||a)if(f=e[j]||(e[j]={}),c=f[e.uniqueID]||(f[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((u=c[o])&&u[0]===z&&u[1]===s)return h[2]=u[2];if(c[o]=h,h[2]=t(e,n,l))return!0}return!1}}function d(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function p(t,n,r){for(var i=0,o=n.length;i<o;i++)e(t,n[i],r);return r}function m(t,e,n,r,i){for(var o,a=[],s=0,l=t.length,u=null!=e;s<l;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),u&&e.push(s)));return a}function g(t,e,n,i,o,a){return i&&!i[j]&&(i=g(i)),o&&!o[j]&&(o=g(o,a)),r(function(r,a,s,l){var u,c,f,h=[],d=[],g=a.length,v=r||p(e||"*",s.nodeType?[s]:s,[]),y=!t||!r&&e?v:m(v,h,t,s,l),b=n?o||(r?t:g||i)?[]:a:y;if(n&&n(y,b,s,l),i)for(u=m(b,d),i(u,[],s,l),c=u.length;c--;)(f=u[c])&&(b[d[c]]=!(y[d[c]]=f));if(r){if(o||t){if(o){for(u=[],c=b.length;c--;)(f=b[c])&&u.push(y[c]=f);o(null,b=[],u,l)}for(c=b.length;c--;)(f=b[c])&&(u=o?J(r,f):h[c])>-1&&(r[u]=!(a[u]=f))}}else b=m(b===a?b.splice(g,b.length):b),o?o(null,a,b,l):K.apply(a,b)})}function v(t){for(var e,n,r,i=t.length,o=w.relative[t[0].type],a=o||w.relative[" "],s=o?1:0,l=h(function(t){return t===e},a,!0),u=h(function(t){return J(e,t)>-1},a,!0),c=[function(t,n,r){var i=!o&&(r||n!==C)||((e=n).nodeType?l(t,n,r):u(t,n,r));return e=null,i}];s<i;s++)if(n=w.relative[t[s].type])c=[h(d(c),n)];else{if(n=w.filter[t[s].type].apply(null,t[s].matches),n[j]){for(r=++s;r<i&&!w.relative[t[r].type];r++);return g(s>1&&d(c),s>1&&f(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ot,"$1"),n,s<r&&v(t.slice(s,r)),r<i&&v(t=t.slice(r)),r<i&&f(t))}c.push(n)}return d(c)}function y(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,l,u){var c,f,h,d=0,p="0",g=r&&[],v=[],y=C,b=r||o&&w.find.TAG("*",u),_=z+=null==y?1:Math.random()||.1,x=b.length;for(u&&(C=a===R||a||u);p!==x&&null!=(c=b[p]);p++){if(o&&c){for(f=0,a||c.ownerDocument===R||(I(c),s=!L);h=t[f++];)if(h(c,a||R,s)){l.push(c);break}u&&(z=_)}i&&((c=!h&&c)&&d--,r&&g.push(c))}if(d+=p,i&&p!==d){for(f=0;h=n[f++];)h(g,v,a,s);if(r){if(d>0)for(;p--;)g[p]||v[p]||(v[p]=X.call(l));v=m(v)}K.apply(l,v),u&&!r&&v.length>0&&d+n.length>1&&e.uniqueSort(l)}return u&&(z=_,C=y),g};return i?r(a):a}var b,_,w,x,E,M,S,T,C,O,A,I,R,P,L,N,k,D,F,j="sizzle"+1*new Date,U=t.document,z=0,B=0,V=n(),G=n(),H=n(),q=function(t,e){return t===e&&(A=!0),0},W={}.hasOwnProperty,Y=[],X=Y.pop,Z=Y.push,K=Y.push,Q=Y.slice,J=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},$="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",nt="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+et+"))|)"+tt+"*\\]",rt=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+nt+")*)|.*)\\)|)",it=new RegExp(tt+"+","g"),ot=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),at=new RegExp("^"+tt+"*,"+tt+"*"),st=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),lt=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ut=new RegExp(rt),ct=new RegExp("^"+et+"$"),ft={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et+"|[*])"),ATTR:new RegExp("^"+nt),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+$+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},ht=/^(?:input|select|textarea|button)$/i,dt=/^h\d$/i,pt=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/[+~]/,vt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),yt=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},bt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,_t=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},wt=function(){I()},xt=h(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{K.apply(Y=Q.call(U.childNodes),U.childNodes),Y[U.childNodes.length].nodeType}catch(t){K={apply:Y.length?function(t,e){Z.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}_=e.support={},E=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},I=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:U;return r!==R&&9===r.nodeType&&r.documentElement?(R=r,P=R.documentElement,L=!E(R),U!==R&&(n=R.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",wt,!1):n.attachEvent&&n.attachEvent("onunload",wt)),_.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),_.getElementsByTagName=i(function(t){return t.appendChild(R.createComment("")),!t.getElementsByTagName("*").length}),_.getElementsByClassName=pt.test(R.getElementsByClassName),_.getById=i(function(t){return P.appendChild(t).id=j,!R.getElementsByName||!R.getElementsByName(j).length}),_.getById?(w.filter.ID=function(t){var e=t.replace(vt,yt);return function(t){return t.getAttribute("id")===e}},w.find.ID=function(t,e){if(void 0!==e.getElementById&&L){var n=e.getElementById(t);return n?[n]:[]}}):(w.filter.ID=function(t){var e=t.replace(vt,yt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},w.find.ID=function(t,e){if(void 0!==e.getElementById&&L){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),w.find.TAG=_.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):_.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},w.find.CLASS=_.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&L)return e.getElementsByClassName(t)},k=[],N=[],(_.qsa=pt.test(R.querySelectorAll))&&(i(function(t){P.appendChild(t).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||N.push("\\["+tt+"*(?:value|"+$+")"),t.querySelectorAll("[id~="+j+"-]").length||N.push("~="),t.querySelectorAll(":checked").length||N.push(":checked"),t.querySelectorAll("a#"+j+"+*").length||N.push(".#.+[+~]")}),i(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=R.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&N.push("name"+tt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&N.push(":enabled",":disabled"),P.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&N.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),N.push(",.*:")})),(_.matchesSelector=pt.test(D=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&i(function(t){_.disconnectedMatch=D.call(t,"*"),D.call(t,"[s!='']:x"),k.push("!=",rt)}),N=N.length&&new RegExp(N.join("|")),k=k.length&&new RegExp(k.join("|")),e=pt.test(P.compareDocumentPosition),F=e||pt.test(P.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},q=e?function(t,e){if(t===e)return A=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!_.sortDetached&&e.compareDocumentPosition(t)===n?t===R||t.ownerDocument===U&&F(U,t)?-1:e===R||e.ownerDocument===U&&F(U,e)?1:O?J(O,t)-J(O,e):0:4&n?-1:1)}:function(t,e){if(t===e)return A=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,s=[t],l=[e];if(!i||!o)return t===R?-1:e===R?1:i?-1:o?1:O?J(O,t)-J(O,e):0;if(i===o)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;s[r]===l[r];)r++;return r?a(s[r],l[r]):s[r]===U?-1:l[r]===U?1:0},R):R},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==R&&I(t),n=n.replace(lt,"='$1']"),_.matchesSelector&&L&&!H[n+" "]&&(!k||!k.test(n))&&(!N||!N.test(n)))try{var r=D.call(t,n);if(r||_.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return e(n,R,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==R&&I(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==R&&I(t);var n=w.attrHandle[e.toLowerCase()],r=n&&W.call(w.attrHandle,e.toLowerCase())?n(t,e,!L):void 0;return void 0!==r?r:_.attributes||!L?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.escape=function(t){return(t+"").replace(bt,_t)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(A=!_.detectDuplicates,O=!_.sortStable&&t.slice(0),t.sort(q),A){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return O=null,t},x=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=x(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=x(e);return n},w=e.selectors={cacheLength:50,createPseudo:r,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(vt,yt),t[3]=(t[3]||t[4]||t[5]||"").replace(vt,yt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ut.test(n)&&(e=M(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(vt,yt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=V[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&V(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(it," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,l){var u,c,f,h,d,p,m=o!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(o){for(;m;){for(h=e;h=h[m];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(h=g,f=h[j]||(h[j]={}),c=f[h.uniqueID]||(f[h.uniqueID]={}),u=c[t]||[],d=u[0]===z&&u[1],b=d&&u[2],h=d&&g.childNodes[d];h=++d&&h&&h[m]||(b=d=0)||p.pop();)if(1===h.nodeType&&++b&&h===e){c[t]=[z,d,b];break}}else if(y&&(h=e,f=h[j]||(h[j]={}),c=f[h.uniqueID]||(f[h.uniqueID]={}),u=c[t]||[],d=u[0]===z&&u[1],b=d),!1===b)for(;(h=++d&&h&&h[m]||(b=d=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&(f=h[j]||(h[j]={}),c=f[h.uniqueID]||(f[h.uniqueID]={}),c[t]=[z,b]),h!==e)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(t,n){var i,o=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[j]?o(n):o.length>1?(i=[t,t,"",n],w.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),a=i.length;a--;)r=J(t,i[a]),t[r]=!(e[r]=i[a])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=S(t.replace(ot,"$1"));return i[j]?r(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(vt,yt),function(e){return(e.textContent||e.innerText||x(e)).indexOf(t)>-1}}),lang:r(function(t){return ct.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(vt,yt).toLowerCase(),function(e){var n;do{if(n=L?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===P},focus:function(t){return t===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return dt.test(t.nodeName)},input:function(t){return ht.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[n<0?n+e:n]}),even:l(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:l(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}},w.pseudos.nth=w.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[b]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(b);for(b in{submit:!0,reset:!0})w.pseudos[b]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(b);return c.prototype=w.filters=w.pseudos,w.setFilters=new c,M=e.tokenize=function(t,n){var r,i,o,a,s,l,u,c=G[t+" "];if(c)return n?0:c.slice(0);for(s=t,l=[],u=w.preFilter;s;){r&&!(i=at.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=st.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ot," ")}),s=s.slice(r.length));for(a in w.filter)!(i=ft[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):G(t,l).slice(0)},S=e.compile=function(t,e){var n,r=[],i=[],o=H[t+" "];if(!o){for(e||(e=M(t)),n=e.length;n--;)o=v(e[n]),o[j]?r.push(o):i.push(o);o=H(t,y(i,r)),o.selector=t}return o},T=e.select=function(t,e,n,r){var i,o,a,s,l,c="function"==typeof t&&t,h=!r&&M(t=c.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===e.nodeType&&L&&w.relative[o[1].type]){if(!(e=(w.find.ID(a.matches[0].replace(vt,yt),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=ft.needsContext.test(t)?0:o.length;i--&&(a=o[i],!w.relative[s=a.type]);)if((l=w.find[s])&&(r=l(a.matches[0].replace(vt,yt),gt.test(o[0].type)&&u(e.parentNode)||e))){if(o.splice(i,1),!(t=r.length&&f(o)))return K.apply(n,r),n;break}}return(c||S(t,h))(r,e,!L,n,!e||gt.test(t)&&u(e.parentNode)||e),n},_.sortStable=j.split("").sort(q).join("")===j,_.detectDuplicates=!!A,I(),_.sortDetached=i(function(t){return 1&t.compareDocumentPosition(R.createElement("fieldset"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),_.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o($,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(n);yt.find=Et,yt.expr=Et.selectors,yt.expr[":"]=yt.expr.pseudos,yt.uniqueSort=yt.unique=Et.uniqueSort,yt.text=Et.getText,yt.isXMLDoc=Et.isXML,yt.contains=Et.contains,yt.escapeSelector=Et.escape;var Mt=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&yt(t).is(n))break;r.push(t)}return r},St=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},Tt=yt.expr.match.needsContext,Ct=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Ot=/^.[^:#\[\.,]*$/;yt.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?yt.find.matchesSelector(r,t)?[r]:[]:yt.find.matches(t,yt.grep(e,function(t){return 1===t.nodeType}))},yt.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(yt(t).filter(function(){for(e=0;e<r;e++)if(yt.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)yt.find(t,i[e],n);return r>1?yt.uniqueSort(n):n},filter:function(t){return this.pushStack(u(this,t||[],!1))},not:function(t){return this.pushStack(u(this,t||[],!0))},is:function(t){return!!u(this,"string"==typeof t&&Tt.test(t)?yt(t):t||[],!1).length}});var At,It=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(yt.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||At,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:It.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof yt?e[0]:e,yt.merge(this,yt.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:at,!0)),Ct.test(r[1])&&yt.isPlainObject(e))for(r in e)yt.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return i=at.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):yt.isFunction(t)?void 0!==n.ready?n.ready(t):t(yt):yt.makeArray(t,this)}).prototype=yt.fn,At=yt(at);var Rt=/^(?:parents|prev(?:Until|All))/,Pt={children:!0,contents:!0,next:!0,prev:!0};yt.fn.extend({has:function(t){var e=yt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(yt.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],a="string"!=typeof t&&yt(t);if(!Tt.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&yt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?yt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?ft.call(yt(t),this[0]):ft.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(yt.uniqueSort(yt.merge(this.get(),yt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),yt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Mt(t,"parentNode")},parentsUntil:function(t,e,n){return Mt(t,"parentNode",n)},next:function(t){return c(t,"nextSibling")},prev:function(t){return c(t,"previousSibling")},nextAll:function(t){return Mt(t,"nextSibling")},prevAll:function(t){return Mt(t,"previousSibling")},nextUntil:function(t,e,n){return Mt(t,"nextSibling",n)},prevUntil:function(t,e,n){return Mt(t,"previousSibling",n)},siblings:function(t){return St((t.parentNode||{}).firstChild,t)},children:function(t){return St(t.firstChild)},contents:function(t){return l(t,"iframe")?t.contentDocument:(l(t,"template")&&(t=t.content||t),yt.merge([],t.childNodes))}},function(t,e){yt.fn[t]=function(n,r){var i=yt.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=yt.filter(r,i)),this.length>1&&(Pt[t]||yt.uniqueSort(i),Rt.test(t)&&i.reverse()),this.pushStack(i)}});var Lt=/[^\x20\t\r\n\f]+/g;yt.Callbacks=function(t){t="string"==typeof t?f(t):yt.extend({},t);var e,n,r,i,o=[],a=[],s=-1,l=function(){for(i=i||t.once,r=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},u={add:function(){return o&&(n&&!e&&(s=o.length-1,a.push(n)),function e(n){yt.each(n,function(n,r){yt.isFunction(r)?t.unique&&u.has(r)||o.push(r):r&&r.length&&"string"!==yt.type(r)&&e(r)})}(arguments),n&&!e&&l()),this},remove:function(){return yt.each(arguments,function(t,e){for(var n;(n=yt.inArray(e,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(t){return t?yt.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=n||[],n=[t,n.slice?n.slice():n],a.push(n),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},yt.extend({Deferred:function(t){var e=[["notify","progress",yt.Callbacks("memory"),yt.Callbacks("memory"),2],["resolve","done",yt.Callbacks("once memory"),yt.Callbacks("once memory"),0,"resolved"],["reject","fail",yt.Callbacks("once memory"),yt.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return yt.Deferred(function(n){yt.each(e,function(e,r){var i=yt.isFunction(t[r[4]])&&t[r[4]];o[r[1]](function(){var t=i&&i.apply(this,arguments);t&&yt.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(t,r,i){function o(t,e,r,i){return function(){var s=this,l=arguments,u=function(){var n,u;if(!(t<a)){if((n=r.apply(s,l))===e.promise())throw new TypeError("Thenable self-resolution");u=n&&("object"==typeof n||"function"==typeof n)&&n.then,yt.isFunction(u)?i?u.call(n,o(a,e,h,i),o(a,e,d,i)):(a++,u.call(n,o(a,e,h,i),o(a,e,d,i),o(a,e,h,e.notifyWith))):(r!==h&&(s=void 0,l=[n]),(i||e.resolveWith)(s,l))}},c=i?u:function(){try{u()}catch(n){yt.Deferred.exceptionHook&&yt.Deferred.exceptionHook(n,c.stackTrace),t+1>=a&&(r!==d&&(s=void 0,l=[n]),e.rejectWith(s,l))}};t?c():(yt.Deferred.getStackHook&&(c.stackTrace=yt.Deferred.getStackHook()),n.setTimeout(c))}}var a=0;return yt.Deferred(function(n){e[0][3].add(o(0,n,yt.isFunction(i)?i:h,n.notifyWith)),e[1][3].add(o(0,n,yt.isFunction(t)?t:h)),e[2][3].add(o(0,n,yt.isFunction(r)?r:d))}).promise()},promise:function(t){return null!=t?yt.extend(t,i):i}},o={};return yt.each(e,function(t,n){var a=n[2],s=n[5];i[n[1]]=a.add,s&&a.add(function(){r=s},e[3-t][2].disable,e[0][2].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=lt.call(arguments),o=yt.Deferred(),a=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?lt.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&(p(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||yt.isFunction(i[n]&&i[n].then)))return o.then();for(;n--;)p(i[n],a(n),o.reject);return o.promise()}});var Nt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;yt.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&Nt.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},yt.readyException=function(t){n.setTimeout(function(){throw t})};var kt=yt.Deferred();yt.fn.ready=function(t){return kt.then(t).catch(function(t){yt.readyException(t)}),this},yt.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--yt.readyWait:yt.isReady)||(yt.isReady=!0,!0!==t&&--yt.readyWait>0||kt.resolveWith(at,[yt]))}}),yt.ready.then=kt.then,"complete"===at.readyState||"loading"!==at.readyState&&!at.documentElement.doScroll?n.setTimeout(yt.ready):(at.addEventListener("DOMContentLoaded",m),n.addEventListener("load",m));var Dt=function(t,e,n,r,i,o,a){var s=0,l=t.length,u=null==n;if("object"===yt.type(n)){i=!0;for(s in n)Dt(t,e,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,yt.isFunction(r)||(a=!0),u&&(a?(e.call(t,r),e=null):(u=e,e=function(t,e,n){return u.call(yt(t),n)})),e))for(;s<l;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:u?e.call(t):l?e(t[0],n):o},Ft=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};g.uid=1,g.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Ft(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[yt.camelCase(e)]=n;else for(r in e)i[yt.camelCase(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][yt.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){Array.isArray(e)?e=e.map(yt.camelCase):(e=yt.camelCase(e),e=e in r?[e]:e.match(Lt)||[]),n=e.length;for(;n--;)delete r[e[n]]}(void 0===e||yt.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!yt.isEmptyObject(e)}};var jt=new g,Ut=new g,zt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Bt=/[A-Z]/g;yt.extend({hasData:function(t){return Ut.hasData(t)||jt.hasData(t)},data:function(t,e,n){return Ut.access(t,e,n)},removeData:function(t,e){Ut.remove(t,e)},_data:function(t,e,n){return jt.access(t,e,n)},_removeData:function(t,e){jt.remove(t,e)}}),yt.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=Ut.get(o),1===o.nodeType&&!jt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=yt.camelCase(r.slice(5)),y(o,r,i[r])));jt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){Ut.set(this,t)}):Dt(this,function(e){var n;if(o&&void 0===e){if(void 0!==(n=Ut.get(o,t)))return n;if(void 0!==(n=y(o,t)))return n}else this.each(function(){Ut.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Ut.remove(this,t)})}}),yt.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=jt.get(t,e),n&&(!r||Array.isArray(n)?r=jt.access(t,e,yt.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=yt.queue(t,e),r=n.length,i=n.shift(),o=yt._queueHooks(t,e),a=function(){yt.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return jt.get(t,n)||jt.access(t,n,{empty:yt.Callbacks("once memory").add(function(){jt.remove(t,[e+"queue",n])})})}}),yt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?yt.queue(this[0],t):void 0===e?this:this.each(function(){var n=yt.queue(this,t,e);yt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&yt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){yt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=yt.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=jt.get(o[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var Vt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Gt=new RegExp("^(?:([+-])=|)("+Vt+")([a-z%]*)$","i"),Ht=["Top","Right","Bottom","Left"],qt=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&yt.contains(t.ownerDocument,t)&&"none"===yt.css(t,"display")},Wt=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=a[o];return i},Yt={};yt.fn.extend({show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){qt(this)?yt(this).show():yt(this).hide()})}});var Xt=/^(?:checkbox|radio)$/i,Zt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Kt=/^$|\/(?:java|ecma)script/i,Qt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Qt.optgroup=Qt.option,Qt.tbody=Qt.tfoot=Qt.colgroup=Qt.caption=Qt.thead,Qt.th=Qt.td;var Jt=/<|&#?\w+;/;!function(){var t=at.createDocumentFragment(),e=t.appendChild(at.createElement("div")),n=at.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),vt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",vt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var $t=at.documentElement,te=/^key/,ee=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ne=/^([^.]*)(?:\.(.+)|)/;yt.event={global:{},add:function(t,e,n,r,i){var o,a,s,l,u,c,f,h,d,p,m,g=jt.get(t);if(g)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&yt.find.matchesSelector($t,i),n.guid||(n.guid=yt.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(e){return void 0!==yt&&yt.event.triggered!==e.type?yt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Lt)||[""],u=e.length;u--;)s=ne.exec(e[u])||[],d=m=s[1],p=(s[2]||"").split(".").sort(),d&&(f=yt.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=yt.event.special[d]||{},c=yt.extend({type:d,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&yt.expr.match.needsContext.test(i),namespace:p.join(".")},o),(h=l[d])||(h=l[d]=[],h.delegateCount=0,f.setup&&!1!==f.setup.call(t,r,p,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,c):h.push(c),yt.event.global[d]=!0)},remove:function(t,e,n,r,i){var o,a,s,l,u,c,f,h,d,p,m,g=jt.hasData(t)&&jt.get(t);if(g&&(l=g.events)){for(e=(e||"").match(Lt)||[""],u=e.length;u--;)if(s=ne.exec(e[u])||[],d=m=s[1],p=(s[2]||"").split(".").sort(),d){for(f=yt.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,h=l[d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!i&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,f.remove&&f.remove.call(t,c));a&&!h.length&&(f.teardown&&!1!==f.teardown.call(t,p,g.handle)||yt.removeEvent(t,d,g.handle),delete l[d])}else for(d in l)yt.event.remove(t,d+e[u],n,r,!0);yt.isEmptyObject(l)&&jt.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,a,s=yt.event.fix(t),l=new Array(arguments.length),u=(jt.get(this,"events")||{})[s.type]||[],c=yt.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=yt.event.handlers.call(this,s,u),e=0;(i=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((yt.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,l))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,r,i,o,a,s=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],a={},n=0;n<l;n++)r=e[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?yt(i,this).index(u)>-1:yt.find(i,this,null,[u]).length),a[i]&&o.push(r);o.length&&s.push({elem:u,handlers:o})}return u=this,l<e.length&&s.push({elem:u,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(yt.Event.prototype,t,{enumerable:!0,configurable:!0,get:yt.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[yt.expando]?t:new yt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==C()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===C()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&l(this,"input"))return this.click(),!1},_default:function(t){return l(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},yt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},yt.Event=function(t,e){if(!(this instanceof yt.Event))return new yt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?S:T,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&yt.extend(this,e),this.timeStamp=t&&t.timeStamp||yt.now(),this[yt.expando]=!0},yt.Event.prototype={constructor:yt.Event,isDefaultPrevented:T,isPropagationStopped:T,isImmediatePropagationStopped:T,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=S,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=S,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=S,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},yt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&te.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&ee.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},yt.event.addProp),yt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){yt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||yt.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),yt.fn.extend({on:function(t,e,n,r){return O(this,t,e,n,r)},one:function(t,e,n,r){return O(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,yt(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=T),this.each(function(){yt.event.remove(this,t,n,e)})}});var re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ie=/<script|<style|<link/i,oe=/checked\s*(?:[^=]|=\s*.checked.)/i,ae=/^true\/(.*)/,se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;yt.extend({htmlPrefilter:function(t){return t.replace(re,"<$1></$2>")},clone:function(t,e,n){var r,i,o,a,s=t.cloneNode(!0),l=yt.contains(t.ownerDocument,t);if(!(vt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||yt.isXMLDoc(t)))for(a=x(s),o=x(t),r=0,i=o.length;r<i;r++)L(o[r],a[r]);if(e)if(n)for(o=o||x(t),a=a||x(s),r=0,i=o.length;r<i;r++)P(o[r],a[r]);else P(t,s);return a=x(s,"script"),a.length>0&&E(a,!l&&x(t,"script")),s},cleanData:function(t){for(var e,n,r,i=yt.event.special,o=0;void 0!==(n=t[o]);o++)if(Ft(n)){if(e=n[jt.expando]){if(e.events)for(r in e.events)i[r]?yt.event.remove(n,r):yt.removeEvent(n,r,e.handle);n[jt.expando]=void 0}n[Ut.expando]&&(n[Ut.expando]=void 0)}}}),yt.fn.extend({detach:function(t){return k(this,t,!0)},remove:function(t){return k(this,t)},text:function(t){return Dt(this,function(t){return void 0===t?yt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return N(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){A(this,t).appendChild(t)}})},prepend:function(){return N(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=A(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return N(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return N(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(yt.cleanData(x(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return yt.clone(this,t,e)})},html:function(t){return Dt(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ie.test(t)&&!Qt[(Zt.exec(t)||["",""])[1].toLowerCase()]){t=yt.htmlPrefilter(t);try{for(;n<r;n++)e=this[n]||{},1===e.nodeType&&(yt.cleanData(x(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return N(this,arguments,function(e){var n=this.parentNode;yt.inArray(this,t)<0&&(yt.cleanData(x(this)),n&&n.replaceChild(e,this))},t)}}),yt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){yt.fn[t]=function(t){for(var n,r=[],i=yt(t),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),yt(i[a])[e](n),ct.apply(r,n.get());return this.pushStack(r)}});var le=/^margin/,ue=new RegExp("^("+Vt+")(?!px)[a-z%]+$","i"),ce=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",$t.appendChild(a);var t=n.getComputedStyle(s);e="1%"!==t.top,o="2px"===t.marginLeft,r="4px"===t.width,s.style.marginRight="50%",i="4px"===t.marginRight,$t.removeChild(a),s=null}}var e,r,i,o,a=at.createElement("div"),s=at.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",vt.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),yt.extend(vt,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return t(),r},pixelMarginRight:function(){return t(),i},reliableMarginLeft:function(){return t(),o}}))}();var fe=/^(none|table(?!-c[ea]).+)/,he=/^--/,de={position:"absolute",visibility:"hidden",display:"block"},pe={letterSpacing:"0",fontWeight:"400"},me=["Webkit","Moz","ms"],ge=at.createElement("div").style;yt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=D(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=yt.camelCase(e),l=he.test(e),u=t.style;if(l||(e=U(s)),a=yt.cssHooks[e]||yt.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:u[e];o=typeof n,"string"===o&&(i=Gt.exec(n))&&i[1]&&(n=b(t,e,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(yt.cssNumber[s]?"":"px")),vt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(l?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,r){var i,o,a,s=yt.camelCase(e);return he.test(e)||(e=U(s)),a=yt.cssHooks[e]||yt.cssHooks[s],a&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=D(t,e,r)),"normal"===i&&e in pe&&(i=pe[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),yt.each(["height","width"],function(t,e){yt.cssHooks[e]={get:function(t,n,r){if(n)return!fe.test(yt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?V(t,e,r):Wt(t,de,function(){return V(t,e,r)})},set:function(t,n,r){var i,o=r&&ce(t),a=r&&B(t,e,r,"border-box"===yt.css(t,"boxSizing",!1,o),o);return a&&(i=Gt.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=yt.css(t,e)),z(t,n,a)}}}),yt.cssHooks.marginLeft=F(vt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(D(t,"marginLeft"))||t.getBoundingClientRect().left-Wt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),yt.each({margin:"",padding:"",border:"Width"},function(t,e){yt.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+Ht[r]+e]=o[r]||o[r-2]||o[0];return i}},le.test(t)||(yt.cssHooks[t+e].set=z)}),yt.fn.extend({css:function(t,e){return Dt(this,function(t,e,n){var r,i,o={},a=0;if(Array.isArray(e)){for(r=ce(t),i=e.length;a<i;a++)o[e[a]]=yt.css(t,e[a],!1,r);return o}return void 0!==n?yt.style(t,e,n):yt.css(t,e)},t,e,arguments.length>1)}}),yt.Tween=G,G.prototype={constructor:G,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||yt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(yt.cssNumber[n]?"":"px")},cur:function(){var t=G.propHooks[this.prop];return t&&t.get?t.get(this):G.propHooks._default.get(this)},run:function(t){var e,n=G.propHooks[this.prop];return this.options.duration?this.pos=e=yt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):G.propHooks._default.set(this),this}},G.prototype.init.prototype=G.prototype,G.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=yt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){yt.fx.step[t.prop]?yt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[yt.cssProps[t.prop]]&&!yt.cssHooks[t.prop]?t.elem[t.prop]=t.now:yt.style(t.elem,t.prop,t.now+t.unit)}}},G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},yt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},yt.fx=G.prototype.init,yt.fx.step={};var ve,ye,be=/^(?:toggle|show|hide)$/,_e=/queueHooks$/;yt.Animation=yt.extend(K,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return b(n.elem,t,Gt.exec(e),n),n}]},tweener:function(t,e){yt.isFunction(t)?(e=t,t=["*"]):t=t.match(Lt);for(var n,r=0,i=t.length;r<i;r++)n=t[r],K.tweeners[n]=K.tweeners[n]||[],K.tweeners[n].unshift(e)},prefilters:[X],prefilter:function(t,e){e?K.prefilters.unshift(t):K.prefilters.push(t)}}),yt.speed=function(t,e,n){var r=t&&"object"==typeof t?yt.extend({},t):{complete:n||!n&&e||yt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!yt.isFunction(e)&&e};return yt.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in yt.fx.speeds?r.duration=yt.fx.speeds[r.duration]:r.duration=yt.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){yt.isFunction(r.old)&&r.old.call(this),r.queue&&yt.dequeue(this,r.queue)},r},yt.fn.extend({fadeTo:function(t,e,n,r){return this.filter(qt).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=yt.isEmptyObject(t),o=yt.speed(e,n,r),a=function(){var e=K(this,yt.extend({},t),o);(i||jt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=yt.timers,a=jt.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&_e.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||yt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=jt.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=yt.timers,a=r?r.length:0;for(n.finish=!0,yt.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),yt.each(["toggle","show","hide"],function(t,e){var n=yt.fn[e];yt.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(W(e,!0),t,r,i)}}),yt.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){yt.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),yt.timers=[],yt.fx.tick=function(){var t,e=0,n=yt.timers;for(ve=yt.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||yt.fx.stop(),ve=void 0},yt.fx.timer=function(t){yt.timers.push(t),yt.fx.start()},yt.fx.interval=13,yt.fx.start=function(){ye||(ye=!0,H())},yt.fx.stop=function(){ye=null},yt.fx.speeds={slow:600,fast:200,_default:400},yt.fn.delay=function(t,e){return t=yt.fx?yt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,r){var i=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(i)}})},function(){var t=at.createElement("input"),e=at.createElement("select"),n=e.appendChild(at.createElement("option"));t.type="checkbox",vt.checkOn=""!==t.value,vt.optSelected=n.selected,t=at.createElement("input"),t.value="t",t.type="radio",vt.radioValue="t"===t.value}();var we,xe=yt.expr.attrHandle;yt.fn.extend({attr:function(t,e){return Dt(this,yt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){yt.removeAttr(this,t)})}}),yt.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?yt.prop(t,e,n):(1===o&&yt.isXMLDoc(t)||(i=yt.attrHooks[e.toLowerCase()]||(yt.expr.match.bool.test(e)?we:void 0)),void 0!==n?null===n?void yt.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=yt.find.attr(t,e),null==r?void 0:r))},attrHooks:{type:{set:function(t,e){if(!vt.radioValue&&"radio"===e&&l(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(Lt);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),we={set:function(t,e,n){return!1===e?yt.removeAttr(t,n):t.setAttribute(n,n),n}},yt.each(yt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=xe[e]||yt.find.attr;xe[e]=function(t,e,r){var i,o,a=e.toLowerCase();return r||(o=xe[a],xe[a]=i,i=null!=n(t,e,r)?a:null,xe[a]=o),i}});var Ee=/^(?:input|select|textarea|button)$/i,Me=/^(?:a|area)$/i;yt.fn.extend({prop:function(t,e){return Dt(this,yt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[yt.propFix[t]||t]})}}),yt.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&yt.isXMLDoc(t)||(e=yt.propFix[e]||e,i=yt.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=yt.find.attr(t,"tabindex");return e?parseInt(e,10):Ee.test(t.nodeName)||Me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),vt.optSelected||(yt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),yt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){yt.propFix[this.toLowerCase()]=this}),yt.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,l=0;if(yt.isFunction(t))return this.each(function(e){yt(this).addClass(t.call(this,e,J(this)))});if("string"==typeof t&&t)for(e=t.match(Lt)||[];n=this[l++];)if(i=J(n),r=1===n.nodeType&&" "+Q(i)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=Q(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,l=0;if(yt.isFunction(t))return this.each(function(e){yt(this).removeClass(t.call(this,e,J(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Lt)||[];n=this[l++];)if(i=J(n),r=1===n.nodeType&&" "+Q(i)+" "){for(a=0;o=e[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=Q(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):yt.isFunction(t)?this.each(function(n){yt(this).toggleClass(t.call(this,n,J(this),e),e)}):this.each(function(){var e,r,i,o;if("string"===n)for(r=0,i=yt(this),o=t.match(Lt)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==t&&"boolean"!==n||(e=J(this),e&&jt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":jt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+Q(J(n))+" ").indexOf(e)>-1)return!0;return!1}});var Se=/\r/g;yt.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=yt.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,yt(this).val()):t,null==i?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=yt.map(i,function(t){return null==t?"":t+""})),(e=yt.valHooks[this.type]||yt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return(e=yt.valHooks[i.type]||yt.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(Se,""):null==n?"":n)}}}),yt.extend({valHooks:{option:{get:function(t){var e=yt.find.attr(t,"value");return null!=e?e:Q(yt.text(t))}},select:{get:function(t){var e,n,r,i=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(n=i[r],(n.selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!l(n.parentNode,"optgroup"))){if(e=yt(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=yt.makeArray(e),a=i.length;a--;)r=i[a],(r.selected=yt.inArray(yt.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),yt.each(["radio","checkbox"],function(){yt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=yt.inArray(yt(t).val(),e)>-1}},vt.checkOn||(yt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Te=/^(?:focusinfocus|focusoutblur)$/;yt.extend(yt.event,{trigger:function(t,e,r,i){var o,a,s,l,u,c,f,h=[r||at],d=pt.call(t,"type")?t.type:t,p=pt.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||at,3!==r.nodeType&&8!==r.nodeType&&!Te.test(d+yt.event.triggered)&&(d.indexOf(".")>-1&&(p=d.split("."),d=p.shift(),p.sort()),u=d.indexOf(":")<0&&"on"+d,t=t[yt.expando]?t:new yt.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:yt.makeArray(e,[t]),f=yt.event.special[d]||{},i||!f.trigger||!1!==f.trigger.apply(r,e))){if(!i&&!f.noBubble&&!yt.isWindow(r)){for(l=f.delegateType||d,Te.test(l+d)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(r.ownerDocument||at)&&h.push(s.defaultView||s.parentWindow||n)}for(o=0;(a=h[o++])&&!t.isPropagationStopped();)t.type=o>1?l:f.bindType||d,c=(jt.get(a,"events")||{})[t.type]&&jt.get(a,"handle"),c&&c.apply(a,e),(c=u&&a[u])&&c.apply&&Ft(a)&&(t.result=c.apply(a,e),!1===t.result&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(h.pop(),e)||!Ft(r)||u&&yt.isFunction(r[d])&&!yt.isWindow(r)&&(s=r[u],s&&(r[u]=null),yt.event.triggered=d,r[d](),yt.event.triggered=void 0,s&&(r[u]=s)),t.result}},simulate:function(t,e,n){var r=yt.extend(new yt.Event,n,{type:t,isSimulated:!0});yt.event.trigger(r,null,e)}}),yt.fn.extend({trigger:function(t,e){return this.each(function(){yt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return yt.event.trigger(t,e,n,!0)}}),yt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){yt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),yt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),vt.focusin="onfocusin"in n,vt.focusin||yt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){yt.event.simulate(e,t.target,yt.event.fix(t))};yt.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=jt.access(r,e);i||r.addEventListener(t,n,!0),jt.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=jt.access(r,e)-1;i?jt.access(r,e,i):(r.removeEventListener(t,n,!0),jt.remove(r,e))}}});var Ce=n.location,Oe=yt.now(),Ae=/\?/;yt.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||yt.error("Invalid XML: "+t),e};var Ie=/\[\]$/,Re=/\r?\n/g,Pe=/^(?:submit|button|image|reset|file)$/i,Le=/^(?:input|select|textarea|keygen)/i;yt.param=function(t,e){var n,r=[],i=function(t,e){var n=yt.isFunction(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!yt.isPlainObject(t))yt.each(t,function(){i(this.name,this.value)});else for(n in t)$(n,t[n],e,i);return r.join("&")},yt.fn.extend({serialize:function(){return yt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=yt.prop(this,"elements");return t?yt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!yt(this).is(":disabled")&&Le.test(this.nodeName)&&!Pe.test(t)&&(this.checked||!Xt.test(t))}).map(function(t,e){var n=yt(this).val();return null==n?null:Array.isArray(n)?yt.map(n,function(t){return{name:e.name,value:t.replace(Re,"\r\n")}}):{name:e.name,value:n.replace(Re,"\r\n")}}).get()}});var Ne=/%20/g,ke=/#.*$/,De=/([?&])_=[^&]*/,Fe=/^(.*?):[ \t]*([^\r\n]*)$/gm,je=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ue=/^(?:GET|HEAD)$/,ze=/^\/\//,Be={},Ve={},Ge="*/".concat("*"),He=at.createElement("a");He.href=Ce.href,yt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ce.href,type:"GET",isLocal:je.test(Ce.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ge,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":yt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?nt(nt(t,yt.ajaxSettings),e):nt(yt.ajaxSettings,t)},ajaxPrefilter:tt(Be),ajaxTransport:tt(Ve),ajax:function(t,e){function r(t,e,r,s){var u,h,d,_,w,x=e;c||(c=!0,l&&n.clearTimeout(l),i=void 0,a=s||"",E.readyState=t>0?4:0,u=t>=200&&t<300||304===t,r&&(_=rt(p,E,r)),_=it(p,_,E,u),u?(p.ifModified&&(w=E.getResponseHeader("Last-Modified"),w&&(yt.lastModified[o]=w),(w=E.getResponseHeader("etag"))&&(yt.etag[o]=w)),204===t||"HEAD"===p.type?x="nocontent":304===t?x="notmodified":(x=_.state,h=_.data,d=_.error,u=!d)):(d=x,!t&&x||(x="error",t<0&&(t=0))),E.status=t,E.statusText=(e||x)+"",u?v.resolveWith(m,[h,x,E]):v.rejectWith(m,[E,x,d]),E.statusCode(b),b=void 0,f&&g.trigger(u?"ajaxSuccess":"ajaxError",[E,p,u?h:d]),y.fireWith(m,[E,x]),f&&(g.trigger("ajaxComplete",[E,p]),--yt.active||yt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,o,a,s,l,u,c,f,h,d,p=yt.ajaxSetup({},e),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?yt(m):yt.event,v=yt.Deferred(),y=yt.Callbacks("once memory"),b=p.statusCode||{},_={},w={},x="canceled",E={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=Fe.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(t,e){return null==c&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)E.always(t[E.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||x;return i&&i.abort(e),r(0,e),this}};if(v.promise(E),p.url=((t||p.url||Ce.href)+"").replace(ze,Ce.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Lt)||[""],null==p.crossDomain){u=at.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=He.protocol+"//"+He.host!=u.protocol+"//"+u.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=yt.param(p.data,p.traditional)),et(Be,p,e,E),c)return E;f=yt.event&&p.global,f&&0==yt.active++&&yt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ue.test(p.type),o=p.url.replace(ke,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ne,"+")):(d=p.url.slice(o.length),p.data&&(o+=(Ae.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(De,"$1"),d=(Ae.test(o)?"&":"?")+"_="+Oe+++d),p.url=o+d),p.ifModified&&(yt.lastModified[o]&&E.setRequestHeader("If-Modified-Since",yt.lastModified[o]),yt.etag[o]&&E.setRequestHeader("If-None-Match",yt.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&E.setRequestHeader("Content-Type",p.contentType),E.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ge+"; q=0.01":""):p.accepts["*"]);for(h in p.headers)E.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(m,E,p)||c))return E.abort();if(x="abort",y.add(p.complete),E.done(p.success),E.fail(p.error),i=et(Ve,p,e,E)){if(E.readyState=1,f&&g.trigger("ajaxSend",[E,p]),c)return E;p.async&&p.timeout>0&&(l=n.setTimeout(function(){E.abort("timeout")},p.timeout));try{c=!1,i.send(_,r)}catch(t){if(c)throw t;r(-1,t)}}else r(-1,"No Transport");return E},getJSON:function(t,e,n){return yt.get(t,e,n,"json")},getScript:function(t,e){return yt.get(t,void 0,e,"script")}}),yt.each(["get","post"],function(t,e){yt[e]=function(t,n,r,i){return yt.isFunction(n)&&(i=i||r,r=n,n=void 0),yt.ajax(yt.extend({url:t,type:e,dataType:i,data:n,success:r},yt.isPlainObject(t)&&t))}}),yt._evalUrl=function(t){return yt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},yt.fn.extend({wrapAll:function(t){var e;return this[0]&&(yt.isFunction(t)&&(t=t.call(this[0])),e=yt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return yt.isFunction(t)?this.each(function(e){yt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=yt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=yt.isFunction(t);return this.each(function(n){yt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){yt(this).replaceWith(this.childNodes)}),this}}),yt.expr.pseudos.hidden=function(t){return!yt.expr.pseudos.visible(t)},yt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},yt.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var qe={0:200,1223:204},We=yt.ajaxSettings.xhr();vt.cors=!!We&&"withCredentials"in We,vt.ajax=We=!!We,yt.ajaxTransport(function(t){var e,r;if(vt.cors||We&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);e=function(t){return function(){e&&(e=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(qe[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),r=s.onerror=e("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){e&&r()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),yt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),yt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return yt.globalEval(t),t}}}),yt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),yt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=yt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),at.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Ye=[],Xe=/(=)\?(?=&|$)|\?\?/;yt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ye.pop()||yt.expando+"_"+Oe++;return this[t]=!0,t}}),yt.ajaxPrefilter("json jsonp",function(t,e,r){var i,o,a,s=!1!==t.jsonp&&(Xe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xe.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=yt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Xe,"$1"+i):!1!==t.jsonp&&(t.url+=(Ae.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||yt.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=n[i],n[i]=function(){a=arguments},r.always(function(){void 0===o?yt(n).removeProp(i):n[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,Ye.push(i)),a&&yt.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),vt.createHTMLDocument=function(){var t=at.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),yt.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var r,i,o;return e||(vt.createHTMLDocument?(e=at.implementation.createHTMLDocument(""),r=e.createElement("base"),r.href=at.location.href,e.head.appendChild(r)):e=at),i=Ct.exec(t),o=!n&&[],i?[e.createElement(i[1])]:(i=M([t],e,o),o&&o.length&&yt(o).remove(),yt.merge([],i.childNodes))},yt.fn.load=function(t,e,n){var r,i,o,a=this,s=t.indexOf(" ");return s>-1&&(r=Q(t.slice(s)),t=t.slice(0,s)),yt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&yt.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?yt("<div>").append(yt.parseHTML(t)).find(r):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},yt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){yt.fn[e]=function(t){return this.on(e,t)}}),yt.expr.pseudos.animated=function(t){return yt.grep(yt.timers,function(e){return t===e.elem}).length},yt.offset={setOffset:function(t,e,n){var r,i,o,a,s,l,u,c=yt.css(t,"position"),f=yt(t),h={};"static"===c&&(t.style.position="relative"),s=f.offset(),o=yt.css(t,"top"),l=yt.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),yt.isFunction(e)&&(e=e.call(t,n,yt.extend({},s))),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+i),"using"in e?e.using.call(t,h):f.css(h)}},yt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){yt.offset.setOffset(this,t,e)});var e,n,r,i,o=this[0];if(o)return o.getClientRects().length?(r=o.getBoundingClientRect(),e=o.ownerDocument,n=e.documentElement,i=e.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===yt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),l(t[0],"html")||(r=t.offset()),r={top:r.top+yt.css(t[0],"borderTopWidth",!0),left:r.left+yt.css(t[0],"borderLeftWidth",!0)}),{top:e.top-r.top-yt.css(n,"marginTop",!0),left:e.left-r.left-yt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===yt.css(t,"position");)t=t.offsetParent;return t||$t})}}),yt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;yt.fn[t]=function(r){return Dt(this,function(t,r,i){var o;if(yt.isWindow(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i},t,r,arguments.length)}}),yt.each(["top","left"],function(t,e){yt.cssHooks[e]=F(vt.pixelPosition,function(t,n){if(n)return n=D(t,e),ue.test(n)?yt(t).position()[e]+"px":n})}),yt.each({Height:"height",Width:"width"},function(t,e){yt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){yt.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return Dt(this,function(e,n,i){var o;return yt.isWindow(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?yt.css(e,n,s):yt.style(e,n,i,s)},e,a?i:void 0,a)}})}),yt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),yt.holdReady=function(t){t?yt.readyWait++:yt.ready(!0)},yt.isArray=Array.isArray,yt.parseJSON=JSON.parse,yt.nodeName=l,r=[],void 0!==(i=function(){return yt}.apply(e,r))&&(t.exports=i);var Ze=n.jQuery,Ke=n.$;return yt.noConflict=function(t){return n.$===yt&&(n.$=Ke),t&&n.jQuery===yt&&(n.jQuery=Ze),yt},o||(n.jQuery=n.$=yt),yt})},function(t,e,n){"use strict";function r(t){function e(e,n,r,i,o,a){var s=i||"<<anonymous>>",l=a||r;if(null==n[r])return e?new Error("Required "+o+" `"+l+"` was not specified in `"+s+"`."):null;for(var u=arguments.length,c=Array(u>6?u-6:0),f=6;f<u;f++)c[f-6]=arguments[f];return t.apply(void 0,[n,r,s,o,l].concat(c))}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(){function t(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=null;return n.forEach(function(t){if(null==i){var n=t.apply(void 0,e);null!=n&&(i=n)}}),i}for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,o.default)(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(254),o=function(t){return t&&t.__esModule?t:{default:t}}(i);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){var r="",i="",o=e;if("string"==typeof e){if(void 0===n)return t.style[(0,a.default)(e)]||(0,c.default)(t).getPropertyValue((0,l.default)(e));(o={})[e]=n}Object.keys(o).forEach(function(e){var n=o[e];n||0===n?(0,m.default)(e)?i+=e+"("+n+") ":r+=(0,l.default)(e)+": "+n+";":(0,h.default)(t,(0,l.default)(e))}),i&&(r+=d.transform+": "+i+";"),t.style.cssText+=";"+r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=n(528),a=r(o),s=n(1215),l=r(s),u=n(1217),c=r(u),f=n(1218),h=r(f),d=n(529),p=n(1219),m=r(p);t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(122),i=function(t){return t&&t.__esModule?t:{default:t}}(r),o=function(){};i.default&&(o=function(){return document.addEventListener?function(t,e,n,r){return t.addEventListener(e,n,r||!1)}:document.attachEvent?function(t,e,n){return t.attachEvent("on"+e,function(e){e=e||window.event,e.target=e.target||e.srcElement,e.currentTarget=t,n.call(t,e)})}:void 0}()),e.default=o,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(531),v=r(g),y=n(174),b=r(y),_=n(358),w=r(_),x=n(0),E=r(x),M=n(3),S=r(M),T=n(52),C=r(T),O=n(255),A=r(O),I=n(35),R=r(I),P=n(259),L=r(P),N=n(207),k=r(N),D=n(78),F=(r(D),n(355)),j=r(F),U=n(1222),z=r(U),B=n(534),V=r(B),G=n(14),H=n(46),q=r(H),W=n(1223),Y=n(64),X=r(Y),Z=V.default.defaultProps.bsRole,K=z.default.defaultProps.bsRole,Q={dropup:S.default.bool,id:(0,L.default)(S.default.oneOfType([S.default.string,S.default.number])),componentClass:R.default,children:(0,A.default)((0,W.requiredRoles)(Z,K),(0,W.exclusiveRoles)(K)),disabled:S.default.bool,pullRight:S.default.bool,open:S.default.bool,defaultOpen:S.default.bool,onToggle:S.default.func,onSelect:S.default.func,role:S.default.string,rootCloseEvent:S.default.oneOf(["click","mousedown"]),onMouseEnter:S.default.func,onMouseLeave:S.default.func},J={componentClass:j.default},$=function(t){function e(n,r){(0,u.default)(this,e);var i=(0,f.default)(this,t.call(this,n,r));return i.handleClick=i.handleClick.bind(i),i.handleKeyDown=i.handleKeyDown.bind(i),i.handleClose=i.handleClose.bind(i),i._focusInDropdown=!1,i.lastOpenEventType=null,i}return(0,d.default)(e,t),e.prototype.componentDidMount=function(){this.focusNextOnOpen()},e.prototype.componentWillUpdate=function(t){!t.open&&this.props.open&&(this._focusInDropdown=(0,b.default)(C.default.findDOMNode(this.menu),(0,v.default)(document)))},e.prototype.componentDidUpdate=function(t){var e=this.props.open,n=t.open;e&&!n&&this.focusNextOnOpen(),!e&&n&&this._focusInDropdown&&(this._focusInDropdown=!1,this.focus())},e.prototype.focus=function(){var t=C.default.findDOMNode(this.toggle);t&&t.focus&&t.focus()},e.prototype.focusNextOnOpen=function(){var t=this.menu;t.focusNext&&("keydown"!==this.lastOpenEventType&&"menuitem"!==this.props.role||t.focusNext())},e.prototype.handleClick=function(t){this.props.disabled||this.toggleOpen(t,{source:"click"})},e.prototype.handleClose=function(t,e){this.props.open&&this.toggleOpen(t,e)},e.prototype.handleKeyDown=function(t){if(!this.props.disabled)switch(t.keyCode){case w.default.codes.down:this.props.open?this.menu.focusNext&&this.menu.focusNext():this.toggleOpen(t,{source:"keydown"}),t.preventDefault();break;case w.default.codes.esc:case w.default.codes.tab:this.handleClose(t,{source:"keydown"})}},e.prototype.toggleOpen=function(t,e){var n=!this.props.open;n&&(this.lastOpenEventType=e.source),this.props.onToggle&&this.props.onToggle(n,t,e)},e.prototype.renderMenu=function(t,e){var n=this,r=e.id,i=e.onSelect,a=e.rootCloseEvent,l=(0,s.default)(e,["id","onSelect","rootCloseEvent"]),u=function(t){n.menu=t};return"string"==typeof t.ref||(u=(0,q.default)(t.ref,u)),(0,x.cloneElement)(t,(0,o.default)({},l,{ref:u,labelledBy:r,bsClass:(0,G.prefix)(l,"menu"),onClose:(0,q.default)(t.props.onClose,this.handleClose),onSelect:(0,q.default)(t.props.onSelect,i,function(t,e){return n.handleClose(e,{source:"select"})}),rootCloseEvent:a}))},e.prototype.renderToggle=function(t,e){var n=this,r=function(t){n.toggle=t};return"string"==typeof t.ref||(r=(0,q.default)(t.ref,r)),(0,x.cloneElement)(t,(0,o.default)({},e,{ref:r,bsClass:(0,G.prefix)(e,"toggle"),onClick:(0,q.default)(t.props.onClick,this.handleClick),onKeyDown:(0,q.default)(t.props.onKeyDown,this.handleKeyDown)}))},e.prototype.render=function(){var t,e=this,n=this.props,r=n.componentClass,i=n.id,a=n.dropup,l=n.disabled,u=n.pullRight,c=n.open,f=n.onSelect,h=n.role,d=n.bsClass,p=n.className,g=n.rootCloseEvent,v=n.children,y=(0,s.default)(n,["componentClass","id","dropup","disabled","pullRight","open","onSelect","role","bsClass","className","rootCloseEvent","children"]);delete y.onToggle;var b=(t={},t[d]=!0,t.open=c,t.disabled=l,t);return a&&(b[d]=!1,b.dropup=!0),E.default.createElement(r,(0,o.default)({},y,{className:(0,m.default)(p,b)}),X.default.map(v,function(t){switch(t.props.bsRole){case Z:return e.renderToggle(t,{id:i,disabled:l,open:c,role:h,bsClass:d});case K:return e.renderMenu(t,{id:i,open:c,pullRight:u,bsClass:d,onSelect:f,rootCloseEvent:g});default:return t}}))},e}(E.default.Component);$.propTypes=Q,$.defaultProps=J,(0,G.bsClass)("dropdown",$);var tt=(0,k.default)($,{open:"onToggle"});tt.Toggle=V.default,tt.Menu=z.default,e.default=tt,t.exports=e.default},function(t,e,n){"use strict";function r(t){return function(e,n,r,i,o){var a=r||"<<anonymous>>",s=o||n;if(null==e[n])return new Error("The "+i+" `"+s+"` is required to make `"+a+"` accessible for users of assistive technologies such as screen readers.");for(var l=arguments.length,u=Array(l>5?l-5:0),c=5;c<l;c++)u[c-5]=arguments[c];return t.apply(void 0,[e,n,r,i,o].concat(u))}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){var n=e.propTypes,r={},i={};return(0,o.default)(t).forEach(function(t){var e=t[0],o=t[1];n[e]?r[e]=o:i[e]=o}),[r,i]}e.__esModule=!0;var i=n(55),o=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(8),s=r(a),l=n(9),u=r(l),c=n(10),f=r(c),h=n(12),d=r(h),p=n(0),m=r(p),g=n(3),v=r(g),y=n(530),b=r(y),_={in:v.default.bool,mountOnEnter:v.default.bool,unmountOnExit:v.default.bool,transitionAppear:v.default.bool,timeout:v.default.number,onEnter:v.default.func,onEntering:v.default.func,onEntered:v.default.func,onExit:v.default.func,onExiting:v.default.func,onExited:v.default.func},w={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,transitionAppear:!1},x=function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,t.apply(this,arguments))}return(0,f.default)(e,t),e.prototype.render=function(){return m.default.createElement(b.default,(0,o.default)({},this.props,{className:(0,d.default)(this.props.className,"fade"),enteredClassName:"in",enteringClassName:"in"}))},e}(m.default.Component);x.propTypes=_,x.defaultProps=w,e.default=x,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(35),b=r(y),_=n(1238),w=r(_),x=n(1239),E=r(x),M=n(1240),S=r(M),T=n(1241),C=r(T),O=n(1242),A=r(O),I=n(1243),R=r(I),P=n(14),L={componentClass:b.default},N={componentClass:"div"},k=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,P.splitBsProps)(r),a=i[0],l=i[1],u=(0,P.getClassSet)(a);return v.default.createElement(e,(0,o.default)({},l,{className:(0,m.default)(n,u)}))},e}(v.default.Component);k.propTypes=L,k.defaultProps=N,k.Heading=E.default,k.Body=w.default,k.Left=S.default,k.Right=R.default,k.List=C.default,k.ListItem=A.default,e.default=(0,P.bsClass)("media",k),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r,i){var a=t[e],l=void 0===a?"undefined":o(a);return s.default.isValidElement(a)?new Error("Invalid "+r+" `"+i+"` of type ReactElement supplied to `"+n+"`, expected a ReactComponent or a DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):"object"===l&&"function"==typeof a.render||1===a.nodeType?null:new Error("Invalid "+r+" `"+i+"` of value `"+a+"` supplied to `"+n+"`, expected a ReactComponent or a DOMElement.")}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(0),s=r(a),l=n(254),u=r(l);e.default=(0,u.default)(i),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t===t.window?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){return t="function"==typeof t?t():t,o.default.findDOMNode(t)||e}e.__esModule=!0,e.default=r;var i=n(52),o=function(t){return t&&t.__esModule?t:{default:t}}(i);t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return h()(t)}function i(t){return function(){var e=t.apply(this,arguments);return new c.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return c.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}n.d(e,"ActionTypes",function(){return M}),n.d(e,"generateLink",function(){return O}),n.d(e,"generateMapLink",function(){return A}),n.d(e,"generateCycloramaLink",function(){return I}),n.d(e,"generateObliqueLink",function(){return R}),n.d(e,"mapLinkToClipboard",function(){return P}),n.d(e,"cycloramaLinkToClipboard",function(){return L}),n.d(e,"obliqueLinkToClipboard",function(){return N});var o=n(21),a=n.n(o),s=n(55),l=n.n(s),u=n(19),c=n.n(u),f=n(30),h=n.n(f),d=n(23),p=n.n(d),m=n(17),g=n.n(m),v=n(16),y=(n.n(v),n(33)),b=n(41),_=n(1298),w=n(1299),x=this,E=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=g()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(p()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),M={GENERATE_LINK:"@@link/GENERATE_LINK",GENERATE_MAP_LINK:"@@link/GENERATE_MAP_LINK",GENERATE_CYCLORAMA_LINK:"@@link/GENERATE_CYCLORAMA_LINK"},S=function(t){return(Array.isArray(t)?t:l()(t)).map(function(t){return t.map(w.a.encodeUriQuery)})},T=function(t){return t.map(function(t){return t.join("=")}).join("&")},C=function(e){var n=t,r=n.location,i=e().routing.locationBeforeTransitions.basename,o=/^(?:(https?:)?(\/\/)?([^\/:]+(?::\d+)?))?(\/)?([^?]*)?(\?[^#]*)?(#.*)?$/,a=o.exec(i),s=E(a,8),l=(s[0],s[1]),u=s[2],c=s[3],f=s[4],h=s[5],d=(s[6],s[7],void 0);d=c?(l||r.protocol)+u+c:r.origin;var p=/^(.*\/)[^\/]*$/;d+=f||p.exec(r.pathname)[1];var m=/^(.*?)(?:\/)?$/;return h&&(d+=m.exec(h)[1],d+="/"),d},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(){var n=i(a.a.mark(function n(r,i){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r(Object(v.createAction)("@@link/GENERATE_LINK",function(){var n=C(i);return(n+="/"===t.charAt(0)?t.substr(1):t)+"?"+T(S(e))})()));case 1:case"end":return n.stop()}},n,x)}));return function(t,e){return n.apply(this,arguments)}}()},A=function(t,e){var n=Object(b.l)(e),i=t.map(function(t){return t.toFixed(n)}),o=[].concat(r(i),[e]);return O("streetsmart",{q:o.join(";")})},I=function(t,e,n){var r=E(e,3),i=r[0],o=r[1],a=r[2],s=[Object(y.d)(i).toFixed(b.a),Object(y.d)(o).toFixed(b.a),Object(y.d)(a).toFixed(b.a)];return O("streetsmart",{q:t,imageParams:s.join(";")})},R=function(t){return O("streetsmart",{q:t})},P=function(t,e){return function(){var n=i(a.a.mark(function n(r,i){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r(A(t,e)).then(function(t){return Object(_.a)(t.payload),t}));case 1:case"end":return n.stop()}},n,x)}));return function(t,e){return n.apply(this,arguments)}}()},L=function(t,e,n){return function(){var r=i(a.a.mark(function r(i,o){return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",i(I(t,e,n)).then(function(t){return Object(_.a)(t.payload),t}));case 1:case"end":return r.stop()}},r,x)}));return function(t,e){return r.apply(this,arguments)}}()},N=function(t){return function(){var e=i(a.a.mark(function e(n,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n(R(t)).then(function(t){return Object(_.a)(t.payload),t}));case 1:case"end":return e.stop()}},e,x)}));return function(t,n){return e.apply(this,arguments)}}()}}.call(e,n(37))},function(t,e,n){"use strict";function r(t,e,n){return e in t?s()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"b",function(){return l}),n.d(e,"c",function(){return u}),n.d(e,"a",function(){return p}),n.d(e,"d",function(){return v}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return b});var i,o,a=n(1),s=n.n(a),l={VIEWERS:"@@NodeKeys/VIEWERS",ROOT:"@@NodeKeys/ROOT",HELP:"@@NodeKeys/HELP",REPORT_BLURRING:"@@NodeKeys/REPORT_BLURRING",MEASUREMENT:"@@NodeKeys/MEASUREMENT",MAPS:"@@NodeKeys/MAPS",PANORAMAS:"@@NodeKeys/PANORAMAS",OBLIQUES:"@@NodeKeys/OBLIQUES"},u={CONTAINER:"@@NodeType/CONTAINER",MAP_VIEWER:"@@NodeType/MAP_VIEWER",PANORAMA_VIEWER:"@@NodeType/PANORAMA_VIEWER",OBLIQUE_VIEWER:"@@NodeType/OBLIQUE_VIEWER",HELP:"@@NodeType/HELP",REPORT_BLURRING:"@@NodeType/REPORT_BLURRING",MEASUREMENT_NAVBAR:"@@NodeType/MEASUREMENT_NAVBAR"},c="@@NodeDirection/EVEN",f="@@NodeDirection/ODD",h="@@NodeDirection/COLUMN",d="@@NodeDirection/ROW",p={EVEN:c,ODD:f,COLUMN:h,ROW:d},m=(i={},r(i,c,"flexEven"),r(i,f,"flexOdd"),r(i,h,"flexColumn"),r(i,d,"flexRow"),i),g=(o={},r(o,c,f),r(o,f,c),r(o,h,d),r(o,d,h),o),v=function(t){return g[t]},y=function(t){return m[t]},b=function(t){return{flexGrow:""+t,flexShrink:0,flexBasis:"0px"}}},function(t,e){t.exports.geometries={NULL:0,POINT:1,POLYLINE:3,POLYGON:5,MULTIPOINT:8,POINTZ:11,POLYLINEZ:13,POLYGONZ:15,MULTIPOINTZ:18,POINTM:21,POLYLINEM:23,POLYGONM:25,MULTIPOINTM:28,MULTIPATCH:31}},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}n.d(e,"c",function(){return u}),n.d(e,"a",function(){return c});var i=n(4),o=n.n(i),a=n(16),s=(n.n(a),o.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),l=Object(a.createAction)("@@measurementfeedback/HIDE_MEASUREMENT_FEEDBACK_MESSAGE"),u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e.duration,r(e,["duration"]));return function(e){e(Object(a.createAction)("@@measurementfeedback/SHOW_MEASUREMENT_FEEDBACK_MESSAGE",function(){return s({content:t},n)})())}},c={SHOW_MEASUREMENT_FEEDBACK_MESSAGE:"@@measurementfeedback/SHOW_MEASUREMENT_FEEDBACK_MESSAGE",HIDE_MEASUREMENT_FEEDBACK_MESSAGE:"@@measurementfeedback/HIDE_MEASUREMENT_FEEDBACK_MESSAGE"};e.b={showMeasurementFeedbackMessage:u,hideMeasurementFeedbackMessage:l}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return v});var i=n(1),o=n.n(i),a=n(4),s=n.n(a),l=n(307),u=n.n(l),c=n(100),f=n.n(c),h=n(33),d=n(121),p=n(477),m=(n.n(p),s.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),g=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=25,y=Object(h.e)(v),b=function(t,e,n,r){return[n-t,r-e]},_=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var i=e.getProperties(),o=i.recordingLocation.getCoordinates();s()(this,m({},i,{feature:e,id:e.getId(),camX:o[0],camY:o[1],camZ:parseFloat(i.recordingHeight),heading:Object(h.e)(parseFloat(i.heading)),pitch:Object(h.e)(parseFloat(i.pitch)),roll:Object(h.e)(parseFloat(i.roll)),focalLength:parseFloat(i.f),ppX:parseFloat(i.dU),ppY:parseFloat(i.dV),imageWidth:parseInt(i.width,10),imageHeight:parseInt(i.height,10),k1:parseFloat(i.k1),k2:parseFloat(i.k2),p1:parseFloat(i.p1),p2:parseFloat(i.p2),alpha:parseFloat(i.alpha),delta:parseFloat(i.delta),width:parseFloat(i.width),height:parseFloat(i.height),zoomlevels:parseInt(i.zoomlevels,10),rotated:Object(d.b)(i.rotated,!1),productType:"ObliqueImage",recordedAt:new Date(Object(p.parseZone)(i.recordedAt).year(),Object(p.parseZone)(i.recordedAt).month(),Object(p.parseZone)(i.recordedAt).date(),Object(p.parseZone)(i.recordedAt).hours(),Object(p.parseZone)(i.recordedAt).minutes(),Object(p.parseZone)(i.recordedAt).seconds(),Object(p.parseZone)(i.recordedAt).milliseconds())||-1,latitudePrecision:parseFloat(i.latitudePrecision),longitudePrecision:parseFloat(i.longitudePrecision),heightPrecision:parseFloat(i.heightPrecision),groundPrecisionX:parseFloat(i.groundPrecisionX),groundPrecisionY:parseFloat(i.groundPrecisionY),groundPrecisionZ:parseFloat(i.groundPrecisionZ),headingPrecision:parseFloat(i.headingPrecision),pitchPrecision:parseFloat(i.pitchPrecision),rollPrecision:parseFloat(i.rollPrecision),isAuthorized:Object(d.b)(i.isAuthorized,!1),published:Object(d.b)(i.published,!1)},n));var a=this.heading,l=this.pitch,u=this.roll,c=this.rotated,f=this.isOblique=Math.abs(l)>y,g=Math.sin(l)*u,v=(l<0)*Math.PI,b=c*Math.PI,_=a+b,w=g+v+b;this.unrotatedHeading=Object(h.f)(_,0,h.b),this.uprightImageRotation=Object(h.f)(w,0,h.b),this.uprightHeading=this.imageRotationToHeading(w),this.preferredHeading=f?this.uprightHeading:0,this.preferredImageRotation=this.headingToImageRotation(this.preferredHeading);var x=i.footprint;if(c){var E=x.getCoordinates()[0];x.setCoordinates([[E[2],E[3],E[0],E[1],E[2]]])}this.avgFootprintHeight=.25*x.getCoordinates()[0].slice(0,4).reduce(function(t,e){return t+e[2]},0),this.constructRotationMatrix()}return g(t,[{key:"constructRotationMatrix",value:function(){var t=Math.cos(this.heading),e=Math.sin(this.heading),n=Math.cos(this.pitch),r=Math.sin(this.pitch),i=Math.cos(this.roll),o=Math.sin(this.roll);this.rotationMatrix=u.a.fromValues(t*i+e*r*o,e*n,t*o-e*r*i,-e*i+t*r*o,t*n,-e*o-t*r*i,-n*o,r,n*i)}},{key:"headingToImageRotation",value:function(t){return Object(h.f)(this.unrotatedHeading-t,0,h.b)}},{key:"imageRotationToHeading",value:function(t){return Object(h.f)(this.unrotatedHeading-t,0,h.b)}},{key:"worldVectorToPixel",value:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=this.camX,o=this.camY,a=this.camZ,s=this.focalLength,l=this.ppX,u=this.ppY,c=this.imageWidth,f=this.imageHeight,h=this.k1,d=this.k2,p=this.p1,m=this.p2,g=this.rotated,v=this.rotationMatrix,y=t-i,_=e-o,w=n-a,x=v[0]*y+v[3]*_+v[6]*w,E=v[1]*y+v[4]*_+v[7]*w,M=v[2]*y+v[5]*_+v[8]*w,S=x/M,T=E/M;if(r){var C=S*T,O=S*S,A=T*T,I=O+A,R=1+(h+d*I)*I;S=S*R+2*p*C+m*(I+2*O),T=T*R+2*m*C+p*(I+2*A)}var P=[-s*S+l+.5*(c-1),-s*T+u+.5*(f-1)];return g?b(P[0],P[1],c,f):P}},{key:"pixelToWorldVector",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.avgFootprintHeight,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this.camX,a=this.camY,s=this.camZ,l=this.focalLength,u=this.ppX,c=this.ppY,h=this.imageWidth,d=this.imageHeight,p=this.k1,m=this.k2,g=this.p1,v=this.p2,y=this.rotated,_=t,w=e;if(y){var x=b(t,e,h,d);_=x[0],w=x[1]}var E=this.rotationMatrix,M=_-u-.5*(h-1),S=w-c-.5*(d-1);M/=-l,S/=-l;if(r){var T=M*S,C=M*M,O=S*S,A=C+O,I=1-(p+m*A)*A;M=M*I-2*g*T-v*(A+2*C),S=S*I-2*v*T-g*(A+2*O)}var R=[-(E[0]*M+E[1]*S+1*E[2]),-(E[3]*M+E[4]*S+1*E[5]),-(E[6]*M+E[7]*S+1*E[8])];i&&f.a.normalize(R,R);var P=(n-s)/R[2];return[o+P*R[0],a+P*R[1],n]}}]),t}();e.b=_},function(t,e,n){"use strict";var r=n(125),i=(n.n(r),n(1347));e.a=function(t,e,n,o,a){var s=e.length,l=new Float64Array(a);t(e,l);var u=void 0;if(n instanceof r.Matrix)u=n;else{u=new r.Matrix(s,s);for(var c=0;c<s;++c){var f=Math.max(n[c],i.a);u.set(c,c,Math.pow(f,2))}}for(var h=new r.Matrix(s,a),d=new Float64Array(s),p=0;p<s;++p)d[p]=e[p];for(var m=new Float64Array(a),g=0;g<s;++g){var v=o[g];d[g]+=v,t(d,m);for(var y=0;y<a;++y)h.set(g,y,(m[y]-l[y])/v);d[g]=e[g]}for(var b=h.transpose().multiply(u),_=b.multiply(h),w=new Float64Array(a),x=0;x<a;++x)w[x]=Math.sqrt(_.get(x,x));return{value:l,stdev:w,Q:_}}},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(17),l=n.n(s),u=n(6),c=n.n(u),f=n(5),h=n.n(f),d=n(7),p=n.n(d),m=n(51),g=n.n(m),v=n(1),y=n.n(v),b=n(4),_=n.n(b),w=n(20),x=n.n(w),E=n(18),M=n.n(E),S=n(15),T=(n.n(S),n(34)),C=n.n(T),O=n(216),A=n(584),I=n(345),R=n(63),P=_.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),y()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),N=function t(e,n,r){null===e&&(e=Function.prototype);var i=g()(e,n);if(void 0===i){var o=p()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},k=(Object(S.defineMessages)({layerName:{id:"layer.RecordingLayer.name",description:"Default recording layer name",defaultMessage:"Cyclorama recording layer"},surfaceCursor:{id:"layer.SurfaceCursor.name",description:"Toggle surface cursor",defaultMessage:"3D cursor"}}),-1),D=function(){return++k},F=function(t){function e(t){var n=t.visible,a=void 0===n||n,s=r(t,["visible"]);i(this,e);var l=o(this,(e.__proto__||p()(e)).call(this,P({},e.defaults,{visible:a},s)));return l._lastResponseId=-1,l}return a(e,t),L(e,[{key:"initRecordingClient",value:function(){this.onRecordingLoadSuccess=this.onRecordingLoadSuccess.bind(this),this.recordingClient=new CM.aperture.WfsRecordingClient({uriManager:new CM.aperture.WfsRecordingUriManager({apiKey:this.apiKey,dataUri:this.url,withCredentials:!0}),authHeaders:Object(R.b)()})}},{key:"getFeatureStyle",value:function(){var t=new I.b,e={};return function(n,r){return n.get("hasDepthMap")?("hasDepthMap"in e||(e.hasDepthMap=new I.b(I.a.depth)),[e.hasDepthMap]):[t]}}},{key:"toMapLayer",value:function(){return this.initRecordingClient(),N(e.prototype.__proto__||p()(e.prototype),"toMapLayer",this).call(this)}},{key:"buildCustomLoader",value:function(){var t=this.recordingClient,e=this.startLoading,n=this.finishLoading,r=this.onRecordingLoadSuccess,i=this.projection,o=void 0,a=function e(o,a,s){var l=D(),u={};if(s){u={dateRange:{to:s,from:s.substring(0,4)-1+"-01-01",onlyExpired:!0}}}t.requestWithinBBOX(o[0],o[1],o[2],o[3],i,u).then(function(t){"string"!=typeof t?(r(t,l),n()):a<2?e(o,a+1,t):n()}).catch(function(t){C.a.warn("RecordingLayer.recordingClient. Error: ",t)})};return function(t,n,r){var s=M.a.proj.transformExtent(t,r,i);x.a.isEqual(s,o)||(e(),a(s,0),o=s)}}},{key:"onRecordingLoadSuccess",value:function(t,e){if(!(e<=this._lastResponseId)){var n=this.mapLayer.getSource();n.clear();var r=this.mapProjection,i=!0,o=!1,a=void 0;try{for(var s,u=l()(t);!(i=(s=u.next()).done);i=!0){var c=s.value,f=c.xyz,h=c.srs;h!==r&&(f=M.a.proj.transform(f,h,r)),n.addFeature(new A.a(P({coordinate:f},c)))}}catch(t){o=!0,a=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}this._lastResponseId=e}}},{key:"startLoading",value:function(){dispatchEvent(new CustomEvent("RecordingsStartLoading",{detail:{}}))}},{key:"finishLoading",value:function(){dispatchEvent(new CustomEvent("RecordingFinishedLoading",{detail:{}}))}}]),e}(O.a);F.defaults={id:"cyclorama-recordings",type:"RecordingLayer",nameIntl:"layer.RecordingLayer.name",visible:!0},e.a=F},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=c()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var s=n(6),l=n.n(s),u=n(5),c=n.n(u),f=n(7),h=n.n(f),d=n(51),p=n.n(d),m=n(1),g=n.n(m),v=n(20),y=n.n(v),b=n(15),_=(n.n(b),n(151)),w=n(1360),x=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),g()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=function t(e,n,r){null===e&&(e=Function.prototype);var i=p()(e,n);if(void 0===i){var o=h()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)};Object(b.defineMessages)({layerName:{id:"layer.MeasurementLayer.name",description:"Default Measurement layers name",defaultMessage:"Measurement layer"}});var M=function(t){function e(t){var n=r(t,[]);return i(this,e),o(this,(e.__proto__||h()(e)).call(this,y.a.defaults({},n,e.defaults)))}return a(e,t),x(e,[{key:"toMapLayer",value:function(){var t=E(e.prototype.__proto__||h()(e.prototype),"toMapLayer",this).call(this);return t.getSource().on("addfeature",function(t){w.a.getFeatureStyle(t.feature)}),t}}]),e}(_.a);M.defaults={id:"measurementLayer",type:"MeasurementLayer",nameIntl:"layer.MeasurementLayer.name",color:"#0000FF",visible:!0},e.a=M},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e,n){return e in t?h()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",function(){return T});var o,a,s=n(77),l=n.n(s),u=n(61),c=n.n(u),f=n(1),h=n.n(f),d=n(4),p=n.n(d),m=n(23),g=n.n(m),v=n(17),y=n.n(v),b=n(16),_=(n.n(b),n(123)),w=n(113),x=n(219),E=n(105),M=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=y()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(g()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),S=p.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T="EPSG:28992",C={recording:void 0,viewSize:[0,0],viewResolution:void 0,viewRotation:NaN,viewCenter:[0,0],viewHeading:0,navbarVisible:!0,navbarExpanded:!0,activePanel:w.a.NONE,ui:S({},Object(E.a)(c()(x.a.buttons),{enabled:!0}),(o={},i(o,x.a.NAVBAR,{visible:!0,expanded:!0}),i(o,x.a.TIME_TRAVEL,{visible:!0}),o))},O={byId:{}},A=Object(b.handleActions)((a={},i(a,_.ActionTypes.ADD_OBLIQUE_VIEWER,function(t,e){return S({},C,e.payload.newEntry)}),i(a,_.ActionTypes.UPDATE_OBLIQUE_VIEWER,function(t,e){var n=e.payload.newState,r=S({},t,n),i=r.recording;return l()(r.viewRotation)||(r.viewRotation=i.preferredImageRotation),r.viewHeading=i.imageRotationToHeading(r.viewRotation),r}),i(a,_.ActionTypes.UPDATE_OBLIQUE_RECORDING,function(t,e){var n=e.payload,r=n.recording,i=n.options,o=S({},t,i,{recording:r});if(!i||!i.viewCenter){var a=M(t.viewCenter,2),s=a[0],l=a[1],u=t.recording,c=u.pixelToWorldVector(s,l,u.avgFootprintHeight),f=M(c,2),h=f[0],d=f[1];o.viewCenter=r.worldVectorToPixel(h,d,r.avgFootprintHeight)}return o}),i(a,_.ActionTypes.UPDATE_OBLIQUE_ORIENTATION,function(t,e){return S({},t,{orientation:e.payload})}),i(a,_.ActionTypes.TOGGLE_UI_STATE,E.c),i(a,_.ActionTypes.SET_ACTIVE_PANEL,function(t,e){return S({},t,{activePanel:e.payload.panel})}),a),O);e.b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments[1];switch(e.type){case _.ActionTypes.REMOVE_OBLIQUE_VIEWER:var n=t.byId,o=(n[e.payload.id],r(n,[e.payload.id]));return S({},t,{byId:o});case _.ActionTypes.UPDATE_OBLIQUE_VIEWER_PARAMS:var a=e.payload,s=a.wid,l=a.options,u=S({},t.byId),c=S({},u[s]),f=S({},c,l);return S({},t,{byId:S({},t.byId,i({},s,S({},f)))});case _.ActionTypes.CLONE_OBLIQUE_VIEWER:var h=e.payload,d=h.toId,p=h.fromId,m=t.byId;return S({},t,{byId:S({},m,i({},d,S({},m[p])))});case _.ActionTypes.ADD_OBLIQUE_VIEWER:case _.ActionTypes.UPDATE_OBLIQUE_VIEWER:case _.ActionTypes.UPDATE_OBLIQUE_RECORDING:case _.ActionTypes.UPDATE_OBLIQUE_ORIENTATION:case _.ActionTypes.TOGGLE_UI_STATE:case _.ActionTypes.SET_ACTIVE_PANEL:var g=e.payload.id;return S({},t,{byId:S({},t.byId,i({},g,A(t.byId[g],e)))});default:return t}}},function(t,e,n){"use strict";var r=n(15);n.n(r);e.a=Object(r.defineMessages)({navbarTitle:{id:"measurement.navbarTitle",defaultMessage:"Measure mode"},startMeasurement:{id:"measurement.startMeasurement",defaultMessage:"Start measuring"},stopMeasurement:{id:"measurement.stopMeasurement",defaultMessage:"Stop measuring"},showMeasurementList:{id:"measurement.showMeasurementList",defaultMessage:"Show measurement list"},measurementList:{id:"measurement.measurementList",defaultMessage:"Measurement list"},notPossibleCurrentSrs:{id:"measurement.notPossibleCurrentSrs",defaultMessage:"Measurements not possible with current selected SRS"},point:{id:"measurement.point",defaultMessage:"Location"},line:{id:"measurement.line",defaultMessage:"Distance"},polygon:{id:"measurement.polygon",defaultMessage:"Surface"},volume:{id:"measurement.volume",defaultMessage:"Volume"},circle:{id:"measurement.circle",defaultMessage:"Circular Surface"},orthogonal:{id:"measurement.orthogonal",defaultMessage:"Orthogonal"},height:{id:"measurement.height",defaultMessage:"Height"}})},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new u.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return u.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"SET_LOCALE",function(){return v}),n.d(e,"setLocale",function(){return _}),n.d(e,"setInitialMessages",function(){return w}),n.d(e,"ActionTypes",function(){return x});var i=n(40),o=n.n(i),a=n(21),s=n.n(a),l=n(19),u=n.n(l),c=n(4),f=n.n(c),h=n(16),d=(n.n(h),n(89)),p=n(27),m=f.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g=this,v="@@intl/SET_LOCALE",y=Object(h.createAction)(v,function(){var t=r(s.a.mark(function t(e){var n,r,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Request(Object(d.a)("//streetsmart.cyclomedia.com/api/v18.4/assets/i18n/"+e+".json"),{method:"GET",mode:"cors"}),t.next=3,fetch(n);case 3:if(r=t.sent,r.ok){t.next=6;break}throw new Error("SET_LOCALE_FETCH_RESPONSE_ERROR");case 6:return i=void 0,t.prev=7,t.next=10,r.json();case 10:i=t.sent,t.next=16;break;case 13:throw t.prev=13,t.t0=t.catch(7),new Error("SET_LOCALE_PARSE_JSON_ERROR");case 16:return t.abrupt("return",{locale:e,messages:i});case 17:case"end":return t.stop()}},t,g,[[7,13]])}));return function(e){return t.apply(this,arguments)}}()),b=Object(h.createAction)(v,function(t){var e={};return o()(t.messages).forEach(function(t){e[t]=t}),m({},t,{messages:e})}),_=function(t){return function(e,n){return e(p.default.setProfileGlobal(p.UserProfileGlobalKeys.LOCALE,t)),e("dev"===t?b(n().intl):y(t))}},w=function(){return function(t,e){var n=e().intl.locale;if(n)return t("dev"===n?b(e().intl):y(n))}},x={SET_LOCALE:v};e.default={setLocale:_,setInitialMessages:w}},function(t,e,n){"use strict";n.d(e,"a",function(){return p}),n.d(e,"b",function(){return m});var r=n(76),i=n.n(r),o=n(16),a=(n.n(o),n(15)),s=(n.n(a),n(0)),l=n.n(s),u=n(1411),c=n(1419),f=n(110),h=n(147),d=n(27),p={ADD_TOUR_STEP:"@@tour/ADD_TOUR_STEP",RUN_TOUR:"@@tour/RUN_TOUR",STOP_TOUR:"@@tour/STOP_TOUR",DISMISS_TOUR:"@@tour/DISMISS_TOUR"},m="tour_status",g=Object(o.createAction)("@@tour/ADD_TOUR_STEP"),v=Object(o.createAction)("@@tour/RUN_TOUR"),y=Object(o.createAction)("@@tour/STOP_TOUR"),b=function(){return function(t){t(d.default.setProfileConfig(m,i()({lastDismissedTour:h.a.version}),"tour")),t(Object(o.createAction)("@@tour/DISMISS_TOUR")())}},_=function(){return function(t){t(Object(o.createAction)("@@tour/ADD_TOUR_STEP")({title:l.a.createElement(a.FormattedMessage,c.a.title),text:l.a.createElement(u.a,{url:c.a.url},c.a.text),selector:"._tour-step-0",position:"bottom",style:{beacon:{inner:f.b.orange,outer:f.b.orange},mainColor:"#98c23c",footer:{color:"#fff"}}}))}},w=function(t){return function(e){e(d.default.loadUserProfile(t,"tour",m)),e(_())}};e.c={readTourStatusUserProfile:w,addTourStep:g,runTour:v,stopTour:y,dismiss:b}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return c()(t)}function i(t){return function(){var e=t.apply(this,arguments);return new l.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return l.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}n.d(e,"c",function(){return x}),n.d(e,"d",function(){return E}),n.d(e,"a",function(){return S});var o=n(21),a=n.n(o),s=n(19),l=n.n(s),u=n(30),c=n.n(u),f=n(16),h=(n.n(f),n(34)),d=n.n(h),p=n(126),m=n(378),g=(n(63),n(616)),v=n(218),y=this,b=Object(f.createAction)("@@TimeTravel/PANORAMA/SET_YAW_OFFSET",function(t,e){return{id:t,yawOffset:e}}),_=function(t,e){return function(){var n=i(a.a.mark(function n(r,i){var o,s,l,u,c,f,h,m,v,_;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=i(),s=o.timetravel.serviceUrls.panoramaTilesUrls,l=o.config.apiKey,u=p.default.setThumbnail,r(u(t,null)),e){n.next=5;break}return n.abrupt("return");case 5:for(c=e.id,f=0,h=c.length;h>0;)f+=c.charCodeAt(--h);return m=f%s.length,v=s[m]+"/Tile/"+c+"/0/A/0/0?apiKey="+l,n.prev=10,n.next=13,Object(g.a)(v);case 13:_=n.sent,r(u(t,_)),r(b(t,-e.orientation)),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(10),d.a.warn("Panorama TimeTravel thumbnail failed to load");case 21:case"end":return n.stop()}},n,y,[[10,18]])}));return function(t,e){return n.apply(this,arguments)}}()},w=function(t,e){return function(n,r){var i=r(),o=i.timetravel.byId[t].timesValues;n(p.default.setTime(t,e)),n(_(t,o[e]))}},x=function(t){var e=t.length,n=[];if(e>0)for(var i=[].concat(r(t)).sort(m.a),o=void 0,a=0,s=0;s<e;++s){var l=i[s],u=Object(m.d)(l),c=u-a;(c>24192e5||!o)&&(a=u,o=[],n.push(o)),o.push(l)}return n},E=function(t,e){var n=[],r={};return e.forEach(function(e){if(e&&0!==e.length){var i=Object(m.c)(t,e),o=Object(m.d)(i);n.push(o),r[o]=i}}),{times:n,timesValues:r}},M=function(t,e){return function(n,r){var i=p.default.setTimesValues;if(n(i(t,[],{})),e){var o=e.xyz,a=e.srs;v.a.getRecordingsByRadius(o,a,5,{dateRange:{dateFrom:"1995-01-01",dateTo:"2100-01-01"}}).then(function(r){var o=x(r),a=E(e.xyz,o),s=a.times,l=a.timesValues;n(i(t,s,l)),n(w(t,Object(m.d)(e)))},function(){d.a.warn("TimeTravel recordings failed to load for panorama.")})}}};e.b={setYawOffset:b,loadThumbnail:_,updateTime:w,updateByRecording:M};var S={SET_YAW_OFFSET:"@@TimeTravel/PANORAMA/SET_YAW_OFFSET"}},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new u.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return u.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}n.d(e,"c",function(){return R}),n.d(e,"a",function(){return L});var i=n(21),o=n.n(i),a=n(70),s=n.n(a),l=n(19),u=n.n(l),c=n(18),f=n.n(c),h=n(16),d=(n.n(h),n(34)),p=n.n(d),m=n(126),g=n(377),v=n(617),y=n(280),b=n(278),_=n(378),w=n(33),x=n(616),E=(n(595),n(274)),M=this,S=Object(h.createAction)("@@ObliqueTimeTravel/SET_HISTORY_RECORDINGS",function(t,e){return{id:t,historyRecordings:e}}),T=Object(h.createAction)("@@ObliqueTimeTravel/SET_THUMBNAIL_STYLE",function(t,e){return{id:t,style:e}}),C=function(t){var e=s()(y.a,y.a),n=Math.asin(y.a/e),r=(t%(2*Math.PI)+4*Math.PI)%(2*Math.PI);r>Math.PI&&(r-=Math.PI),r>Math.PI/2&&r<=Math.PI&&(r=Math.PI/2-(r-Math.PI/2));var i=Math.PI/2-n-Math.abs(r),o=Math.abs(n-Math.abs(r)),a=Math.cos(i)*e/y.a,l=Math.cos(o)*e/y.a;return Math.max(a,l)},O=function(t,e,n){return function(r,i){r((0,m.default.setThumbnail)(t,n));var o=e.zoomlevels,a=e.imageWidth,s=e.imageHeight,l=s>a,u=void 0,c=void 0;l?(u=s,c=a):(u=a,c=s);var f=v.a*Math.pow(2,o-1),h=Math.round(f/c*y.a),d=h/(f/u),p=Math.round(-(d-y.a)/2),g=void 0;g=l?{width:h,top:p}:{height:h,left:p};var b=C(e.uprightImageRotation),_={transform:"rotate("+e.uprightImageRotation+"rad) scale("+b+")"};r(T(t,{imageStyle:g,rotateDivStyle:_}))}},A=function(t,e){return function(){var n=r(o.a.mark(function n(r,i){var a,s,l,u,c,f,h,d,g;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=i(),s=a.timetravel,l=s.byId[t].thumbnailUrl,u=s.serviceUrls.obliqueTileUrl,c=a.config.apiKey,f=m.default.setThumbnail,r(f(t,null)),l&&URL.revokeObjectURL(l),!e){n.next=19;break}return h=e.imageId,d=u+"/Tiles/"+h+"/1/0/0?apiKey="+c,n.prev=7,n.next=10,Object(x.a)(d);case 10:if(g=n.sent,i().timetravel.byId[t].time!==Object(_.d)(e)){n.next=14;break}return r(O(t,e,g)),n.abrupt("return",g);case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(7),p.a.warn("Oblique TimeTravel thumbnail failed to load");case 19:return n.abrupt("return",void 0);case 20:case"end":return n.stop()}},n,M,[[7,16]])}));return function(t,e){return n.apply(this,arguments)}}()},I=function(t,e){return function(n,r){var i=r(),o=i.timetravel.byId[t],a=o.time,s=o.timesValues;a!==e&&(n(m.default.setTime(t,e)),n(A(t,s[e])))}},R=function(t){return function(e,n){var r=m.default.setTimesValues,i=n(),o=i.obliqueviewer.byId[t],a=o.recording,s=o.viewCenter,l=i.timetravel.byId[t],u=l.historyRecordings,c=l.time;if(0!==u.length){var h=a.pixelToWorldVector(s[0],s[1],0),d=[];u.forEach(function(t){var e=t.filter(function(t){var e=t.worldVectorToPixel(h[0],h[1],0);return f.a.extent.containsCoordinate([0,0,t.imageWidth,t.imageHeight],e)});e.length>0&&d.push(e)});var p=Object(b.d)(h,d),g=p.times,v=p.timesValues;if(e(r(t,g,v)),!g.includes(c)){var y=void 0,_=1/0;g.forEach(function(t){var e=Math.abs(t-c);e<_&&(_=e,y=t)}),e(I(t,y))}}}},P=function(t,e){return function(n,r){var i=m.default.setTimesValues;if(n(i(t,[],{})),n(S(t,[])),e){var o=e.footprint.getExtent();g.a.instance.requestWithBBOX(o,E.a,{direction:Object(w.d)(e.uprightHeading),isOblique:e.isOblique}).then(function(r){for(var i=Object(b.c)(r),o=function(t){return t.imageId===e.imageId},a=0;a<i.length;a++)-1!==i[a].findIndex(o)&&(i[a]=[e]);n(S(t,i)),n(R(t))},function(){p.a.warn("TimeTravel recordings failed to load for oblique.")})}}};e.b={updateTime:I,updateByRecording:P,updateObliqueTimes:R};var L={SET_HISTORY_RECORDINGS:"@@ObliqueTimeTravel/SET_HISTORY_RECORDINGS",SET_THUMBNAIL_STYLE:"@@ObliqueTimeTravel/SET_THUMBNAIL_STYLE"}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}n.d(e,"a",function(){return A}),n.d(e,"d",function(){return R}),n.d(e,"c",function(){return P});var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(4),m=n.n(p),g=n(3),v=n.n(g),y=n(0),b=n.n(y),_=n(15),w=(n.n(_),n(24)),x=(n.n(w),n(36)),E=(n.n(x),n(31)),M=n(599),S=n(80),T=n(126),C=m.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),A=160,I=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var l=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return l.verifyTimeChange=l.verifyTimeChange.bind(l),l.onSelection=l.onSelection.bind(l),l}return o(e,t),O(e,[{key:"timeChange",value:function(){throw new Error("timeChange method needs to be implemented in derived class")}},{key:"verifyTimeChange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.props.time;0!==t&&t!==e&&this.timeChange(t)}},{key:"onSelection",value:function(){var t=this.props.actions,e=t.toggleTimeTravel,n=t.logClickControl;e(!1),n("time_travel_thumb")}},{key:"render",value:function(){return this.props.visible&&this._renderSlider()||null}},{key:"renderImage",value:function(){return b.a.createElement("img",{alt:"",src:this.props.thumbnailUrl,className:"default-thumbnail"})}},{key:"_renderSlider",value:function(){var t=this.props,e=t.times,n=t.time,r=e[0],i=e[e.length-1],o=i-r,a=n;0!==a&&void 0!==a||(a=i);var s=o?(a-r)/o:1,l=o?e.map(function(t){return 100*(t-r)/o}):[0],u={top:59-69*s+"px"};return b.a.createElement("div",{className:"timetravel"},b.a.createElement(M.a,{min:r,max:i,reversed:0!==o,step:1,value:a,tooltip:"hide",orientation:"vertical",ticks:e,ticks_positions:l,ticks_snap_bounds:1/0,onSlideStop:this.verifyTimeChange}),b.a.createElement(w.Popover,{arrowOffsetTop:152-142*s+"px",id:"0",placement:"right",style:u,onClick:this.onSelection},this.renderImage(),b.a.createElement("div",{className:"travelDate"},b.a.createElement(_.FormattedDate,{value:a||null}))))}}]),e}(E.a);I.propTypes={id:v.a.string,yaw:v.a.number,onChange:v.a.func},e.b=I;var R=function(t,e){var n=t.timetravel.byId;return C({},n[e.id])},P=function(t,e){var n=S.default.logClickControl,r=T.default.setTime,i=T.default.toggleTimeTravel,o=function(t){return t.bind(null,e.id)};return{actions:Object(x.bindActionCreators)({logClickControl:n,setTime:o(r),toggleTimeTravel:o(i)},t)}}},function(t,e,n){var r=n(32),i=n(25).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(25),i=n(94),o=n(130),a=n(401),s=n(43).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(221)("keys"),i=n(129);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(25).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(32),i=n(22),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(82)(Function.call,n(73).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e){t.exports="\t\n\v\f\r Â áš€á Žâ€€â€â€‚â€ƒâ€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€\u2028\u2029\ufeff"},function(t,e,n){var r=n(32),i=n(286).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){"use strict";var r=n(97),i=n(96);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var r=n(97),i=n(96);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),l=r(n),u=s.length;return l<0||l>=u?t?"":void 0:(o=s.charCodeAt(l),o<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536)}}},function(t,e,n){"use strict";var r=n(130),i=n(2),o=n(67),a=n(66),s=n(65),l=n(156),u=n(294),c=n(154),f=n(74),h=n(38)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,m,g,v,y){u(n,e,m);var b,_,w,x=function(t){if(!d&&t in T)return T[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",M="values"==g,S=!1,T=t.prototype,C=T[h]||T["@@iterator"]||g&&T[g],O=C||x(g),A=g?M?x("entries"):O:void 0,I="Array"==e?T.entries||C:C;if(I&&(w=f(I.call(new t)))!==Object.prototype&&w.next&&(c(w,E,!0),r||s(w,h)||a(w,h,p)),M&&C&&"values"!==C.name&&(S=!0,O=function(){return C.call(this)}),r&&!y||!d&&!S&&T[h]||a(T,h,O),l[e]=O,l[E]=p,g)if(b={values:M?O:x("values"),keys:v?O:x("keys"),entries:A},y)for(_ in b)_ in T||o(T,_,b[_]);else i(i.P+i.F*(d||S),e,b);return b}},function(t,e,n){"use strict";var r=n(133),i=n(128),o=n(154),a={};n(66)(a,n(38)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(225),i=n(96);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(38)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var r=n(156),i=n(38)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(43),i=n(128);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(184),i=n(38)("iterator"),o=n(156);t.exports=n(94).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(741);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){"use strict";var r=n(47),i=n(132),o=n(44);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,u=void 0===l?n:i(l,n);u>s;)e[s++]=t;return e}},function(t,e,n){"use strict";var r=n(115),i=n(417),o=n(156),a=n(72);t.exports=n(293)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r,i,o,a=n(82),s=n(407),l=n(285),u=n(281),c=n(25),f=c.process,h=c.setImmediate,d=c.clearImmediate,p=c.MessageChannel,m=c.Dispatch,g=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){y.call(t.data)};h&&d||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},r(g),g},d=function(t){delete v[t]},"process"==n(83)(f)?r=function(t){f.nextTick(a(y,t,1))}:m&&m.now?r=function(t){m.now(a(y,t,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",b,!1)):r="onreadystatechange"in u("script")?function(t){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:h,clear:d}},function(t,e,n){var r=n(25),i=n(303).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,l="process"==n(83)(a);t.exports=function(){var t,e,n,u=function(){var r,i;for(l&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(l)n=function(){a.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve();n=function(){c.then(u)}}else n=function(){i.call(r,u)};else{var f=!0,h=document.createTextNode("");new o(u).observe(h,{characterData:!0}),n=function(){h.data=f=!f}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){"use strict";function r(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=i(e),this.reject=i(n)}var i=n(57);t.exports.f=function(t){return new r(t)}},function(t,e,n){"use strict";function r(t,e,n){var r,i,o,a=new Array(n),s=8*n-e-1,l=(1<<s)-1,u=l>>1,c=23===e?j(2,-24)-j(2,-77):0,f=0,h=t<0||0===t&&1/t<0?1:0;for(t=F(t),t!=t||t===k?(i=t!=t?1:0,r=l):(r=U(z(t)/B),t*(o=j(2,-r))<1&&(r--,o*=2),t+=r+u>=1?c/o:c*j(2,1-u),t*o>=2&&(r++,o/=2),r+u>=l?(i=0,r=l):r+u>=1?(i=(t*o-1)*j(2,e),r+=u):(i=t*j(2,u-1)*j(2,e),r=0));e>=8;a[f++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*h,a}function i(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=i-7,l=n-1,u=t[l--],c=127&u;for(u>>=7;s>0;c=256*c+t[l],l--,s-=8);for(r=c&(1<<-s)-1,c>>=-s,s+=e;s>0;r=256*r+t[l],l--,s-=8);if(0===c)c=1-a;else{if(c===o)return r?NaN:u?-k:k;r+=j(2,e),c-=a}return(u?-1:1)*r*j(2,c-e)}function o(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function a(t){return[255&t]}function s(t){return[255&t,t>>8&255]}function l(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function u(t){return r(t,52,8)}function c(t){return r(t,23,4)}function f(t,e,n){T(t[A],e,{get:function(){return this[n]}})}function h(t,e,n,r){var i=+n,o=M(i);if(o+e>t[G])throw N(I);var a=t[V]._b,s=o+t[H],l=a.slice(s,s+e);return r?l:l.reverse()}function d(t,e,n,r,i,o){var a=+n,s=M(a);if(s+e>t[G])throw N(I);for(var l=t[V]._b,u=s+t[H],c=r(+i),f=0;f<e;f++)l[u+f]=c[o?f:e-f-1]}var p=n(25),m=n(42),g=n(130),v=n(231),y=n(66),b=n(138),_=n(29),w=n(136),x=n(97),E=n(44),M=n(426),S=n(134).f,T=n(43).f,C=n(301),O=n(154),A="prototype",I="Wrong index!",R=p.ArrayBuffer,P=p.DataView,L=p.Math,N=p.RangeError,k=p.Infinity,D=R,F=L.abs,j=L.pow,U=L.floor,z=L.log,B=L.LN2,V=m?"_b":"buffer",G=m?"_l":"byteLength",H=m?"_o":"byteOffset";if(v.ABV){if(!_(function(){R(1)})||!_(function(){new R(-1)})||_(function(){return new R,new R(1.5),new R(NaN),"ArrayBuffer"!=R.name})){R=function(t){return w(this,R),new D(M(t))};for(var q,W=R[A]=D[A],Y=S(D),X=0;Y.length>X;)(q=Y[X++])in R||y(R,q,D[q]);g||(W.constructor=R)}var Z=new P(new R(2)),K=P[A].setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||b(P[A],{setInt8:function(t,e){K.call(this,t,e<<24>>24)},setUint8:function(t,e){K.call(this,t,e<<24>>24)}},!0)}else R=function(t){w(this,R,"ArrayBuffer");var e=M(t);this._b=C.call(new Array(e),0),this[G]=e},P=function(t,e,n){w(this,P,"DataView"),w(t,R,"DataView");var r=t[G],i=x(e);if(i<0||i>r)throw N("Wrong offset!");if(n=void 0===n?r-i:E(n),i+n>r)throw N("Wrong length!");this[V]=t,this[H]=i,this[G]=n},m&&(f(R,"byteLength","_l"),f(P,"buffer","_b"),f(P,"byteLength","_l"),f(P,"byteOffset","_o")),b(P[A],{getInt8:function(t){return h(this,1,t)[0]<<24>>24},getUint8:function(t){return h(this,1,t)[0]},getInt16:function(t){var e=h(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=h(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return o(h(this,4,t,arguments[1]))},getUint32:function(t){return o(h(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return i(h(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return i(h(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){d(this,1,t,a,e)},setUint8:function(t,e){d(this,1,t,a,e)},setInt16:function(t,e){d(this,2,t,s,e,arguments[2])},setUint16:function(t,e){d(this,2,t,s,e,arguments[2])},setInt32:function(t,e){d(this,4,t,l,e,arguments[2])},setUint32:function(t,e){d(this,4,t,l,e,arguments[2])},setFloat32:function(t,e){d(this,4,t,c,e,arguments[2])},setFloat64:function(t,e){d(this,8,t,u,e,arguments[2])}});O(R,"ArrayBuffer"),O(P,"DataView"),y(P[A],v.VIEW,!0),e.ArrayBuffer=R,e.DataView=P},function(t,e,n){var r=n(108),i={};i.create=function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},i.clone=function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.fromValues=function(t,e,n,i,o,a,s,l,u){var c=new r.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=i,c[4]=o,c[5]=a,c[6]=s,c[7]=l,c[8]=u,c},i.set=function(t,e,n,r,i,o,a,s,l,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},i.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=c*a-s*u,h=-c*o+s*l,d=u*o-a*l,p=n*f+r*h+i*d;return p?(p=1/p,t[0]=f*p,t[1]=(-c*r+i*u)*p,t[2]=(s*r-i*a)*p,t[3]=h*p,t[4]=(c*n-i*l)*p,t[5]=(-s*n+i*o)*p,t[6]=d*p,t[7]=(-u*n+r*l)*p,t[8]=(a*n-r*o)*p,t):null},i.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return t[0]=a*c-s*u,t[1]=i*u-r*c,t[2]=r*s-i*a,t[3]=s*l-o*c,t[4]=n*c-i*l,t[5]=i*o-n*s,t[6]=o*u-a*l,t[7]=r*l-n*u,t[8]=n*a-r*o,t},i.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8];return e*(u*o-a*l)+n*(-u*i+a*s)+r*(l*i-o*s)},i.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],h=n[0],d=n[1],p=n[2],m=n[3],g=n[4],v=n[5],y=n[6],b=n[7],_=n[8];return t[0]=h*r+d*a+p*u,t[1]=h*i+d*s+p*c,t[2]=h*o+d*l+p*f,t[3]=m*r+g*a+v*u,t[4]=m*i+g*s+v*c,t[5]=m*o+g*l+v*f,t[6]=y*r+b*a+_*u,t[7]=y*i+b*s+_*c,t[8]=y*o+b*l+_*f,t},i.mul=i.multiply,i.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],h=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=h*r+d*a+u,t[7]=h*i+d*s+c,t[8]=h*o+d*l+f,t},i.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],h=Math.sin(n),d=Math.cos(n);return t[0]=d*r+h*a,t[1]=d*i+h*s,t[2]=d*o+h*l,t[3]=d*a-h*r,t[4]=d*s-h*i,t[5]=d*l-h*o,t[6]=u,t[7]=c,t[8]=f,t},i.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},i.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},i.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,l=i+i,u=n*a,c=r*a,f=r*s,h=i*a,d=i*s,p=i*l,m=o*a,g=o*s,v=o*l;return t[0]=1-f-p,t[3]=c-v,t[6]=h+g,t[1]=c+v,t[4]=1-u-p,t[7]=d-m,t[2]=h-g,t[5]=d+m,t[8]=1-u-f,t},i.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],d=e[11],p=e[12],m=e[13],g=e[14],v=e[15],y=n*s-r*a,b=n*l-i*a,_=n*u-o*a,w=r*l-i*s,x=r*u-o*s,E=i*u-o*l,M=c*m-f*p,S=c*g-h*p,T=c*v-d*p,C=f*g-h*m,O=f*v-d*m,A=h*v-d*g,I=y*A-b*O+_*C+w*T-x*S+E*M;return I?(I=1/I,t[0]=(s*A-l*O+u*C)*I,t[1]=(l*T-a*A-u*S)*I,t[2]=(a*O-s*T+u*M)*I,t[3]=(i*O-r*A-o*C)*I,t[4]=(n*A-i*T+o*S)*I,t[5]=(r*T-n*O-o*M)*I,t[6]=(m*E-g*x+v*w)*I,t[7]=(g*_-p*E-v*b)*I,t[8]=(p*x-m*_+v*y)*I,t):null},i.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t},i.sub=i.subtract,i.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},i.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],h=e[0],d=e[1],p=e[2],m=e[3],g=e[4],v=e[5],y=t[6],b=e[7],_=e[8];return Math.abs(n-h)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-d)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-p)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-m)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(s-g)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(l-v)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(u-y)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-b)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(f-_)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(_))},t.exports=i},function(t,e,n){function r(t,e){if(!(this instanceof r))return new r(t);e=e||function(t){if(t)throw t};var n=i(t);if("object"!=typeof n)return void e(t);var a=s(n),l=r.projections.get(a.projName);l?(o(this,a),o(this,l),this.init(),e(null,this)):e(t)}var i=n(862),o=n(309),a=n(866),s=n(869);r.projections=a,r.projections.start(),t.exports=r},function(t,e){t.exports=function(t,e){t=t||{};var n,r;if(!e)return t;for(r in e)void 0!==(n=e[r])&&(t[r]=n);return t}},function(t,e){t.exports=function(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)}},function(t,e){t.exports=function(t,e,n,r,i){var o,a;o=t/e;for(var s=0;s<15;s++)if(a=(t-(e*o-n*Math.sin(2*o)+r*Math.sin(4*o)-i*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*r*Math.cos(4*o)-6*i*Math.cos(6*o)),o+=a,Math.abs(a)<=1e-10)return o;return NaN}},function(t,e){t.exports=function(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";var r=n(238),i=n(39),o=n(445),a=n(116),s=n(140),l=n(161),u=n(907),c=n(195),f=n(449),h=n(59)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,m,g,v,y){u(n,e,m);var b,_,w,x=function(t){if(!d&&t in T)return T[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",M="values"==g,S=!1,T=t.prototype,C=T[h]||T["@@iterator"]||g&&T[g],O=C||x(g),A=g?M?x("entries"):O:void 0,I="Array"==e?T.entries||C:C;if(I&&(w=f(I.call(new t)))!==Object.prototype&&w.next&&(c(w,E,!0),r||s(w,h)||a(w,h,p)),M&&C&&"values"!==C.name&&(S=!0,O=function(){return C.call(this)}),r&&!y||!d&&!S&&T[h]||a(T,h,O),l[e]=O,l[E]=p,g)if(b={values:M?O:x("values"),keys:v?O:x("keys"),entries:A},y)for(_ in b)_ in T||o(T,_,b[_]);else i(i.P+i.F*(d||S),e,b);return b}},function(t,e,n){var r=n(75),i=n(58).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(75);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(194);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(320)("keys"),i=n(241);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(58),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){e.f=n(59)},function(t,e,n){"use strict";var r=n(58),i=n(140),o=n(86),a=n(39),s=n(445),l=n(242).KEY,u=n(139),c=n(320),f=n(195),h=n(241),d=n(59),p=n(322),m=n(324),g=n(913),v=n(451),y=n(101),b=n(75),_=n(117),w=n(317),x=n(193),E=n(239),M=n(914),S=n(326),T=n(85),C=n(162),O=S.f,A=T.f,I=M.f,R=r.Symbol,P=r.JSON,L=P&&P.stringify,N=d("_hidden"),k=d("toPrimitive"),D={}.propertyIsEnumerable,F=c("symbol-registry"),j=c("symbols"),U=c("op-symbols"),z=Object.prototype,B="function"==typeof R,V=r.QObject,G=!V||!V.prototype||!V.prototype.findChild,H=o&&u(function(){return 7!=E(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=O(z,e);r&&delete z[e],A(t,e,n),r&&t!==z&&A(z,e,r)}:A,q=function(t){var e=j[t]=E(R.prototype);return e._k=t,e},W=B&&"symbol"==typeof R.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof R},Y=function(t,e,n){return t===z&&Y(U,e,n),y(t),e=w(e,!0),y(n),i(j,e)?(n.enumerable?(i(t,N)&&t[N][e]&&(t[N][e]=!1),n=E(n,{enumerable:x(0,!1)})):(i(t,N)||A(t,N,x(1,{})),t[N][e]=!0),H(t,e,n)):A(t,e,n)},X=function(t,e){y(t);for(var n,r=g(e=_(e)),i=0,o=r.length;o>i;)Y(t,n=r[i++],e[n]);return t},Z=function(t,e){return void 0===e?E(t):X(E(t),e)},K=function(t){var e=D.call(this,t=w(t,!0));return!(this===z&&i(j,t)&&!i(U,t))&&(!(e||!i(this,t)||!i(j,t)||i(this,N)&&this[N][t])||e)},Q=function(t,e){if(t=_(t),e=w(e,!0),t!==z||!i(j,e)||i(U,e)){var n=O(t,e);return!n||!i(j,e)||i(t,N)&&t[N][e]||(n.enumerable=!0),n}},J=function(t){for(var e,n=I(_(t)),r=[],o=0;n.length>o;)i(j,e=n[o++])||e==N||e==l||r.push(e);return r},$=function(t){for(var e,n=t===z,r=I(n?U:_(t)),o=[],a=0;r.length>a;)!i(j,e=r[a++])||n&&!i(z,e)||o.push(j[e]);return o};B||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===z&&e.call(U,n),i(this,N)&&i(this[N],t)&&(this[N][t]=!1),H(this,t,x(1,n))};return o&&G&&H(z,t,{configurable:!0,set:e}),q(t)},s(R.prototype,"toString",function(){return this._k}),S.f=Q,T.f=Y,n(452).f=M.f=J,n(197).f=K,n(325).f=$,o&&!n(238)&&s(z,"propertyIsEnumerable",K,!0),p.f=function(t){return q(d(t))}),a(a.G+a.W+a.F*!B,{Symbol:R});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)d(tt[et++]);for(var nt=C(d.store),rt=0;nt.length>rt;)m(nt[rt++]);a(a.S+a.F*!B,"Symbol",{for:function(t){return i(F,t+="")?F[t]:F[t]=R(t)},keyFor:function(t){if(!W(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!B,"Object",{create:Z,defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:Q,getOwnPropertyNames:J,getOwnPropertySymbols:$}),P&&a(a.S+a.F*(!B||u(function(){var t=R();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!W(t))return v(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!W(e))return e}),r[1]=e,L.apply(P,r)}}),R.prototype[k]||n(116)(R.prototype,k,R.prototype.valueOf),f(R,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){var r=n(58),i=n(26),o=n(238),a=n(322),s=n(85).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(197),i=n(193),o=n(117),a=n(317),s=n(140),l=n(444),u=Object.getOwnPropertyDescriptor;e.f=n(86)?u:function(t,e){if(t=o(t),e=a(e,!0),l)try{return u(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e){},function(t,e,n){var r=n(116);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(245),i=n(59)("iterator"),o=n(161);t.exports=n(26).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return c});var i=n(1),o=n.n(i),a=n(141),s=n.n(a),l=(n(334),function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()),u=60,c="tileloaderror";CM.aperture.TILE_LOAD_ERROR=c;var f=function(){function t(e){var n=e.uriManager,i=e.authHeaders,o=e.maxConcurrent,a=void 0===o?u:o;r(this,t),this._concurrent=0,this._pending=[],this._loading={},this._withCredentials=!1,s()(this,CM.Events.prototype),this._maxConcurrent=a,this._authHeaders=i,this.setUriManager(n)}return l(t,[{key:"getUriManager",value:function(){return this._uriManager}},{key:"setUriManager",value:function(t){this._uriManager=t,this._withCredentials=t.withCredentials}},{key:"_processPending",value:function(){for(;this._pending.length&&this._concurrent<this._maxConcurrent;)this._loadNext()}},{key:"_loadNext",value:function(){var t=this;++this._concurrent;var e=this._pending.shift(),n=e.url=this._uriManager.getTileUri(e.id,e.face,e.zoom,e.column,e.row),r=e.mimeType;this._loading[n]=e;var i=new Image,o=new Headers(this._authHeaders||{}),a=CM.Req.responseTypes,s=a.blob;return CM.Req({method:"get",headers:o,url:n,responseType:s,withCredentials:this._withCredentials,onload:function(n){switch(i.onload=function(){t._onLoadComplete(e,i,!0)},s){case a.blob:i.src=URL.createObjectURL(n);break;case a.arraybuffer:for(var o=new Uint8Array(n.byteLength),l=0,u=n.length;l<u;l++)o[l]=n.charCodeAt(l);var c=window.btoa(String.fromCharCode.apply(null,o));i.src="data:"+r+";base64,"+c}},onerror:function(n,r){t._onLoadComplete(e,i,!1),t.fireEvent(c,r)}}),i}},{key:"_onLoadComplete",value:function(t,e,n){--this._concurrent,delete this._loading[t.url],n&&(t.img=e),t.onLoadComplete&&t.onLoadComplete(t,n),this._processPending()}},{key:"getLoadCount",value:function(){return this._pending.length+this._concurrent}},{key:"getPendingCount",value:function(){return this._pending.length}},{key:"getPending",value:function(){return this._pending}},{key:"getActiveCount",value:function(){return this._concurrent}},{key:"clearPending",value:function(){this._pending.length=0}},{key:"add",value:function(t,e){t.onLoadComplete=e,this._pending.push(t),this._processPending()}}]),t}();e.b=f},function(t,e,n){var r=n(119),i=r.Symbol;t.exports=i},function(t,e){function n(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}var r=Object.prototype;t.exports=n},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function t(e,n,i,o,a){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"image/jpeg";r(this,t),this.id=e,this.face=n,this.zoom=i,this.column=o,this.row=a,this.mimeType=s,this.img=null};e.a=i},function(t,e,n){"use strict";function r(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=i(e),this.reject=i(n)}var i=n(192);t.exports.f=function(t){return new r(t)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"b",function(){return p});var i=n(55),o=n.n(i),a=n(23),s=n.n(a),l=n(17),u=n.n(l),c=n(49),f=(n.n(c),n(477)),h=(n.n(f),function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=u()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(s()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),d=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.groundLevelOffset=0,this.recorderDirection=0,this.orientation=0,this.recordedAt=null,this.expiredAt=null,this.isPreloaded=!1,this.thumbs=new Array(6),this.thumbsLoaded=0,this.relativeXyz=null,this.relativeYaw=null,this.relativeDistance=null,this.forwardTarget=!1,this.backwardTarget=!1;var n=!0,i=!1,a=void 0;try{for(var s,l=u()(t.requiredProps);!(n=(s=l.next()).done);n=!0){var d=s.value;if(!(d in e))throw new Error("Missing required property: "+d)}}catch(t){i=!0,a=t}finally{try{!n&&l.return&&l.return()}finally{if(i)throw a}}var p=!0,m=!1,g=void 0;try{for(var v,y=u()(o()(e));!(p=(v=y.next()).done);p=!0){var b=h(v.value,2),_=b[0],w=b[1];switch(_){case"xyz":w=c.vec3.clone(w);break;case"expiredAt":case"recordedAt":if(w&&!(w instanceof Date)){var x=Object(f.parseZone)(w);w=new Date(x.year(),x.month(),x.date(),x.hours(),x.minutes(),x.seconds(),x.milliseconds())}}this[_]=w}}catch(t){m=!0,g=t}finally{try{!p&&y.return&&y.return()}finally{if(m)throw g}}};d.requiredProps=["id","xyz","srs"],e.a=d;var p=function(t,e,n){var r=c.vec2.clone([e,n]),i=null,o=1e4,a=!0,s=!1,l=void 0;try{for(var f,h=u()(t);!(a=(f=h.next()).done);a=!0){var d=f.value,p=c.vec2.sqrDist(r,d.xyz);p<o&&(o=p,i=d)}}catch(t){s=!0,l=t}finally{try{!a&&h.return&&h.return()}finally{if(s)throw l}}return i}},function(t,e,n){"use strict";(function(t,r){function i(t){if(t){var e=t.length||t.byteLength,n=y.log2(e);x[n].push(t)}}function o(t){i(t.buffer)}function a(t){var t=y.nextPow2(t),e=y.log2(t),n=x[e];return n.length>0?n.pop():new ArrayBuffer(t)}function s(t){return new Uint8Array(a(t),0,t)}function l(t){return new Uint16Array(a(2*t),0,t)}function u(t){return new Uint32Array(a(4*t),0,t)}function c(t){return new Int8Array(a(t),0,t)}function f(t){return new Int16Array(a(2*t),0,t)}function h(t){return new Int32Array(a(4*t),0,t)}function d(t){return new Float32Array(a(4*t),0,t)}function p(t){return new Float64Array(a(8*t),0,t)}function m(t){return _?new Uint8ClampedArray(a(t),0,t):s(t)}function g(t){return new DataView(a(t),0,t)}function v(t){t=y.nextPow2(t);var e=y.log2(t),n=E[e];return n.length>0?n.pop():new r(t)}var y=n(248),b=n(1015);t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:b([32,0]),UINT16:b([32,0]),UINT32:b([32,0]),INT8:b([32,0]),INT16:b([32,0]),INT32:b([32,0]),FLOAT:b([32,0]),DOUBLE:b([32,0]),DATA:b([32,0]),UINT8C:b([32,0]),BUFFER:b([32,0])});var _="undefined"!=typeof Uint8ClampedArray,w=t.__TYPEDARRAY_POOL;w.UINT8C||(w.UINT8C=b([32,0])),w.BUFFER||(w.BUFFER=b([32,0]));var x=w.DATA,E=w.BUFFER;e.free=function(t){if(r.isBuffer(t))E[y.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,n=0|y.log2(e);x[n].push(t)}},e.freeUint8=e.freeUint16=e.freeUint32=e.freeInt8=e.freeInt16=e.freeInt32=e.freeFloat32=e.freeFloat=e.freeFloat64=e.freeDouble=e.freeUint8Clamped=e.freeDataView=o,e.freeArrayBuffer=i,e.freeBuffer=function(t){E[y.log2(t.length)].push(t)},e.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return a(t);switch(e){case"uint8":return s(t);case"uint16":return l(t);case"uint32":return u(t);case"int8":return c(t);case"int16":return f(t);case"int32":return h(t);case"float":case"float32":return d(t);case"double":case"float64":return p(t);case"uint8_clamped":return m(t);case"buffer":return v(t);case"data":case"dataview":return g(t);default:return null}return null},e.mallocArrayBuffer=a,e.mallocUint8=s,e.mallocUint16=l,e.mallocUint32=u,e.mallocInt8=c,e.mallocInt16=f,e.mallocInt32=h,e.mallocFloat32=e.mallocFloat=d,e.mallocFloat64=e.mallocDouble=p,e.mallocUint8Clamped=m,e.mallocDataView=g,e.mallocBuffer=v,e.clearCache=function(){for(var t=0;t<32;++t)w.UINT8[t].length=0,w.UINT16[t].length=0,w.UINT32[t].length=0,w.INT8[t].length=0,w.INT16[t].length=0,w.INT32[t].length=0,w.FLOAT[t].length=0,w.DOUBLE[t].length=0,w.UINT8C[t].length=0,x[t].length=0,E[t].length=0}}).call(e,n(37),n(144).Buffer)},function(t,e,n){"use strict";function r(t,e,n){var r=t*e,o=i*t,a=o-t,s=o-a,l=t-s,u=i*e,c=u-e,f=u-c,h=e-f,d=r-s*f,p=d-l*f,m=p-s*h,g=l*h-m;return n?(n[0]=g,n[1]=r,n):[g,r]}t.exports=r;var i=+(Math.pow(2,27)+1)},function(t,e,n){"use strict";function r(t,e){if(i(t))return e?u(t,r(e)):[t[0].clone(),t[1].clone()];var n,c,f=0;if(o(t))n=t.clone();else if("string"==typeof t)n=s(t);else{if(0===t)return[a(0),a(1)];if(t===Math.floor(t))n=a(t);else{for(;t!==Math.floor(t);)t*=Math.pow(2,256),f-=256;n=a(t)}}if(i(e))n.mul(e[1]),c=e[0].clone();else if(o(e))c=e.clone();else if("string"==typeof e)c=s(e);else if(e)if(e===Math.floor(e))c=a(e);else{for(;e!==Math.floor(e);)e*=Math.pow(2,256),f+=256;c=a(e)}else c=a(1);return f>0?n=n.ushln(f):f<0&&(c=c.ushln(-f)),l(n,c)}var i=n(1022),o=n(488),a=n(489),s=n(1024),l=n(202),u=n(490);t.exports=r},function(t,e,n){(function(e){function n(t,e){return d[0]=t,d[1]=e,h[0]}function r(t){return h[0]=t,d[0]}function i(t){return h[0]=t,d[1]}function o(t,e){return d[1]=t,d[0]=e,h[0]}function a(t){return h[0]=t,d[1]}function s(t){return h[0]=t,d[0]}function l(t,e){return p.writeUInt32LE(t,0,!0),p.writeUInt32LE(e,4,!0),p.readDoubleLE(0,!0)}function u(t){return p.writeDoubleLE(t,0,!0),p.readUInt32LE(0,!0)}function c(t){return p.writeDoubleLE(t,0,!0),p.readUInt32LE(4,!0)}var f=!1;if("undefined"!=typeof Float64Array){var h=new Float64Array(1),d=new Uint32Array(h.buffer);h[0]=1,f=!0,1072693248===d[1]?(t.exports=function(t){return h[0]=t,[d[0],d[1]]},t.exports.pack=n,t.exports.lo=r,t.exports.hi=i):1072693248===d[0]?(t.exports=function(t){return h[0]=t,[d[1],d[0]]},t.exports.pack=o,t.exports.lo=a,t.exports.hi=s):f=!1}if(!f){var p=new e(8);t.exports=function(t){return p.writeDoubleLE(t,0,!0),[p.readUInt32LE(0,!0),p.readUInt32LE(4,!0)]},t.exports.pack=l,t.exports.lo=u,t.exports.hi=c}t.exports.sign=function(e){return t.exports.hi(e)>>>31},t.exports.exponent=function(e){return(t.exports.hi(e)<<1>>>21)-1023},t.exports.fraction=function(e){var n=t.exports.lo(e),r=t.exports.hi(e),i=1048575&r;return 2146435072&r&&(i+=1<<20),[n,i]},t.exports.denormalized=function(e){return!(2146435072&t.exports.hi(e))}}).call(e,n(144).Buffer)},function(t,e,n){"use strict";function r(t){return t.cmp(new i(0))}var i=n(249);t.exports=r},function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return l}),n.d(e,"e",function(){return u}),n.d(e,"d",function(){return c}),n.d(e,"f",function(){return f});var r=n(145),i=function(t,e){return t===r.h.GOOD&&t!==e||t===r.h.OK&&e===r.h.BAD?e:t},o=function(t,e){switch(t){case r.b.POINT:return e?[e]:[];case r.b.LINESTRING:return e;case r.b.POLYGON:return e[0];default:return null}},a=function(){var t=arguments.length<=0?void 0:arguments[0];return"string"==typeof t?o.apply(void 0,arguments):o(t.type,t.coordinates)},s=function(t,e){var n=o(t,e);if(!n)return 0;var i=n.length;return i+(t===r.b.POLYGON&&i>0?-1:0)},l=function(){var t=arguments.length<=0?void 0:arguments[0];return"string"==typeof t?s.apply(void 0,arguments):s(t.type,t.coordinates)},u=function(t){return t&&t.type&&"FeatureCollection"===t.type&&t.features&&Array.isArray(t.features)},c=function(t){return t&&t.type&&"Feature"===t.type&&t.geometry&&t.geometry.type&&t.geometry.coordinates&&Array.isArray(t.geometry.coordinates)},f=function(t,e){return t===r.b.POINT&&1===e||t===r.b.LINESTRING&&e>=2||t===r.b.POLYGON&&e>=3}},function(t,e,n){"use strict";var r=n(40),i=n.n(r),o=n(17),a=n.n(o),s=n(50),l=n.n(s),u=n(54),c=n.n(u),f=n(60),h=(n.n(f),"function"==typeof c.a&&"symbol"==typeof l.a?function(t){return typeof t}:function(t){return t&&"function"==typeof c.a&&t.constructor===c.a&&t!==c.a.prototype?"symbol":typeof t}),d=function(t){t&&"object"===(void 0===t?"undefined":h(t))&&t.isTexture&&t.dispose()},p=function t(e){var n=e.materials,r=!0,o=!1,s=void 0;try{for(var l,u=a()(i()(e));!(r=(l=u.next()).done);r=!0){var c=l.value;if(/^\w+Map$/i.test(c)){var f=e[c];f&&"object"===(void 0===f?"undefined":h(f))&&f.isTexture&&(d(f),e[c]=void 0)}}}catch(t){o=!0,s=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw s}}if(n){var p=!0,m=!1,g=void 0;try{for(var v,y=a()(n);!(p=(v=y.next()).done);p=!0){t(v.value)}}catch(t){m=!0,g=t}finally{try{!p&&y.return&&y.return()}finally{if(m)throw g}}e.materials=void 0}e.dispose&&e.dispose()},m=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.material;return n&&(p(n),t.material=void 0),e&&t.parent&&t.parent.remove(t),t.dispose&&t.dispose(),t},g=function(t){var e=[];t.traverse(function(t){e.push(m(t))});var n=!0,r=!1,i=void 0;try{for(var o,s=a()(e);!(n=(o=s.next()).done);n=!0){var l=o.value;l.parent&&l.parent.remove(l)}}catch(t){r=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}e.length=0},v=function(t){if(t instanceof f.WebGLRenderer){var e=t.domElement,n=t.context,r=t.info.programs;if(n){var i=!0,o=!1,s=void 0;try{for(var l,u=a()(r);!(i=(l=u.next()).done);i=!0){var c=l.value;if(c instanceof WebGLProgram){var h=!0,d=!1,p=void 0;try{for(var m,g=a()(n.getAttachedShaders(c));!(h=(m=g.next()).done);h=!0){var v=m.value;n.deleteShader(v)}}catch(t){d=!0,p=t}finally{try{!h&&g.return&&g.return()}finally{if(d)throw p}}n.deleteProgram(c)}else c.destroy?c.destroy():console.warn("ThreeDestroyer.destroyRenderer: not a program:",c)}}catch(t){o=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw s}}}if(t.dispose(),n){var y=n.getSupportedExtensions();y.includes("WEBGL_lose_context")&&n.getExtension("WEBGL_lose_context").loseContext()}t.context=void 0,t.capabilities=void 0,t.extensions=void 0,t.properties=void 0,t.state=void 0,t.shadowMap=void 0,e.parentElement&&e.parentElement.removeChild(e),t.domElement=void 0}},y={destroyTexture:d,destroyMaterial:p,destroyObject:m,destroyScene:g,destroyRenderer:v};e.a=y},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=u()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(s.a?s()(t,e):t.__proto__=e)}n.d(e,"a",function(){return P});var a=n(6),s=n.n(a),l=n(5),u=n.n(l),c=n(7),f=n.n(c),h=n(51),d=n.n(h),p=n(1),m=n.n(p),g=n(1059),v=n(345),y=n(170),b=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),m()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_=function t(e,n,r){null===e&&(e=Function.prototype);var i=d()(e,n);if(void 0===i){var o=f()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},w=v.a.recent,x=w.fillColor,E=w.strokeColor,M=v.a.history,S=M.fillColor,T=M.strokeColor,C=v.a.depth,O=C.fillColor,A=C.strokeColor,I=function(t){return Array.isArray(t)?"rgba("+t.join(",")+")":t},R=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#fff";return{fill:I(t),stroke:I(e)}},P={recent:{normal:R(x,E),navigation:R(x,E),depth:R(O,A)},history:{normal:R(S,T),navigation:R(S,T),depth:R(O,A)}},L={normal:.8,hightlight:.4};CM.aperture.EVENT_RECORDING_CLICK="recordingclick",CM.aperture.EVENT_RECORDING_MOUSEDOWN="recordingmousedown";var N=function(t){function e(t){r(this,e);var n=t.viewer,o=t.recordingMarkerStyles,a=void 0===o?P:o,s=i(this,(e.__proto__||f()(e)).call(this,{viewer:n}));s._markerStyles=a,s._highlightedRecording=void 0,s._updateRecording=void 0,s._currentRecording=void 0,s._markers=[],s._onPointerDown=s._onPointerDown.bind(s),s._onPointerMove=s._onPointerMove.bind(s),s._onPointerOut=s._onPointerOut.bind(s),s._onPointerUp=s._onPointerUp.bind(s);var l=s._viewer._viewerWrapper;return CM.El.addEvent(l,"pointerdown",s._onPointerDown),CM.El.addEvent(l,"pointermove",s._onPointerMove),CM.El.addEvent(l,"pointerout",s._onPointerOut),CM.El.addEvent(l,"pointerup",s._onPointerUp),s._domElement=s._viewer.renderManager.domElement(),s._viewer.renderManager.addPass(s),s}return o(e,t),b(e,[{key:"destroy",value:function(){var t=this._viewer._viewerWrapper;t.removeEventListener("pointerdown",this._onPointerDown),t.removeEventListener("pointermove",this._onPointerMove),t.removeEventListener("pointerout",this._onPointerOut),t.removeEventListener("pointerup",this._onPointerUp),this.drawLayer.disposeGroup("recordings"),_(e.prototype.__proto__||f()(e.prototype),"destroy",this).call(this)}},{key:"_onPointerDown",value:function(t){var e=this.drawLayer,n=this._domElement,r=this._highlightedRecording;e&&n&&e.mouseManager.updateMouseDown(t,n),r&&this.fireEvent(CM.aperture.EVENT_RECORDING_MOUSEDOWN,r)}},{key:"_onPointerMove",value:function(t){var e=this.drawLayer,n=this._domElement;e&&n&&(this._updateRecording=this._highlightedRecording,this._highlightedRecording=void 0,e.mouseManager.updateMouseMove(t,n),!this._highlightedRecording&&this._updateRecording&&(this._doRenderLayer=!0,this._updateRecording=void 0))}},{key:"_onPointerOut",value:function(){this._highlightedRecording&&(this._highlightedRecording=void 0,this._doRenderLayer=!0,this.invalidateDisplay())}},{key:"_onPointerUp",value:function(t){this._layerUpKeys={altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey};var e=this.drawLayer,n=this._domElement;e&&n&&e.mouseManager.updateMouseUp(t,n)}},{key:"setRecordings",value:function(t,e){if(this._currentRecording!==e){this._currentRecording=e,this._highlightedRecording=void 0,this._updateRecording=void 0;var n=CM.Proj4.getProj4(),r=n.defs(e.srs);this._toMeter=r&&r.to_meter||1;var i=t.map(function(t){return{recording:t,dz:Math.abs(t.relativeXyz[2])}});i.sort(function(t,e){return e.dz-t.dz}),this._markers=i,this._doRenderLayer=!0,this.invalidateDisplay()}}},{key:"setMarkerStyles",value:function(t){this._markerStyles=t}},{key:"onMouseOver",value:function(t,e){if(this._highlightedRecording=e,this._updateRecording!==e){var n=this.drawLayer.getElementByName(e.id);if(this.drawLayer.dispose([n]),this._drawRecording(e),this._updateRecording){var r=this.drawLayer.getElementByName(this._updateRecording.id);this.drawLayer.dispose([r]),this._drawRecording(this._updateRecording)}}}},{key:"onMouseDown",value:function(t,e){this._highlightedRecording=e}},{key:"onMouseUp",value:function(t,e){this.fireEvent(CM.aperture.EVENT_RECORDING_CLICK,e,this._layerUpKeys)}},{key:"getHighLightedRecording",value:function(){return this._highlightedRecording}},{key:"animateFrame",value:function(){var t=this,e=this._markers,n=this._visible;this._doRenderLayer&&(this.drawLayer.disposeGroup("recordings"),n&&e.forEach(function(e){var n=e.recording;t._drawRecording(n)})),this.drawLayer.showGroup("recordings"),this._doRenderLayer=!1,this.sceneReady=!0}},{key:"_drawRecording",value:function(t){var e=this,n=this._markerStyles,r=this._currentRecording,i=this._toMeter,o=this._highlightedRecording;if(r){var a=t.relativeXyz,s=t===o,l=r.groundLevelOffset,u=void 0;u=t.forwardTarget?"navigation":t.hasDepthMap?"depth":"normal";var c=s?L.hightlight:L.normal,f=n[u],h={x:a[0],y:a[2]-i*l,z:-a[1],opacity:c,radius:.8,outlineRadius:.8+.05,type:y.a.DOT_2D,outlineColor:f.stroke,color:f.fill,group:"recordings",name:t.id,onMouseOver:function(n){return e.onMouseOver(n,t)},onMouseDown:function(n){return e.onMouseDown(n,t)},onMouseUp:function(n){return e.onMouseUp(n,t)}};this.drawLayer.create(h)}}}]),e}(g.a);e.b=N},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}n.d(e,"a",function(){return y});var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(4),d=n.n(h),p=n(346),m=n(110),g=d.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v={fillColor:[128,176,255,1],strokeColor:[255,255,255,1],strokeWidth:1,radius:7},y={recent:v,history:g({},v,{fillColor:[236,122,8,1]}),depth:g({},v,{fillColor:m.d.green})},b=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,e),i(this,(e.__proto__||s()(e)).call(this,g({},v,t)))}return o(e,t),e}(p.a);e.b=b},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(18),d=n.n(h),p={fillColor:[0,255,0,0],strokeColor:[0,255,0,1],strokeWidth:2,radius:0},m=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.fillColor,o=void 0===n?p.fillColor:n,a=t.strokeColor,l=void 0===a?p.strokeColor:a,u=t.strokeWidth,c=void 0===u?p.strokeWidth:u,f=t.radius,h=void 0===f?p.radius:f;r(this,e);var m=o&&(!Array.isArray(o)||o.length<4||o[3]>0)?new d.a.style.Fill({color:o}):void 0,g=c>0&&l&&(!Array.isArray(l)||l.length<4||l[3]>0)?new d.a.style.Stroke({color:l,width:c}):void 0,v=h>0?new d.a.style.Circle({radius:h,fill:m,stroke:g}):void 0;return i(this,(e.__proto__||s()(e)).call(this,{fill:m,stroke:g,image:v}))}return o(e,t),e}(d.a.style.Style);e.a=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(203);n.d(e,"ViewerType",function(){return r.c}),n.d(e,"Actions",function(){return r.a}),n.d(e,"getState",function(){return r.k}),n.d(e,"getApiReadyState",function(){return r.f}),n.d(e,"verifyApiInit",function(){return r.n}),n.d(e,"Api",function(){return r.b}),n.d(e,"init",function(){return r.l}),n.d(e,"viewerAdded",function(){return r.o}),n.d(e,"viewerRemoved",function(){return r.p}),n.d(e,"measurementChanged",function(){return r.m}),n.d(e,"getApplicationName",function(){return r.g}),n.d(e,"destroy",function(){return r.d}),n.d(e,"getApplicationVersion",function(){return r.h}),n.d(e,"getPermissions",function(){return r.j}),n.d(e,"getAddressSettings",function(){return r.e}),n.d(e,"getDebugLogs",function(){return r.i});var i=n(1470);n.d(e,"Events",function(){return i.a}),n.d(e,"PanoramaViewerUi",function(){return i.c}),n.d(e,"PanoramaViewer",function(){return i.b}),n.d(e,"openPanorama",function(){return i.f}),n.d(e,"addPanoramaViewer",function(){return i.d}),n.d(e,"destroyPanoramaViewer",function(){return i.e});var o=n(1472);n.d(e,"MeasurementGeometryType",function(){return o.a}),n.d(e,"startMeasurementMode",function(){return o.c}),n.d(e,"stopMeasurementMode",function(){return o.d}),n.d(e,"getActiveMeasurement",function(){return o.b});var a=n(630);n.d(e,"ObliqueViewerUi",function(){return a.a}),n.d(e,"open",function(){return a.c}),n.d(e,"getComponentRef",function(){return a.b}),n.d(e,"setComponentRef",function(){return a.d});var s=n(1473);n.d(e,"addOverlay",function(){return s.a}),n.d(e,"removeOverlay",function(){return s.b})},function(t,e,n){function r(t){return"symbol"==typeof t||o(t)&&i(t)==a}var i=n(142),o=n(167),a="[object Symbol]";t.exports=r},function(t,e,n){function r(t){return"string"==typeof t||!o(t)&&a(t)&&i(t)==s}var i=n(142),o=n(168),a=n(167),s="[object String]";t.exports=r},function(t,e,n){"use strict";function r(t){if("undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys)return Reflect.ownKeys(t);var e=Object.getOwnPropertyNames(t);return"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t))),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){"use strict";var r=n(15);n.n(r);e.a=Object(r.defineMessages)({error:{id:"error.error",defaultMessage:"Error"},notImplemented:{id:"error.notImplemented",defaultMessage:"Error: not implemented: '{method}'"},duplicateKey:{id:"error.duplicateKey",defaultMessage:"Error: duplicate key '{key}'"},unknownKey:{id:"error.unknownKey",defaultMessage:"Error: unknown key '{key}'"},invalidKey:{id:"error.invalidKey",defaultMessage:"Error: invalid key '{key}'"}})},function(t,e,n){"use strict";function r(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(t){}}e.__esModule=!0,e.default=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(50),o=r(i),a=n(54),s=r(a),l="function"==typeof s.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===l(o.default)?function(t){return void 0===t?"undefined":l(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":void 0===t?"undefined":l(t)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(8),o=r(i),a=n(9),s=r(a),l=n(10),u=r(l),c=n(3),f=r(c),h=n(0),d=r(h),p={label:f.default.string.isRequired,onClick:f.default.func},m={label:"Close"},g=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,t.apply(this,arguments))}return(0,u.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.label,n=t.onClick;return d.default.createElement("button",{type:"button",className:"close",onClick:n},d.default.createElement("span",{"aria-hidden":"true"},"Ã—"),d.default.createElement("span",{className:"sr-only"},e))},e}(d.default.Component);g.propTypes=p,g.defaultProps=m,e.default=g,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(255),w=r(_),x=n(206),E=r(x),M=n(14),S={vertical:b.default.bool,justified:b.default.bool,block:(0,w.default)(b.default.bool,function(t){var e=t.block,n=t.vertical;return e&&!n?new Error("`block` requires `vertical` to be set to have any effect"):null})},T={block:!1,justified:!1,vertical:!1},C=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t,e=this.props,n=e.block,r=e.justified,i=e.vertical,a=e.className,l=(0,s.default)(e,["block","justified","vertical","className"]),u=(0,M.splitBsProps)(l),c=u[0],f=u[1],h=(0,o.default)({},(0,M.getClassSet)(c),(t={},t[(0,M.prefix)(c)]=!i,t[(0,M.prefix)(c,"vertical")]=i,t[(0,M.prefix)(c,"justified")]=r,t[(0,M.prefix)(E.default.defaultProps,"block")]=n,t));return v.default.createElement("div",(0,o.default)({},f,{className:(0,m.default)(a,h)}))},e}(v.default.Component);C.propTypes=S,C.defaultProps=T,e.default=(0,M.bsClass)("btn-group",C),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(14),w={glyph:b.default.string.isRequired},x=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t,e=this.props,n=e.glyph,r=e.className,i=(0,s.default)(e,["glyph","className"]),a=(0,_.splitBsProps)(i),l=a[0],u=a[1],c=(0,o.default)({},(0,_.getClassSet)(l),(t={},t[(0,_.prefix)(l,n)]=!0,t));return v.default.createElement("span",(0,o.default)({},u,{className:(0,m.default)(r,c)}))},e}(v.default.Component);x.propTypes=w,e.default=(0,_.bsClass)("glyphicon",x),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){t.offsetHeight}function o(t,e){var n=e["offset"+(0,C.default)(t)],r=I[t];return n+parseInt((0,b.default)(e,r[0]),10)+parseInt((0,b.default)(e,r[1]),10)}e.__esModule=!0;var a=n(11),s=r(a),l=n(13),u=r(l),c=n(8),f=r(c),h=n(9),d=r(h),p=n(10),m=r(p),g=n(12),v=r(g),y=n(256),b=r(y),_=n(0),w=r(_),x=n(3),E=r(x),M=n(530),S=r(M),T=n(527),C=r(T),O=n(46),A=r(O),I={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]},R={in:E.default.bool,mountOnEnter:E.default.bool,unmountOnExit:E.default.bool,transitionAppear:E.default.bool,timeout:E.default.number,onEnter:E.default.func,onEntering:E.default.func,onEntered:E.default.func,onExit:E.default.func,onExiting:E.default.func,onExited:E.default.func,dimension:E.default.oneOfType([E.default.oneOf(["height","width"]),E.default.func]),getDimensionValue:E.default.func,role:E.default.string},P={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,transitionAppear:!1,dimension:"height",getDimensionValue:o},L=function(t){function e(n,r){(0,f.default)(this,e);var i=(0,d.default)(this,t.call(this,n,r));return i.handleEnter=i.handleEnter.bind(i),i.handleEntering=i.handleEntering.bind(i),i.handleEntered=i.handleEntered.bind(i),i.handleExit=i.handleExit.bind(i),i.handleExiting=i.handleExiting.bind(i),i}return(0,m.default)(e,t),e.prototype._dimension=function(){return"function"==typeof this.props.dimension?this.props.dimension():this.props.dimension},e.prototype._getScrollDimensionValue=function(t,e){return t["scroll"+(0,C.default)(e)]+"px"},e.prototype.handleEnter=function(t){var e=this._dimension();t.style[e]="0"},e.prototype.handleEntered=function(t){var e=this._dimension();t.style[e]=null},e.prototype.handleEntering=function(t){var e=this._dimension();t.style[e]=this._getScrollDimensionValue(t,e)},e.prototype.handleExit=function(t){var e=this._dimension();t.style[e]=this.props.getDimensionValue(e,t)+"px",i(t)},e.prototype.handleExiting=function(t){var e=this._dimension();t.style[e]="0"},e.prototype.render=function(){var t=this.props,e=t.onEnter,n=t.onEntering,r=t.onEntered,i=t.onExit,o=t.onExiting,a=t.className,l=(0,u.default)(t,["onEnter","onEntering","onEntered","onExit","onExiting","className"]);delete l.dimension,delete l.getDimensionValue;var c=(0,A.default)(this.handleEnter,e),f=(0,A.default)(this.handleEntering,n),h=(0,A.default)(this.handleEntered,r),d=(0,A.default)(this.handleExit,i),p=(0,A.default)(this.handleExiting,o),m={width:"width"===this._dimension()};return w.default.createElement(S.default,(0,s.default)({},l,{"aria-expanded":l.role?l.in:null,className:(0,v.default)(a,m),exitedClassName:"collapse",exitingClassName:"collapsing",enteredClassName:"collapse in",enteringClassName:"collapsing",onEnter:c,onEntering:f,onEntered:h,onExit:d,onExiting:p}))},e}(w.default.Component);L.propTypes=R,L.defaultProps=P,e.default=L,t.exports=e.default},function(t,e){e=t.exports=function(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return o[t];var i=String(t),a=n[i.toLowerCase()];if(a)return a;var a=r[i.toLowerCase()];return a||(1===i.length?i.charCodeAt(0):void 0)};var n=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"â‡§":16,"âŒ¥":18,"âŒƒ":17,"âŒ˜":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */
for(i=97;i<123;i++)n[String.fromCharCode(i)]=i-32;for(var i=48;i<58;i++)n[i-48]=i;for(i=1;i<13;i++)n["f"+i]=i+111;for(i=0;i<10;i++)n["numpad "+i]=i+96;var o=e.names=e.title={};for(i in n)o[n[i]]=i;for(var a in r)n[a]=r[a]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(122),i=function(t){return t&&t.__esModule?t:{default:t}}(r),o=function(){};i.default&&(o=function(){return document.addEventListener?function(t,e,n,r){return t.removeEventListener(e,n,r||!1)}:document.attachEvent?function(t,e,n){return t.detachEvent("on"+e,n)}:void 0}()),e.default=o,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(13),o=r(i),a=n(8),s=r(a),l=n(9),u=r(l),c=n(10),f=r(c),h=n(0),d=r(h),p=n(3),m=r(p),g=n(207),v=r(g),y=m.default.oneOfType([m.default.string,m.default.number]),b={id:function(t){var e=null;if(!t.generateChildId){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e=y.apply(void 0,[t].concat(r)),e||t.id||(e=new Error("In order to properly initialize Tabs in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to TabContainer is required"))}return e},generateChildId:m.default.func,onSelect:m.default.func,activeKey:m.default.any},_={$bs_tabContainer:m.default.shape({activeKey:m.default.any,onSelect:m.default.func.isRequired,getTabId:m.default.func.isRequired,getPaneId:m.default.func.isRequired})},w=function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,t.apply(this,arguments))}return(0,f.default)(e,t),e.prototype.getChildContext=function(){var t=this.props,e=t.activeKey,n=t.onSelect,r=t.generateChildId,i=t.id,o=r||function(t,e){return i?i+"-"+e+"-"+t:null};return{$bs_tabContainer:{activeKey:e,onSelect:n,getTabId:function(t){return o(t,"tab")},getPaneId:function(t){return o(t,"pane")}}}},e.prototype.render=function(){var t=this.props,e=t.children,n=(0,o.default)(t,["children"]);return delete n.generateChildId,delete n.onSelect,delete n.activeKey,d.default.cloneElement(d.default.Children.only(e),n)},e}(d.default.Component);w.propTypes=b,w.childContextTypes=_,e.default=(0,v.default)(w,{activeKey:"onSelect"}),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(35),w=r(_),x=n(14),E={componentClass:w.default,animation:b.default.oneOfType([b.default.bool,w.default]),mountOnEnter:b.default.bool,unmountOnExit:b.default.bool},M={componentClass:"div",animation:!0,mountOnEnter:!1,unmountOnExit:!1},S={$bs_tabContainer:b.default.shape({activeKey:b.default.any})},T={$bs_tabContent:b.default.shape({bsClass:b.default.string,animation:b.default.oneOfType([b.default.bool,w.default]),activeKey:b.default.any,mountOnEnter:b.default.bool,unmountOnExit:b.default.bool,onPaneEnter:b.default.func.isRequired,onPaneExited:b.default.func.isRequired,exiting:b.default.bool.isRequired})},C=function(t){function e(n,r){(0,u.default)(this,e);var i=(0,f.default)(this,t.call(this,n,r));return i.handlePaneEnter=i.handlePaneEnter.bind(i),i.handlePaneExited=i.handlePaneExited.bind(i),i.state={activeKey:null,activeChild:null},i}return(0,d.default)(e,t),e.prototype.getChildContext=function(){var t=this.props,e=t.bsClass,n=t.animation,r=t.mountOnEnter,i=t.unmountOnExit,o=this.state.activeKey,a=this.getContainerActiveKey(),s=null!=o?o:a,l=null!=o&&o!==a;return{$bs_tabContent:{bsClass:e,animation:n,activeKey:s,mountOnEnter:r,unmountOnExit:i,onPaneEnter:this.handlePaneEnter,onPaneExited:this.handlePaneExited,exiting:l}}},e.prototype.componentWillReceiveProps=function(t){!t.animation&&this.state.activeChild&&this.setState({activeKey:null,activeChild:null})},e.prototype.componentWillUnmount=function(){this.isUnmounted=!0},e.prototype.getContainerActiveKey=function(){var t=this.context.$bs_tabContainer;return t&&t.activeKey},e.prototype.handlePaneEnter=function(t,e){return!!this.props.animation&&(e===this.getContainerActiveKey()&&(this.setState({activeKey:e,activeChild:t}),!0))},e.prototype.handlePaneExited=function(t){this.isUnmounted||this.setState(function(e){return e.activeChild!==t?null:{activeKey:null,activeChild:null}})},e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,x.splitBsPropsAndOmit)(r,["animation","mountOnEnter","unmountOnExit"]),a=i[0],l=i[1];return v.default.createElement(e,(0,o.default)({},l,{className:(0,m.default)(n,(0,x.prefix)(a,"content"))}))},e}(v.default.Component);C.propTypes=E,C.defaultProps=M,C.contextTypes=S,C.childContextTypes=T,e.default=(0,x.bsClass)("tab",C),t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(4),m=n.n(p),g=n(12),v=n.n(g),y=n(3),b=n.n(y),_=n(0),w=n.n(_),x=n(24),E=(n.n(x),n(62)),M=n(79),S=n(91),T=m.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),O=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var l=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return l.toggleNavBar=l.toggleNavBar.bind(l),l}return o(e,t),C(e,[{key:"toggleNavBar",value:function(){this.props.onExpand&&this.props.onExpand(!this.props.expanded)}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.expanded,r=t.left,i=t.leftSize,o=t.right,a=n?S.a.closeMenu:S.a.openMenu,s=46*(r&&i||0),l={flex:"0 0 "+s+"px"};return w.a.createElement("div",{className:v()("expandable-navbar","navbar","navbar-default",e,{contracted:!n})},w.a.createElement("div",{className:"navbar-menu"},w.a.createElement(x.ButtonGroup,null,w.a.createElement(M.a,T({placement:"right"},a),w.a.createElement(x.Button,{onClick:this.toggleNavBar},w.a.createElement(E.b.Menu,null))))),n&&r?w.a.createElement("div",{className:"navbar-left",style:l},this.props.left):null,n&&o?w.a.createElement("div",{className:"navbar-right"},this.props.right):null)}}]),e}(_.Component);O.propTypes={className:b.a.string,onExpand:b.a.func,expanded:b.a.bool,left:b.a.node,right:b.a.node,leftSize:b.a.number},O.defaultProps={className:void 0,onExpand:void 0,expanded:!1,left:null,right:null,leftSize:0},e.a=O},function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"b",function(){return u});var r=n(17),i=n.n(r),o=n(504),a=(n.n(o),n(555)),s=(n.n(a),function(t){var e=t.match(/^(.+)\.(\w+)$/i),n=e?e[2].toLowerCase():null,r={zip:"application/zip",xml:"application/xml",pdf:"application/pdf",csv:"text/csv",txt:"text/plain",jpg:"image/jpeg",png:"image/png"};return n&&n in r?r[n]:"application/octet-stream"}),l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"canvas.png",n=arguments[2],r=n||s(e);t.toBlob(function(t){Object(a.saveAs)(t,e)},r)},u=function(t){var e=t[0],n=e.width,r=e.height,o=document.createElement("canvas");o.width=n,o.height=r;var a=o.getContext("2d"),s=!0,l=!1,u=void 0;try{for(var c,f=i()(Array.prototype.slice.call(t));!(s=(c=f.next()).done);s=!0){var h=c.value;a.drawImage(h,0,0)}}catch(t){l=!0,u=t}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}return o}},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"d",function(){return O}),n.d(e,"e",function(){return A}),n.d(e,"a",function(){return N}),n.d(e,"b",function(){return D});var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(3),m=n.n(p),g=n(0),v=n.n(g),y=n(28),b=(n.n(y),n(18)),_=n.n(b),w=n(15),x=(n.n(w),n(71)),E=n(1296),M=n(1297),S=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),T=Object(w.defineMessages)({zoomIn:{id:"tooltips.zoomIn",defaultMessage:"Zoom in"},zoomOut:{id:"tooltips.zoomOut",defaultMessage:"Zoom out"}}),C=_.a.easing.easeOut,O=function(t){I(t,1)},A=function(t){I(t,-1)},I=function(t,e){var n=t.getView(),r=n.getZoom();n.animate({zoom:r+e,duration:250,easing:C})},R=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.showScaleBar,r=e.showZoomSlider,i=e.showLayerName,a=e.showMousePosition,s=e.userSrs;o(this,t),this._showScaleBar=!1,this._showLayerName=!1,this._showZoomSlider=!1,this._scaleBar=new E.a,this._layerName=new M.a,this._zoomButtons=new _.a.control.Zoom({zoomInTipLabel:Object(x.b)(T.zoomIn),zoomOutTipLabel:Object(x.b)(T.zoomOut)}),this._zoomSlider=new _.a.control.ZoomSlider,this._mousePosition=new _.a.control.MousePosition({coordinateFormat:_.a.coordinate.createStringXY(2),projection:s,undefinedHTML:"..."}),this._controlPackage=[new _.a.control.Attribution({collapsible:!1})],a&&this._controlPackage.push(this._mousePosition),this.showScaleBar=n,this.showZoomSlider=r,this.showLayerName=i}return S(t,[{key:"_setControlVisibility",value:function(t,e){var n=this._controlPackage,r=n.indexOf(t);e&&r<0?n.push(t):!e&&r>=0&&n.splice(r,1)}},{key:"controlPackage",get:function(){return this._controlPackage}},{key:"showScaleBar",set:function(t){t!==this._showScaleBar&&(this._setControlVisibility(this._scaleBar,t),this._showScaleBar=t)}},{key:"scaleBar",get:function(){return this._scaleBar}},{key:"mousePosition",get:function(){return this._mousePosition}},{key:"showLayerName",set:function(t){t!==this._showLayerName&&(this._setControlVisibility(this._layerName,t),this._showLayerName=t)}},{key:"layerName",get:function(){return this._layerName}},{key:"showZoomSlider",set:function(t){t!==this._showZoomSlider&&(this._setControlVisibility(this._zoomButtons,t),this._setControlVisibility(this._zoomSlider,t),this._showZoomSlider=t)}}]),t}();e.c=R;var P=function(t){function e(t){o(this,e);var n=r(this,(e.__proto__||s()(e)).call(this,t));return n.noFeatureBelowMouseFunc=function(){n.updateAddress([""])},n.hoverOverAddressFunc=function(t){n.updateAddress(t.detail.address)},addEventListener("hoverOverAddress",n.hoverOverAddressFunc,!1),addEventListener("noFeaturesBelowMouse",n.noFeatureBelowMouseFunc,!1),n.address=[""],n}return i(e,t),S(e,[{key:"componentWillUnmount",value:function(){removeEventListener("hoverOverAddress",this.hoverOverAddressFunc,!1),removeEventListener("noFeaturesBelowMouse",this.noFeatureBelowMouseFunc,!1)}},{key:"updateAddress",value:function(t){this.address=t,this.forceUpdate()}},{key:"render",value:function(){var t=this.address.map(function(t,e){return v.a.createElement("p",{key:e},t)});return""!=this.address[0]?v.a.createElement("div",{className:"address-bar ol-unselectable"},v.a.createElement("div",{className:"inner-address-bar"},t)):null}}]),e}(g.Component);P.propTypes={visible:m.a.bool.isRequired};var L=function(t){return{config:t.config}},N=Object(y.connect)(L,null,null,{withRef:!0})(P),k=function(t){function e(){return o(this,e),r(this,(e.__proto__||s()(e)).apply(this,arguments))}return i(e,t),S(e,[{key:"render",value:function(){var t=this.props.config.config.map,e=t.featureZoomLevel,n=t.maxZoomLevel,r=36+188*(1-e/n);return this.props.visible?v.a.createElement("div",{className:"feature-zoom-level ol-unselectable",style:{position:"absolute",top:r,left:12,width:14,borderTop:"2px rgba(0, 0, 0, 0.3) solid",pointerEvents:"none"},onMouseDown:function(t){t.preventDefault()}}):null}}]),e}(g.Component);k.propTypes={visible:m.a.bool.isRequired};var D=Object(y.connect)(L,null,null,{withRef:!0})(k)},function(t,e){t.exports.enlarge=function(t,e){return e[0]<t.xmin&&(t.xmin=e[0]),e[0]>t.xmax&&(t.xmax=e[0]),e[1]<t.ymin&&(t.ymin=e[1]),e[1]>t.ymax&&(t.ymax=e[1]),e[2]&&e[2]<t.zmin&&(t.zmin=e[2]),e[2]&&e[2]>t.zmax&&(t.zmax=e[2]),t},t.exports.enlargeExtent=function(t,e){return e.xmax>t.xmax&&(t.xmax=e.xmax),e.xmin<t.xmin&&(t.xmin=e.xmin),e.ymax>t.ymax&&(t.ymax=e.ymax),e.ymin<t.ymin&&(t.ymin=e.ymin),e.zmax&&e.zmax>t.zmax&&(t.zmax=e.zmax),e.zmin&&e.zmin<t.zmin&&(t.zmin=e.zmin),t},t.exports.blank=function(){return{xmin:Number.MAX_VALUE,ymin:Number.MAX_VALUE,zmin:Number.MAX_VALUE,xmax:-Number.MAX_VALUE,ymax:-Number.MAX_VALUE,zmax:-Number.MAX_VALUE}}},function(t,e,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(t,e){for(var n,i,o,a,s,l,u,c="",f=0;f<t.length;)n=t.charCodeAt(f++),i=t.charCodeAt(f++),o=t.charCodeAt(f++),a=n>>2,s=(3&n)<<4|i>>4,l=(15&i)<<2|o>>6,u=63&o,isNaN(i)?l=u=64:isNaN(o)&&(u=64),c=c+r.charAt(a)+r.charAt(s)+r.charAt(l)+r.charAt(u);return c},e.decode=function(t,e){var n,i,o,a,s,l,u,c="",f=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");f<t.length;)a=r.indexOf(t.charAt(f++)),s=r.indexOf(t.charAt(f++)),l=r.indexOf(t.charAt(f++)),u=r.indexOf(t.charAt(f++)),n=a<<2|s>>4,i=(15&s)<<4|l>>2,o=(3&l)<<6|u,c+=String.fromCharCode(n),64!=l&&(c+=String.fromCharCode(i)),64!=u&&(c+=String.fromCharCode(o));return c}},function(t,e,n){"use strict";var r=n(210),i=n(104),o=n(1328),a=n(567),s=n(568),l=n(366),u=n(368),c=n(569),f=n(370),h=n(1329),d=n(1330),p=n(1331),m=function(t){if(t._data instanceof c&&(t._data=t._data.getContent(),t.options.binary=!0,t.options.base64=!1,"uint8array"===i.getTypeOf(t._data))){var e=t._data;t._data=new Uint8Array(e.length),0!==e.length&&t._data.set(e,0)}return t._data},g=function(t){var e=m(t);return"string"===i.getTypeOf(e)?!t.options.binary&&r.nodebuffer?f(e,"utf-8"):t.asBinary():e},v=function(t){var e=m(this);return null===e||void 0===e?"":(this.options.base64&&(e=l.decode(e)),e=t&&this.options.binary?I.utf8decode(e):i.transformTo("string",e),t||this.options.binary||(e=i.transformTo("string",I.utf8encode(e))),e)},y=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this.options=n,this._initialMetadata={dir:n.dir,date:n.date}};y.prototype={asText:function(){return v.call(this,!0)},asBinary:function(){return v.call(this,!1)},asNodeBuffer:function(){var t=g(this);return i.transformTo("nodebuffer",t)},asUint8Array:function(){var t=g(this);return i.transformTo("uint8array",t)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var b=function(t,e){var n,r="";for(n=0;n<e;n++)r+=String.fromCharCode(255&t),t>>>=8;return r},_=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},w=function(t){return t=t||{},!0!==t.base64||null!==t.binary&&void 0!==t.binary||(t.binary=!0),t=_(t,s),t.date=t.date||new Date,null!==t.compression&&(t.compression=t.compression.toUpperCase()),t},x=function(t,e,n){var r,o=i.getTypeOf(e);if(n=w(n),"string"==typeof n.unixPermissions&&(n.unixPermissions=parseInt(n.unixPermissions,8)),n.unixPermissions&&16384&n.unixPermissions&&(n.dir=!0),n.dosPermissions&&16&n.dosPermissions&&(n.dir=!0),n.dir&&(t=M(t)),n.createFolders&&(r=E(t))&&S.call(this,r,!0),n.dir||null===e||void 0===e)n.base64=!1,n.binary=!1,e=null,o=null;else if("string"===o)n.binary&&!n.base64&&!0!==n.optimizedBinaryString&&(e=i.string2binary(e));else{if(n.base64=!1,n.binary=!0,!(o||e instanceof c))throw new Error("The data of '"+t+"' is in an unsupported format !");"arraybuffer"===o&&(e=i.transformTo("uint8array",e))}var a=new y(t,e,n);return this.files[t]=a,a},E=function(t){"/"==t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},M=function(t){return"/"!=t.slice(-1)&&(t+="/"),t},S=function(t,e){return e=void 0!==e&&e,t=M(t),this.files[t]||x.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},T=function(t,e,n){var r,a=new c;return t._data instanceof c?(a.uncompressedSize=t._data.uncompressedSize,a.crc32=t._data.crc32,0===a.uncompressedSize||t.dir?(e=u.STORE,a.compressedContent="",a.crc32=0):t._data.compressionMethod===e.magic?a.compressedContent=t._data.getCompressedContent():(r=t._data.getContent(),a.compressedContent=e.compress(i.transformTo(e.compressInputType,r),n))):(r=g(t),r&&0!==r.length&&!t.dir||(e=u.STORE,r=""),a.uncompressedSize=r.length,a.crc32=o(r),a.compressedContent=e.compress(i.transformTo(e.compressInputType,r),n)),a.compressedSize=a.compressedContent.length,a.compressionMethod=e.magic,a},C=function(t,e){var n=t;return t||(n=e?16893:33204),(65535&n)<<16},O=function(t,e){return 63&(t||0)},A=function(t,e,n,r,s){var l,u,c,f,d=(n.compressedContent,i.transformTo("string",h.utf8encode(e.name))),p=e.comment||"",m=i.transformTo("string",h.utf8encode(p)),g=d.length!==e.name.length,v=m.length!==p.length,y=e.options,_="",w="",x="";c=e._initialMetadata.dir!==e.dir?e.dir:y.dir,f=e._initialMetadata.date!==e.date?e.date:y.date;var E=0,M=0;c&&(E|=16),"UNIX"===s?(M=798,E|=C(e.unixPermissions,c)):(M=20,E|=O(e.dosPermissions)),l=f.getHours(),l<<=6,l|=f.getMinutes(),l<<=5,l|=f.getSeconds()/2,u=f.getFullYear()-1980,u<<=4,u|=f.getMonth()+1,u<<=5,u|=f.getDate(),g&&(w=b(1,1)+b(o(d),4)+d,_+="up"+b(w.length,2)+w),v&&(x=b(1,1)+b(this.crc32(m),4)+m,_+="uc"+b(x.length,2)+x);var S="";return S+="\n\0",S+=g||v?"\0\b":"\0\0",S+=n.compressionMethod,S+=b(l,2),S+=b(u,2),S+=b(n.crc32,4),S+=b(n.compressedSize,4),S+=b(n.uncompressedSize,4),S+=b(d.length,2),S+=b(_.length,2),{fileRecord:a.LOCAL_FILE_HEADER+S+d+_,dirRecord:a.CENTRAL_FILE_HEADER+b(M,2)+S+b(m.length,2)+"\0\0\0\0"+b(E,4)+b(r,4)+d+_+m,compressedObject:n}},I={load:function(t,e){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(t){var e,n,r,i,o=[];for(e in this.files)this.files.hasOwnProperty(e)&&(r=this.files[e],i=new y(r.name,r._data,_(r.options)),n=e.slice(this.root.length,e.length),e.slice(0,this.root.length)===this.root&&t(n,i)&&o.push(i));return o},file:function(t,e,n){if(1===arguments.length){if(i.isRegExp(t)){var r=t;return this.filter(function(t,e){return!e.dir&&r.test(t)})}return this.filter(function(e,n){return!n.dir&&e===t})[0]||null}return t=this.root+t,x.call(this,t,e,n),this},folder:function(t){if(!t)return this;if(i.isRegExp(t))return this.filter(function(e,n){return n.dir&&t.test(e)});var e=this.root+t,n=S.call(this,e),r=this.clone();return r.root=n.name,r},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!=t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter(function(e,n){return n.name.slice(0,t.length)===t}),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(t){t=_(t||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip"}),i.checkSupport(t.type),"darwin"!==t.platform&&"freebsd"!==t.platform&&"linux"!==t.platform&&"sunos"!==t.platform||(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var e,n,r=[],o=0,s=0,c=i.transformTo("string",this.utf8encode(t.comment||this.comment||""));for(var f in this.files)if(this.files.hasOwnProperty(f)){var h=this.files[f],m=h.options.compression||t.compression.toUpperCase(),g=u[m];if(!g)throw new Error(m+" is not a valid compression method !");var v=h.options.compressionOptions||t.compressionOptions||{},y=T.call(this,h,g,v),w=A.call(this,f,h,y,o,t.platform);o+=w.fileRecord.length+y.compressedSize,s+=w.dirRecord.length,r.push(w)}var x="";x=a.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(r.length,2)+b(r.length,2)+b(s,4)+b(o,4)+b(c.length,2)+c;var E=t.type.toLowerCase();for(e="uint8array"===E||"arraybuffer"===E||"blob"===E||"nodebuffer"===E?new p(o+s+x.length):new d(o+s+x.length),n=0;n<r.length;n++)e.append(r[n].fileRecord),e.append(r[n].compressedObject.compressedContent);for(n=0;n<r.length;n++)e.append(r[n].dirRecord);e.append(x);var M=e.finalize();switch(t.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return i.transformTo(t.type.toLowerCase(),M);case"blob":return i.arrayBuffer2Blob(i.transformTo("arraybuffer",M),t.mimeType);case"base64":return t.base64?l.encode(M):M;default:return M}},crc32:function(t,e){return o(t,e)},utf8encode:function(t){return i.transformTo("string",h.utf8encode(t))},utf8decode:function(t){return h.utf8decode(t)}};t.exports=I},function(t,e,n){"use strict";e.STORE={magic:"\0\0",compress:function(t,e){return t},uncompress:function(t){return t},compressInputType:null,uncompressInputType:null},e.DEFLATE=n(1318)},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";(function(e){t.exports=function(t,n){return new e(t,n)},t.exports.test=function(t){return e.isBuffer(t)}}).call(e,n(144).Buffer)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(){function t(e,n,i,o,a,s,l,u,c,f,h){r(this,t),this.focalLength=e,this.ppX=n,this.ppY=i,this.imageWidth=o,this.imageHeight=a,this.k1=s,this.k2=l,this.p1=u,this.p2=c,this.alpha=f,this.delta=h}return a(t,[{key:"toJson",value:function(){return{focalLength:this.focalLength,ppX:this.ppX,ppY:this.ppY,imageWidth:this.imageWidth,imageHeight:this.imageHeight,k1:this.k1,k2:this.k2,p1:this.p1,p2:this.p2,alpha:this.alpha,delta:this.delta}}}],[{key:"fromJson",value:function(e){return new t(e.focalLength,e.ppX,e.ppY,e.imageWidth,e.imageHeight,e.k1,e.k2,e.p1,e.p2,e.alpha,e.delta)}}]),t}();e.a=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n){return!!t[0].propertyname&&o(e[t[0].propertyname],t[0].literal,n)}function o(t,e,n){switch(f()(Number(t))||f()(Number(e))||(t=Number(t),e=Number(e)),n){case"propertyisequalto":return t===e;case"propertyisnotequalto":return t!==e;case"propertyislessthan":return t<e;case"propertyislessthanorequalto":return t<=e;case"propertyisgreaterthan":return t>e;case"propertyisgreaterthanorequalto":return t>=e;default:throw new Error('unknown comparison operator "'+n+'"')}}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=u()(t)[n];if(!g[r])throw new Error("Unkown filter "+r);return!!g[r](t[r],e,r)}function s(t,e){return void 0!==t.maxscaledenominator&&void 0!==t.minscaledenominator?e/28e-5<t.maxscaledenominator&&e/28e-5>t.minscaledenominator:void 0!==t.maxscaledenominator?e/28e-5<t.maxscaledenominator:void 0===t.minscaledenominator||e/28e-5>t.minscaledenominator}var l=n(40),u=n.n(l),c=n(581),f=n.n(c),h=n(1),d=n.n(h),p=n(1356),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g={featureid:function(t,e){for(var n=0;n<t.length;n+=1)if(t[n]===e.fid)return!0;return!1},not:function(t,e){return!a(t,e)},or:function(t,e){if(2===t.length)return!(!a(t[0],e,0)&&!a(t[1],e,0));throw new Error("or operator should have exactly two operands")},and:function(t,e){if(2===t.length)return!(!a(t[0],e,0)||!a(t[1],e,0));throw new Error("and operator should have exactly two operands")},propertyisequalto:i,propertyisnotequalto:i,propertyislessthan:i,propertyislessthanorequalto:i,propertyisgreaterthan:i,propertyisgreaterthanorequalto:i,propertyisbetween:function(t,e){return e[t.propertyname]&&t.lowerboundary&&t.upperboundary&&o(e[t.propertyname],t.lowerboundary.literal,"propertyisgreaterthanorequalto")&&o(e[t.propertyname],t.upperboundary.literal,"propertyislessthanorequalto")}},v=function(){function t(){r(this,t),this.getRules=this.getRules.bind(this)}return m(t,[{key:"read",value:function(t,e,n){this.sld=Object(p.a)(t),this.setStyle(e,n)}},{key:"hasLayer",value:function(t){return this.sld.layers.findIndex(function(e){return e.name.toLowerCase()===t.toLowerCase()})>-1}},{key:"setStyle",value:function(t,e){var n=void 0;if(t&&(n=this.sld.layers.filter(function(e){var n=void 0;return e.name&&(n=e.name.toLowerCase()),!n&&e.styles&&e.styles[0]&&e.styles[0].featuretypestyles&&e.styles[0].featuretypestyles[0]&&(n=e.styles[0].featuretypestyles[0].featuretypename.toLowerCase()),n===t.toLowerCase()||!n}),!n.length))throw Error("layer "+t+" not found in sld");this.layer=n?n[0]:this.sld.layers[0],this.style=this.layer.styles.filter(function(t){return e?t.name.toLowerCase()===e.toLowerCase():t.default})[0],this.style||(this.style=this.layer.styles[0])}},{key:"getRules",value:function(t,e){if(!this.style)throw new Error("Set a style to use");for(var n=[],r=this.style.featuretypestyles.length,i=0;i<r;i+=1)for(var o=this.style.featuretypestyles[i],l=0;l<o.rules.length;l+=1){var u=o.rules[l];u.filter&&s(u,e)&&a(u.filter,t)?n.push(u):u.elsefilter&&0===n.length?n.push(u):u.elsefilter||u.filter||n.push(u)}return n}},{key:"getFeatureStyle",value:function(){if(!this.style)throw new Error("Set a style to use");return this.style}}]),t}();e.a=v},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=p()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(h.a?h()(t,e):t.__proto__=e)}var s=n(87),l=n.n(s),u=n(7),c=n.n(u),f=n(6),h=n.n(f),d=n(5),p=n.n(d),m=n(1),g=n.n(m),v=n(4),y=n.n(v),b=n(18),_=n.n(b),w=n(15),x=(n.n(w),n(151)),E=n(345),M=n(1357),S=n(585),T=y.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),g()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),O=(Object(w.defineMessages)({layerName:{id:"layer.ViewingConeLayer.name",description:"Default viewing cone layer name",defaultMessage:"Viewing cone layer"}}),void 0);addEventListener(S.a.PANORAMA_CREATED,function(t){O&&O.createFeature(t.detail.panoramaId,t.detail.viewerData,t.detail.colorStyle)},!1),addEventListener(S.a.PANORAMA_UPDATED,function(t){O&&O.updateFeature(t.detail.panoramaId,t.detail.viewerData)},!1),addEventListener(S.a.PANORAMA_DELETED,function(t){O&&O.deleteFeature(t.detail.panoramaId)},!1);var A=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r(t,[]);i(this,e);var a=o(this,(e.__proto__||c()(e)).call(this,T({},e.defaults,n)));return a.updateFeature=a.updateFeature.bind(a),a.colorStyle=null,O=a,a.previousPanoramas||(a.previousPanoramas=new l.a),a.toMapLayer(),a}return a(e,t),C(e,[{key:"_getMapSourceOptions",value:function(){}},{key:"_getMapLayerOptions",value:function(){return{visible:this.visible,updateWhileInteracting:!0}}},{key:"getFeatureStyle",value:function(){return function(t,e){if("cone"===t.get("type")){var n=t.get("viewerData"),r=t.get("color");return[new M.a({hFov:n.hFov,yaw:n.yaw,color:r}),new E.b({fillColor:r.color})]}return null}}},{key:"createFeature",value:function(t,e,n){var r=new _.a.geom.Point([0,0]),i=new _.a.Feature(r);i.setId("cone_"+t),i.set("viewerData",e),i.set("color",n),i.set("type","cone"),this.mapLayer.getSource().addFeature(i)}},{key:"updateFeature",value:function(t,e){var n=this.mapLayer.getSource();if(e&&e.xyz){var r=e.xyz,i=e.srs,o=this.mapProjection;i!==o&&(r=_.a.proj.transform(r,i,o));var a=n.getFeatureById("cone_"+t);if(a){a.set("viewerData",e);a.getGeometry().setCoordinates([r[0],r[1]])}}}},{key:"deleteFeature",value:function(t){var e=this.mapLayer.getSource(),n=e.getFeatureById("cone_"+t);n&&e.removeFeature(n)}}]),e}(x.a);A.defaults={id:"cyclorama-viewer-cones",type:"ViewingConeLayer",nameIntl:"layer.ViewingConeLayer.name",visible:!0},e.a=A},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(7),l=n.n(s),u=n(6),c=n.n(u),f=n(5),h=n.n(f),d=n(20),p=n.n(d),m=n(15),g=(n.n(m),n(151));Object(m.defineMessages)({layerName:{id:"layer.SurfaceCursorLayer.name",description:"Default SurfaceCursor layers name",defaultMessage:"SurfaceCursor layer"}});var v=function(t){function e(t){var n=r(t,[]);return i(this,e),o(this,(e.__proto__||l()(e)).call(this,p.a.defaults({},n,e.defaults)))}return a(e,t),e}(g.a);v.defaults={id:"surfaceCursorLayer",type:"SurfaceCursorLayer",nameIntl:"layer.SurfaceCursorLayer.name",visible:!0},e.a=v},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(7),l=n.n(s),u=n(6),c=n.n(u),f=n(5),h=n.n(f),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(20),y=n.n(v),b=n(18),_=n.n(b),w=n(15),x=(n.n(w),n(152)),E=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),S=(Object(w.defineMessages)({layerName:{id:"layer.WMSLayer.name",description:"Default WMS layers name",defaultMessage:"WMS layer"}}),function(t){function e(t){var n=r(t,[]);return i(this,e),o(this,(e.__proto__||l()(e)).call(this,E({},e.defaults,n)))}return a(e,t),M(e,[{key:"createMapSource",value:function(){var t=this.tiled?_.a.source.TileWMS:_.a.source.ImageWMS,n=E({},this._getMapSourceOptions(),{params:y.a.defaults({},{VERSION:this.version,FORMAT:this.imageFormat,TRANSPARENT:this.transparent,BGCOLOR:this.bgColor,LAYERS:this.layers.map(function(t){return t.name}).join(","),EXCEPTIONS:this.exceptions,TILED:this.tiled},e.defaults.params)});return this.transparent&&delete n.params.BGCOLOR,this.tiled&&(n.tileGrid=new _.a.tilegrid.TileGrid(this.tileGrid)),new t(n)}}]),e}(x.a));S.defaults={type:"WMSLayer",nameIntl:"layer.WMSLayer.name",tiled:!1,params:{VERSION:"1.1.1",FORMAT:"image/png",TRANSPARENT:!1,BGCOLOR:"0xffffff",EXCEPTIONS:"application/vnd.ogc.se_xml"}},e.a=S},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new s.a(function(t,n){function r(i,o){try{var a=e[i](o),l=a.value}catch(t){return void n(t)}if(!a.done)return s.a.resolve(l).then(function(t){r("next",t)},function(t){r("throw",t)});t(l)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"CoordinatesRegex",function(){return m}),n.d(e,"ExtentRegex",function(){return g}),n.d(e,"PanoramaIdRegex",function(){return v}),n.d(e,"ObliqueIdRegex",function(){return y}),n.d(e,"parsePanoramaId",function(){return b}),n.d(e,"parseObliqueId",function(){return _}),n.d(e,"addressToCoord",function(){return x}),n.d(e,"getSearchResult",function(){return E});var i=n(21),o=n.n(i),a=n(19),s=n.n(a),l=n(69),u=n.n(l),c=n(53),f=n(592),h=n(111),d=n(41),p=this,m=/^\s*([+-]?[0-9]+(?:\.[0-9]+)?)\s*[;,\s]\s*([+-]?[0-9]+(?:\.[0-9]+)?)(?:\s*[;,\s]\s*([+-]?[0-9]+(?:\.[0-9]+)?))?(?:\s*[;,\s]\s*(EPSG:[0-9]+))?\s*$/,g=/^\s*([+-]?[0-9]+(?:\.[0-9]+)?)\s*[;,\s]\s*([+-]?[0-9]+(?:\.[0-9]+)?)\s*[;,\s]\s*([+-]?[0-9]+(?:\.[0-9]+)?)\s*[;,\s]\s*([+-]?[0-9]+(?:\.[0-9]+)?)(?:\s*[;,\s]\s*(EPSG:[0-9]+))?\s*$/,v=/^\s*(?:id\:)?((?:\d[\dA-Z]{7})|(?:(WE|WU)[\dA-Z]{6}))\s*$/i,y=/^\s*(?:id\:)?(\w{13,26})\s*$/i,b=function(t){var e=v.exec(t);if(!e)return null;var n=e[1];return!e[2]||/\d/.test(n)?n:null},_=function(t){var e=y.exec(t);if(!e)return null;var n=e[1],r=n.length,i=n.replace(/\D/g,"").length,o=n.split("").map(function(t,e){return"_"===t?e:-1}).filter(function(t){return-1!==t}),a=o.length;return i>0&&a>=2&&a<=4&&0!==o[0]&&o[a-1]!==r-1&&o.map(function(t,e){return 0===e||t-o[e-1]>1}).every(function(t){return t})?n:null},w=null,x=function(t,e){return function(){var n=r(o.a.mark(function n(r,i){var a,s,l,u,m,g,v,y,b,_;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a="addressToCoord",s=i(),l=s.login,u=s.config,m="string"==typeof l.tidToken,m&&Object(h.c)(a),("string"!=typeof t||!t||e&&!Object(d.o)(e))&&Object(h.b)(a),e=e||p.props.srs.userSrs,e||Object(h.a)(a,c.ViewerError.NO_SRS_PROVIDED),w||(g=u.config.services.address,w=new f.a({addressService:g})),w||Object(h.a)(a,c.ViewerError.NO_ADDRESS_CLIENT),n.next=11,w.searchAddress(t,e);case 11:if(v=n.sent,v||Object(h.a)(a,c.ViewerError.NO_ADDRESS_FOUND),y=v.geometry,b=y.extent,_=y.coord,!b){n.next=16;break}throw new Error("address is not a point");case 16:if(_){n.next=18;break}throw new Error("error retrieving address");case 18:return n.abrupt("return",_);case 19:case"end":return n.stop()}},n,p)}));return function(t,e){return n.apply(this,arguments)}}()},E=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=r(o.a.mark(function n(r,i){var a,s,l,c,f;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a={},s=void 0,!(s=b(t))){n.next=6;break}a.panoramaId=s,n.next=28;break;case 6:if(!(s=_(t))){n.next=10;break}a.obliqueId=s,n.next=28;break;case 10:if(!(s=m.exec(t))){n.next=18;break}l=s[4]||e.srs,c=[s[1],s[2],s[3]||0].map(function(t){return Number(t)}),l!==e.srs&&(c=u()(l,e.srs,c)),a.coordinate=c,a.srs=l,n.next=28;break;case 18:if(!(s=g.exec(t))){n.next=24;break}f=s[5]||e.srs,a.extent=[s[1],s[2],s[3],s[4]].map(function(t){return Number(t)}),a.srs=f,n.next=28;break;case 24:return n.next=26,r(x(t,e.srs));case 26:a.coordinate=n.sent,a.srs=e.srs;case 28:return n.abrupt("return",a);case 29:case"end":return n.stop()}},n,p)}));return function(t,e){return n.apply(this,arguments)}}()};e.default={addressToCoord:x,getSearchResult:E}},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new g.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return g.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=p()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(h.a?h()(t,e):t.__proto__=e)}n.d(e,"b",function(){return k});var s=n(21),l=n.n(s),u=n(7),c=n.n(u),f=n(6),h=n.n(f),d=n(5),p=n.n(d),m=n(19),g=n.n(m),v=n(1),y=n.n(v),b=n(4),_=n.n(b),w=n(18),x=n.n(w),E=n(593),M=n(270),S=n(594),T=n(33),C=n(378),O=n(595),A=_.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),y()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),R=function(t){var e=x.a.format.filter,n=Object(T.f)(t,0,360),r=Object(T.f)(t-45,0,360),i=Object(T.f)(t+45,0,360);return n<45||n>315?e.or(e.greaterThanOrEqualTo("heading",Math.max(r,i)),e.lessThanOrEqualTo("heading",Math.min(r,i))):e.and(e.greaterThanOrEqualTo("heading",r),e.lessThanOrEqualTo("heading",i))},P=function(t){var e=x.a.format.filter,n=Object(T.f)(t+180,0,360),r=R(t),i=R(n),o=e.greaterThan("pitch",0),a=e.lessThan("pitch",0);return e.or(e.and(o,r),e.and(a,i))},L=function(t){return P(S.a.toDegrees(t))},N=function(t){function e(t){return i(this,e),o(this,(e.__proto__||c()(e)).call(this,A({},t,{authRequired:!0,defaultFeatureType:"ObliqueImage",defaultGeometryName:"footprintCentre"})))}return a(e,t),I(e,[{key:"getExtraFilter",value:function(t){var e=x.a.format.filter,n=t.year,r=t.isOblique,i=void 0===r||r,o=t.direction,a=[];return n&&a.push(e.equalTo("year",n)),i?(a.push(e.or(e.lessThan("pitch",-M.a),e.greaterThan("pitch",M.a))),"number"==typeof o?a.push(P(o)):"string"==typeof o&&a.push(L(o))):a.push(e.lessThanOrEqualTo("pitch",M.a),e.greaterThanOrEqualTo("pitch",-M.a)),e.and.apply(e,a)}},{key:"postProcessFeatures",value:function(t){return t.map(function(t){return new M.b(t)}).filter(function(t){return t&&t.isAuthorized})}},{key:"requestNearestToCoordinate",value:function(){function t(t,n,r){return e.apply(this,arguments)}var e=r(l.a.mark(function t(e,n,r){var i;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.requestWithRadius(e,n,O.a,r);case 2:if(i=t.sent,!r.year){t.next=5;break}return t.abrupt("return",Object(C.c)(e,i));case 5:return t.abrupt("return",Object(C.b)(e,i));case 6:case"end":return t.stop()}},t,this)}));return t}()}]),e}(E.a);e.a=N;var k=function(t){N.instance=new N({uri:t})}},function(t,e,n){"use strict";n.d(e,"d",function(){return s}),n.d(e,"a",function(){return l}),n.d(e,"c",function(){return u}),n.d(e,"b",function(){return c});var r=n(17),i=n.n(r),o=n(49),a=(n.n(o),n(270)),s=function(t){return t?t.recordedAt.getTime():-1},l=function(t,e){return s(t)-s(e)},u=function(t,e){if(0===e.length)return null;var n=e[0]instanceof a.b,r=1/0,i=void 0,s=n?function(t){return t.footprintCentre.getCoordinates()}:function(t){return t.xyz};return e.forEach(function(e){var n=o.vec2.distance(s(e),t);n<r&&(r=n,i=e)}),i},c=function(t,e){var n=1/0,r=void 0;if(e&&0!==e.length){var a=e[0].year,s=!0,l=!1,u=void 0;try{for(var c,f=i()(e);!(s=(c=f.next()).done);s=!0){var h=c.value,d=o.vec2.distance(h.footprintCentre.getCoordinates(),t),p=h.year;(p>a||p===a&&d<n)&&(n=d,r=h,p>a&&(a=p))}}catch(t){l=!0,u=t}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}return r}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(33),i=Object(r.e)(110)},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new b.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return b.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(t,e,n){return e in t?w()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=v()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(m.a?m()(t,e):t.__proto__=e)}n.d(e,"b",function(){return ct});var l=n(21),u=n.n(l),c=n(77),f=n.n(c),h=n(7),d=n.n(h),p=n(6),m=n.n(p),g=n(5),v=n.n(g),y=n(19),b=n.n(y),_=n(1),w=n.n(_),x=n(4),E=n.n(x),M=n(23),S=n.n(M),T=n(17),C=n.n(T),O=n(0),A=n.n(O),I=n(36),R=(n.n(I),n(28)),P=(n.n(R),n(15)),L=(n.n(P),n(20)),N=(n.n(L),n(24)),k=(n.n(N),n(69)),D=n.n(k),F=n(235),j=n.n(F),U=n(100),z=n.n(U),B=n(62),V=n(48),G=n(53),H=n(81),q=n(31),W=n(79),Y=n(91),X=n(88),Z=(n(110),n(92)),K=n(41),Q=n(579),J=n(1363),$=n(1371),tt=n(597),et=n(1372),nt=n(1373),rt=n(217),it=n(218),ot=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=C()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(S()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),at=E.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},st=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),w()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),lt={MEASUREMENTS:"COLLAPSE_MEASUREMENT",ATTRIBUTES:"COLLAPSE_ATTRIBUTES"},ut=Object(P.defineMessages)({position:{id:"MeasurementInformation.position",description:"The position of the measurement",defaultMessage:"Position"},positionXY:{id:"MeasurementInformation.positionXY",description:"The position of the measurement, XY only",defaultMessage:"Position (XY)"},positionZ:{id:"MeasurementInformation.positionZ",description:"The position of the measurement, Z only",defaultMessage:"Position (Z)"},distance:{id:"MeasurementInformation.distance",description:"The distance of the measurement",defaultMessage:"Distance"},height:{id:"MeasurementInformation.height",description:"The height of the measurement",defaultMessage:"Height"},perimeter:{id:"MeasurementInformation.perimeter",description:"The perimeter of the measurement",defaultMessage:"Perimeter"},area:{id:"MeasurementInformation.area",description:"Label for area in measurement information panel",defaultMessage:"Area"},deltaXY:{id:"measurement.deltaXY",defaultMessage:"Delta-XY"},deltaZ:{id:"measurement.deltaZ",defaultMessage:"Delta-Z"},slopeAngle:{id:"measurement.slopeAngle",defaultMessage:"Slope angle"},slopePercentage:{id:"measurement.slopePercentage",defaultMessage:"Slope percentage"},feedbackAddPoint:{id:"MeasurementInformation.feedbackAddPoint",description:"Measurement feedback to user to add point.",defaultMessage:"Click to add point."},feedbackTooFewRecordins:{id:"MeasurementInformation.feedbackTooFewRecordins",description:"Measurement feedback to user when too few recordings",defaultMessage:"Too few observations"},feedbackInvalidAngle:{id:"MeasurementInformation.feedbackInvalidAngle",description:"Measurement feedback to user when an angle between observations is too small",defaultMessage:"Intersection angle too big or too small"},feedbackPointTooFar:{id:"MeasurementInformation.feedbackRecordingsTooFar",description:"Measurement feedback to user when recordings are further away than the max distance",defaultMessage:"Point is further away than {maxDistance}"},feedbackStandardDeviationTooHigh:{id:"MeasurementInformation.feedbackStandardDeviationTooHigh",description:"Measurement feedback to user when deviation of the recording is too high",defaultMessage:"Standard Deviation too high"},feedbackIncompleteMeasurement:{id:"MeasurementInformation.feedbackIncompleteMeasurement",description:"Measurement feedback to user when there are insufficient points ",defaultMessage:"Measurement has insufficient points."},pointsWithErrors:{id:"MeasurementInformation.pointsWithErrors",description:"Message for when there are points with errors",defaultMessage:"One or more points have problems"},deltaInfoDifference:{id:"MeasurementInformation.deltaInfoDifference",description:"Distance and slope between two points",defaultMessage:"Difference"}}),ct=function(t){switch(t){case Z.f.OK:return A.a.createElement(B.c,{glyph:B.a.AlertTriangle,style:{color:"#a58958"}});case Z.f.BAD:return A.a.createElement(B.c,{glyph:B.a.AlertCircle,style:{color:"#c0392b"}});default:return null}},ft=function(t){function e(){var t,n;o(this,e);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];var u=a(this,(t=e.__proto__||d()(e)).call.apply(t,[this].concat(s)));u.onDeletePoint=function(t,e){t.stopPropagation(),u.props.actions.removeMeasurementPoint(e),u.cancelInsertPointToMeasurement()},u.validateNumbers=function(t){return f()(t)||Object(Q.a)(t)&&t.every(function(t){return f()(t)})},u.createValueLine=function(t,e,n,r){var i=t.value,o=t.stdev,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!u.validateNumbers(i))return null;var l=function(t){return A.a.createElement(P.FormattedNumber,{value:t*a,minimumFractionDigits:e,maximumFractionDigits:e,useGrouping:s})},c=function(t){if(!Object(Q.a)(t))return l(t);var e=[];return t.forEach(function(t,n){n>0&&e.push(", "),e.push(l(t))}),e},f=[A.a.createElement(P.FormattedMessage,n),": ",c(i)," ",r&&A.a.createElement(P.FormattedMessage,r)];return u.validateNumbers(o)&&f.push([" (Ïƒ: ",c(o),")"]),f},u.insertPointToMeasurement=function(t){var e=u.props.measurements.activeMeasurement.properties,n=e.derivedData,r=e.measureDetails,i=Object(L.cloneDeep)(r),o=Object(L.cloneDeep)(n);i.splice(t,0,{type:"insert"}),o.coordinateStdevs.splice(t,0,{0:0,1:0,2:0}),u.setState({tempArrayMeasureDetails:i,tempArrayDerivedData:o}),u.setMeasurementActiveObservation(-1)},u.cancelInsertPointToMeasurement=function(t){var e=u.props.measurements.activeMeasurement.properties.measureDetails;u.props.actions.setInsertPointIndexToLast(t||e.length),u.setState({tempArrayMeasureDetails:null,tempArrayDerivedData:null}),u.setMeasurementActiveObservation(-1)},u.renderTooltipData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(t>-1){var e=u.props,n=e.measurements.activeMeasurement.properties,r=n.derivedData;r=void 0===r?{}:r;var i=r.unit,o=r.precision,a=r.segmentLengths,s=r.segmentsDeltaXY,l=r.segmentsDeltaZ,c=r.segmentsSlopePercentage,f=r.segmentsSlopeAngle,h=n.customGeometryType,d=e.userSrsUnit,p=[];if(i!==K.d.DEGREES&&i!==K.d.UNKNOWN){var m=i,g=1;if(d!==m&&(m=d,g=d===K.d.METERS?K.b:K.c),a&&a.value[t]&&h!==Z.a.CIRCLE){var v={value:a.value[t]};a.stdev&&a.stdev[t]&&(v.stdev=a.stdev[t]),p.push(u.createValueLine(v,o,ut.distance,rt.a[m],g))}if(s&&s.value[t]){var y={value:s.value[t]};s.stdev&&s.stdev[t]&&(y.stdev=s.stdev[t]),p.push(u.createValueLine(y,o,ut.deltaXY,rt.a[m],g))}if(l&&l.value[t]){var b={value:l.value[t]};l.stdev&&l.stdev[t]&&(b.stdev=l.stdev[t]),p.push(u.createValueLine(b,o,ut.deltaZ,rt.a[m],g))}if(f&&f.value[t]&&f.value[t]<=45){var _={value:f.value[t]};f.stdev&&f.stdev[t]&&(_.stdev=f.stdev[t]),p.push(u.createValueLine(_,o,ut.slopeAngle,rt.a.degrees,g))}if(c&&c.value[t]&&c.value[t]<=100){var w={value:c.value[t]};c.stdev&&c.stdev[t]&&(w.stdev=c.stdev[t]),p.push(u.createValueLine(w,o,ut.slopePercentage,rt.a.percent,g))}}return p&&p.length>0?A.a.createElement("div",{className:"measurement-delta-between-points-tooltip"},A.a.createElement("p",null,A.a.createElement("strong",null,A.a.createElement(P.FormattedMessage,ut.deltaInfoDifference))),p.map(function(t,e){return A.a.createElement("p",{key:"tooltip-"+e},t)})):null}return null},u.renderPointMeasureErrors=function(t){if(t&&t.length>0){var e=u.props,n=e.userSrsUnit,r=e.measurements.activeMeasurement.properties.precision,i=u.context.intl.formatNumber,o=[],a=i(n===K.d.METERS?Z.d:Z.c,{minimumFractionDigits:r,maximumFractionDigits:r}),s=a+" "+n;return t.forEach(function(t){switch(t){case Z.e.INVALID_ANGLE:o.push(ut.feedbackInvalidAngle);break;case Z.e.POINT_TOO_FAR:o.push(at({},ut.feedbackPointTooFar,{values:{maxDistance:s}}));break;case Z.e.STANDARD_DEVIATION:o.push(ut.feedbackStandardDeviationTooHigh);break;case Z.e.TOO_FEW_RECORDINGS:o.push(ut.feedbackTooFewRecordins)}}),A.a.createElement("div",{className:"point-problems"},o.map(function(t,e){return A.a.createElement("p",{key:"error-"+e},A.a.createElement(P.FormattedMessage,t))}))}return null};var c=u.props.measurements.activeMeasurement.properties,h=(n={},i(n,lt.ATTRIBUTES,!1),i(n,lt.MEASUREMENTS,!1),n);return u.state={minimizedPanels:h,minimized:!1,activeObservation:-1,tempArrayMeasureDetails:null,tempArrayDerivedData:null,measurementName:c.name?c.name:c.id,measurementNamePlaceholder:c.id},u.saveMeasurement=function(){return u.props.actions.saveMeasurement()},u.newMeasurement=function(){return u.props.actions.showTypeSelectionModal()},u.toggleMinimized=function(){return u.setState({minimized:!u.state.minimized})},u.closeMeasurements=function(){return u.props.actions.disableMeasurementMode()},u}return s(e,t),st(e,[{key:"componentWillMount",value:function(){var t=this.props.actions.updateMeasurementName,e=this.props.measurements.activeMeasurement.properties,n=e.name?e.name:e.id;this.setState({measurementName:n}),t({name:n}),this.setMeasurementActiveObservation(-1)}},{key:"componentDidMount",value:function(){this.focusNameInput.focus()}},{key:"componentWillReceiveProps",value:function(t){var e=this.props.measurements.activeMeasurement,n=t.measurements.activeMeasurement,r=n.properties,i=r.observationLines,o=r.measureDetails;if(i){if(i.recordingId!==t.currentRecording){var a=i.activeObservation;i.selectedMeasureMethod===V.MeasureMethod.FORWARD_INTERSECTION&&o.length>0&&(a=0),this.setMeasurementActiveObservation(a)}}else this.setMeasurementActiveObservation(-1);var s=e&&e.properties,l=n&&n.properties;s&&l&&s.id!==l.id&&this.setState({measurementName:l.name?l.name:l.id});var u=Object(Z.k)(this.props.measurements.activeMeasurement.geometry),c=Object(Z.k)(t.measurements.activeMeasurement.geometry);c<u?this.setMeasurementActiveObservation(-1):c>u&&(this.cancelInsertPointToMeasurement(c),this.setMeasurementActiveObservation(c-1)),i&&i.activeObservation!==this.state.activeObservation&&this.setState({activeObservation:i.activeObservation})}},{key:"shouldComponentUpdate",value:function(t,e){var n=this.props,r=(n.currentRecording,n.measurements.activeMeasurement),i=r.properties,o=(i.name,i.measureDetails),a=r.geometry,s=a.type,l=a.coordinates,u=Object(Z.l)(s,l),c=(t.currentRecording,t.measurements.activeMeasurement),f=c.properties,h=(f.name,f.measureDetails),d=c.geometry,p=d.type,m=d.coordinates,g=Object(Z.l)(p,m),v=this.state,y=v.activeObservation,b=(v.minimized,v.minimizedPanels),_=(b.COLLAPSE_ATTRIBUTES,b.COLLAPSE_MEASUREMENT,o[y],e.activeObservation),w=(e.minimized,e.minimizedPanels),x=(w.COLLAPSE_ATTRIBUTES,w.COLLAPSE_MEASUREMENT,h[_],!1);if(u.length===g.length)for(var E=0;E<u.length&&!0!==x;E++)for(var M=0;M<u[E].length&&(!g[E]||!0!==(x=u[E][M]!==g[E][M]));M++);return!0}},{key:"setMeasurementActiveObservation",value:function(t){this.props.actions.updateMeasurementObservationLines({activeObservation:t,recordingId:this.props.currentRecording,color:this.props.color,selectedMeasureMethod:this.props.measurements.selectedMeasureMethod})}},{key:"updateMeasurementNameHandle",value:function(t){var e=this.props.actions.updateMeasurementName;this.setState({measurementName:t.target.value}),e({name:t.target.value})}},{key:"updateMinimizedState",value:function(t){switch(t){case lt.MEASUREMENTS:var e=!this.state.minimizedPanels[lt.MEASUREMENTS];this.setState({minimizedPanels:at({},this.state.minimizedPanels,i({},lt.MEASUREMENTS,e))});break;case lt.ATTRIBUTES:var n=!this.state.minimizedPanels[lt.ATTRIBUTES];this.setState({minimizedPanels:at({},this.state.minimizedPanels,i({},lt.ATTRIBUTES,n))})}}},{key:"createHeader",value:function(){var t=this,e=this.state.minimized;return A.a.createElement("div",{className:"measurement-floating-panel-header"},A.a.createElement("input",{className:"measurement-floating-panel-name",ref:function(e){t.focusNameInput=e},maxLength:100,value:this.state.measurementName,placeholder:this.state.measurementNamePlaceholder,onChange:function(e){return t.updateMeasurementNameHandle(e)},onFocus:function(){t.focusNameInput.select()}}),A.a.createElement("div",{className:"measurement-floating-panel-controls"},!this.props.config.isApi&&A.a.createElement(W.a,at({placement:"top"},Y.a.saveMeasurement),A.a.createElement(N.Button,{onClick:this.saveMeasurement},A.a.createElement(B.b.Save,null))),e?A.a.createElement(W.a,at({placement:"top"},Y.a.expandMeasurementPanel),A.a.createElement(N.Button,{onClick:this.toggleMinimized},A.a.createElement(B.b.Expand,null))):A.a.createElement(W.a,at({placement:"top"},Y.a.collapseMeasurementPanel),A.a.createElement(N.Button,{onClick:this.toggleMinimized},A.a.createElement(B.b.Collapse,null)))))}},{key:"renderDerivedData",value:function(){var t=this.props,e=t.measurements.activeMeasurement.properties,n=e.derivedData;n=void 0===n?{}:n;var r=n.unit,i=n.totalLength,o=n.area,a=(n.position,n.positionXY),s=n.positionZ,l=n.precision,u=e.preciseGeometry,c=u.coordinates,f=u.type,h=e.customGeometryType,d=e.preciseCRS,p=t.userSrs,m=t.userSrsUnit,g=[];if(f===Z.b.POINT){if(a)if(s){var v=[a.value[0],a.value[1],s.value],y=D()(d,p,v),b=z.a.sqrDist(v,y)<1e-6,_=b?a:{value:[y[0],y[1]]},w=b?s:{value:y[2]};g.push(this.createValueLine(_,l,ut.positionXY,rt.a[m],1,!1),this.createValueLine(w,l,ut.positionZ,null,1,!1))}else{var x=D()(d,p,a.value),E=j.a.sqrDist(a.value,x)<1e-6,M=E?a:{value:x};g.push(this.createValueLine(M,l,ut.positionXY,rt.a[m],1,!1))}}if(r!==K.d.DEGREES&&r!==K.d.UNKNOWN){var S=r,T=1,C=1;if(m!==S&&(S=m,T=m===K.d.METERS?K.b:K.c,C=Math.pow(T,2)),o&&g.push(this.createValueLine(o,l,ut.area,rt.a[S+"2"],C)),i){var O=ut.distance;(h===Z.a.CIRCLE||f===Z.b.POLYGON&&c&&c.length>0&&c[0].length>3)&&(O=ut.perimeter),h===Z.a.HEIGHT&&(O=ut.height),g.push(this.createValueLine(i,l,O,rt.a[S],T))}}return g.map(function(t,e){return A.a.createElement("p",{key:"derived-"+e},t)})}},{key:"viewObservation",value:function(){function t(t,n){return e.apply(this,arguments)}var e=r(u.a.mark(function t(e,n){var r,i,o,a,s,l;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.props.viewermanager.currentPanoramaWID,t.next=3,it.a.getRecordingById(n.Id,this.props.userSrs);case 3:if(i=t.sent,o=ot(i,1),a=o[0]){t.next=8;break}throw new Error("No recording fetched!");case 8:s=Object(X.m)(a.xyz,e),l=Object(X.j)(a.xyz,e),this.props.actions.updateRecording(r,a),this.props.actions.updatePanoramaOrientation(r,{pitch:l,yaw:s}),this.setMeasurementActiveObservation(this.state.activeObservation);case 13:case"end":return t.stop()}},t,this)}));return t}()},{key:"renderMeasureFeedback",value:function(){var t=this.props.measurements.activeMeasurement.properties,e=t.measureReliability,n=t.pointsWithErrors,r=t.validGeometry,i=[];return n&&e!==Z.f.GOOD&&i.push(A.a.createElement(P.FormattedMessage,ut.pointsWithErrors)),!1===r&&i.push(A.a.createElement(P.FormattedMessage,ut.feedbackIncompleteMeasurement)),ct(e)||!1===r?A.a.createElement("div",{className:"measurement-panel-error-message"},i.map(function(t,e){return A.a.createElement("p",{key:"feedback-"+e},A.a.createElement(B.c,{glyph:B.a.AlertTriangle,style:{color:"#a58958"}}),t)})):null}},{key:"nextMeasurementWillAddPoint",value:function(){var t=this.state.tempArrayMeasureDetails,e=this.props,n=e.measurements,r=e.currentRecording;return!t&&(n.selectedMeasureMethod!==V.MeasureMethod.FORWARD_INTERSECTION||Object(V.determineNewPointNeeded)(n.activeMeasurement,r,n.geometryType))}},{key:"renderMeasurementInformation",value:function(){var t=this,e=this.props.measurements.activeMeasurement.properties,n=e.derivedData,r=e.measureDetails,i=this.state,o=i.activeObservation,a=i.tempArrayMeasureDetails,s=i.tempArrayDerivedData,l=n.coordinateStdevs,u=r;a&&(l=s.coordinateStdevs,u=a);var c=this.nextMeasurementWillAddPoint();return A.a.createElement("div",{className:"measurement-floating-panel-body flexColumn"},A.a.createElement(N.Accordion,{activeKey:o,onSelect:function(e,n){n.stopPropagation();var r=t.state.activeObservation===e?-1:e;t.setMeasurementActiveObservation(r)}},u.map(function(e,n){return A.a.createElement(J.a,{index:n,eventKey:n,key:n,pointData:e,coordinateStdevs:l[n],lastItem:u.length,temporary:!!a,viewObservation:function(e,n){return t.viewObservation(e,n)},renderTooltipData:t.renderTooltipData,cancelInsertPointToMeasurement:t.cancelInsertPointToMeasurement,renderPointMeasureErrors:t.renderPointMeasureErrors,insertPointToMeasurement:t.insertPointToMeasurement,onDeletePoint:t.onDeletePoint,actions:t.props.actions,currentRecording:t.props.currentRecording,measurements:t.props.measurements,color:t.props.color})}),c&&A.a.createElement(tt.b,{pointIndex:u.length})))}},{key:"render",value:function(){var t=this,e=this.state.minimized,n=this.props,r=n.measurementattribute.attributes,i=n.config.isApi;return A.a.createElement("div",{className:"measurement-floating-panel"},A.a.createElement($.a,null),A.a.createElement(N.Panel,{header:this.createHeader()},this.renderDerivedData(),this.renderMeasureFeedback(),!e&&A.a.createElement(nt.a,{updateMinimizedState:function(){return t.updateMinimizedState(lt.MEASUREMENTS)},minimized:this.state.minimizedPanels[lt.MEASUREMENTS]},this.renderMeasurementInformation()),!e&&!i&&r&&r.length>0&&A.a.createElement(et.a,{loseFocus:this.focusNameInput===document.activeElement,updateMinimizedState:function(){return t.updateMinimizedState(lt.ATTRIBUTES)},minimized:this.state.minimizedPanels[lt.ATTRIBUTES]})))}}]),e}(q.a),ht=function(t){var e=t.measurements,n=t.srs,r=t.config,i=t.viewermanager,o=t.panoramaviewer,a=t.measurementattribute,s=n.userSrs;return{measurements:e,userSrs:s,userSrsUnit:Object(K.n)(s).xyUnits,config:r,viewermanager:i,panoramaviewer:o,measurementattribute:a}},dt=function(t){return{actions:Object(I.bindActionCreators)(at({},V.default,G.default,{updateRecording:H.updateRecording,updatePanoramaOrientation:H.updatePanoramaOrientation}),t)}};e.a=Object(R.connect)(ht,dt)(ft)},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(0),a=n.n(o),s=function(t){var e=t.color,n={top:0,left:0,position:"absolute",width:0,height:0,zIndex:1,borderStyle:"solid",borderWidth:"24px 24px 0 0",borderColor:"rgba("+e.join(",")+") transparent transparent transparent"};return a.a.createElement("div",{className:"colorIndicator",style:n})};s.propTypes={color:i.a.arrayOf(i.a.number)},e.a=s},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}n.d(e,"b",function(){return I}),n.d(e,"a",function(){return R});var s=n(7),l=n.n(s),u=n(6),c=n.n(u),f=n(5),h=n.n(f),d=n(4),p=n.n(d),m=n(1),g=n.n(m),v=n(3),y=n.n(v),b=n(0),_=n.n(b),w=n(24),x=(n.n(w),n(79)),E=n(62),M=n(91),S=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),g()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),T=p.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C=y.a.shape({key:y.a.oneOfType([y.a.string,y.a.number]).required,label:y.a.node.required,value:y.a.any}),O=function(t){var e=t.type,n=t.label,r=t.checked,i=t.value,o=t.onSelect,a=t.customOverlay,s=t.srs,l=t.locateByExtent;return _.a.createElement(w.FormGroup,null,"checkbox"===e?_.a.createElement("div",{className:"checklist_location"},_.a.createElement(w.Checkbox,{checked:r,onChange:function(){return o(i)}},_.a.createElement("span",null,n)),a&&_.a.createElement(x.a,T({placement:"top"},M.a.mapLocation),_.a.createElement(E.b.Locate,{className:"locate",onClick:function(){return l(a,s)}}))):_.a.createElement(w.Radio,{checked:r,onChange:function(){return o(i)}},_.a.createElement("span",null,n)))};O.propTypes={type:y.a.oneOf(["radio","checkbox"]),checked:y.a.bool,label:y.a.string,value:y.a.any,onSelect:y.a.func,customOverlay:y.a.string,srs:y.a.string,locateByExtent:y.a.func};var A=function(t){function e(){var t;i(this,e);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=o(this,(t=e.__proto__||l()(e)).call.apply(t,[this].concat(r)));return s.selectItem=s.selectItem.bind(s),s}return a(e,t),S(e,[{key:"selectItem",value:function(t){var e=this.props.onChange;e&&e(t)}},{key:"render",value:function(){var t=this,e=this.props,n=e.multiple,r=e.WrapperComponent,i=e.ItemComponent,o=e.items,a=e.value,s=n?"checkbox":"radio";return _.a.createElement(r,{className:"checklist"},o.map(function(e){return _.a.createElement(i,{type:s,key:e.key,label:e.label,value:e,customOverlay:e.customOverlay,srs:e.srs,checked:n?a.indexOf(e)>=0:a&&a.key===e.key,onSelect:t.selectItem,locateByExtent:e.locateByExtent})}))}}]),e}(b.Component);A.propTypes={multiple:y.a.bool,items:y.a.arrayOf(C),value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return(t.multiple?y.a.arrayOf(C):C).apply(void 0,[t].concat(n))},onChange:y.a.func},A.defaultProps={multiple:!0,WrapperComponent:"div",ItemComponent:O,items:[],value:null},e.c=A;var I=function(t){return _.a.createElement("tr",null,_.a.createElement("td",null,_.a.createElement(O,t)))},R=function(t){var e=t.children,n=r(t,["children"]);return _.a.createElement(w.Table,T({hover:!0},n),_.a.createElement("tbody",null,e))};R.propTypes={children:y.a.node}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(4),m=n.n(p),g=n(20),v=n.n(g),y=n(3),b=n.n(y),_=n(0),w=n.n(_),x=n(24),E=(n.n(x),n(15)),M=(n.n(E),n(28)),S=(n.n(M),n(36)),T=(n.n(S),n(31)),C=n(79),O=n(1378),A=n(62),I=n(27),R=n(208),P=n(123),L=n(81),N=n(80),k=n(91),D=n(1382),F=m.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),U=Object(E.defineMessages)({title:{id:"ImageControls.title",defaultMessage:"Display"}}),z=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var l=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return l._logSetBrightness=v.a.debounce(l.props.actions.logSetValue.bind(l,"brightness"),500,{leading:!1}),l._logSetContrast=v.a.debounce(l.props.actions.logSetValue.bind(l,"contrast"),500,{leading:!1}),l._logSetOpacity=v.a.debounce(l.props.actions.logSetValue.bind(l,"opacity"),500,{leading:!1}),l._setOpacity=v.a.debounce(l.props.actions.setOpacity.bind(l),500,{leading:!1}),l.updateBrightness=l.updateBrightness.bind(l),l.updateContrast=l.updateContrast.bind(l),l.updateOpacity=l.updateOpacity.bind(l),l.resetSliders=l.resetSliders.bind(l),l}return o(e,t),j(e,[{key:"updateBrightness",value:function(t){var e=this.props,n=e.actions,r=e.mapId,i=e.obliqueId,o=e.panoramaId,a=e.contrast,s=e.opacity,l={viewerSettings:{opacity:s,brightness:t,contrast:a}};void 0!==r?n.updateMapViewerParams(r,l):void 0!==i?n.updateObliqueViewerParams(i,l):n.updatePanoramaViewerParams(o,l),this._logSetBrightness(t)}},{key:"updateContrast",value:function(t){var e=this.props,n=e.actions,r=e.mapId,i=e.obliqueId,o=e.panoramaId,a=e.brightness,s=e.opacity,l={viewerSettings:{opacity:s,brightness:a,contrast:t}};void 0!==r?n.updateMapViewerParams(r,l):void 0!==i?n.updateObliqueViewerParams(i,l):n.updatePanoramaViewerParams(o,l),this._logSetContrast(t)}},{key:"updateOpacity",value:function(t){var e=this.props,n=e.actions,r=e.mapId,i=e.brightness,o=e.contrast,a=1-t;n.updateMapViewerParams(r,{viewerSettings:{opacity:a,brightness:i,contrast:o}}),this._setOpacity(a),this._logSetOpacity(a)}},{key:"resetSliders",value:function(){var t=this.props,e=t.actions,n=t.mapId,r=t.obliqueId,i=t.panoramaId,o={viewerSettings:{opacity:1,brightness:100,contrast:100}};void 0!==n?e.updateMapViewerParams(n,o):void 0!==r?e.updateObliqueViewerParams(r,o):e.updatePanoramaViewerParams(i,o),this._setOpacity(1),this._logSetBrightness(100),this._logSetContrast(100),this._logSetOpacity(1)}},{key:"render",value:function(){var t=this.context.intl.formatMessage;return w.a.createElement(x.Panel,{header:t(U.title),className:this.props.className},w.a.createElement(x.Row,{className:"fix-bootstrap-row"},!document.documentMode&&w.a.createElement(O.a,{label:t(D.a.brightness),ref:"brightness",labelColumnSize:3,onSlide:this.updateBrightness,value:this.props.brightness,min:0,max:400,step:10,formatter:function(t){return t+"%"},ticks:e.brightnessSliderTicks,ticks_labels:e.brightnessSliderTicksLabels}),!document.documentMode&&w.a.createElement(O.a,{label:t(D.a.contrast),ref:"contrast",labelColumnSize:3,onSlide:this.updateContrast,value:this.props.contrast,min:0,max:400,step:10,formatter:function(t){return t+"%"},ticks:e.contrastSliderTicks,ticks_labels:e.contrastSliderTicksLabels}),this.props.showTransparency&&w.a.createElement(O.a,{label:t(D.a.transparency),ref:"opacity",labelColumnSize:3,onSlide:this.updateOpacity,value:1-this.props.opacity,min:0,max:1,step:.05,formatter:function(t){return Math.floor(100*t)+"%"},ticks:e.opacitySliderTicks,ticks_labels:e.opacitySliderTicksLabels}),w.a.createElement(C.a,F({placement:"top"},k.a.reset),w.a.createElement(x.Button,{className:"btn btn-secondary btn-secondary-right",onClick:this.resetSliders},w.a.createElement(A.b.Undo,null)))))}}]),e}(T.a);z.propTypes={showTransparency:b.a.bool.isRequired},z.brightnessSliderTicks=[0,100,200,300,400],z.brightnessSliderTicksLabels=["0%","100%","200%","300%","400%"],z.contrastSliderTicks=[0,100,200,300,400],z.contrastSliderTicksLabels=["0%","100%","200%","300%","400%"],z.opacitySliderTicks=[0,.25,.5,.75,1],z.opacitySliderTicksLabels=["0%","25%","50%","75%","100%"];var B=function(t,e){var n=t.mapviewers,r=t.obliqueviewer,i=t.panoramaviewer,o=e.mapId,a=e.obliqueId,s=e.panoramaId,l=void 0;void 0!==o&&(l=n.byId[o]),void 0!==a&&(l=r.byId[a]),void 0!==s&&(l=i.byId[s]);var u=l,c=u.viewerSettings;return F({},c)},V=function(t){return{actions:Object(S.bindActionCreators)(F({},I.default,R.b,P.default,L.default,{logSetValue:N.logSetValue}),t)}};e.a=Object(M.connect)(B,V)(z)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return p});var i=n(50),o=n.n(i),a=n(87),s=n.n(a),l=n(1),u=n.n(l),c=n(71),f=n(351),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),u()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=function(){function t(e){r(this,t),this.key=e,this.geoJSONObjects=new s.a}return h(t,[{key:"addLayer",value:function(t,e){if(this.geoJSONObjects.has(t))throw Error(Object(c.b)(f.a.duplicateKey,{key:t}));this.geoJSONObjects.set(t,e)}},{key:"removeLayer",value:function(t){this.removeLayerByKey(t.key)}},{key:"removeLayerByKey",value:function(t){if(!this.geoJSONObjects.has(t))throw Error(f.a.unknownKey,{key:t});this.geoJSONObjects.delete(t)}},{key:"clearLayers",value:function(){this.geoJSONObjects.clear()}},{key:"hasLayer",value:function(t){return this.geoJSONObjects.has(t.key)}},{key:"hasLayerByKey",value:function(t){return this.geoJSONObjects.has(t)}},{key:"get",value:function(t){return this.geoJSONObjects.get(t)}},{key:o.a,value:function(){return this.geoJSONObjects.entries()}}]),t}(),p=new d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"UPDATE",function(){return i}),n.d(e,"updateElevation",function(){return o}),n.d(e,"ActionTypes",function(){return a});var r=n(16),i=(n.n(r),"@@elevationActions/UPDATE"),o=function(t){return function(e){e(Object(r.createAction)(i,function(){return t})())}},a={UPDATE:i};e.default={updateElevation:o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ADD_MEASUREMENT_ATTRIBUTE",function(){return u}),n.d(e,"REMOVE_MEASUREMENT_ATTRIBUTE",function(){return c}),n.d(e,"RENAME_MEASUREMENT_ATTRIBUTE",function(){return f}),n.d(e,"MEASUREMENT_ATTRIBUTE_NAMES",function(){return h}),n.d(e,"MEASUREMENT_ATTRIBUTE_GROUP",function(){return d}),n.d(e,"readMeasurementAttributesUserProfile",function(){return m}),n.d(e,"addMeasurementAttribute",function(){return g}),n.d(e,"removeMeasurementAttribute",function(){return v}),n.d(e,"renameMeasurementAttribute",function(){return y}),n.d(e,"ActionTypes",function(){return b});var r=n(76),i=n.n(r),o=n(16),a=(n.n(o),n(102)),s=n.n(a),l=n(27),u="@@measurementAttribute/ADD_MEASUREMENT_ATTRIBUTE",c="@@measurementAttribute/REMOVE_MEASUREMENT_ATTRIBUTE",f="@@measurementAttribute/RENAME_MEASUREMENT_ATTRIBUTE",h="names",d="measurementAttribute",p=function(){return function(t,e){var n=e().measurementattribute.attributes;t(l.default.setProfileConfig(h,i()(n),d))}},m=function(){return function(t,e){var n=e().config.configId;t(l.default.loadUserProfile(n,d,h))}},g=function(t){return function(e){var n=s()();return e(Object(o.createAction)(u)({uid:n,name:t})),e(p()),n}},v=function(t){return function(e){e(Object(o.createAction)(c)({uid:t})),e(p())}},y=function(t,e){return function(n){n(Object(o.createAction)(f)({uid:t,name:e})),n(p())}},b={ADD_MEASUREMENT_ATTRIBUTE:u,REMOVE_MEASUREMENT_ATTRIBUTE:c,RENAME_MEASUREMENT_ATTRIBUTE:f};e.default={readMeasurementAttributesUserProfile:m,addMeasurementAttribute:g,removeMeasurementAttribute:v,renameMeasurementAttribute:y}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"UPDATE_REPORT_BLURRING",function(){return i}),n.d(e,"updateReportBlurring",function(){return o}),n.d(e,"ActionTypes",function(){return a});var r=n(16),i=(n.n(r),"@@measurements/UPDATE_REPORT_BLURRING"),o=Object(r.createAction)(i,function(t){return t});e.default={updateReportBlurring:o};var a={UPDATE_REPORT_BLURRING:i}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return c()(t)}function i(t){return function(){var e=t.apply(this,arguments);return new l.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return l.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"LOAD_SRS_LIST",function(){return y}),n.d(e,"USER_SRS",function(){return b}),n.d(e,"loadSrsList",function(){return _}),n.d(e,"setUserSrs",function(){return w}),n.d(e,"ActionTypes",function(){return x});var o=n(21),a=n.n(o),s=n(19),l=n.n(s),u=n(30),c=n.n(u),f=n(69),h=n.n(f),d=n(16),p=(n.n(d),n(143)),m=n(1409),g=n(27),v=this,y="@@srs/LOAD_SRS_LIST",b="@@srs/USER_SRS",_=Object(d.createAction)(y,function(){var t=i(a.a.mark(function t(e){var n,i,o,s,l,u,c,f,d,g=e.url;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Request(g,{method:"GET",mode:"cors"}),t.next=3,fetch(n);case 3:if(i=t.sent,i.ok){t.next=6;break}throw new Error("Loading spatial references file failed with status code "+i.status+". Message: "+i.statusText);case 6:return t.next=8,Object(p.a)(i,"json");case 8:if(!((o=t.sent)instanceof Error)){t.next=11;break}throw new Error("parsing xml response of srs failed.");case 11:return s=new m.a,l=s.parseSRS(o),u=h.a.defs,c=h.a.Proj.projections,f=c.get("tmerc"),d=c.get("sterea"),f.names=[].concat(r(f.names),["Gauss_Kruger","Gauss Kruger"]),d.names=[].concat(r(d.names),["Double_Stereographic"]),c.add(f),c.add(d),l.srs.forEach(function(t){var e=t.SRSName,n=t.Proj4,r=void 0===n?void 0:n;r&&!r.includes("+units=")&&r.includes("+to_meter=0.3048")&&(r+=" +units=ft"),u(e,r);var i=e.split(":")[1];u("http://www.opengis.net/gml/srs/epsg.xml#"+i,u(e)),u("urn:x-ogc:def:crs:"+e,u(e))}),t.abrupt("return",l);case 22:case"end":return t.stop()}},t,v)}));return function(e){return t.apply(this,arguments)}}()),w=function(t){return function(e){e(Object(d.createAction)(b,function(){return{userSrs:t}})()),e(g.default.setProfileConfig(g.UserProfileConfigKeys.USER_SRS,t))}},x={LOAD_SRS_LIST:y,USER_SRS:b};e.default={loadSrsList:_,setUserSrs:w}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ActionTypes",function(){return i});var r=n(612);n.n(r);n.o(r,"push")&&n.d(e,"push",function(){return r.push}),n.o(r,"replace")&&n.d(e,"replace",function(){return r.replace}),n.o(r,"go")&&n.d(e,"go",function(){return r.go}),n.o(r,"goBack")&&n.d(e,"goBack",function(){return r.goBack}),n.o(r,"goForward")&&n.d(e,"goForward",function(){return r.goForward});var i={LOCATION_CHANGE:r.LOCATION_CHANGE,CALL_HISTORY_METHOD:r.CALL_HISTORY_METHOD};e.default=r.routerActions},function(t,e,n){"use strict";function r(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=t.replace(e,function(t,e,n,r){return e+e+n+n+r+r}),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null}function i(){var t=document,e=t.body,n=t.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}function o(){var t=document,e=t.scrollingElement;return e||(["ie","firefox"].indexOf(u)>-1?document.documentElement:document.body)}function a(t){var e=t.type,n=void 0===e?"joyride":e,r=t.msg,i=t.warn,o=void 0!==i&&i,a=t.debug,s=void 0!==a&&a,l=o?console.warn||console.error:console.log;s&&(console.log("%c"+n,"color: #760bc5; font-weight: bold; font-size: 12px;"),r&&(Array.isArray(r)?l.apply(console,r):l.apply(console,[r])))}function s(t){return t.dataset&&t.dataset.reactid?(console.warn("Deprecation warning: React 15.0 removed reactid. Update your code."),'[data-reactid="'+t.dataset.reactid+'"]'):t.dataset&&(console.error("Unsupported error: React 15.0+ doesnâ€™t write reactid to the DOM anymore, please use a plain class in your step.",t),t.className)?"."+t.className.replace(" ","."):t}function l(t,e){var n=t.getBoundingClientRect();if(!e)return n;var r=e.getBoundingClientRect(),i=r.top>0?n.top-r.top:n.top,o=r.left>0?n.left-r.left:n.left;return{top:i,left:o,right:r.right>0?r.right-n.right:n.right,bottom:r.bottom>0?r.bottom-n.bottom:n.bottom,x:o,y:i,width:n.width,height:n.height}}e.__esModule=!0,e.hexToRGB=r,e.getDocHeight=i,e.getRootEl=o,e.logger=a,e.sanitizeSelector=s,e.getOffsetBoundingClientRect=l;var u=e.browser=function(){if("undefined"==typeof window)return"node";var t=Boolean(window.opera)||navigator.userAgent.indexOf(" OPR/")>=0,e="undefined"!=typeof InstallTrigger,n=!!window.chrome&&!!window.chrome.webstore,r=(Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||!n)&&!t&&void 0!==window.webkitAudioContext,i=Boolean(document.documentMode);return t?"opera":e?"firefox":n?"chrome":r?"safari":i?"ie":""}()},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(7),l=n.n(s),u=n(6),c=n.n(u),f=n(5),h=n.n(f),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(12),y=n.n(v),b=n(3),_=n.n(b),w=n(0),x=n.n(w),E=n(15),M=(n.n(E),n(31)),S=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),C=Object(E.defineMessages)({emptyDate:{id:"Timestamp.emptyDate",description:"Value to use when no date is available",defaultMessage:"??/??/????"},emptyTime:{id:"Timestamp.emptyTime",description:"Value to use when no time is available",defaultMessage:"??:??"}}),O={clickable:{cursor:"pointer"}},A=function(t){function e(){return i(this,e),o(this,(e.__proto__||l()(e)).apply(this,arguments))}return a(e,t),T(e,[{key:"render",value:function(){var t=this.props,e=t.className,n=t.value,i=t.icon,o=t.showDate,a=t.showTime,s=t.onClick,l=r(t,["className","value","icon","showDate","showTime","onClick"]),u=[o&&(n?x.a.createElement(E.FormattedDate,{key:"date",value:n}):x.a.createElement(E.FormattedMessage,S({key:"date"},C.emptyDate))),o&&a&&" ",a&&(n?x.a.createElement(E.FormattedTime,{key:"time",value:n}):x.a.createElement(E.FormattedMessage,S({key:"time"},C.emptyTime)))],c=s?O.clickable:void 0;return x.a.createElement("div",S({className:y()("timestamp",e),style:c,onClick:s},l),i,x.a.createElement("span",{className:"value"},u))}}]),e}(M.a);A.propTypes={className:_.a.string,value:_.a.instanceOf(Date),icon:_.a.node,showDate:_.a.bool,showTime:_.a.bool,onClick:_.a.func},A.defaultProps={showDate:!0,showTime:!1},e.a=A},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"RECORDING_CLICK",function(){return r}),n.d(e,"IMAGE_CHANGE",function(){return i}),n.d(e,"VIEW_CHANGE",function(){return o}),n.d(e,"VIEW_LOAD_START",function(){return a}),n.d(e,"VIEW_LOAD_END",function(){return s}),n.d(e,"TILE_LOAD_ERROR",function(){return l}),n.d(e,"TIME_TRAVEL_CHANGE",function(){return u}),n.d(e,"SURFACE_CURSOR_CHANGE",function(){return c});var r="RECORDING_CLICK",i="IMAGE_CHANGE",o="VIEW_CHANGE",a="VIEW_LOAD_START",s="VIEW_LOAD_END",l="TILE_LOAD_ERROR",u="TIME_TRAVEL_CHANGE",c="SURFACE_CURSOR_CHANGE"},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r(this,t),this.detail=n,this.type=e};e.a=i},function(t,e,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(t,e){for(var n,i,o,a,s,l,u,c="",f=0;f<t.length;)n=t.charCodeAt(f++),i=t.charCodeAt(f++),o=t.charCodeAt(f++),a=n>>2,s=(3&n)<<4|i>>4,l=(15&i)<<2|o>>6,u=63&o,isNaN(i)?l=u=64:isNaN(o)&&(u=64),c=c+r.charAt(a)+r.charAt(s)+r.charAt(l)+r.charAt(u);return c},e.decode=function(t,e){var n,i,o,a,s,l,u,c="",f=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");f<t.length;)a=r.indexOf(t.charAt(f++)),s=r.indexOf(t.charAt(f++)),l=r.indexOf(t.charAt(f++)),u=r.indexOf(t.charAt(f++)),n=a<<2|s>>4,i=(15&s)<<4|l>>2,o=(3&l)<<6|u,c+=String.fromCharCode(n),64!=l&&(c+=String.fromCharCode(i)),64!=u&&(c+=String.fromCharCode(o));return c}},function(t,e,n){"use strict";var r=n(181),i=n(93),o=n(1485),a=n(640),s=n(641),l=n(394),u=n(396),c=n(642),f=n(398),h=n(643),d=n(1486),p=n(1487),m=function(t){if(t._data instanceof c&&(t._data=t._data.getContent(),t.options.binary=!0,t.options.base64=!1,"uint8array"===i.getTypeOf(t._data))){var e=t._data;t._data=new Uint8Array(e.length),0!==e.length&&t._data.set(e,0)}return t._data},g=function(t){var e=m(t);return"string"===i.getTypeOf(e)?!t.options.binary&&r.nodebuffer?f(e,"utf-8"):t.asBinary():e},v=function(t){var e=m(this);return null===e||void 0===e?"":(this.options.base64&&(e=l.decode(e)),e=t&&this.options.binary?A.utf8decode(e):i.transformTo("string",e),t||this.options.binary||(e=i.transformTo("string",A.utf8encode(e))),e)},y=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this.options=n,this._initialMetadata={dir:n.dir,date:n.date}};y.prototype={asText:function(){return v.call(this,!0)},asBinary:function(){return v.call(this,!1)},asNodeBuffer:function(){var t=g(this);return i.transformTo("nodebuffer",t)},asUint8Array:function(){var t=g(this);return i.transformTo("uint8array",t)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var b=function(t,e){var n,r="";for(n=0;n<e;n++)r+=String.fromCharCode(255&t),t>>>=8;return r},_=function(t){return t=t||{},!0!==t.base64||null!==t.binary&&void 0!==t.binary||(t.binary=!0),t=i.extend(t,s),t.date=t.date||new Date,null!==t.compression&&(t.compression=t.compression.toUpperCase()),t},w=function(t,e,n){var r,o=i.getTypeOf(e);if(n=_(n),"string"==typeof n.unixPermissions&&(n.unixPermissions=parseInt(n.unixPermissions,8)),n.unixPermissions&&16384&n.unixPermissions&&(n.dir=!0),n.dosPermissions&&16&n.dosPermissions&&(n.dir=!0),n.dir&&(t=E(t)),n.createFolders&&(r=x(t))&&M.call(this,r,!0),n.dir||null===e||void 0===e)n.base64=!1,n.binary=!1,e=null,o=null;else if("string"===o)n.binary&&!n.base64&&!0!==n.optimizedBinaryString&&(e=i.string2binary(e));else{if(n.base64=!1,n.binary=!0,!(o||e instanceof c))throw new Error("The data of '"+t+"' is in an unsupported format !");"arraybuffer"===o&&(e=i.transformTo("uint8array",e))}var a=new y(t,e,n);return this.files[t]=a,a},x=function(t){"/"==t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},E=function(t){return"/"!=t.slice(-1)&&(t+="/"),t},M=function(t,e){return e=void 0!==e&&e,t=E(t),this.files[t]||w.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},S=function(t,e,n){var r,a=new c;return t._data instanceof c?(a.uncompressedSize=t._data.uncompressedSize,a.crc32=t._data.crc32,0===a.uncompressedSize||t.dir?(e=u.STORE,a.compressedContent="",a.crc32=0):t._data.compressionMethod===e.magic?a.compressedContent=t._data.getCompressedContent():(r=t._data.getContent(),a.compressedContent=e.compress(i.transformTo(e.compressInputType,r),n))):(r=g(t),r&&0!==r.length&&!t.dir||(e=u.STORE,r=""),a.uncompressedSize=r.length,a.crc32=o(r),a.compressedContent=e.compress(i.transformTo(e.compressInputType,r),n)),a.compressedSize=a.compressedContent.length,a.compressionMethod=e.magic,a},T=function(t,e){var n=t;return t||(n=e?16893:33204),(65535&n)<<16},C=function(t,e){return 63&(t||0)},O=function(t,e,n,r,s,l){var u,c,f,d,p=(n.compressedContent,l!==h.utf8encode),m=i.transformTo("string",l(e.name)),g=i.transformTo("string",h.utf8encode(e.name)),v=e.comment||"",y=i.transformTo("string",l(v)),_=i.transformTo("string",h.utf8encode(v)),w=g.length!==e.name.length,x=_.length!==v.length,E=e.options,M="",S="",O="";f=e._initialMetadata.dir!==e.dir?e.dir:E.dir,d=e._initialMetadata.date!==e.date?e.date:E.date;var A=0,I=0;f&&(A|=16),"UNIX"===s?(I=798,A|=T(e.unixPermissions,f)):(I=20,A|=C(e.dosPermissions)),u=d.getHours(),u<<=6,u|=d.getMinutes(),u<<=5,u|=d.getSeconds()/2,c=d.getFullYear()-1980,c<<=4,c|=d.getMonth()+1,c<<=5,c|=d.getDate(),w&&(S=b(1,1)+b(o(m),4)+g,M+="up"+b(S.length,2)+S),x&&(O=b(1,1)+b(this.crc32(y),4)+_,M+="uc"+b(O.length,2)+O);var R="";return R+="\n\0",R+=p||!w&&!x?"\0\0":"\0\b",R+=n.compressionMethod,R+=b(u,2),R+=b(c,2),R+=b(n.crc32,4),R+=b(n.compressedSize,4),R+=b(n.uncompressedSize,4),R+=b(m.length,2),R+=b(M.length,2),{fileRecord:a.LOCAL_FILE_HEADER+R+m+M,dirRecord:a.CENTRAL_FILE_HEADER+b(I,2)+R+b(y.length,2)+"\0\0\0\0"+b(A,4)+b(r,4)+m+M+y,compressedObject:n}},A={load:function(t,e){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(t){var e,n,r,o,a=[];for(e in this.files)this.files.hasOwnProperty(e)&&(r=this.files[e],o=new y(r.name,r._data,i.extend(r.options)),n=e.slice(this.root.length,e.length),e.slice(0,this.root.length)===this.root&&t(n,o)&&a.push(o));return a},file:function(t,e,n){if(1===arguments.length){if(i.isRegExp(t)){var r=t;return this.filter(function(t,e){return!e.dir&&r.test(t)})}return this.filter(function(e,n){return!n.dir&&e===t})[0]||null}return t=this.root+t,w.call(this,t,e,n),this},folder:function(t){if(!t)return this;if(i.isRegExp(t))return this.filter(function(e,n){return n.dir&&t.test(e)});var e=this.root+t,n=M.call(this,e),r=this.clone();return r.root=n.name,r},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!=t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter(function(e,n){return n.name.slice(0,t.length)===t}),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(t){t=i.extend(t||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode}),i.checkSupport(t.type),"darwin"!==t.platform&&"freebsd"!==t.platform&&"linux"!==t.platform&&"sunos"!==t.platform||(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var e,n,r=[],o=0,s=0,c=i.transformTo("string",t.encodeFileName(t.comment||this.comment||""));for(var f in this.files)if(this.files.hasOwnProperty(f)){var m=this.files[f],g=m.options.compression||t.compression.toUpperCase(),v=u[g];if(!v)throw new Error(g+" is not a valid compression method !");var y=m.options.compressionOptions||t.compressionOptions||{},_=S.call(this,m,v,y),w=O.call(this,f,m,_,o,t.platform,t.encodeFileName);o+=w.fileRecord.length+_.compressedSize,s+=w.dirRecord.length,r.push(w)}var x="";x=a.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(r.length,2)+b(r.length,2)+b(s,4)+b(o,4)+b(c.length,2)+c;var E=t.type.toLowerCase();for(e="uint8array"===E||"arraybuffer"===E||"blob"===E||"nodebuffer"===E?new p(o+s+x.length):new d(o+s+x.length),n=0;n<r.length;n++)e.append(r[n].fileRecord),e.append(r[n].compressedObject.compressedContent);for(n=0;n<r.length;n++)e.append(r[n].dirRecord);e.append(x);var M=e.finalize();switch(t.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return i.transformTo(t.type.toLowerCase(),M);case"blob":return i.arrayBuffer2Blob(i.transformTo("arraybuffer",M),t.mimeType);case"base64":return t.base64?l.encode(M):M;default:return M}},crc32:function(t,e){return o(t,e)},utf8encode:function(t){return i.transformTo("string",h.utf8encode(t))},utf8decode:function(t){return h.utf8decode(t)}};t.exports=A},function(t,e,n){"use strict";e.STORE={magic:"\0\0",compress:function(t,e){return t},uncompress:function(t){return t},compressInputType:null,uncompressInputType:null},e.DEFLATE=n(1475)},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";(function(e){t.exports=function(t,n){return new e(t,n)},t.exports.test=function(t){return e.isBuffer(t)}}).call(e,n(144).Buffer)},function(t,e,n){"use strict";(function(t){function e(t,e,n){t[e]||Object[r](t,e,{writable:!0,configurable:!0,value:n})}if(n(650),n(847),n(848),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var r="defineProperty";e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(e,n(37))},function(t,e,n){t.exports=!n(42)&&!n(29)(function(){return 7!=Object.defineProperty(n(281)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){e.f=n(38)},function(t,e,n){var r=n(65),i=n(72),o=n(222)(!1),a=n(283)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),l=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;e.length>l;)r(s,n=e[l++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){var r=n(43),i=n(22),o=n(131);t.exports=n(42)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,l=0;s>l;)r.f(t,n=a[l++],e[n]);return t}},function(t,e,n){var r=n(72),i=n(134).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},function(t,e,n){"use strict";var r=n(131),i=n(223),o=n(183),a=n(47),s=n(182),l=Object.assign;t.exports=!l||n(29)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=r})?function(t,e){for(var n=a(t),l=arguments.length,u=1,c=i.f,f=o.f;l>u;)for(var h,d=s(arguments[u++]),p=c?r(d).concat(c(d)):r(d),m=p.length,g=0;m>g;)f.call(d,h=p[g++])&&(n[h]=d[h]);return n}:l},function(t,e,n){"use strict";var r=n(57),i=n(32),o=n(407),a=[].slice,s={},l=function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?l(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(25).parseInt,i=n(155).trim,o=n(287),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},function(t,e,n){var r=n(25).parseFloat,i=n(155).trim;t.exports=1/r(n(287)+"-0")!=-1/0?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){var r=n(83);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){var r=n(32),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var r=n(290),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),l=i(2,-126),u=function(t){return t+1/o-1/o};t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),c=r(t);return i<l?c*u(i/l/a)*l*a:(e=(1+a/o)*i,n=e-(e-i),n>s||n!=n?c*(1/0):c*n)}},function(t,e,n){var r=n(22);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(57),i=n(47),o=n(182),a=n(44);t.exports=function(t,e,n,s,l){r(e);var u=i(t),c=o(u),f=a(u.length),h=l?f-1:0,d=l?-1:1;if(n<2)for(;;){if(h in c){s=c[h],h+=d;break}if(h+=d,l?h<0:f<=h)throw TypeError("Reduce of empty array with no initial value")}for(;l?h>=0:f>h;h+=d)h in c&&(s=e(s,c[h],h,u));return s}},function(t,e,n){"use strict";var r=n(47),i=n(132),o=n(44);t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n.length),s=i(t,a),l=i(e,a),u=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===u?a:i(u,a))-l,a-s),f=1;for(l<s&&s<l+c&&(f=-1,l+=c-1,s+=c-1);c-- >0;)l in n?n[s]=n[l]:delete n[s],s+=f,l+=f;return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){n(42)&&"g"!=/./g.flags&&n(43).f(RegExp.prototype,"flags",{configurable:!0,get:n(227)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(22),i=n(32),o=n(305);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(422),i=n(157);t.exports=n(230)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(i(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(43).f,i=n(133),o=n(138),a=n(82),s=n(136),l=n(137),u=n(293),c=n(417),f=n(135),h=n(42),d=n(114).fastKey,p=n(157),m=h?"_s":"size",g=function(t,e){var n,r=d(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,u){var c=t(function(t,r){s(t,c,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=r&&l(r,n,t[u],t)});return o(c.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var n=p(this,e),r=g(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(t){p(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!g(p(this,e),t)}}),h&&r(c.prototype,"size",{get:function(){return p(this,e)[m]}}),c},def:function(t,e,n){var r,i,o=g(t,e);return o?o.v=n:(t._l=o={i:i=d(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[m]++,"F"!==i&&(t._i[i]=o)),t},getEntry:g,setStrong:function(t,e,n){u(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?c(0,n.k):"values"==e?c(0,n.v):c(0,[n.k,n.v]):(t._t=void 0,c(1))},n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){"use strict";var r=n(422),i=n(157);t.exports=n(230)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r,i=n(99)(0),o=n(67),a=n(114),s=n(405),l=n(425),u=n(32),c=n(29),f=n(157),h=a.getWeak,d=Object.isExtensible,p=l.ufstore,m={},g=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(t){if(u(t)){var e=h(t);return!0===e?p(f(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(f(this,"WeakMap"),t,e)}},y=t.exports=n(230)("WeakMap",g,v,l,!0,!0);c(function(){return 7!=(new y).set((Object.freeze||Object)(m),7).get(m)})&&(r=l.getConstructor(g,"WeakMap"),s(r.prototype,v),a.NEED=!0,i(["delete","has","get","set"],function(t){var e=y.prototype,n=e[t];o(e,t,function(e,i){if(u(e)&&!d(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)})}))},function(t,e,n){"use strict";var r=n(138),i=n(114).getWeak,o=n(22),a=n(32),s=n(136),l=n(137),u=n(99),c=n(65),f=n(157),h=u(5),d=u(6),p=0,m=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},v=function(t,e){return h(t.a,function(t){return t[0]===e})};g.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var n=v(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=d(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var u=t(function(t,r){s(t,u,e,"_i"),t._t=e,t._i=p++,t._l=void 0,void 0!=r&&l(r,n,t[o],t)});return r(u.prototype,{delete:function(t){if(!a(t))return!1;var n=i(t);return!0===n?m(f(this,e)).delete(t):n&&c(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=i(t);return!0===n?m(f(this,e)).has(t):n&&c(n,this._i)}}),u},def:function(t,e,n){var r=i(o(e),!0);return!0===r?m(t).set(e,n):r[t._i]=n,t},ufstore:m}},function(t,e,n){var r=n(97),i=n(44);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(134),i=n(223),o=n(22),a=n(25).Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){"use strict";function r(t,e,n,u,c,f,h,d){for(var p,m,g=c,v=0,y=!!h&&s(h,d,3);v<u;){if(v in n){if(p=y?y(n[v],v,e):n[v],m=!1,o(p)&&(m=p[l],m=void 0!==m?!!m:i(p)),m&&f>0)g=r(t,e,p,a(p.length),g,f-1)-1;else{if(g>=9007199254740991)throw TypeError();t[g]=p}g++}v++}return g}var i=n(224),o=n(32),a=n(44),s=n(82),l=n(38)("isConcatSpreadable");t.exports=r},function(t,e,n){var r=n(44),i=n(289),o=n(96);t.exports=function(t,e,n,a){var s=String(o(t)),l=s.length,u=void 0===n?" ":String(n),c=r(e);if(c<=l||""==u)return s;var f=c-l,h=i.call(u,Math.ceil(f/u.length));return h.length>f&&(h=h.slice(0,f)),a?h+s:s+h}},function(t,e,n){var r=n(131),i=n(72),o=n(183).f;t.exports=function(t){return function(e){for(var n,a=i(e),s=r(a),l=s.length,u=0,c=[];l>u;)o.call(a,n=s[u++])&&c.push(t?[n,a[n]]:a[n]);return c}}},function(t,e,n){var r=n(184),i=n(432);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){var r=n(137);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e){t.exports=Math.scale||function(t,e,n,r,i){return 0===arguments.length||t!=t||e!=e||n!=n||r!=r||i!=i?NaN:t===1/0||t===-1/0?t:(t-e)*(i-r)/(n-e)+r}},function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return v.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function l(t){var e=new FileReader,n=a(e);return e.readAsText(t),n}function u(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function c(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(v.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(v.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(v.arrayBuffer&&v.blob&&b(t))this._bodyArrayBuffer=c(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!_(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(t){var e=t.toUpperCase();return w.indexOf(e)>-1?e:t}function d(t,e){e=e||{};var n=e.body;if(t instanceof d){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=h(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function m(t){var e=new i;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}function g(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var v={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(v.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(t){return t&&DataView.prototype.isPrototypeOf(t)},_=ArrayBuffer.isView||function(t){return t&&y.indexOf(Object.prototype.toString.call(t))>-1};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];this.map[t]=i?i+","+r:r},i.prototype.delete=function(t){delete this.map[e(t)]},i.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=n(r)},i.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},f.call(d.prototype),f.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},g.error=function(){var t=new g(null,{status:0,statusText:""});return t.type="error",t};var x=[301,302,303,307,308];g.redirect=function(t,e){if(-1===x.indexOf(e))throw new RangeError("Invalid status code");return new g(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=d,t.Response=g,t.fetch=function(t,e){return new Promise(function(n,r){var i=new d(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:m(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new g(e,t))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&v.blob&&(o.responseType="blob"),i.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send(void 0===i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(t,e,n){var r=n(108),i={};i.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},i.fromValues=function(t,e,n,i){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=i,o},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},i.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+o*o)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+i*i+o*o},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},i.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t},i.random=function(t,e){return e=e||1,t[0]=r.RANDOM(),t[1]=r.RANDOM(),t[2]=r.RANDOM(),t[3]=r.RANDOM(),i.normalize(t,t),i.scale(t,t,e),t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t},i.transformQuat=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],l=n[2],u=n[3],c=u*r+s*o-l*i,f=u*i+l*r-a*o,h=u*o+a*i-s*r,d=-a*r-s*i-l*o;return t[0]=c*u+d*-a+f*-l-h*-s,t[1]=f*u+d*-s+h*-a-c*-l,t[2]=h*u+d*-l+c*-s-f*-a,t[3]=e[3],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,o,a){var s,l;for(n||(n=4),r||(r=0),l=i?Math.min(i*n+r,e.length):e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}(),i.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=e[0],l=e[1],u=e[2],c=e[3];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-l)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-u)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))},t.exports=i},function(t,e,n){function r(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?r[t]=o(arguments[1]):r[t]=a(arguments[1]):r[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?r.apply(e,t):r(t)});if("string"==typeof t){if(t in r)return r[t]}else"EPSG"in t?r["EPSG:"+t.EPSG]=t:"ESRI"in t?r["ESRI:"+t.ESRI]=t:"IAU2000"in t?r["IAU2000:"+t.IAU2000]=t:console.log(t);return}}var i=n(863),o=n(437),a=n(438);i(r),t.exports=r},function(t,e,n){var r=.017453292519943295,i=n(864),o=n(865);t.exports=function(t){var e={},n={};t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).forEach(function(t){var e=t.split("=");e.push(!0),n[e[0].toLowerCase()]=e[1]});var a,s,l,u={proj:"projName",datum:"datumCode",rf:function(t){e.rf=parseFloat(t)},lat_0:function(t){e.lat0=t*r},lat_1:function(t){e.lat1=t*r},lat_2:function(t){e.lat2=t*r},lat_ts:function(t){e.lat_ts=t*r},lon_0:function(t){e.long0=t*r},lon_1:function(t){e.long1=t*r},lon_2:function(t){e.long2=t*r},alpha:function(t){e.alpha=parseFloat(t)*r},lonc:function(t){e.longc=t*r},x_0:function(t){e.x0=parseFloat(t)},y_0:function(t){e.y0=parseFloat(t)},k_0:function(t){e.k0=parseFloat(t)},k:function(t){e.k0=parseFloat(t)},a:function(t){e.a=parseFloat(t)},b:function(t){e.b=parseFloat(t)},r_a:function(){e.R_A=!0},zone:function(t){e.zone=parseInt(t,10)},south:function(){e.utmSouth=!0},towgs84:function(t){e.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){e.to_meter=parseFloat(t)},units:function(t){e.units=t,o[t]&&(e.to_meter=o[t].to_meter)},from_greenwich:function(t){e.from_greenwich=t*r},pm:function(t){e.from_greenwich=(i[t]?i[t]:parseFloat(t))*r},nadgrids:function(t){"@null"===t?e.datumCode="none":e.nadgrids=t},axis:function(t){var n="ewnsud";3===t.length&&-1!==n.indexOf(t.substr(0,1))&&-1!==n.indexOf(t.substr(1,1))&&-1!==n.indexOf(t.substr(2,1))&&(e.axis=t)}};for(a in n)s=n[a],a in u?(l=u[a],"function"==typeof l?l(s):e[l]=s):e[a]=s;return"string"==typeof e.datumCode&&"WGS84"!==e.datumCode&&(e.datumCode=e.datumCode.toLowerCase()),e}},function(t,e,n){function r(t,e,n){t[e]=n.map(function(t){var e={};return i(t,e),e}).reduce(function(t,e){return u(t,e)},{})}function i(t,e){var n;if(!Array.isArray(t))return void(e[t]=!0);n=t.shift(),"PARAMETER"===n&&(n=t.shift()),1===t.length?Array.isArray(t[0])?(e[n]={},i(t[0],e[n])):e[n]=t[0]:t.length?"TOWGS84"===n?e[n]=t:(e[n]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(n)>-1?(e[n]={name:t[0].toLowerCase(),convert:t[1]},3===t.length&&(e[n].auth=t[2])):"SPHEROID"===n?(e[n]={name:t[0],a:t[1],rf:t[2]},4===t.length&&(e[n].auth=t[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(n)>-1?(t[0]=["name",t[0]],r(e,n,t)):t.every(function(t){return Array.isArray(t)})?r(e,n,t):i(t,e[n])):e[n]=!0}function o(t,e){var n=e[0],r=e[1];!(n in t)&&r in t&&(t[n]=t[r],3===e.length&&(t[n]=e[2](t[n])))}function a(t){return t*l}function s(t){function e(e){var n=t.to_meter||1;return parseFloat(e,10)*n}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=parseFloat(t.UNIT.convert,10)*t.DATUM.SPHEROID.a):t.to_meter=parseFloat(t.UNIT.convert,10))),t.GEOGCS&&(t.GEOGCS.DATUM?t.datumCode=t.GEOGCS.DATUM.name.toLowerCase():t.datumCode=t.GEOGCS.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),t.GEOGCS.DATUM&&t.GEOGCS.DATUM.SPHEROID&&(t.ellps=t.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=t.GEOGCS.DATUM.SPHEROID.a,t.rf=parseFloat(t.GEOGCS.DATUM.SPHEROID.rf,10)),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",a],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",a],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",a],["lat0","latitude_of_origin",a],["lat0","standard_parallel_1",a],["lat1","standard_parallel_1",a],["lat2","standard_parallel_2",a],["alpha","azimuth",a],["srsCode","name"]].forEach(function(e){return o(t,e)}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=a(t.lat1>0?90:-90),t.lat_ts=t.lat1)}var l=.017453292519943295,u=n(309);t.exports=function(t,e){var n=JSON.parse((","+t).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,"")),r=n.shift(),o=n.shift();n.unshift(["name",o]),n.unshift(["type",r]),n.unshift("output");var a={};return i(n,a),s(a.output),u(e,a.output)}},function(t,e,n){var r=.017453292519943295,i=57.29577951308232,o=n(873),a=n(874),s=n(308),l=n(440);t.exports=function t(e,n,u){function c(t,e){return(1===t.datum.datum_type||2===t.datum.datum_type)&&"WGS84"!==e.datumCode}var f;return Array.isArray(u)&&(u=l(u)),e.datum&&n.datum&&(c(e,n)||c(n,e))&&(f=new s("WGS84"),t(e,f,u),e=f),"enu"!==e.axis&&a(e,!1,u),"longlat"===e.projName?(u.x*=r,u.y*=r):(e.to_meter&&(u.x*=e.to_meter,u.y*=e.to_meter),e.inverse(u)),e.from_greenwich&&(u.x+=e.from_greenwich),u=o(e.datum,n.datum,u),n.from_greenwich&&(u.x-=n.from_greenwich),"longlat"===n.projName?(u.x*=i,u.y*=i):(n.forward(u),n.to_meter&&(u.x/=n.to_meter,u.y/=n.to_meter)),"enu"!==n.axis&&a(n,!0,u),u}},function(t,e){t.exports=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}},function(t,e){function n(t){return t*(Math.PI/180)}function r(t){return t/Math.PI*180}function i(t){var e,r,i,o,s,l,u,c,f,h=t.lat,d=t.lon,p=6378137,m=n(h),g=n(d);f=Math.floor((d+180)/6)+1,180===d&&(f=60),h>=56&&h<64&&d>=3&&d<12&&(f=32),h>=72&&h<84&&(d>=0&&d<9?f=31:d>=9&&d<21?f=33:d>=21&&d<33?f=35:d>=33&&d<42&&(f=37)),e=6*(f-1)-180+3,c=n(e),r=.006739496752268451,i=p/Math.sqrt(1-.00669438*Math.sin(m)*Math.sin(m)),o=Math.tan(m)*Math.tan(m),s=r*Math.cos(m)*Math.cos(m),l=Math.cos(m)*(g-c),u=p*(.9983242984503243*m-.002514607064228144*Math.sin(2*m)+2639046602129982e-21*Math.sin(4*m)-3.418046101696858e-9*Math.sin(6*m));var v=.9996*i*(l+(1-o+s)*l*l*l/6+(5-18*o+o*o+72*s-58*r)*l*l*l*l*l/120)+5e5,y=.9996*(u+i*Math.tan(m)*(l*l/2+(5-o+9*s+4*s*s)*l*l*l*l/24+(61-58*o+o*o+600*s-330*r)*l*l*l*l*l*l/720));return h<0&&(y+=1e7),{northing:Math.round(y),easting:Math.round(v),zoneNumber:f,zoneLetter:a(h)}}function o(t){var e=t.northing,n=t.easting,i=t.zoneLetter,a=t.zoneNumber;if(a<0||a>60)return null;var s,l,u,c,f,h,d,p,m,g,v=6378137,y=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),b=n-5e5,_=e;i<"N"&&(_-=1e7),p=6*(a-1)-180+3,s=.006739496752268451,d=_/.9996,m=d/6367449.145945056,g=m+(3*y/2-27*y*y*y/32)*Math.sin(2*m)+(21*y*y/16-55*y*y*y*y/32)*Math.sin(4*m)+151*y*y*y/96*Math.sin(6*m),l=v/Math.sqrt(1-.00669438*Math.sin(g)*Math.sin(g)),u=Math.tan(g)*Math.tan(g),c=s*Math.cos(g)*Math.cos(g),f=.99330562*v/Math.pow(1-.00669438*Math.sin(g)*Math.sin(g),1.5),h=b/(.9996*l);var w=g-l*Math.tan(g)/f*(h*h/2-(5+3*u+10*c-4*c*c-9*s)*h*h*h*h/24+(61+90*u+298*c+45*u*u-252*s-3*c*c)*h*h*h*h*h*h/720);w=r(w);var x=(h-(1+2*u+c)*h*h*h/6+(5-2*c+28*u-3*c*c+8*s+24*u*u)*h*h*h*h*h/120)/Math.cos(g);x=p+r(x);var E;if(t.accuracy){var M=o({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});E={top:M.lat,right:M.lon,bottom:w,left:x}}else E={lat:w,lon:x};return E}function a(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function s(t,e){var n="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+l(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+r.substr(r.length-5,e)}function l(t,e,n){var r=u(n);return c(Math.floor(t/1e5),Math.floor(e/1e5)%20,r)}function u(t){var e=t%m;return 0===e&&(e=m),e}function c(t,e,n){var r=n-1,i=g.charCodeAt(r),o=v.charCodeAt(r),a=i+t-1,s=o+e,l=!1;return a>x&&(a=a-x+y-1,l=!0),(a===b||i<b&&a>b||(a>b||i<b)&&l)&&a++,(a===_||i<_&&a>_||(a>_||i<_)&&l)&&++a===b&&a++,a>x&&(a=a-x+y-1),s>w?(s=s-w+y-1,l=!0):l=!1,(s===b||o<b&&s>b||(s>b||o<b)&&l)&&s++,(s===_||o<_&&s>_||(s>_||o<_)&&l)&&++s===b&&s++,s>w&&(s=s-w+y-1),String.fromCharCode(a)+String.fromCharCode(s)}function f(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,r=null,i="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;i+=e,o++}var a=parseInt(i,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(o++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+t;r=t.substring(o,o+=2);for(var l=u(a),c=h(r.charAt(0),l),f=d(r.charAt(1),l);f<p(s);)f+=2e6;var m=n-o;if(m%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var g,v,y,b,_,w=m/2,x=0,E=0;return w>0&&(g=1e5/Math.pow(10,w),v=t.substring(o,o+w),x=parseFloat(v)*g,y=t.substring(o+w),E=parseFloat(y)*g),b=x+c,_=E+f,{easting:b,northing:_,zoneLetter:s,zoneNumber:a,accuracy:g}}function h(t,e){for(var n=g.charCodeAt(e-1),r=1e5,i=!1;n!==t.charCodeAt(0);){if(n++,n===b&&n++,n===_&&n++,n>x){if(i)throw"Bad character: "+t;n=y,i=!0}r+=1e5}return r}function d(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=v.charCodeAt(e-1),r=0,i=!1;n!==t.charCodeAt(0);){if(n++,n===b&&n++,n===_&&n++,n>w){if(i)throw"Bad character: "+t;n=y,i=!0}r+=1e5}return r}function p(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}var m=6,g="AJSAJS",v="AFAFAF",y=65,b=73,_=79,w=86,x=90;e.forward=function(t,e){return e=e||5,s(i({lat:t[1],lon:t[0]}),e)},e.inverse=function(t){var e=o(f(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},e.toPoint=function(t){var e=o(f(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}},function(t,e,n){var r=n(186),i=n(187),o=n(188),a=n(189),s=n(190),l=n(45),u=Math.PI/2,c=n(185),f=n(159);e.init=function(){this.e0=r(this.es),this.e1=i(this.es),this.e2=o(this.es),this.e3=a(this.es),this.ml0=this.a*s(this.e0,this.e1,this.e2,this.e3,this.lat0)},e.forward=function(t){var e,n,r,i=t.x,o=t.y,a=l(i-this.long0),u=Math.sin(o),c=Math.cos(o);if(this.sphere){var f=c*Math.sin(a);if(Math.abs(Math.abs(f)-1)<1e-10)return 93;n=.5*this.a*this.k0*Math.log((1+f)/(1-f)),e=Math.acos(c*Math.cos(a)/Math.sqrt(1-f*f)),o<0&&(e=-e),r=this.a*this.k0*(e-this.lat0)}else{var h=c*a,d=Math.pow(h,2),p=this.ep2*Math.pow(c,2),m=Math.tan(o),g=Math.pow(m,2);e=1-this.es*Math.pow(u,2);var v=this.a/Math.sqrt(e),y=this.a*s(this.e0,this.e1,this.e2,this.e3,o);n=this.k0*v*h*(1+d/6*(1-g+p+d/20*(5-18*g+Math.pow(g,2)+72*p-58*this.ep2)))+this.x0,r=this.k0*(y-this.ml0+v*m*(d*(.5+d/24*(5-g+9*p+4*Math.pow(p,2)+d/30*(61-58*g+Math.pow(g,2)+600*p-330*this.ep2)))))+this.y0}return t.x=n,t.y=r,t},e.inverse=function(t){var e,n,r,i,o,a;if(this.sphere){var s=Math.exp(t.x/(this.a*this.k0)),h=.5*(s-1/s),d=this.lat0+t.y/(this.a*this.k0),p=Math.cos(d);e=Math.sqrt((1-p*p)/(1+h*h)),o=f(e),d<0&&(o=-o),a=0===h&&0===p?this.long0:l(Math.atan2(h,p)+this.long0)}else{var m=t.x-this.x0,g=t.y-this.y0;for(e=(this.ml0+g/this.k0)/this.a,n=e,i=0;!0&&(r=(e+this.e1*Math.sin(2*n)-this.e2*Math.sin(4*n)+this.e3*Math.sin(6*n))/this.e0-n,n+=r,!(Math.abs(r)<=1e-10));i++)if(i>=6)return 95;if(Math.abs(n)<u){var v=Math.sin(n),y=Math.cos(n),b=Math.tan(n),_=this.ep2*Math.pow(y,2),w=Math.pow(_,2),x=Math.pow(b,2),E=Math.pow(x,2);e=1-this.es*Math.pow(v,2);var M=this.a/Math.sqrt(e),S=M*(1-this.es)/e,T=m/(M*this.k0),C=Math.pow(T,2);o=n-M*b*C/S*(.5-C/24*(5+3*x+10*_-4*w-9*this.ep2-C/30*(61+90*x+298*_+45*E-252*this.ep2-3*w))),a=l(this.long0+T*(1-C/6*(1+2*x+_-C/20*(5-2*_+28*x-3*w+8*this.ep2+24*E)))/y)}else o=u*c(g),a=this.long0}return t.x=a,t.y=o,t},e.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},function(t,e){t.exports=function(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))}},function(t,e,n){t.exports=!n(86)&&!n(139)(function(){return 7!=Object.defineProperty(n(316)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=n(116)},function(t,e,n){var r=n(85),i=n(101),o=n(162);t.exports=n(86)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,l=0;s>l;)r.f(t,n=a[l++],e[n]);return t}},function(t,e,n){var r=n(140),i=n(117),o=n(908)(!1),a=n(319)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),l=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;e.length>l;)r(s,n=e[l++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){var r=n(58).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(140),i=n(163),o=n(319)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(194);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(447),i=n(321).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(162),i=n(117),o=n(197).f;t.exports=function(t){return function(e){for(var n,a=i(e),s=r(a),l=s.length,u=0,c=[];l>u;)o.call(a,n=s[u++])&&c.push(t?[n,a[n]]:a[n]);return c}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=function(t,e,n){return isFinite(e)&&t<e&&(t=e),isFinite(n)&&t>n&&(t=n),t},i=function(t,e,n){var r=n-e;return t-r*Math.floor((t-e)/r)}},function(t,e,n){var r=n(101);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(161),i=n(59)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(58),i=n(26),o=n(85),a=n(86),s=n(59)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];a&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(75);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){var r=n(59)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}t.exports=n},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n(37))},function(t,e,n){var r=n(960),i=n(167),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},function(t,e,n){(function(t){var r=n(119),i=n(961),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o,l=s?r.Buffer:void 0,u=l?l.isBuffer:void 0,c=u||i;t.exports=c}).call(e,n(120)(t))},function(t,e){function n(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||i.test(t))&&t>-1&&t%1==0&&t<e}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e,n){var r=n(962),i=n(963),o=n(964),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e,n){function r(t){if(!i(t))return o(t);var e=[];for(var n in Object(t))s.call(t,n)&&"constructor"!=n&&e.push(n);return e}var i=n(333),o=n(965),a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(141),s=n.n(a),l=n(331),u=n(334),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=function(){function t(e){var n=e.uriManager,i=e.authHeaders,o=e.maxConcurrent,a=void 0===o?60:o;r(this,t),this._cache={},s()(this,CM.Events.prototype),this._tileClient=new l.b({uriManager:n,authHeaders:i,maxConcurrent:a}),this._onTileLoadEnd=this._onTileLoadEnd.bind(this),this.onTileLoadError=this.onTileLoadError.bind(this),CM.El.addEvent(this._tileClient,l.a,this.onTileLoadError)}return c(t,[{key:"setUriManager",value:function(t){this._tileClient.setUriManager(t)}},{key:"loadFromId",value:function(t,e){var n=this._tileClient,r=new u.a(t,"A",0,0,0);n.add(r,e)}},{key:"getCacheFromId",value:function(t){var e=this._cache[t];return e&&e.loaded===e.max?e.thumbs:null}},{key:"_onTileLoadEnd",value:function(t,e){var n=this._cache[t.id];n&&(e?(n.loaded++,n.thumbs[t.face]=t):(n.failed++,n.loading[t.face]=!1))}},{key:"onTileLoadError",value:function(t){this.fireEvent(l.a,t)}},{key:"clearPending",value:function(){for(var t=this._tileClient,e=this._cache,n=t.getPending(),r=n.length;r-- >0;){var i=n[r],o=i.id;o in e&&(e[o].loading[i.face]=!1)}this._tileClient.clearPending()}},{key:"clearCache",value:function(){this.clearPending(),this._cache={}}}]),t}();e.a=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(17),o=n.n(i),a=n(1),s=n.n(a),l=n(4),u=n.n(l),c=n(141),f=n.n(c),h=n(969),d=n(331),p=n(334),m=n(469),g=n(970),v=n(971),y=n(246),b=n(972),_=u.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),s()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),x=function(){function t(e,n){r(this,t);var i=n.uriManager,o=n.depthMapUriManager,a=n.authHeaders,s=n.maxConcurrent,l=n.enableDepth,u=void 0===l||l;this.active=!1,this.depthEnabled=!1,f()(this,CM.Events.prototype),this.viewer=e,this.camera=e._camera,this.depthCubeLoaded=!1,this.depthCubeLoadingCount=0;var c=e.getTileSchema(),p=c.zoomResolutions,y=p.length,b=c.zoomTileDimensionalities;this.tileDimensionPerZoom=b;var w=c.maxZoomResolution;this.onTileLoadComplete=this.onTileLoadComplete.bind(this),this.onTileLoadError=this.onTileLoadError.bind(this),this.onDepthTileLoadComplete=this.onDepthTileLoadComplete.bind(this);var x={uriManager:i,authHeaders:a,maxConcurrent:s},E=new d.b(x);this.tileClient=E,CM.El.addEvent(E,CM.aperture.TILE_LOAD_ERROR,this.onTileLoadError);var M=new m.a(x);if(this._thumbClient=M,CM.El.addEvent(M,CM.aperture.TILE_LOAD_ERROR,this.onTileLoadError),void 0!==o){var S=_({},x,{uriManager:o}),T=new d.b(S);this.depthTileClient=T,CM.El.addEvent(T,CM.aperture.TILE_LOAD_ERROR,this.onTileLoadError),this.enableDepth(u)}for(var C=void 0,O=y-1;O>=0;--O){if(p[O]===w){C=O;break}if(p[O]<w){C=O<y-1?O+1:O;break}}this.maxZoom=C,y=C+1;var A=b[C];this.maxTileDimension=A;var I=new h.a(A);this.cube=I;var R=I.quadsPerEdge,P=R*R,L=2*Math.tan(.25*Math.PI),N=Math.atan(L/p[0]),k=[];this.zoomThresholds=k;for(var D=0;D<C;++D){var F=N;N=Math.atan(L/p[D+1]);k[D]=(1-.8)*N+.8*F}var j=[];this.clipVerticesPerFace=j;var U=[];this.zoomLUTPerCell=U;var z=[];this.tileLUTPerZoom=z;for(var B=0;B<6;++B){j[B]=I.getQuadVertices(R,B,0,0),U[B]=[],z[B]=[];for(var V=0;V<P;++V)U[B][V]=new g.a;for(var G=0;G<y;++G)z[B][G]=new v.a(b[G]*b[G])}}return w(t,[{key:"enableDepth",value:function(t){this.depthEnabled=this.depthTileClient&&t}},{key:"isDepthEnabled",value:function(){return this.depthEnabled}},{key:"loadDepthCube",value:function(){var t=this.recording,e=this.depthEnabled,n=this.depthCubeLoaded,r=this.depthCubeLoadingCount,i=this.depthTileClient;if(!(!e||n||r>0)&&t&&t.hasDepthMap)for(var o=t.id,a=0;a<6;++a)for(var s=0;s<9;++s){var l=s%3,u=(s-l)/3,c=new p.a(o,a,2,l,u);i.add(c,this.onDepthTileLoadComplete),++this.depthCubeLoadingCount}}},{key:"onTileLoadError",value:function(t){this.fireEvent(CM.aperture.TILE_LOAD_ERROR,t)}},{key:"deactivate",value:function(){for(var t=this.zoomLUTPerCell,e=this.tileLUTPerZoom,n=0;n<6;++n){var r=!0,i=!1,a=void 0;try{for(var s,l=o()(t[n]);!(r=(s=l.next()).done);r=!0){s.value.reset()}}catch(t){i=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(i)throw a}}var u=!0,c=!1,f=void 0;try{for(var h,d=o()(e[n]);!(u=(h=d.next()).done);u=!0){h.value.reset()}}catch(t){c=!0,f=t}finally{try{!u&&d.return&&d.return()}finally{if(c)throw f}}}this.depthCubeLoaded=!1,this.depthCubeLoadingCount=0,this.active=!1,this.tileClient.clearPending(),this.depthTileClient&&this.depthTileClient.clearPending()}},{key:"activate",value:function(){this.active=!0}},{key:"findOptimalZoomLevel",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,e=this.maxZoom,n=this.clipVerticesPerFace,r=this.camera,i=r.width,a=r.height,s=r.focalLength,l=r.offsetProjectionMatrix,u=this.zoomThresholds,c=.5*i,f=.5*a,h=[],d=0;d<6;++d){-1!==t&&(d=t);var p=Object(b.a)(n[d],l,i,a),m=p.length;if(0!==m){var g=0,v=0,y=!0,_=!1,w=void 0;try{for(var x,E=o()(p);!(y=(x=E.next()).done);y=!0){var M=x.value;g+=M[0],v+=M[1]}}catch(t){_=!0,w=t}finally{try{!y&&E.return&&E.return()}finally{if(_)throw w}}g/=m,v/=m;var S=Math.min(Math.abs(Math.atan((g+.5-c)/s)-Math.atan((g-.5-c)/s)),Math.abs(Math.atan((v+.5-f)/s)-Math.atan((v-.5-f)/s))),T=0;if(S<=u[e-1])T=e;else for(var C=0;C<e;++C)if(S>u[C]){T=C;break}if(h[d]=T,-1!==t)return T}else h[d]=0}return h}},{key:"update",value:function(){var t=this.active,e=this.recording;if(t&&e){for(var n=this.maxZoom,r=this.clipVerticesPerFace,i=this.camera,a=i.width,s=i.height,l=i.focalLength,u=i.offsetProjectionMatrix,c=this.tileLUTPerZoom,f=this.zoomLUTPerCell,h=this.zoomThresholds,d=this.tileDimensionPerZoom,m=this.maxTileDimension,g=this.cube,v=this.tileClient,y=v.getLoadCount(),_=.5*a,w=.5*s,x=0;x<6;++x){var E=c[x][n];if(E.max!==E.now){var M=Object(b.a)(r[x],u,a,s),S=M.length;if(0!==S){var T=0,C=0,O=!0,A=!1,I=void 0;try{for(var R,P=o()(M);!(O=(R=P.next()).done);O=!0){var L=R.value;T+=L[0],C+=L[1]}}catch(t){A=!0,I=t}finally{try{!O&&P.return&&P.return()}finally{if(A)throw I}}T/=S,C/=S;var N=Math.min(Math.abs(Math.atan((T+.5-_)/l)-Math.atan((T-.5-_)/l)),Math.abs(Math.atan((C+.5-w)/l)-Math.atan((C-.5-w)/l))),k=0,D=-1;if(N<=h[n-1])k=n;else{for(var F=n-1;F>=0;--F)if(E=c[x][F],E.now>=E.max){D=F;break}for(var j=0;j<n;++j)if(N>h[j]){k=j;break}}if(!(D>=k)){E=c[x][k];for(var U=f[x],z=d[k],B=m/z,V=0;V<z;++V)for(var G=0;G<z;++G){for(var H=[],q=0;q<B;++q)for(var W=(B*V+q)*m+B*G,Y=0;Y<B;++Y,++W)U[W].loadingZoom<k&&H.push(W);if(H.length>0&&Object(b.a)(g.getQuadVertices(B,x,G,V),u,a,s).length>0){var X=new p.a(e.id,x,k,G,V);v.add(X,this.onTileLoadComplete);for(var Z=0,K=H.length;Z<K;++Z){var Q=H[Z];U[Q].loadingZoom=k}E.now++}}}}}}0===y&&v.getLoadCount()>0&&this.onviewloadstart()}}},{key:"_updateFromThumbTiles",value:function(t){this.onviewloadstart();for(var e=this.tileLUTPerZoom,n=0;n<6;++n){try{this._updateCubeFace(n,0,0,0,t[n].img,!0)}catch(t){}var r=e[n][0];r.now=r.max}this.onviewloadend(),this.onviewloadendfromthumbs()}},{key:"_updateCubeFace",value:function(t,e,n,r,i,o){var a=this.viewer;o&&a._drawImageTile({face:t,zoom:e,row:r,column:n,img:i})}},{key:"onTileLoadComplete",value:function(t,e){var n=this.viewer,r=this.zoomLUTPerCell,i=this.tileLUTPerZoom;if(t.id===n.getPanoramaId())if(0===t.zoom){if(e){e&&n._drawImageTile(t);for(var o=0;o<6;++o){for(var a=r[o],s=0;s<a.length;++s)a[s].currentZoom=0;var l=i[o];l[0].now=l[0].max}this.activate()}}else this._updateCubeFace(t.face,t.zoom,t.column,t.row,t.img,e);0===this.tileClient.getLoadCount()&&(this.loadDepthCube(),this.onviewloadend())}},{key:"onDepthTileLoadComplete",value:function(t,e){var n=this.viewer;t.id===n.getPanoramaId()&&(--this.depthCubeLoadingCount,0===this.depthCubeLoadingCount&&(this.depthCubeLoaded=!0),e&&n._drawDepthTile({face:t.face,zoom:t.zoom,row:t.row,column:t.column,img:t.img}))}},{key:"preloadPanorama",value:function(t){this._thumbClient.loadFromId(t,this.onTileLoadComplete)}},{key:"clearPreloadPending",value:function(){this._thumbClient.clearPending()}},{key:"clearPreloadCache",value:function(){this._thumbClient.clearCache()}},{key:"getUriManager",value:function(){return this.tileClient.getUriManager()}},{key:"getDepthUriManager",value:function(){return this.depthTileClient?this.depthTileClient.getUriManager():null}},{key:"setUriManager",value:function(t){this.tileClient.setUriManager(t),this._thumbClient.setUriManager(t)}},{key:"prepareForLoading",value:function(t){this.recording=t;var e=y.c[t.tileSchema];this.maxZoom="maxZoom"in e?e.maxZoom:0,this.clearPreloadCache()}},{key:"onviewloadstart",value:function(){}},{key:"onviewloadend",value:function(){}},{key:"onviewloadendfromthumbs",value:function(){dispatchEvent(new CustomEvent("previewComplete",null))}}]),t}();e.a=x},function(t,e,n){"use strict";(function(t){function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return c()(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"b",function(){return D});var o=n(70),a=n.n(o),s=n(77),l=n.n(s),u=n(30),c=n.n(u),f=n(1),h=n.n(f),d=n(4),p=n.n(d),m=n(23),g=n.n(m),v=n(17),y=n.n(v),b=n(102),_=n.n(b),w=n(49),x=(n.n(w),n(20)),E=n.n(x),M=n(141),S=n.n(M),T=n(243),C=(n(166),n(977)),O=n(472),A=n(470),I=n(246),R=n(33),P=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=y()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(g()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),L=p.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),h()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),k=l.a,D={tileSchema:I.a,width:720,height:480,yawOffset:0,yaw:0,pitch:0,pitchRange:[Object(R.e)(-90),Object(R.e)(90)],verticalRange:[NaN,NaN],hFov:Object(R.e)(110),hFovRange:[Object(R.e)(12),Object(R.e)(130)],clearColor:[102,102,102]};CM.aperture.EVENT_ENTER_FRAME="enterframe",CM.aperture.EVENT_VIEW_CHANGE="viewchange",CM.aperture.EVENT_VIEW_LOAD_START="viewloadstart",CM.aperture.EVENT_VIEW_LOAD_END="viewloadend",CM.aperture.EVENT_VIEW_LOAD_END_FROM_THUMBS="viewloadendfromthumbs",CM.aperture.EVENT_PANORAMA_CHANGE="panoramachange",CM.aperture.EVENT_RESIZE="resize",CM.aperture.VIEWER_TILE_LOAD_ERROR="viewertileloaderror";var F=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this._boundInteractionListeners=[],this._isMoveInteracting=!1,this._isZoomInteracting=!1,this._isDragInteracting=!1,this._pointerDown=!1,this._currentPointerPos=w.vec4.create([NaN,NaN,NaN,NaN]),this._touches=[],this._longPressZoomed=!1,this._allowRotateWhenZoomed=!0,this._disableRotate=!1,S()(this,CM.Events.prototype),Object(T.a)(this);var n=L({},D,t);this._idViewer=_()(),this._width=n.width,this._height=n.height,this.clearColor=n.clearColor,this.setPitchRange(n.pitchRange),this.setHFovRange(n.hFovRange),this.setVerticalRange(n.verticalRange),this.setOrientation({yaw:n.yaw,pitch:n.pitch,hFov:n.hFov}),this._camera=new C.a;var r=this._viewerContainer=CM.El.id(t.viewerContainer);if(!r)throw new Error("Container element not found.");if(!this.setTileSchema(n.tileSchema))throw new Error("Could not initialize tile schema");CM.El.adopt(r,this._viewerWrapper=CM.El.create("div",{class:"panorama-viewer-container",styles:{position:"relative",width:"100%",height:"100%",userSelect:"none"}})),this.invalidateSize();var o=this._onViewLoadStart=this._onViewLoadStart.bind(this),a=this._onViewLoadEnd=this._onViewLoadEnd.bind(this),s=this._onViewLoadEndFromThumbs=this._onViewLoadEndFromThumbs.bind(this),l=this._onTileLoadError=this._onTileLoadError.bind(this);this._addInteractionListener=this._addInteractionListener.bind(this),this._onViewerInteractionDown=this._onViewerInteractionDown.bind(this),this._onDocumentInteractionUp=this._onDocumentInteractionUp.bind(this),this._onDocumentPointerMove=this._onDocumentPointerMove.bind(this),this._onDocumentPointerOut=this._onDocumentPointerOut.bind(this),this._onViewerMouseWheel=this._onViewerMouseWheel.bind(this),this._onWindowResize=this._onWindowResize.bind(this),this._onViewerDeviceMotion=this._onViewerDeviceMotion.bind(this),this._onViewerDeviceOrientation=this._onViewerDeviceOrientation.bind(this);var u=t.uriManager||new O.a,c=this._viewportTileLoader=new A.a(this,L({},t,{uriManager:u}));c.setUriManager(u),c.onviewloadstart=o,c.onviewloadend=a,c.onviewloadendfromthumbs=s,CM.El.addEvent(c,CM.aperture.TILE_LOAD_ERROR,l),this._addInteractionListeners()}return N(e,[{key:"destroy",value:function(){this._destroyed||(this._removeInteractionListeners(),this.setUseDeviceMotion(!1),this.setUseDeviceOrientation(!1),this._viewerContainer.removeChild(this._viewerWrapper),this._destroyed=!0)}},{key:"_onTileLoadError",value:function(t){this.fireEvent(CM.aperture.TILE_LOAD_ERROR,t)}},{key:"getTileSchema",value:function(){return this._tileSchema}},{key:"setTileSchema",value:function(t){return!!(t&&Array.isArray(t.zoomResolutions)&&Array.isArray(t.zoomTileDimensionalities)&&k(t.maxZoomResolution))&&(this._tileSchema=t,!0)}},{key:"getUriManager",value:function(){return this._viewportTileLoader.getUriManager()}},{key:"setUriManager",value:function(t){this._uriManager=t,this._viewportTileLoader.setUriManager(t)}},{key:"_constrainView",value:function(){var t=this._yaw,e=this._pitch,n=this._hFov,r=this._width,i=this._height,o=this._hFovRange,a=this._pitchRange,s=P(this._verticalRange,2),l=s[0],u=s[1];t=Object(R.f)(t,0,2*Math.PI),e=Object(R.c)(e,a[0],a[1]),n=Object(R.c)(n,o[0],o[1]);var c=r/(2*Math.tan(.5*n)),f=2*Math.atan(.5*i/c);if(k(l)&&k(u)){var h=u-l;f>h&&(f=h,c=i/(2*Math.tan(.5*f)),n=2*Math.atan(.5*r/c))}e=Object(R.c)(e,k(l)?l+f/2:NaN,k(u)?u-f/2:NaN),this._yaw=t,this._pitch=e,this._hFov=n}},{key:"animateFrame",value:function(t,e){if(!this._destroyed){this.fireEvent(CM.aperture.EVENT_ENTER_FRAME),this._constrainView();var n=this._width,r=this._height,i=this._hFov,o=this._yaw,a=this._pitch,s=Math.round(n),l=Math.round(r);this._camera.update(s,l,o,a,i),this._viewportTileLoader.update(),this._render(s,l),this.fireEvent(CM.aperture.EVENT_VIEW_CHANGE,{yaw:o,pitch:a,hFov:i})}}},{key:"_render",value:function(t,e){}},{key:"_drawImageTile",value:function(t,e,n,r,i,o,a,s,l,u){}},{key:"_clear",value:function(){}},{key:"_getViewerSize",value:function(){return CM.El.getSize(this._viewerWrapper)}},{key:"_getViewerWidth",value:function(){return this._getViewerSize().width}},{key:"_getViewerHeight",value:function(){return this._getViewerSize().height}},{key:"invalidateSize",value:function(){var t=this._getViewerSize(),e=t.width,n=t.height;e===this._width&&n===this._height||(this._width=e,this._height=n,this.requestAnimationFrame(),this.fireEvent(CM.aperture.EVENT_RESIZE,{width:e,height:n}))}},{key:"getViewerType",value:function(){return this.constructor.VIEWER_TYPE}},{key:"getViewerId",value:function(){return this._idViewer}},{key:"getOrientation",value:function(){return{yaw:this._yaw,pitch:this._pitch,hFov:this._hFov,yawOffset:this._yawOffset}}},{key:"setOrientation",value:function(t){var e=t.yaw,n=t.pitch,r=t.hFov,i=t.yawOffset,o=this.getOrientation();k(e)&&(this._yaw=e),k(n)&&(this._pitch=n),k(r)&&(this._hFov=r),k(i)&&(this._yawOffset=i),this._constrainView();var a=this.getOrientation();E.a.isEqual(a,o)||this.requestAnimationFrame()}},{key:"getYawOffset",value:function(){return this._yawOffset}},{key:"setYawOffset",value:function(t){this.setOrientation({yawOffset:t})}},{key:"getYaw",value:function(){return this._yaw}},{key:"setYaw",value:function(t){this.setOrientation({yaw:t})}},{key:"getPitch",value:function(){return this._pitch}},{key:"setPitch",value:function(t){this.setOrientation({pitch:t})}},{key:"getPitchRange",value:function(){return[].concat(r(this._pitchRange))}},{key:"setPitchRange",value:function(t){this._pitchRange=[].concat(r(t))}},{key:"getVerticalRange",value:function(){return[].concat(r(this._verticalRange))}},{key:"setVerticalRange",value:function(t){this._verticalRange=[].concat(r(t))}},{key:"getHFov",value:function(){return this._hFov}},{key:"setHFov",value:function(t){this.setOrientation({hFov:t})}},{key:"getHFovRange",value:function(){return[].concat(r(this._hFovRange))}},{key:"setHFovRange",value:function(t){this._hFovRange=[].concat(r(t))}},{key:"getFocalLength",value:function(){return.5*this._width/Math.tan(.5*this._hFov)}},{key:"getVFov",value:function(){return 2*Math.atan(Math.tan(.5*this._hFov)*this._height/this._width)}},{key:"getPanoramaId",value:function(){return this._idPanorama}},{key:"openPanorama",value:function(t){this._idPanorama!==t&&(this._idPanorama=t,this._viewportTileLoader.deactivate(),this._viewportTileLoader.preloadPanorama(t),this.requestAnimationFrame(),this.fireEvent(CM.aperture.EVENT_PANORAMA_CHANGE))}},{key:"getUseDeviceMotion",value:function(){return this._useDeviceMotion}},{key:"getUseDeviceOrientation",value:function(){return this._useDeviceOrientation}},{key:"setUseDeviceMotion",value:function(t){if(this._useDeviceMotion!==t){t?this._addInteractionListener(window,"devicemotion",this._onViewerDeviceMotion):this._removeInteractionListenerByEvent("devicemotion"),this._useDeviceMotion=t}}},{key:"setUseDeviceOrientation",value:function(t){if(this._useDeviceOrientation!==t){t?this._addInteractionListener(window,"deviceorientation",this._onViewerDeviceOrientation):this._removeInteractionListenerByEvent("deviceorientation"),this._useDeviceOrientation=t}}},{key:"setAllowRotateWhenZoomed",value:function(t){this._allowRotateWhenZoomed!==t&&(this._allowRotateWhenZoomed=t)}},{key:"setDisableRotate",value:function(t){this._disableRotate!==t&&(this._disableRotate=t)}},{key:"_onViewLoadStart",value:function(){this.fireEvent(CM.aperture.EVENT_VIEW_LOAD_START)}},{key:"_onViewLoadEnd",value:function(){this.fireEvent(CM.aperture.EVENT_VIEW_LOAD_END)}},{key:"_onViewLoadEndFromThumbs",value:function(){this.fireEvent(CM.aperture.EVENT_VIEW_LOAD_END_FROM_THUMBS)}},{key:"_addInteractionListener",value:function(t,e,n){CM.El.addEvent(t,e,n),this._boundInteractionListeners.push([t,e,n])}},{key:"_addInteractionListeners",value:function(){this._removeInteractionListeners(),this._isMoveInteracting=!1,this._isZoomInteracting=!1,this._interactionDownX=0,this._interactionDownY=0,this._interactionDownPitch=0,this._interactionDownYaw=0,this._interactionTouchZoomLength=0;var e=this._viewerWrapper;this._addInteractionListener(e,"pointerdown",this._onViewerInteractionDown),this._addInteractionListener(e,"pointerdown",this._onDocumentPointerMove),this._addInteractionListener(document,"pointermove",this._onDocumentPointerMove),this._addInteractionListener(e,"mousewheel",this._onViewerMouseWheel),this._addInteractionListener(t,"resize",this._onWindowResize),this._useDeviceMotion&&(this._useDeviceMotion=!1,this.setUseDeviceMotion(!0)),this._useDeviceOrientation&&(this._useDeviceOrientation=!1,this.setUseDeviceOrientation(!0))}},{key:"_removeInteractionListenerByEvent",value:function(t){for(var e=this._boundInteractionListeners,n=e.length-1;n>=0;--n){var r=e[n];r[1]===t&&(CM.El.removeEvent(r[0],t,r[2]),e.splice(n,1))}}},{key:"_removeInteractionListeners",value:function(){for(var t=this._boundInteractionListeners,e=t.length-1;e>=0;--e){var n=t[e];CM.El.removeEvent(n[0],n[1],n[2])}t.length=0}},{key:"_onViewerInteractionDown",value:function(t){var e=this;if(0!==t.button)return void t.preventDefault();this._pointerDown=!0;var n=document,r=t.pointerId,i=t.pageX,o=t.pageY;t.isPrimary?(this._longPressTimer=setTimeout(function(){return e._onLongPressZoom(t)},1e3),this._addInteractionListener(n,"pointerup",this._onDocumentInteractionUp),this._addInteractionListener(n,"pointercancel",this._onDocumentInteractionUp),this._addInteractionListener(n,"pointerout",this._onDocumentPointerOut),this._touches[0]={pointerId:r,pageX:i,pageY:o}):(this._touches.push({pointerId:r,pageX:i,pageY:o}),null!==this._longPressTimer&&(clearTimeout(this._longPressTimer),this._longPressTimer=null)),this._interactionTouchZoomLength=0,this._isDragInteracting=!1,this._down(i,o),this._viewerContainer.focus(),t.preventDefault()}},{key:"_onDocumentPointerMove",value:function(t){var e=this._touches,n=t.pointerId,r=t.pageX,i=t.pageY,o=this._currentPointerPos,s=w.vec4.clone(o),l=CM.El.getPagePos(this._viewerWrapper),u=o[2];if(w.vec4.set(o,Math.floor(r-l.x),Math.floor(i-l.y),u,NaN),w.vec4.exactEquals(o,s)||this.requestAnimationFrame(t.buttons),this._pointerDown)if(this._isDragInteracting=Math.abs(e[0].pageX-r)>3||Math.abs(e[0].pageY-i)>3,1===e.length){if(this._longPressZoomed&&!this._allowRotateWhenZoomed||!this._isDragInteracting||this._disableRotate)return;null!==this._longPressTimer&&(clearTimeout(this._longPressTimer),this._longPressTimer=null),this._isMoveInteracting=!0,this._isZoomInteracting=!1,this._move(r,i)}else if(e.length>1){this._isMoveInteracting=!1,this._isZoomInteracting=!0;var c=e.find(function(t){return t.pointerId===n});c.pageX=r,c.pageY=i;var f=e[0],h=f.pageX,d=f.pageY,p=e[1],m=p.pageX,g=p.pageY,v=a()(m-h,g-d),y=this._hFov,b=y,_=this._interactionTouchZoomLength;if(0!==_){y+=.5*Object(R.e)(_-v);var x=CM.El.getPagePos(this._viewerWrapper),E=(h+m)/2-x.x,M=(d+g)/2-x.y;this._updateYawAndPitchFromHFovChange(b,y,E,M)}this._interactionTouchZoomLength=v}}},{key:"_onDocumentInteractionUp",value:function(t){if(0!==t.button)return void t.preventDefault();var e=this._touches,n=t.pointerId,r=e.findIndex(function(t){return t.pointerId===n}),i=CM.El.getPagePos(this._viewerWrapper);if(e.splice(r,1),null!==this._longPressTimer&&(clearTimeout(this._longPressTimer),this._longPressTimer=null),this._longPressZoomed){this._longPressZoomed=!1;var o=t.pageX-i.x,a=t.pageY-i.y;this._updateYawAndPitchFromHFovChange(this._hFov,this._preLongPressZoomHFov,o,a)}0===e.length&&(this._isMoveInteracting=!1,this._isZoomInteracting=!1,this._pointerDown=!1,this._removeInteractionListenerByEvent("pointerup"),this._removeInteractionListenerByEvent("pointercancel"),this._removeInteractionListenerByEvent("pointerout"))}},{key:"_onLongPressZoom",value:function(t){var e=this._hFov,n=CM.El.getPagePos(this._viewerWrapper);this._longPressTimer=null,this._preLongPressZoomHFov=e;var r=t.pageX-n.x,i=t.pageY-n.y;this._longPressZoomed=!0,this._updateYawAndPitchFromHFovChange(this._preLongPressZoomHFov,this._hFovRange[0],r,i),this._down(t.pageX,t.pageY)}},{key:"_onDocumentPointerOut",value:function(t){t.relatedTarget||t.toElement||(this._isMoveInteracting=!1,this._isDragInteracting=!1)}},{key:"_updateYawAndPitchFromHFovChange",value:function(t,e,n,r){var i=this._hFovRange;if(e=Object(R.c)(e,i[0],i[1]),t!==e){var o=this._width,a=this._height,s=.5/Math.tan(.5*t),l=.5/Math.tan(.5*e),u=n/o-.5,c=r/o-.5*a/o;this._yaw+=Math.atan(l/u)-Math.atan(s/u),this._pitch-=Math.atan(l/c)-Math.atan(s/c),this._hFov=e,this.requestAnimationFrame()}}},{key:"_down",value:function(t,e){var n=CM.El.getPagePos(this._viewerWrapper);this._isMoveInteracting=!0,this._startInteraction(t-n.x,e-n.y)}},{key:"_move",value:function(t,e){if(this._isZoomInteracting=!1,this._isMoveInteracting){var n=CM.El.getPagePos(this._viewerWrapper);this._interact(t-n.x,e-n.y)}}},{key:"_startInteraction",value:function(t,e){this._interactionDownX=t,this._interactionDownY=e,this._interactionDownPitch=this._pitch,this._interactionDownYaw=this._yaw}},{key:"_interact",value:function(t,e){var n=1.2*this._hFov/this._width;this._yaw=(this._interactionDownX-t)*n+this._interactionDownYaw,this._pitch=(e-this._interactionDownY)*n+this._interactionDownPitch,this.requestAnimationFrame()}},{key:"_onViewerMouseWheel",value:function(t){var e=this._hFov,n=e,r=CM.El.getPagePos(this._viewerWrapper),i=t.pageX-r.x,o=t.pageY-r.y;!1===this._isMoveInteracting&&!1===this._isZoomInteracting&&(this._startInteraction(i,o),this._isZoomInteracting=!0);var a=[1,40,window.innerHeight],s="deltaMode"in t?a[t.deltaMode]:1,l=t.deltaY*s/100;e+=Object(R.e)(5*l),this._updateYawAndPitchFromHFovChange(n,e,i,o),t.preventDefault(),this._viewerContainer.focus()}},{key:"_onViewerDeviceMotion",value:function(t){var e=t.rotationData;if(e){var n=e.alpha,r=e.beta,i=e.gamma;this._hFov-=Object(R.e)(Math.round(n)/6),this._pitch-=Object(R.e)(Math.round(r)/4)%Math.PI,this._yaw-=Object(R.e)(Math.round(i)/4)%(2*Math.PI),this.requestAnimationFrame()}}},{key:"_onViewerDeviceOrientation",value:function(t){var e="webkitCompassHeading"in t?t.webkitCompassHeading:null!==t.alpha?270-t.alpha:0,n=t.gamma;this._yaw=Object(R.e)(Math.round(e)),this._pitch=Object(R.e)(Math.round(Math.abs(n)-90)),this.requestAnimationFrame()}},{key:"_onWindowResize",value:function(t){this.invalidateSize()}}]),e}();e.a=F}).call(e,n(37))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(166),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g=function(t){function e(){return r(this,e),i(this,(e.__proto__||s()(e)).apply(this,arguments))}return o(e,t),m(e,[{key:"getTileUri",value:function(t,e,n,r,i){var o=this.apiKey,a=0===n?t+"/0/A/0/0":t+"/"+n+"/"+"RLUDBF".charAt(e)+"/"+r+"/"+i;return o&&(a+="?apiKey="+o),this._selectDataUriHashBased(a)+a}}]),e}(p.a);e.a=g},function(t,e,n){var r=n(101),i=n(192),o=n(59)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[o])?e:i(n)}},function(t,e,n){var r,i,o,a=n(109),s=n(992),l=n(448),u=n(316),c=n(58),f=c.process,h=c.setImmediate,d=c.clearImmediate,p=c.MessageChannel,m=c.Dispatch,g=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){y.call(t.data)};h&&d||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},r(g),g},d=function(t){delete v[t]},"process"==n(194)(f)?r=function(t){f.nextTick(a(y,t,1))}:m&&m.now?r=function(t){m.now(a(y,t,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",b,!1)):r="onreadystatechange"in u("script")?function(t){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:h,clear:d}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(101),i=n(75),o=n(335);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){(function(t){!function(e,n){t.exports=n()}(0,function(){"use strict";function e(){return Cr.apply(null,arguments)}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function r(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function i(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}function o(t){return void 0===t}function a(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function s(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function l(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function u(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t,e){for(var n in e)u(e,n)&&(t[n]=e[n]);return u(e,"toString")&&(t.toString=e.toString),u(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,n,r){return Me(t,e,n,r,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function d(t){return null==t._pf&&(t._pf=h()),t._pf}function p(t){if(null==t._isValid){var e=d(t),n=Or.call(e.parsedDateParts,function(t){return null!=t}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function m(t){var e=f(NaN);return null!=t?c(d(e),t):d(e).userInvalidated=!0,e}function g(t,e){var n,r,i;if(o(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),o(e._i)||(t._i=e._i),o(e._f)||(t._f=e._f),o(e._l)||(t._l=e._l),o(e._strict)||(t._strict=e._strict),o(e._tzm)||(t._tzm=e._tzm),o(e._isUTC)||(t._isUTC=e._isUTC),o(e._offset)||(t._offset=e._offset),o(e._pf)||(t._pf=d(e)),o(e._locale)||(t._locale=e._locale),Ar.length>0)for(n=0;n<Ar.length;n++)r=Ar[n],i=e[r],o(i)||(t[r]=i);return t}function v(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Ir&&(Ir=!0,e.updateOffset(this),Ir=!1)}function y(t){return t instanceof v||null!=t&&null!=t._isAMomentObject}function b(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function _(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=b(e)),n}function w(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&_(t[r])!==_(e[r]))&&a++;return a+o}function x(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function E(t,n){var r=!0;return c(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),r){for(var i,o=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){i+="\n["+a+"] ";for(var s in arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[a];o.push(i)}x(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),r=!1}return n.apply(this,arguments)},n)}function M(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),Rr[t]||(x(n),Rr[t]=!0)}function S(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function T(t){var e,n;for(n in t)e=t[n],S(e)?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function C(t,e){var n,i=c({},t);for(n in e)u(e,n)&&(r(t[n])&&r(e[n])?(i[n]={},c(i[n],t[n]),c(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)u(t,n)&&!u(e,n)&&r(t[n])&&(i[n]=c({},i[n]));return i}function O(t){null!=t&&this.set(t)}function A(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return S(r)?r.call(e,n):r}function I(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function R(){return this._invalidDate}function P(t){return this._ordinal.replace("%d",t)}function L(t,e,n,r){var i=this._relativeTime[n];return S(i)?i(t,e,n,r):i.replace(/%d/i,t)}function N(t,e){var n=this._relativeTime[t>0?"future":"past"];return S(n)?n(e):n.replace(/%s/i,e)}function k(t,e){var n=t.toLowerCase();Fr[n]=Fr[n+"s"]=Fr[e]=t}function D(t){return"string"==typeof t?Fr[t]||Fr[t.toLowerCase()]:void 0}function F(t){var e,n,r={};for(n in t)u(t,n)&&(e=D(n))&&(r[e]=t[n]);return r}function j(t,e){jr[t]=e}function U(t){var e=[];for(var n in t)e.push({unit:n,priority:jr[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function z(t,e,n){var r=""+Math.abs(t),i=e-r.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function B(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(Vr[t]=i),e&&(Vr[e[0]]=function(){return z(i.apply(this,arguments),e[1],e[2])}),n&&(Vr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function V(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function G(t){var e,n,r=t.match(Ur);for(e=0,n=r.length;e<n;e++)Vr[r[e]]?r[e]=Vr[r[e]]:r[e]=V(r[e]);return function(e){var i,o="";for(i=0;i<n;i++)o+=S(r[i])?r[i].call(e,t):r[i];return o}}function H(t,e){return t.isValid()?(e=q(e,t.localeData()),Br[e]=Br[e]||G(e),Br[e](t)):t.localeData().invalidDate()}function q(t,e){function n(t){return e.longDateFormat(t)||t}var r=5;for(zr.lastIndex=0;r>=0&&zr.test(t);)t=t.replace(zr,n),zr.lastIndex=0,r-=1;return t}function W(t,e,n){ai[t]=S(e)?e:function(t,r){return t&&n?n:e}}function Y(t,e){return u(ai,t)?ai[t](e._strict,e._locale):new RegExp(X(t))}function X(t){return Z(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i}))}function Z(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function K(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),a(e)&&(r=function(t,n){n[e]=_(t)}),n=0;n<t.length;n++)si[t[n]]=r}function Q(t,e){K(t,function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)})}function J(t,e,n){null!=e&&u(si,t)&&si[t](e,n._a,n,t)}function $(t){return tt(t)?366:365}function tt(t){return t%4==0&&t%100!=0||t%400==0}function et(){return tt(this.year())}function nt(t,n){return function(r){return null!=r?(it(this,t,r),e.updateOffset(this,n),this):rt(this,t)}}function rt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function it(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&tt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),lt(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function ot(t){return t=D(t),S(this[t])?this[t]():this}function at(t,e){if("object"==typeof t){t=F(t);for(var n=U(t),r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit])}else if(t=D(t),S(this[t]))return this[t](e);return this}function st(t,e){return(t%e+e)%e}function lt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=st(e,12);return t+=(e-n)/12,1===n?tt(t)?29:28:31-n%7%2}function ut(t,e){return t?n(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||bi).test(e)?"format":"standalone"][t.month()]:n(this._months)?this._months:this._months.standalone}function ct(t,e){return t?n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[bi.test(e)?"format":"standalone"][t.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ft(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=f([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(i=vi.call(this._shortMonthsParse,a),-1!==i?i:null):(i=vi.call(this._longMonthsParse,a),-1!==i?i:null):"MMM"===e?-1!==(i=vi.call(this._shortMonthsParse,a))?i:(i=vi.call(this._longMonthsParse,a),-1!==i?i:null):-1!==(i=vi.call(this._longMonthsParse,a))?i:(i=vi.call(this._shortMonthsParse,a),-1!==i?i:null)}function ht(t,e,n){var r,i,o;if(this._monthsParseExact)return ft.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function dt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=_(e);else if(e=t.localeData().monthsParse(e),!a(e))return t;return n=Math.min(t.date(),lt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function pt(t){return null!=t?(dt(this,t),e.updateOffset(this,!0),this):rt(this,"Month")}function mt(){return lt(this.year(),this.month())}function gt(t){return this._monthsParseExact?(u(this,"_monthsRegex")||yt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=xi),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function vt(t){return this._monthsParseExact?(u(this,"_monthsRegex")||yt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=Ei),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function yt(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],o=[];for(e=0;e<12;e++)n=f([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),o.sort(t),e=0;e<12;e++)r[e]=Z(r[e]),i[e]=Z(i[e]);for(e=0;e<24;e++)o[e]=Z(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function bt(t,e,n,r,i,o,a){var s=new Date(t,e,n,r,i,o,a);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function _t(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function wt(t,e,n){var r=7+e-n;return-(7+_t(t,0,r).getUTCDay()-e)%7+r-1}function xt(t,e,n,r,i){var o,a,s=(7+n-r)%7,l=wt(t,r,i),u=1+7*(e-1)+s+l;return u<=0?(o=t-1,a=$(o)+u):u>$(t)?(o=t+1,a=u-$(t)):(o=t,a=u),{year:o,dayOfYear:a}}function Et(t,e,n){var r,i,o=wt(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?(i=t.year()-1,r=a+Mt(i,e,n)):a>Mt(t.year(),e,n)?(r=a-Mt(t.year(),e,n),i=t.year()+1):(i=t.year(),r=a),{week:r,year:i}}function Mt(t,e,n){var r=wt(t,e,n),i=wt(t+1,e,n);return($(t)-r+i)/7}function St(t){return Et(t,this._week.dow,this._week.doy).week}function Tt(){return this._week.dow}function Ct(){return this._week.doy}function Ot(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function At(t){var e=Et(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function It(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Rt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Pt(t,e){return t?n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone}function Lt(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Nt(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function kt(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=f([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(i=vi.call(this._weekdaysParse,a),-1!==i?i:null):"ddd"===e?(i=vi.call(this._shortWeekdaysParse,a),-1!==i?i:null):(i=vi.call(this._minWeekdaysParse,a),-1!==i?i:null):"dddd"===e?-1!==(i=vi.call(this._weekdaysParse,a))?i:-1!==(i=vi.call(this._shortWeekdaysParse,a))?i:(i=vi.call(this._minWeekdaysParse,a),-1!==i?i:null):"ddd"===e?-1!==(i=vi.call(this._shortWeekdaysParse,a))?i:-1!==(i=vi.call(this._weekdaysParse,a))?i:(i=vi.call(this._minWeekdaysParse,a),-1!==i?i:null):-1!==(i=vi.call(this._minWeekdaysParse,a))?i:-1!==(i=vi.call(this._weekdaysParse,a))?i:(i=vi.call(this._shortWeekdaysParse,a),-1!==i?i:null)}function Dt(t,e,n){var r,i,o;if(this._weekdaysParseExact)return kt.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=f([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function Ft(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=It(t,this.localeData()),this.add(t-e,"d")):e}function jt(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ut(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Rt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function zt(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Oi),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Bt(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ai),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Vt(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ii),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Gt(){function t(t,e){return e.length-t.length}var e,n,r,i,o,a=[],s=[],l=[],u=[];for(e=0;e<7;e++)n=f([2e3,1]).day(e),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),l.push(o),u.push(r),u.push(i),u.push(o);for(a.sort(t),s.sort(t),l.sort(t),u.sort(t),e=0;e<7;e++)s[e]=Z(s[e]),l[e]=Z(l[e]),u[e]=Z(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ht(){return this.hours()%12||12}function qt(){return this.hours()||24}function Wt(t,e){B(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Yt(t,e){return e._meridiemParse}function Xt(t){return"p"===(t+"").toLowerCase().charAt(0)}function Zt(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Kt(t){return t?t.toLowerCase().replace("_","-"):t}function Qt(t){for(var e,n,r,i,o=0;o<t.length;){for(i=Kt(t[o]).split("-"),e=i.length,n=Kt(t[o+1]),n=n?n.split("-"):null;e>0;){if(r=Jt(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&w(i,n,!0)>=e-1)break;e--}o++}return null}function Jt(e){var n=null;if(!ki[e]&&void 0!==t&&t&&t.exports)try{n=Ri._abbr;!function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),$t(n)}catch(t){}return ki[e]}function $t(t,e){var n;return t&&(n=o(e)?ne(t):te(t,e))&&(Ri=n),Ri._abbr}function te(t,e){if(null!==e){var n=Ni;if(e.abbr=t,null!=ki[t])M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ki[t]._config;else if(null!=e.parentLocale){if(null==ki[e.parentLocale])return Di[e.parentLocale]||(Di[e.parentLocale]=[]),Di[e.parentLocale].push({name:t,config:e}),null;n=ki[e.parentLocale]._config}return ki[t]=new O(C(n,e)),Di[t]&&Di[t].forEach(function(t){te(t.name,t.config)}),$t(t),ki[t]}return delete ki[t],null}function ee(t,e){if(null!=e){var n,r,i=Ni;r=Jt(t),null!=r&&(i=r._config),e=C(i,e),n=new O(e),n.parentLocale=ki[t],ki[t]=n,$t(t)}else null!=ki[t]&&(null!=ki[t].parentLocale?ki[t]=ki[t].parentLocale:null!=ki[t]&&delete ki[t]);return ki[t]}function ne(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ri;if(!n(t)){if(e=Jt(t))return e;t=[t]}return Qt(t)}function re(){return Pr(ki)}function ie(t){var e,n=t._a;return n&&-2===d(t).overflow&&(e=n[ui]<0||n[ui]>11?ui:n[ci]<1||n[ci]>lt(n[li],n[ui])?ci:n[fi]<0||n[fi]>24||24===n[fi]&&(0!==n[hi]||0!==n[di]||0!==n[pi])?fi:n[hi]<0||n[hi]>59?hi:n[di]<0||n[di]>59?di:n[pi]<0||n[pi]>999?pi:-1,d(t)._overflowDayOfYear&&(e<li||e>ci)&&(e=ci),d(t)._overflowWeeks&&-1===e&&(e=mi),d(t)._overflowWeekday&&-1===e&&(e=gi),d(t).overflow=e),t}function oe(t,e,n){return null!=t?t:null!=e?e:n}function ae(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function se(t){var e,n,r,i,o,a=[];if(!t._d){for(r=ae(t),t._w&&null==t._a[ci]&&null==t._a[ui]&&le(t),null!=t._dayOfYear&&(o=oe(t._a[li],r[li]),(t._dayOfYear>$(o)||0===t._dayOfYear)&&(d(t)._overflowDayOfYear=!0),n=_t(o,0,t._dayOfYear),t._a[ui]=n.getUTCMonth(),t._a[ci]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=r[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[fi]&&0===t._a[hi]&&0===t._a[di]&&0===t._a[pi]&&(t._nextDay=!0,t._a[fi]=0),t._d=(t._useUTC?_t:bt).apply(null,a),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[fi]=24),t._w&&void 0!==t._w.d&&t._w.d!==i&&(d(t).weekdayMismatch=!0)}}function le(t){var e,n,r,i,o,a,s,l;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)o=1,a=4,n=oe(e.GG,t._a[li],Et(Se(),1,4).year),r=oe(e.W,1),((i=oe(e.E,1))<1||i>7)&&(l=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var u=Et(Se(),o,a);n=oe(e.gg,t._a[li],u.year),r=oe(e.w,u.week),null!=e.d?((i=e.d)<0||i>6)&&(l=!0):null!=e.e?(i=e.e+o,(e.e<0||e.e>6)&&(l=!0)):i=o}r<1||r>Mt(n,o,a)?d(t)._overflowWeeks=!0:null!=l?d(t)._overflowWeekday=!0:(s=xt(n,r,i,o,a),t._a[li]=s.year,t._dayOfYear=s.dayOfYear)}function ue(t){var e,n,r,i,o,a,s=t._i,l=Fi.exec(s)||ji.exec(s);if(l){for(d(t).iso=!0,e=0,n=zi.length;e<n;e++)if(zi[e][1].exec(l[1])){i=zi[e][0],r=!1!==zi[e][2];break}if(null==i)return void(t._isValid=!1);if(l[3]){for(e=0,n=Bi.length;e<n;e++)if(Bi[e][1].exec(l[3])){o=(l[2]||" ")+Bi[e][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(l[4]){if(!Ui.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=i+(o||"")+(a||""),ve(t)}else t._isValid=!1}function ce(t,e,n,r,i,o){var a=[fe(t),wi.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function fe(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function he(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function de(t,e,n){if(t){if(Ti.indexOf(t)!==new Date(e[0],e[1],e[2]).getDay())return d(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function pe(t,e,n){if(t)return Hi[t];if(e)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function me(t){var e=Gi.exec(he(t._i));if(e){var n=ce(e[4],e[3],e[2],e[5],e[6],e[7]);if(!de(e[1],n,t))return;t._a=n,t._tzm=pe(e[8],e[9],e[10]),t._d=_t.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),d(t).rfc2822=!0}else t._isValid=!1}function ge(t){var n=Vi.exec(t._i);if(null!==n)return void(t._d=new Date(+n[1]));ue(t),!1===t._isValid&&(delete t._isValid,me(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))}function ve(t){if(t._f===e.ISO_8601)return void ue(t);if(t._f===e.RFC_2822)return void me(t);t._a=[],d(t).empty=!0;var n,r,i,o,a,s=""+t._i,l=s.length,u=0;for(i=q(t._f,t._locale).match(Ur)||[],n=0;n<i.length;n++)o=i[n],r=(s.match(Y(o,t))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&d(t).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),u+=r.length),Vr[o]?(r?d(t).empty=!1:d(t).unusedTokens.push(o),J(o,r,t)):t._strict&&!r&&d(t).unusedTokens.push(o);d(t).charsLeftOver=l-u,s.length>0&&d(t).unusedInput.push(s),t._a[fi]<=12&&!0===d(t).bigHour&&t._a[fi]>0&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[fi]=ye(t._locale,t._a[fi],t._meridiem),se(t),ie(t)}function ye(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(r=t.isPM(n),r&&e<12&&(e+=12),r||12!==e||(e=0),e):e}function be(t){var e,n,r,i,o;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)o=0,e=g({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],ve(e),p(e)&&(o+=d(e).charsLeftOver,o+=10*d(e).unusedTokens.length,d(e).score=o,(null==r||o<r)&&(r=o,n=e));c(t,n||e)}function _e(t){if(!t._d){var e=F(t._i);t._a=l([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),se(t)}}function we(t){var e=new v(ie(xe(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function xe(t){var e=t._i,r=t._f;return t._locale=t._locale||ne(t._l),null===e||void 0===r&&""===e?m({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),y(e)?new v(ie(e)):(s(e)?t._d=e:n(r)?be(t):r?ve(t):Ee(t),p(t)||(t._d=null),t))}function Ee(t){var i=t._i;o(i)?t._d=new Date(e.now()):s(i)?t._d=new Date(i.valueOf()):"string"==typeof i?ge(t):n(i)?(t._a=l(i.slice(0),function(t){return parseInt(t,10)}),se(t)):r(i)?_e(t):a(i)?t._d=new Date(i):e.createFromInputFallback(t)}function Me(t,e,o,a,s){var l={};return!0!==o&&!1!==o||(a=o,o=void 0),(r(t)&&i(t)||n(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=o,l._i=t,l._f=e,l._strict=a,we(l)}function Se(t,e,n,r){return Me(t,e,n,r,!1)}function Te(t,e){var r,i;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Se();for(r=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](r)||(r=e[i]);return r}function Ce(){return Te("isBefore",[].slice.call(arguments,0))}function Oe(){return Te("isAfter",[].slice.call(arguments,0))}function Ae(t){for(var e in t)if(-1===vi.call(Xi,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,r=0;r<Xi.length;++r)if(t[Xi[r]]){if(n)return!1;parseFloat(t[Xi[r]])!==_(t[Xi[r]])&&(n=!0)}return!0}function Ie(){return this._isValid}function Re(){return Ke(NaN)}function Pe(t){var e=F(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=Ae(e),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=ne(),this._bubble()}function Le(t){return t instanceof Pe}function Ne(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function ke(t,e){B(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+z(~~(t/60),2)+e+z(~~t%60,2)})}function De(t,e){var n=(e||"").match(t);if(null===n)return null;var r=n[n.length-1]||[],i=(r+"").match(Zi)||["-",0,0],o=60*i[1]+_(i[2]);return 0===o?0:"+"===i[0]?o:-o}function Fe(t,n){var r,i;return n._isUTC?(r=n.clone(),i=(y(t)||s(t)?t.valueOf():Se(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),e.updateOffset(r,!1),r):Se(t).local()}function je(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ue(t,n,r){var i,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=De(ri,t)))return this}else Math.abs(t)<16&&!r&&(t*=60);return!this._isUTC&&n&&(i=je(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!n||this._changeInProgress?en(this,Ke(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:je(this)}function ze(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Be(t){return this.utcOffset(0,t)}function Ve(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(je(this),"m")),this}function Ge(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=De(ni,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function He(t){return!!this.isValid()&&(t=t?Se(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function qe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function We(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t={};if(g(t,this),t=xe(t),t._a){var e=t._isUTC?f(t._a):Se(t._a);this._isDSTShifted=this.isValid()&&w(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ye(){return!!this.isValid()&&!this._isUTC}function Xe(){return!!this.isValid()&&this._isUTC}function Ze(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ke(t,e){var n,r,i,o=t,s=null;return Le(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:a(t)?(o={},e?o[e]=t:o.milliseconds=t):(s=Ki.exec(t))?(n="-"===s[1]?-1:1,o={y:0,d:_(s[ci])*n,h:_(s[fi])*n,m:_(s[hi])*n,s:_(s[di])*n,ms:_(Ne(1e3*s[pi]))*n}):(s=Qi.exec(t))?(n="-"===s[1]?-1:(s[1],1),o={y:Qe(s[2],n),M:Qe(s[3],n),w:Qe(s[4],n),d:Qe(s[5],n),h:Qe(s[6],n),m:Qe(s[7],n),s:Qe(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=$e(Se(o.from),Se(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new Pe(o),Le(t)&&u(t,"_locale")&&(r._locale=t._locale),r}function Qe(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Je(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function $e(t,e){var n;return t.isValid()&&e.isValid()?(e=Fe(e,t),t.isBefore(e)?n=Je(t,e):(n=Je(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function tn(t,e){return function(n,r){var i,o;return null===r||isNaN(+r)||(M(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Ke(n,r),en(this,i,t),this}}function en(t,n,r,i){var o=n._milliseconds,a=Ne(n._days),s=Ne(n._months);t.isValid()&&(i=null==i||i,s&&dt(t,rt(t,"Month")+s*r),a&&it(t,"Date",rt(t,"Date")+a*r),o&&t._d.setTime(t._d.valueOf()+o*r),i&&e.updateOffset(t,a||s))}function nn(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function rn(t,n){var r=t||Se(),i=Fe(r,this).startOf("day"),o=e.calendarFormat(this,i)||"sameElse",a=n&&(S(n[o])?n[o].call(this,r):n[o]);return this.format(a||this.localeData().calendar(o,this,Se(r)))}function on(){return new v(this)}function an(t,e){var n=y(t)?t:Se(t);return!(!this.isValid()||!n.isValid())&&(e=D(o(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function sn(t,e){var n=y(t)?t:Se(t);return!(!this.isValid()||!n.isValid())&&(e=D(o(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function ln(t,e,n,r){return r=r||"()",("("===r[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===r[1]?this.isBefore(e,n):!this.isAfter(e,n))}function un(t,e){var n,r=y(t)?t:Se(t);return!(!this.isValid()||!r.isValid())&&(e=D(e||"millisecond"),"millisecond"===e?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function cn(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function fn(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function hn(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(r=Fe(t,this),!r.isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),e=D(e)){case"year":o=dn(this,r)/12;break;case"month":o=dn(this,r);break;case"quarter":o=dn(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:b(o)}function dn(t,e){var n,r,i=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(i,"months");return e-o<0?(n=t.clone().add(i-1,"months"),r=(e-o)/(o-n)):(n=t.clone().add(i+1,"months"),r=(e-o)/(n-o)),-(i+r)||0}function pn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function mn(){if(!this.isValid())return null;var t=this.clone().utc();return t.year()<0||t.year()>9999?H(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):S(Date.prototype.toISOString)?this.toDate().toISOString():H(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function gn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=e+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)}function vn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=H(this,t);return this.localeData().postformat(n)}function yn(t,e){return this.isValid()&&(y(t)&&t.isValid()||Se(t).isValid())?Ke({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function bn(t){return this.from(Se(),t)}function _n(t,e){return this.isValid()&&(y(t)&&t.isValid()||Se(t).isValid())?Ke({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function wn(t){return this.to(Se(),t)}function xn(t){var e;return void 0===t?this._locale._abbr:(e=ne(t),null!=e&&(this._locale=e),this)}function En(){return this._locale}function Mn(t){switch(t=D(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Sn(t){return void 0===(t=D(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function Tn(){return this._d.valueOf()-6e4*(this._offset||0)}function Cn(){return Math.floor(this.valueOf()/1e3)}function On(){return new Date(this.valueOf())}function An(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function In(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Rn(){return this.isValid()?this.toISOString():null}function Pn(){return p(this)}function Ln(){return c({},d(this))}function Nn(){return d(this).overflow}function kn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Dn(t,e){B(0,[t,t.length],0,e)}function Fn(t){return Bn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function jn(t){return Bn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Un(){return Mt(this.year(),1,4)}function zn(){var t=this.localeData()._week;return Mt(this.year(),t.dow,t.doy)}function Bn(t,e,n,r,i){var o;return null==t?Et(this,r,i).year:(o=Mt(t,r,i),e>o&&(e=o),Vn.call(this,t,e,n,r,i))}function Vn(t,e,n,r,i){var o=xt(t,e,n,r,i),a=_t(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Gn(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Hn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function qn(t,e){e[pi]=_(1e3*("0."+t))}function Wn(){return this._isUTC?"UTC":""}function Yn(){return this._isUTC?"Coordinated Universal Time":""}function Xn(t){return Se(1e3*t)}function Zn(){return Se.apply(null,arguments).parseZone()}function Kn(t){return t}function Qn(t,e,n,r){var i=ne(),o=f().set(r,e);return i[n](o,t)}function Jn(t,e,n){if(a(t)&&(e=t,t=void 0),t=t||"",null!=e)return Qn(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Qn(t,r,n,"month");return i}function $n(t,e,n,r){"boolean"==typeof t?(a(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,a(e)&&(n=e,e=void 0),e=e||"");var i=ne(),o=t?i._week.dow:0;if(null!=n)return Qn(e,(n+o)%7,r,"day");var s,l=[];for(s=0;s<7;s++)l[s]=Qn(e,(s+o)%7,r,"day");return l}function tr(t,e){return Jn(t,e,"months")}function er(t,e){return Jn(t,e,"monthsShort")}function nr(t,e,n){return $n(t,e,n,"weekdays")}function rr(t,e,n){return $n(t,e,n,"weekdaysShort")}function ir(t,e,n){return $n(t,e,n,"weekdaysMin")}function or(){var t=this._data;return this._milliseconds=lo(this._milliseconds),this._days=lo(this._days),this._months=lo(this._months),t.milliseconds=lo(t.milliseconds),t.seconds=lo(t.seconds),t.minutes=lo(t.minutes),t.hours=lo(t.hours),t.months=lo(t.months),t.years=lo(t.years),this}function ar(t,e,n,r){var i=Ke(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function sr(t,e){return ar(this,t,e,1)}function lr(t,e){return ar(this,t,e,-1)}function ur(t){return t<0?Math.floor(t):Math.ceil(t)}function cr(){var t,e,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*ur(hr(s)+a),a=0,s=0),l.milliseconds=o%1e3,t=b(o/1e3),l.seconds=t%60,e=b(t/60),l.minutes=e%60,n=b(e/60),l.hours=n%24,a+=b(n/24),i=b(fr(a)),s+=i,a-=ur(hr(i)),r=b(s/12),s%=12,l.days=a,l.months=s,l.years=r,this}function fr(t){return 4800*t/146097}function hr(t){return 146097*t/4800}function dr(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=D(t))||"year"===t)return e=this._days+r/864e5,n=this._months+fr(e),"month"===t?n:n/12;switch(e=this._days+Math.round(hr(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}}function pr(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12):NaN}function mr(t){return function(){return this.as(t)}}function gr(){return Ke(this)}function vr(t){return t=D(t),this.isValid()?this[t+"s"]():NaN}function yr(t){return function(){return this.isValid()?this._data[t]:NaN}}function br(){return b(this.days()/7)}function _r(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function wr(t,e,n){var r=Ke(t).abs(),i=So(r.as("s")),o=So(r.as("m")),a=So(r.as("h")),s=So(r.as("d")),l=So(r.as("M")),u=So(r.as("y")),c=i<=To.ss&&["s",i]||i<To.s&&["ss",i]||o<=1&&["m"]||o<To.m&&["mm",o]||a<=1&&["h"]||a<To.h&&["hh",a]||s<=1&&["d"]||s<To.d&&["dd",s]||l<=1&&["M"]||l<To.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,_r.apply(null,c)}function xr(t){return void 0===t?So:"function"==typeof t&&(So=t,!0)}function Er(t,e){return void 0!==To[t]&&(void 0===e?To[t]:(To[t]=e,"s"===t&&(To.ss=e-1),!0))}function Mr(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=wr(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function Sr(t){return(t>0)-(t<0)||+t}function Tr(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,r=Co(this._milliseconds)/1e3,i=Co(this._days),o=Co(this._months);t=b(r/60),e=b(t/60),r%=60,t%=60,n=b(o/12),o%=12;var a=n,s=o,l=i,u=e,c=t,f=r?r.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var d=h<0?"-":"",p=Sr(this._months)!==Sr(h)?"-":"",m=Sr(this._days)!==Sr(h)?"-":"",g=Sr(this._milliseconds)!==Sr(h)?"-":"";return d+"P"+(a?p+a+"Y":"")+(s?p+s+"M":"")+(l?m+l+"D":"")+(u||c||f?"T":"")+(u?g+u+"H":"")+(c?g+c+"M":"")+(f?g+f+"S":"")}var Cr,Or;Or=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};var Ar=e.momentProperties=[],Ir=!1,Rr={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Pr;Pr=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)u(t,e)&&n.push(e);return n};var Lr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Nr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},kr=/\d{1,2}/,Dr={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Fr={},jr={},Ur=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,zr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Br={},Vr={},Gr=/\d/,Hr=/\d\d/,qr=/\d{3}/,Wr=/\d{4}/,Yr=/[+-]?\d{6}/,Xr=/\d\d?/,Zr=/\d\d\d\d?/,Kr=/\d\d\d\d\d\d?/,Qr=/\d{1,3}/,Jr=/\d{1,4}/,$r=/[+-]?\d{1,6}/,ti=/\d+/,ei=/[+-]?\d+/,ni=/Z|[+-]\d\d:?\d\d/gi,ri=/Z|[+-]\d\d(?::?\d\d)?/gi,ii=/[+-]?\d+(\.\d{1,3})?/,oi=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ai={},si={},li=0,ui=1,ci=2,fi=3,hi=4,di=5,pi=6,mi=7,gi=8;B("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),B(0,["YY",2],0,function(){return this.year()%100}),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),k("year","y"),j("year",1),W("Y",ei),W("YY",Xr,Hr),W("YYYY",Jr,Wr),W("YYYYY",$r,Yr),W("YYYYYY",$r,Yr),K(["YYYYY","YYYYYY"],li),K("YYYY",function(t,n){n[li]=2===t.length?e.parseTwoDigitYear(t):_(t)}),K("YY",function(t,n){n[li]=e.parseTwoDigitYear(t)}),K("Y",function(t,e){e[li]=parseInt(t,10)}),e.parseTwoDigitYear=function(t){return _(t)+(_(t)>68?1900:2e3)};var vi,yi=nt("FullYear",!0);vi=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},B("M",["MM",2],"Mo",function(){return this.month()+1}),B("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),B("MMMM",0,0,function(t){return this.localeData().months(this,t)}),k("month","M"),j("month",8),W("M",Xr),W("MM",Xr,Hr),W("MMM",function(t,e){return e.monthsShortRegex(t)}),W("MMMM",function(t,e){return e.monthsRegex(t)}),K(["M","MM"],function(t,e){e[ui]=_(t)-1}),K(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[ui]=i:d(n).invalidMonth=t});var bi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,_i="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),wi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),xi=oi,Ei=oi;B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),k("week","w"),k("isoWeek","W"),j("week",5),j("isoWeek",5),W("w",Xr),W("ww",Xr,Hr),W("W",Xr),W("WW",Xr,Hr),Q(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=_(t)});var Mi={dow:0,doy:6};B("d",0,"do","day"),B("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),B("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),B("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),k("day","d"),k("weekday","e"),k("isoWeekday","E"),j("day",11),j("weekday",11),j("isoWeekday",11),W("d",Xr),W("e",Xr),W("E",Xr),W("dd",function(t,e){return e.weekdaysMinRegex(t)}),W("ddd",function(t,e){return e.weekdaysShortRegex(t)}),W("dddd",function(t,e){return e.weekdaysRegex(t)}),Q(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:d(n).invalidWeekday=t}),Q(["d","e","E"],function(t,e,n,r){e[r]=_(t)});var Si="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ti="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ci="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Oi=oi,Ai=oi,Ii=oi;B("H",["HH",2],0,"hour"),B("h",["hh",2],0,Ht),B("k",["kk",2],0,qt),B("hmm",0,0,function(){return""+Ht.apply(this)+z(this.minutes(),2)}),B("hmmss",0,0,function(){return""+Ht.apply(this)+z(this.minutes(),2)+z(this.seconds(),2)}),B("Hmm",0,0,function(){return""+this.hours()+z(this.minutes(),2)}),B("Hmmss",0,0,function(){return""+this.hours()+z(this.minutes(),2)+z(this.seconds(),2)}),Wt("a",!0),Wt("A",!1),k("hour","h"),j("hour",13),W("a",Yt),W("A",Yt),W("H",Xr),W("h",Xr),W("k",Xr),W("HH",Xr,Hr),W("hh",Xr,Hr),W("kk",Xr,Hr),W("hmm",Zr),W("hmmss",Kr),W("Hmm",Zr),W("Hmmss",Kr),K(["H","HH"],fi),K(["k","kk"],function(t,e,n){var r=_(t);e[fi]=24===r?0:r}),K(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),K(["h","hh"],function(t,e,n){e[fi]=_(t),d(n).bigHour=!0}),K("hmm",function(t,e,n){var r=t.length-2;e[fi]=_(t.substr(0,r)),e[hi]=_(t.substr(r)),d(n).bigHour=!0}),K("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[fi]=_(t.substr(0,r)),e[hi]=_(t.substr(r,2)),e[di]=_(t.substr(i)),d(n).bigHour=!0}),K("Hmm",function(t,e,n){var r=t.length-2;e[fi]=_(t.substr(0,r)),e[hi]=_(t.substr(r))}),K("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[fi]=_(t.substr(0,r)),e[hi]=_(t.substr(r,2)),e[di]=_(t.substr(i))});var Ri,Pi=/[ap]\.?m?\.?/i,Li=nt("Hours",!0),Ni={calendar:Lr,longDateFormat:Nr,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:kr,relativeTime:Dr,months:_i,monthsShort:wi,week:Mi,weekdays:Si,weekdaysMin:Ci,weekdaysShort:Ti,meridiemParse:Pi},ki={},Di={},Fi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ji=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ui=/Z|[+-]\d\d(?::?\d\d)?/,zi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Bi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Vi=/^\/?Date\((\-?\d+)/i,Gi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Hi={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var qi=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Se.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:m()}),Wi=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Se.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:m()}),Yi=function(){return Date.now?Date.now():+new Date},Xi=["year","quarter","month","week","day","hour","minute","second","millisecond"];ke("Z",":"),ke("ZZ",""),W("Z",ri),W("ZZ",ri),K(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=De(ri,t)});var Zi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Ki=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Qi=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Ke.fn=Pe.prototype,Ke.invalid=Re;var Ji=tn(1,"add"),$i=tn(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var to=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});B(0,["gg",2],0,function(){return this.weekYear()%100}),B(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Dn("gggg","weekYear"),Dn("ggggg","weekYear"),Dn("GGGG","isoWeekYear"),Dn("GGGGG","isoWeekYear"),k("weekYear","gg"),k("isoWeekYear","GG"),j("weekYear",1),j("isoWeekYear",1),W("G",ei),W("g",ei),W("GG",Xr,Hr),W("gg",Xr,Hr),W("GGGG",Jr,Wr),W("gggg",Jr,Wr),W("GGGGG",$r,Yr),W("ggggg",$r,Yr),Q(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=_(t)}),Q(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),B("Q",0,"Qo","quarter"),k("quarter","Q"),j("quarter",7),W("Q",Gr),K("Q",function(t,e){e[ui]=3*(_(t)-1)}),B("D",["DD",2],"Do","date"),k("date","D"),j("date",9),W("D",Xr),W("DD",Xr,Hr),W("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),K(["D","DD"],ci),K("Do",function(t,e){e[ci]=_(t.match(Xr)[0])});var eo=nt("Date",!0);B("DDD",["DDDD",3],"DDDo","dayOfYear"),k("dayOfYear","DDD"),j("dayOfYear",4),W("DDD",Qr),W("DDDD",qr),K(["DDD","DDDD"],function(t,e,n){n._dayOfYear=_(t)}),B("m",["mm",2],0,"minute"),k("minute","m"),j("minute",14),W("m",Xr),W("mm",Xr,Hr),K(["m","mm"],hi);var no=nt("Minutes",!1);B("s",["ss",2],0,"second"),k("second","s"),j("second",15),W("s",Xr),W("ss",Xr,Hr),K(["s","ss"],di);var ro=nt("Seconds",!1);B("S",0,0,function(){return~~(this.millisecond()/100)}),B(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,function(){return 10*this.millisecond()}),B(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),B(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),B(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),B(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),B(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),k("millisecond","ms"),j("millisecond",16),W("S",Qr,Gr),W("SS",Qr,Hr),W("SSS",Qr,qr);var io;for(io="SSSS";io.length<=9;io+="S")W(io,ti);for(io="S";io.length<=9;io+="S")K(io,qn);var oo=nt("Milliseconds",!1);B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var ao=v.prototype;ao.add=Ji,ao.calendar=rn,ao.clone=on,ao.diff=hn,ao.endOf=Sn,ao.format=vn,ao.from=yn,ao.fromNow=bn,ao.to=_n,ao.toNow=wn,ao.get=ot,ao.invalidAt=Nn,ao.isAfter=an,ao.isBefore=sn,ao.isBetween=ln,ao.isSame=un,ao.isSameOrAfter=cn,ao.isSameOrBefore=fn,ao.isValid=Pn,ao.lang=to,ao.locale=xn,ao.localeData=En,ao.max=Wi,ao.min=qi,ao.parsingFlags=Ln,ao.set=at,ao.startOf=Mn,ao.subtract=$i,ao.toArray=An,ao.toObject=In,ao.toDate=On,ao.toISOString=mn,ao.inspect=gn,ao.toJSON=Rn,ao.toString=pn,ao.unix=Cn,ao.valueOf=Tn,ao.creationData=kn,ao.year=yi,ao.isLeapYear=et,ao.weekYear=Fn,ao.isoWeekYear=jn,ao.quarter=ao.quarters=Gn,ao.month=pt,ao.daysInMonth=mt,ao.week=ao.weeks=Ot,ao.isoWeek=ao.isoWeeks=At,ao.weeksInYear=zn,ao.isoWeeksInYear=Un,ao.date=eo,ao.day=ao.days=Ft,ao.weekday=jt,ao.isoWeekday=Ut,ao.dayOfYear=Hn,ao.hour=ao.hours=Li,ao.minute=ao.minutes=no,ao.second=ao.seconds=ro,ao.millisecond=ao.milliseconds=oo,ao.utcOffset=Ue,ao.utc=Be,ao.local=Ve,ao.parseZone=Ge,ao.hasAlignedHourOffset=He,ao.isDST=qe,ao.isLocal=Ye,ao.isUtcOffset=Xe,ao.isUtc=Ze,ao.isUTC=Ze,ao.zoneAbbr=Wn,ao.zoneName=Yn,ao.dates=E("dates accessor is deprecated. Use date instead.",eo),ao.months=E("months accessor is deprecated. Use month instead",pt),ao.years=E("years accessor is deprecated. Use year instead",yi),ao.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ze),ao.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",We);var so=O.prototype;so.calendar=A,so.longDateFormat=I,so.invalidDate=R,so.ordinal=P,so.preparse=Kn,so.postformat=Kn,so.relativeTime=L,so.pastFuture=N,so.set=T,so.months=ut,so.monthsShort=ct,so.monthsParse=ht,so.monthsRegex=vt,so.monthsShortRegex=gt,so.week=St,so.firstDayOfYear=Ct,so.firstDayOfWeek=Tt,so.weekdays=Pt,so.weekdaysMin=Nt,so.weekdaysShort=Lt,so.weekdaysParse=Dt,so.weekdaysRegex=zt,so.weekdaysShortRegex=Bt,so.weekdaysMinRegex=Vt,so.isPM=Xt,so.meridiem=Zt,$t("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===_(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),e.lang=E("moment.lang is deprecated. Use moment.locale instead.",$t),e.langData=E("moment.langData is deprecated. Use moment.localeData instead.",ne);var lo=Math.abs,uo=mr("ms"),co=mr("s"),fo=mr("m"),ho=mr("h"),po=mr("d"),mo=mr("w"),go=mr("M"),vo=mr("y"),yo=yr("milliseconds"),bo=yr("seconds"),_o=yr("minutes"),wo=yr("hours"),xo=yr("days"),Eo=yr("months"),Mo=yr("years"),So=Math.round,To={ss:44,s:45,m:45,h:22,d:26,M:11},Co=Math.abs,Oo=Pe.prototype;return Oo.isValid=Ie,Oo.abs=or,Oo.add=sr,Oo.subtract=lr,Oo.as=dr,Oo.asMilliseconds=uo,Oo.asSeconds=co,Oo.asMinutes=fo,Oo.asHours=ho,Oo.asDays=po,Oo.asWeeks=mo,Oo.asMonths=go,Oo.asYears=vo,Oo.valueOf=pr,Oo._bubble=cr,Oo.clone=gr,Oo.get=vr,Oo.milliseconds=yo,Oo.seconds=bo,Oo.minutes=_o,Oo.hours=wo,Oo.days=xo,Oo.weeks=br,Oo.months=Eo,Oo.years=Mo,Oo.humanize=Mr,Oo.toISOString=Tr,Oo.toString=Tr,Oo.toJSON=Tr,Oo.locale=xn,Oo.localeData=En,Oo.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Tr),Oo.lang=to,B("X",0,0,"unix"),B("x",0,0,"valueOf"),W("x",ei),W("X",ii),K("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),K("x",function(t,e,n){n._d=new Date(_(t))}),e.version="2.19.4",function(t){Cr=t}(Se),e.fn=ao,e.min=Ce,e.max=Oe,e.now=Yi,e.utc=f,e.unix=Xn,e.months=tr,e.isDate=s,e.locale=$t,e.invalid=m,e.duration=Ke,e.isMoment=y,e.weekdays=nr,e.parseZone=Zn,e.localeData=ne,e.isDuration=Le,e.monthsShort=er,e.weekdaysMin=ir,e.defineLocale=te,e.updateLocale=ee,e.locales=re,e.weekdaysShort=rr,e.normalizeUnits=D,e.relativeTimeRounding=xr,e.relativeTimeThreshold=Er,e.calendarFormat=nn,e.prototype=ao,e})}).call(e,n(120)(t))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(4),d=n.n(h),p=n(166),m=d.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g="https://atlas.cyclomedia.com/recordings/wfs",v=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);for(var o=arguments.length,a=Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return i(this,(t=e.__proto__||s()(e)).call.apply(t,[this,m({dataUri:g},n)].concat(a)))}return o(e,t),e}(p.a);e.a=v},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new l.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return l.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return g});var o=n(21),a=n.n(o),s=n(19),l=n.n(s),u=n(1),c=n.n(u),f=n(141),h=n.n(f),d=n(998),p=n(143),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),c()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g={LOAD_START:"smartclickloadstart",LOAD_SUCCESS:"smartclickloadsuccess",LOAD_FAILURE:"smartclickloadfailure",LOAD_COMPLETE:"smartclickloadcomplete",LOAD_CANCEL:"smartclickloadcancel"},v=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),h()(this,CM.Events.prototype);var n=e.authHeaders,r=e.apiKey;this._uriManager=new d.a(e),this._authHeaders=n,this._apiKey=r}return m(t,[{key:"getUriManager",value:function(){return this._uriManager}},{key:"setUriManager",value:function(t){this._uriManager=t}},{key:"requestTriangulation",value:function(){function t(t,n,r,i,o){return e.apply(this,arguments)}var e=r(a.a.mark(function t(e,n,r,i,o){var s,l,u,c,f,h;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.fireEvent("smartclickloadstart"),s=this._uriManager.getUriFromClick(e,n,r,i,o)+"&apiKey="+this._apiKey,l=new Headers(this._authHeaders||{}),u=this._uriManager.withCredentials||!1,l.append("Accept","text/xml"),c=new Request(s,{method:"GET",headers:l,withCredentials:u}),f=void 0,t.prev=7,t.next=10,fetch(c);case 10:if(f=t.sent,f.ok){t.next=13;break}throw new Error("REQUEST_FAILED");case 13:return h=Object(p.a)(f),this.fireEvent("smartclickloadsuccess"),this.fireEvent("smartclickloadcomplete"),t.abrupt("return",h);case 19:throw t.prev=19,t.t0=t.catch(7),this.fireEvent("smartclickloadfailure"),this.fireEvent("smartclickloadcomplete"),new Error("smartclickloadfailure");case 24:case"end":return t.stop()}},t,this,[[7,19]])}));return t}()}]),t}();e.b=v},function(t,e,n){"use strict";function r(t,e,n,r){for(var i=e.clone().multiplyScalar(-1),o=t.clone().multiplyScalar(-1),a=2/r,s=[],c=0;c<r;c++){for(var f=o.clone().add(t.clone().multiplyScalar(c*a)),h=o.clone().add(t.clone().multiplyScalar(a*(c+1))),d=[],p=0;p<r;p++){var m=i.clone().add(e.clone().multiplyScalar(p*a)),g=i.clone().add(e.clone().multiplyScalar((p+1)*a)),v=f.clone().add(m).add(n),y=f.clone().add(g).add(n),b=h.clone().add(g).add(n),_=h.clone().add(m).add(n),w=new l.Geometry;w.vertices.push(v,y,b,_);w.faceVertexUvs[0].push([new l.Vector2(1,0),new l.Vector2(1,1),new l.Vector2(0,1)]),w.faceVertexUvs[0].push([new l.Vector2(0,1),new l.Vector2(0,0),new l.Vector2(1,0)]),w.faces.push(new l.Face3(2,1,0),new l.Face3(0,3,2)),w.computeBoundingSphere();var x=new l.Mesh(w,u);d.push(x)}s.push(d)}return s}function i(t,e){var n={},r=new l.Vector3(0,-1,0),i=new l.Vector3(1,0,0),o=new l.Vector3(0,0,-1),a=isNaN(e)?1:e;return r.multiplyScalar(t),i.multiplyScalar(t),o.multiplyScalar(t),n.F=this._makeFaceTiles(r,i,o,a),i=new l.Vector3(0,0,t),o=new l.Vector3(t,0,0),n.R=this._makeFaceTiles(r,i,o,a),i=new l.Vector3(-t,0,0),o=new l.Vector3(0,0,t),n.B=this._makeFaceTiles(r,i,o,a),i=new l.Vector3(0,0,-t),o=new l.Vector3(-t,0,0),n.L=this._makeFaceTiles(r,i,o,a),r=new l.Vector3(0,0,t),i=new l.Vector3(-t,0,0),o=new l.Vector3(0,t,0),n.U=this._makeFaceTiles(r,i,o,a),r=new l.Vector3(0,0,-t),i=new l.Vector3(-t,0,0),o=new l.Vector3(0,-t,0),n.D=this._makeFaceTiles(r,i,o,a),n}function o(t,e){var n=0;for(var r in t){var i=!0,o=!1,a=void 0;try{for(var l,u=s()(t[r]);!(i=(l=u.next()).done);i=!0){var c=l.value,f=!0,h=!1,d=void 0;try{for(var p,m=s()(c);!(f=(p=m.next()).done);f=!0){e(p.value,n),n++}}catch(t){h=!0,d=t}finally{try{!f&&m.return&&m.return()}finally{if(h)throw d}}}}catch(t){o=!0,a=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}}}var a=n(17),s=n.n(a),l=n(60),u=(n.n(l),new l.MeshBasicMaterial({transparent:!0,opacity:0,depthWrite:!1})),c=["L","R","U","D","F","B"],f=["B","L","F","R","D","U"],h={_applyToAllPanes:o,_makeFaceTiles:r,_makeCube:i,_invisibleMaterial:u,_tileInfoToFace:c,_lowResToFace:f};e.a=h},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(102),s=n.n(a),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(){function t(e,n,i,o,a,l,u,c){r(this,t),this.id=s()(),this.name=e,this.object=n,this.type=i,this.nested=!1,this.hasDependency=void 0!==o&&o,this.onMouseOver=a,this.onMouseOut=l,this.onMouseDown=u,this.onMouseUp=c,this.uniformScale=!1,this.scale=1,this.garbage=!1,void 0===n&&void 0===e||(n.name=e)}return l(t,[{key:"hasGeometry",get:function(){return this.object&&!!this.object.geometry}},{key:"hasMaterial",get:function(){return this.hasGeometry&&!!this.object.material}},{key:"hasBitmapMaterial",get:function(){return this.hasMaterial&&!!this.object.material.map}}]),t}();e.a=u},function(t,e,n){"use strict";function r(t){var e=f.nextPow2(t);p.length<e&&(c.free(p),p=c.mallocInt32(e)),m.length<e&&(c.free(m),m=c.mallocInt32(e)),g.length<e&&(c.free(g),g=c.mallocInt32(e)),v.length<e&&(c.free(v),v=c.mallocInt32(e)),y.length<e&&(c.free(y),y=c.mallocInt32(e)),b.length<e&&(c.free(b),b=c.mallocInt32(e));var n=8*e;_.length<n&&(c.free(_),_=c.mallocDouble(n))}function i(t,e,n,r){var i=e[r],o=t[n-1];t[i]=o,e[o]=i}function o(t,e,n,r){t[n]=r,e[r]=n}function a(t,e,n,r,a,s,l,u,c,f){for(var y=0,b=2*t,w=t-1,x=b-1,E=n;E<r;++E){var M=s[E],S=b*E;_[y++]=a[S+w],_[y++]=-(M+1),_[y++]=a[S+x],_[y++]=M}for(var E=l;E<u;++E){var M=f[E]+d,T=b*E;_[y++]=c[T+w],_[y++]=-M,_[y++]=c[T+x],_[y++]=M}var C=y>>>1;h(_,C);for(var O=0,A=0,E=0;E<C;++E){var I=0|_[2*E+1];if(I>=d)I=I-d|0,i(g,v,A--,I);else if(I>=0)i(p,m,O--,I);else if(I<=-d){I=-I-d|0;for(var R=0;R<O;++R){var P=e(p[R],I);if(void 0!==P)return P}o(g,v,A++,I)}else{I=-I-1|0;for(var R=0;R<A;++R){var P=e(I,g[R]);if(void 0!==P)return P}o(p,m,O++,I)}}}function s(t,e,n,r,a,s,l,u,c,f){for(var d=0,w=2*t,x=t-1,E=w-1,M=n;M<r;++M){var S=s[M]+1<<1,T=w*M;_[d++]=a[T+x],_[d++]=-S,_[d++]=a[T+E],_[d++]=S}for(var M=l;M<u;++M){var S=f[M]+1<<1,C=w*M;_[d++]=c[C+x],_[d++]=1|-S,_[d++]=c[C+E],_[d++]=1|S}var O=d>>>1;h(_,O);for(var A=0,I=0,R=0,M=0;M<O;++M){var P=0|_[2*M+1],L=1&P;if(M<O-1&&P>>1==_[2*M+3]>>1&&(L=2,M+=1),P<0){for(var N=-(P>>1)-1,k=0;k<R;++k){var D=e(y[k],N);if(void 0!==D)return D}if(0!==L)for(var k=0;k<A;++k){var D=e(p[k],N);if(void 0!==D)return D}if(1!==L)for(var k=0;k<I;++k){var D=e(g[k],N);if(void 0!==D)return D}0===L?o(p,m,A++,N):1===L?o(g,v,I++,N):2===L&&o(y,b,R++,N)}else{var N=(P>>1)-1;0===L?i(p,m,A--,N):1===L?i(g,v,I--,N):2===L&&i(y,b,R--,N)}}}function l(t,e,n,r,a,s,l,u,c,f,g,v){var y=0,b=2*t,w=e,x=e+t,E=1,M=1;r?M=d:E=d;for(var S=a;S<s;++S){var T=S+E,C=b*S;_[y++]=l[C+w],_[y++]=-T,_[y++]=l[C+x],_[y++]=T}for(var S=c;S<f;++S){var T=S+M,O=b*S;_[y++]=g[O+w],_[y++]=-T}var A=y>>>1;h(_,A);for(var I=0,S=0;S<A;++S){var R=0|_[2*S+1];if(R<0){var T=-R,P=!1;if(T>=d?(P=!r,T-=d):(P=!!r,T-=1),P)o(p,m,I++,T);else{var L=v[T],N=b*T,k=g[N+e+1],D=g[N+e+1+t];t:for(var F=0;F<I;++F){var j=p[F],U=b*j;if(!(D<l[U+e+1]||l[U+e+1+t]<k)){for(var z=e+2;z<t;++z)if(g[N+z+t]<l[U+z]||l[U+z+t]<g[N+z])continue t;var B,V=u[j];if(void 0!==(B=r?n(L,V):n(V,L)))return B}}}}else i(p,m,I--,R-E)}}function u(t,e,n,r,i,o,a,s,l,u,c){for(var f=0,m=2*t,g=e,v=e+t,y=r;y<i;++y){var b=y+d,w=m*y;_[f++]=o[w+g],_[f++]=-b,_[f++]=o[w+v],_[f++]=b}for(var y=s;y<l;++y){var b=y+1,x=m*y;_[f++]=u[x+g],_[f++]=-b}var E=f>>>1;h(_,E);for(var M=0,y=0;y<E;++y){var S=0|_[2*y+1];if(S<0){var b=-S;if(b>=d)p[M++]=b-d;else{b-=1;var T=c[b],C=m*b,O=u[C+e+1],A=u[C+e+1+t];t:for(var I=0;I<M;++I){var R=p[I],P=a[R];if(P===T)break;var L=m*R;if(!(A<o[L+e+1]||o[L+e+1+t]<O)){for(var N=e+2;N<t;++N)if(u[C+N+t]<o[L+N]||o[L+N+t]<u[C+N])continue t;var k=n(P,T);if(void 0!==k)return k}}}}else{for(var b=S-d,I=M-1;I>=0;--I)if(p[I]===b){for(var N=I+1;N<M;++N)p[N-1]=p[N];break}--M}}}t.exports={init:r,sweepBipartite:a,sweepComplete:s,scanBipartite:l,scanComplete:u};var c=n(337),f=n(248),h=n(1016),d=1<<28,p=c.mallocInt32(1024),m=c.mallocInt32(1024),g=c.mallocInt32(1024),v=c.mallocInt32(1024),y=c.mallocInt32(1024),b=c.mallocInt32(1024),_=c.mallocDouble(8192)},function(t,e,n){"use strict";function r(t,e){var n="abcdef".split("").concat(e),r=[];return t.indexOf("lo")>=0&&r.push("lo=e[k+n]"),t.indexOf("hi")>=0&&r.push("hi=e[k+o]"),n.push(i.replace("_",r.join()).replace("$",t)),Function.apply(void 0,n)}t.exports=r;var i="for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m"},function(t,e,n){"use strict";function r(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var i=n[r-1]=new Array(t.length-1),o=0,a=0;o<t.length;++o)o!==e&&(i[a++]=t[r][o]);return n}function i(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m",r,"[",t-n-1,"]"].join("")}return e}function o(t){return 1&t?"-":""}function a(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",a(t.slice(0,e)),",",a(t.slice(e)),")"].join("")}function s(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var e=[],n=0;n<t.length;++n)e.push(["scale(",a(s(r(t,n))),",",o(n),t[0][n],")"].join(""));return e}function l(t){for(var e=[],n=[],o=i(t),l=[],u=0;u<t;++u)0==(1&u)?e.push.apply(e,s(r(o,u))):n.push.apply(n,s(r(o,u))),l.push("m"+u);var p=a(e),m=a(n),g="orientation"+t+"Exact",v=["function ",g,"(",l.join(),"){var p=",p,",n=",m,",d=sub(p,n);return d[d.length-1];};return ",g].join("");return new Function("sum","prod","scale","sub",v)(f,c,h,d)}function u(t){var e=v[t.length];return e||(e=v[t.length]=l(t.length)),e.apply(void 0,t)}var c=n(338),f=n(485),h=n(486),d=n(487),p=5,m=l(3),g=l(4),v=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var r,i=(t[1]-n[1])*(e[0]-n[0]),o=(t[0]-n[0])*(e[1]-n[1]),a=i-o;if(i>0){if(o<=0)return a;r=i+o}else{if(!(i<0))return a;if(o>=0)return a;r=-(i+o)}var s=3.3306690738754716e-16*r;return a>=s||a<=-s?a:m(t,e,n)},function(t,e,n,r){var i=t[0]-r[0],o=e[0]-r[0],a=n[0]-r[0],s=t[1]-r[1],l=e[1]-r[1],u=n[1]-r[1],c=t[2]-r[2],f=e[2]-r[2],h=n[2]-r[2],d=o*u,p=a*l,m=a*s,v=i*u,y=i*l,b=o*s,_=c*(d-p)+f*(m-v)+h*(y-b),w=(Math.abs(d)+Math.abs(p))*Math.abs(c)+(Math.abs(m)+Math.abs(v))*Math.abs(f)+(Math.abs(y)+Math.abs(b))*Math.abs(h),x=7.771561172376103e-16*w;return _>x||-_>x?_:g(t,e,n,r)}];!function(){for(;v.length<=p;)v.push(l(v.length));for(var e=[],n=["slow"],r=0;r<=p;++r)e.push("a"+r),n.push("o"+r);for(var i=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"],r=2;r<=p;++r)i.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var o=Function.apply(void 0,n);t.exports=o.apply(void 0,[u].concat(v));for(var r=0;r<=p;++r)t.exports[r]=v[r]}()},function(t,e,n){"use strict";function r(t,e){var n=t+e,r=n-t,i=n-r,o=e-r,a=t-i,s=a+o;return s?[s,n]:[n]}function i(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return r(t[0],e[0]);var o,a,s=n+i,l=new Array(s),u=0,c=0,f=0,h=Math.abs,d=t[c],p=h(d),m=e[f],g=h(m);p<g?(a=d,(c+=1)<n&&(d=t[c],p=h(d))):(a=m,(f+=1)<i&&(m=e[f],g=h(m))),c<n&&p<g||f>=i?(o=d,(c+=1)<n&&(d=t[c],p=h(d))):(o=m,(f+=1)<i&&(m=e[f],g=h(m)));for(var v,y,b,_,w,x=o+a,E=x-o,M=a-E,S=M,T=x;c<n&&f<i;)p<g?(o=d,(c+=1)<n&&(d=t[c],p=h(d))):(o=m,(f+=1)<i&&(m=e[f],g=h(m))),a=S,x=o+a,E=x-o,M=a-E,M&&(l[u++]=M),v=T+x,y=v-T,b=v-y,_=x-y,w=T-b,S=w+_,T=v;for(;c<n;)o=d,a=S,x=o+a,E=x-o,M=a-E,M&&(l[u++]=M),v=T+x,y=v-T,b=v-y,_=x-y,w=T-b,S=w+_,T=v,(c+=1)<n&&(d=t[c]);for(;f<i;)o=m,a=S,x=o+a,E=x-o,M=a-E,M&&(l[u++]=M),v=T+x,y=v-T,b=v-y,_=x-y,w=T-b,S=w+_,T=v,(f+=1)<i&&(m=e[f]);return S&&(l[u++]=S),T&&(l[u++]=T),u||(l[u++]=0),l.length=u,l}t.exports=i},function(t,e,n){"use strict";function r(t,e){var n=t.length;if(1===n){var r=i(t[0],e);return r[0]?r:[r[1]]}var a=new Array(2*n),s=[.1,.1],l=[.1,.1],u=0;i(t[0],e,s),s[0]&&(a[u++]=s[0]);for(var c=1;c<n;++c){i(t[c],e,l);var f=s[1];o(f,l[0],s),s[0]&&(a[u++]=s[0]);var h=l[1],d=s[1],p=h+d,m=p-h,g=d-m;s[1]=p,g&&(a[u++]=g)}return s[1]&&(a[u++]=s[1]),0===u&&(a[u++]=0),a.length=u,a}var i=n(338),o=n(1021);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=t+e,r=n-t,i=n-r,o=e-r,a=t-i,s=a+o;return s?[s,n]:[n]}function i(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return r(t[0],-e[0]);var o,a,s=n+i,l=new Array(s),u=0,c=0,f=0,h=Math.abs,d=t[c],p=h(d),m=-e[f],g=h(m);p<g?(a=d,(c+=1)<n&&(d=t[c],p=h(d))):(a=m,(f+=1)<i&&(m=-e[f],g=h(m))),c<n&&p<g||f>=i?(o=d,(c+=1)<n&&(d=t[c],p=h(d))):(o=m,(f+=1)<i&&(m=-e[f],g=h(m)));for(var v,y,b,_,w,x=o+a,E=x-o,M=a-E,S=M,T=x;c<n&&f<i;)p<g?(o=d,(c+=1)<n&&(d=t[c],p=h(d))):(o=m,(f+=1)<i&&(m=-e[f],g=h(m))),a=S,x=o+a,E=x-o,M=a-E,M&&(l[u++]=M),v=T+x,y=v-T,b=v-y,_=x-y,w=T-b,S=w+_,T=v;for(;c<n;)o=d,a=S,x=o+a,E=x-o,M=a-E,M&&(l[u++]=M),v=T+x,y=v-T,b=v-y,_=x-y,w=T-b,S=w+_,T=v,(c+=1)<n&&(d=t[c]);for(;f<i;)o=m,a=S,x=o+a,E=x-o,M=a-E,M&&(l[u++]=M),v=T+x,y=v-T,b=v-y,_=x-y,w=T-b,S=w+_,T=v,(f+=1)<i&&(m=-e[f]);return S&&(l[u++]=S),T&&(l[u++]=T),u||(l[u++]=0),l.length=u,l}t.exports=i},function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&Boolean(t.words)}n(249);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o.exponent(t);return e<52?new i(t):new i(t*Math.pow(2,52-e)).ushln(e-52)}var i=n(249),o=n(340);t.exports=r},function(t,e,n){"use strict";function r(t,e){return i(t[0].mul(e[1]),t[1].mul(e[0]))}var i=n(202);t.exports=r},function(t,e,n){"use strict";function r(t,e){return i(t[0].mul(e[0]),t[1].mul(e[1]))}var i=n(202);t.exports=r},function(t,e,n){"use strict";function r(t,e){return i(t[0].mul(e[1]).sub(t[1].mul(e[0])),t[1].mul(e[1]))}var i=n(202);t.exports=r},function(t,e,n){var r=n(1069),i=n(200),o=n(495),a=n(1083),s=n(1094),l=Array.prototype.slice,u=n(1101),c={on:function(t,e,n){return u.eventsApi(this,"on",t,[e,n])&&e?(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:n,ctx:n||this}),this):this},once:function(t,e,n){if(!u.eventsApi(this,"once",t,[e,n])||!e)return this;var i=this,o=r(function(){i.off(t,o),e.apply(this,arguments)});return o._callback=e,this.on(t,o,n)},off:function(t,e,n){var r,o,a,s,l,c,f,h;if(!this._events||!u.eventsApi(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events=void 0,this;for(s=t?[t]:i(this._events),l=0,c=s.length;l<c;l++)if(t=s[l],a=this._events[t]){if(this._events[t]=r=[],e||n)for(f=0,h=a.length;f<h;f++)o=a[f],(e&&e!==o.callback&&e!==o.callback._callback||n&&n!==o.context)&&r.push(o);r.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=l.call(arguments,1);if(!u.eventsApi(this,"trigger",t,e))return this;var n=this._events[t],r=this._events.all;return n&&u.triggerEvents(n,e),r&&u.triggerEvents(r,arguments),this},stopListening:function(t,e,n){var r=this._listeningTo;if(!r)return this;var i=!e&&!n;n||"object"!=typeof e||(n=this),t&&((r={})[t._listenId]=t);var a=this;return s(r,function(t,r){t.off(e,n,a),(i||o(t._events))&&delete a._listeningTo[r]}),this},createEmitter:function(t){return a(t||{},c)},listenTo:u.createListenMethod("on"),listenToOnce:u.createListenMethod("once"),listenToAndRun:function(t,e,n){return this.listenTo.apply(this,arguments),n||"object"!=typeof e||(n=this),n.apply(this),this}};c.bind=c.on,c.unbind=c.off,c.removeListener=c.off,c.removeAllListeners=c.off,c.emit=c.trigger,t.exports=c},function(t,e,n){function r(t){var e=i(t),n=e%1;return e===e?n?e-n:e:0}var i=n(1071);t.exports=r},function(t,e,n){function r(t){if(null==t)return!0;if(l(t)&&(s(t)||"string"==typeof t||"function"==typeof t.splice||u(t)||f(t)||a(t)))return!t.length;var e=o(t);if(e==h||e==d)return!t.size;if(c(t))return!i(t).length;for(var n in t)if(m.call(t,n))return!1;return!0}var i=n(467),o=n(1073),a=n(462),s=n(168),l=n(169),u=n(463),c=n(333),f=n(465),h="[object Map]",d="[object Set]",p=Object.prototype,m=p.hasOwnProperty;t.exports=r},function(t,e){function n(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var r=Function.prototype,i=r.toString;t.exports=n},function(t,e,n){function r(t,e,n){var r=t[e];s.call(t,e)&&o(r,n)&&(void 0!==n||e in t)||i(t,e,n)}var i=n(498),o=n(500),a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var i=n(499);t.exports=r},function(t,e,n){var r=n(171),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){function r(t){return null==t?"":i(t)}var i=n(1103);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}t.exports=n},function(t,e,n){t.exports={default:n(1106),__esModule:!0}},function(t,e,n){var r;!function(i){"use strict";var o=i.HTMLCanvasElement&&i.HTMLCanvasElement.prototype,a=i.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),s=a&&i.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),l=i.BlobBuilder||i.WebKitBlobBuilder||i.MozBlobBuilder||i.MSBlobBuilder,u=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,c=(a||l)&&i.atob&&i.ArrayBuffer&&i.Uint8Array&&function(t){var e,n,r,i,o,c,f,h,d;if(!(e=t.match(u)))throw new Error("invalid data URI");for(n=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),r=!!e[4],i=t.slice(e[0].length),o=r?atob(i):decodeURIComponent(i),c=new ArrayBuffer(o.length),f=new Uint8Array(c),h=0;h<o.length;h+=1)f[h]=o.charCodeAt(h);return a?new Blob([s?f:c],{type:n}):(d=new l,d.append(c),d.getBlob(n))};i.HTMLCanvasElement&&!o.toBlob&&(o.mozGetAsFile?o.toBlob=function(t,e,n){var r=this;setTimeout(function(){t(n&&o.toDataURL&&c?c(r.toDataURL(e,n)):r.mozGetAsFile("blob",e))})}:o.toDataURL&&c&&(o.toBlob=function(t,e,n){var r=this;setTimeout(function(){t(c(r.toDataURL(e,n)))})})),void 0!==(r=function(){return c}.call(e,n,e,t))&&(t.exports=r)}(window)},function(t,e,n){"use strict";var r=n(1110).default;n(1117),e=t.exports=r,e.default=e},function(t,e,n){"use strict";function r(t){var e,n,r,o,a=Array.prototype.slice.call(arguments,1);for(e=0,n=a.length;e<n;e+=1)if(r=a[e])for(o in r)i.call(r,o)&&(t[o]=r[o]);return t}e.extend=r;var i=Object.prototype.hasOwnProperty;e.hop=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){function r(){v===g&&(v=g.slice())}function o(){return m}function s(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return r(),v.push(t),function(){if(e){e=!1,r();var n=v.indexOf(t);v.splice(n,1)}}}function c(t){if(!(0,a.default)(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw new Error("Reducers may not dispatch actions.");try{y=!0,m=p(m,t)}finally{y=!1}for(var e=g=v,n=0;n<e.length;n++){(0,e[n])()}return t}function f(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");p=t,c({type:u.INIT})}function h(){var t,e=s;return t={subscribe:function(t){function n(){t.next&&t.next(o())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:e(n)}}},t[l.default]=function(){return this},t}var d;if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(i)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var p=t,m=e,g=[],v=g,y=!1;return c({type:u.INIT}),d={dispatch:c,subscribe:s,getState:o,replaceReducer:f},d[l.default]=h,d}e.__esModule=!0,e.ActionTypes=void 0,e.default=i;var o=n(146),a=r(o),s=n(1140),l=r(s),u=e.ActionTypes={INIT:"@@redux/INIT"}},function(t,e,n){"use strict";function r(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(t){}}e.__esModule=!0,e.default=r},function(t,e,n){"use strict";function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}e.__esModule=!0,e.default=r},function(t,e){function n(t){return i(t)&&p.call(t,"callee")&&(!g.call(t,"callee")||m.call(t)==c)}function r(t){return null!=t&&a(t.length)&&!o(t)}function i(t){return l(t)&&r(t)}function o(t){var e=s(t)?m.call(t):"";return e==f||e==h}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=u}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function l(t){return!!t&&"object"==typeof t}var u=9007199254740991,c="[object Arguments]",f="[object Function]",h="[object GeneratorFunction]",d=Object.prototype,p=d.hasOwnProperty,m=d.toString,g=d.propertyIsEnumerable;t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=arguments.length<=1||void 0===arguments[1]?a.default:arguments[1],n=arguments[2];(0,h.default)((0,l.default)(e)||(0,c.default)(e),"Expected payloadCreator to be a function, undefined or null");var r=(0,c.default)(e)||e===a.default?a.default:function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t instanceof Error?t:e.apply(void 0,[t].concat(r))},i=(0,l.default)(n),o=t.toString(),s=function(){var e=r.apply(void 0,arguments),o={type:t};return e instanceof Error&&(o.error=!0),void 0!==e&&(o.payload=e),i&&(o.meta=n.apply(void 0,arguments)),o};return s.toString=function(){return o},s}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=n(172),a=r(o),s=n(118),l=r(s),u=n(1156),c=r(u),f=n(90),h=r(f)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=arguments.length<=1||void 0===arguments[1]?f.default:arguments[1],n=arguments[2],r=t.toString().split(_.ACTION_TYPE_DELIMITER);(0,b.default)(!(0,m.default)(n),"defaultState for reducer handling "+r.join(", ")+" should be defined"),(0,b.default)((0,s.default)(e)||(0,u.default)(e),"Expected reducer to be a function or object with next and throw reducers");var i=(0,s.default)(e)?[e,e]:[e.next,e.throw].map(function(t){return(0,d.default)(t)?f.default:t}),a=o(i,2),l=a[0],c=a[1];return function(){var t=arguments.length<=0||void 0===arguments[0]?n:arguments[0],e=arguments[1],i=e.type;return i&&(0,v.default)(r,i.toString())?(!0===e.error?c:l)(t,e):t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=i;var a=n(118),s=r(a),l=n(146),u=r(l),c=n(172),f=r(c),h=n(513),d=r(h),p=n(1157),m=r(p),g=n(1158),v=r(g),y=n(90),b=r(y),_=n(514)},function(t,e){function n(t){return null==t}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return(0,l.default)(t)||(0,c.default)(t)||(0,g.default)(t)}function o(t){return!(0,h.default)(t)&&t.every(i)}function a(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];(0,y.default)(o(e),"Expected action types to be strings, symbols, or action creators");var r=e.map(p.default).join(b);return{toString:function(){return r}}}Object.defineProperty(e,"__esModule",{value:!0}),e.ACTION_TYPE_DELIMITER=void 0,e.default=a;var s=n(349),l=r(s),u=n(118),c=r(u),f=n(495),h=r(f),d=n(501),p=r(d),m=n(348),g=r(m),v=n(90),y=r(v),b=e.ACTION_TYPE_DELIMITER="||"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){function e(n){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],o=(0,a.default)(i.shift());i.length?(r[o]||(r[o]={}),e(n,r[o],i)):r[o]=t[n]}var n=arguments.length<=1||void 0===arguments[1]?d:arguments[1],r={};return Object.getOwnPropertyNames(t).forEach(function(t){return e(t,r,t.split(n))}),r}Object.defineProperty(e,"__esModule",{value:!0}),e.unflattenActionCreators=e.flattenReducerMap=e.flattenActionMap=void 0;var o=n(516),a=r(o),s=n(350),l=r(s),u=n(1167),c=r(u),f=n(146),h=r(f),d="/",p=function(t){return function e(n){function r(t){return a?""+a+i+t:t}var i=arguments.length<=1||void 0===arguments[1]?d:arguments[1],o=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],a=arguments.length<=3||void 0===arguments[3]?"":arguments[3];return(0,l.default)(n).forEach(function(a){var s=r(a),l=n[a];t(l)?e(n[a],i,o,s):o[s]=n[a]}),o}},m=p(h.default),g=p(function(t){return(0,h.default)(t)&&!(0,c.default)(t)});e.flattenActionMap=m,e.flattenReducerMap=g,e.unflattenActionCreators=i},function(t,e,n){"use strict";function r(t){return t.match(i).reduce(function(t,e,n){return t+(0===n?e.toLowerCase():e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())},"")}Object.defineProperty(e,"__esModule",{value:!0});var i=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['â€™](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['â€™](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['â€™](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['â€™](?:D|LL|M|RE|S|T|VE))?|\d*(?:(?:1ST|2ND|3RD|(?![123])\dTH)\b)|\d*(?:(?:1st|2nd|3rd|(?![123])\dth)\b)|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g;e.default=function(t){return t.split("/").map(r).join("/")}},function(t,e,n){t.exports={default:n(1180),__esModule:!0}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function t(e,n){r(this,t),this.username=e,this.password=n};e.a=i},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(7),l=n.n(s),u=n(6),c=n.n(u),f=n(5),h=n.n(f),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(18),y=n.n(v),b=n(252),_=n(205),w=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=function(t){function e(t){var n=r(t,[]);return i(this,e),o(this,(e.__proto__||l()(e)).call(this,w({},e.defaults,n)))}return a(e,t),x(e,[{key:"toMapLayer",value:function(){return new y.a.layer.Group({minResolution:this.minResolution,maxResolution:this.maxResolution,visible:this.visible,layers:this.layers.map(function(t){return Object(b.b)(t).toMapLayer()})})}},{key:"addLayer",value:function(t){this.layers.push(t)}}]),e}(_.a);E.defaults={type:"LayerGroup",nameIntl:"layer.LayerGroup.name",layers:[]},e.a=E},function(t,e,n){"use strict";e.__esModule=!0,e.storeShape=e.subscriptionShape=void 0;var r=n(3),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.subscriptionShape=i.default.shape({trySubscribe:i.default.func.isRequired,tryUnsubscribe:i.default.func.isRequired,notifyNestedSubs:i.default.func.isRequired,isSubscribed:i.default.func.isRequired}),e.storeShape=i.default.shape({subscribe:i.default.func.isRequired,dispatch:i.default.func.isRequired,getState:i.default.func.isRequired})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function l(){}function u(t,e){var n={run:function(r){try{var i=t(e.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(t){n.shouldComponentUpdate=!0,n.error=t}}};return n}function c(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=r.getDisplayName,h=void 0===c?function(t){return"ConnectAdvanced("+t+")"}:c,p=r.methodName,v=void 0===p?"connectAdvanced":p,x=r.renderCountProp,E=void 0===x?void 0:x,M=r.shouldHandleStateChanges,S=void 0===M||M,T=r.storeKey,C=void 0===T?"store":T,O=r.withRef,A=void 0!==O&&O,I=s(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),R=C+"Subscription",P=_++,L=(e={},e[C]=b.storeShape,e[R]=b.subscriptionShape,e),N=(n={},n[R]=b.subscriptionShape,n);return function(e){(0,m.default)("function"==typeof e,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(e));var n=e.displayName||e.name||"Component",r=h(n),s=f({},I,{getDisplayName:h,methodName:v,renderCountProp:E,shouldHandleStateChanges:S,storeKey:C,withRef:A,displayName:r,wrappedComponentName:n,WrappedComponent:e}),c=function(n){function c(t,e){i(this,c);var a=o(this,n.call(this,t,e));return a.version=P,a.state={},a.renderCount=0,a.store=t[C]||e[C],a.propsMode=Boolean(t[C]),a.setWrappedInstance=a.setWrappedInstance.bind(a),(0,m.default)(a.store,'Could not find "'+C+'" in either the context or props of "'+r+'". Either wrap the root component in a <Provider>, or explicitly pass "'+C+'" as a prop to "'+r+'".'),a.initSelector(),a.initSubscription(),a}return a(c,n),c.prototype.getChildContext=function(){var t,e=this.propsMode?null:this.subscription;return t={},t[R]=e||this.context[R],t},c.prototype.componentDidMount=function(){S&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},c.prototype.componentWillReceiveProps=function(t){this.selector.run(t)},c.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},c.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=l,this.store=null,this.selector.run=l,this.selector.shouldComponentUpdate=!1},c.prototype.getWrappedInstance=function(){return(0,m.default)(A,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+v+"() call."),this.wrappedInstance},c.prototype.setWrappedInstance=function(t){this.wrappedInstance=t},c.prototype.initSelector=function(){var e=t(this.store.dispatch,s);this.selector=u(e,this.store),this.selector.run(this.props)},c.prototype.initSubscription=function(){if(S){var t=(this.propsMode?this.props:this.context)[R];this.subscription=new y.default(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},c.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(w)):this.notifyNestedSubs()},c.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},c.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},c.prototype.addExtraProps=function(t){if(!(A||E||this.propsMode&&this.subscription))return t;var e=f({},t);return A&&(e.ref=this.setWrappedInstance),E&&(e[E]=this.renderCount++),this.propsMode&&this.subscription&&(e[R]=this.subscription),e},c.prototype.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return(0,g.createElement)(e,this.addExtraProps(t.props))},c}(g.Component);return c.WrappedComponent=e,c.displayName=r,c.childContextTypes=N,c.contextTypes=L,c.propTypes=L,(0,d.default)(c,e)}}e.__esModule=!0;var f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=c;var h=n(1192),d=r(h),p=n(90),m=r(p),g=n(0),v=n(1193),y=r(v),b=n(520),_=0,w={}},function(t,e,n){"use strict";function r(t){return function(e,n){function r(){return i}var i=t(e,n);return r.dependsOnOwnProps=!1,r}}function i(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function o(t,e){return function(e,n){var r=(n.displayName,function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)});return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=i(t);var o=r(e,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=i(o),o=r(e,n)),o},r}}e.__esModule=!0,e.wrapMapToPropsConstant=r,e.getDependsOnOwnProps=i,e.wrapMapToPropsFunc=o;var a=n(523);!function(t){t&&t.__esModule}(a)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){(0,a.default)(t)||(0,l.default)(n+"() in "+e+" must return a plain object. Instead received "+t+".")}e.__esModule=!0,e.default=i;var o=n(146),a=r(o),s=n(352),l=r(s)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(4),s=r(a),l=n(13),u=r(l),c=n(8),f=r(c),h=n(9),d=r(h),p=n(10),m=r(p),g=n(12),v=r(g),y=n(0),b=r(y),_=n(3),w=r(_),x=n(14),E=n(46),M=r(E),S=n(64),T=r(S),C={accordion:w.default.bool,activeKey:w.default.any,defaultActiveKey:w.default.any,onSelect:w.default.func,role:w.default.string},O={accordion:!1},A=function(t){function e(n,r){(0,f.default)(this,e);var i=(0,d.default)(this,t.call(this,n,r));return i.handleSelect=i.handleSelect.bind(i),i.state={activeKey:n.defaultActiveKey},i}return(0,m.default)(e,t),e.prototype.handleSelect=function(t,e){e.preventDefault(),this.props.onSelect&&this.props.onSelect(t,e),this.state.activeKey===t&&(t=null),this.setState({activeKey:t})},e.prototype.render=function(){var t=this,e=this.props,n=e.accordion,r=e.activeKey,i=e.className,a=e.children,l=(0,u.default)(e,["accordion","activeKey","className","children"]),c=(0,x.splitBsPropsAndOmit)(l,["defaultActiveKey","onSelect"]),f=c[0],h=c[1],d=void 0;n&&(d=null!=r?r:this.state.activeKey,h.role=h.role||"tablist");var p=(0,x.getClassSet)(f);return b.default.createElement("div",(0,o.default)({},h,{className:(0,v.default)(i,p)}),T.default.map(a,function(e){var r={bsStyle:e.props.bsStyle||f.bsStyle};return n&&(0,s.default)(r,{headerRole:"tab",panelRole:"tabpanel",collapsible:!0,expanded:e.props.eventKey===d,onSelect:(0,M.default)(t.handleSelect,e.props.onSelect)}),(0,y.cloneElement)(e,r)}))},e}(b.default.Component);A.propTypes=C,A.defaultProps=O,e.default=(0,x.bsClass)("panel-group",A),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(103),w=r(_),x={active:b.default.bool,href:b.default.string,title:b.default.node,target:b.default.string},E={active:!1},M=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.active,n=t.href,r=t.title,i=t.target,a=t.className,l=(0,s.default)(t,["active","href","title","target","className"]),u={href:n,title:r,target:i};return v.default.createElement("li",{className:(0,m.default)(a,{active:e})},e?v.default.createElement("span",l):v.default.createElement(w.default,(0,o.default)({},l,u)))},e}(v.default.Component);M.propTypes=x,M.defaultProps=E,e.default=M,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(52),w=r(_),x=n(1209),E=r(x),M={direction:b.default.oneOf(["prev","next"]),onAnimateOutEnd:b.default.func,active:b.default.bool,animateIn:b.default.bool,animateOut:b.default.bool,index:b.default.number},S={active:!1,animateIn:!1,animateOut:!1},T=function(t){function e(n,r){(0,u.default)(this,e);var i=(0,f.default)(this,t.call(this,n,r));return i.handleAnimateOutEnd=i.handleAnimateOutEnd.bind(i),i.state={direction:null},i.isUnmounted=!1,i}return(0,d.default)(e,t),e.prototype.componentWillReceiveProps=function(t){this.props.active!==t.active&&this.setState({direction:null})},e.prototype.componentDidUpdate=function(t){var e=this,n=this.props.active,r=t.active;!n&&r&&E.default.addEndEventListener(w.default.findDOMNode(this),this.handleAnimateOutEnd),n!==r&&setTimeout(function(){return e.startAnimation()},20)},e.prototype.componentWillUnmount=function(){this.isUnmounted=!0},e.prototype.handleAnimateOutEnd=function(){this.isUnmounted||this.props.onAnimateOutEnd&&this.props.onAnimateOutEnd(this.props.index)},e.prototype.startAnimation=function(){this.isUnmounted||this.setState({direction:"prev"===this.props.direction?"right":"left"})},e.prototype.render=function(){var t=this.props,e=t.direction,n=t.active,r=t.animateIn,i=t.animateOut,a=t.className,l=(0,s.default)(t,["direction","active","animateIn","animateOut","className"]);delete l.onAnimateOutEnd,delete l.index;var u={item:!0,active:n&&!r||i};return e&&n&&r&&(u[e]=!0),this.state.direction&&(r||i)&&(u[this.state.direction]=!0),v.default.createElement("div",(0,o.default)({},l,{className:(0,m.default)(a,u)}))},e}(v.default.Component);T.propTypes=M,T.defaultProps=S,e.default=T,t.exports=e.default},function(t,e,n){"use strict";function r(t){return""+t.charAt(0).toUpperCase()+t.slice(1)}e.__esModule=!0,e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){return(0,o.default)(t.replace(a,"ms-"))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(1214),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=/^-ms-/;t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.animationEnd=e.animationDelay=e.animationTiming=e.animationDuration=e.animationName=e.transitionEnd=e.transitionDuration=e.transitionDelay=e.transitionTiming=e.transitionProperty=e.transform=void 0;var r=n(122),i=function(t){return t&&t.__esModule?t:{default:t}}(r),o="transform",a=void 0,s=void 0,l=void 0,u=void 0,c=void 0,f=void 0,h=void 0,d=void 0,p=void 0,m=void 0,g=void 0;if(i.default){var v=function(){for(var t=document.createElement("div").style,e={O:function(t){return"o"+t.toLowerCase()},Moz:function(t){return t.toLowerCase()},Webkit:function(t){return"webkit"+t},ms:function(t){return"MS"+t}},n=Object.keys(e),r=void 0,i=void 0,o="",a=0;a<n.length;a++){var s=n[a];if(s+"TransitionProperty"in t){o="-"+s.toLowerCase(),r=e[s]("TransitionEnd"),i=e[s]("AnimationEnd");break}}return!r&&"transitionProperty"in t&&(r="transitionend"),!i&&"animationName"in t&&(i="animationend"),t=null,{animationEnd:i,transitionEnd:r,prefix:o}}();a=v.prefix,e.transitionEnd=s=v.transitionEnd,e.animationEnd=l=v.animationEnd,e.transform=o=a+"-"+o,e.transitionProperty=u=a+"-transition-property",e.transitionDuration=c=a+"-transition-duration",e.transitionDelay=h=a+"-transition-delay",e.transitionTiming=f=a+"-transition-timing-function",e.animationName=d=a+"-animation-name",e.animationDuration=p=a+"-animation-duration",e.animationTiming=m=a+"-animation-delay",e.animationDelay=g=a+"-animation-timing-function"}e.transform=o,e.transitionProperty=u,e.transitionTiming=f,e.transitionDelay=h,e.transitionDuration=c,e.transitionEnd=s,e.animationName=d,e.animationDuration=p,e.animationTiming=m,e.animationDelay=g,e.animationEnd=l,e.default={transform:o,end:s,property:u,timing:f,delay:h,duration:c}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(){}e.__esModule=!0,e.EXITING=e.ENTERED=e.ENTERING=e.EXITED=e.UNMOUNTED=void 0;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=n(12),f=r(c),h=n(257),d=r(h),p=n(529),m=r(p),g=n(3),v=r(g),y=n(0),b=r(y),_=n(52),w=r(_),x=m.default.end,E=e.UNMOUNTED=0,M=e.EXITED=1,S=e.ENTERING=2,T=e.ENTERED=3,C=e.EXITING=4,O=function(t){function e(n,r){o(this,e);var i=a(this,t.call(this,n,r));i.updateStatus=function(){if(null!==i.nextStatus){i.cancelNextCallback();var t=w.default.findDOMNode(i);i.nextStatus===S?(i.props.onEnter(t),i.safeSetState({status:S},function(){i.props.onEntering(t),i.onTransitionEnd(t,function(){i.safeSetState({status:T},function(){i.props.onEntered(t)})})})):(i.props.onExit(t),i.safeSetState({status:C},function(){i.props.onExiting(t),i.onTransitionEnd(t,function(){i.safeSetState({status:M},function(){i.props.onExited(t)})})})),i.nextStatus=null}else i.props.unmountOnExit&&i.state.status===M&&i.setState({status:E})},i.cancelNextCallback=function(){null!==i.nextCallback&&(i.nextCallback.cancel(),i.nextCallback=null)},i.safeSetState=function(t,e){i.setState(t,i.setNextCallback(e))},i.setNextCallback=function(t){var e=!0;return i.nextCallback=function(n){e&&(e=!1,i.nextCallback=null,t(n))},i.nextCallback.cancel=function(){e=!1},i.nextCallback},i.onTransitionEnd=function(t,e){i.setNextCallback(e),t?((0,d.default)(t,x,i.nextCallback),setTimeout(i.nextCallback,i.props.timeout)):setTimeout(i.nextCallback,0)};var s=void 0;return i.nextStatus=null,n.in?n.transitionAppear?(s=M,i.nextStatus=S):s=T:s=n.unmountOnExit||n.mountOnEnter?E:M,i.state={status:s},i.nextCallback=null,i}return s(e,t),e.prototype.componentDidMount=function(){this.updateStatus()},e.prototype.componentWillReceiveProps=function(t){var e=this.state.status;t.in?(e===E&&this.setState({status:M}),e!==S&&e!==T&&(this.nextStatus=S)):e!==S&&e!==T||(this.nextStatus=C)},e.prototype.componentDidUpdate=function(){this.updateStatus()},e.prototype.componentWillUnmount=function(){this.cancelNextCallback()},e.prototype.render=function(){var t=this.state.status;if(t===E)return null;var n=this.props,r=n.children,o=n.className,a=i(n,["children","className"]);Object.keys(e.propTypes).forEach(function(t){return delete a[t]});var s=void 0;t===M?s=this.props.exitedClassName:t===S?s=this.props.enteringClassName:t===T?s=this.props.enteredClassName:t===C&&(s=this.props.exitingClassName);var l=b.default.Children.only(r);return b.default.cloneElement(l,u({},a,{className:(0,f.default)(l.props.className,o,s)}))},e}(b.default.Component);O.propTypes={in:v.default.bool,mountOnEnter:v.default.bool,unmountOnExit:v.default.bool,transitionAppear:v.default.bool,timeout:v.default.number,exitedClassName:v.default.string,exitingClassName:v.default.string,enteredClassName:v.default.string,enteringClassName:v.default.string,onEnter:v.default.func,onEntering:v.default.func,onEntered:v.default.func,onExit:v.default.func,onExiting:v.default.func,onExited:v.default.func},O.displayName="Transition",O.defaultProps={in:!1,unmountOnExit:!1,transitionAppear:!1,timeout:5e3,onEnter:l,onEntering:l,onEntered:l,onExit:l,onExiting:l,onExited:l},e.default=O},function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.default)();try{return t.activeElement}catch(t){}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(173),o=function(t){return t&&t.__esModule?t:{default:t}}(i);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return 0===t.button}function l(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}e.__esModule=!0;var u=n(174),c=r(u),f=n(3),h=r(f),d=n(0),p=r(d),m=n(52),g=r(m),v=n(533),y=r(v),b=n(175),_=r(b),w=27,x=function(t){function e(n,r){i(this,e);var a=o(this,t.call(this,n,r));return a.addEventListeners=function(){var t=a.props.event,e=(0,_.default)(a);a.documentMouseCaptureListener=(0,y.default)(e,t,a.handleMouseCapture,!0),a.documentMouseListener=(0,y.default)(e,t,a.handleMouse),a.documentKeyupListener=(0,y.default)(e,"keyup",a.handleKeyUp)},a.removeEventListeners=function(){a.documentMouseCaptureListener&&a.documentMouseCaptureListener.remove(),a.documentMouseListener&&a.documentMouseListener.remove(),a.documentKeyupListener&&a.documentKeyupListener.remove()},a.handleMouseCapture=function(t){a.preventMouseRootClose=l(t)||!s(t)||(0,c.default)(g.default.findDOMNode(a),t.target)},a.handleMouse=function(t){!a.preventMouseRootClose&&a.props.onRootClose&&a.props.onRootClose(t)},a.handleKeyUp=function(t){t.keyCode===w&&a.props.onRootClose&&a.props.onRootClose(t)},a.preventMouseRootClose=!1,a}return a(e,t),e.prototype.componentDidMount=function(){this.props.disabled||this.addEventListeners()},e.prototype.componentDidUpdate=function(t){!this.props.disabled&&t.disabled?this.addEventListeners():this.props.disabled&&!t.disabled&&this.removeEventListeners()},e.prototype.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},e.prototype.render=function(){return this.props.children},e}(p.default.Component);x.displayName="RootCloseWrapper",x.propTypes={onRootClose:h.default.func,children:h.default.element,disabled:h.default.bool,event:h.default.oneOf(["click","mousedown"])},x.defaultProps={event:"click"},e.default=x,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.default=function(t,e,n,r){return(0,o.default)(t,e,n,r),{remove:function(){(0,s.default)(t,e,n,r)}}};var i=n(257),o=r(i),a=n(359),s=r(a);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(0),m=r(p),g=n(3),v=r(g),y=n(12),b=r(y),_=n(206),w=r(_),x=n(103),E=r(x),M=n(14),S={noCaret:v.default.bool,open:v.default.bool,title:v.default.string,useAnchor:v.default.bool},T={open:!1,useAnchor:!1,bsRole:"toggle"},C=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.noCaret,n=t.open,r=t.useAnchor,i=t.bsClass,a=t.className,l=t.children,u=(0,s.default)(t,["noCaret","open","useAnchor","bsClass","className","children"]);delete u.bsRole;var c=r?E.default:w.default,f=!e;return m.default.createElement(c,(0,o.default)({},u,{role:"button",className:(0,b.default)(a,i),"aria-haspopup":!0,"aria-expanded":n}),l||u.title,f&&" ",f&&m.default.createElement("span",{className:"caret"}))},e}(m.default.Component);C.propTypes=S,C.defaultProps=T,e.default=(0,M.bsClass)("dropdown-toggle",C),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(35),w=r(_),x=n(14),E={fluid:b.default.bool,componentClass:w.default},M={componentClass:"div",fluid:!1},S=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.fluid,n=t.componentClass,r=t.className,i=(0,s.default)(t,["fluid","componentClass","className"]),a=(0,x.splitBsProps)(i),l=a[0],u=a[1],c=(0,x.prefix)(l,e&&"fluid");return v.default.createElement(n,(0,o.default)({},u,{className:(0,m.default)(r,c)}))},e}(v.default.Component);S.propTypes=E,S.defaultProps=M,e.default=(0,x.bsClass)("container",S),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(61),o=r(i),a=n(11),s=r(a),l=n(13),u=r(l),c=n(8),f=r(c),h=n(9),d=r(h),p=n(10),m=r(p),g=n(12),v=r(g),y=n(0),b=r(y),_=n(3),w=r(_),x=n(14),E=n(56),M={active:w.default.any,disabled:w.default.any,header:w.default.node,listItem:w.default.bool,onClick:w.default.func,href:w.default.string,type:w.default.string},S={listItem:!1},T=function(t){function e(){return(0,f.default)(this,e),(0,d.default)(this,t.apply(this,arguments))}return(0,m.default)(e,t),e.prototype.renderHeader=function(t,e){return b.default.isValidElement(t)?(0,y.cloneElement)(t,{className:(0,v.default)(t.props.className,e)}):b.default.createElement("h4",{className:e},t)},e.prototype.render=function(){var t=this.props,e=t.active,n=t.disabled,r=t.className,i=t.header,o=t.listItem,a=t.children,l=(0,u.default)(t,["active","disabled","className","header","listItem","children"]),c=(0,x.splitBsProps)(l),f=c[0],h=c[1],d=(0,s.default)({},(0,x.getClassSet)(f),{active:e,disabled:n}),p=void 0;return h.href?p="a":h.onClick?(p="button",h.type=h.type||"button"):p=o?"li":"span",h.className=(0,v.default)(r,d),i?b.default.createElement(p,h,this.renderHeader(i,(0,x.prefix)(f,"heading")),b.default.createElement("p",{className:(0,x.prefix)(f,"text")},a)):b.default.createElement(p,h,a)},e}(b.default.Component);T.propTypes=M,T.defaultProps=S,e.default=(0,x.bsClass)("list-group-item",(0,x.bsStyles)((0,o.default)(E.State),T)),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((!o||t)&&i.default){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),o=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return o};var r=n(122),i=function(t){return t&&t.__esModule?t:{default:t}}(r),o=void 0;t.exports=e.default},function(t,e,n){"use strict";function r(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+t.className+" ").indexOf(" "+e+" ")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return t&&"body"===t.tagName.toLowerCase()}function o(t){var e=(0,c.default)(t),n=(0,l.default)(e),r=n.innerWidth;if(!r){var i=e.documentElement.getBoundingClientRect();r=i.right-Math.abs(i.left)}return e.body.clientWidth<r}function a(t){return(0,l.default)(t)||i(t)?o(t):t.scrollHeight>t.clientHeight}e.__esModule=!0,e.default=a;var s=n(264),l=r(s),u=n(173),c=r(u);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(3),l=r(s),u=n(263),c=r(u),f=n(0),h=r(f),d=n(52),p=r(d),m=n(265),g=r(m),v=n(175),y=r(v),b=n(1257),_=r(b),w=function(t){function e(){var n,r,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=o(this,t.call.apply(t,[this].concat(l))),r.setContainer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.props;r._portalContainerNode=(0,g.default)(t.container,(0,y.default)(r).body)},r.getMountNode=function(){return r._portalContainerNode},a=n,o(r,a)}return a(e,t),e.prototype.componentDidMount=function(){this.setContainer(),this.forceUpdate(this.props.onRendered)},e.prototype.componentWillReceiveProps=function(t){t.container!==this.props.container&&this.setContainer(t)},e.prototype.componentWillUnmount=function(){this._portalContainerNode=null},e.prototype.render=function(){return this.props.children&&this._portalContainerNode?p.default.createPortal(this.props.children,this._portalContainerNode):null},e}(h.default.Component);w.displayName="Portal",w.propTypes={container:l.default.oneOfType([c.default,l.default.func]),onRendered:l.default.func},e.default=p.default.createPortal?w:_.default,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(35),b=r(y),_=n(14),w={componentClass:b.default},x={componentClass:"div"},E=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,_.splitBsProps)(r),a=i[0],l=i[1],u=(0,_.getClassSet)(a);return v.default.createElement(e,(0,o.default)({},l,{className:(0,m.default)(n,u)}))},e}(v.default.Component);E.propTypes=w,E.defaultProps=x,e.default=(0,_.bsClass)("modal-body",E),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(35),b=r(y),_=n(14),w={componentClass:b.default},x={componentClass:"div"},E=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,_.splitBsProps)(r),a=i[0],l=i[1],u=(0,_.getClassSet)(a);return v.default.createElement(e,(0,o.default)({},l,{className:(0,m.default)(n,u)}))},e}(v.default.Component);E.propTypes=w,E.defaultProps=x,e.default=(0,_.bsClass)("modal-footer",E),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(14),w=n(46),x=r(w),E=n(354),M=r(E),S={closeLabel:b.default.string,closeButton:b.default.bool,onHide:b.default.func},T={closeLabel:"Close",closeButton:!1},C={$bs_modal:b.default.shape({onHide:b.default.func})},O=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.closeLabel,n=t.closeButton,r=t.onHide,i=t.className,a=t.children,l=(0,s.default)(t,["closeLabel","closeButton","onHide","className","children"]),u=this.context.$bs_modal,c=(0,_.splitBsProps)(l),f=c[0],h=c[1],d=(0,_.getClassSet)(f);return v.default.createElement("div",(0,o.default)({},h,{className:(0,m.default)(i,d)}),n&&v.default.createElement(M.default,{label:e,onClick:(0,x.default)(u&&u.onHide,r)}),a)},e}(v.default.Component);O.propTypes=S,O.defaultProps=T,O.contextTypes=C,e.default=(0,_.bsClass)("modal-header",O),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(35),b=r(y),_=n(14),w={componentClass:b.default},x={componentClass:"h4"},E=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,_.splitBsProps)(r),a=i[0],l=i[1],u=(0,_.getClassSet)(a);return v.default.createElement(e,(0,o.default)({},l,{className:(0,m.default)(n,u)}))},e}(v.default.Component);E.propTypes=w,E.defaultProps=x,e.default=(0,_.bsClass)("modal-title",E),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(358),v=r(g),y=n(0),b=r(y),_=n(3),w=r(_),x=n(52),E=r(x),M=n(255),S=r(M),T=n(78),C=(r(T),n(14)),O=n(46),A=r(O),I=n(64),R=r(I),P={activeKey:w.default.any,activeHref:w.default.string,stacked:w.default.bool,justified:(0,S.default)(w.default.bool,function(t){var e=t.justified,n=t.navbar;return e&&n?Error("justified navbar `Nav`s are not supported"):null}),onSelect:w.default.func,role:w.default.string,navbar:w.default.bool,pullRight:w.default.bool,pullLeft:w.default.bool},L={justified:!1,pullRight:!1,pullLeft:!1,stacked:!1},N={$bs_navbar:w.default.shape({bsClass:w.default.string,onSelect:w.default.func}),$bs_tabContainer:w.default.shape({activeKey:w.default.any,onSelect:w.default.func.isRequired,getTabId:w.default.func.isRequired,getPaneId:w.default.func.isRequired})},k=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.componentDidUpdate=function(){var t=this;if(this._needsRefocus){this._needsRefocus=!1;var e=this.props.children,n=this.getActiveProps(),r=n.activeKey,i=n.activeHref,o=R.default.find(e,function(e){return t.isActive(e,r,i)}),a=R.default.toArray(e),s=a.indexOf(o),l=E.default.findDOMNode(this).children,u=l&&l[s];u&&u.firstChild&&u.firstChild.focus()}},e.prototype.getActiveProps=function(){var t=this.context.$bs_tabContainer;return t||this.props},e.prototype.getNextActiveChild=function(t){var e=this,n=this.props.children,r=n.filter(function(t){return null!=t.props.eventKey&&!t.props.disabled}),i=this.getActiveProps(),o=i.activeKey,a=i.activeHref,s=R.default.find(n,function(t){return e.isActive(t,o,a)}),l=r.indexOf(s);if(-1===l)return r[0];var u=l+t,c=r.length;return u>=c?u=0:u<0&&(u=c-1),r[u]},e.prototype.getTabProps=function(t,e,n,r,i){var o=this;if(!e&&"tablist"!==n)return null;var a=t.props,s=a.id,l=a["aria-controls"],u=a.eventKey,c=a.role,f=a.onKeyDown,h=a.tabIndex;return e&&(s=e.getTabId(u),l=e.getPaneId(u)),"tablist"===n&&(c=c||"tab",f=(0,A.default)(function(t){return o.handleTabKeyDown(i,t)},f),h=r?h:-1),{id:s,role:c,onKeyDown:f,"aria-controls":l,tabIndex:h}},e.prototype.handleTabKeyDown=function(t,e){var n=void 0;switch(e.keyCode){case v.default.codes.left:case v.default.codes.up:n=this.getNextActiveChild(-1);break;case v.default.codes.right:case v.default.codes.down:n=this.getNextActiveChild(1);break;default:return}e.preventDefault(),t&&n&&null!=n.props.eventKey&&t(n.props.eventKey),this._needsRefocus=!0},e.prototype.isActive=function(t,e,n){var r=t.props;return!!(r.active||null!=e&&r.eventKey===e||n&&r.href===n)||r.active},e.prototype.render=function(){var t,e=this,n=this.props,r=n.stacked,i=n.justified,a=n.onSelect,l=n.role,u=n.navbar,c=n.pullRight,f=n.pullLeft,h=n.className,d=n.children,p=(0,s.default)(n,["stacked","justified","onSelect","role","navbar","pullRight","pullLeft","className","children"]),g=this.context.$bs_tabContainer,v=l||(g?"tablist":null),_=this.getActiveProps(),w=_.activeKey,x=_.activeHref;delete p.activeKey,delete p.activeHref;var E=(0,C.splitBsProps)(p),M=E[0],S=E[1],T=(0,o.default)({},(0,C.getClassSet)(M),(t={},t[(0,C.prefix)(M,"stacked")]=r,t[(0,C.prefix)(M,"justified")]=i,t)),O=null!=u?u:this.context.$bs_navbar,I=void 0,P=void 0;if(O){var L=this.context.$bs_navbar||{bsClass:"navbar"};T[(0,C.prefix)(L,"nav")]=!0,P=(0,C.prefix)(L,"right"),I=(0,C.prefix)(L,"left")}else P="pull-right",I="pull-left";return T[P]=c,T[I]=f,b.default.createElement("ul",(0,o.default)({},S,{role:v,className:(0,m.default)(h,T)}),R.default.map(d,function(t){var n=e.isActive(t,w,x),r=(0,A.default)(t.props.onSelect,a,O&&O.onSelect,g&&g.onSelect);return(0,y.cloneElement)(t,(0,o.default)({},e.getTabProps(t,g,v,n,r),{active:n,activeKey:w,activeHref:x,onSelect:r}))}))},e}(b.default.Component);k.propTypes=P,k.defaultProps=L,k.contextTypes=N,e.default=(0,C.bsClass)("nav",(0,C.bsStyles)(["tabs","pills"],k)),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(14),w={$bs_navbar:b.default.shape({bsClass:b.default.string})},x=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=t.children,r=(0,s.default)(t,["className","children"]),i=this.context.$bs_navbar||{bsClass:"navbar"},a=(0,_.prefix)(i,"brand");return v.default.isValidElement(n)?v.default.cloneElement(n,{className:(0,m.default)(n.props.className,e,a)}):v.default.createElement("span",(0,o.default)({},r,{className:(0,m.default)(e,a)}),n)},e}(v.default.Component);x.contextTypes=w,e.default=x,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(103),w=r(_),x=n(46),E=r(x),M={active:b.default.bool,disabled:b.default.bool,role:b.default.string,href:b.default.string,onClick:b.default.func,onSelect:b.default.func,eventKey:b.default.any},S={active:!1,disabled:!1},T=function(t){function e(n,r){(0,u.default)(this,e);var i=(0,f.default)(this,t.call(this,n,r));return i.handleClick=i.handleClick.bind(i),i}return(0,d.default)(e,t),e.prototype.handleClick=function(t){this.props.onSelect&&(t.preventDefault(),this.props.disabled||this.props.onSelect(this.props.eventKey,t))},e.prototype.render=function(){var t=this.props,e=t.active,n=t.disabled,r=t.onClick,i=t.className,a=t.style,l=(0,s.default)(t,["active","disabled","onClick","className","style"]);return delete l.onSelect,delete l.eventKey,delete l.activeKey,delete l.activeHref,l.role?"tab"===l.role&&(l["aria-selected"]=e):"#"===l.href&&(l.role="button"),v.default.createElement("li",{role:"presentation",className:(0,m.default)(i,{active:e,disabled:n}),style:a},v.default.createElement(w.default,(0,o.default)({},l,{disabled:n,onClick:(0,E.default)(r,this.handleClick)})))},e}(v.default.Component);T.propTypes=M,T.defaultProps=S,e.default=T,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(13),o=r(i),a=n(8),s=r(a),l=n(9),u=r(l),c=n(10),f=r(c),h=n(11),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(1266),w=r(_),x=n(35),E=r(x),M=n(261),S=r(M),T=(0,d.default)({},w.default.propTypes,{show:b.default.bool,rootClose:b.default.bool,onHide:b.default.func,animation:b.default.oneOfType([b.default.bool,E.default]),onEnter:b.default.func,onEntering:b.default.func,onEntered:b.default.func,onExit:b.default.func,onExiting:b.default.func,onExited:b.default.func,placement:b.default.oneOf(["top","right","bottom","left"])}),C={animation:S.default,rootClose:!1,show:!1,placement:"right"},O=function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,t.apply(this,arguments))}return(0,f.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.animation,n=t.children,r=(0,o.default)(t,["animation","children"]),i=!0===e?S.default:e||null,a=void 0;return a=i?n:(0,g.cloneElement)(n,{className:(0,m.default)(n.props.className,"in")}),v.default.createElement(w.default,(0,d.default)({},r,{transition:i}),a)},e}(v.default.Component);O.propTypes=T,O.defaultProps=C,e.default=O,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=(0,c.default)(t),n=(0,l.default)(e),r=e&&e.documentElement,i={top:0,left:0,height:0,width:0};if(e)return(0,a.default)(r,t)?(void 0!==t.getBoundingClientRect&&(i=t.getBoundingClientRect()),i={top:i.top+(n.pageYOffset||r.scrollTop)-(r.clientTop||0),left:i.left+(n.pageXOffset||r.scrollLeft)-(r.clientLeft||0),width:(null==i.width?t.offsetWidth:i.width)||0,height:(null==i.height?t.offsetHeight:i.height)||0}):i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=n(174),a=r(o),s=n(264),l=r(s),u=n(173),c=r(u);t.exports=e.default},function(t,e,n){"use strict";function r(t,e){var n=(0,o.default)(t);if(void 0===e)return n?"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop:t.scrollTop;n?n.scrollTo("pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft,e):t.scrollTop=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(264),o=function(t){return t&&t.__esModule?t:{default:t}}(i);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(103),w=r(_),x=n(46),E=r(x),M={disabled:b.default.bool,previous:b.default.bool,next:b.default.bool,onClick:b.default.func,onSelect:b.default.func,eventKey:b.default.any},S={disabled:!1,previous:!1,next:!1},T=function(t){function e(n,r){(0,u.default)(this,e);var i=(0,f.default)(this,t.call(this,n,r));return i.handleSelect=i.handleSelect.bind(i),i}return(0,d.default)(e,t),e.prototype.handleSelect=function(t){var e=this.props,n=e.disabled,r=e.onSelect,i=e.eventKey;(r||n)&&t.preventDefault(),n||r&&r(i,t)},e.prototype.render=function(){var t=this.props,e=t.disabled,n=t.previous,r=t.next,i=t.onClick,a=t.className,l=t.style,u=(0,s.default)(t,["disabled","previous","next","onClick","className","style"]);return delete u.onSelect,delete u.eventKey,v.default.createElement("li",{className:(0,m.default)(a,{disabled:e,previous:n,next:r}),style:l},v.default.createElement(w.default,(0,o.default)({},u,{disabled:e,onClick:(0,E.default)(i,this.handleSelect)})))},e}(v.default.Component);T.propTypes=M,T.defaultProps=S,e.default=T,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(35),w=r(_),x=n(103),E=r(x),M=n(46),S=r(M),T={componentClass:w.default,className:b.default.string,eventKey:b.default.any,onSelect:b.default.func,disabled:b.default.bool,active:b.default.bool,onClick:b.default.func},C={componentClass:E.default,active:!1,disabled:!1},O=function(t){function e(n,r){(0,u.default)(this,e);var i=(0,f.default)(this,t.call(this,n,r));return i.handleClick=i.handleClick.bind(i),i}return(0,d.default)(e,t),e.prototype.handleClick=function(t){var e=this.props,n=e.disabled,r=e.onSelect,i=e.eventKey;n||r&&r(i,t)},e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.active,r=t.disabled,i=t.onClick,a=t.className,l=t.style,u=(0,s.default)(t,["componentClass","active","disabled","onClick","className","style"]);return e===E.default&&delete u.eventKey,delete u.onSelect,v.default.createElement("li",{className:(0,m.default)(a,{active:n,disabled:r}),style:l},v.default.createElement(e,(0,o.default)({},u,{disabled:r,onClick:(0,S.default)(i,this.handleClick)})))},e}(v.default.Component);O.propTypes=T,O.defaultProps=C,e.default=O,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(35),w=r(_),x=n(78),E=(r(x),n(14)),M=n(46),S=r(M),T=n(261),C=r(T),O={eventKey:b.default.any,animation:b.default.oneOfType([b.default.bool,w.default]),id:b.default.string,"aria-labelledby":b.default.string,bsClass:b.default.string,onEnter:b.default.func,onEntering:b.default.func,onEntered:b.default.func,onExit:b.default.func,onExiting:b.default.func,onExited:b.default.func,mountOnEnter:b.default.bool,unmountOnExit:b.default.bool},A={$bs_tabContainer:b.default.shape({getTabId:b.default.func,getPaneId:b.default.func}),$bs_tabContent:b.default.shape({bsClass:b.default.string,animation:b.default.oneOfType([b.default.bool,w.default]),activeKey:b.default.any,mountOnEnter:b.default.bool,unmountOnExit:b.default.bool,onPaneEnter:b.default.func.isRequired,onPaneExited:b.default.func.isRequired,exiting:b.default.bool.isRequired})},I={$bs_tabContainer:b.default.oneOf([null])},R=function(t){function e(n,r){(0,u.default)(this,e);var i=(0,f.default)(this,t.call(this,n,r));return i.handleEnter=i.handleEnter.bind(i),i.handleExited=i.handleExited.bind(i),i.in=!1,i}return(0,d.default)(e,t),e.prototype.getChildContext=function(){return{$bs_tabContainer:null}},e.prototype.componentDidMount=function(){this.shouldBeIn()&&this.handleEnter()},e.prototype.componentDidUpdate=function(){this.in?this.shouldBeIn()||this.handleExited():this.shouldBeIn()&&this.handleEnter()},e.prototype.componentWillUnmount=function(){this.in&&this.handleExited()},e.prototype.getAnimation=function(){if(null!=this.props.animation)return this.props.animation;var t=this.context.$bs_tabContent;return t&&t.animation},e.prototype.handleEnter=function(){var t=this.context.$bs_tabContent;t&&(this.in=t.onPaneEnter(this,this.props.eventKey))},e.prototype.handleExited=function(){var t=this.context.$bs_tabContent;t&&(t.onPaneExited(this),this.in=!1)},e.prototype.isActive=function(){var t=this.context.$bs_tabContent,e=t&&t.activeKey;return this.props.eventKey===e},e.prototype.shouldBeIn=function(){return this.getAnimation()&&this.isActive()},e.prototype.render=function(){var t=this.props,e=t.eventKey,n=t.className,r=t.onEnter,i=t.onEntering,a=t.onEntered,l=t.onExit,u=t.onExiting,c=t.onExited,f=t.mountOnEnter,h=t.unmountOnExit,d=(0,s.default)(t,["eventKey","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit"]),p=this.context,g=p.$bs_tabContent,y=p.$bs_tabContainer,b=(0,E.splitBsPropsAndOmit)(d,["animation"]),_=b[0],w=b[1],x=this.isActive(),M=this.getAnimation(),T=null!=f?f:g&&g.mountOnEnter,O=null!=h?h:g&&g.unmountOnExit;if(!x&&!M&&O)return null;var A=!0===M?C.default:M||null;g&&(_.bsClass=(0,E.prefix)(g,"pane"));var I=(0,o.default)({},(0,E.getClassSet)(_),{active:x});y&&(w.id=y.getPaneId(e),w["aria-labelledby"]=y.getTabId(e));var R=v.default.createElement("div",(0,o.default)({},w,{role:"tabpanel","aria-hidden":!x,className:(0,m.default)(n,I)}));if(A){var P=g&&g.exiting;return v.default.createElement(A,{in:x&&!P,onEnter:(0,S.default)(this.handleEnter,r),onEntering:i,onEntered:a,onExit:l,onExiting:u,onExited:(0,S.default)(this.handleExited,c),mountOnEnter:T,unmountOnExit:O},R)}return R},e}(v.default.Component);R.propTypes=O,R.contextTypes=A,R.childContextTypes=I,e.default=(0,E.bsClass)("tab-pane",R),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(3),m=r(p),g=n(0),v=r(g),y=n(206),b=r(y),_={type:m.default.oneOf(["checkbox","radio"]),name:m.default.string,checked:m.default.bool,disabled:m.default.bool,onChange:m.default.func,value:m.default.any.isRequired},w=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.children,n=t.name,r=t.checked,i=t.type,a=t.onChange,l=t.value,u=(0,s.default)(t,["children","name","checked","type","onChange","value"]),c=u.disabled;return v.default.createElement(b.default,(0,o.default)({},u,{active:!!r,componentClass:"label"}),v.default.createElement("input",{name:n,type:i,autoComplete:"off",value:l,checked:!!r,disabled:!!c,onChange:a}),e)},e}(v.default.Component);w.propTypes=_,e.default=w,t.exports=e.default},function(t,e,n){var r,i=i||function(t){"use strict";if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},a=/constructor/i.test(t.HTMLElement)||t.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},u=function(t){var e=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};setTimeout(e,4e4)},c=function(t,e,n){e=[].concat(e);for(var r=e.length;r--;){var i=t["on"+e[r]];if("function"==typeof i)try{i.call(t,n||t)}catch(t){l(t)}}},f=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},h=function(e,l,h){h||(e=f(e));var d,p=this,m=e.type,g="application/octet-stream"===m,v=function(){c(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,i)return d=n().createObjectURL(e),void setTimeout(function(){r.href=d,r.download=l,o(r),v(),u(d),p.readyState=p.DONE});!function(){if((s||g&&a)&&t.FileReader){var r=new FileReader;return r.onloadend=function(){var e=s?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,p.readyState=p.DONE,v()},r.readAsDataURL(e),void(p.readyState=p.INIT)}if(d||(d=n().createObjectURL(e)),g)t.location.href=d;else{t.open(d,"_blank")||(t.location.href=d)}p.readyState=p.DONE,v(),u(d)}()},d=h.prototype,p=function(t,e,n){return new h(t,e||t.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=f(t)),navigator.msSaveOrOpenBlob(t,e)}:(d.abort=function(){},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,p)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==t&&t.exports?t.exports.saveAs=i:null!==n(1294)&&null!==n(1295)&&void 0!==(r=function(){return i}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){"use strict";(function(t){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return v}),n.d(e,"b",function(){return y});var i=n(17),o=n.n(i),a=n(76),s=n.n(a),l=n(1),u=n.n(l),c=n(50),f=n.n(c),h=n(54),d=n.n(h),p=n(1301),m="function"==typeof d.a&&"symbol"==typeof f.a?function(t){return typeof t}:function(t){return t&&"function"==typeof d.a&&t.constructor===d.a&&t!==d.a.prototype?"symbol":typeof t},g=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),u()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=function(){function e(t){r(this,e);var n=t.cacheSize,i=void 0===n?p.a.DEFAULT_SIZE:n,o=t.serviceUrl,a=t.appName,s=t.appVersion,l=t.headers;this._cache=new p.a({maxSize:i}),this._serviceUrl=o,this._headers=l,this._appName=a,this._appVersion=s,this._generateSessionId(),this._buildUrl()}return g(e,[{key:"_generateSessionId",value:function(){for(var t=(new Date).getTime(),e=new Date("2012").getTime(),n=(t-e)/1e3&4294967295,r=0,i=s()(this._headers),o=0,a=i.length;o<a;++o)r+=i.charCodeAt(o);this._sessionId=n+r}},{key:"_buildUrl",value:function(){var e=t,n=e.encodeURIComponent,r=this._serviceUrl;if(!r||!r.length)return void(this._builtUrl=null);var i=n(this._sessionId),o=n(this._appName),a=n(this._appVersion);this._builtUrl=r+"/?sessionId="+i+"&app="+o+"&appversion="+a}},{key:"log",value:function(t){this.online?this._send(t):this._cache.append(t)}},{key:"_send",value:function(t){var e=this._builtUrl,n=new Request(e,{method:"POST",mode:"cors",cache:"no-cache",redirect:"follow",headers:new Headers(this._headers),credentials:"include",body:t.toXmlString()});return fetch(n)}},{key:"online",get:function(){return!!this._builtUrl}},{key:"serviceUrl",get:function(){return this._serviceUrl},set:function(t){if(this._serviceUrl=t,this._buildUrl(),this.online){var e=this._cache,n=!0,r=!1,i=void 0;try{for(var a,s=o()(e.items);!(n=(a=s.next()).done);n=!0){var l=a.value;this._send(l)}}catch(t){r=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}e.clear()}}}]),e}(),y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this._eventType=t.eventType||"",this._detail=t.detail||"",this._time=(new Date).getTime()}return g(e,[{key:"toXmlString",value:function(){var e=document,n=e.createElement("Entry"),r=function(t){return"object"!==(void 0===t?"undefined":m(t))||t instanceof Date?""+t:s()(t)},i=function(i,o){var a=e.createElement(i);o instanceof Node&&!o.parentNode&&o!==t?a.appendChild(o):a.textContent=r(o),n.appendChild(a)};return i("EventType",this._eventType),i("Detail",this._detail),i("Time",this._time),(new XMLSerializer).serializeToString(n)}}]),e}()}).call(e,n(37))},function(t,e,n){(function(e){var r=n(559),i=n(1316),o=n(561),a=n(1317);t.exports=function(t,n){var s=new a,l=n&&n.prj?n.prj:o;n=n||{},[i.point(t),i.pointZ(t),i.line(t),i.lineZ(t),i.polygon(t),i.polygonZ(t)].forEach(function(t){t.geometries.length&&t.geometries[0].length&&r(t.properties,t.type,t.geometries,function(e,r){var i;i=n.filename?n.filename.toLowerCase():n.types&&n.types[t.type.toLowerCase()]?n.types[t.type.toLowerCase()]:t.type.toLowerCase(),s.file(i+".shp",r.shp.buffer,{binary:!0}),s.file(i+".shx",r.shx.buffer,{binary:!0}),s.file(i+".dbf",r.dbf.buffer,{binary:!0}),s.file(i+".prj",l)})});var u={compression:"STORE"};return e.browser||(u.type="nodebuffer"),s.generate(u)}}).call(e,n(558))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){m&&d&&(m=!1,d.length?p=d.concat(p):g=-1,p.length&&s())}function s(){if(!m){var t=i(a);m=!0;for(var e=p.length;e;){for(d=p,p=[];++g<e;)d&&d[g].run();g=-1,e=p.length}d=null,m=!1,o(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var c,f,h=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var d,p=[],m=!1,g=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new l(t,e)),1!==p.length||m||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){function r(t,e,n,r){var u=a.geometries[e],c=f[u],h=c.parts(n,u),d=100+4*(h-n.length)+c.shpLength(n),p=100+c.shxLength(n),m=new ArrayBuffer(d),g=new DataView(m),v=new ArrayBuffer(p),y=new DataView(v),b=c.extent(n);i(g,u),i(y,u),o(b,g),o(b,y),c.write(n,b,new DataView(m,100),new DataView(v,100),u),g.setInt32(24,d/2),y.setInt32(24,50+4*n.length),r(null,{shp:g,shx:y,dbf:s.structure(t),prj:l})}function i(t,e){t.setInt32(0,9994),t.setInt32(28,1e3,!0),t.setInt32(32,e,!0)}function o(t,e){e.setFloat64(36,t.xmin,!0),e.setFloat64(44,t.ymin,!0),e.setFloat64(52,t.xmax,!0),e.setFloat64(60,t.ymax,!0),e.setFloat64(68,t.zmin,!0),e.setFloat64(76,t.zmax,!0),e.setFloat64(84,0,!0),e.setFloat64(92,0,!0)}var a=n(268),s=n(1305),l=n(561),u=(n(365),n(1309),n(1310),n(1314)),c=n(1315),f={1:u,3:c,5:c,11:u,13:c,15:c};t.exports=r},function(t,e){t.exports={C:254,L:1,D:8,N:18,M:18,F:18,B:8}},function(t,e){t.exports='GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137,298.257223563]],PRIMEM["Greenwich",0],UNIT["Degree",0.017453292519943295]]'},function(t,e,n){"use strict";function r(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){a=n>2e3?2e3:n,n-=a;do{i=i+e[r++]|0,o=o+i|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=i,a=r+n;t^=-1;for(var s=r;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=r},function(t,e,n){"use strict";function r(t,e){if(e<65537&&(t.subarray&&a||!t.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}var i=n(124),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var s=new i.Buf8(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;s[254]=s[254]=1,e.string2buf=function(t){var e,n,r,o,a,s=t.length,l=0;for(o=0;o<s;o++)n=t.charCodeAt(o),55296==(64512&n)&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(l),a=0,o=0;a<l;o++)n=t.charCodeAt(o),55296==(64512&n)&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},e.buf2binstring=function(t){return r(t,t.length)},e.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,i,o,a,l=e||t.length,u=new Array(2*l);for(i=0,n=0;n<l;)if((o=t[n++])<128)u[i++]=o;else if((a=s[o])>4)u[i++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&n<l;)o=o<<6|63&t[n++],a--;a>1?u[i++]=65533:o<65536?u[i++]=o:(o-=65536,u[i++]=55296|o>>10&1023,u[i++]=56320|1023&o)}return r(u,i)},e.utf8border=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+s[t[n]]>e?n:e}},function(t,e,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\b"},function(t,e,n){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!1,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},function(t,e,n){"use strict";function r(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}r.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},t.exports=r},function(t,e,n){"use strict";function r(t,e){this.data=t,e||(this.data=o.string2binary(this.data)),this.length=this.data.length,this.index=0}var i=n(571),o=n(104);r.prototype=new i,r.prototype.byteAt=function(t){return this.data.charCodeAt(t)},r.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)},r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.index,this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";function r(t){this.data=null,this.length=0,this.index=0}var i=n(104);r.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)}},t.exports=r},function(t,e,n){"use strict";function r(t){t&&(this.data=t,this.length=this.data.length,this.index=0)}var i=n(571);r.prototype=new i,r.prototype.byteAt=function(t){return this.data[t]},r.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o;return-1},r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.index,this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(212),m=n(214),g=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=function(t){function e(t){return r(this,e),i(this,(e.__proto__||s()(e)).call(this,m.a.MAP,t))}return o(e,t),g(e,null,[{key:"fromJson",value:function(t){return new e(t.method)}}]),e}(p.a);e.default=v},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=u()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(s.a?s()(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(6),s=n.n(a),l=n(5),u=n.n(l),c=n(7),f=n.n(c),h=n(51),d=n.n(h),p=n(1),m=n.n(p),g=n(4),v=n.n(g),y=n(235),b=(n.n(y),n(371)),_=n(212),w=n(214),x=v.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),m()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),M=function t(e,n,r){null===e&&(e=Function.prototype);var i=d()(e,n);if(void 0===i){var o=f()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},S=function(t){function e(t,n,o){r(this,e);var a=i(this,(e.__proto__||f()(e)).call(this,w.a.OBLIQUE,t));return a.imageId=n,a.intrinsics=o,a}return o(e,t),E(e,[{key:"update",value:function(){}},{key:"toJson",value:function(){return x({},M(e.prototype.__proto__||f()(e.prototype),"toJson",this).call(this),{imageId:this.imageId,intrinsics:this.intrinsics.toJson()})}}],[{key:"fromJson",value:function(t){return new e(t.method,t.imageId,b.a.fromJson(t.intrinsics))}}]),e}(_.a);e.default=S},function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n(49),i=(n.n(r),n(125)),o=(n.n(i),n(1343)),a=n(178),s=n(211),l=n(33),u=n(270),c=(n(1344),function(){return new Float64Array(3)}),f=function(t){return r.vec3.copy(c(),t)},h=Object(l.e)(.1),d=h,p=.1*h,m={internalPositionToOblique:function(t,e,n,r,i,o,a,s,l,c,f,h,d,p,m,g,v,y){return new u.b({coords:[r,i],recordingHeight:o,heading:a,pitch:s,roll:l,f:c,dU:f,dV:h,width:d,height:p,k1:m,k2:g,p1:v,p2:y}).worldVectorToPixel(t,e,n)}},g={panoramaObservationPrecision:h,obliqueObservationPrecision:1},v={CONVERGENCE_REACHED:"convergence_reached",ITERATION_LIMIT_REACHED:"iteration_limit_reached",NOT_ENOUGH_OBSERVATIONS:"not_enough_observations",NUMERICAL_FAILURE:"numerical_failure"},y=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.panoramaObservationPrecision,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g.obliqueObservationPrecision,y=e.length;if(y<2)return o.a.fail(v.NOT_ENOUGH_OBSERVATIONS);var b=void 0,_=void 0,w=void 0,x=void 0,E=void 0,M=void 0,S=void 0,T=c(),C=c(),O=c(),A=c(),I=0,R=3;for(b=0;b<y;++b)if(E=e[b],E.type===s.c.PANORAMA)I+=6,R+=4;else{if(E.type!==s.c.OBLIQUE)throw new Error("Unsupported observation type: "+E.type);I+=8,R+=6}var P=new i.Matrix(R,1),L=new i.Matrix(R,1),N=new i.Matrix(I,I),k=f(t),D=r.vec3.subtract(c(),t,k),F=Math.pow(n,-2),j=Math.pow(u,-2);for(w=0,x=0,b=0;b<y;++b)E=e[b],M=E.extrinsics,r.vec3.subtract(T,M.position,k),r.vec3.copy(C,M.positionStdev),r.vec3.copy(O,M.orientation),r.vec3.copy(A,M.orientationStdev),(!C||isNaN(C[0])||isNaN(C[1])||isNaN(C[2]))&&r.vec3.set(C,1,1,1),(!A||isNaN(A[0])||E.type===s.c.OBLIQUE&&(isNaN(A[1])||isNaN(A[2])))&&r.vec3.set(A,h,h,h),P.set(x,0,T[0]),L.set(x,0,T[0]),P.set(x+1,0,T[1]),L.set(x+1,0,T[1]),P.set(x+2,0,T[2]),L.set(x+2,0,T[2]),E.type===s.c.PANORAMA?(P.set(x+3,0,0),L.set(x+3,0,0),N.set(w,w++,Math.pow(Math.max(C[0],.05),-2)),N.set(w,w++,Math.pow(Math.max(C[1],.05),-2)),N.set(w,w++,Math.pow(Math.max(C[2],.05),-2)),N.set(w,w++,Math.pow(Math.max(A[0],d),-2)),N.set(w,w++,F),N.set(w,w++,F),x+=4):(P.set(x+3,0,O[0]),L.set(x+3,0,O[0]),P.set(x+4,0,O[1]),L.set(x+4,0,O[1]),P.set(x+5,0,O[2]),L.set(x+5,0,O[2]),N.set(w,w++,Math.pow(Math.max(C[0],.05),-2)),N.set(w,w++,Math.pow(Math.max(C[1],.05),-2)),N.set(w,w++,Math.pow(Math.max(C[2],.05),-2)),N.set(w,w++,Math.pow(Math.max(A[0],p),-2)),N.set(w,w++,Math.pow(Math.max(A[1],p),-2)),N.set(w,w++,Math.pow(Math.max(A[2],p),-2)),N.set(w,w++,j),N.set(w,w++,j),x+=6);P.set(R-3,0,D[0]),L.set(R-3,0,D[0]),P.set(R-2,0,D[1]),L.set(R-2,0,D[1]),P.set(R-1,0,D[2]),L.set(R-1,0,D[2]);for(var U=new i.Matrix(I,R),z=new i.Matrix(I,1),B=void 0,V=[],G=NaN,H=NaN,q=0,W=void 0;;){w=0,x=0;var Y=L.get(R-3,0),X=L.get(R-2,0),Z=L.get(R-1,0),K=void 0,Q=void 0,J=void 0,$=void 0,tt=void 0,et=void 0;for(b=0;b<y;++b)if(E=e[b],E.type===s.c.PANORAMA){K=L.get(x,0),Q=L.get(x+1,0),J=L.get(x+2,0),$=L.get(x+3,0);var nt=E.directionHV,rt=Y-K,it=X-Q,ot=Z-J,at=rt*rt+it*it,st=at+ot*ot;if(0===at)return o.a.fail(v.NUMERICAL_FAILURE);var lt=1/at,ut=Math.sqrt(at);U.set(w,x,1),U.set(w+1,x+1,1),U.set(w+2,x+2,1),U.set(w+3,x+3,1),U.set(w+4,x,it*lt),U.set(w+4,x+1,-rt*lt),U.set(w+4,x+2,0),U.set(w+4,x+3,-1),U.set(w+4,R-3,-it*lt),U.set(w+4,R-2,rt*lt),U.set(w+5,x,rt*ot/(ut*st)),U.set(w+5,x+1,it*ot/(ut*st)),U.set(w+5,x+2,-ut/st),U.set(w+5,R-3,-U.get(w+5,x)),U.set(w+5,R-2,-U.get(w+5,x+1)),U.set(w+5,R-1,-U.get(w+5,x+2)),z.set(w,0,P.get(x,0)-L.get(x,0)),z.set(w+1,0,P.get(x+1,0)-L.get(x+1,0)),z.set(w+2,0,P.get(x+2,0)-L.get(x+2,0)),z.set(w+3,0,P.get(x+3,0)-L.get(x+3,0)),z.set(w+4,0,Object(l.f)(nt[0]-(Math.atan2(it,rt)-$),-Math.PI,Math.PI)),z.set(w+5,0,nt[1]-Math.atan2(ot,ut)),w+=6,x+=4}else{var ct=E.imageXY[0],ft=E.imageXY[1];S=E.intrinsics,K=L.get(x,0),Q=L.get(x+1,0),J=L.get(x+2,0),$=L.get(x+3,0),tt=L.get(x+4,0),et=L.get(x+5,0);var ht=S.focalLength,dt=S.ppX,pt=S.ppY,mt=S.imageWidth,gt=S.imageHeight,vt=S.k1,yt=S.k2,bt=S.p1,_t=S.p2,wt=m.internalPositionToOblique(Y,X,Z,K,Q,J,$,tt,et,ht,dt,pt,mt,gt,vt,yt,bt,_t);for(z.set(w,0,P.get(x,0)-L.get(x,0)),z.set(w+1,0,P.get(x+1,0)-L.get(x+1,0)),z.set(w+2,0,P.get(x+2,0)-L.get(x+2,0)),z.set(w+3,0,P.get(x+3,0)-L.get(x+3,0)),z.set(w+4,0,P.get(x+4,0)-L.get(x+4,0)),z.set(w+5,0,P.get(x+5,0)-L.get(x+5,0)),z.set(w+6,0,ct-wt[0]),z.set(w+7,0,ft-wt[1]),_=0;_<6;++_)U.set(w+_,x+_,1);var xt=void 0;for(_=0;_<3;++_){var Et=[Y,X,Z];Et[_]+=a.b,xt=m.internalPositionToOblique(Et[0],Et[1],Et[2],K,Q,J,$,tt,et,ht,dt,pt,mt,gt,vt,yt,bt,_t),U.set(w+6,R-3+_,(xt[0]-wt[0])/a.b),U.set(w+7,R-3+_,(xt[1]-wt[1])/a.b)}for(_=0;_<3;++_){var Mt=[K,Q,J];Mt[_]+=a.b,xt=m.internalPositionToOblique(Y,X,Z,Mt[0],Mt[1],Mt[2],$,tt,et,ht,dt,pt,mt,gt,vt,yt,bt,_t),U.set(w+6,x+_,(xt[0]-wt[0])/a.b),U.set(w+7,x+_,(xt[1]-wt[1])/a.b)}for(_=0;_<3;++_){var St=[$,tt,et];St[_]+=a.a,xt=m.internalPositionToOblique(Y,X,Z,K,Q,J,St[0],St[1],St[2],ht,dt,pt,mt,gt,vt,yt,bt,_t),U.set(w+6,x+_+3,(xt[0]-wt[0])/a.a),U.set(w+7,x+_+3,(xt[1]-wt[1])/a.a)}w+=8,x+=6}var Tt=U.transpose().multiply(N);B=Tt.multiply(U);var Ct=Tt.multiply(z),Ot=void 0;try{Ot=B.solve(Ct)}catch(t){return o.a.fail(v.NUMERICAL_FAILURE)}for(L.add(Ot),G=0,_=0;_<I;++_)G+=Math.pow(z.get(_,0),2);G=Math.sqrt(G/I),V.push(G),H=(0===q?1e100:V[q-1])-G;var At=void 0;if(At=Math.abs(H)<=1e-4,q++,At){W=v.CONVERGENGE_REACHED;break}if(q>=25){if(W=v.ITERATION_LIMIT_REACHED,Math.abs(H)>.001)return o.a.fail(W);break}}var It=z.transpose().multiply(N.multiply(z)),Rt=It.get(0,0)/(I-R),Pt=B.inverse();D[0]=k[0]+L.get(R-3,0),D[1]=k[1]+L.get(R-2,0),D[2]=k[2]+L.get(R-1,0);var Lt=r.vec3.fromValues(Math.sqrt(Pt.get(R-3,R-3)),Math.sqrt(Pt.get(R-2,R-2)),Math.sqrt(Pt.get(R-1,R-1)));return o.a.succeed(D,Lt,Rt,W)}},function(t,e){!function(){"use strict";function e(t){this.type=Float64Array,this.length=0,t instanceof e?this.combine(t):t&&t.shape?(this.data=new t.type(t.data),this.length=t.shape[0]*t.shape[1],this.type=t.type):t instanceof Array?(this.data=new this.type(t),this.length=t.length):t&&t.buffer&&t.buffer instanceof ArrayBuffer&&(this.data=t,this.length=t.length,this.type=t.constructor)}function n(t){return{get:function(){return this.get(t)},set:function(e){return this.set(t,e)}}}e.binOp=function(t,n,r){return new e(t).binOp(n,r)},e.prototype.binOp=function(t,e){var n=this.length,r=t.length;if(n!==r)throw new Error("sizes do not match!");if(!n&&!r)return this;var i;for(i=0;i<n;i++)this.data[i]=e(this.data[i],t.data[i],i);return this},e.add=function(t,n){return new e(t).add(n)},e.prototype.add=function(t){return this.binOp(t,function(t,e){return t+e})},e.subtract=function(t,n){return new e(t).subtract(n)},e.prototype.subtract=function(t){return this.binOp(t,function(t,e){return t-e})},e.scale=function(t,n){return new e(t).scale(n)},e.prototype.scale=function(t){return this.each(function(e,n,r){r[n]*=t})},e.normalize=function(t){return new e(t).normalize()},e.prototype.normalize=function(){return this.scale(1/this.magnitude())},e.project=function(t,n){return t.project(new e(n))},e.prototype.project=function(t){return t.scale(this.dot(t)/t.dot(t))},e.fill=function(t,n,r){if(t<0)throw new Error("invalid size");if(0===t)return new e;n=n||0,r=r||Float64Array;var i,o=new r(t),a="function"==typeof n;for(i=0;i<t;i++)o[i]=a?n(i):n;return new e(o)},e.zeros=function(t,n){return e.fill(t,0,n)},e.ones=function(t,n){return e.fill(t,1,n)},e.random=function(t,n,r,i){return n=n||1,r=r||0,e.fill(t,function(){return n*Math.random()+r},i)},e.range=function(){var t,n,r,i=[].slice.call(arguments,0),o=!1,a=Float64Array;switch("function"==typeof i[i.length-1]&&(a=i.pop()),i.length){case 2:r=i.pop(),n=1,t=i.pop();break;case 3:r=i.pop(),n=i.pop(),t=i.pop();break;default:throw new Error("invalid range")}if(r-t<0){var s=r;r=t,t=s,o=!0}if(n>r-t)throw new Error("invalid range");var l,u,c=new a(Math.ceil((r-t)/n));for(l=t,u=0;l<r;l+=n,u++)c[u]=o?r-l+t:l;return new e(c)},e.dot=function(t,e){return t.dot(e)},e.prototype.dot=function(t){if(this.length!==t.length)throw new Error("sizes do not match");var e,n,r=this.data,i=t.data,o=0;for(e=0,n=this.length;e<n;e++)o+=r[e]*i[e];return o},e.prototype.magnitude=function(){if(!this.length)return 0;var t,e,n=0,r=this.data;for(t=0,e=this.length;t<e;t++)n+=r[t]*r[t];return Math.sqrt(n)},e.angle=function(t,e){return t.angle(e)},e.prototype.angle=function(t){return Math.acos(this.dot(t)/this.magnitude()/t.magnitude())},e.equals=function(t,e){return t.equals(e)},e.prototype.equals=function(t){if(this.length!==t.length)return!1;for(var e=this.data,n=t.data,r=this.length,i=0;i<r&&e[i]===n[i];)i++;return i===r},e.prototype.min=function(){return this.reduce(function(t,e){return Math.min(t,e)},Number.POSITIVE_INFINITY)},e.prototype.max=function(){return this.reduce(function(t,e){return Math.max(t,e)},Number.NEGATIVE_INFINITY)},e.prototype.check=function(t){if(t<0||t>this.length-1)throw new Error("index out of bounds")},e.prototype.get=function(t){return this.check(t),this.data[t]},e.prototype.set=function(t,e){return this.check(t),this.data[t]=e,this},Object.defineProperties(e.prototype,{x:n(0),y:n(1),z:n(2),w:n(3)}),e.combine=function(t,n){return new e(t).combine(n)},e.prototype.combine=function(t){if(!t.length)return this;if(!this.length)return this.data=new t.type(t.data),this.length=t.length,this.type=t.type,this;var e=this.length,n=t.length,r=this.data,i=t.data,o=new this.type(e+n);return o.set(r),o.set(i,e),this.data=o,this.length=e+n,this},e.prototype.push=function(t){return this.combine(new e([t]))},e.prototype.map=function(t){var n,r=new e(this),i=r.data;for(n=0;n<this.length;n++)i[n]=t.call(r,i[n],n,i);return r},e.prototype.each=function(t){var e;for(e=0;e<this.length;e++)t.call(this,this.data[e],e,this.data);return this},e.prototype.reduce=function(t,e){var n=this.length;if(0===n&&!e)throw new Error("Reduce of empty matrix with no initial value.");for(var r=0,i=e||this.data[r++];r<n;r++)i=t.call(this,i,this.data[r],r,this.data);return i},e.prototype.toString=function(){var t,e=["["];for(t=0;t<this.length;t++)e.push(t>0?", "+this.data[t]:this.data[t]);return e.push("]"),e.join("")},e.prototype.toArray=function(){return this.data?Array.prototype.slice.call(this.data):[]},t.exports=e;try{window.Vector=e}catch(t){}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return O}),n.d(e,"b",function(){return U});var r=n(70),i=n.n(r),o=n(77),a=n.n(o),s=n(23),l=n.n(s),u=n(17),c=n.n(u),f=n(4),h=n.n(f),d=n(49),p=(n.n(d),n(20)),m=n.n(p),g=n(211),v=n(88),y=n(165),b=n(41),_=n(145),w=n(342),x=n(578),E=n(575),M=n(579),S=n(48),T=h.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=c()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(l()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=function(t,e,n){if(!n)return n;var r=m.a.cloneDeep(n),i=r.measureMethod,o=r.details,a=[],s=_.h.GOOD,l=Object(b.n)(e),u=l.xyUnits;if(i===S.MeasureMethod.SMART_CLICK||i===S.MeasureMethod.FORWARD_INTERSECTION){var c=o.ResultDirections.ResultDirection,f=c.map(function(t){return[t.PositionX,t.PositionY,t.PositionZ]});c.length<3&&(a.push(_.g.TOO_FEW_RECORDINGS),s=_.h.OK);for(var h=0,d=0,p=c.length;d<p;d++){var g=Object(v.g)(f[d],t);g>h&&(h=g)}(u===b.d.METERS&&h>_.d||h>_.c)&&(a.push(_.g.POINT_TOO_FAR),s=_.h.OK);for(var w=180,x=0,E=0,M=c.length;E<M;E++)for(var T=E+1;T<M;T++){var C=Object(y.a)(Object(v.a)(t,f[E],f[T]));C<w&&(w=C),C>x&&(x=C)}(w>_.e||x<_.f)&&(a.push(_.g.INVALID_ANGLE),s=_.h.BAD)}return r.pointProblems=a,r.pointReliability=s,r},A=function(t){var e=t.direction,n=t.depthInMeters,r=t.recordingInfo,i=r.xyz,o=r.xyzStdev,a=r.depthStdev,s=[Math.atan2(e[1],e[0]),Math.asin(e[2])],l=Object(y.b)(.1);return Object(x.b)(n,s[0],s[1],i[0],i[1],i[2],a,l,l,o[0],o[1],o[2]).stdev},I=function(t){var e=t.details,n=t.measureMethod;if(n===S.MeasureMethod.DEPTH_MAP)return A(e);if(n===S.MeasureMethod.FORWARD_INTERSECTION||n===S.MeasureMethod.SMART_CLICK){var r=e.ResultDirections.ResultDirection.map(function(t){var e=new g.a([t.PositionX,t.PositionY,t.PositionZ],[t.StdX,t.StdY,t.StdZ],[Object(y.b)(t.Orientation),0,0],[Object(y.b)(t.StdOrientation),0,0]);return new g.b(t.Id,e,t.GroundLevelOffset,[t.DirectionX,t.DirectionY,t.DirectionZ],"data:image/jpeg;base64,"+t.MatchImage)}),i=Object(E.a)([e.PositionX,e.PositionY,e.PositionZ],r);if(i.success)return i.stdev}},R=function(t,e){var n=e.coordinates,r=e.coordinateStdevs,o=e.is3d;if(1===n.length){var s=C(n[0],3),l=s[0],u=s[1],c=s[2];if(t.position={value:[l,u,c]},t.positionXY={value:[l,u]},o){t.positionZ={value:c};var f=r[0];if(Object(M.a)(f)&&f.every(function(t){return a()(t)})){var h=C(f,3),d=h[0],p=h[1],m=h[2];t.position.stdev=[d,p,m],t.positionXY.stdev=i()(d,p),t.positionZ.stdev=m}}}},P=function(t,e){var n=e.coordinates,r=e.coordinateStdevs;return e.is3d?(t.triangles=Object(v.l)(n),t.area={value:Object(v.c)(n,{triangles:t.triangles}),stdev:Object(x.f)(t.triangles,n,r)}):t.area={value:Object(v.b)(n)},t},L=function(t){var e=t.coordinates,n=t.coordinateStdevs,r=t.is3d,i=t.type,o=t.customGeometryType,a=t.numSegments;if(r){var s=i===_.b.POLYGON&&a>2,l=Object(x.c)(e,n,s,a,o===_.a.ORTHOGONAL);return{totalLength:{value:l.value,stdev:l.stdev},segmentLengths:T({},l.segments),segmentsDeltaXY:T({},l.segmentsDeltaXY),segmentsDeltaZ:T({},l.segmentsDeltaZ),segmentsSlopePercentage:T({},l.segmentsSlopePercentage),segmentsSlopeAngle:T({},l.segmentsSlopeAngle)}}for(var u=new Array(a),c=0,f=a;c<f;c++)u[c]=Object(v.f)(e[c],e[c+1]);return{segmentLengths:{value:u},totalLength:{value:m.a.sum(u)}}},N=function(t,e){for(var n=e.coordinates,r=e.coordinateStdevs,i=e.is3d,o=0,a=0,s=0,l=1;l<n.length;++l)for(var u=n[l],c=0;c<l;++c){var f=d.vec2.distance(u,n[c]);f>o&&(o=f,a=l,s=c)}var h={value:o};if(i){var p=C(n[a],2),m=p[0],g=p[1],v=C(n[s],2),y=v[0],b=v[1];if(void 0!==r[a]&&void 0!==r[s]){var _=C(r[a],2),w=_[0],E=_[1],M=C(r[s],2),S=M[0],T=M[1];h.stdev=Object(x.a)(m,g,0,y,b,0,w,E,0,S,T,0).stdev}}t.deltaXY=h},k=function(t,e){var n=e.coordinates,r=e.coordinateStdevs,i=void 0,o=void 0,a=0,s=0;i=o=n[0][2];for(var l=1;l<n.length;++l){var u=n[l][2];u<i&&r[l]&&(i=u,a=l),u>o&&r[l]&&(o=u,s=l)}var c=n[a][2],f=n[s][2],h=r[a][2],d=r[s][2];t.deltaZ={value:o-i,stdev:Object(x.a)(0,0,c,0,0,f,0,0,h,0,0,d).stdev}},D=function(t,e){var n=e.coordinates,r=e.coordinateStdevs,i=C(n,2),o=C(i[0],3),a=o[0],s=o[1],l=o[2],u=C(i[1],3),c=u[0],f=u[1],h=u[2],d=C(r,2),p=C(d[0],3),m=p[0],g=p[1],v=p[2],y=C(d[1],3),b=y[0],_=y[1],w=y[2],E=Object(x.e)(a,s,l,c,f,h,m,g,v,b,_,w);t.slopePercentage={value:E.value,stdev:E.stdev};var M=Object(x.d)(a,s,l,c,f,h,m,g,v,b,_,w);t.slopeAngle={value:M.value,stdev:M.stdev}},F=function(t){var e={},n=t.properties,r=n.customGeometryType,i=n.dimension,o=n.measureDetails,a=n.preciseCRS,s=n.preciseGeometry,l=s.type,u=s.coordinates,c=Object(b.n)(a),f=c.xyUnits,d=Object(w.b)(l,u),p=d.length,m=l===_.b.POLYGON?p-1:p,g=3===i;e.unit=f,e.precision=g?Object(b.m)(f):1;var y=d.map(function(t,e){var n=o[e%m];return I(n)});if(e.coordinateStdevs=y,l===_.b.POINT)R(e,{coordinates:d,coordinateStdevs:y,is3d:g});else if(l===_.b.LINESTRING||l===_.b.POLYGON){var x=p-1;if(l===_.b.POLYGON&&x<=2&&--x,l===_.b.POLYGON&&x>2&&P(e,{coordinates:d,coordinateStdevs:y,is3d:g}),x>0){var E=L({coordinates:d,coordinateStdevs:y,is3d:g,type:l,customGeometryType:r,numSegments:x});h()(e,E)}}if(r===_.a.CIRCLE&&2===p){var M=Object(v.f)(d[0],d[1])/2;e.radius={value:M},e.area={value:Math.pow(M,2)*Math.PI},e.totalLength={value:2*M*Math.PI}}return r===_.a.ORTHOGONAL&&e.segmentLengths&&(3===e.segmentLengths.value.length?e.totalLength={value:e.segmentLengths.value[2],stdev:e.segmentLengths.stdev[2]}:e.totalLength={value:void 0,stdev:void 0}),p>=(l===_.b.POLYGON?3:2)&&(N(e,{coordinates:d,coordinateStdevs:y,is3d:g}),g&&!y.includes(void 0)&&k(e,{coordinates:d,coordinateStdevs:y,is3d:g})),g&&l===_.b.LINESTRING&&2===p&&y.length>=2&&void 0!==y[0]&&void 0!==y[1]&&D(e,{coordinates:d,coordinateStdevs:y}),e},j=function(t){var e=t.geometry.type,n=t.properties,r=n.measureDetails,i=n.dimension,o=n.preciseCRS,a=_.h.GOOD,s=[],l=r.length;if(Object(b.n)(o).xyUnits!==b.d.DEGREES&&3===i)for(var u=0,c=l;u<c;u++){var f=r[u].pointReliability;f!==_.h.GOOD&&(a!==_.h.BAD&&(a=Object(w.c)(a,f)),s.push(u))}return n.measureReliability=a,n.pointsWithErrors=s,n.validGeometry=Object(w.f)(e,l),t},U=function(t){var e=m.a.cloneDeep(t),n=t.properties,r=n.preciseCRS,i=n.measureDetails,o=n.dimension;return i&&o&&r&&(e.properties.derivedData=F(e),e=j(e)),e}},function(t,e,n){"use strict";var r=n(1346);n.d(e,"f",function(){return r.a});var i=(n(178),n(1348));n.d(e,"a",function(){return i.a}),n.d(e,"c",function(){return i.b});var o=n(1349);n.d(e,"b",function(){return o.a});var a=n(1350);n.d(e,"d",function(){return a.a}),n.d(e,"e",function(){return a.b})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=Array.isArray,i=function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},o=function(t){return r(t)||i(t)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=d()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(f.a?f()(t,e):t.__proto__=e)}var a=n(40),s=n.n(a),l=n(7),u=n.n(l),c=n(6),f=n.n(c),h=n(5),d=n.n(h),p=n(1),m=n.n(p),g=n(4),v=n.n(g),y=n(18),b=n.n(y),_=n(372),w=n(582),x=n(583),E=v.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),m()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),S=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||u()(e)).call(this));return t.styleFunction=t.styleFunction.bind(t),t}return o(e,t),M(e,[{key:"styleFunction",value:function(t,e){var n=t.getProperties();n.fid=t.getId();var r=this.getRules(n,e),i=Object(w.b)(r,w.a.MAP_VIEWER),o=Object(x.a)(t,r,"navigateToURLOnClick");o&&t.setProperties({navigateToURLOnClick:o});var a=[];return i.forEach(function(t){if(0===s()(t).length)return null;var e=void 0,r=void 0,i=void 0,o=void 0;if(t.fillColor){o=t.fillColor;var l=b.a.color.asArray(o).slice();t.fillOpacity&&(l[3]=t.fillOpacity),e=new b.a.style.Fill({color:l})}if(t.strokeColor||t.fillColor){i=t.strokeColor?t.strokeColor:t.fillColor;var u=b.a.color.asArray(i).slice();t.strokeOpacity&&(u[3]=t.strokeOpacity),r=new b.a.style.Stroke({color:i,width:t.strokeWidth?t.strokeWidth:0})}if(t.label){var c=void 0,f=void 0;t.label.fontSize&&(c=t.label.fontSize+"px"),t.label.fontFamily&&(c=c?c+" "+t.label.fontFamily:t.label.fontFamily);var h="#000000";t.label.fillColor&&(h=t.label.fillColor);var d=new b.a.style.Fill({color:h});t.label.haloFill&&(f=new b.a.style.Stroke({color:t.label.haloFill,width:t.label.haloRadius||2}));var p={};t.label.anchorpointx>=.75?p.textAlign="right":t.label.anchorpointx<.75&&t.label.anchorpointx>=.25?p.textAlign="center":p.textAlign="left",t.label.anchorpointy>=.75?p.textBaseline="top":t.label.anchorpointy<.75&&t.label.anchorpointy>=.25?p.textBaseline="middle":p.textBaseline="bottom",t.label.displacementx&&(p.offsetX=t.label.displacementx),t.label.displacementy&&(p.offsetY=t.label.displacementy),t.label.rotation&&(p.rotation=t.label.rotation);for(var m=t.label.fieldname.split(","),g="",v=0;v<m.length;v++)void 0!==n[m[v]]&&(v===m.length?g+=n[m[v]]:g+=n[m[v]]+" ");a.push(new b.a.style.Style({text:new b.a.style.Text(E({text:g,font:c,fill:d,stroke:f},p))}))}else{var y=t.size||5;if(t.symbol)switch(t.symbol){case"square":a.push(new b.a.style.Style({image:new b.a.style.RegularShape({fill:e,stroke:r,points:4,radius:y,angle:Math.PI/4})}));break;case"cross":a.push(new b.a.style.Style({image:new b.a.style.RegularShape({stroke:new b.a.style.Stroke({color:i,width:y/3}),points:4,radius1:y,radius2:0,angle:0})})),a.push(new b.a.style.Style({image:new b.a.style.RegularShape({stroke:new b.a.style.Stroke({color:o,width:Math.max(y/3-t.strokeWidth,0)}),points:4,radius1:y,radius2:0,angle:0})}));break;case"circle":a.push(new b.a.style.Style({image:new b.a.style.Circle({fill:e,stroke:r,radius:y})}));break;default:a.push(new b.a.style.Style({image:new b.a.style.Circle({fill:e,stroke:r,radius:y}),fill:e,stroke:r}))}else if(t.externalgraphic&&t.externalgraphic.onlineresource)a.push(new b.a.style.Style({image:new b.a.style.Icon({scale:y/20,src:t.externalgraphic.onlineresource}),fill:e,stroke:r}));else if(t.externalgraphic&&t.externalgraphic.dynamicOnlineResource){for(var _=t.externalgraphic.dynamicOnlineResource,w=_.propertyNames,x=_.text,M=!0,S=x,T=0;T<w.length;T++){var C=n[w[T]],O=w[T]in n;M=M&&O,O&&(S=S.replace("{"+T+"}",C))}M&&a.push(new b.a.style.Style({image:new b.a.style.Icon({scale:y/20,src:S}),fill:e,stroke:r}))}else a.push(new b.a.style.Style({image:new b.a.style.Circle({fill:e,stroke:r,radius:y}),fill:e,stroke:r}))}}),a}}]),e}(_.a);e.a=S},function(t,e,n){t.exports={default:n(1354),__esModule:!0}},function(t,e,n){"use strict";function r(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.UNDEFINED_VIEWER,n=[],r=0;r<t.length;r+=1)if(!(e===l.PANORAMA_VIEWER&&void 0!==t[r].excludeFromCyclorama&&t[r].excludeFromCyclorama||e===l.MAP_VIEWER&&void 0!==t[r].excludeFromMap&&t[r].excludeFromMap)){if(t[r].polygonsymbolizer){var u={};if(t[r].polygonsymbolizer.fill){var c=t[r].polygonsymbolizer.fill;a(c,u)}if(t[r].polygonsymbolizer.stroke){var f=t[r].polygonsymbolizer.stroke;o(f,u)}n.push(u)}if(t[r].linesymbolizers.forEach(function(t){if(t&&t.stroke){var e={};o(t.stroke,e),n.push(e)}}),t[r].pointsymbolizer&&t[r].pointsymbolizer.graphic){var h={},d=t[r].pointsymbolizer.graphic;i(d,h),n.push(h)}if(t[r].textsymbolizer&&t[r].textsymbolizer.label){var p={},m=t[r].textsymbolizer;s(m,p),n.push(p)}}return n}function i(t,e){t.mark&&t.mark.fill&&a(t.mark.fill,e),t.mark&&t.mark.stroke&&o(t.mark.stroke,e),t.size&&(e.size=t.size),t.mark&&t.mark.wellknownname&&(e.symbol=t.mark.wellknownname),t.externalgraphic&&(e.externalgraphic={},t.externalgraphic.onlineresource&&(e.externalgraphic.onlineresource=t.externalgraphic.onlineresource),t.externalgraphic.dynamicOnlineResource&&(e.externalgraphic.dynamicOnlineResource=t.externalgraphic.dynamicOnlineResource),t.externalgraphic.format&&(e.externalgraphic.format=t.externalgraphic.format))}function o(t,e){for(var n=0;n<t.css.length;n+=1)switch(t.css[n].name){case"stroke":e.strokeColor=t.css[n].value;break;case"stroke-opacity":e.strokeOpacity=t.css[n].value;break;case"stroke-width":e.strokeWidth=t.css[n].value}}function a(t,e){for(var n=0;n<t.css.length;n+=1)switch(t.css[n].name){case"fill":e.fillColor=t.css[n].value;break;case"fill-opacity":e.fillOpacity=t.css[n].value}}function s(t,e){var n={};if(t.label&&t.label.propertyname&&(n.fieldname=t.label.propertyname.toLowerCase()),t.fill&&a(t.fill,n),t.font&&t.font.css)for(var r=t.font.css,i=0;i<r.length;i+=1)switch(r[i].name){case"font-family":n.fontFamily=r[i].value;break;case"font-size":n.fontSize=r[i].value}if(t.halo){if(t.halo.fill&&t.halo.fill.css)for(var o=t.halo.fill.css,s=0;s<o.length;s+=1)"fill"===o[s].name&&(n.haloFill=o[s].value);t.halo.radius&&(n.haloRadius=t.halo.radius)}if(t.labelplacement&&t.labelplacement.pointplacement){var l=t.labelplacement.pointplacement;l.anchorpoint&&(n.anchorpointx=l.anchorpoint.anchorpointx,n.anchorpointy=l.anchorpoint.anchorpointy),l.displacement&&(n.displacementx=l.displacement.displacementx,n.displacementy=l.displacement.displacementy),l.rotation&&(n.rotation=l.rotation)}e.label=n}n.d(e,"a",function(){return l});var l={PANORAMA_VIEWER:"panorama_viewer",MAP_VIEWER:"map_viewer",OBLIQUE_VIEWER:"oblique_viewer",UNDEFINED_VIEWER:"undefined_viewer"};e.b=r},function(t,e,n){"use strict";function r(t,e,n){for(var r=void 0,i=void 0,o=0;o<e.length;o+=1)e[o].polygonsymbolizer&&e[o].polygonsymbolizer[n]&&(r=e[o].polygonsymbolizer[n]),e[o].polygonsymbolizer&&e[o].polygonsymbolizer[n]&&(r=e[o].polygonsymbolizer[n]),e[o].linesymbolizer&&e[o].linesymbolizer[n]&&(r=e[o].linesymbolizer[n]),e[o].pointsymbolizer&&e[o].pointsymbolizer[n]&&(r=e[o].pointsymbolizer[n]),e[o].textsymbolizer&&e[o].textsymbolizer[n]&&(r=e[o].textsymbolizer[n]);if(r)if("navigateToURLOnClick"===n){var a=r,s=a.propertyNames,l=a.text,u=t.getProperties();i=l;for(var c=0;c<s.length;c++){var f=u[s[c]],h=s[c]in u;h&&(i=i.replace("{"+c+"}",f))}}else i=r;return i}e.a=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(18),d=n.n(h),p=function(t){function e(t){var n=t.coordinate,o=t.id,a=t.srs,l=t.xyz,u=t.groundLevelOffset,c=t.orientation,f=t.orientationPrecision,h=t.recorderDirection,p=t.recordedAt,m=t.expiredAt,g=t.tileSchema,v=t.longitudePrecision,y=t.latitudePrecision,b=t.heightPrecision,_=t.productType,w=t.heightSystem,x=t.hasDepthMap,E=t.depthMapVersion,M=t.depthMapPrecision,S=t.ownerInfo,T=t.isBlurred;return r(this,e),i(this,(e.__proto__||s()(e)).call(this,{geometry:new d.a.geom.Point(n),name:o,id:o,srs:a,xyz:l,groundLevelOffset:u,orientation:c,orientationPrecision:f,recorderDirection:h,recordedAt:p,expiredAt:m,tileSchema:g,longitudePrecision:v,latitudePrecision:y,heightPrecision:b,productType:_,heightSystem:w,hasDepthMap:x,depthMapVersion:E,depthMapPrecision:M,ownerInfo:S,isBlurred:T}))}return o(e,t),e}(d.a.Feature);e.a=p},function(t,e,n){"use strict";e.a={PANORAMA_CREATED:"panoramaCreated",PANORAMA_UPDATED:"panoramaUpdated",PANORAMA_DELETED:"panoramaDeleted"}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(55),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(7),d=n.n(h),p=n(51),m=n.n(p),g=n(1),v=n.n(g),y=n(23),b=n.n(y),_=n(17),w=n.n(_),x=n(50),E=n.n(x),M=n(54),S=n.n(M),T=n(20),C=n.n(T),O=n(18),A=n.n(O),I=n(15),R=(n.n(I),n(216)),P=n(1358),L=n(71),N="function"==typeof S.a&&"symbol"==typeof E.a?function(t){return typeof t}:function(t){return t&&"function"==typeof S.a&&t.constructor===S.a&&t!==S.a.prototype?"symbol":typeof t},k=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=w()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(b()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),D=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),v()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),F=function t(e,n,r){null===e&&(e=Function.prototype);var i=m()(e,n);if(void 0===i){var o=d()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},j=Object(I.defineMessages)({layerName:{id:"layer.AddressLayer.name",description:"Default address layer name",defaultMessage:"Address layer"},streetAddressFormat:{id:"layer.AddressFeature.streetAddressFormat",description:"Format of a street address, e.g. '{num} {street}, {city}' (NB: number may be a range)",defaultMessage:"{num} {street}, {city}"},sequentialNumberFormat:{id:"layer.AddressFeature.sequentialNumberFormat",description:"Format for sequential address numbers, e.g. '1 to 12'",defaultMessage:"{a} - {b}"},sequentialEvenNumberFormat:{id:"layer.AddressFeature.sequentialEvenNumberFormat",description:"Format for sequential even address numbers, e.g. '2 to 12 even'",defaultMessage:"{a} - {b} even"},sequentialOddNumberFormat:{id:"layer.AddressFeature.sequentialOddNumberFormat",description:"Format for sequential odd address numbers, e.g. '1 to 11 odd'",defaultMessage:"{a} - {b} odd"}}),U=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||d()(e)).call(this,C.a.defaults({},t,e.defaults)));return n._onFeatureHover=n._onFeatureHover.bind(n),n}return o(e,t),D(e,[{key:"onBeforeAddFeature",value:function(t){F(e.prototype.__proto__||d()(e.prototype),"onBeforeAddFeature",this).call(this,t);var n=t.get("AddressString").split(";"),r=t.get("PostalCode"),i=n[1]+" "+n[2]+" "+r+" "+n[0];t.setId(i)}},{key:"_onFeatureHover",value:function(t){var e=this._formatAddresses(this._sortAddresses(t.get("features").map(function(t){var e=t.get("AddressString").split(";");return e.push(t.get("PostalCode")),e})));dispatchEvent(new CustomEvent("hoverOverAddress",{detail:{address:e}}))}},{key:"_onFeatureClick",value:function(t){}},{key:"createMapSource",value:function(){return new A.a.source.Cluster({source:new A.a.source.Vector(this._getMapSourceOptions()),distance:20})}},{key:"getFeatureStyle",value:function(){return function(t){var e=void 0;if(1===t.get("features").length){e=t.get("features")[0].get("AddressString").split(";")[2]}else e="...",t.set("type","addressCluster");return new P.a({text:e})}}},{key:"_sortAddresses",value:function(t){return t.map(function(t){var e=k(t,3),n=e[0],r=e[1],i=e[2];return[t,n.toUpperCase(),r.toUpperCase(),i.split(" ").map(function(t){return isFinite(t)?parseFloat(t):t.toUpperCase()})]}).sort(function(t,e){if(t[1]!==e[1])return t[1]<e[1]?-1:1;if(t[2]!==e[2])return t[2]<e[2]?-1:1;for(var n=t[3],r=e[3],i=n.length,o=r.length,a=0;!0;++a){if(a>=i&&a>=o)return 0;if(a>=i)return-1;if(a>=o)return 1;var s=n[a],l=r[a];if(s!==l){var u=void 0===s?"undefined":N(s);return u!==(void 0===l?"undefined":N(l))?"number"===u?-1:1:s<l?-1:1}}}).map(function(t){return t[0]})}},{key:"_formatAddresses",value:function(t){var e=t.reduce(function(t,e){var n=k(e,4),r=n[0],i=n[1],o=n[2],a=n[3],s=t[r]||(t[r]={}),l=s[a]||(s[a]={});return(l[i]||(l[i]=[])).push(o),t},{}),n=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=[t[0]],r=[n],i=-1,o=1,a=t.length;o<a;++o){var s=t[o],l=s-t[o-1],u=1===n.length;(l>2||!u&&l!==i)&&(n=[],r.push(n)),u&&(i=l),n.push(s)}return r.map(function(t){var n=t.length;if(n<e)return t.join(", ");var r=t[0],o=t[1],a=t[n-1];switch(i=o-r){case 1:return Object(L.b)(j.sequentialNumberFormat,{a:r,b:a});case 2:return Object(L.b)(r%2==0?j.sequentialEvenNumberFormat:j.sequentialOddNumberFormat,{a:r,b:a});default:return t.join(", ")}}).join(", ")};return C.a.flatten(s()(e).sort().map(function(t){var e=k(t,2),r=e[0],i=e[1];return s()(i).sort().map(function(t){var e=k(t,2),i=e[0],o=e[1];return s()(o).sort().map(function(t){var e=k(t,2),o=e[0],a=e[1],s=n(a);return i&&"undefined"!==i&&(s=s.concat(", "+i)),Object(L.b)(j.streetAddressFormat,{city:r,street:o,num:s})})})}))}}]),e}(R.a);U.defaults={id:"addressLayer",type:"AddressLayer",nameIntl:"layer.AddressLayer.name",visible:!0,version:"1.1.0",typeName:"atlas:Address",authRequired:!0},e.a=U},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(7),l=n.n(s),u=n(6),c=n.n(u),f=n(5),h=n.n(f),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(15),y=(n.n(v),n(151)),b=n(1359),_=n(588),w=n(589),x=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),M=(Object(v.defineMessages)({layerName:{id:"layer.ObliqueFootprintLayer.name",description:"Default oblique footprint layer name",defaultMessage:"Oblique footprint layer"}}),function(t){function e(t){var n=r(t,[]);i(this,e);var a=o(this,(e.__proto__||l()(e)).call(this,x({},e.defaults,n)));return addEventListener(w.a.OBLIQUE_CREATED,function(t){a.createFeature(t.detail.id,t.detail,t.detail.colorStyle)},!1),addEventListener(w.a.OBLIQUE_UPDATED,function(t){a.updateFeature(t.detail.id,t.detail,t.detail.colorStyle)},!1),addEventListener(w.a.OBLIQUE_DELETED,function(t){a.deleteFeature(t.detail.id)},!1),a.updateFeature=a.updateFeature.bind(a),a.toMapLayer(),a}return a(e,t),E(e,[{key:"_getMapSourceOptions",value:function(){}},{key:"_getMapLayerOptions",value:function(){return{visible:this.visible}}},{key:"createFeature",value:function(t,e,n){var r=new b.a(e);r.update(e),this.mapLayer.getSource().addFeature(r)}},{key:"updateFeature",value:function(t,e,n){var r=this.mapLayer.getSource(),i=r.getFeatureById("footprint_"+t);i&&i.update(e)}},{key:"deleteFeature",value:function(t){var e=this.mapLayer.getSource(),n=e.getFeatureById("footprint_"+t);n&&e.removeFeature(n)}},{key:"getFeatureStyle",value:function(){return new _.a}}]),e}(y.a));M.defaults={id:"oblique-footprint-layer",type:"ObliqueFootprintLayer",nameIntl:"layer.ObliqueFootprintLayer.name",visible:!0},e.a=M},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=p()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(h.a?h()(t,e):t.__proto__=e)}function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return c()(t)}var s=n(7),l=n.n(s),u=n(30),c=n.n(u),f=n(6),h=n.n(f),d=n(5),p=n.n(d),m=n(4),g=n.n(m),v=n(346),y=n(110),b=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_={fillColor:[].concat(a(y.e.blue),[.02]),strokeColor:[].concat(a(y.e.blue),[.8]),strokeWidth:2,radius:4},w=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var n=i(this,(e.__proto__||l()(e)).call(this)),o=n.glow=new v.a({strokeColor:[255,255,255,.75],strokeWidth:4,zIndex:1}),a=n.mainStyle=new v.a(b({},_,t,{zIndex:2}));return n.push(o,a),n}return o(e,t),e}(Array);e.a=w},function(t,e,n){"use strict";e.a={OBLIQUE_CREATED:"obliqueCreated",OBLIQUE_UPDATED:"obliqueUpdated",OBLIQUE_DELETED:"obliqueDeleted"}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return s()(t)}function i(t,e,n){for(var i=arguments.length,o=Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];(arguments.length<2||!Array.isArray(t)||"number"!=typeof e||void 0!==n&&"number"!=typeof n)&&Object(d.b)("spliceArr");var s=e>-1?e:t.length+e,l=n&&n>-1?n:0;return[].concat(r(t.slice(0,s)),o,r(t.slice(s+l)))}e.a=i;var o=n(55),a=(n.n(o),n(30)),s=n.n(a),l=n(23),u=n.n(l),c=n(17),f=n.n(c),h=n(36),d=(n.n(h),n(111));!function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=f()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}}()},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new s.a(function(t,n){function r(i,o){try{var a=e[i](o),l=a.value}catch(t){return void n(t)}if(!a.done)return s.a.resolve(l).then(function(t){r("next",t)},function(t){r("throw",t)});t(l)}return r("next")})}}n.d(e,"b",function(){return g}),n.d(e,"a",function(){return v});var i=n(21),o=n.n(i),a=n(19),s=n.n(a),l=n(102),u=n.n(l),c=n(34),f=n.n(c),h=n(216),d=n(250),p=this,m=function(){return Object(d.a)().getState()},g=function(){var t=r(o.a.mark(function t(e,n){var r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=void 0,t.prev=1,t.next=4,fetch(e,n);case 4:return i=t.sent,t.next=7,i.text();case 7:r=t.sent,i.status>=400&&(r=null),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),f.a.warn("Something went wrong loading the SLD: "+t.t0);case 14:return t.abrupt("return",r);case 15:case"end":return t.stop()}},t,p,[[1,11]])}));return function(e,n){return t.apply(this,arguments)}}(),v=(function(){var t=r(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new s.a(function(t,n){var r=new FileReader;r.onload=function(e){try{var i=r.result;t(i)}catch(t){n(t)}},r.onerror=function(t){n(t)},r.readAsText(e)}));case 1:case"end":return t.stop()}},t,p)}))}(),function(t){var e=t.sld,n=t.wfsUrl,r=t.wfsTypeName,i=t.layerName,o=t.userSrs,a=t.minZoomLevel,s=t.useProxy,l=t.version,c=t.id,f=t.visible,d=t.authRequired,p=t.credentials,g=t.layerOrigin,v=m().config.config.services,y=v.proxy,b=y.url,_={};return d&&(_.authRequired=d,p&&(_.credentials=p)),_.id=void 0===c?u()():c,_.typeName=r,_.url=n,_.projection=o,_.sld={},_.sld.xmlText=e.xmlText,_.sld.nameOrigin=e.nameOrigin,_.proxyUrl=b,_.name=i,_.minZoomLevel=a,_.visible=void 0===f||f,_.useProxy=s,_.version=l,_.layerOrigin=g,new h.a(_)})},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new l.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return l.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(21),a=n.n(o),s=n(19),l=n.n(s),u=n(1),c=n.n(u),f=n(18),h=n.n(f),d=n(143),p=n(63),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),c()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g=function(){function t(e){i(this,t),this._addressService=e.addressService,this.addressSources=this._buildAddressSources()}return m(t,[{key:"_buildAddressSources",value:function(){var t=this._addressService,e=t.databaseResource,n=t.code,r=t.onlineResource,i="/"+n+"?query={query}&srsName={srsName}&source="+e+"&format=wfs",o={search:r+"/search"+i};return"CMDatabase"!==e&&"Solr"!==e||(o.autocomplete=r+"/searchautocomplete"+i),[o]}},{key:"setSettings",value:function(t){var e=t.code,n=t.databaseResource,r=t.srsName;e&&n&&(this._addressService.code=e,this._addressService.databaseResource=n,this._addressService.srsName=r,this.addressSources=this._buildAddressSources())}},{key:"searchAddress",value:function(){function t(t,n){return e.apply(this,arguments)}var e=r(a.a.mark(function t(e,n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.addressSources&&this.addressSources.length>0)){t.next=5;break}return r=this.addressSources[0].search.replace("{query}",encodeURIComponent(e)).replace("{srsName}",encodeURIComponent(n)),t.next=4,this._getAddress(r);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",null);case 6:case"end":return t.stop()}},t,this)}));return t}()},{key:"_getAddress",value:function(){function t(t){return e.apply(this,arguments)}var e=r(a.a.mark(function t(e){var n,r,i,o,s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Request(e,{method:"POST",headers:new Headers(Object(p.b)()),mode:"cors"}),r=void 0,t.prev=2,t.next=5,fetch(n);case 5:r=t.sent,t.next=11;break;case 8:throw t.prev=8,t.t0=t.catch(2),new Error("An error has occured while trying to reach the server.");case 11:if(r.ok){t.next=14;break}throw i="Loading address failed with status code "+r.status+". Message: "+r.statusText,new Error(i);case 14:return t.next=16,Object(d.a)(r,"xml");case 16:if(!((o=t.sent)instanceof Error)){t.next=19;break}throw new Error("Error parsing XML for Address Search");case 19:return s=this._addressServiceFeaturesTransform(o),t.abrupt("return",s[0]);case 21:case"end":return t.stop()}},t,this,[[2,8]])}));return t}()},{key:"_addressServiceFeaturesTransform",value:function(t){var e=this,n=new h.a.format.WFS,r=n.readFeatures(t),i=this._userSrs;return r.map(function(t){var n=t.getProperties(),r=t.getGeometry(),o=void 0;if(r instanceof h.a.geom.Point){var a=r.getCoordinates();!a||isNaN(a[0])||isNaN(a[1])||(o={srs:i,coord:a})}else if(r instanceof h.a.geom.Polygon){var s=r.getExtent();s&&(o={srs:i,extent:s})}return{name:n.AddressString,geometry:o,source:e.addressSources}})}}]),t}();e.a=g},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new l.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return l.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(21),a=n.n(o),s=n(19),l=n.n(s),u=n(1),c=n.n(u),f=n(23),h=n.n(f),d=n(17),p=n.n(d),m=n(4),g=n.n(m),v=n(20),y=n.n(v),b=n(18),_=n.n(b),w=n(63),x=n(143),E=n(41),M=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=p()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(h()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),T=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),c()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),C=new _.a.format.WFS,O=function(){function t(e){i(this,t),y.a.defaults(this,e,t.defaultOptions)}return T(t,[{key:"getExtraFilter",value:function(t){return null}},{key:"requestWithRadius",value:function(t,e,n,r){var i=S(t,2),o=i[0],a=i[1],s=Object(E.n)(e).xyUnits,l=void 0,u=void 0;if(s===E.d.DEGREES){var c=Object(E.g)(n,t),f=c.dLon,h=c.dLat;l=f,u=h}else l=u=s===E.d.USFEET||s===E.d.FEET?Object(E.h)(E.d.METERS,s,n):n;var d=[o-l,a-u,o+l,a+u];return this.requestWithBBOX(d,e,r)}},{key:"requestWithBBOX",value:function(t,e,n){var r=_.a.format.filter,i=r.bbox(this.defaultGeometryName,t,e);return n&&n.filter&&(i=r.and(i,n.filter)),this.doRequest(M({},n,{srsName:e,filter:i}))}},{key:"requestById",value:function(t,e,n){var r=_.a.format.filter,i=r.equalTo("id",t,!1);return this.doRequest(M({},n,{isById:!0,srsName:e,filter:i}))}},{key:"postProcessFeatures",value:function(t){return t}},{key:"doRequest",value:function(){function t(t){return e.apply(this,arguments)}var e=r(a.a.mark(function t(e){var n,r,i,o,s,l,u,c,f,h,d,p;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.createRequestBody(e),r=e.srsName,i={"Content-Type":"application/xml"},this.authRequired&&(this.credentials&&this.credentials.username&&this.credentials.password?(o=this.credentials,s=o.username,l=o.password,u=btoa(s+":"+l),i=M({},i,Object(w.a)(u))):i=M({},i,Object(w.b)())),c=new Request(this.uri,{method:"POST",mode:"cors",headers:new Headers(i),body:n}),t.prev=5,t.next=8,fetch(c);case 8:return f=t.sent,t.next=11,Object(x.a)(f,"text");case 11:return h=t.sent,d=new _.a.format.WFS,p=d.readFeatures(h),p.forEach(function(t){return t.set("srs",r)}),t.abrupt("return",this.postProcessFeatures(p));case 18:throw t.prev=18,t.t0=t.catch(5),new Error("WFSClient: doRequest(): Error in loading wfs features!\nMessage: "+t.t0.message+"\nURL: "+this.uri);case 21:case"end":return t.stop()}},t,this,[[5,18]])}));return t}()},{key:"createRequestBody",value:function(t){var e=_.a.format.filter,n=t.srsName,r=t.filter,i=t.maxFeatures,o=t.isById,a=void 0!==o&&o,s=t.outputFormat,l=void 0,u=a?null:this.getExtraFilter(t);l=u?e.and(r,u):r;var c=C.writeGetFeature({featureNS:this.featureNS,featurePrefix:this.featurePrefix,featureTypes:[this.defaultFeatureType],outputFormat:s,srsName:n,filter:l,maxFeatures:i});return(new XMLSerializer).serializeToString(c)}}]),t}();O.defaultOptions={uri:void 0,authRequired:!1,credentials:void 0,defaultFeatureType:null,defaultGeometryName:"the_geom",featurePrefix:"atlas"},e.a=O},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(33),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=["N","E","S","W"],u=function(){function t(){r(this,t)}return s(t,null,[{key:"turnDegrees",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:90;return Object(a.f)(t+e,0,360)}},{key:"turnRadians",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.a;return Object(a.f)(t+e,0,a.b)}},{key:"fromDegrees",value:function(t){var e=Math.round(Object(a.f)(t,0,360)/90)%4;return l[e]}},{key:"fromRadians",value:function(t){var e=Math.round(Object(a.f)(t,0,a.b)/a.a)%4;return l[e]}},{key:"toDegrees",value:function(t){return 90*l.indexOf(t)}},{key:"toRadians",value:function(t){return l.indexOf(t)*a.a}}]),t}();u.NORTH="N",u.EAST="E",u.SOUTH="S",u.WEST="W",e.a=u},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=10},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return y()(t)}function o(t,e,n){return e in t?g()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=e[t].children,r=[].concat(i(n));return n.forEach(function(t){return r.push.apply(r,i(a(t,e)))}),r}function s(t,e){var n=a(t,e);return M()(e,n)}function l(t,e){var n=s(t,e),i=n[t],a=r(n,[t]),l=e[i.parentId],u=l.children,c=u.indexOf(t);return A({},a,o({},l.id,A({},l,{children:Object(O.a)(u,c,1)})))}e.b=a;var u,c,f=n(77),h=n.n(f),d=n(87),p=n.n(d),m=n(1),g=n.n(m),v=n(30),y=n.n(v),b=n(4),_=n.n(b),w=n(16),x=(n.n(w),n(20)),E=(n.n(x),n(13)),M=n.n(E),S=n(176),T=n(27),C=n(267),O=n(590),A=_.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I={id:null,parentId:null,type:null,children:[],weight:100,direction:null},R=function(){return Object(x.cloneDeep)(I)},P=(u={},o(u,C.b.ROOT,A({},R(),{id:C.b.ROOT,type:C.c.CONTAINER,children:[C.b.VIEWERS],direction:C.a.ROW})),o(u,C.b.VIEWERS,A({},R(),{id:C.b.VIEWERS,parentId:C.b.ROOT,type:C.c.CONTAINER,direction:C.a.ODD,children:[C.b.MAPS,C.b.PANORAMAS,C.b.OBLIQUES]})),o(u,C.b.MAPS,A({},R(),{id:C.b.MAPS,parentId:C.b.VIEWERS,type:C.c.CONTAINER})),o(u,C.b.PANORAMAS,A({},R(),{id:C.b.PANORAMAS,parentId:C.b.VIEWERS,type:C.c.CONTAINER})),o(u,C.b.OBLIQUES,A({},I,{id:C.b.OBLIQUES,parentId:C.b.VIEWERS,type:C.c.CONTAINER})),u),L={containerKeys:{},layout:P,savedNodes:{},maxLengthWindowContainer:3,maxLengthWindows:1,helpWindowNode:null,windowLoadingCount:new p.a,revision:0};e.a=Object(w.handleActions)((c={},o(c,T.ActionTypes.LOAD_USER_PROFILE,function(t,e){var n=A({},t),r=e.payload;return T.UserProfileConfigKeys.MAX_WINDOWS in r&&(n.maxLengthWindows=parseFloat(r[T.UserProfileConfigKeys.MAX_WINDOWS])),n}),o(c,S.ActionTypes.SET_MAX_WINDOWS,function(t,e){var n=e.payload.maxWindows;return h()(n)?A({},t,{maxLengthWindows:n}):t}),o(c,S.ActionTypes.ADD_NODE,function(t,e){var n,a=e.payload,s=a.replace,u=void 0!==s&&s,c=a.childIndex,f=void 0===c?-1:c,h=r(a,["replace","childIndex"]),d=A({},R(),h);"number"!=typeof d.weight&&(d.weight=I.weight);var p=d.id,m=d.parentId,g=A({},t.layout),v=A({},g[m]),y=v.children;if(-1===f)v.children=[].concat(i(y),[p]);else{var b=u&&y[f];v.children=Object(O.a)(y,f,u?1:0,p),b&&(g=l(b,g))}return A({},t,{layout:A({},g,(n={},o(n,m,v),o(n,p,d),n)),revision:t.revision+1})}),o(c,S.ActionTypes.UPDATE_NODE,function(t,e){var n=e.payload,i=n.id,a=r(n,["id"]),s=A({},t.layout),l=A({},Object(x.cloneDeep)(s[i]),a);return A({},t,{layout:A({},s,o({},i,l)),revision:t.revision+1})}),o(c,S.ActionTypes.MOVE_NODE,function(t,e){var n,r=e.payload,a=r.id,s=r.parentId,l=r.childIndex,u=t.layout,c=u[a],f=u[s],h=u[c.parentId],d=h.children.indexOf(a);return A({},t,{layout:A({},u,(n={},o(n,c.id,A({},c,{parentId:s})),o(n,h.id,A({},h,{children:[].concat(i(h.children.slice(0,d)),i(h.children.slice(d+1)))})),o(n,f.id,A({},f,{children:[].concat(i(f.children.slice(0,l)),[c.id],i(f.children.slice(l)))})),n)),revision:t.revision+1})}),o(c,S.ActionTypes.CLEAR_NODE,function(t,e){var n=t.layout,r=e.payload;return A({},t,{layout:A({},s(r,n),o({},r,A({},n[r],{children:[]}))),revision:t.revision+1})}),o(c,S.ActionTypes.REMOVE_NODE,function(t,e){return A({},t,{layout:l(e.payload,t.layout),revision:t.revision+1})}),o(c,S.ActionTypes.UPDATE_LOADING_COUNT,function(t,e){var n=e.payload,r=n.wid,i=n.loadingDelta,o=new p.a(t.windowLoadingCount),a=t.windowLoadingCount.get(r)||0;return a=0===i?0:Math.max(0,a+i),0!==a&&!0!==window.startedLoadingOnce?(o.set(r,!0),window.startedLoadingOnce=!0):0===a&&!0===window.startedLoadingOnce&&(o.set(r,!1),window.startedLoadingOnce=!1),A({},t,{windowLoadingCount:o})}),o(c,S.ActionTypes.SAVE_NODE,function(t,e){var n=e.payload,r=n.key,i=n.id,s=t.layout,l=a(i,s);l.push(i);var u={};return l.forEach(function(t){u[t]=s[t]}),u=Object(x.cloneDeep)(u),A({},t,{savedNodes:A({},t.savedNodes,o({},r,{id:i,layout:u}))})}),o(c,S.ActionTypes.POP_NODE,function(t,e){var n=e.payload,i=n.key,a=n.parentId,s=n.childIndex,l=void 0===s?-1:s,u=t.layout,c=t.savedNodes,f=c[i],h=r(c,[i]),d=u[a],p=f.id,m=f.layout;return A({},t,{layout:A({},u,m,o({},a,A({},d,{children:Object(O.a)(d.children,l,0,p)}))),savedNodes:h})}),o(c,S.ActionTypes.FORCE_UPDATE_VIEWS,function(t){return A({},t,{revision:t.revision+1})}),c),L)},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=v()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(m.a?m()(t,e):t.__proto__=e)}function s(t,e){return d()(f()(t,{raw:{value:d()(e)}}))}n.d(e,"a",function(){return R});var l=n(7),u=n.n(l),c=n(503),f=n.n(c),h=n(517),d=n.n(h),p=n(6),m=n.n(p),g=n(5),v=n.n(g),y=n(1),b=n.n(y),_=n(3),w=n.n(_),x=n(0),E=n.n(x),M=n(1364),S=n.n(M),T=n(1370),C=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),b()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),O=s(["\n    display: flex;\n    font-size: 17px;\n    align-items: center;\n    min-height: 40px;\n    margin-top: 5px;\n"],["\n    display: flex;\n    font-size: 17px;\n    align-items: center;\n    min-height: 40px;\n    margin-top: 5px;\n"]),A=s(["\n    padding: 3px 6px;\n    font-size: 14px;\n"],["\n    padding: 3px 6px;\n    font-size: 14px;\n"]),I=S.a.div(O),R=S.a.div(A),P=function(t){function e(){return i(this,e),o(this,(e.__proto__||u()(e)).apply(this,arguments))}return a(e,t),C(e,[{key:"render",value:function(){var t=this.props,e=(t.children,t.buttons),n=r(t,["children","buttons"]);return E.a.createElement(I,null,E.a.createElement("span",{className:"measurement-point-number"},"+"),E.a.createElement("div",{className:"flexItem measurement-point-name"},E.a.createElement(T.a,n)),e&&E.a.createElement("div",{className:"flexItem measurement-point-actions"},e))}}]),e}(x.Component);P.propTypes={children:w.a.node,buttons:w.a.node,pointIndex:w.a.number},e.b=P},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}n.d(e,"a",function(){return S});var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(0),m=n.n(p),g=n(15),v=(n.n(g),n(28)),y=(n.n(v),n(24)),b=(n.n(y),n(1375)),_=n(31),w=n(1376),x=n(1377),E=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),M=Object(g.defineMessages)({overlayPanelHeader:{id:"OverlaysPanel.overlayPanelHeader",description:"Header text for the overlay panel",defaultMessage:"Overlays"},overlayPanelOverlayTab:{id:"OverlaysPanel.overlayPanelOverlayTab",description:"Tab text for the overlays tab in the overlay panel",defaultMessage:"Overlays"},overlayPanelViewerSettingsTab:{id:"OverlaysPanel.overlayPanelViewerSettingsTab",description:"Tab text for the viewer settings tab in the overlay panel",defaultMessage:"Viewer"}}),S={MAP:"MAP",PANORAMA:"PANORAMA"},T=function(t){function e(){var t,n,o,a;r(this,e);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=o=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(u))),o.state={activeTab:1},o.selectTab=function(t){o.setState({activeTab:t})},a=n,i(o,a)}return o(e,t),E(e,[{key:"render",value:function(){var t=this.context.intl.formatMessage,e=this.props,n=e.type,r=e.overlays,i=e.customOverlays,o=void 0===i?[]:i,a=e.options;return m.a.createElement(y.Panel,{header:t(M.overlayPanelHeader),className:"cmtOverlayPanel cmtNavBarPanel"},m.a.createElement(y.Tab.Container,{id:1,position:"left",defaultActiveKey:1,activeKey:this.state.activeTab,onSelect:this.selectTab},m.a.createElement(y.Row,{className:"clearfix fix-bootstrap-row"},m.a.createElement(y.Col,{xs:3,className:"fix-bootstrap-col"},m.a.createElement(y.Nav,{bsStyle:"pills",stacked:!0},m.a.createElement(y.NavItem,{eventKey:1},t(M.overlayPanelOverlayTab)),n===S.MAP&&m.a.createElement(y.NavItem,{eventKey:3},t(M.overlayPanelViewerSettingsTab)))),m.a.createElement(y.Col,{xs:9,className:"fix-bootstrap-col"},m.a.createElement(y.Tab.Content,null,m.a.createElement(y.Tab.Pane,{eventKey:1},m.a.createElement(w.a,{layers:r,onToggleLayer:a.toggleOverlay}),n===S.PANORAMA&&m.a.createElement("table",{className:"checklist table table-hover"},m.a.createElement("tbody",null,o.map(function(t){return m.a.createElement(b.a,{key:t.key,optionName:t.label,itemChecked:t.value,action:t.action,show:t.show})})))),n===S.MAP&&m.a.createElement(y.Tab.Pane,{eventKey:3},m.a.createElement(x.a,{showZoomSlider:a.showZoomSlider,showScaleBar:a.showScaleBar,setZoomSliderVisibility:a.setZoomSliderVisibility,setScaleBarVisibility:a.setScaleBarVisibility})))))))}}]),e}(_.a);e.b=Object(v.connect)(null,null)(T)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(4),m=n.n(p),g=n(1381),v=n.n(g),y=n(20),b=n.n(y),_=n(3),w=n.n(_),x=n(0),E=n.n(x),M=m.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),T=function(t){function e(){var t,n,o,a;r(this,e);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=o=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(u))),o.onSlide=function(t){var e=o.props.onSlide;e&&e(t),o.slider.setValue(t)},o.onSlideStop=function(t){var e=o.props.onSlideStop;e&&e(t),o.slider.setValue(t)},o.onChange=function(t){var e=o.props.onChange;e&&e(t.newValue),o.slider.setValue(t.newValue)},a=n,i(o,a)}return o(e,t),S(e,[{key:"componentDidMount",value:function(){this.createSlider(this.props)}},{key:"componentWillUpdate",value:function(t){this.slider&&(b.a.isEqual(this.props.ticks,t.ticks)?this.props.value!==t.value&&this.slider.setValue(t.value):(this.destroySlider(),this.createSlider(t)))}},{key:"componentWillUnmount",value:function(){this.destroySlider()}},{key:"createSlider",value:function(t){var e=this.slider=new v.a(this.sliderDiv,M({},t));e.on("slide",this.onSlide),e.on("slideStop",this.onSlideStop),e.on("change",this.onChange)}},{key:"destroySlider",value:function(){this.slider.destroy()}},{key:"getValue",value:function(){return this.slider.getValue()}},{key:"render",value:function(){var t=this;return E.a.createElement("div",{ref:function(e){t.sliderDiv=e}})}}]),e}(x.Component);T.propTypes={id:w.a.string,min:w.a.number,max:w.a.number,step:w.a.number,value:w.a.number.isRequired,toolTip:w.a.bool,onSlide:w.a.func,onSlideStop:w.a.func,onChange:w.a.func,ticks:w.a.array,ticks_labels:w.a.array},T.defaultProps={min:0,max:100,step:100,value:0,toolTip:!1,onSlide:void 0,onSlideStop:void 0,onChange:void 0,ticks:[],ticks_labels:[]},e.a=T},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=d()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(f.a?f()(t,e):t.__proto__=e)}var a=n(40),s=n.n(a),l=n(7),u=n.n(l),c=n(6),f=n.n(c),h=n(5),d=n.n(h),p=n(1),m=n.n(p),g=n(0),v=n.n(g),y=n(24),b=(n.n(y),n(15)),_=(n.n(b),n(28)),w=(n.n(_),n(31)),x=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),m()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=Object(b.defineMessages)({header:{id:"AttributeInfoPanel.header",defaultMessage:"Object information"},info:{id:"AttributeInfoPanel.info",defaultMessage:"Click on an object for information"},propertyColumn:{id:"AttributeInfoPanel.propertyColumn",defaultMessage:"Property"},valueColumn:{id:"AttributeInfoPanel.valueColumn",defaultMessage:"Value"}}),M=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=i(this,(t=e.__proto__||u()(e)).call.apply(t,[this].concat(o)));return s.selectTab=s.selectTab.bind(s),s.state={activeTab:1},s}return o(e,t),x(e,[{key:"selectTab",value:function(t){this.setState({activeTab:t})}},{key:"render",value:function(){var t=this,e=this.context.intl.formatMessage,n=void 0,r=void 0;return this.props.selectedFeature&&(n=this.props.selectedFeature.attributes,r=this.props.selectedFeature.layerName),v.a.createElement(y.Panel,{className:"cmtAttributeInformationPanel cmtNavBarPanel",header:e(E.header)},v.a.createElement(y.Tab.Container,{id:1,position:"left",defaultActiveKey:1,activeKey:this.state.activeTab,onSelect:function(e){t.setState({activeTab:e})}},v.a.createElement(y.Row,{className:"clearfix fix-bootstrap-row"},v.a.createElement(y.Col,{xs:3,className:"fix-bootstrap-col"},v.a.createElement(y.Nav,{bsStyle:"pills",stacked:!0},v.a.createElement(y.NavItem,{eventKey:1},r))),v.a.createElement(y.Col,{xs:9,className:"fix-bootstrap-col"},v.a.createElement(y.Tab.Content,{className:"panel-max5"},v.a.createElement(y.Tab.Pane,{eventKey:1},this.renderProperties(n)))))))}},{key:"renderProperties",value:function(t){var e=this.context.intl.formatMessage;return t?v.a.createElement(y.Table,{striped:!0,bordered:!0,condensed:!0},v.a.createElement("thead",null,v.a.createElement("tr",null,v.a.createElement("th",null,e(E.propertyColumn)),v.a.createElement("th",null,e(E.valueColumn)))),v.a.createElement("tbody",null,s()(t).map(function(e){return v.a.createElement("tr",null,v.a.createElement("td",null,e),v.a.createElement("td",null,t[e]))}))):v.a.createElement(y.Table,{condensed:!0},v.a.createElement("thead",null,v.a.createElement("tr",null,v.a.createElement("th",null,e(E.info)))))}}]),e}(w.a),S=function(t,e){var n=t.mapviewers,r=t.panoramaviewer,i=e.mapId,o=e.panoramaId,a=void 0;return void 0!==i&&(a=n.byId[i]),void 0!==o&&(a=r.byId[o]),a};e.a=Object(_.connect)(S)(M)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(3),m=n.n(p),g=n(0),v=n.n(g),y=n(24),b=(n.n(y),n(31)),_=n(89),w=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),x=function(t){var e=t.clientX,n=t.clientY,r=t.target,i=r.getBoundingClientRect(),o=i.left,a=i.top,s=i.width,l=i.height,u=e-(o+s/2),c=n-(a+l/2);return Math.atan2(u,-c)},E=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var l=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return l.handleMouseDown=l.handleMouseDown.bind(l),l.handleMouseUp=l.handleMouseUp.bind(l),l.handleMouseMove=l.handleMouseMove.bind(l),l}return o(e,t),w(e,[{key:"render",value:function(){var t=this.props,e=t.rotation,n=t.resetRotation;return v.a.createElement("div",{className:"compass-overlay"},v.a.createElement(y.Image,{src:Object(_.a)("./assets/img/compass.svg"),circle:!0,style:{transform:"rotate("+e+"rad)"},onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseMove:this.handleMouseMove,onDoubleClick:n,draggable:!1}))}},{key:"handleMouseDown",value:function(t){1&t.buttons&&(this.mouseDownInfo={rotation:this.props.rotation,angle:x(t)})}},{key:"handleMouseUp",value:function(t){1&t.buttons&&(this.mouseDownInfo=void 0)}},{key:"handleMouseMove",value:function(t){var e=this.props.setRotation;if(e&&1&t.buttons){var n=this.mouseDownInfo,r=n.rotation,i=n.angle;e(r+(x(t)-i))}}}]),e}(b.a);E.propTypes={rotation:m.a.number,setRotation:m.a.func,resetRotation:m.a.func},E.defaultProps={rotation:0},e.a=E},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(7),l=n.n(s),u=n(6),c=n.n(u),f=n(5),h=n.n(f),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(18),y=n.n(v),b=n(15),_=(n.n(b),n(152)),w=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=(Object(b.defineMessages)({layerName:{id:"layer.WMTSLayer.name",description:"Default name for WMTS layers",defaultMessage:"WMTS layer"}}),function(t){function e(t){var n=r(t,[]);return i(this,e),o(this,(e.__proto__||l()(e)).call(this,w({},e.defaults,n,{tiled:!0})))}return a(e,t),x(e,[{key:"createMapSource",value:function(){for(var t=this.layers[0],e=this.tileGrid,n=t.tileMatrixSet,r=[],i=0,o=e.resolutions.length;i<o;++i)r.push(n+":"+i);var a=new y.a.tilegrid.WMTS(w({},e,{matrixIds:r}));return new y.a.source.WMTS(w({},this._getMapSourceOptions(),{format:t.imageFormat,layer:t.name,matrixSet:n,style:t.style,tileGrid:a,version:this.version}))}}]),e}(_.a));E.defaults={type:"WMTSLayer",nameIntl:"layer.WMTSLayer.name",version:"1.0.0",params:{FORMAT:"image/png",STYLE:"default"}},e.a=E},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(7),l=n.n(s),u=n(6),c=n.n(u),f=n(5),h=n.n(f),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(18),y=n.n(v),b=n(15),_=(n.n(b),n(152)),w=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=(Object(b.defineMessages)({layerName:{id:"layer.TMSLayer.name",description:"Default TMS layers name",defaultMessage:"TMS layer"}}),function(t){function e(t){var n=r(t,[]);return i(this,e),o(this,(e.__proto__||l()(e)).call(this,w({},e.defaults,n)))}return a(e,t),x(e,[{key:"createMapSource",value:function(){return new y.a.source.XYZ(w({},this._getMapSourceOptions()))}}]),e}(_.a));E.defaults={type:"TMSLayer",nameIntl:"layer.TMSLayer.name",projection:"EPSG:3857"},e.a=E},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(7),l=n.n(s),u=n(6),c=n.n(u),f=n(5),h=n.n(f),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(18),y=n.n(v),b=n(15),_=(n.n(b),n(152)),w=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=(Object(b.defineMessages)({layerName:{id:"layer.OSMLayer.name",description:"Default OSM layer name",defaultMessage:"OSM layer"}}),function(t){function e(t){var n=r(t,[]);return i(this,e),o(this,(e.__proto__||l()(e)).call(this,w({},e.defaults,n)))}return a(e,t),x(e,[{key:"createMapSource",value:function(){return new y.a.source.OSM(w({},this._getMapSourceOptions(),{url:void 0}))}}]),e}(_.a));E.defaults={type:"OSMLayer",nameIntl:"layer.OSMLayer.name",tiled:!0,projection:"EPSG:3857",url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"},e.a=E},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(7),l=n.n(s),u=n(6),c=n.n(u),f=n(5),h=n.n(f),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(20),y=n.n(v),b=n(18),_=n.n(b),w=n(15),x=(n.n(w),n(152)),E=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),S=(Object(w.defineMessages)({layerName:{id:"layer.BingLayer.name",description:"Default Bing layers name",defaultMessage:"Bing layer"}}),function(t){function e(t){var n=(t.url,r(t,["url"]));return i(this,e),o(this,(e.__proto__||l()(e)).call(this,y.a.defaults({},n,e.defaults)))}return a(e,t),M(e,[{key:"createMapSource",value:function(){var t=this.bingKey,e=this.imagerySet;return new _.a.source.BingMaps(E({},this._getMapSourceOptions(),{key:t,imagerySet:e}))}}]),e}(x.a));S.defaults={type:"BingLayer",nameIntl:"layer.BingLayer.name",imagerySet:"Road",projection:"EPSG:3857"},e.a=S},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(7),l=n.n(s),u=n(6),c=n.n(u),f=n(5),h=n.n(f),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(20),y=n.n(v),b=n(18),_=n.n(b),w=n(15),x=(n.n(w),n(152)),E=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),S=(Object(w.defineMessages)({layerName:{id:"layer.ArcGISLayer.name",description:"Default ArcGIS layers name",defaultMessage:"ArcGIS layer"}}),function(t){function e(t){var n=r(t,[]);return i(this,e),o(this,(e.__proto__||l()(e)).call(this,y.a.defaults({},n,e.defaults)))}return a(e,t),M(e,[{key:"createMapSource",value:function(){var t={};this.layers&&(t.LAYERS=this.layers);var e=this.url;return-1!==e.indexOf("MapServer")?e=e.split("MapServer")[0]+"MapServer":-1!==e.indexOf("ImageServer")&&(e=e.split("ImageServer")[0]+"ImageServer"),new _.a.source.TileArcGISRest(E({},this._getMapSourceOptions(),{params:t,url:e}))}}]),e}(x.a));S.defaults={type:"ArcGISLayer",nameIntl:"layer.ArcGISLayer.name",projection:"EPSG:3857"},e.a=S},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=c()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var s=n(6),l=n.n(s),u=n(5),c=n.n(u),f=n(7),h=n.n(f),d=n(51),p=n.n(d),m=n(1),g=n.n(m),v=n(18),y=n.n(v),b=n(20),_=n.n(b),w=n(580),x=n(151),E=n(41),M=n(384),S=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),g()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),T=function t(e,n,r){null===e&&(e=Function.prototype);var i=p()(e,n);if(void 0===i){var o=h()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},C=function(t){function e(t){var n=r(t,[]);return i(this,e),o(this,(e.__proto__||h()(e)).call(this,_.a.defaults({},n,e.defaults)))}return a(e,t),S(e,[{key:"toMapLayer",value:function(){var t=T(e.prototype.__proto__||h()(e.prototype),"toMapLayer",this).call(this),n=this.sld;if(n&&n.xmlText){var r=new w.a;r.read(n.xmlText.trim()),r.setStyle(this.typeName),this.mapLayer.setStyle(function(t,e){return r.styleFunction(t,e)}),r.style.tooltip&&t.set("tooltipProperties",r.style.tooltip[0]),r.style.attributeInfo&&t.set("attributeInfo",r.style.attributeInfo[0])}return t}},{key:"createMapSource",value:function(){var t=M.a.get(this.id),e=Object(E.e)(t.crs,this.projection),n=(new y.a.format.GeoJSON).readFeatures(t,{dataProjection:e,featureProjection:this.mapProjection});return new y.a.source.Vector({features:n})}}]),e}(x.a);C.defaults={type:"SHPLayer",nameIntl:"layer.SHPLayer.name",visible:!0},e.a=C},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return m});var i=n(87),o=n.n(i),a=n(1),s=n.n(a),l=n(50),u=n.n(l),c=n(54),f=n.n(c),h=n(121),d="function"==typeof f.a&&"symbol"==typeof u.a?function(t){return typeof t}:function(t){return t&&"function"==typeof f.a&&t.constructor===f.a&&t!==f.a.prototype?"symbol":typeof t},p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),s()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),m={USER_ONLY:1,API_ONLY:2,ALL:3},g=function t(){r(this,t)},v=function t(){r(this,t)},y=function(){function t(){r(this,t)}return p(t,[{key:"parse",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.filter,r=void 0===n?m.USER_ONLY:n;t=t.UserInfo;var i=t.Customer,a=Object(h.e)(i,"Name",""),s=Object(h.e)(i,"Logo/@d3p1:href",""),l=Object(h.e)(i,"CrmAccountId"),u=Object(h.e)(t,"Account/Description",""),c=t.User,f=Object(h.e)(c,"UserName"),p=Object(h.e)(c,"Name","");"object"==(void 0===p?"undefined":d(p))&&(p="");var y=Object(h.a)(Object(h.e)(t,"Packages/Package")),b=new o.a;y.forEach(function(t){var e=Object(h.b)(t.ApiPackage,!1);if(r===m.USER_ONLY&&!e||r===m.API_ONLY&&e){var n=new g;n.configId=t.ConfigId,n.name=t.Name,n.description=t.Description,n.apiPackage=e,b.set(n.configId,n)}});var _=new v;return _.username=f,_.userFullName=p,_.accountDescription=u,_.customerName=a,_.logo=s,_.crmAccountID=l,_.configurations=b,_}}]),t}();e.b=y},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=function(t){function e(t,n,o){r(this,e);var a=i(this,(e.__proto__||s()(e)).call(this,n||"AuthError::"+t));return a.name="AuthError",a.type=t,a.detail=o,a}return o(e,t),e}(Error);h.SERVER_UNREACHABLE="SERVER_UNREACHABLE",h.UNAUTHORIZED="UNAUTHORIZED",h.NOT_FOUND="SERVER_RESPONSE::NOT_FOUND",h.CREDENTIALS_EMPTY="CREDENTIALS_EMPTY",h.NOT_AGREED="NOT_AGREED",h.AUTO_LOGIN_FAILED="AUTO_LOGIN_FAILED",h.UNKNOWN_ERROR="UNKNOWN_ERROR",e.a=h},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new s.a(function(t,n){function r(i,o){try{var a=e[i](o),l=a.value}catch(t){return void n(t)}if(!a.done)return s.a.resolve(l).then(function(t){r("next",t)},function(t){r("throw",t)});t(l)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"LOAD_CUSTOMER_LOGO",function(){return c}),n.d(e,"loadCustomerLogo",function(){return h}),n.d(e,"ActionTypes",function(){return d});var i=n(21),o=n.n(i),a=n(19),s=n.n(a),l=n(16),u=(n.n(l),n(63)),c="@@customerlogo/LOAD_CUSTOMER_LOGO",f=function(t,e){var n=new Request(t,{method:"GET",headers:new Headers(e),mode:"cors"});return fetch(n)},h=Object(l.createAction)(c,function(){var t=r(o.a.mark(function t(){var e,n,r,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=a.url,l=a.headers;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l||(l=Object(u.b)()),e=s+"customerlogo?width=600&height=200&resizeCanvas=true",t.next=4,f(e,l);case 4:if(n=t.sent,n.ok){t.next=8;break}return r="Loading the customer logo failed with status code "+n.status+". Message: "+n.statusText,t.abrupt("return",new Error(r));case 8:return t.next=10,n.blob();case 10:return i=t.sent,t.abrupt("return",URL.createObjectURL(i));case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()),d={LOAD_CUSTOMER_LOGO:c};e.default={loadCustomerLogo:h}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"CLEAR_FORM",function(){return i}),n.d(e,"UPDATE_FORM",function(){return o}),n.d(e,"getSLDTemplate",function(){return a}),n.d(e,"clearForm",function(){return s}),n.d(e,"updateForm",function(){return l}),n.d(e,"ActionTypes",function(){return u});var r=n(16),i=(n.n(r),"@@layerwizardActions/CLEAR_FORM"),o="@@layerwizardActions/UPDATE_FORM",a=function(t){return'<?xml version="1.0" encoding="UTF-8"?>\n        <sld:StyledLayerDescriptor version="1.1.0"\n                               xsi:schemaLocation="http://www.opengis.net/sld StyledLayerDescriptor.xsd"\n                               xmlns="http://www.opengis.net/se"\n                               xmlns:sld="http://www.opengis.net/sld"\n                               xmlns:gml="http://www.opengis.net/gml"\n                               xmlns:ogc="http://www.opengis.net/ogc"\n                               xmlns:xlink="http://www.w3.org/1999/xlink"\n                               xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n        <sld:UserLayer>\n            <sld:UserStyle>\n                <FeatureTypeStyle>\n                    <Rule>\n                        <PolygonSymbolizer>\n                            <Fill>\n                                <SvgParameter name="fill">'+t.fillColor+'</SvgParameter>\n                                <SvgParameter name="fill-opacity">'+t.fillOpacity+'</SvgParameter>\n                            </Fill>\n                            <Stroke>\n                                <SvgParameter name="stroke">'+t.strokeColor+'</SvgParameter>\n                                <SvgParameter name="stroke-opacity">'+t.strokeOpacity+'</SvgParameter>\n                                <SvgParameter name="stroke-width">'+t.strokeWidth+"</SvgParameter>\n                            </Stroke>\n                        </PolygonSymbolizer>\n                    </Rule>\n                    <Rule>\n                        <PointSymbolizer>\n                            <Graphic>\n                                <Size>"+t.size+"</Size>\n                            </Graphic>\n                        </PointSymbolizer>\n                    </Rule>\n                </FeatureTypeStyle>\n            </sld:UserStyle>\n        </sld:UserLayer>\n    </sld:StyledLayerDescriptor>"},s=function(){return function(t){t(Object(r.createAction)(i)())}},l=function(t){return function(e){e(Object(r.createAction)(o,function(){return{form:t}})())}},u={CLEAR_FORM:i,UPDATE_FORM:o};e.default={clearForm:s,updateForm:l,getSLDTemplate:a}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.routerMiddleware=e.routerActions=e.goForward=e.goBack=e.go=e.replace=e.push=e.CALL_HISTORY_METHOD=e.routerReducer=e.LOCATION_CHANGE=e.syncHistoryWithStore=void 0;var i=n(613);Object.defineProperty(e,"LOCATION_CHANGE",{enumerable:!0,get:function(){return i.LOCATION_CHANGE}}),Object.defineProperty(e,"routerReducer",{enumerable:!0,get:function(){return i.routerReducer}});var o=n(614);Object.defineProperty(e,"CALL_HISTORY_METHOD",{enumerable:!0,get:function(){return o.CALL_HISTORY_METHOD}}),Object.defineProperty(e,"push",{enumerable:!0,get:function(){return o.push}}),Object.defineProperty(e,"replace",{enumerable:!0,get:function(){return o.replace}}),Object.defineProperty(e,"go",{enumerable:!0,get:function(){return o.go}}),Object.defineProperty(e,"goBack",{enumerable:!0,get:function(){return o.goBack}}),Object.defineProperty(e,"goForward",{enumerable:!0,get:function(){return o.goForward}}),Object.defineProperty(e,"routerActions",{enumerable:!0,get:function(){return o.routerActions}});var a=n(1402),s=r(a),l=n(1403),u=r(l);e.syncHistoryWithStore=s.default,e.routerMiddleware=u.default},function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.type,r=e.payload;return n===o?i({},t,{locationBeforeTransitions:r}):t}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.routerReducer=r;var o=e.LOCATION_CHANGE="@@router/LOCATION_CHANGE",a={locationBeforeTransitions:null}},function(t,e,n){"use strict";function r(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return{type:i,payload:{method:t,args:n}}}}Object.defineProperty(e,"__esModule",{value:!0});var i=e.CALL_HISTORY_METHOD="@@router/CALL_HISTORY_METHOD",o=e.push=r("push"),a=e.replace=r("replace"),s=e.go=r("go"),l=e.goBack=r("goBack"),u=e.goForward=r("goForward");e.routerActions={push:o,replace:a,go:s,goBack:l,goForward:u}},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new s.a(function(t,n){function r(i,o){try{var a=e[i](o),l=a.value}catch(t){return void n(t)}if(!a.done)return s.a.resolve(l).then(function(t){r("next",t)},function(t){r("throw",t)});t(l)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"StageState",function(){return A}),n.d(e,"APP_INIT_START",function(){return I}),n.d(e,"APP_INIT_COMPLETE",function(){return R}),n.d(e,"SET_STAGE_STATE",function(){return P}),n.d(e,"initConfig",function(){return N}),n.d(e,"appInitComplete",function(){return F}),n.d(e,"setStageState",function(){return j}),n.d(e,"initApp",function(){return U}),n.d(e,"ActionTypes",function(){return z});var i=n(21),o=n.n(i),a=n(19),s=n.n(a),l=n(16),u=(n.n(l),n(15)),c=(n.n(u),n(148)),f=n(112),h=n(80),d=n(180),p=n(389),m=n(126),g=n(277),v=n(27),y=n(48),b=n(386),_=n(608),w=n(276),x=n(63),E=n(218),M=n(377),S=n(71),T=n(147),C=this,O=Object(u.defineMessages)({noAccessToConfig:{id:"stage.noAccessToConfig",defaultMessage:"The user does not have access to previously selected configuration."}}),A={ERROR:-1,START_UP:0,READY:1},I="@@stage/APP_INIT_START",R="@@stage/APP_INIT_COMPLETE",P="@@stage/SET_STAGE_STATE",L=function(){return function(t,e){var n=e().config,r=n.isApi;if(n.config&&n.config.services){var i=n.config.services,o=i.recording,a=i.panoramaTile,s=i.smartClick,l=i.usageLogging,u=i.obliqueTile,c=i.obliqueLocation,f=n.config.map;if(o){var d=o.onlineResource,p=n.apiKey;if(E.a.initRecordingClient(d,p),a||u){var g=a&&a.onlineResources,v=u&&u.onlineResource;t(m.default.setup({panoramaTilesUrls:g,obliqueTileUrl:v}))}}if(s&&t(y.default.initSmartClickClient()),f){var b=f.obliqueLayers;c&&b&&0!==b.length&&Object(M.b)(c.onlineResource)}t(h.default.setServiceUrl(!r&&l?l.onlineResource:null))}}},N=function(){return function(){var t=r(o.a.mark(function t(e,n){var r,i,a,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e(L()),r=n().config,i=r.isApi,a=r.configId,i){t.next=16;break}return t.next=5,e(v.default.loadUserProfile(a));case 5:return s=t.sent,t.next=8,e(y.default.readMeasurements(a));case 8:return t.next=10,e(b.default.readMeasurementAttributesUserProfile());case 10:return t.next=12,e(g.c.readTourStatusUserProfile(a));case 12:if(!s.error){t.next=14;break}throw s.payload;case 14:return t.next=16,e(Object(w.setInitialMessages)());case 16:case"end":return t.stop()}},t,C)}));return function(e,n){return t.apply(this,arguments)}}()},k=function(t){return function(){var e=r(o.a.mark(function e(n,r){var i,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r().config.isApi){e.next=8;break}return a=5e3,n(f.default.showFlashMessage(t,{style:"danger",delay:a,dismiss:!1})),e.next=6,new s.a(function(t){return setTimeout(t,a)});case 6:n(d.default.logout()),n(p.default.push("login"));case 8:case"end":return e.stop()}},e,C)}));return function(t,n){return e.apply(this,arguments)}}()},D=Object(l.createAction)(I,function(t){return{isApi:t}}),F=Object(l.createAction)(R),j=Object(l.createAction)(P,function(t,e){return{stage:t,detail:e}}),U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.headers;return function(){var t=r(o.a.mark(function t(n,r){var i,a,s,l,u,d,p,m,g,v,y,b;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e||Object(x.b)(),a=r(),s=a.config.isApi,a.login.loggedIn){t.next=5;break}throw new Error("initApp action called when app is not logged in");case 5:return n(D(s)),n(h.default.initClient({appName:"Street Smart Web",appVersion:T.a.version,headers:i})),l=s?_.a.API_ONLY:_.a.USER_ONLY,t.next=10,n(Object(c.getUserInfo)({headers:i,filter:l}));case 10:if(u=t.sent,!u.error){t.next=15;break}throw d="Error! Failed to load app using the provided credentials! Logging out...",n(k(d)),new Error(d);case 15:if(p=void 0,!a.config.configFile){t.next=20;break}p="local",t.next=26;break;case 20:if(m=u.payload.configurations,m&&1===m.size||s&&m&&m.size>0?p=m.entries().next().value[1].configId:(g=r(),v=g.config,v&&(p=v.configId)),!p||!m||m.has(p)){t.next=26;break}return n(Object(c.destroyUserConfig)()),n(f.default.showFlashMessage(Object(S.b)(O.noAccessToConfig))),t.abrupt("return");case 26:if(!p){t.next=36;break}return t.next=29,n(Object(c.loadUserConfig)({name:p,headers:i}));case 29:if(y=t.sent,!y.error){t.next=34;break}throw b="Error! Failed to load configuration! Logging out...",n(k(b)),new Error(b);case 34:return t.next=36,n(N());case 36:case"end":return t.stop()}},t,C)}));return function(e,n){return t.apply(this,arguments)}}()};e.default={initApp:U,initConfig:N,appInitComplete:F,setStageState:j};var z={APP_INIT_START:I,APP_INIT_COMPLETE:R,SET_STAGE_STATE:P}},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new s.a(function(t,n){function r(i,o){try{var a=e[i](o),l=a.value}catch(t){return void n(t)}if(!a.done)return s.a.resolve(l).then(function(t){r("next",t)},function(t){r("throw",t)});t(l)}return r("next")})}}n.d(e,"a",function(){return c});var i=n(21),o=n.n(i),a=n(19),s=n.n(a),l=n(63),u=this,c=function(){var t=r(o.a.mark(function t(e,n){var r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new Request(e,{method:"GET",headers:n||new Headers(Object(l.b)()),mode:"cors"}),t.prev=1,t.next=4,fetch(r);case 4:if(i=t.sent,i.ok){t.next=7;break}throw new Error("Response Not OK");case 7:return t.t0=URL,t.next=10,i.blob();case 10:return t.t1=t.sent,t.abrupt("return",t.t0.createObjectURL.call(t.t0,t.t1));case 14:throw t.prev=14,t.t2=t.catch(1),new Error("Failed to load url: "+e+". Error: "+t.t2+" "+t.t2.message);case 17:case"end":return t.stop()}},t,u,[[1,14]])}));return function(e,n){return t.apply(this,arguments)}}()},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=c()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}n.d(e,"a",function(){return T});var s=n(6),l=n.n(s),u=n(5),c=n.n(u),f=n(7),h=n.n(f),d=n(51),p=n.n(d),m=n(1),g=n.n(m),v=n(4),y=n.n(v),b=n(18),_=n.n(b),w=n(15),x=(n.n(w),n(152)),E=y.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),g()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),S=function t(e,n,r){null===e&&(e=Function.prototype);var i=p()(e,n);if(void 0===i){var o=h()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},T=(Object(w.defineMessages)({layerName:{id:"layer.ObliqueTileLayer.name",description:"Default Oblique layers name",defaultMessage:"Oblique layer"}}),512),C=function(t){function e(t){var n=r(t,[]);i(this,e);var a=o(this,(e.__proto__||h()(e)).call(this,E({},e.defaults,n))),s=a.imageSize,l=a.extent=a.tileGridExtent=[0,0,s[0],s[1]];return a.olProjection=new _.a.proj.Projection({code:"OBLIQUE",units:"pixels",extent:l}),a.projection=a.olProjection.code,a.maxMapResolution=Math.pow(2,a.maxZoomLevel-a.minZoomLevel),a.origin=_.a.extent.getTopLeft(l),a}return a(e,t),M(e,[{key:"getResolutions",value:function(){for(var t=this.minZoomLevel,e=this.maxZoomLevel,n=new Array(e),r=t;r<=e;++r)n[r]=this.maxMapResolution*Math.pow(2,t-r);return n}},{key:"createMapSource",value:function(){var t=this,e=new _.a.tilegrid.TileGrid(this.tileGrid),n=this.url+"/Tiles/{imageId}/{z}/{x}/{y}";return new _.a.source.TileImage(E({},this._getMapSourceOptions(),{tileUrlFunction:function(e,r,i){return n.replace("{imageId}",t.imageId).replace("{z}",""+e[0]).replace("{x}",""+e[1]).replace("{y}",""+(-e[2]-1))},wrapX:!1,projection:this.olProjection,tileGrid:e}))}},{key:"tileGrid",get:function(){return E({},S(e.prototype.__proto__||h()(e.prototype),"tileGrid",this),{tileSize:T,resolutions:this.getResolutions()})}}]),e}(x.a);C.defaults={id:"oblique",type:"ObliqueTileLayer",nameIntl:"layer.ObliqueTileLayer.name",tiled:!0,isBaseLayer:!0,minResolution:0,maxResolution:1e6,authRequired:!0,visible:!0,imageSize:[4004,2662],minZoomLevel:1,maxZoomLevel:5},e.b=C},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=m()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(d.a?d()(t,e):t.__proto__=e)}var a=n(87),s=n.n(a),l=n(55),u=n.n(l),c=n(7),f=n.n(c),h=n(6),d=n.n(h),p=n(5),m=n.n(p),g=n(1),v=n.n(g),y=n(23),b=n.n(y),_=n(17),w=n.n(_),x=n(12),E=n.n(x),M=n(3),S=n.n(M),T=n(0),C=n.n(T),O=n(1432),A=n.n(O),I=n(619),R=n(1433),P=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=w()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(b()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),L=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),v()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),N={closable:R.a.Close,minimizable:R.a.Minimize|R.a.Restore,maximizable:R.a.Maximize|R.a.Restore,resizable:R.a.Minimize|R.a.Maximize|R.a.Restore},k=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||f()(e)).call(this,t));return n.onClose=n.onClose.bind(n),n.toggleFullscreen=n.toggleFullscreen.bind(n),n}return o(e,t),L(e,[{key:"onClose",value:function(){var t=this.props,e=t.onClose,n=t.wid;e&&e(n)}},{key:"toggleFullscreen",value:function(){var t=this;if(A.a.toggle(this.domNode),A.a.isFullscreen){var e=A.a.raw.fullscreenchange,n=function n(){A.a.isFullscreen||(document.removeEventListener(e,n),t.forceUpdate())};document.addEventListener(e,n)}this.forceUpdate()}},{key:"render",value:function(){var t=this,e=this.props,n=e.isLoading,r=e.style,i=void 0===r?{}:r,o=A.a.isFullscreen&&A.a.element===this.domNode,a=0,s=!0,l=!1,c=void 0;try{for(var f,h=w()(u()(e));!(s=(f=h.next()).done);s=!0){var d=P(f.value,2),p=d[0],m=d[1];p in N&&m&&(a|=N[p])}}catch(t){l=!0,c=t}finally{try{!s&&h.return&&h.return()}finally{if(l)throw c}}return C.a.createElement("div",{ref:function(e){t.domNode=e},className:E()("window",this.props.className),style:i},e.children,n&&C.a.createElement(I.a,null),C.a.createElement(R.b,{controls:a,onClose:this.onClose,maximized:o,onMaximize:this.toggleFullscreen,onRestore:this.toggleFullscreen,tooltipContainer:this.domNode}))}}]),e}(C.a.PureComponent);k.propTypes={wid:S.a.string,windowLoadingCount:S.a.instanceOf(s.a),style:S.a.object,onClose:S.a.func,id:S.a.string,isLoading:S.a.bool},k.defaultProps={closable:!0,wid:-1},e.a=k},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(24),a=(n.n(o),n(89));e.a=function(){return i.a.createElement("div",{className:"window-loading-icon"},i.a.createElement(o.Image,{src:Object(a.a)("./streetsmart-mapboard/loading-mini.gif")}))}},function(t,e,n){"use strict";var r=n(15);n.n(r);e.a=Object(r.defineMessages)({yes:{id:"button.yes",defaultMessage:"Yes"},no:{id:"button.no",defaultMessage:"No"},ok:{id:"button.ok",defaultMessage:"OK"},cancel:{id:"button.cancel",defaultMessage:"Cancel"},apply:{id:"button.apply",defaultMessage:"Apply"},reset:{id:"button.reset",defaultMessage:"Reset"},accept:{id:"button.accept",defaultMessage:"Accept"},reject:{id:"button.reject",defaultMessage:"Reject"},open:{id:"button.open",defaultMessage:"Open"},close:{id:"button.close",defaultMessage:"Close"},show:{id:"button.show",defaultMessage:"Show"},hide:{id:"button.hide",defaultMessage:"Hide"},minimize:{id:"button.minimize",defaultMessage:"Minimize"},maximize:{id:"button.maximize",defaultMessage:"Maximize"},restore:{id:"button.restore",defaultMessage:"Restore"},line:{id:"button.line",defaultMessage:"Distance"},load:{id:"button.load",defaultMessage:"Load"},save:{id:"button.save",defaultMessage:"Save"},share:{id:"button.share",defaultMessage:"Share"},point:{id:"button.point",defaultMessage:"Location"},polygon:{id:"button.polygon",defaultMessage:"Surface"},print:{id:"button.print",defaultMessage:"Print"},select:{id:"button.select",defaultMessage:"Select"}})},function(t,e,n){"use strict";function r(t,e,n){return e in t?O()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return T()(t)}function a(t){return function(){var e=t.apply(this,arguments);return new M.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return M.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=x()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(_.a?_()(t,e):t.__proto__=e)}var c,f=n(21),h=n.n(f),d=n(40),p=n.n(d),m=n(7),g=n.n(m),v=n(77),y=n.n(v),b=n(6),_=n.n(b),w=n(5),x=n.n(w),E=n(19),M=n.n(E),S=n(30),T=n.n(S),C=n(1),O=n.n(C),A=n(4),I=n.n(A),R=n(50),P=n.n(R),L=n(54),N=n.n(L),k=n(23),D=n.n(k),F=n(17),j=n.n(F),U=n(493),z=n.n(U),B=n(12),V=n.n(B),G=n(20),H=(n.n(G),n(34)),q=n.n(H),W=n(18),Y=n.n(W),X=n(3),Z=n.n(X),K=n(0),Q=n.n(K),J=n(15),$=(n.n(J),n(24)),tt=(n.n($),n(28)),et=(n.n(tt),n(36)),nt=(n.n(et),n(49)),rt=(n.n(nt),n(147)),it=n(31),ot=n(63),at=n(1434),st=n(1435),lt=n(598),ut=n(383),ct=n(600),ft=n(622),ht=n(381),dt=n(1437),pt=n(623),mt=n(1439),gt=n(380),vt=n(218),yt=n(592),bt=n(179),_t=n(53),wt=n(81),xt=n(48),Et=n(126),Mt=n(80),St=n(269),Tt=n(379),Ct=n(113),Ot=n(153),At=n(111),It=n(41),Rt=n(392),Pt=n(585),Lt=n(376),Nt=n(176),kt=n(88),Dt=n(33),Ft=n(92),jt=n(619),Ut=n(336),zt=n(344),Bt=n(201),Vt=n(393),Gt=n(1440),Ht=n(1442),qt=n(1447),Wt=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=j()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(D()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Yt="function"==typeof N.a&&"symbol"==typeof P.a?function(t){return typeof t}:function(t){return t&&"function"==typeof N.a&&t.constructor===N.a&&t!==N.a.prototype?"symbol":typeof t},Xt=I.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zt=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),O()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Kt=y.a,Qt={NO_ADDRESS_CLIENT:"NoAddressClient",NO_ADDRESS_FOUND:"NoAddressFound",NO_SRS_PROVIDED:"NoSrsProvided",ADDRESS_CLIENT_ERROR:"AddressClientError",ADDRESS_NOT_A_POINT:"AddressNotAPoint",NO_RECORDING_LOADED:"NoRecordingLoaded"},Jt=Object(J.defineMessages)({warningStillLoading:{id:"PanoramaViewer.warningStillLoading",description:"Flash message shown if trying to make measurement while viewer still loading tiles",defaultMessage:"Depth information not loaded yet"}}),$t=function(t){function e(){var t;s(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=l(this,(t=e.__proto__||g()(e)).call.apply(t,[this].concat(r)));o.colorManager=o.props.colorManager,o.colorStyle=o.colorManager.getColorStyle(),o.zoomIn=o.zoomIn.bind(o),o.zoomOut=o.zoomOut.bind(o),o.onPanoramaRecordingClick=o.onPanoramaRecordingClick.bind(o),o.onPanoramaChange=o.onPanoramaChange.bind(o),o.toggleTimeTravelVisible=o.toggleTimeTravelVisible.bind(o),o.getTimeTravelVisible=o.getTimeTravelVisible.bind(o),o.toggleTimeTravelExpanded=o.toggleTimeTravelExpanded.bind(o),o.getTimeTravelExpanded=o.getTimeTravelExpanded.bind(o),o.toggleNavbarExpanded=o.toggleNavbarExpanded.bind(o),o.getNavbarExpanded=o.getNavbarExpanded.bind(o),o.toggleNavbarVisible=o.toggleNavbarVisible.bind(o),o.getNavbarVisible=o.getNavbarVisible.bind(o),o.getRecordingsVisible=o.getRecordingsVisible.bind(o),o.onViewChange=o.onViewChange.bind(o),o._onViewLoadStart=o._onViewLoadStart.bind(o),o._onViewLoadEnd=o._onViewLoadEnd.bind(o),o._onTileLoadError=o._onTileLoadError.bind(o),o._onPointerUp=o._onPointerUp.bind(o),o._onMouseMove=o._onMouseMove.bind(o),o.toggleOverlay=o.toggleOverlay.bind(o),o.onTimeTravelChange=o.onTimeTravelChange.bind(o),o.elevationHandleChange=o.elevationHandleChange.bind(o),o._onMouseOverTooltip=o._onMouseOverTooltip.bind(o),o._onMouseOutTooltip=o._onMouseOutTooltip.bind(o),o._onMouseDownAttributeInfo=o._onMouseDownAttributeInfo.bind(o),o._onMouseOut=o._onMouseOut.bind(o),p()(qt.a).forEach(function(t){qt.a[t]=qt.a[t].bind(o)});var a=o.props.addressService;return a&&(o.addressClient=new yt.a({addressService:a})),z.a.createEmitter(o),o}return u(e,t),Zt(e,[{key:"componentWillMount",value:function(){this._onViewLoadStart()}},{key:"componentDidMount",value:function(){function t(){return e.apply(this,arguments)}var e=a(h.a.mark(function t(){var e,n,r,i,o,a,s,l,u,c,f,d,p,m,g,v,y;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this.props,n=e.recording,r=e.x,i=e.y,o=e.proj,a=e.id,s=e.panoramaTilesUrls,l=e.depthTilesUrls,u=e.recordingsUrl,c=e.apiKey,f=e.ui,d=f[Ot.a.NAVBAR].expanded,p=f[Ot.a.TIME_TRAVEL].expanded,m=e.viewerMode,g=this._viewer,g||(g=this._viewer=CM.createPanoramaViewer({viewerContainer:a,recordingMarkerStyles:null,recordingClient:new CM.aperture.WfsRecordingClient({uriManager:new CM.aperture.WfsRecordingUriManager({apiKey:c,dataUri:u,withCredentials:!0}),authHeaders:Object(ot.b)()}),recordingRequestRadius:30,uriManager:new CM.aperture.DefaultBitmapUriManager({apiKey:c,dataUri:s.map(function(t){return t+"/Tile/"}),withCredentials:!0}),depthMapUriManager:l?new CM.aperture.DepthMapUriManager({apiKey:c,dataUri:l.map(function(t){return t+"/"}),withCredentials:!0}):void 0,authHeaders:Object(ot.b)(),recordingClickHandler:this.onPanoramaRecordingClick}),this._setViewerRecordingsVisibility(),g.setAllowRotateWhenZoomed(m!==_t.ViewerMode.MEASUREMENT),n.hasDepthMap?this.props.actions.setCubeProgram(Bt.a.PLAIN_DEPTH):this.props.actions.setCubeProgram(Bt.a.PLAIN_COLOR),m===_t.ViewerMode.MEASUREMENT?window.CM.panoramaMode=_t.ViewerMode.MEASUREMENT:window.CM.panoramaMode=null,CM.El.addEvent(g,CM.EVENT_PANORAMA_CHANGE,this.onPanoramaChange),CM.El.addEvent(g,CM.EVENT_VIEW_CHANGE,this.onViewChange),CM.El.addEvent(g,CM.EVENT_VIEW_LOAD_START,this._onViewLoadStart),CM.El.addEvent(g,CM.EVENT_VIEW_LOAD_END,this._onViewLoadEnd),CM.El.addEvent(g,CM.TILE_LOAD_ERROR,this._onTileLoadError),v=g.getElement(),CM.El.addEvent(v,"pointerup",this._onPointerUp),CM.El.addEvent(v,"mousemove",this._onMouseMove),CM.El.addEvent(v,"pointerout",this._onMouseOut)),n?(g.openPanoramaFromRecording(n),this.onRecordingLoaded()):Kt(r)&&Kt(i)&&o&&g.openNearestPanorama(r,i,o),y={yaw:0,hFov:Tt.a,xyz:n&&n.xyz||(Kt(r)&&Kt(i)?[r,i,0]:[0,0,0]),srs:n&&n.srs||o},dispatchEvent(new CustomEvent(Pt.a.PANORAMA_CREATED,{detail:{viewerData:y,panoramaId:a,colorStyle:this.colorStyle}})),"boolean"==typeof p&&p&&this.props.actions.toggleUiState(Ot.a.TIME_TRAVEL,"expanded",p),"boolean"==typeof d&&d&&this.props.actions.toggleUiState(Ot.a.NAVBAR,"expanded",d),this.clearSelectedFeature(),Ht.a._getOverlays(this),Ht.a._drawWfsOverlays(this,n),this.props.actions.addTimeTravel();case 12:case"end":return t.stop()}},t,this)}));return t}()},{key:"componentWillReceiveProps",value:function(t){var e=this._viewer,n=e._viewer.overlayManager,r=t.recording,i=t.orientation,o=t.ui,a=o[Ot.a.NAVBAR],s=a.visible,l=a.expanded,u=o[Ot.a.TIME_TRAVEL],c=u.visible,f=u.expanded,h=o[Ot.a.RECORDINGS].visible,d=o[Ot.a.MEASUREMENTS].visible,p=t.addressService,m=t.viewerMode,g=t.activeMeasurement,v=t.selectedMeasureMethod,y=t.cubeProgram,b=t.isApi,_=t.activePanel,w=t.heightSlider,x=this.props,E=x.recording,M=x.ui,S=M[Ot.a.NAVBAR],T=S.visible,C=S.expanded,O=M[Ot.a.TIME_TRAVEL],A=O.visible,I=O.expanded,R=M[Ot.a.RECORDINGS].visible,P=M[Ot.a.MEASUREMENTS].visible,L=x.addressService,N=x.viewerMode,k=x.activeMeasurement,D=x.cubeProgram,F=x.activePanel,j=x.heightSlider,U=x.actions,z=r&&E!==r;if(y!==D){var B=this.props.overlays,V=Array.isArray(B)&&B.find(function(t){return"SurfaceCursorLayer"===t.type}),H=!!V&&V.visible;e._viewer.setCubeProgram(y,H)}if(_!==F&&(_!==Ct.a.ELEVATION?r.hasDepthMap?U.setCubeProgram(Bt.a.PLAIN_DEPTH):U.setCubeProgram(Bt.a.PLAIN_COLOR):U.setCubeProgram(Bt.a.ELEVATION)),!z&&Object(G.isEqual)(k,g)||(Gt.a.drawMeasurement(this,g,r),this._viewer._viewer.requestAnimationFrame()),P!==d&&n&&(d?n.showGroup("active-measurements"):n.hideGroup("active-measurements")),!z&&Object(G.isEqual)(j,w)||(n&&n.disposeGroup("height-slider"),Gt.a.drawHeightSlider(this,w)),e){var q=m===_t.ViewerMode.MEASUREMENT&&null===w;e._viewer.showCrossHairs(q)}if(e)if(m===_t.ViewerMode.MEASUREMENT&&v===xt.MeasureMethod.FORWARD_INTERSECTION){var W=Object(xt.determineNewPointNeeded)(g,r.id);if(W){var Y=g.properties.measureDetails.length;e._viewer.showPointCursor(Y+1)}else{var X=g.properties.observationLines.activeObservation;e._viewer.showPointCursor(X+1)}}else e._viewer.showPointCursor(void 0);if((!b&&m!==N||h!==R)&&this._setViewerRecordingsVisibility(t),i){var Z=i.yaw,K=i.pitch,Q=i.hFov;e.setOrientation({yaw:Z,pitch:K,hFov:Q})}if(!g&&w&&this.props.actions.updateHeightSlider(void 0),z){var J=e.getRecording();if(J&&J.id===r.id||e.openPanoramaFromRecording(r),this._updateRecording(r),Ht.a._drawWfsOverlays(this,r),g){var $=g.properties,tt=$.customGeometryType,et=$.preciseGeometry.coordinates;m===_t.ViewerMode.MEASUREMENT&&tt===Ft.a.HEIGHT&&et.length>=1&&w&&qt.a.calculateInitialHeightSlider(this,r.xyz)}}s!==T&&s!==this.getNavbarVisible()&&U.toggleUiState(Ot.a.NAVBAR,"visible",!this.props.tidEnabled&&s),l!==C&&l!==this.getNavbarExpanded()&&U.toggleUiState(Ot.a.NAVBAR,"expanded",!this.props.tidEnabled&&l),c!==A&&c!==this.getTimeTravelVisible()&&U.toggleUiState(Ot.a.TIME_TRAVEL,"visible",!this.props.tidEnabled&&c),f!==I&&f!==this.getTimeTravelExpanded()&&U.toggleUiState(Ot.a.TIME_TRAVEL,"expanded",!this.props.tidEnabled&&f),p!==L&&this.addressClient.setSettings(p),e.invalidateSize()}},{key:"componentDidUpdate",value:function(t){var e=this._viewer,n=e._viewer.overlayManager,r=this.props,i=r.recording,o=r.ui[Ot.a.MEASUREMENTS].visible,a=r.activeMeasurement,s=r.heightSlider;t.recording,t.ui[Ot.a.MEASUREMENTS].visible,t.activeMeasurement;e.invalidateSize(),Gt.a.drawMeasurement(this,a,i),Gt.a.drawHeightSlider(this,s),n&&(o?(n.showGroup("active-measurements"),n.showGroup("height-slider")):(n.hideGroup("active-measurements"),n.hideGroup("height-slider"))),t.overlays!==this.props.overlays&&(Ht.a._getOverlays(this),Ht.a._drawWfsOverlays(this,this.props.recording));var l=e._viewer._viewerWrapper.classList,u=e.getRecording();u&&u.hasDepthMap&&window.CM.Req.panoramaTilesLoadingCount>0&&window.CM.panoramaMode===_t.ViewerMode.MEASUREMENT&&this.props.selectedMeasureMethod===xt.MeasureMethod.DEPTH_MAP&&l.add("invalidDepth"),this.applyViewingFilter()}},{key:"applyViewingFilter",value:function(){var t="contrast("+this.props.viewerSettings.contrast+"%) brightness("+this.props.viewerSettings.brightness+"%)";this.panoramaViewerRef.childNodes[0].style.filter=t}},{key:"setBrightness",value:function(t){this.props.tidEnabled&&Object(At.c)("setBrightness"),(!t&&0!==t||t<0||"number"!=typeof t&&"string"!=typeof t)&&Object(At.b)("setBrightness");var e={viewerSettings:Xt({},this.props.viewerSettings)};e.viewerSettings.brightness=t,this.props.actions.updatePanoramaViewerParams(e)}},{key:"setContrast",value:function(t){this.props.tidEnabled&&Object(At.c)("setContrast"),(!t&&0!==t||t<0||"number"!=typeof t&&"string"!=typeof t)&&Object(At.b)("setContrast");var e={viewerSettings:Xt({},this.props.viewerSettings)};e.viewerSettings.contrast=t,this.props.actions.updatePanoramaViewerParams(e)}},{key:"componentWillUnmount",value:function(){var t=this._viewer;if(this.props.actions.removeTimeTravel(),this.colorManager.releaseColor(this.colorStyle.name),t){CM.El.removeEvent(t,CM.EVENT_PANORAMA_CHANGE,this.onPanoramaChange),CM.El.removeEvent(t,CM.EVENT_VIEW_CHANGE,this.onViewChange),CM.El.removeEvent(t,CM.EVENT_VIEW_LOAD_START,this._onViewLoadStart),CM.El.removeEvent(t,CM.EVENT_VIEW_LOAD_END,this._onViewLoadEnd),CM.El.removeEvent(t,CM.TILE_LOAD_ERROR,this._onTileLoadError);var e=t.getElement();CM.El.removeEvent(e,"pointerup",this._onPointerUp),CM.El.removeEvent(e,"pointerout",this._onMouseOut),t.destroy(),this._viewer=null}dispatchEvent(new CustomEvent(Pt.a.PANORAMA_DELETED,{detail:{panoramaId:this.props.id}})),this._onViewLoadEnd(),this.off(),this.stopListening()}},{key:"shouldComponentUpdate",value:function(t,e){return this.props!==t||this.state!==e}},{key:"getType",value:function(){return _t.ViewerType.PANORAMA}},{key:"getSmartMeasurePointDetails",value:function(t){var e=this._viewer.getRecording();if(e&&e.hasDepthMap){var n=this._viewer._viewer._currentPointerPos[2];if(n){var r=Object(It.n)(e.srs).xyUnits,i=Object(It.h)(It.d.METERS,r,n);nt.glMatrix.setMatrixArrayType(Float64Array);var o=t.direction;return{position:nt.vec3.scaleAndAdd(nt.vec3.create(),e.xyz,o,i),direction:o,depthInMeters:n,depth:i,recordingInfo:{id:e.id,xyz:e.xyz,srs:e.srs,yaw:e.orientation,xyzStdev:[e.latitudePrecision,e.longitudePrecision,e.heightPrecision],yawStdev:e.orientationPrecision,depthStdev:e.depthMapPrecision}}}}}},{key:"_onMouseOverTooltip",value:function(t,e){var n=this._viewer._viewer.overlayManager;if(n){var r=n.getElementById(t.id),i=r.tooltipprops;if(i){for(var o=i.split(","),a=r.properties,s=[],l=0;l<o.length;l++){var u=a[o[l]];if(o[l]in a&&s.length<5){var c=o[l]+": "+u;s.push(c)}}var f=s.join("<br />"),h=e||window.event,d=document.getElementById("popup-pv-"+this.props.id),p=h.offsetX-d.offsetWidth/2,m=h.offsetY-(d.offsetHeight+25);d.style.opacity=1,d.style.display="block",d.style.left=p+"px",d.style.top=m+"px";document.getElementById("popup-content-pv-"+this.props.id).innerHTML=f}}}},{key:"_onMouseOutTooltip",value:function(){var t=document.getElementById("popup-pv-"+this.props.id);t.style.opacity=0,t.style.display="none"}},{key:"_onMouseDownAttributeInfo",value:function(t,e){var n=this._viewer._viewer.overlayManager;if(n){var r=n.getElementByObject(t),i=this.props.selectedFeature;i&&r.id===i.featureId&&(r.object.material.color.r=i.material.color.r,r.object.material.color.g=i.material.color.g,r.object.material.color.b=i.material.color.b,r.object.material.opacity=i.material.opacity);var o={nextFeature:{layerName:e,featureId:r.id,material:{color:{r:r.object.material.color.r,g:r.object.material.color.g,b:r.object.material.color.b},opacity:r.object.material.opacity},attributes:{}}},a=r.properties,s=r.attributeInfo;if(s){var l=s.split(","),u=!0,c=!1,f=void 0;try{for(var h,d=j()(l.values());!(u=(h=d.next()).done);u=!0){var p=h.value,m=p.trim();a[m]&&"object"!==Yt(a[m])&&(o.nextFeature.attributes[m]=a[m])}}catch(t){c=!0,f=t}finally{try{!u&&d.return&&d.return()}finally{if(c)throw f}}}else for(var g in a)"object"!==Yt(a[g])&&"srs"!==g&&"navigateToURLOnClick"!==g&&(o.nextFeature.attributes[g]=a[g]);this.props.actions.updatePanoramaViewer(o);var v=document.getElementById("popup-pv-"+this.props.id);v.style.opacity=0,v.style.display="none"}}},{key:"_setViewerRecordingsVisibility",value:function(t){var e=t||this.props,n=e.viewerMode,r=e.ui[Ot.a.RECORDINGS].visible,i=e.isApi;this._viewer.setVisibilityRecordings((i||n)&&r)}},{key:"getViewerColor",value:function(){return this.colorStyle.color}},{key:"rotateLeft",value:function(t){Kt(t)||Object(At.b)("rotateLeft"),this._rotate(-Object(Dt.e)(t),0)}},{key:"rotateRight",value:function(t){Kt(t)||Object(At.b)("rotateRight"),this._rotate(Object(Dt.e)(t),0)}},{key:"rotateUp",value:function(t){Kt(t)||Object(At.b)("rotateUp"),this._rotate(0,Object(Dt.e)(t))}},{key:"rotateDown",value:function(t){Kt(t)||Object(At.b)("rotateDown"),this._rotate(0,-Object(Dt.e)(t))}},{key:"_rotate",value:function(t,e){var n=this._viewer;n.setOrientation({yaw:n.getYaw()+t,pitch:n.getPitch()+e})}},{key:"getOrientation",value:function(){var t=this._viewer.getOrientation();return{yaw:Object(Dt.d)(t.yaw),pitch:Object(Dt.d)(t.pitch),hFov:Object(Dt.d)(t.hFov)}}},{key:"setOrientation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.yaw,n=t.pitch,r=t.hFov;(void 0!==e&&!Kt(e)||void 0!==n&&!Kt(n)||void 0!==r&&!Kt(r))&&Object(At.b)("setOrientation (all privided orientation parameters must be numeric and finite)"),this._viewer.setOrientation({yaw:Object(Dt.e)(e),pitch:Object(Dt.e)(n),hFov:Object(Dt.e)(r)})}},{key:"getRecording",value:function(){return this._viewer?this._viewer.getRecording():null}},{key:"lookAtCoordinate",value:function(t,e){(!Object(kt.i)(t)||e&&!Object(It.o)(e))&&Object(At.b)("lookAtCoordinate");var n=this.props.recording;n||Object(At.a)("lookAtCoordinate",Qt.NO_RECORDING_LOADED),e&&(t=Y.a.proj.transform(t,e,n.srs));var r=n.xyz;this._viewer.setOrientation({yaw:Object(kt.m)(r,t),pitch:Object(kt.j)(r,t)})}},{key:"toggleRecordingsVisible",value:function(t){this.props.tidEnabled&&Object(At.c)("toggleRecordingsVisible"),t&&void 0!==t&&"boolean"!=typeof t&&Object(At.b)("toggleRecordingsVisible");var e=this.props.actions,n=this.props.ui[Ot.a.RECORDINGS].visible;e.toggleUiState(Ot.a.RECORDINGS,"visible",void 0!==t?t:!n)}},{key:"toggleOverlay",value:function(t){var e=this.props.actions,n=e.toggleOverlay,r=e.logToggleOverlay,i=e.setLayerVisibility,o=this.props,a=o.id,s=o.inMeasurementMode,l=t.id,u=!t.visible;n(a,l,u),s||i(l,u),r(l,t.name,u)}},{key:"toggle3DCursor",value:function(t){this.props.tidEnabled&&Object(At.c)("toggle3DCursorVisible"),t&&void 0!==t&&"boolean"!=typeof t&&Object(At.b)("toggle3DCursorVisible");var e=this.props,n=e.id,r=e.overlays,i=e.actions,o=e.inMeasurementMode,a=i.toggleOverlay,s=i.logToggleOverlay,l=i.setLayerVisibility,u=Array.isArray(r)&&r.find(function(t){return"SurfaceCursorLayer"===t.type}),c=u.id,f=u.visible,h=u.name,d=void 0!==t?t:!f;a(n,c,d),o||l(c,d),s(c,h,d)}},{key:"get3DCursorVisible",value:function(){var t=this.props.overlays;return(Array.isArray(t)&&t.find(function(t){return"SurfaceCursorLayer"===t.type})).visible}},{key:"getRecordingsVisible",value:function(){return this.props.ui[Ot.a.RECORDINGS].visible}},{key:"toggleNavbarVisible",value:function(t){this.props.tidEnabled&&Object(At.c)("toggleNavbarVisible"),void 0!==t&&"boolean"!=typeof t&&Object(At.b)("toggleNavbarVisible");var e=this.props.actions,n=this.props.ui[Ot.a.NAVBAR].visible;e.toggleUiState(Ot.a.NAVBAR,"visible",void 0!==t?t:!n)}},{key:"getNavbarVisible",value:function(){return this.props.ui[Ot.a.NAVBAR].visible}},{key:"toggleNavbarExpanded",value:function(t){this.props.tidEnabled&&Object(At.c)("toggleNavbarExpanded"),void 0!==t&&"boolean"!=typeof t&&Object(At.b)("toggleNavbarExpanded");var e=this.props.actions,n=this.props.ui[Ot.a.NAVBAR].expanded;e.toggleUiState(Ot.a.NAVBAR,"expanded",void 0!==t?t:!n)}},{key:"getNavbarExpanded",value:function(){return this.props.ui[Ot.a.NAVBAR].expanded}},{key:"toggleButtonEnabled",value:function(t,e){this.props.actions.toggleUiState(t,"enabled",e)}},{key:"getButtonEnabled",value:function(t){var e=this.props.ui;return"*"===t?[].concat(o(e)):e[t].enabled}},{key:"toggleTimeTravelVisible",value:function(t){this.props.tidEnabled&&Object(At.c)("toggleTimeTravelVisible"),void 0!==t&&"boolean"!=typeof t&&Object(At.b)("toggleTimeTravelVisible");var e=this.props.actions,n=this.props.ui[Ot.a.TIME_TRAVEL].visible;e.toggleUiState(Ot.a.TIME_TRAVEL,"visible",void 0!==t?t:!n)}},{key:"getTimeTravelVisible",value:function(){return this.props.ui[Ot.a.TIME_TRAVEL]&&this.props.ui[Ot.a.TIME_TRAVEL].visible}},{key:"toggleTimeTravelExpanded",value:function(t){this.props.tidEnabled&&Object(At.c)("toggleTimeTravelExpanded"),void 0!==t&&"boolean"!=typeof t&&Object(At.b)("toggleTimeTravelExpanded");var e=this.props,n=e.actions,r=e.timetravel;n.toggleTimeTravel(void 0!==t?t:!r.visible)}},{key:"getTimeTravelExpanded",value:function(){return this.props.timetravel&&this.props.timetravel.visible}},{key:"openByImageId",value:function(){function t(t,n){return e.apply(this,arguments)}var e=a(h.a.mark(function t(e,n){var r,i,o;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(!Object(Lt.parsePanoramaId)(e)||n&&!Object(It.o)(n))&&Object(At.b)("openByImageId"),n||(n=this.props.srs.userSrs),t.next=4,vt.a.getRecordingById(e,n);case 4:return r=t.sent,i=Wt(r,1),o=i[0],this._updateRecording(o),t.abrupt("return",o);case 9:case"end":return t.stop()}},t,this)}));return t}()},{key:"openByCoordinate",value:function(){function t(t,n){return e.apply(this,arguments)}var e=a(h.a.mark(function t(e,n){var r,i,o,a;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="openByCoordinate",this.props.tidEnabled&&Object(At.c)(r),(!Object(kt.i)(e)||n&&!Object(It.o)(n))&&Object(At.b)(r),n||(n=this.props.srs.userSrs),t.next=6,vt.a.getRecordingsByRadius(e,n,100,{maxFeatures:1});case 6:return i=t.sent,o=Wt(i,1),a=o[0],this._updateRecording(a),this.lookAtCoordinate(e,n),t.abrupt("return",a);case 12:case"end":return t.stop()}},t,this)}));return t}()},{key:"openByAddress",value:function(){function t(t,n){return e.apply(this,arguments)}var e=a(h.a.mark(function t(e,n){var r,i,o,a,s;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="openByAddress",this.props.tidEnabled&&Object(At.c)(r),("string"!=typeof e||!e||n&&!Object(It.o)(n))&&Object(At.b)(r),n=n||this.props.srs.userSrs,n||Object(At.a)(r,Qt.NO_SRS_PROVIDED),this.addressClient||Object(At.a)(r,Qt.NO_ADDRESS_CLIENT),t.next=8,this.addressClient.searchAddress(e,n);case 8:return i=t.sent,i||Object(At.a)(r,Qt.NO_ADDRESS_FOUND),o=i.geometry,a=o.extent,s=o.coord,a&&Object(At.a)(r,Qt.ADDRESS_NOT_A_POINT),s||Object(At.a)(r,Qt.ADDRESS_CLIENT_ERROR),t.abrupt("return",this.openByCoordinate(s,n));case 14:case"end":return t.stop()}},t,this)}));return t}()},{key:"onRecordingLoaded",value:function(){var t=this._viewer.getRecording();this._updateRecording(t)}},{key:"onViewChange",value:function(t){var e=this.props,n=e.id,r=e.recording,o=e.actions,a=e.orientation,s=void 0,l=void 0;r&&(s=r.xyz,l=r.srs),o.updatePanoramaOrientation({yaw:t.yaw,pitch:t.pitch,hFov:t.hFov,xyz:s});var u={yaw:t.yaw,hFov:t.hFov,pitch:t.pitch,xyz:s,srs:l};dispatchEvent(new CustomEvent(Pt.a.PANORAMA_UPDATED,{detail:{viewerData:u,panoramaId:n}}));var c=Rt.VIEW_CHANGE,f=t.yaw,h=t.pitch,d=t.hFov,p=i(t,["yaw","pitch","hFov"]),m=Xt({},p,{yaw:Object(Dt.d)(f),pitch:Object(Dt.d)(h),hFov:Object(Dt.d)(d)});t.yaw===a.yaw&&t.pitch===a.pitch&&t.hFov===a.hFov||this.trigger(c,new Vt.a(c,m))}},{key:"_onViewLoadStart",value:function(){this.props.actions.updateLoadingCount(1);var t=Rt.VIEW_LOAD_START;this.trigger(t,new Vt.a(t))}},{key:"_onViewLoadEnd",value:function(){this.props.actions.updateLoadingCount(-1);var t=Rt.VIEW_LOAD_END;this.trigger(t,new Vt.a(t));var e=this.props.heightSlider;e&&e.updateOrientation&&(this._viewer.setOrientation(e.updateOrientation),e.updateOrientation=void 0)}},{key:"_onTileLoadError",value:function(t){this.props.actions.updateLoadingCount(-1);var e=Rt.TILE_LOAD_ERROR,n={request:t};this.trigger(e,new Vt.a(e,n)),q.a.warn("Some panoramatiles could not be loaded.")}},{key:"onPanoramaRecordingClick",value:function(t,e){if(e.shiftKey){if(this.props.viewerMode===_t.ViewerMode.MEASUREMENT)return;var n=this.props.orientation,r=n.yaw,i=n.pitch,o=n.hFov;this.props.actions.openPanoramaViewerByRecording(t,{replace:!1,panoramaOptions:{yaw:r,pitch:i,hFov:o},openOblique:!1})}else this.props.actions.setPanoramaActivePanel(Ct.a.NONE),this.clearNextFeature(),this.resetFeatureStyle(),this._updateRecording(t);var a=Rt.RECORDING_CLICK,s={recording:t,eventData:e};this.trigger(a,new Vt.a(a,s))}},{key:"onPanoramaChange",value:function(){var t=this._viewer.getRecording();if(t){var e=this.props,n=e.id,r=e.onPanoramaChange,i=e.actions;this._updateRecording(t),i.toggleTimeTravel(!1),r&&r(n,t);var o=Rt.IMAGE_CHANGE;this.trigger(o,new Vt.a(o))}}},{key:"_eventToPixel",value:function(t){var e=this._viewer,n=CM.El.getPagePos(e.getElement());return nt.vec2.fromValues(t.pageX-n.x,t.pageY-n.y)}},{key:"_pixelToWorldVector",value:function(t){var e=(this._viewer,this._eventToPixel(t));return this._pixelToWorldVectorXY(e[0],e[1])}},{key:"_pixelToWorldVectorXY",value:function(t,e){var n=this._viewer,r=n.pixelToWorldVector(t,e),i=n.getRecording(),o=i.srs;return{imageId:i.id,srsName:o,direction:r}}},{key:"_onMouseMove",value:function(t){var e=this.props,n=e.activeMeasurement,r=e.recording;r&&r.hasDepthMap&&qt.a._updateSurfaceCursorPosition(this,t),n&&qt.a.shouldHeightSliderUpdate(this,t)}},{key:"_onMouseOut",value:function(){qt.a._updateSurfaceCursorPosition(this)}},{key:"_onPointerUp",value:function(t){if(0!==t.button)return void t.preventDefault();var e=this.context.intl.formatMessage,n=this._viewer._viewer._isDragInteracting,r=this._viewer._viewer._longPressZoomed,i=this._viewer.getRecording();if(!n||n&&r)if(this.props.viewerMode===_t.ViewerMode.MEASUREMENT){if(this._viewer._recordingLayer.getHighLightedRecording())return;var o=this._pixelToWorldVector(t),a=this._eventToPixel(t);i&&i.hasDepthMap?!0===this._viewer._viewer._viewportTileLoader.depthCubeLoaded?null!==this.props.heightSlider?qt.a.addHeightSliderToMeasurementPoint(this):(this.props.activeMeasurement.properties.customGeometryType!==Ft.a.HEIGHT||this.props.activeMeasurement.geometry.coordinates.length<2)&&this.props.actions.measurePoint(o,a,this):this.props.actions.showMeasurementFeedbackMessage(e(Jt.warningStillLoading),{class:"warning"}):null!=this.props.heightSlider?qt.a.addHeightSliderToMeasurementPoint(this):(this.props.activeMeasurement.properties.customGeometryType!==Ft.a.HEIGHT||this.props.activeMeasurement.geometry.coordinates.length<2)&&this.props.actions.measurePoint(o,a,this)}else{var s=this.props.nextFeature,l=this.props.selectedFeature;if(s!==l&&this.resetFeatureStyle(),s){var u={selectedFeature:s,nextFeature:void 0};this.props.actions.updatePanoramaViewer(u),this.props.actions.setPanoramaActivePanel(Ct.a.ATTRIBUTE_INFO),this.setFeatureStyle()}}else if(this.props.viewerMode!==_t.ViewerMode.MEASUREMENT){var c=this.props.nextFeature,f=this.props.selectedFeature;if(c&&f&&c.featureId===f.featureId){var h={selectedFeature:c,nextFeature:void 0};this.props.actions.updatePanoramaViewer(h),this.props.actions.setPanoramaActivePanel(Ct.a.ATTRIBUTE_INFO),this.setFeatureStyle()}}}},{key:"clearSelectedFeature",value:function(){var t={selectedFeature:void 0};this.props.actions.updatePanoramaViewer(t),this.props.actions.setPanoramaActivePanel(Ct.a.NONE)}},{key:"clearNextFeature",value:function(){if(this.props.nextFeature){var t={nextFeature:void 0};this.props.actions.updatePanoramaViewer(t)}}},{key:"resetFeatureStyle",value:function(){var t=this.props.selectedFeature,e=this._viewer._viewer.overlayManager;if(t&&e){var n=e.getElementById(t.featureId);n&&(n.object.material.opacity=t.material.opacity,n.object.material.color.r=t.material.color.r,n.object.material.color.g=t.material.color.g,n.object.material.color.b=t.material.color.b);var r={selectedFeature:void 0};this.props.actions.updatePanoramaViewer(r)}}},{key:"setFeatureStyle",value:function(){var t=this.props.selectedFeature,e=this._viewer._viewer.overlayManager;if(t&&e){var n=e.getElementById(t.featureId);n&&(n.object.material.opacity=.8,n.object.material.color.r=.901960784313726,n.object.material.color.g=.494117647058824,n.object.material.color.b=.133333333333333,n.properties.navigateToURLOnClick&&window.open(n.properties.navigateToURLOnClick,"_blank"))}}},{key:"onTimeTravelChange",value:function(t){var e=Rt.TIME_TRAVEL_CHANGE;this.trigger(e,new Vt.a(e,{date:new Date(t)}))}},{key:"_setDateRangeToViewer",value:function(t){var e=t.recordedAt,n=t.expiredAt,r=void 0;if(n){var i=e.getMonth(),o=new Date(e);o.setMonth(i-1);var a=new Date(e);a.setMonth(i+1),r={from:o,to:a,onlyExpired:!0}}this._viewer.setViewedRecordingOptions({dateRange:r})}},{key:"_updateRecording",value:function(t){this.props.actions.updateRecording(t);var e=this._viewer.getRecordingLayer(),n=t.expiredAt?zt.a.history:zt.a.recent;e.setMarkerStyles(n),this._setDateRangeToViewer(t)}},{key:"updateZoom",value:function(t){Kt(t)||Object(At.b)("updateZoom");var e=this._viewer.getHFov(),n=e+Object(Dt.e)(5*t);this._viewer.setHFov(n)}},{key:"zoomIn",value:function(){this.updateZoom(-1)}},{key:"zoomOut",value:function(){this.updateZoom(1)}},{key:"elevationHandleChange",value:function(t){var e=this._viewer;e&&e._viewer.setElevationData(t)}},{key:"takeScreenShot",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64;return this._viewer._viewer.takeScreenShot(t,e,n)}},{key:"renderActivePanel",value:function(){var t=this.props,e=t.recording,n=t.activePanel,r=t.overlays;switch(n){case Ct.a.IMAGE_INFORMATION:return Q.a.createElement(at.a,{recording:e});case Ct.a.OVERLAYS:var i={toggleOverlay:this.toggleOverlay};return Q.a.createElement(lt.b,{type:lt.a.PANORAMA,overlays:r,options:i});case Ct.a.IMAGE_CONTROLS:return Q.a.createElement(ut.a,{className:"cmtNavBarPanel",panoramaId:this.props.id,showTransparency:!1});case Ct.a.ATTRIBUTE_INFO:return Q.a.createElement(ct.a,{panoramaId:this.props.id});case Ct.a.ELEVATION:return Q.a.createElement(st.a,{recording:e,sliderChangeCb:this.elevationHandleChange});default:return null}}},{key:"render",value:function(){var t=this,e=this.props,n=e.id,r=e.surfaceCursorPosition,i=e.orientation.yaw,o=e.recording,a=e.className,s=e.actions,l=s.logClickControl,u=s.toggleTimeTravel,c=e.isApi,f=e.viewerMode,h=e.heightSlider,d=e.srs,p=e.timetravel,m=e.ui,g=m[Ot.a.NAVBAR],v=g.visible,y=g.expanded,b=m[Ot.a.TIME_TRAVEL].visible,_=d.userSrsUnit!==It.d.DEGREES&&d.userSrsUnit!==It.d.UNKNOWN,w="...";r.position&&(w=r.position[0].toFixed(2)+", ",w+=r.position[1].toFixed(2)+", ",w+=r.position[2].toFixed(2));var x=!0;!y&&v&&(x=!1);var E=p&&b&&!!o,M=this.props.pendingMeasurementsCount,S=this.renderActivePanel(),T=f===_t.ViewerMode.MEASUREMENT&&null===h?"crosshair":"",C=o.ownerInfo&&o.ownerInfo.name,O=o.ownerInfo&&o.ownerInfo.url,A=void 0;if(c){var I=this.context.rootElement,R=Q.a.createElement($.Tooltip,{id:"tooltip-"+n},rt.a.version);A=Q.a.createElement($.OverlayTrigger,{placement:"top",container:I,overlay:R},Q.a.createElement(ft.a,{label:C,url:O}))}else A=Q.a.createElement(ft.a,{label:C,url:O});return Q.a.createElement("div",{className:V()("panoramaviewer","viewer","flexColumn",a)},!!M&&Q.a.createElement(jt.a,null),Q.a.createElement("div",{className:"flexColumn pv-relative-pos"},Q.a.createElement("div",{id:n,className:V()("panoramaview","flexItem",T),"data-touch-action":"none",ref:function(e){t.panoramaViewerRef=e}}),Q.a.createElement(ht.a,{color:this.colorStyle.color}),Q.a.createElement(pt.a,{visible:b,recording:o,onClick:function(){l("time_travel_toggle"),u()}}),E&&Q.a.createElement(mt.a,{id:n,recording:o,yaw:i,onChange:this.onTimeTravelChange}),A,this.props.viewerMode===_t.ViewerMode.MEASUREMENT&&Q.a.createElement(gt.a,{color:this.colorStyle.color,currentRecording:o.id}),o&&o.hasDepthMap&&_&&Q.a.createElement("div",{className:V()("cmtMousePosition",{contracted:!x})},w),Q.a.createElement("div",{className:"cmtViewerPanel"},S),Q.a.createElement("div",{id:"popup-pv-"+n,className:"popup popup--tooltip"},Q.a.createElement("div",{id:"popup-content-pv-"+n,className:"popup-content"}),Q.a.createElement("div",{className:"popup_arrow-down"}))),v&&Q.a.createElement(dt.a,{id:n,expanded:y,onExpand:this.toggleNavbarExpanded,zoomIn:this.zoomIn,zoomOut:this.zoomOut,viewer:this._viewer,isApi:c}))}},{key:"_onForDocs",value:function(){}},{key:"_offForDocs",value:function(){}}]),e}(it.a);$t.contextTypes={intl:Z.a.object.isRequired,rootElement:Z.a.object};var te=function(t,e){var n=t.panoramaviewer,r=t.timetravel,i=t.config,o=t.srs,a=t.login,s=t.windowmanager,l=t.viewermanager,u=t.measurements,c=t.layer,f=e.id,h=n.byId[f];return Xt({},h,n.byId[f]||{},{panoramaViewerCount:p()(n.byId).length,timetravel:r.byId[f]||null,apiKey:i.apiKey,isApi:i.isApi,tidEnabled:"string"==typeof a.tidToken,srs:o,addressService:i.config.services.address,windowmanagerRevision:s.revision,viewerMode:l.viewerMode,activeMeasurement:u.activeMeasurement,heightSlider:u.heightSlider,measureMethod:u.measureMethod,selectedMeasureMethod:u.selectedMeasureMethod,pendingMeasurementsCount:u.pendingCount,overlays:c.overlays[f],layer:c})};$t.propTypes={id:Z.a.string.isRequired,recording:Z.a.instanceOf(Ut.a),x:Z.a.number,y:Z.a.number,proj:Z.a.string,apiKey:Z.a.string,recordingsUrl:Z.a.string.isRequired,panoramaTilesUrls:Z.a.array.isRequired,depthTilesUrls:Z.a.array,addressService:Z.a.object,ui:Z.a.object,viewerSettings:Z.a.shape({brightness:Z.a.number,contrast:Z.a.number,opacity:Z.a.number})},$t.defaultProps={id:"cyclorama",x:null,y:null,proj:null,apiKey:void 0,orientation:{yaw:0,pitch:0,hFov:110},ui:(c={},r(c,Ot.a.NAVBAR,{visible:!0,expanded:!0}),r(c,Ot.a.TIME_TRAVEL,{visible:!0,expanded:!1}),r(c,Ot.a.RECORDINGS,{visible:!0}),r(c,Ot.a.ADDRESSES,{visible:!0}),c),viewerSettings:{brightness:100,contrast:100,opacity:1}};var ee=function(t,e){var n=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.bind.apply(t,[null,e.id].concat(r))};return{actions:Object(et.bindActionCreators)(Xt({showMeasurementFeedbackMessage:St.c,addPanoramaViewer:n(wt.default.addPanoramaViewer),removePanoramaViewer:n(wt.default.removePanoramaViewer),updatePanoramaViewer:n(wt.default.updatePanoramaViewer),updatePanoramaViewerParams:n(wt.default.updatePanoramaViewerParams),updatePanoramaOrientation:n(wt.default.updatePanoramaOrientation),updateRecording:n(wt.default.updateRecording),toggleUiState:n(wt.default.toggleUiState),setCubeProgram:n(wt.default.setCubeProgram),setPanoramaActivePanel:n(wt.default.setActivePanel),addTimeTravel:n(Et.default.addTimeTravel,Et.TimeTravelType.PANORAMA),removeTimeTravel:n(Et.default.removeTimeTravel),toggleTimeTravel:n(Et.default.toggleTimeTravel),updateLoadingCount:n(Nt.updateLoadingCount)},bt.default,Mt.default,_t.default,xt.default),t)}};e.a=Object(tt.connect)(te,ee,null,{withRef:!0})($t)},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(7),l=n.n(s),u=n(6),c=n.n(u),f=n(5),h=n.n(f),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(0),y=n.n(v),b=n(3),_=n.n(b),w=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=function(t){function e(){return i(this,e),o(this,(e.__proto__||l()(e)).apply(this,arguments))}return a(e,t),x(e,[{key:"render",value:function(){var t=this.props,e=t.label,n=t.url,i=r(t,["label","url"]);return y.a.createElement("div",w({className:"cmtAttributionLabel"},i),y.a.createElement("a",{href:n,onClick:function(t){t.preventDefault();var e=window.open();e.opener=null,e.location=t.target.href}},"Â© ",e))}}]),e}(y.a.PureComponent);E.propTypes={label:_.a.string,url:_.a.string},E.defaultProps={label:"CycloMedia",url:"https://www.cyclomedia.com/"},e.a=E},function(t,e,n){"use strict";function r(t){var e=t.visible,n=void 0===e||e,r=t.recording,i=t.onClick;return n?s.a.createElement(u.a,h({placement:"right"},f.a.timetravel),s.a.createElement(c.a,{icon:s.a.createElement(l.b.TimeTravel,{className:"timetravelToggle"}),recording:r,onClick:i})):s.a.createElement(c.a,{recording:r})}e.a=r;var i=n(4),o=n.n(i),a=n(0),s=n.n(a),l=n(62),u=n(79),c=n(1438),f=n(91),h=o.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){/**
 * JSTS. See https://github.com/bjornharrtell/jsts
 * https://github.com/bjornharrtell/jsts/blob/master/LICENSE_EDLv1.txt
 * https://github.com/bjornharrtell/jsts/blob/master/LICENSE_EPLv1.txt
 * https://github.com/bjornharrtell/jsts/blob/master/LICENSE_LICENSE_ES6_COLLECTIONS.txt
 * @license
 */
!function(t,n){n(e)}(0,function(t){"use strict";function e(){}function n(){}function r(){}function i(){}function o(){}function a(){}function s(){}function l(t){this.name="RuntimeException",this.message=t,this.stack=(new Error).stack,Error.call(this,t)}function u(){if(0===arguments.length)l.call(this);else if(1===arguments.length){var t=arguments[0];l.call(this,t)}}function c(){}function f(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)f.call(this,0,0);else if(1===arguments.length){var t=arguments[0];f.call(this,t.x,t.y,t.z)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];f.call(this,e,n,f.NULL_ORDINATE)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this.x=r,this.y=i,this.z=o}}function h(){if(this._dimensionsToTest=2,0===arguments.length)h.call(this,2);else if(1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new n("only 2 or 3 dimensions may be specified");this._dimensionsToTest=t}}function d(){}function p(){}function m(t){this.message=t||""}function g(){}function v(t){this.message=t||""}function y(t){this.message=t||""}function b(){this.array_=[],arguments[0]instanceof p&&this.addAll(arguments[0])}function _(){if(b.apply(this),0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.ensureCapacity(e.length),this.add(e,n)}}function w(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof f){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof w){var e=arguments[0];this.init(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this.init(i,o,a,s)}}function x(){}function E(){x.call(this,"Projective point not representable on the Cartesian plane.")}function M(t){this.str=t}function S(t){this.value=t}function T(){}function C(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof C){var e=arguments[0];this.init(e)}else if("string"==typeof arguments[0]){var n=arguments[0];C.call(this,C.parse(n))}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r,i)}}function O(){}function A(){}function I(){}function R(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];this.x=e,this.y=n,this.w=1}else if(arguments[0]instanceof R&&arguments[1]instanceof R){var r=arguments[0],i=arguments[1];this.x=r.y*i.w-i.y*r.w,this.y=i.x*r.w-r.x*i.w,this.w=r.x*i.y-i.x*r.y}else if(arguments[0]instanceof f&&arguments[1]instanceof f){var o=arguments[0],a=arguments[1];this.x=o.y-a.y,this.y=a.x-o.x,this.w=o.x*a.y-a.x*o.y}}else if(3===arguments.length){var s=arguments[0],l=arguments[1],u=arguments[2];this.x=s,this.y=l,this.w=u}else if(4===arguments.length){var c=arguments[0],h=arguments[1],d=arguments[2],p=arguments[3],m=c.y-h.y,g=h.x-c.x,v=c.x*h.y-h.x*c.y,y=d.y-p.y,b=p.x-d.x,_=d.x*p.y-p.x*d.y;this.x=g*_-b*v,this.y=y*v-m*_,this.w=m*b-y*g}}function P(){}function L(){}function N(){}function k(){}function D(){}function F(){this._envelope=null,this._factory=null,this._SRID=null,this._userData=null;var t=arguments[0];this._factory=t,this._SRID=t.getSRID()}function j(){}function U(){}function z(){}function B(){}function V(){}function G(){}function H(){}function q(){}function W(){}function Y(){}function X(){}function Z(){}function K(){this.array_=[],arguments[0]instanceof p&&this.addAll(arguments[0])}function Q(t){return null==t?Jo:t.color}function J(t){return null==t?null:t.parent}function $(t,e){null!==t&&(t.color=e)}function tt(t){return null==t?null:t.left}function et(t){return null==t?null:t.right}function nt(){this.root_=null,this.size_=0}function rt(){}function it(){}function ot(){this.array_=[],arguments[0]instanceof p&&this.addAll(arguments[0])}function at(){}function st(){}function lt(){}function ut(){}function ct(){this._geometries=null;var t=arguments[0],e=arguments[1];if(F.call(this,e),null===t&&(t=[]),F.hasNullElements(t))throw new n("geometries must not contain null elements");this._geometries=t}function ft(){var t=arguments[0],e=arguments[1];ct.call(this,t,e)}function ht(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0];ht.call(this,t,U.MOD2_BOUNDARY_RULE)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._geom=e,this._geomFact=e.getFactory(),this._bnRule=n}}function dt(){this.count=null}function pt(){}function mt(){}function gt(){}function vt(t){this.str=t}function yt(){}function bt(){this._points=null;var t=arguments[0],e=arguments[1];F.call(this,e),this.init(t)}function _t(){}function wt(){this._coordinates=null;var t=arguments[0],e=arguments[1];F.call(this,e),this.init(t)}function xt(){}function Et(){}function Mt(){this._shell=null,this._holes=null;var t=arguments[0],e=arguments[1],r=arguments[2];if(F.call(this,r),null===t&&(t=this.getFactory().createLinearRing()),null===e&&(e=[]),F.hasNullElements(e))throw new n("holes must not contain null elements");if(t.isEmpty()&&F.hasNonEmptyElements(e))throw new n("shell is empty but holes are not");this._shell=t,this._holes=e}function St(){var t=arguments[0],e=arguments[1];ct.call(this,t,e)}function Tt(){if(arguments[0]instanceof Array&&arguments[1]instanceof Bt){var t=arguments[0],e=arguments[1];Tt.call(this,e.getCoordinateSequenceFactory().create(t),e)}else if(Zo(arguments[0],N)&&arguments[1]instanceof Bt){var n=arguments[0],r=arguments[1];bt.call(this,n,r),this.validateConstruction()}}function Ct(){var t=arguments[0],e=arguments[1];ct.call(this,t,e)}function Ot(){if(this._factory=null,this._isUserDataCopied=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._factory=t}}function At(){}function It(){}function Rt(){}function Pt(){}function Lt(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];Lt.call(this,t,3)}else if(Number.isInteger(arguments[0])){var e=arguments[0];for(this._coordinates=new Array(e).fill(null),s=0;s<e;s++)this._coordinates[s]=new f}else if(Zo(arguments[0],N)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;for(this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null),s=0;s<this._coordinates.length;s++)this._coordinates[s]=n.getCoordinateCopy(s)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1];this._coordinates=r,this._dimension=i,null===r&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var o=arguments[0],a=arguments[1];this._coordinates=new Array(o).fill(null),this._dimension=a;for(var s=0;s<o;s++)this._coordinates[s]=new f}}function Nt(){}function kt(t,e){return t===e||t!=t&&e!=e}function Dt(t,e,n){var r=[0],i=!1;return t.push(r),{next:function(){var o,a=r[0];return!i&&a<e.length?(o=n?[e[a],n[a]]:e[a],r[0]++):(i=!0,t.splice(t.indexOf(r),1)),{done:i,value:o}}}}function Ft(){return this._values.length}function jt(){this.map_=new ra}function Ut(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=Ut.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof zt){var t=arguments[0];this._modelType=t,t===Ut.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var e=arguments[0];this._modelType=Ut.FIXED,this.setScale(e)}else if(arguments[0]instanceof Ut){var n=arguments[0];this._modelType=n._modelType,this._scale=n._scale}}function zt(){this._name=null;var t=arguments[0];this._name=t,zt.nameToTypeMap.put(t,this)}function Bt(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,0===arguments.length)Bt.call(this,new Ut,0);else if(1===arguments.length){if(Zo(arguments[0],k)){var t=arguments[0];Bt.call(this,new Ut,0,t)}else if(arguments[0]instanceof Ut){var e=arguments[0];Bt.call(this,e,0,Bt.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];Bt.call(this,n,r,Bt.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this._precisionModel=i,this._coordinateSequenceFactory=a,this._SRID=o}}function Vt(t){this.geometryFactory=t||new Bt}function Gt(t){this.parser=new Vt(t)}function Ht(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new f,this._intPt[1]=new f,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}function qt(){Ht.apply(this)}function Wt(){if(this.p0=null,this.p1=null,0===arguments.length)Wt.call(this,new f,new f);else if(1===arguments.length){var t=arguments[0];Wt.call(this,t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0=e,this.p1=n}else if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3];Wt.call(this,new f(r,i),new f(o,a))}}function Yt(){}function Xt(){if(this._matrix=null,0===arguments.length)this._matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(st.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var t=arguments[0];Xt.call(this),this.set(t)}else if(arguments[0]instanceof Xt){var e=arguments[0];Xt.call(this),this._matrix[Yt.INTERIOR][Yt.INTERIOR]=e._matrix[Yt.INTERIOR][Yt.INTERIOR],this._matrix[Yt.INTERIOR][Yt.BOUNDARY]=e._matrix[Yt.INTERIOR][Yt.BOUNDARY],this._matrix[Yt.INTERIOR][Yt.EXTERIOR]=e._matrix[Yt.INTERIOR][Yt.EXTERIOR],this._matrix[Yt.BOUNDARY][Yt.INTERIOR]=e._matrix[Yt.BOUNDARY][Yt.INTERIOR],this._matrix[Yt.BOUNDARY][Yt.BOUNDARY]=e._matrix[Yt.BOUNDARY][Yt.BOUNDARY],this._matrix[Yt.BOUNDARY][Yt.EXTERIOR]=e._matrix[Yt.BOUNDARY][Yt.EXTERIOR],this._matrix[Yt.EXTERIOR][Yt.INTERIOR]=e._matrix[Yt.EXTERIOR][Yt.INTERIOR],this._matrix[Yt.EXTERIOR][Yt.BOUNDARY]=e._matrix[Yt.EXTERIOR][Yt.BOUNDARY],this._matrix[Yt.EXTERIOR][Yt.EXTERIOR]=e._matrix[Yt.EXTERIOR][Yt.EXTERIOR]}}function Zt(){this._areaBasePt=null,this._triangleCent3=new f,this._areasum2=0,this._cg3=new f,this._lineCentSum=new f,this._totalLength=0,this._ptCount=0,this._ptCentSum=new f;var t=arguments[0];this._areaBasePt=null,this.add(t)}function Kt(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t}function Qt(){}function Jt(){}function $t(t){this.message=t||""}function te(){this.array_=[]}function ee(){this.treeSet=new ot,this.list=new b}function ne(){if(this._geomFactory=null,this._inputPts=null,1===arguments.length){var t=arguments[0];ne.call(this,ne.extractCoordinates(t),t.getFactory())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._inputPts=ee.filterCoordinates(e),this._geomFactory=n}}function re(){this._origin=null;var t=arguments[0];this._origin=t}function ie(){this._factory=null,this._interiorPoint=null,this._maxWidth=0;var t=arguments[0];this._factory=t.getFactory(),this.add(t)}function oe(){this._poly=null,this._centreY=null,this._hiY=r.MAX_VALUE,this._loY=-r.MAX_VALUE;var t=arguments[0];this._poly=t,this._hiY=t.getEnvelopeInternal().getMaxY(),this._loY=t.getEnvelopeInternal().getMinY(),this._centreY=ie.avg(this._loY,this._hiY)}function ae(){this._centroid=null,this._minDistance=r.MAX_VALUE,this._interiorPoint=null;var t=arguments[0];this._centroid=t.getCentroid().getCoordinate(),this.addInterior(t),null===this._interiorPoint&&this.addEndpoints(t)}function se(){this._centroid=null,this._minDistance=r.MAX_VALUE,this._interiorPoint=null;var t=arguments[0];this._centroid=t.getCentroid().getCoordinate(),this.add(t)}function le(){this.selectedSegment=new Wt}function ue(){this._items=new b,this._subnode=new Array(2).fill(null)}function ce(){if(this.min=null,this.max=null,0===arguments.length)this.min=0,this.max=0;else if(1===arguments.length){var t=arguments[0];this.init(t.min,t.max)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.init(e,n)}}function fe(){}function he(){this._pt=0,this._level=0,this._interval=null;var t=arguments[0];this.computeKey(t)}function de(){ue.apply(this),this._interval=null,this._centre=null,this._level=null;var t=arguments[0],e=arguments[1];this._interval=t,this._level=e,this._centre=(t.getMin()+t.getMax())/2}function pe(){}function me(){ue.apply(this)}function ge(){this._root=null,this._minExtent=1,this._root=new me}function ve(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=r}function ye(){}function be(){}function _e(){}function we(){}function xe(){this._ring=null,this._tree=null,this._crossings=0,this._interval=new ce;var t=arguments[0];this._ring=t,this.buildIndex()}function Ee(){le.apply(this),this.mcp=null,this.p=null;var t=arguments[0],e=arguments[1];this.mcp=t,this.p=e}function Me(){}function Se(){this.p0=null,this.p1=null,this.p2=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.p0=t,this.p1=e,this.p2=n}function Te(){this._input=null,this._extremalPts=null,this._centre=null,this._radius=0;var t=arguments[0];this._input=t}function Ce(){if(this._inputGeom=null,this._isConvex=null,this._convexHullPts=null,this._minBaseSeg=new Wt,this._minWidthPt=null,this._minPtIndex=null,this._minWidth=0,1===arguments.length){var t=arguments[0];Ce.call(this,t,!1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._inputGeom=e,this._isConvex=n}}function Oe(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1}function Ae(){this._inputGeom=null,this._distanceTolerance=null;var t=arguments[0];this._inputGeom=t}function Ie(){Oe.apply(this),this.distanceTolerance=null;var t=arguments[0];this.distanceTolerance=t}function Re(){this._orig=null,this._sym=null,this._next=null;var t=arguments[0];this._orig=t}function Pe(){this._isMarked=!1;var t=arguments[0];Re.call(this,t)}function Le(){this._vertexMap=new jt}function Ne(){this._isStart=!1;var t=arguments[0];Pe.call(this,t)}function ke(){Le.apply(this)}function De(){this._result=null,this._factory=null,this._graph=null,this._lines=new b,this._nodeEdgeStack=new te,this._ringStartEdge=null,this._graph=new ke}function Fe(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()}function je(){if(this._boundaryRule=U.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new n("Rule must be non-null");this._boundaryRule=t}}function Ue(){}function ze(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e}function Be(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var t=arguments[0],e=arguments[1];this._eventType=Be.DELETE,this._xValue=t,this._insertEvent=e}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._eventType=Be.INSERT,this._label=n,this._xValue=r,this._obj=i}}function Ve(){}function Ge(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n}function He(){Ve.apply(this),this.events=new b,this.nOverlaps=null}function qe(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this.init(1),this.location[Ue.ON]=e}else if(arguments[0]instanceof qe){var n=arguments[0];if(this.init(n.location.length),null!==n)for(var r=0;r<this.location.length;r++)this.location[r]=n.location[r]}}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this.init(3),this.location[Ue.ON]=i,this.location[Ue.LEFT]=o,this.location[Ue.RIGHT]=a}}function We(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new qe(t),this.elt[1]=new qe(t)}else if(arguments[0]instanceof We){var e=arguments[0];this.elt[0]=new qe(e.elt[0]),this.elt[1]=new qe(e.elt[1])}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.elt[0]=new qe(Yt.NONE),this.elt[1]=new qe(Yt.NONE),this.elt[n].setLocation(r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this.elt[0]=new qe(i,o,a),this.elt[1]=new qe(i,o,a)}else if(4===arguments.length){var s=arguments[0],l=arguments[1],u=arguments[2],c=arguments[3];this.elt[0]=new qe(Yt.NONE,Yt.NONE,Yt.NONE),this.elt[1]=new qe(Yt.NONE,Yt.NONE,Yt.NONE),this.elt[s].setLocations(l,u,c)}}function Ye(){}function Xe(){}function Ze(){this._min=r.POSITIVE_INFINITY,this._max=r.NEGATIVE_INFINITY}function Ke(){}function Qe(){Ze.apply(this),this._item=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._min=t,this._max=e,this._item=n}function Je(){Ze.apply(this),this._node1=null,this._node2=null;var t=arguments[0],e=arguments[1];this._node1=t,this._node2=e,this.buildExtent(this._node1,this._node2)}function $e(){this._leaves=new b,this._root=null,this._level=0}function tn(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}}function en(){this._items=new b}function nn(){this._index=null;var t=arguments[0];if(!(Zo(t,Et)||t instanceof Tt))throw new n("Argument must be Polygonal or LinearRing");this._index=new on(t)}function rn(){this._counter=null;var t=arguments[0];this._counter=t}function on(){this._index=new $e;var t=arguments[0];this.init(t)}function an(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new f(t),this.segmentIndex=e,this.dist=n}function sn(){this._nodeMap=new nt,this.edge=null;var t=arguments[0];this.edge=t}function ln(){}function un(){this.e=null,this.pts=null,this.startIndex=null;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new ln;this.startIndex=e.getChainStartIndices(this.pts)}function cn(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var t=0;t<2;t++)for(var e=0;e<3;e++)this._depth[t][e]=cn.NULL_VALUE}function fn(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}}function hn(){if(fn.apply(this),this.pts=null,this._env=null,this.eiList=new sn(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new cn,this._depthDelta=0,1===arguments.length){var t=arguments[0];hn.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.pts=e,this._label=n}}function dn(){fn.apply(this),this._coord=null,this._edges=null;var t=arguments[0],e=arguments[1];this._coord=t,this._edges=e,this._label=new We(0,Yt.NONE)}function pn(){this.nodeMap=new nt,this.nodeFact=null;var t=arguments[0];this.nodeFact=t}function mn(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];mn.call(this,e,n,r,null)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];mn.call(this,i),this.init(o,a),this._label=s}}function gn(){if(this.pt=null,1===arguments.length){var t=arguments[0];l.call(this,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];l.call(this,gn.msgWithCoord(e,n)),this.name="TopologyException",this.pt=new f(n)}}function vn(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var t=arguments[0],e=arguments[1];if(mn.call(this,t),this._isForward=e,e)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var n=t.getNumPoints()-1;this.init(t.getCoordinate(n),t.getCoordinate(n-1))}this.computeDirectedLabel()}function yn(){}function bn(){if(this._edges=new b,this._nodes=null,this._edgeEndList=new b,0===arguments.length)this._nodes=new pn(new yn);else if(1===arguments.length){var t=arguments[0];this._nodes=new pn(t)}}function _n(){if(bn.apply(this),this._parentGeom=null,this._lineEdgeMap=new jt,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new je,2===arguments.length){var t=arguments[0],e=arguments[1];_n.call(this,t,e,U.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._argIndex=n,this._parentGeom=r,this._boundaryNodeRule=i,null!==r&&this.add(r)}}function wn(){this._items=new b,this._subnode=new Array(4).fill(null)}function xn(){this._pt=new f,this._level=0,this._env=null;var t=arguments[0];this.computeKey(t)}function En(){wn.apply(this),this._env=null,this._centrex=null,this._centrey=null,this._level=null;var t=arguments[0],e=arguments[1];this._env=t,this._level=e,this._centrex=(t.getMinX()+t.getMaxX())/2,this._centrey=(t.getMinY()+t.getMaxY())/2}function Mn(){wn.apply(this)}function Sn(){}function Tn(){this._root=null,this._minExtent=1,this._root=new Mn}function Cn(){}function On(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e}function An(){this._size=null,this._items=null,this._size=0,this._items=new b,this._items.add(null)}function In(){this.normalOrder=null;var t=arguments[0];this.normalOrder=t}function Rn(){if(this._childBoundables=new b,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}}function Pn(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()}function Ln(){if(this._root=null,this._built=!1,this._itemBoundables=new b,this._nodeCapacity=null,0===arguments.length)Ln.call(this,Ln.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];c.isTrue(t>1,"Node capacity must be greater than 1"),this._nodeCapacity=t}}function Nn(){}function kn(){if(0===arguments.length)kn.call(this,kn.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];Ln.call(this,t)}}function Dn(){var t=arguments[0];Rn.call(this,t)}function Fn(t){this.geometryFactory=t||new Bt}function jn(t){this.geometryFactory=t||new Bt,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Fn(this.geometryFactory)}function Un(){this.parser=new Fn(this.geometryFactory)}function zn(t){this.geometryFactory=t||new Bt,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Vt(this.geometryFactory)}function Bn(t){return[t.x,t.y]}function Vn(t,e){this.geometryFactory=t||new Bt,this.ol=e||"undefined"!=typeof ol&&ol}function Gn(){}function Hn(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._segString=t,this.coord=new f(e),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))}function qn(){this._nodeMap=new nt,this._edge=null;var t=arguments[0];this._edge=t}function Wn(){this._nodeList=null,this._edge=null,this._nodeIt=null,this._currNode=null,this._nextNode=null,this._currSegIndex=0;var t=arguments[0];this._nodeList=t,this._edge=t.getEdge(),this._nodeIt=t.iterator(),this.readNextNode()}function Yn(){}function Xn(){}function Zn(){}function Kn(){this._nodeList=new qn(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e}function Qn(){this._overlapSeg1=new Wt,this._overlapSeg2=new Wt}function Jn(){}function $n(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}}function tr(){if(this._monoChains=new b,this._index=new kn,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,0===arguments.length);else if(1===arguments.length){var t=arguments[0];$n.call(this,t)}}function er(){Qn.apply(this),this._si=null;var t=arguments[0];this._si=t}function nr(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];nr.call(this,t,e,0,0)}else if(4===arguments.length){var n=arguments[0],r=arguments[1];this._noder=n,this._scaleFactor=r,this._isScaled=!this.isIntegerPrecision()}}function rr(){if(this._inputGeom=null,this._isClosedEndpointsInInterior=!0,this._nonSimpleLocation=null,1===arguments.length){var t=arguments[0];this._inputGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._inputGeom=e,this._isClosedEndpointsInInterior=!n.isInBoundary(2)}}function ir(){this.pt=null,this.isClosed=null,this.degree=null;var t=arguments[0];this.pt=t,this.isClosed=!1,this.degree=0}function or(){if(this._quadrantSegments=or.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=or.CAP_ROUND,this._joinStyle=or.JOIN_ROUND,this._mitreLimit=or.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=or.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setQuadrantSegments(t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.setQuadrantSegments(e),this.setEndCapStyle(n)}else if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(i),this.setJoinStyle(o),this.setMitreLimit(a)}}function ar(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}function sr(){this.array_=[]}function lr(){this._finder=null,this._dirEdgeList=new b,this._nodes=new b,this._rightMostCoord=null,this._env=null,this._finder=new ar}function ur(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new b,this._pts=new b,this._label=new We(Yt.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new b,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()}function cr(){var t=arguments[0],e=arguments[1];ur.call(this,t,e)}function fr(){var t=arguments[0],e=arguments[1];ur.call(this,t,e)}function hr(){this._geometryFactory=null,this._shellList=new b;var t=arguments[0];this._geometryFactory=t}function dr(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=A.COUNTERCLOCKWISE;var t=arguments[0];this._inputLine=t}function pr(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new b}function mr(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Wt,this._seg1=new Wt,this._offset0=new Wt,this._offset1=new Wt,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._precisionModel=t,this._bufParams=e,this._li=new qt,this._filletAngleQuantum=Math.PI/2/e.getQuadrantSegments(),e.getQuadrantSegments()>=8&&e.getJoinStyle()===or.JOIN_ROUND&&(this._closingSegLengthFactor=mr.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)}function gr(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e}function vr(){this._subgraphs=null,this._seg=new Wt;var t=arguments[0];this._subgraphs=t}function yr(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new Wt(t),this._leftDepth=e}function br(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new b;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n}function _r(){this._geom=null;var t=arguments[0];this._geom=t}function wr(){this._edgeMap=new nt,this._edgeList=null,this._ptInAreaLocation=[Yt.NONE,Yt.NONE]}function xr(){wr.apply(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}function Er(){yn.apply(this)}function Mr(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=Mr.orientation(t)}function Sr(){this._edges=new b,this._ocaMap=new nt}function Tr(){}function Cr(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t}function Or(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Sr;var t=arguments[0];this._bufParams=t}function Ar(){this._li=new qt,this._segStrings=null;var t=arguments[0];this._segStrings=t}function Ir(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],r=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=r,e<=0)throw new n("Scale factor must be non-zero");1!==e&&(this._pt=new f(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new f,this._p1Scaled=new f),this.initCorners(this._pt)}function Rr(){this._index=null;var t=arguments[0];this._index=t}function Pr(){le.apply(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._hotPixel=t,this._parentEdge=e,this._hotPixelVertexIndex=n}function Lr(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new b}function Nr(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new qt,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()}function kr(){if(this._argGeom=null,this._distance=null,this._bufParams=new or,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}}function Dr(){this._comps=null;var t=arguments[0];this._comps=t}function Fr(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var t=arguments[0],e=arguments[1];Fr.call(this,t,Fr.INSIDE_AREA,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._component=n,this._segIndex=r,this._pt=i}}function jr(){this._pts=null;var t=arguments[0];this._pts=t}function Ur(){this._locations=null;var t=arguments[0];this._locations=t}function zr(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new je,this._minDistanceLocation=null,this._minDistance=r.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];zr.call(this,t,e,0)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=i,this._terminateDistance=o}}function Br(){this._factory=null,this._directedEdges=new b,this._coordinates=null;var t=arguments[0];this._factory=t}function Vr(){this._isMarked=!1,this._isVisited=!1,this._data=null}function Gr(){Vr.apply(this),this._parentEdge=null,this._from=null,this._to=null,this._p0=null,this._p1=null,this._sym=null,this._edgeDirection=null,this._quadrant=null,this._angle=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._from=t,this._to=e,this._edgeDirection=r,this._p0=t.getCoordinate(),this._p1=n;var i=this._p1.x-this._p0.x,o=this._p1.y-this._p0.y;this._quadrant=ye.quadrant(i,o),this._angle=Math.atan2(o,i)}function Hr(){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];Gr.call(this,t,e,n,r)}function qr(){if(Vr.apply(this),this._dirEdge=null,0===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];this.setDirectedEdges(t,e)}}function Wr(){this._outEdges=new b,this._sorted=!1}function Yr(){if(Vr.apply(this),this._pt=null,this._deStar=null,1===arguments.length){var t=arguments[0];Yr.call(this,t,new Wr)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._pt=e,this._deStar=n}}function Xr(){qr.apply(this),this._line=null;var t=arguments[0];this._line=t}function Zr(){this._nodeMap=new nt}function Kr(){this._edges=new K,this._dirEdges=new K,this._nodeMap=new Zr}function Qr(){Kr.apply(this)}function Jr(){this._graph=new Qr,this._mergedLineStrings=null,this._factory=null,this._edgeStrings=null}function $r(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e}function ti(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new b,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null}function ei(){this._li=new qt,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t}function ni(){this._nv=null;var t=arguments[0];this._nv=new ei(ni.toSegmentStrings(t))}function ri(){this._mapOp=null;var t=arguments[0];this._mapOp=t}function ii(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new b,this._resultLineList=new b;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n}function oi(){this._op=null,this._geometryFactory=null,this._resultPointList=new b;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e}function ai(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Wt,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof bt&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];ai.call(this,t.getCoordinates(),e)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this._srcPts=n,this._isClosed=ai.isClosed(n),this._snapTolerance=r}}function si(){this._srcGeom=null;var t=arguments[0];this._srcGeom=t}function li(){if(Oe.apply(this),this._snapTolerance=null,this._snapPts=null,this._isSelfSnap=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._snapTolerance=t,this._snapPts=e}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._snapTolerance=n,this._snapPts=r,this._isSelfSnap=i}}function ui(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null}function ci(){this._commonCoord=null,this._ccFilter=new fi}function fi(){this._commonBitsX=new ui,this._commonBitsY=new ui}function hi(){this.trans=null;var t=arguments[0];this.trans=t}function di(){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null;var t=arguments[0],e=arguments[1];this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()}function pi(){this._geom=new Array(2).fill(null);var t=arguments[0],e=arguments[1];this._geom[0]=t,this._geom[1]=e}function mi(){if(this._li=new qt,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new _n(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];mi.call(this,e,n,U.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];r.getPrecisionModel().compareTo(i.getPrecisionModel())>=0?this.setComputationPrecision(r.getPrecisionModel()):this.setComputationPrecision(i.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new _n(0,r,o),this._arg[1]=new _n(1,i,o)}}function gi(){this._ptLocator=new je,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Sr,this._resultPolyList=new b,this._resultLineList=new b,this._resultPointList=new b;var t=arguments[0],e=arguments[1];mi.call(this,t,e),this._graph=new bn(new Er),this._geomFact=t.getFactory()}function vi(){this._edgeRing=null,this._next=null,this._label=-1;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];Gr.call(this,t,e,n,r)}function yi(){qr.apply(this),this._line=null;var t=arguments[0];this._line=t}function bi(){this._factory=null,this._deList=new b,this._lowestEdge=null,this._ring=null,this._ringPts=null,this._holes=null,this._shell=null,this._isHole=null,this._isProcessed=!1,this._isIncludedSet=!1,this._isIncluded=!1;var t=arguments[0];this._factory=t}function _i(){}function wi(){Kr.apply(this),this._factory=null;var t=arguments[0];this._factory=t}function xi(){if(this._lineStringAdder=new Ei(this),this._graph=null,this._dangles=new b,this._cutEdges=new b,this._invalidRingLines=new b,this._holeList=null,this._shellList=null,this._polyList=null,this._isCheckingRingsValid=!0,this._extractOnlyPolygonal=null,this._geomFactory=null,0===arguments.length)xi.call(this,!1);else if(1===arguments.length){var t=arguments[0];this._extractOnlyPolygonal=t}}function Ei(){this.p=null;var t=arguments[0];this.p=t}function Mi(){}function Si(){if(this._edgeEnds=new b,1===arguments.length){var t=arguments[0];Si.call(this,null,t)}else if(2===arguments.length){arguments[0];var e=arguments[1];mn.call(this,e.getEdge(),e.getCoordinate(),e.getDirectedCoordinate(),new We(e.getLabel())),this.insert(e)}}function Ti(){wr.apply(this)}function Ci(){var t=arguments[0],e=arguments[1];dn.call(this,t,e)}function Oi(){yn.apply(this)}function Ai(){this._li=new qt,this._ptLocator=new je,this._arg=null,this._nodes=new pn(new Oi),this._im=null,this._isolatedEdges=new b,this._invalidPoint=null;var t=arguments[0];this._arg=t}function Ii(){this._rectEnv=null;var t=arguments[0];this._rectEnv=t.getEnvelopeInternal()}function Ri(){this._li=new qt,this._rectEnv=null,this._diagUp0=null,this._diagUp1=null,this._diagDown0=null,this._diagDown1=null;var t=arguments[0];this._rectEnv=t,this._diagUp0=new f(t.getMinX(),t.getMinY()),this._diagUp1=new f(t.getMaxX(),t.getMaxY()),this._diagDown0=new f(t.getMinX(),t.getMaxY()),this._diagDown1=new f(t.getMaxX(),t.getMinY())}function Pi(){this._isDone=!1}function Li(){this._rectangle=null,this._rectEnv=null;var t=arguments[0];this._rectangle=t,this._rectEnv=t.getEnvelopeInternal()}function Ni(){Pi.apply(this),this._rectEnv=null,this._intersects=!1;var t=arguments[0];this._rectEnv=t}function ki(){Pi.apply(this),this._rectSeq=null,this._rectEnv=null,this._containsPoint=!1;var t=arguments[0];this._rectSeq=t.getExteriorRing().getCoordinateSequence(),this._rectEnv=t.getEnvelopeInternal()}function Di(){Pi.apply(this),this._rectEnv=null,this._rectIntersector=null,this._hasIntersection=!1,this._p0=new f,this._p1=new f;var t=arguments[0];this._rectEnv=t.getEnvelopeInternal(),this._rectIntersector=new Ri(this._rectEnv)}function Fi(){if(this._relate=null,2===arguments.length){var t=arguments[0],e=arguments[1];mi.call(this,t,e),this._relate=new Ai(this._arg)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];mi.call(this,n,r,i),this._relate=new Ai(this._arg)}}function ji(){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null;var t=arguments[0];this._geomFactory=ji.extractFactory(t),this._inputGeoms=t}function Ui(){this._pointGeom=null,this._otherGeom=null,this._geomFact=null;var t=arguments[0],e=arguments[1];this._pointGeom=t,this._otherGeom=e,this._geomFact=e.getFactory()}function zi(){this._geometryType=null,this._comps=null;var t=arguments[0],e=arguments[1];this._geometryType=t,this._comps=e}function Bi(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new b)}function Vi(){if(this._polygons=new b,this._lines=new b,this._points=new b,this._geomFact=null,1===arguments.length){if(Zo(arguments[0],p)){var t=arguments[0];this.extract(t)}else if(arguments[0]instanceof F){var e=arguments[0];this.extract(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geomFact=r,this.extract(n)}}function Gi(){this._geometryFactory=new Bt,this._geomGraph=null,this._disconnectedRingcoord=null;var t=arguments[0];this._geomGraph=t}function Hi(){this._nodes=new pn(new Oi)}function qi(){this._li=new qt,this._geomGraph=null,this._nodeGraph=new Hi,this._invalidPoint=null;var t=arguments[0];this._geomGraph=t}function Wi(){this._graph=null,this._rings=new b,this._totalEnv=new w,this._index=null,this._nestedPt=null;var t=arguments[0];this._graph=t}function Yi(){if(this._errorType=null,this._pt=null,1===arguments.length){var t=arguments[0];Yi.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._errorType=e,null!==n&&(this._pt=n.copy())}}function Xi(){this._parentGeometry=null,this._isSelfTouchingRingFormingHoleValid=!1,this._validErr=null;var t=arguments[0];this._parentGeometry=t}function Zi(){Ot.CoordinateOperation.apply(this),this._targetPM=null,this._removeCollapsed=!0;var t=arguments[0],e=arguments[1];this._targetPM=t,this._removeCollapsed=e}function Ki(){this._targetPM=null,this._removeCollapsed=!0,this._changePrecisionModel=!1,this._isPointwise=!1;var t=arguments[0];this._targetPM=t}function Qi(){this._pts=null,this._usePt=null,this._distanceTolerance=null,this._seg=new Wt;var t=arguments[0];this._pts=t}function Ji(){this._inputGeom=null,this._distanceTolerance=null,this._isEnsureValidTopology=!0;var t=arguments[0];this._inputGeom=t}function $i(){Oe.apply(this),this._isEnsureValidTopology=!0,this._distanceTolerance=null;var t=arguments[0],e=arguments[1];this._isEnsureValidTopology=t,this._distanceTolerance=e}function to(){if(this._parent=null,this._index=null,2===arguments.length){var t=arguments[0],e=arguments[1];to.call(this,t,e,null,-1)}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];Wt.call(this,n,r),this._parent=i,this._index=o}}function eo(){if(this._parentLine=null,this._segs=null,this._resultSegs=new b,this._minimumSize=null,1===arguments.length){var t=arguments[0];eo.call(this,t,2)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._parentLine=e,this._minimumSize=n,this.init()}}function no(){this._index=new Tn}function ro(){this._querySeg=null,this._items=new b;var t=arguments[0];this._querySeg=t}function io(){this._li=new qt,this._inputIndex=new no,this._outputIndex=new no,this._line=null,this._linePts=null,this._distanceTolerance=0;var t=arguments[0],e=arguments[1];this._inputIndex=t,this._outputIndex=e}function oo(){this._inputIndex=new no,this._outputIndex=new no,this._distanceTolerance=0}function ao(){this._inputGeom=null,this._lineSimplifier=new oo,this._linestringMap=null;var t=arguments[0];this._inputGeom=t}function so(){Oe.apply(this),this._linestringMap=null;var t=arguments[0];this._linestringMap=t}function lo(){this.tps=null;var t=arguments[0];this.tps=t}function uo(){this._seg=null,this._segLen=null,this._splitPt=null,this._minimumLen=0;var t=arguments[0];this._seg=t,this._segLen=t.getLength()}function co(){}function fo(){}function ho(){}function po(){if(this._p=null,1===arguments.length){var t=arguments[0];this._p=new f(t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._p=new f(e,n)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._p=new f(r,i,o)}}function mo(){this._isOnConstraint=null,this._constraint=null;var t=arguments[0];po.call(this,t)}function go(){this._rot=null,this._vertex=null,this._next=null,this._data=null}function vo(){this._subdiv=null,this._isUsingTolerance=!1;var t=arguments[0];this._subdiv=t,this._isUsingTolerance=t.getTolerance()>0}function yo(){}function bo(){this._subdiv=null,this._lastEdge=null;var t=arguments[0];this._subdiv=t,this.init()}function _o(){if(this._seg=null,1===arguments.length){if("string"==typeof arguments[0]){var t=arguments[0];l.call(this,t)}else if(arguments[0]instanceof Wt){var e=arguments[0];l.call(this,"Locate failed to converge (at edge: "+e+").  Possible causes include invalid Subdivision topology or very close sites"),this._seg=new Wt(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];l.call(this,_o.msgWithSpatial(n,r)),this._seg=new Wt(r)}}function wo(){}function xo(){this._visitedKey=0,this._quadEdges=new b,this._startingEdge=null,this._tolerance=null,this._edgeCoincidenceTolerance=null,this._frameVertex=new Array(3).fill(null),this._frameEnv=null,this._locator=null,this._seg=new Wt,this._triEdges=new Array(3).fill(null);var t=arguments[0],e=arguments[1];this._tolerance=e,this._edgeCoincidenceTolerance=e/xo.EDGE_COINCIDENCE_TOL_FACTOR,this.createFrame(t),this._startingEdge=this.initSubdiv(),this._locator=new bo(this)}function Eo(){}function Mo(){this._triList=new b}function So(){this._triList=new b}function To(){this._coordList=new _,this._triCoords=new b}function Co(){if(this._ls=null,this._data=null,2===arguments.length){var t=arguments[0],e=arguments[1];this._ls=new Wt(t,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._ls=new Wt(n,r),this._data=i}else if(6===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2],l=arguments[3],u=arguments[4],c=arguments[5];Co.call(this,new f(o,a,s),new f(l,u,c))}else if(7===arguments.length){var h=arguments[0],d=arguments[1],p=arguments[2],m=arguments[3],g=arguments[4],v=arguments[5],y=arguments[6];Co.call(this,new f(h,d,p),new f(m,g,v),y)}}function Oo(){}function Ao(){if(this._p=null,this._data=null,this._left=null,this._right=null,this._count=null,2===arguments.length){var t=arguments[0],e=arguments[1];this._p=new f(t),this._left=null,this._right=null,this._count=1,this._data=e}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._p=new f(n,r),this._left=null,this._right=null,this._count=1,this._data=i}}function Io(){if(this._root=null,this._numberOfNodes=null,this._tolerance=null,0===arguments.length)Io.call(this,0);else if(1===arguments.length){var t=arguments[0];this._tolerance=t}}function Ro(){this._tolerance=null,this._matchNode=null,this._matchDist=0,this._p=null;var t=arguments[0],e=arguments[1];this._p=t,this._tolerance=e}function Po(){this._initialVertices=null,this._segVertices=null,this._segments=new b,this._subdiv=null,this._incDel=null,this._convexHull=null,this._splitFinder=new fo,this._kdt=null,this._vertexFactory=null,this._computeAreaEnv=null,this._splitPt=null,this._tolerance=null;var t=arguments[0],e=arguments[1];this._initialVertices=new b(t),this._tolerance=e,this._kdt=new Io(e)}function Lo(){this._siteCoords=null,this._tolerance=0,this._subdiv=null}function No(){this._siteCoords=null,this._constraintLines=null,this._tolerance=0,this._subdiv=null,this._constraintVertexMap=new nt}function ko(){this._siteCoords=null,this._tolerance=0,this._subdiv=null,this._clipEnv=null,this._diagramEnv=null}function Do(){if(this._componentIndex=0,this._segmentIndex=0,this._segmentFraction=0,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._componentIndex=t._componentIndex,this._segmentIndex=t._segmentIndex,this._segmentFraction=t._segmentFraction}else if(2===arguments.length){var e=arguments[0],n=arguments[1];Do.call(this,0,e,n)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._componentIndex=r,this._segmentIndex=i,this._segmentFraction=o,this.normalize()}else if(4===arguments.length){var a=arguments[0],s=arguments[1],l=arguments[2],u=arguments[3];this._componentIndex=a,this._segmentIndex=s,this._segmentFraction=l,u&&this.normalize()}}function Fo(){if(this._linearGeom=null,this._numLines=null,this._currentLine=null,this._componentIndex=0,this._vertexIndex=0,1===arguments.length){var t=arguments[0];Fo.call(this,t,0,0)}else if(2===arguments.length){var e=arguments[0],r=arguments[1];Fo.call(this,e,r.getComponentIndex(),Fo.segmentEndVertexIndex(r))}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];if(!Zo(i,rt))throw new n("Lineal geometry is required");this._linearGeom=i,this._numLines=i.getNumGeometries(),this._componentIndex=o,this._vertexIndex=a,this.loadCurrentLine()}}function jo(){this._linearGeom=null;var t=arguments[0];this._linearGeom=t}function Uo(){this._linearGeom=null;var t=arguments[0];this._linearGeom=t}function zo(){this._geomFact=null,this._lines=new b,this._coordList=null,this._ignoreInvalidLines=!1,this._fixInvalidLines=!1,this._lastPt=null;var t=arguments[0];this._geomFact=t}function Bo(){this._line=null;var t=arguments[0];this._line=t}function Vo(){this._linearGeom=null;var t=arguments[0];this._linearGeom=t,this.checkGeometryType()}function Go(){this._linearGeom=null;var t=arguments[0];this._linearGeom=t}function Ho(){this._linearGeom=null;var t=arguments[0];this._linearGeom=t}function qo(){this._linearGeom=null;var t=arguments[0];this._linearGeom=t}function Wo(){}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(void 0===this||null===this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,r=1 in arguments?parseInt(Number(arguments[1]),10)||0:0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)e[r]=t,++r;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var Yo=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};Yo(e.prototype,{interfaces_:function(){return[]},getClass:function(){return e}}),e.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n},r.isNaN=function(t){return Number.isNaN(t)},r.doubleToLongBits=function(t){return t},r.longBitsToDouble=function(t){return t},r.isInfinite=function(t){return!Number.isFinite(t)},r.MAX_VALUE=Number.MAX_VALUE,(l.prototype=Object.create(Error.prototype)).constructor=Error;var Xo=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t};Xo(u,l),Yo(u.prototype,{interfaces_:function(){return[]},getClass:function(){return u}}),Yo(c.prototype,{interfaces_:function(){return[]},getClass:function(){return c}}),c.shouldNeverReachHere=function(){if(0===arguments.length)c.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new u("Should never reach here"+(null!==t?": "+t:""))}},c.isTrue=function(){if(1===arguments.length){var t=arguments[0];c.isTrue(t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!e)throw null===n?new u:new u(n)}},c.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];c.equals(t,e,null)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(!r.equals(n))throw new u("Expected "+n+" but encountered "+r+(null!==i?": "+i:""))}},Yo(f.prototype,{setOrdinate:function(t,e){switch(t){case f.X:this.x=e;break;case f.Y:this.y=e;break;case f.Z:this.z=e;break;default:throw new n("Invalid ordinate index: "+t)}},equals2D:function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var n=arguments[0],r=arguments[1];return!!e.equalsWithTolerance(this.x,n.x,r)&&!!e.equalsWithTolerance(this.y,n.y,r)}},getOrdinate:function(t){switch(t){case f.X:return this.x;case f.Y:return this.y;case f.Z:return this.z}throw new n("Invalid ordinate index: "+t)},equals3D:function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||r.isNaN(this.z)&&r.isNaN(t.z))},equals:function(t){return t instanceof f&&this.equals2D(t)},equalInZ:function(t,n){return e.equalsWithTolerance(this.z,t.z,n)},compareTo:function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},clone:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return c.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw t}},copy:function(){return new f(this)},toString:function(){return"("+this.x+", "+this.y+", "+this.z+")"},distance3D:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},distance:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},hashCode:function(){var t=17;return t=37*t+f.hashCode(this.x),t=37*t+f.hashCode(this.y)},setCoordinate:function(t){this.x=t.x,this.y=t.y,this.z=t.z},interfaces_:function(){return[i,o,s]},getClass:function(){return f}}),f.hashCode=function(){if(1===arguments.length&&"number"==typeof arguments[0]){var t=arguments[0],e=r.doubleToLongBits(t);return Math.trunc(e^e>>>32)}},Yo(h.prototype,{compare:function(t,e){var n=t,r=e,i=h.compare(n.x,r.x);if(0!==i)return i;var o=h.compare(n.y,r.y);return 0!==o?o:this._dimensionsToTest<=2?0:h.compare(n.z,r.z)},interfaces_:function(){return[a]},getClass:function(){return h}}),h.compare=function(t,e){return t<e?-1:t>e?1:r.isNaN(t)?r.isNaN(e)?0:-1:r.isNaN(e)?1:0},f.DimensionalComparator=h,f.serialVersionUID=0x5cbf2c235c7e5800,f.NULL_ORDINATE=r.NaN,f.X=0,f.Y=1,f.Z=2;var Zo=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1};d.prototype.hasNext=function(){},d.prototype.next=function(){},d.prototype.remove=function(){},p.prototype.add=function(){},p.prototype.addAll=function(){},p.prototype.isEmpty=function(){},p.prototype.iterator=function(){},p.prototype.size=function(){},p.prototype.toArray=function(){},p.prototype.remove=function(){},(m.prototype=new Error).name="IndexOutOfBoundsException",(g.prototype=Object.create(p.prototype)).constructor=g,g.prototype.get=function(){},g.prototype.set=function(){},g.prototype.isEmpty=function(){},(v.prototype=new Error).name="NoSuchElementException",(y.prototype=new Error).name="OperationNotSupported",(b.prototype=Object.create(g.prototype)).constructor=b,b.prototype.ensureCapacity=function(){},b.prototype.interfaces_=function(){return[g,p]},b.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},b.prototype.clear=function(){this.array_=[]},b.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},b.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},b.prototype.iterator=function(){return new Ko(this)},b.prototype.get=function(t){if(t<0||t>=this.size())throw new m;return this.array_[t]},b.prototype.isEmpty=function(){return 0===this.array_.length},b.prototype.size=function(){return this.array_.length},b.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},b.prototype.remove=function(t){for(var e=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e};var Ko=function(t){this.arrayList_=t,this.position_=0};Ko.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new v;return this.arrayList_.get(this.position_++)},Ko.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},Ko.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},Ko.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},Xo(_,b),Yo(_.prototype,{getCoordinate:function(t){return this.get(t)},addAll:function(){if(2===arguments.length&&"boolean"==typeof arguments[1]&&Zo(arguments[0],p)){for(var t=arguments[0],e=arguments[1],n=!1,r=t.iterator();r.hasNext();)this.add(r.next(),e),n=!0;return n}return b.prototype.addAll.apply(this,arguments)},clone:function(){for(var t=b.prototype.clone.call(this),e=0;e<this.size();e++)t.add(e,this.get(e).clone());return t},toCoordinateArray:function(){return this.toArray(_.coordArrayType)},add:function(){if(1===arguments.length){var t=arguments[0];b.prototype.add.call(this,t)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var e=arguments[0],n=arguments[1];return this.add(e,n,!0),!0}if(arguments[0]instanceof f&&"boolean"==typeof arguments[1]){var r=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(r))return null;b.prototype.add.call(this,r)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var i=arguments[0],o=arguments[1];return this.add(i,o),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var a=arguments[0],s=arguments[1];if(arguments[2])for(v=0;v<a.length;v++)this.add(a[v],s);else for(v=a.length-1;v>=0;v--)this.add(a[v],s);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof f){var l=arguments[0],u=arguments[1];if(!arguments[2]){var c=this.size();if(c>0){if(l>0&&this.get(l-1).equals2D(u))return null;if(l<c&&this.get(l).equals2D(u))return null}}b.prototype.add.call(this,l,u)}}else if(4===arguments.length){var h=arguments[0],d=arguments[1],p=arguments[2],m=arguments[3],g=1;p>m&&(g=-1);for(var v=p;v!==m;v+=g)this.add(h[v],d);return!0}},closeRing:function(){this.size()>0&&this.add(new f(this.get(0)),!1)},interfaces_:function(){return[]},getClass:function(){return _}}),_.coordArrayType=new Array(0).fill(null),Yo(w.prototype,{getArea:function(){return this.getWidth()*this.getHeight()},equals:function(t){if(!(t instanceof w))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},intersection:function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new w;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny;return new w(e,this._maxx<t._maxx?this._maxx:t._maxx,n,this._maxy<t._maxy?this._maxy:t._maxy)},isNull:function(){return this._maxx<this._minx},getMaxX:function(){return this._maxx},covers:function(){if(1===arguments.length){if(arguments[0]instanceof f){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof w){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},intersects:function(){if(1===arguments.length){if(arguments[0]instanceof w){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof f){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){if(arguments[0]instanceof f&&arguments[1]instanceof f){var n=arguments[0],r=arguments[1];return!this.isNull()&&(!((n.x<r.x?n.x:r.x)>this._maxx)&&(!((n.x>r.x?n.x:r.x)<this._minx)&&(!((n.y<r.y?n.y:r.y)>this._maxy)&&!((n.y>r.y?n.y:r.y)<this._miny))))}if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var i=arguments[0],o=arguments[1];return!this.isNull()&&!(i>this._maxx||i<this._minx||o>this._maxy||o<this._miny)}}},getMinY:function(){return this._miny},getMinX:function(){return this._minx},expandToInclude:function(){if(1===arguments.length){if(arguments[0]instanceof f){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof w){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},minExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},getWidth:function(){return this.isNull()?0:this._maxx-this._minx},compareTo:function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},translate:function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},toString:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},setToNull:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},getHeight:function(){return this.isNull()?0:this._maxy-this._miny},maxExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},expandBy:function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},contains:function(){if(1===arguments.length){if(arguments[0]instanceof w){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof f){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},centre:function(){return this.isNull()?null:new f((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},init:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof f){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof w){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];i<o?(this._minx=i,this._maxx=o):(this._minx=o,this._maxx=i),a<s?(this._miny=a,this._maxy=s):(this._miny=s,this._maxy=a)}},getMaxY:function(){return this._maxy},distance:function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},hashCode:function(){var t=17;return t=37*t+f.hashCode(this._minx),t=37*t+f.hashCode(this._maxx),t=37*t+f.hashCode(this._miny),t=37*t+f.hashCode(this._maxy)},interfaces_:function(){return[i,s]},getClass:function(){return w}}),w.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=Math.min(o.x,a.x),l=Math.max(o.x,a.x),u=Math.min(r.x,i.x),c=Math.max(r.x,i.x);return!(u>l||c<s||(s=Math.min(o.y,a.y),l=Math.max(o.y,a.y),u=Math.min(r.y,i.y),c=Math.max(r.y,i.y),u>l||c<s))}},w.serialVersionUID=0x51845cd552189800,Xo(E,x),Yo(E.prototype,{interfaces_:function(){return[]},getClass:function(){return E}}),M.prototype.append=function(t){this.str+=t},M.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},M.prototype.toString=function(t){return this.str},S.prototype.intValue=function(){return this.value},S.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},S.isNaN=function(t){return Number.isNaN(t)},T.isWhitespace=function(t){return t<=32&&t>=0||127==t},T.toUpperCase=function(t){return t.toUpperCase()},Yo(C.prototype,{le:function(t){return this._hi<t._hi||this._hi===t._hi&&this._lo<=t._lo},extractSignificantDigits:function(t,e){var n=this.abs(),r=C.magnitude(n._hi),i=C.TEN.pow(r);(n=n.divide(i)).gt(C.TEN)?(n=n.divide(C.TEN),r+=1):n.lt(C.ONE)&&(n=n.multiply(C.TEN),r-=1);for(var o=r+1,a=new M,s=C.MAX_PRINT_DIGITS-1,l=0;l<=s;l++){t&&l===o&&a.append(".");var u=Math.trunc(n._hi);if(u<0)break;var c=!1,f=0;u>9?(c=!0,f="9"):f="0"+u,a.append(f),n=n.subtract(C.valueOf(u)).multiply(C.TEN),c&&n.selfAdd(C.TEN);var h=!0,d=C.magnitude(n._hi);if(d<0&&Math.abs(d)>=s-l&&(h=!1),!h)break}return e[0]=r,a.toString()},sqr:function(){return this.multiply(this)},doubleValue:function(){return this._hi+this._lo},subtract:function(){if(arguments[0]instanceof C){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},equals:function(){if(1===arguments.length&&arguments[0]instanceof C){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},isZero:function(){return 0===this._hi&&0===this._lo},selfSubtract:function(){if(arguments[0]instanceof C){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},getSpecialNumberString:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},min:function(t){return this.le(t)?this:t},selfDivide:function(){if(1===arguments.length){if(arguments[0]instanceof C){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,a=null,s=null,l=null,u=null,c=null,f=null;return l=this._hi/n,u=C.SPLIT*l,i=u-l,f=C.SPLIT*n,i=u-i,o=l-i,a=f-n,c=l*n,a=f-a,s=n-a,f=i*a-c+i*s+o*a+o*s,u=(this._hi-c-f+this._lo-l*r)/n,f=l+u,this._hi=f,this._lo=l-f+u,this}},dump:function(){return"DD<"+this._hi+", "+this._lo+">"},divide:function(){if(arguments[0]instanceof C){var t=arguments[0],e=null,n=null,i=null,o=null,a=null,s=null,l=null,u=null;return n=(a=this._hi/t._hi)-(e=(s=C.SPLIT*a)-(e=s-a)),u=e*(i=(u=C.SPLIT*t._hi)-(i=u-t._hi))-(l=a*t._hi)+e*(o=t._hi-i)+n*i+n*o,new C(u=a+(s=(this._hi-l-u+this._lo-a*t._lo)/t._hi),a-u+s)}if("number"==typeof arguments[0]){var c=arguments[0];return r.isNaN(c)?C.createNaN():C.copy(this).selfDivide(c,0)}},ge:function(t){return this._hi>t._hi||this._hi===t._hi&&this._lo>=t._lo},pow:function(t){if(0===t)return C.valueOf(1);var e=new C(this),n=C.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(e),(r/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},ceil:function(){if(this.isNaN())return C.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new C(t,e)},compareTo:function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},rint:function(){return this.isNaN()?this:this.add(.5).floor()},setValue:function(){if(arguments[0]instanceof C){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},max:function(t){return this.ge(t)?this:t},sqrt:function(){if(this.isZero())return C.valueOf(0);if(this.isNegative())return C.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=C.valueOf(e),r=this.subtract(n.sqr())._hi*(.5*t);return n.add(r)},selfAdd:function(){if(1===arguments.length){if(arguments[0]instanceof C){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,r=null,i=null,o=null,a=null,s=null;return i=this._hi+e,a=i-this._hi,o=i-a,o=e-a+(this._hi-o),s=o+this._lo,n=i+s,r=s+(i-n),this._hi=n+r,this._lo=r+(n-this._hi),this}}else if(2===arguments.length){var l=arguments[0],u=arguments[1],n=null,r=null,c=null,f=null,i=null,o=null,a=null,s=null;i=this._hi+l,c=this._lo+u,o=i-(a=i-this._hi),f=c-(s=c-this._lo);var h=(n=i+(a=(o=l-a+(this._hi-o))+c))+(a=(f=u-s+(this._lo-f))+(r=a+(i-n))),d=a+(n-h);return this._hi=h,this._lo=d,this}},selfMultiply:function(){if(1===arguments.length){if(arguments[0]instanceof C){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,a=null,s=null,l=null,u=null;i=(l=C.SPLIT*this._hi)-this._hi,u=C.SPLIT*n,i=l-i,o=this._hi-i,a=u-n;var c=(l=this._hi*n)+(u=i*(a=u-a)-l+i*(s=n-a)+o*a+o*s+(this._hi*r+this._lo*n)),f=u+(i=l-c);return this._hi=c,this._lo=f,this}},selfSqr:function(){return this.selfMultiply(this)},floor:function(){if(this.isNaN())return C.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new C(t,e)},negate:function(){return this.isNaN()?this:new C(-this._hi,-this._lo)},clone:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return null;throw t}},multiply:function(){if(arguments[0]instanceof C){var t=arguments[0];return t.isNaN()?C.createNaN():C.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return r.isNaN(e)?C.createNaN():C.copy(this).selfMultiply(e,0)}},isNaN:function(){return r.isNaN(this._hi)},intValue:function(){return Math.trunc(this._hi)},toString:function(){var t=C.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},toStandardNotation:function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),r=e[0]+1,i=n;if("."===n.charAt(0))i="0"+n;else if(r<0)i="0."+C.stringOfChar("0",-r)+n;else if(-1===n.indexOf(".")){var o=r-n.length;i=n+C.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+i:i},reciprocal:function(){var t=null,e=null,n=null,r=null,i=null,o=null,a=null,s=null;e=(i=1/this._hi)-(t=(o=C.SPLIT*i)-(t=o-i)),n=(s=C.SPLIT*this._hi)-this._hi;var l=i+(o=(1-(a=i*this._hi)-(s=t*(n=s-n)-a+t*(r=this._hi-n)+e*n+e*r)-i*this._lo)/this._hi);return new C(l,i-l+o)},toSciNotation:function(){if(this.isZero())return C.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),r=C.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new IllegalStateException("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+"."+i;return this.isNegative()?"-"+o+r:o+r},abs:function(){return this.isNaN()?C.NaN:this.isNegative()?this.negate():new C(this)},isPositive:function(){return this._hi>0||0===this._hi&&this._lo>0},lt:function(t){return this._hi<t._hi||this._hi===t._hi&&this._lo<t._lo},add:function(){if(arguments[0]instanceof C){var t=arguments[0];return C.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return C.copy(this).selfAdd(e)}},init:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof C){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}},gt:function(t){return this._hi>t._hi||this._hi===t._hi&&this._lo>t._lo},isNegative:function(){return this._hi<0||0===this._hi&&this._lo<0},trunc:function(){return this.isNaN()?C.NaN:this.isPositive()?this.floor():this.ceil()},signum:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},interfaces_:function(){return[s,i,o]},getClass:function(){return C}}),C.sqr=function(t){return C.valueOf(t).selfMultiply(t)},C.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return C.parse(t)}if("number"==typeof arguments[0])return new C(arguments[0])},C.sqrt=function(t){return C.valueOf(t).sqrt()},C.parse=function(t){for(var e=0,n=t.length;T.isWhitespace(t.charAt(e));)e++;var r=!1;if(e<n){var i=t.charAt(e);"-"!==i&&"+"!==i||(e++,"-"===i&&(r=!0))}for(var o=new C,a=0,s=0,l=0;!(e>=n);){var u=t.charAt(e);if(e++,T.isDigit(u)){var c=u-"0";o.selfMultiply(C.TEN),o.selfAdd(c),a++}else{if("."!==u){if("e"===u||"E"===u){var f=t.substring(e);try{l=S.parseInt(f)}catch(e){throw e instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+f+" in string "+t):e}break}throw new NumberFormatException("Unexpected character '"+u+"' at position "+e+" in string "+t)}s=a}}var h=o,d=a-s-l;if(0===d)h=o;else if(d>0)p=C.TEN.pow(d),h=o.divide(p);else if(d<0){var p=C.TEN.pow(-d);h=o.multiply(p)}return r?h.negate():h},C.createNaN=function(){return new C(r.NaN,r.NaN)},C.copy=function(t){return new C(t)},C.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=e&&(r+=1),r},C.stringOfChar=function(t,e){for(var n=new M,r=0;r<e;r++)n.append(t);return n.toString()},C.PI=new C(3.141592653589793,1.2246467991473532e-16),C.TWO_PI=new C(6.283185307179586,2.4492935982947064e-16),C.PI_2=new C(1.5707963267948966,6.123233995736766e-17),C.E=new C(2.718281828459045,1.4456468917292502e-16),C.NaN=new C(r.NaN,r.NaN),C.EPS=1.23259516440783e-32,C.SPLIT=134217729,C.MAX_PRINT_DIGITS=32,C.TEN=C.valueOf(10),C.ONE=C.valueOf(1),C.SCI_NOT_EXPONENT_CHAR="E",C.SCI_NOT_ZERO="0.0E0",Yo(O.prototype,{interfaces_:function(){return[]},getClass:function(){return O}}),O.orientationIndex=function(t,e,n){var r=O.orientationIndexFilter(t,e,n);if(r<=1)return r;var i=C.valueOf(e.x).selfAdd(-t.x),o=C.valueOf(e.y).selfAdd(-t.y),a=C.valueOf(n.x).selfAdd(-e.x),s=C.valueOf(n.y).selfAdd(-e.y);return i.selfMultiply(s).selfSubtract(o.selfMultiply(a)).signum()},O.signOfDet2x2=function(){if(arguments[0]instanceof C){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];return(h=t.multiply(r).selfSubtract(e.multiply(n))).signum()}if("number"==typeof arguments[0]){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],l=C.valueOf(i),u=C.valueOf(o),c=C.valueOf(a),f=C.valueOf(s),h=l.multiply(f).selfSubtract(u.multiply(c));return h.signum()}},O.intersection=function(t,e,n,r){var i=C.valueOf(r.y).selfSubtract(n.y).selfMultiply(C.valueOf(e.x).selfSubtract(t.x)),o=C.valueOf(r.x).selfSubtract(n.x).selfMultiply(C.valueOf(e.y).selfSubtract(t.y)),a=i.subtract(o),s=C.valueOf(r.x).selfSubtract(n.x).selfMultiply(C.valueOf(t.y).selfSubtract(n.y)),l=C.valueOf(r.y).selfSubtract(n.y).selfMultiply(C.valueOf(t.x).selfSubtract(n.x)),u=s.subtract(l).selfDivide(a).doubleValue(),c=C.valueOf(t.x).selfAdd(C.valueOf(e.x).selfSubtract(t.x).selfMultiply(u)).doubleValue(),h=C.valueOf(e.x).selfSubtract(t.x).selfMultiply(C.valueOf(t.y).selfSubtract(n.y)),d=C.valueOf(e.y).selfSubtract(t.y).selfMultiply(C.valueOf(t.x).selfSubtract(n.x)),p=h.subtract(d).selfDivide(a).doubleValue();return new f(c,C.valueOf(n.y).selfAdd(C.valueOf(r.y).selfSubtract(n.y).selfMultiply(p)).doubleValue())},O.orientationIndexFilter=function(t,e,n){var r=null,i=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),a=i-o;if(i>0){if(o<=0)return O.signum(a);r=i+o}else{if(!(i<0))return O.signum(a);if(o>=0)return O.signum(a);r=-i-o}var s=O.DP_SAFE_EPSILON*r;return a>=s||-a>=s?O.signum(a):2},O.signum=function(t){return t>0?1:t<0?-1:0},O.DP_SAFE_EPSILON=1e-15,Yo(A.prototype,{interfaces_:function(){return[]},getClass:function(){return A}}),A.index=function(t,e,n){return O.orientationIndex(t,e,n)},A.isCCW=function(t){var e=t.length-1;if(e<3)throw new n("Ring has fewer than 4 points, so orientation cannot be determined");for(var r=t[0],i=0,o=1;o<=e;o++){var a=t[o];a.y>r.y&&(r=a,i=o)}var s=i;do{(s-=1)<0&&(s=e)}while(t[s].equals2D(r)&&s!==i);var l=i;do{l=(l+1)%e}while(t[l].equals2D(r)&&l!==i);var u=t[s],c=t[l];if(u.equals2D(r)||c.equals2D(r)||u.equals2D(c))return!1;var f=A.index(u,r,c);return 0===f?u.x>c.x:f>0},A.RIGHT=A.CLOCKWISE=-1,A.LEFT=A.COUNTERCLOCKWISE=1,A.STRAIGHT=A.COLLINEAR=0,I.arraycopy=function(t,e,n,r,i){for(var o=0,a=e;a<e+i;a++)n[r+o]=t[a],o++},I.getProperty=function(t){return{"line.separator":"\n"}[t]},Yo(R.prototype,{getY:function(){var t=this.y/this.w;if(r.isNaN(t)||r.isInfinite(t))throw new E;return t},getX:function(){var t=this.x/this.w;if(r.isNaN(t)||r.isInfinite(t))throw new E;return t},getCoordinate:function(){var t=new f;return t.x=this.getX(),t.y=this.getY(),t},interfaces_:function(){return[]},getClass:function(){return R}}),R.intersection=function(t,e,n,i){var o=t.y-e.y,a=e.x-t.x,s=t.x*e.y-e.x*t.y,l=n.y-i.y,u=i.x-n.x,c=n.x*i.y-i.x*n.y,h=o*u-l*a,d=(a*c-u*s)/h,p=(l*s-o*c)/h;if(r.isNaN(d)||r.isInfinite(d)||r.isNaN(p)||r.isInfinite(p))throw new E;return new f(d,p)},Yo(P.prototype,{interfaces_:function(){return[]},getClass:function(){return P}}),P.log10=function(t){var e=Math.log(t);return r.isInfinite(e)?e:r.isNaN(e)?e:e/P.LOG_10},P.min=function(t,e,n,r){var i=t;return e<i&&(i=e),n<i&&(i=n),r<i&&(i=r),i},P.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}},P.wrap=function(t,e){return t<0?e- -t%e:t%e},P.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return e>(s=t)&&(s=e),n>s&&(s=n),s}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=r;return i>s&&(s=i),o>s&&(s=o),a>s&&(s=a),s}},P.average=function(t,e){return(t+e)/2},P.LOG_10=Math.log(10),Yo(L.prototype,{interfaces_:function(){return[]},getClass:function(){return L}}),L.segmentToSegment=function(t,e,n,r){if(t.equals(e))return L.pointToSegment(t,n,r);if(n.equals(r))return L.pointToSegment(r,t,e);var i=!1;if(w.intersects(t,e,n,r)){var o=(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x);if(0===o)i=!0;else{var a=(t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y),s=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,l=a/o;(l<0||l>1||s<0||s>1)&&(i=!0)}}else i=!0;return i?P.min(L.pointToSegment(t,n,r),L.pointToSegment(e,n,r),L.pointToSegment(n,t,e),L.pointToSegment(r,t,e)):0},L.pointToSegment=function(t,e,n){if(e.x===n.x&&e.y===n.y)return t.distance(e);var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),i=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;if(i<=0)return t.distance(e);if(i>=1)return t.distance(n);var o=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r;return Math.abs(o)*Math.sqrt(r)},L.pointToLinePerpendicular=function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),i=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r;return Math.abs(i)*Math.sqrt(r)},L.pointToSegmentString=function(t,e){if(0===e.length)throw new n("Line array must contain at least one vertex");for(var r=t.distance(e[0]),i=0;i<e.length-1;i++){var o=L.pointToSegment(t,e[i],e[i+1]);o<r&&(r=o)}return r},Yo(N.prototype,{setOrdinate:function(t,e,n){},size:function(){},getOrdinate:function(t,e){},getCoordinate:function(){},getCoordinateCopy:function(t){},getDimension:function(){},getX:function(t){},expandEnvelope:function(t){},copy:function(){},getY:function(t){},toCoordinateArray:function(){},interfaces_:function(){return[o]},getClass:function(){return N}}),N.X=0,N.Y=1,N.Z=2,N.M=3,Yo(k.prototype,{create:function(){1===arguments.length?arguments[0]instanceof Array||Zo(arguments[0],N):arguments.length},interfaces_:function(){return[]},getClass:function(){return k}}),Yo(D.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return D}}),Yo(F.prototype,{isGeometryCollection:function(){return this.getTypeCode()===F.TYPECODE_GEOMETRYCOLLECTION},getFactory:function(){return this._factory},getGeometryN:function(t){return this},getArea:function(){return 0},isRectangle:function(){return!1},equals:function(){if(arguments[0]instanceof F){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof F))return!1;var n=e;return this.equalsExact(n)}},equalsExact:function(t){return this===t||this.equalsExact(t,0)},geometryChanged:function(){this.apply(F.geometryChangedFilter)},geometryChangedAction:function(){this._envelope=null},equalsNorm:function(t){return null!==t&&this.norm().equalsExact(t.norm())},getLength:function(){return 0},getNumGeometries:function(){return 1},compareTo:function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getTypeCode()!==e.getTypeCode()?this.getTypeCode()-e.getTypeCode():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1],e=n;return this.getTypeCode()!==e.getTypeCode()?this.getTypeCode()-e.getTypeCode():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(n,r)}},getUserData:function(){return this._userData},getSRID:function(){return this._SRID},getEnvelope:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},checkNotGeometryCollection:function(t){if(t.getTypeCode()===F.TYPECODE_GEOMETRYCOLLECTION)throw new n("This method does not support GeometryCollection arguments")},equal:function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},norm:function(){var t=this.copy();return t.normalize(),t},getPrecisionModel:function(){return this._factory.getPrecisionModel()},getEnvelopeInternal:function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new w(this._envelope)},setSRID:function(t){this._SRID=t},setUserData:function(t){this._userData=t},compare:function(t,e){for(var n=t.iterator(),r=e.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),a=i.compareTo(o);if(0!==a)return a}return n.hasNext()?1:r.hasNext()?-1:0},hashCode:function(){return this.getEnvelopeInternal().hashCode()},isGeometryCollectionOrDerived:function(){return this.getTypeCode()===F.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===F.TYPECODE_MULTIPOINT||this.getTypeCode()===F.TYPECODE_MULTILINESTRING||this.getTypeCode()===F.TYPECODE_MULTIPOLYGON},interfaces_:function(){return[o,i,s]},getClass:function(){return F}}),F.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},F.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},F.serialVersionUID=0x799ea46522854c00,F.TYPECODE_POINT=0,F.TYPECODE_MULTIPOINT=1,F.TYPECODE_LINESTRING=2,F.TYPECODE_LINEARRING=3,F.TYPECODE_MULTILINESTRING=4,F.TYPECODE_POLYGON=5,F.TYPECODE_MULTIPOLYGON=6,F.TYPECODE_GEOMETRYCOLLECTION=7,F.TYPENAME_POINT="Point",F.TYPENAME_MULTIPOINT="MultiPoint",F.TYPENAME_LINESTRING="LineString",F.TYPENAME_LINEARRING="LinearRing",F.TYPENAME_MULTILINESTRING="MultiLineString",F.TYPENAME_POLYGON="Polygon",F.TYPENAME_MULTIPOLYGON="MultiPolygon",F.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",F.geometryChangedFilter={interfaces_:function(){return[D]},filter:function(t){t.geometryChangedAction()}},Yo(j.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return j}}),Yo(U.prototype,{isInBoundary:function(t){},interfaces_:function(){return[]},getClass:function(){return U}}),Yo(z.prototype,{isInBoundary:function(t){return t%2==1},interfaces_:function(){return[U]},getClass:function(){return z}}),Yo(B.prototype,{isInBoundary:function(t){return t>0},interfaces_:function(){return[U]},getClass:function(){return B}}),Yo(V.prototype,{isInBoundary:function(t){return t>1},interfaces_:function(){return[U]},getClass:function(){return V}}),Yo(G.prototype,{isInBoundary:function(t){return 1===t},interfaces_:function(){return[U]},getClass:function(){return G}}),U.Mod2BoundaryNodeRule=z,U.EndPointBoundaryNodeRule=B,U.MultiValentEndPointBoundaryNodeRule=V,U.MonoValentEndPointBoundaryNodeRule=G,U.MOD2_BOUNDARY_RULE=new z,U.ENDPOINT_BOUNDARY_RULE=new B,U.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=new V,U.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new G,U.OGC_SFS_BOUNDARY_RULE=U.MOD2_BOUNDARY_RULE,Yo(H.prototype,{interfaces_:function(){return[]},getClass:function(){return H}}),H.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},H.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(H.indexOf(r,e)<0)return r}return null},H.scroll=function(t,e){var n=H.indexOf(e,t);if(n<0)return null;var r=new Array(t.length).fill(null);I.arraycopy(t,n,r,0,t.length-n),I.arraycopy(t,0,r,t.length-n,n),I.arraycopy(r,0,t,0,t.length)},H.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(!t[o].equals(e[o]))return!1;return!0}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(n===r)return!0;if(null===n||null===r)return!1;if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(0!==i.compare(n[o],r[o]))return!1;return!0}},H.intersection=function(t,e){for(var n=new _,r=0;r<t.length;r++)e.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()},H.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},H.removeRepeatedPoints=function(t){return H.hasRepeatedPoints(t)?new _(t,!1).toCoordinateArray():t},H.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),r=0;r<=n;r++){var i=t[r];t[r]=t[e-r],t[e-r]=i}},H.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var r=new Array(e).fill(null);if(0===e)return r;for(var i=0,n=0;n<t.length;n++)null!==t[n]&&(r[i++]=t[n]);return r},H.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new f(t[n]);return e}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=arguments[4],n=0;n<s;n++)o[a+n]=new f(r[i+n])},H.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e[t.length-n-1];if(0!==r.compareTo(i))return!1}return!0},H.envelope=function(t){for(var e=new w,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},H.toCoordinateArray=function(t){return t.toArray(H.coordArrayType)},H.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},H.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},H.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,r=t[e].compareTo(t[n]);if(0!==r)return r}return 1},H.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var r=t[n].compareTo(e[n]);if(0!==r)return r;n++}return n<e.length?-1:n<t.length?1:0},H.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},H.extract=function(t,e,n){e=P.clamp(e,0,t.length);var r=(n=P.clamp(n,-1,t.length))-e+1;n<0&&(r=0),e>=t.length&&(r=0),n<e&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,a=e;a<=n;a++)i[o++]=t[a];return i},Yo(q.prototype,{compare:function(t,e){return H.compare(t,e)},interfaces_:function(){return[a]},getClass:function(){return q}}),Yo(W.prototype,{compare:function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=H.compare(n,r);return H.isEqualReversed(n,r)?0:i},OLDcompare:function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=H.increasingDirection(n),o=H.increasingDirection(r),a=i>0?0:n.length-1,s=o>0?0:n.length-1,l=0;l<n.length;l++){var u=n[a].compareTo(r[s]);if(0!==u)return u;a+=i,s+=o}return 0},interfaces_:function(){return[a]},getClass:function(){return W}}),H.ForwardComparator=q,H.BidirectionalComparator=W,H.coordArrayType=new Array(0).fill(null),Y.prototype.get=function(){},Y.prototype.put=function(){},Y.prototype.size=function(){},Y.prototype.values=function(){},Y.prototype.entrySet=function(){},X.prototype=new Y,(Z.prototype=new p).contains=function(){},(K.prototype=new Z).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},K.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},K.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},K.prototype.remove=function(t){throw new javascript.util.OperationNotSupported},K.prototype.size=function(){return this.array_.length},K.prototype.isEmpty=function(){return 0===this.array_.length},K.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},K.prototype.iterator=function(){return new Qo(this)};var Qo=function(t){this.hashSet_=t,this.position_=0};Qo.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new v;return this.hashSet_.array_[this.position_++]},Qo.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},Qo.prototype.remove=function(){throw new y};var Jo=0;(nt.prototype=new X).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},nt.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:Jo,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=t.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=e,o}i=i.right}}while(null!==i);var a={key:t,left:null,right:null,value:e,parent:n,color:Jo,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=a:n.right=a,this.fixAfterInsertion(a),this.size_++,null},nt.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!=this.root_&&1==t.parent.color;)if(J(t)==tt(J(J(t))))1==Q(e=et(J(J(t))))?($(J(t),Jo),$(e,Jo),$(J(J(t)),1),t=J(J(t))):(t==et(J(t))&&(t=J(t),this.rotateLeft(t)),$(J(t),Jo),$(J(J(t)),1),this.rotateRight(J(J(t))));else{var e=tt(J(J(t)));1==Q(e)?($(J(t),Jo),$(e,Jo),$(J(J(t)),1),t=J(J(t))):(t==tt(J(t))&&(t=J(t),this.rotateRight(t)),$(J(t),Jo),$(J(J(t)),1),this.rotateLeft(J(J(t))))}this.root_.color=Jo},nt.prototype.values=function(){var t=new b,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=nt.successor(e));)t.add(e.value);return t},nt.prototype.entrySet=function(){var t=new K,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=nt.successor(e));)t.add(e);return t},nt.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.left==t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},nt.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.right==t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},nt.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},nt.successor=function(t){if(null===t)return null;if(null!==t.right){for(e=t.right;null!==e.left;)e=e.left;return e}for(var e=t.parent,n=t;null!==e&&n===e.right;)n=e,e=e.parent;return e},nt.prototype.size=function(){return this.size_},Yo(rt.prototype,{interfaces_:function(){return[]},getClass:function(){return rt}}),it.prototype=new Z,(ot.prototype=new it).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},ot.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},ot.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},ot.prototype.remove=function(t){throw new y},ot.prototype.size=function(){return this.array_.length},ot.prototype.isEmpty=function(){return 0===this.array_.length},ot.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},ot.prototype.iterator=function(){return new $o(this)};var $o=function(t){this.treeSet_=t,this.position_=0};$o.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new v;return this.treeSet_.array_[this.position_++]},$o.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},$o.prototype.remove=function(){throw new y},at.sort=function(){var t,e,n,r,i=arguments[0];if(1===arguments.length)return r=function(t,e){return t.compareTo(e)},void i.sort(r);if(2===arguments.length)n=arguments[1],r=function(t,e){return n.compare(t,e)},i.sort(r);else{if(3===arguments.length){(e=i.slice(arguments[1],arguments[2])).sort();var o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length));for(i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t]);return}if(4===arguments.length){for(e=i.slice(arguments[1],arguments[2]),n=arguments[3],r=function(t,e){return n.compare(t,e)},e.sort(r),o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length)),i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t]);return}}},at.asList=function(t){for(var e=new b,n=0,r=t.length;n<r;n++)e.add(t[n]);return e},Yo(st.prototype,{interfaces_:function(){return[]},getClass:function(){return st}}),st.toDimensionSymbol=function(t){switch(t){case st.FALSE:return st.SYM_FALSE;case st.TRUE:return st.SYM_TRUE;case st.DONTCARE:return st.SYM_DONTCARE;case st.P:return st.SYM_P;case st.L:return st.SYM_L;case st.A:return st.SYM_A}throw new n("Unknown dimension value: "+t)},st.toDimensionValue=function(t){switch(T.toUpperCase(t)){case st.SYM_FALSE:return st.FALSE;case st.SYM_TRUE:return st.TRUE;case st.SYM_DONTCARE:return st.DONTCARE;case st.SYM_P:return st.P;case st.SYM_L:return st.L;case st.SYM_A:return st.A}throw new n("Unknown dimension symbol: "+t)},st.P=0,st.L=1,st.A=2,st.FALSE=-1,st.TRUE=-2,st.DONTCARE=-3,st.SYM_FALSE="F",st.SYM_TRUE="T",st.SYM_DONTCARE="*",st.SYM_P="0",st.SYM_L="1",st.SYM_A="2",Yo(lt.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return lt}}),Yo(ut.prototype,{filter:function(t,e){},isDone:function(){},isGeometryChanged:function(){},interfaces_:function(){return[]},getClass:function(){return ut}}),Xo(ct,F),Yo(ct.prototype,{computeEnvelopeInternal:function(){for(var t=new w,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},getGeometryN:function(t){return this._geometries[t]},getCoordinates:function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)t[++e]=r[i];return t},getArea:function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},equalsExact:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof F){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this._geometries.length!==n._geometries.length)return!1;for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].equalsExact(n._geometries[r],e))return!1;return!0}return F.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();at.sort(this._geometries)},getCoordinate:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},getBoundaryDimension:function(){for(var t=st.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},getTypeCode:function(){return F.TYPECODE_GEOMETRYCOLLECTION},getDimension:function(){for(var t=st.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},getLength:function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},getNumPoints:function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},getNumGeometries:function(){return this._geometries.length},reverse:function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=new ot(at.asList(this._geometries)),n=new ot(at.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o=r,a=this.getNumGeometries(),s=o.getNumGeometries(),l=0;l<a&&l<s;){var u=this.getGeometryN(l),c=o.getGeometryN(l),f=u.compareToSameClass(c,i);if(0!==f)return f;l++}return l<a?1:l<s?-1:0}},apply:function(){if(Zo(arguments[0],j))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(Zo(arguments[0],ut)){var n=arguments[0];if(0===this._geometries.length)return null;for(e=0;e<this._geometries.length&&(this._geometries[e].apply(n),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(Zo(arguments[0],lt)){var r=arguments[0];for(r.filter(this),e=0;e<this._geometries.length;e++)this._geometries[e].apply(r)}else if(Zo(arguments[0],D)){var i=arguments[0];for(i.filter(this),e=0;e<this._geometries.length;e++)this._geometries[e].apply(i)}},getBoundary:function(){return this.checkNotGeometryCollection(this),c.shouldNeverReachHere(),null},getGeometryType:function(){return F.TYPENAME_GEOMETRYCOLLECTION},copy:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new ct(t,this._factory)},isEmpty:function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},interfaces_:function(){return[]},getClass:function(){return ct}}),ct.serialVersionUID=-0x4f07bcb1f857d800,Xo(ft,ct),Yo(ft.prototype,{equalsExact:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof F){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&ct.prototype.equalsExact.call(this,t,e)}return ct.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return this.isClosed()?st.FALSE:0},isClosed:function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},getTypeCode:function(){return F.TYPECODE_MULTILINESTRING},getDimension:function(){return 1},reverse:function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},getBoundary:function(){return new ht(this).getBoundary()},getGeometryType:function(){return F.TYPENAME_MULTILINESTRING},copy:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new ft(t,this._factory)},interfaces_:function(){return[rt]},getClass:function(){return ft}}),ft.serialVersionUID=0x7155d2ab4afa8000,Yo(ht.prototype,{boundaryMultiLineString:function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},getBoundary:function(){return this._geom instanceof bt?this.boundaryLineString(this._geom):this._geom instanceof ft?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},boundaryLineString:function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},getEmptyMultiPoint:function(){return this._geomFact.createMultiPoint()},computeBoundaryCoordinates:function(t){var e=new b;this._endpointMap=new nt;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var i=this._endpointMap.entrySet().iterator();i.hasNext();){var o=i.next(),a=o.getValue().count;this._bnRule.isInBoundary(a)&&e.add(o.getKey())}return H.toCoordinateArray(e)},addEndpoint:function(t){var e=this._endpointMap.get(t);null===e&&(e=new dt,this._endpointMap.put(t,e)),e.count++},interfaces_:function(){return[]},getClass:function(){return ht}}),ht.getBoundary=function(){if(1===arguments.length)return(t=new ht(arguments[0])).getBoundary();if(2===arguments.length){var t=new ht(arguments[0],arguments[1]);return t.getBoundary()}},Yo(dt.prototype,{interfaces_:function(){return[]},getClass:function(){return dt}}),Yo(pt.prototype,{interfaces_:function(){return[]},getClass:function(){return pt}}),pt.ofLine=function(t){var e=t.size();if(e<=1)return 0;var n=0,r=new f;t.getCoordinate(0,r);for(var i=r.x,o=r.y,a=1;a<e;a++){t.getCoordinate(a,r);var s=r.x,l=r.y,u=s-i,c=l-o;n+=Math.sqrt(u*u+c*c),i=s,o=l}return n},Yo(gt.prototype,{interfaces_:function(){return[]},getClass:function(){return gt}}),gt.chars=function(t,e){for(var n=new Array(e).fill(null),r=0;r<e;r++)n[r]=t;return new String(n)},gt.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o="",a=new function(){}(new function(){}(gt.getStackTrace(r))),s=0;s<i;s++)try{o+=a.readLine()+gt.NEWLINE}catch(t){if(!(t instanceof mt))throw t;c.shouldNeverReachHere()}return o}},gt.split=function(t,e){for(var n=e.length,r=new b,i=""+t,o=i.indexOf(e);o>=0;){var a=i.substring(0,o);r.add(a),o=(i=i.substring(o+n)).indexOf(e)}i.length>0&&r.add(i);for(var s=new Array(r.size()).fill(null),l=0;l<s.length;l++)s[l]=r.get(l);return s},gt.toString=function(){if(1===arguments.length&&"number"==typeof arguments[0]){var t=arguments[0];return gt.SIMPLE_ORDINATE_FORMAT.format(t)}},gt.spaces=function(t){return gt.chars(" ",t)},gt.NEWLINE=I.getProperty("line.separator"),gt.SIMPLE_ORDINATE_FORMAT=new function(){}("0.#"),vt.prototype.append=function(t){this.str+=t},vt.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},vt.prototype.toString=function(t){return this.str},Yo(yt.prototype,{interfaces_:function(){return[]},getClass:function(){return yt}}),yt.copyCoord=function(t,e,n,r){for(var i=Math.min(t.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,t.getOrdinate(e,o))},yt.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,N.X)===t.getOrdinate(e-1,N.X)&&t.getOrdinate(0,N.Y)===t.getOrdinate(e-1,N.Y)},yt.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var i=Math.min(t.getDimension(),e.getDimension()),o=0;o<n;o++)for(var a=0;a<i;a++){var s=t.getOrdinate(o,a),l=e.getOrdinate(o,a);if(!(t.getOrdinate(o,a)===e.getOrdinate(o,a)||r.isNaN(s)&&r.isNaN(l)))return!1}return!0},yt.extend=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();if(yt.copy(e,0,r,0,i),i>0)for(var o=i;o<n;o++)yt.copy(e,i-1,r,o,1);return r},yt.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),r=0;r<=n;r++)yt.swap(t,r,e-r)},yt.swap=function(t,e,n){if(e===n)return null;for(var r=0;r<t.getDimension();r++){var i=t.getOrdinate(e,r);t.setOrdinate(e,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,i)}},yt.copy=function(t,e,n,r,i){for(var o=0;o<i;o++)yt.copyCoord(t,e+o,n,r+o)},yt.toString=function(){if(1===arguments.length&&Zo(arguments[0],N)){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),r=new vt;r.append("(");for(var i=0;i<e;i++){i>0&&r.append(" ");for(var o=0;o<n;o++)o>0&&r.append(","),r.append(gt.toString(t.getOrdinate(i,o)))}return r.append(")"),r.toString()}},yt.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?yt.createClosedRing(t,e,4):e.getOrdinate(0,N.X)===e.getOrdinate(n-1,N.X)&&e.getOrdinate(0,N.Y)===e.getOrdinate(n-1,N.Y)?e:yt.createClosedRing(t,e,n+1)},yt.createClosedRing=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();yt.copy(e,0,r,0,i);for(var o=i;o<n;o++)yt.copy(e,0,r,o,1);return r},Xo(bt,F),Yo(bt.prototype,{computeEnvelopeInternal:function(){return this.isEmpty()?new w:this._points.expandEnvelope(new w)},isRing:function(){return this.isClosed()&&this.isSimple()},getCoordinates:function(){return this._points.toCoordinateArray()},equalsExact:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof F){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this._points.size()!==n._points.size())return!1;for(var r=0;r<this._points.size();r++)if(!this.equal(this._points.getCoordinate(r),n._points.getCoordinate(r),e))return!1;return!0}return F.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e))){if(this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0){var n=this._points.copy();yt.reverse(n),this._points=n}return null}}},getCoordinate:function(){return this.isEmpty()?null:this._points.getCoordinate(0)},getBoundaryDimension:function(){return this.isClosed()?st.FALSE:0},isClosed:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},getEndPoint:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},getTypeCode:function(){return F.TYPECODE_LINESTRING},getDimension:function(){return 1},getLength:function(){return pt.ofLine(this._points)},getNumPoints:function(){return this._points.size()},reverse:function(){var t=this._points.copy();return yt.reverse(t),this.getFactory().createLineString(t)},compareToSameClass:function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var r=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==r)return r;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length)return t=arguments[0],arguments[1].compare(this._points,t._points)},apply:function(){if(Zo(arguments[0],j))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(Zo(arguments[0],ut)){var n=arguments[0];if(0===this._points.size())return null;for(e=0;e<this._points.size()&&(n.filter(this._points,e),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else Zo(arguments[0],lt)?arguments[0].filter(this):Zo(arguments[0],D)&&arguments[0].filter(this)},getBoundary:function(){return new ht(this).getBoundary()},isEquivalentClass:function(t){return t instanceof bt},getCoordinateN:function(t){return this._points.getCoordinate(t)},getGeometryType:function(){return F.TYPENAME_LINESTRING},copy:function(){return new bt(this._points.copy(),this._factory)},getCoordinateSequence:function(){return this._points},isEmpty:function(){return 0===this._points.size()},init:function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new n("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},isCoordinate:function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},getStartPoint:function(){return this.isEmpty()?null:this.getPointN(0)},getPointN:function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},interfaces_:function(){return[rt]},getClass:function(){return bt}}),bt.serialVersionUID=0x2b2b51ba435c8e00,Yo(_t.prototype,{interfaces_:function(){return[]},getClass:function(){return _t}}),Xo(wt,F),Yo(wt.prototype,{computeEnvelopeInternal:function(){if(this.isEmpty())return new w;var t=new w;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},getCoordinates:function(){return this.isEmpty()?[]:[this.getCoordinate()]},equalsExact:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof F){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),e))}return F.prototype.equalsExact.apply(this,arguments)},normalize:function(){},getCoordinate:function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},getBoundaryDimension:function(){return st.FALSE},getTypeCode:function(){return F.TYPECODE_POINT},getDimension:function(){return 0},getNumPoints:function(){return this.isEmpty()?0:1},reverse:function(){return this.copy()},getX:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x},compareToSameClass:function(){if(1===arguments.length)return t=arguments[0],this.getCoordinate().compareTo(t.getCoordinate());if(2===arguments.length){var t=arguments[0];return arguments[1].compare(this._coordinates,t._coordinates)}},apply:function(){if(Zo(arguments[0],j)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(Zo(arguments[0],ut)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else Zo(arguments[0],lt)?arguments[0].filter(this):Zo(arguments[0],D)&&arguments[0].filter(this)},getBoundary:function(){return this.getFactory().createGeometryCollection()},getGeometryType:function(){return F.TYPENAME_POINT},copy:function(){return new wt(this._coordinates.copy(),this._factory)},getCoordinateSequence:function(){return this._coordinates},getY:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y},isEmpty:function(){return 0===this._coordinates.size()},init:function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),c.isTrue(t.size()<=1),this._coordinates=t},isSimple:function(){return!0},interfaces_:function(){return[_t]},getClass:function(){return wt}}),wt.serialVersionUID=0x44077bad161cbc00,Yo(xt.prototype,{interfaces_:function(){return[]},getClass:function(){return xt}}),xt.ofRing=function(){if(arguments[0]instanceof Array){var t=arguments[0];return Math.abs(xt.ofRingSigned(t))}if(Zo(arguments[0],N)){var e=arguments[0];return Math.abs(xt.ofRingSigned(e))}},xt.ofRingSigned=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++){var i=t[r].x-n,o=t[r+1].y;e+=i*(t[r-1].y-o)}return e/2}if(Zo(arguments[0],N)){var a=arguments[0],s=a.size();if(s<3)return 0;var l=new f,u=new f,c=new f;a.getCoordinate(0,u),a.getCoordinate(1,c),n=u.x,c.x-=n;for(var e=0,r=1;r<s-1;r++)l.y=u.y,u.x=c.x,u.y=c.y,a.getCoordinate(r+1,c),c.x-=n,e+=u.x*(l.y-c.y);return e/2}},Yo(Et.prototype,{interfaces_:function(){return[]},getClass:function(){return Et}}),Xo(Mt,F),Yo(Mt.prototype,{computeEnvelopeInternal:function(){return this._shell.getEnvelopeInternal()},getCoordinates:function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];for(var i=0;i<this._holes.length;i++)for(var o=this._holes[i].getCoordinates(),a=0;a<o.length;a++)t[++e]=o[a];return t},getArea:function(){var t=0;t+=xt.ofRing(this._shell.getCoordinateSequence());for(var e=0;e<this._holes.length;e++)t-=xt.ofRing(this._holes[e].getCoordinateSequence());return t},isRectangle:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){if((o=t.getX(n))!==e.getMinX()&&o!==e.getMaxX())return!1;if((a=t.getY(n))!==e.getMinY()&&a!==e.getMaxY())return!1}for(var r=t.getX(0),i=t.getY(0),n=1;n<=4;n++){var o=t.getX(n),a=t.getY(n);if(o!==r==(a!==i))return!1;r=o,i=a}return!0},equalsExact:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof F){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t,r=this._shell,i=n._shell;if(!r.equalsExact(i,e))return!1;if(this._holes.length!==n._holes.length)return!1;for(var o=0;o<this._holes.length;o++)if(!this._holes[o].equalsExact(n._holes[o],e))return!1;return!0}return F.prototype.equalsExact.apply(this,arguments)},normalize:function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);at.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var r=new Array(e.getCoordinates().length-1).fill(null);I.arraycopy(e.getCoordinates(),0,r,0,r.length);var i=H.minCoordinate(e.getCoordinates());H.scroll(r,i),I.arraycopy(r,0,e.getCoordinates(),0,r.length),e.getCoordinates()[r.length]=r[0],A.isCCW(e.getCoordinates())===n&&H.reverse(e.getCoordinates())}},getCoordinate:function(){return this._shell.getCoordinate()},getNumInteriorRing:function(){return this._holes.length},getBoundaryDimension:function(){return 1},getTypeCode:function(){return F.TYPECODE_POLYGON},getDimension:function(){return 2},getLength:function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},getNumPoints:function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},reverse:function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},convexHull:function(){return this.getExteriorRing().convexHull()},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var r=arguments[0],i=arguments[1],o=r,e=this._shell,n=o._shell,a=e.compareToSameClass(n,i);if(0!==a)return a;for(var s=this.getNumInteriorRing(),l=o.getNumInteriorRing(),u=0;u<s&&u<l;){var c=this.getInteriorRingN(u),f=o.getInteriorRingN(u),h=c.compareToSameClass(f,i);if(0!==h)return h;u++}return u<s?1:u<l?-1:0}},apply:function(){if(Zo(arguments[0],j)){var t=arguments[0];for(this._shell.apply(t),r=0;r<this._holes.length;r++)this._holes[r].apply(t)}else if(Zo(arguments[0],ut)){var e=arguments[0];if(this._shell.apply(e),!e.isDone())for(r=0;r<this._holes.length&&(this._holes[r].apply(e),!e.isDone());r++);e.isGeometryChanged()&&this.geometryChanged()}else if(Zo(arguments[0],lt))arguments[0].filter(this);else if(Zo(arguments[0],D)){var n=arguments[0];n.filter(this),this._shell.apply(n);for(var r=0;r<this._holes.length;r++)this._holes[r].apply(n)}},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},getGeometryType:function(){return F.TYPENAME_POLYGON},copy:function(){for(var t=this._shell.copy(),e=new Array(this._holes.length).fill(null),n=0;n<this._holes.length;n++)e[n]=this._holes[n].copy();return new Mt(t,e,this._factory)},getExteriorRing:function(){return this._shell},isEmpty:function(){return this._shell.isEmpty()},getInteriorRingN:function(t){return this._holes[t]},interfaces_:function(){return[Et]},getClass:function(){return Mt}}),Mt.serialVersionUID=-0x307ffefd8dc97200,Xo(St,ct),Yo(St.prototype,{isValid:function(){return!0},equalsExact:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof F){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&ct.prototype.equalsExact.call(this,t,e)}return ct.prototype.equalsExact.apply(this,arguments)},getCoordinate:function(){if(1===arguments.length&&Number.isInteger(arguments[0])){var t=arguments[0];return this._geometries[t].getCoordinate()}return ct.prototype.getCoordinate.apply(this,arguments)},getBoundaryDimension:function(){return st.FALSE},getTypeCode:function(){return F.TYPECODE_MULTIPOINT},getDimension:function(){return 0},getBoundary:function(){return this.getFactory().createGeometryCollection()},getGeometryType:function(){return F.TYPENAME_MULTIPOINT},copy:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new St(t,this._factory)},interfaces_:function(){return[_t]},getClass:function(){return St}}),St.serialVersionUID=-0x6fb1ed4162e0fc00,Xo(Tt,bt),Yo(Tt.prototype,{getBoundaryDimension:function(){return st.FALSE},isClosed:function(){return!!this.isEmpty()||bt.prototype.isClosed.call(this)},getTypeCode:function(){return F.TYPECODE_LINEARRING},reverse:function(){var t=this._points.copy();return yt.reverse(t),this.getFactory().createLinearRing(t)},validateConstruction:function(){if(!this.isEmpty()&&!bt.prototype.isClosed.call(this))throw new n("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<Tt.MINIMUM_VALID_SIZE)throw new n("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},getGeometryType:function(){return F.TYPENAME_LINEARRING},copy:function(){return new Tt(this._points.copy(),this._factory)},interfaces_:function(){return[]},getClass:function(){return Tt}}),Tt.MINIMUM_VALID_SIZE=4,Tt.serialVersionUID=-0x3b229e262367a600,Xo(Ct,ct),Yo(Ct.prototype,{equalsExact:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof F){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&ct.prototype.equalsExact.call(this,t,e)}return ct.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return 1},getTypeCode:function(){return F.TYPECODE_MULTIPOLYGON},getDimension:function(){return 2},reverse:function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new b,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),r=0;r<n.getNumGeometries();r++)t.add(n.getGeometryN(r));var i=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(i))},getGeometryType:function(){return F.TYPENAME_MULTIPOLYGON},copy:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new Ct(t,this._factory)},interfaces_:function(){return[Et]},getClass:function(){return Ct}}),Ct.serialVersionUID=-0x7a5aa1369171980,Yo(Ot.prototype,{setCopyUserData:function(t){this._isUserDataCopied=t},edit:function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},editInternal:function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof ct?this.editGeometryCollection(t,e):t instanceof Mt?this.editPolygon(t,e):t instanceof wt?e.edit(t,this._factory):t instanceof bt?e.edit(t,this._factory):(c.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},editGeometryCollection:function(t,e){for(var n=e.edit(t,this._factory),r=new b,i=0;i<n.getNumGeometries();i++){var o=this.edit(n.getGeometryN(i),e);null===o||o.isEmpty()||r.add(o)}return n.getClass()===St?this._factory.createMultiPoint(r.toArray([])):n.getClass()===ft?this._factory.createMultiLineString(r.toArray([])):n.getClass()===Ct?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},editPolygon:function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon()),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),e);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var i=new b,o=0;o<n.getNumInteriorRing();o++){var a=this.edit(n.getInteriorRingN(o),e);null===a||a.isEmpty()||i.add(a)}return this._factory.createPolygon(r,i.toArray([]))},interfaces_:function(){return[]},getClass:function(){return Ot}}),Ot.GeometryEditorOperation=At,Yo(It.prototype,{edit:function(t,e){return t},interfaces_:function(){return[At]},getClass:function(){return It}}),Yo(Rt.prototype,{edit:function(t,e){var n=this.edit(t.getCoordinates(),t);return t instanceof Tt?null===n?e.createLinearRing():e.createLinearRing(n):t instanceof bt?null===n?e.createLineString():e.createLineString(n):t instanceof wt?null===n||0===n.length?e.createPoint():e.createPoint(n[0]):t},interfaces_:function(){return[At]},getClass:function(){return Rt}}),Yo(Pt.prototype,{edit:function(t,e){return t instanceof Tt?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof bt?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof wt?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},interfaces_:function(){return[At]},getClass:function(){return Pt}}),Ot.NoOpGeometryOperation=It,Ot.CoordinateOperation=Rt,Ot.CoordinateSequenceOperation=Pt,Yo(Lt.prototype,{setOrdinate:function(t,e,r){switch(e){case N.X:this._coordinates[t].x=r;break;case N.Y:this._coordinates[t].y=r;break;case N.Z:this._coordinates[t].z=r;break;default:throw new n("invalid ordinateIndex")}},size:function(){return this._coordinates.length},getOrdinate:function(t,e){switch(e){case N.X:return this._coordinates[t].x;case N.Y:return this._coordinates[t].y;case N.Z:return this._coordinates[t].z}return r.NaN},getCoordinate:function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},getCoordinateCopy:function(t){return new f(this._coordinates[t])},getDimension:function(){return this._dimension},getX:function(t){return this._coordinates[t].x},expandEnvelope:function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},copy:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new Lt(t,this._dimension)},toString:function(){if(this._coordinates.length>0){var t=new vt(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},getY:function(t){return this._coordinates[t].y},toCoordinateArray:function(){return this._coordinates},interfaces_:function(){return[N,s]},getClass:function(){return Lt}}),Lt.serialVersionUID=-0xcb44a778db18e00,Yo(Nt.prototype,{readResolve:function(){return Nt.instance()},create:function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new Lt(arguments[0]);if(Zo(arguments[0],N))return new Lt(arguments[0])}else if(2===arguments.length){var t=arguments[0],e=arguments[1];return e>3&&(e=3),e<2?new Lt(t):new Lt(t,e)}},interfaces_:function(){return[k,s]},getClass:function(){return Nt}}),Nt.instance=function(){return Nt.instanceObject},Nt.serialVersionUID=-0x38e49fa6cf6f2e00,Nt.instanceObject=new Nt;var ta,ea=Object.defineProperty,na=function(t,e){function n(t){if(!this||this.constructor!==n)return new n(t);this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,t&&function(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}.call(this,t)}return e||ea(t,"size",{get:Ft}),t.constructor=n,n.prototype=t,n}({delete:function(t){return this.has(t)&&(this._keys.splice(ta,1),this._values.splice(ta,1),this._itp.forEach(function(t){ta<t[0]&&t[0]--})),ta>-1},has:function(t){return function(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!=e||0===e)for(ta=t.length;ta--&&!kt(t[ta],e););else ta=t.indexOf(e);return ta>-1}.call(this,this._keys,t)},get:function(t){return this.has(t)?this._values[ta]:void 0},set:function(t,e){return this.has(t)?this._values[ta]=e:this._values[this._keys.push(t)-1]=e,this},keys:function(){return Dt(this._itp,this._keys)},values:function(){return Dt(this._itp,this._values)},entries:function(){return Dt(this._itp,this._keys,this._values)},forEach:function(t,e){for(var n=this.entries();;){var r=n.next();if(r.done)break;t.call(e,r.value[1],r.value[0],this)}},clear:function(){(this._keys||0).length=this._values.length=0}}),ra="undefined"!=typeof Map&&Map.prototype.values?Map:na;(jt.prototype=new Y).get=function(t){return this.map_.get(t)||null},jt.prototype.put=function(t,e){return this.map_.set(t,e),e},jt.prototype.values=function(){for(var t=new b,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},jt.prototype.entrySet=function(){var t=new K;return this.map_.entries().forEach(function(e){return t.add(e)}),t},jt.prototype.size=function(){return this.map_.size()},Yo(Ut.prototype,{equals:function(t){if(!(t instanceof Ut))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},compareTo:function(t){var e=t,n=this.getMaximumSignificantDigits(),r=e.getMaximumSignificantDigits();return new S(n).compareTo(new S(r))},getScale:function(){return this._scale},isFloating:function(){return this._modelType===Ut.FLOATING||this._modelType===Ut.FLOATING_SINGLE},getType:function(){return this._modelType},toString:function(){var t="UNKNOWN";return this._modelType===Ut.FLOATING?t="Floating":this._modelType===Ut.FLOATING_SINGLE?t="Floating-Single":this._modelType===Ut.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},makePrecise:function(){if("number"==typeof arguments[0]){var t=arguments[0];return r.isNaN(t)?t:this._modelType===Ut.FLOATING_SINGLE?t:this._modelType===Ut.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof f){var e=arguments[0];if(this._modelType===Ut.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},getMaximumSignificantDigits:function(){var t=16;return this._modelType===Ut.FLOATING?t=16:this._modelType===Ut.FLOATING_SINGLE?t=6:this._modelType===Ut.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},setScale:function(t){this._scale=Math.abs(t)},interfaces_:function(){return[s,i]},getClass:function(){return Ut}}),Ut.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},Yo(zt.prototype,{readResolve:function(){return zt.nameToTypeMap.get(this._name)},toString:function(){return this._name},interfaces_:function(){return[s]},getClass:function(){return zt}}),zt.serialVersionUID=-552860263173159e4,zt.nameToTypeMap=new jt,Ut.Type=zt,Ut.serialVersionUID=0x6bee6404e9a25c00,Ut.FIXED=new zt("FIXED"),Ut.FLOATING=new zt("FLOATING"),Ut.FLOATING_SINGLE=new zt("FLOATING SINGLE"),Ut.maximumPreciseValue=9007199254740992,Yo(Bt.prototype,{toGeometry:function(t){return t.isNull()?this.createPoint():t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new f(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new f(t.getMinX(),t.getMinY()),new f(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new f(t.getMinX(),t.getMinY()),new f(t.getMinX(),t.getMaxY()),new f(t.getMaxX(),t.getMaxY()),new f(t.getMaxX(),t.getMinY()),new f(t.getMinX(),t.getMinY())]),null)},createLineString:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLineString(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(Zo(arguments[0],N))return new bt(arguments[0],this)}},createMultiLineString:function(){return 0===arguments.length?new ft(null,this):1===arguments.length?new ft(arguments[0],this):void 0},buildGeometry:function(t){for(var e=null,n=!1,r=!1,i=t.iterator();i.hasNext();){var o=i.next(),a=o.getClass();null===e&&(e=a),a!==e&&(n=!0),o instanceof ct&&(r=!0)}if(null===e)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(Bt.toGeometryArray(t));var s=t.iterator().next();if(t.size()>1){if(s instanceof Mt)return this.createMultiPolygon(Bt.toPolygonArray(t));if(s instanceof bt)return this.createMultiLineString(Bt.toLineStringArray(t));if(s instanceof wt)return this.createMultiPoint(Bt.toPointArray(t));c.shouldNeverReachHere("Unhandled class: "+s.getClass().getName())}return s},createMultiPointFromCoords:function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},createPoint:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof f){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(Zo(arguments[0],N))return new wt(arguments[0],this)}},getCoordinateSequenceFactory:function(){return this._coordinateSequenceFactory},createPolygon:function(){if(0===arguments.length)return this.createPolygon(null,null);if(1===arguments.length){if(Zo(arguments[0],N)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Tt){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length)return new Mt(arguments[0],arguments[1],this)},getSRID:function(){return this._SRID},createGeometryCollection:function(){return 0===arguments.length?new ct(null,this):1===arguments.length?new ct(arguments[0],this):void 0},createGeometry:function(t){return new Ot(this).edit(t,{edit:function(){if(2===arguments.length&&arguments[1]instanceof F&&Zo(arguments[0],N)){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},getPrecisionModel:function(){return this._precisionModel},createLinearRing:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(Zo(arguments[0],N))return new Tt(arguments[0],this)}},createMultiPolygon:function(){return 0===arguments.length?new Ct(null,this):1===arguments.length?new Ct(arguments[0],this):void 0},createMultiPoint:function(){if(0===arguments.length)return new St(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new St(arguments[0],this);if(Zo(arguments[0],N)){var t=arguments[0];if(null===t)return this.createMultiPoint(new Array(0).fill(null));for(var e=new Array(t.size()).fill(null),n=0;n<t.size();n++){var r=this.getCoordinateSequenceFactory().create(1,t.getDimension());yt.copy(t,n,r,0,1),e[n]=this.createPoint(r)}return this.createMultiPoint(e)}}},interfaces_:function(){return[s]},getClass:function(){return Bt}}),Bt.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Bt.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},Bt.getDefaultCoordinateSequenceFactory=function(){return Nt.instance()},Bt.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Bt.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Bt.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Bt.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Bt.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Bt.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Bt.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},Bt.serialVersionUID=-0x5ea75f2051eeb400;var ia={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};Yo(Vt.prototype,{read:function(t){var e,n,r;t=t.replace(/[\n\r]/g," ");var i=ia.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((i=ia.emptyTypeStr.exec(t))[2]=void 0),i&&(n=i[1].toLowerCase(),r=i[2],aa[n]&&(e=aa[n].apply(this,[r]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},write:function(t){return this.extractGeometry(t)},extractGeometry:function(t){var e=t.getGeometryType().toLowerCase();if(!oa[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+oa[e].apply(this,[t])+")"}});var oa={coordinate:function(t){return t.x+" "+t.y},point:function(t){return oa.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+oa.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(oa.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(oa.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+oa.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+oa.linestring.apply(this,[t._shell])+")");for(var n=0,r=t._holes.length;n<r;++n)e.push("("+oa.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+oa.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},aa={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(ia.spaces);return this.geometryFactory.createPoint(new f(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(ia.trimParens,"$1"),r.push(aa.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(r)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(ia.spaces),r.push(new f(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(ia.spaces),r.push(new f(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(ia.parenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(ia.trimParens,"$1"),r.push(aa.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(r)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,r,i,o=t.trim().split(ia.parenComma),a=[],s=0,l=o.length;s<l;++s)e=o[s].replace(ia.trimParens,"$1"),n=aa.linestring.apply(this,[e]),r=this.geometryFactory.createLinearRing(n._points),0===s?i=r:a.push(r);return this.geometryFactory.createPolygon(i,a)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(ia.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(ia.trimParens,"$1"),r.push(aa.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,i=e.length;r<i;++r)n.push(this.read(e[r]));return this.geometryFactory.createGeometryCollection(n)}};Yo(Gt.prototype,{write:function(t){return this.parser.write(t)}}),Yo(Gt,{toLineString:function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"}}),Yo(Ht.prototype,{getIndexAlongSegment:function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},getTopologySummary:function(){var t=new vt;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},computeIntersection:function(t,e,n,r){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(t,e,n,r)},getIntersectionNum:function(){return this._result},computeIntLineIndex:function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},isProper:function(){return this.hasIntersection()&&this._isProper},setPrecisionModel:function(t){this._precisionModel=t},isInteriorIntersection:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},getIntersection:function(t){return this._intPt[t]},isEndPoint:function(){return this.hasIntersection()&&!this._isProper},hasIntersection:function(){return this._result!==Ht.NO_INTERSECTION},getEdgeDistance:function(t,e){return Ht.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},isCollinear:function(){return this._result===Ht.COLLINEAR_INTERSECTION},toString:function(){return Gt.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Gt.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},getEndpoint:function(t,e){return this._inputLines[t][e]},isIntersection:function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},getIntersectionAlongSegment:function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},interfaces_:function(){return[]},getClass:function(){return Ht}}),Ht.computeEdgeDistance=function(t,e,n){var r=Math.abs(n.x-e.x),i=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=r>i?r:i;else{var a=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);0!==(o=r>i?a:s)||t.equals(e)||(o=Math.max(a,s))}return c.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},Ht.nonRobustComputeEdgeDistance=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=Math.sqrt(r*r+i*i);return c.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},Ht.DONT_INTERSECT=0,Ht.DO_INTERSECT=1,Ht.COLLINEAR=2,Ht.NO_INTERSECTION=0,Ht.POINT_INTERSECTION=1,Ht.COLLINEAR_INTERSECTION=2,Xo(qt,Ht),Yo(qt.prototype,{isInSegmentEnvelopes:function(t){var e=new w(this._inputLines[0][0],this._inputLines[0][1]),n=new w(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},computeIntersection:function(){if(3!==arguments.length)return Ht.prototype.computeIntersection.apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2];if(this._isProper=!1,w.intersects(e,n,t)&&0===A.index(e,n,t)&&0===A.index(n,e,t))return this._isProper=!0,(t.equals(e)||t.equals(n))&&(this._isProper=!1),this._result=Ht.POINT_INTERSECTION,null;this._result=Ht.NO_INTERSECTION},normalizeToMinimum:function(t,e,n,r,i){i.x=this.smallestInAbsValue(t.x,e.x,n.x,r.x),i.y=this.smallestInAbsValue(t.y,e.y,n.y,r.y),t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},safeHCoordinateIntersection:function(t,e,n,r){var i=null;try{i=R.intersection(t,e,n,r)}catch(o){if(!(o instanceof E))throw o;i=qt.nearestEndpoint(t,e,n,r)}return i},intersection:function(t,e,n,r){var i=this.intersectionWithNormalization(t,e,n,r);return this.isInSegmentEnvelopes(i)||(i=new f(qt.nearestEndpoint(t,e,n,r))),null!==this._precisionModel&&this._precisionModel.makePrecise(i),i},smallestInAbsValue:function(t,e,n,r){var i=t,o=Math.abs(i);return Math.abs(e)<o&&(i=e,o=Math.abs(e)),Math.abs(n)<o&&(i=n,o=Math.abs(n)),Math.abs(r)<o&&(i=r),i},checkDD:function(t,e,n,r,i){var o=O.intersection(t,e,n,r),a=this.isInSegmentEnvelopes(o);I.out.println("DD in env = "+a+"  --------------------- "+o),i.distance(o)>1e-4&&I.out.println("Distance = "+i.distance(o))},intersectionWithNormalization:function(t,e,n,r){var i=new f(t),o=new f(e),a=new f(n),s=new f(r),l=new f;this.normalizeToEnvCentre(i,o,a,s,l);var u=this.safeHCoordinateIntersection(i,o,a,s);return u.x+=l.x,u.y+=l.y,u},computeCollinearIntersection:function(t,e,n,r){var i=w.intersects(t,e,n),o=w.intersects(t,e,r),a=w.intersects(n,r,t),s=w.intersects(n,r,e);return i&&o?(this._intPt[0]=n,this._intPt[1]=r,Ht.COLLINEAR_INTERSECTION):a&&s?(this._intPt[0]=t,this._intPt[1]=e,Ht.COLLINEAR_INTERSECTION):i&&a?(this._intPt[0]=n,this._intPt[1]=t,!n.equals(t)||o||s?Ht.COLLINEAR_INTERSECTION:Ht.POINT_INTERSECTION):i&&s?(this._intPt[0]=n,this._intPt[1]=e,!n.equals(e)||o||a?Ht.COLLINEAR_INTERSECTION:Ht.POINT_INTERSECTION):o&&a?(this._intPt[0]=r,this._intPt[1]=t,!r.equals(t)||i||s?Ht.COLLINEAR_INTERSECTION:Ht.POINT_INTERSECTION):o&&s?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||i||a?Ht.COLLINEAR_INTERSECTION:Ht.POINT_INTERSECTION):Ht.NO_INTERSECTION},normalizeToEnvCentre:function(t,e,n,r,i){var o=t.x<e.x?t.x:e.x,a=t.y<e.y?t.y:e.y,s=t.x>e.x?t.x:e.x,l=t.y>e.y?t.y:e.y,u=n.x<r.x?n.x:r.x,c=n.y<r.y?n.y:r.y,f=n.x>r.x?n.x:r.x,h=n.y>r.y?n.y:r.y,d=((o>u?o:u)+(s<f?s:f))/2,p=((a>c?a:c)+(l<h?l:h))/2;i.x=d,i.y=p,t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},computeIntersect:function(t,e,n,r){if(this._isProper=!1,!w.intersects(t,e,n,r))return Ht.NO_INTERSECTION;var i=A.index(t,e,n),o=A.index(t,e,r);if(i>0&&o>0||i<0&&o<0)return Ht.NO_INTERSECTION;var a=A.index(n,r,t),s=A.index(n,r,e);return a>0&&s>0||a<0&&s<0?Ht.NO_INTERSECTION:0===i&&0===o&&0===a&&0===s?this.computeCollinearIntersection(t,e,n,r):(0===i||0===o||0===a||0===s?(this._isProper=!1,t.equals2D(n)||t.equals2D(r)?this._intPt[0]=t:e.equals2D(n)||e.equals2D(r)?this._intPt[0]=e:0===i?this._intPt[0]=new f(n):0===o?this._intPt[0]=new f(r):0===a?this._intPt[0]=new f(t):0===s&&(this._intPt[0]=new f(e))):(this._isProper=!0,this._intPt[0]=this.intersection(t,e,n,r)),Ht.POINT_INTERSECTION)},interfaces_:function(){return[]},getClass:function(){return qt}}),qt.nearestEndpoint=function(t,e,n,r){var i=t,o=L.pointToSegment(t,n,r),a=L.pointToSegment(e,n,r);return a<o&&(o=a,i=e),(a=L.pointToSegment(n,t,e))<o&&(o=a,i=n),(a=L.pointToSegment(r,t,e))<o&&(o=a,i=r),i},Yo(Wt.prototype,{minX:function(){return Math.min(this.p0.x,this.p1.x)},orientationIndex:function(){if(arguments[0]instanceof Wt){var t=arguments[0],e=A.index(this.p0,this.p1,t.p0),n=A.index(this.p0,this.p1,t.p1);return e>=0&&n>=0?Math.max(e,n):e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof f){var r=arguments[0];return A.index(this.p0,this.p1,r)}},toGeometry:function(t){return t.createLineString([this.p0,this.p1])},isVertical:function(){return this.p0.x===this.p1.x},equals:function(t){if(!(t instanceof Wt))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},intersection:function(t){var e=new qt;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},project:function(){if(arguments[0]instanceof f){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new f(t);var e=this.projectionFactor(t),n=new f;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof Wt){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1)return null;if(i<=0&&o<=0)return null;var a=this.project(r.p0);i<0&&(a=this.p0),i>1&&(a=this.p1);var s=this.project(r.p1);return o<0&&(s=this.p0),o>1&&(s=this.p1),new Wt(a,s)}},normalize:function(){this.p1.compareTo(this.p0)<0&&this.reverse()},angle:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},getCoordinate:function(t){return 0===t?this.p0:this.p1},distancePerpendicular:function(t){return L.pointToLinePerpendicular(t,this.p0,this.p1)},minY:function(){return Math.min(this.p0.y,this.p1.y)},midPoint:function(){return Wt.midPoint(this.p0,this.p1)},projectionFactor:function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=e*e+n*n;return i<=0?r.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i},closestPoints:function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),i=r.MAX_VALUE,o=null,a=this.closestPoint(t.p0);i=a.distance(t.p0),n[0]=a,n[1]=t.p0;var s=this.closestPoint(t.p1);(o=s.distance(t.p1))<i&&(i=o,n[0]=s,n[1]=t.p1);var l=t.closestPoint(this.p0);(o=l.distance(this.p0))<i&&(i=o,n[0]=this.p0,n[1]=l);var u=t.closestPoint(this.p1);return(o=u.distance(this.p1))<i&&(i=o,n[0]=this.p1,n[1]=u),n},closestPoint:function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},maxX:function(){return Math.max(this.p0.x,this.p1.x)},getLength:function(){return this.p0.distance(this.p1)},compareTo:function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},reverse:function(){var t=this.p0;this.p0=this.p1,this.p1=t},equalsTopo:function(t){return this.p0.equals(t.p0)&&this.p1.equals(t.p1)||this.p0.equals(t.p1)&&this.p1.equals(t.p0)},lineIntersection:function(t){try{return R.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof E))throw t}return null},maxY:function(){return Math.max(this.p0.y,this.p1.y)},pointAlongOffset:function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,a=Math.sqrt(i*i+o*o),s=0,l=0;if(0!==e){if(a<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");s=e*i/a,l=e*o/a}return new f(n-l,r+s)},setCoordinates:function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},segmentFraction:function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||r.isNaN(e))&&(e=1),e},toString:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},isHorizontal:function(){return this.p0.y===this.p1.y},distance:function(){if(arguments[0]instanceof Wt){var t=arguments[0];return L.segmentToSegment(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof f){var e=arguments[0];return L.pointToSegment(e,this.p0,this.p1)}},pointAlong:function(t){var e=new f;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},hashCode:function(){var t=java.lang.Double.doubleToLongBits(this.p0.x);t^=31*java.lang.Double.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=java.lang.Double.doubleToLongBits(this.p1.x);return n^=31*java.lang.Double.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},interfaces_:function(){return[i,s]},getClass:function(){return Wt}}),Wt.midPoint=function(t,e){return new f((t.x+e.x)/2,(t.y+e.y)/2)},Wt.serialVersionUID=0x2d2172135f411c00,Yo(Yt.prototype,{interfaces_:function(){return[]},getClass:function(){return Yt}}),Yt.toLocationSymbol=function(t){switch(t){case Yt.EXTERIOR:return"e";case Yt.BOUNDARY:return"b";case Yt.INTERIOR:return"i";case Yt.NONE:return"-"}throw new n("Unknown location value: "+t)},Yt.INTERIOR=0,Yt.BOUNDARY=1,Yt.EXTERIOR=2,Yt.NONE=-1,Yo(Xt.prototype,{isIntersects:function(){return!this.isDisjoint()},isCovers:function(){return(Xt.isTrue(this._matrix[Yt.INTERIOR][Yt.INTERIOR])||Xt.isTrue(this._matrix[Yt.INTERIOR][Yt.BOUNDARY])||Xt.isTrue(this._matrix[Yt.BOUNDARY][Yt.INTERIOR])||Xt.isTrue(this._matrix[Yt.BOUNDARY][Yt.BOUNDARY]))&&this._matrix[Yt.EXTERIOR][Yt.INTERIOR]===st.FALSE&&this._matrix[Yt.EXTERIOR][Yt.BOUNDARY]===st.FALSE},isCoveredBy:function(){return(Xt.isTrue(this._matrix[Yt.INTERIOR][Yt.INTERIOR])||Xt.isTrue(this._matrix[Yt.INTERIOR][Yt.BOUNDARY])||Xt.isTrue(this._matrix[Yt.BOUNDARY][Yt.INTERIOR])||Xt.isTrue(this._matrix[Yt.BOUNDARY][Yt.BOUNDARY]))&&this._matrix[Yt.INTERIOR][Yt.EXTERIOR]===st.FALSE&&this._matrix[Yt.BOUNDARY][Yt.EXTERIOR]===st.FALSE},set:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),r=e%3;this._matrix[n][r]=st.toDimensionValue(t.charAt(e))}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this._matrix[i][o]=a}},isContains:function(){return Xt.isTrue(this._matrix[Yt.INTERIOR][Yt.INTERIOR])&&this._matrix[Yt.EXTERIOR][Yt.INTERIOR]===st.FALSE&&this._matrix[Yt.EXTERIOR][Yt.BOUNDARY]===st.FALSE},setAtLeast:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),r=e%3;this.setAtLeast(n,r,st.toDimensionValue(t.charAt(e)))}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this._matrix[i][o]<a&&(this._matrix[i][o]=a)}},setAtLeastIfValid:function(t,e,n){t>=0&&e>=0&&this.setAtLeast(t,e,n)},isWithin:function(){return Xt.isTrue(this._matrix[Yt.INTERIOR][Yt.INTERIOR])&&this._matrix[Yt.INTERIOR][Yt.EXTERIOR]===st.FALSE&&this._matrix[Yt.BOUNDARY][Yt.EXTERIOR]===st.FALSE},isTouches:function(t,e){return t>e?this.isTouches(e,t):(t===st.A&&e===st.A||t===st.L&&e===st.L||t===st.L&&e===st.A||t===st.P&&e===st.A||t===st.P&&e===st.L)&&this._matrix[Yt.INTERIOR][Yt.INTERIOR]===st.FALSE&&(Xt.isTrue(this._matrix[Yt.INTERIOR][Yt.BOUNDARY])||Xt.isTrue(this._matrix[Yt.BOUNDARY][Yt.INTERIOR])||Xt.isTrue(this._matrix[Yt.BOUNDARY][Yt.BOUNDARY]))},isOverlaps:function(t,e){return t===st.P&&e===st.P||t===st.A&&e===st.A?Xt.isTrue(this._matrix[Yt.INTERIOR][Yt.INTERIOR])&&Xt.isTrue(this._matrix[Yt.INTERIOR][Yt.EXTERIOR])&&Xt.isTrue(this._matrix[Yt.EXTERIOR][Yt.INTERIOR]):t===st.L&&e===st.L&&1===this._matrix[Yt.INTERIOR][Yt.INTERIOR]&&Xt.isTrue(this._matrix[Yt.INTERIOR][Yt.EXTERIOR])&&Xt.isTrue(this._matrix[Yt.EXTERIOR][Yt.INTERIOR])},isEquals:function(t,e){return t===e&&Xt.isTrue(this._matrix[Yt.INTERIOR][Yt.INTERIOR])&&this._matrix[Yt.INTERIOR][Yt.EXTERIOR]===st.FALSE&&this._matrix[Yt.BOUNDARY][Yt.EXTERIOR]===st.FALSE&&this._matrix[Yt.EXTERIOR][Yt.INTERIOR]===st.FALSE&&this._matrix[Yt.EXTERIOR][Yt.BOUNDARY]===st.FALSE},toString:function(){for(var t=new vt("123456789"),e=0;e<3;e++)for(var n=0;n<3;n++)t.setCharAt(3*e+n,st.toDimensionSymbol(this._matrix[e][n]));return t.toString()},setAll:function(t){for(var e=0;e<3;e++)for(var n=0;n<3;n++)this._matrix[e][n]=t},get:function(t,e){return this._matrix[t][e]},transpose:function(){var t=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=t,t=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=t,t=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=t,this},matches:function(t){if(9!==t.length)throw new n("Should be length 9: "+t);for(var e=0;e<3;e++)for(var r=0;r<3;r++)if(!Xt.matches(this._matrix[e][r],t.charAt(3*e+r)))return!1;return!0},add:function(t){for(var e=0;e<3;e++)for(var n=0;n<3;n++)this.setAtLeast(e,n,t.get(e,n))},isDisjoint:function(){return this._matrix[Yt.INTERIOR][Yt.INTERIOR]===st.FALSE&&this._matrix[Yt.INTERIOR][Yt.BOUNDARY]===st.FALSE&&this._matrix[Yt.BOUNDARY][Yt.INTERIOR]===st.FALSE&&this._matrix[Yt.BOUNDARY][Yt.BOUNDARY]===st.FALSE},isCrosses:function(t,e){return t===st.P&&e===st.L||t===st.P&&e===st.A||t===st.L&&e===st.A?Xt.isTrue(this._matrix[Yt.INTERIOR][Yt.INTERIOR])&&Xt.isTrue(this._matrix[Yt.INTERIOR][Yt.EXTERIOR]):t===st.L&&e===st.P||t===st.A&&e===st.P||t===st.A&&e===st.L?Xt.isTrue(this._matrix[Yt.INTERIOR][Yt.INTERIOR])&&Xt.isTrue(this._matrix[Yt.EXTERIOR][Yt.INTERIOR]):t===st.L&&e===st.L&&0===this._matrix[Yt.INTERIOR][Yt.INTERIOR]},interfaces_:function(){return[o]},getClass:function(){return Xt}}),Xt.matches=function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var t=arguments[0],e=arguments[1];return e===st.SYM_DONTCARE||e===st.SYM_TRUE&&(t>=0||t===st.TRUE)||e===st.SYM_FALSE&&t===st.FALSE||e===st.SYM_P&&t===st.P||e===st.SYM_L&&t===st.L||e===st.SYM_A&&t===st.A}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var n=arguments[0],r=arguments[1];return new Xt(n).matches(r)}},Xt.isTrue=function(t){return t>=0||t===st.TRUE};var sa=Object.freeze({Coordinate:f,CoordinateList:_,Envelope:w,LineSegment:Wt,GeometryFactory:Bt,Geometry:F,Point:wt,LineString:bt,LinearRing:Tt,Polygon:Mt,GeometryCollection:ct,MultiPoint:St,MultiLineString:ft,MultiPolygon:Ct,Dimension:st,IntersectionMatrix:Xt,PrecisionModel:Ut});Yo(Zt.prototype,{setAreaBasePoint:function(t){this._areaBasePt=t},addPoint:function(t){this._ptCount+=1,this._ptCentSum.x+=t.x,this._ptCentSum.y+=t.y},addLineSegments:function(t){for(var e=0,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);if(0!==r){e+=r;var i=(t[n].x+t[n+1].x)/2;this._lineCentSum.x+=r*i;var o=(t[n].y+t[n+1].y)/2;this._lineCentSum.y+=r*o}}this._totalLength+=e,0===e&&t.length>0&&this.addPoint(t[0])},addHole:function(t){for(var e=A.isCCW(t),n=0;n<t.length-1;n++)this.addTriangle(this._areaBasePt,t[n],t[n+1],e);this.addLineSegments(t)},getCentroid:function(){var t=new f;if(Math.abs(this._areasum2)>0)t.x=this._cg3.x/3/this._areasum2,t.y=this._cg3.y/3/this._areasum2;else if(this._totalLength>0)t.x=this._lineCentSum.x/this._totalLength,t.y=this._lineCentSum.y/this._totalLength;else{if(!(this._ptCount>0))return null;t.x=this._ptCentSum.x/this._ptCount,t.y=this._ptCentSum.y/this._ptCount}return t},addShell:function(t){t.length>0&&this.setAreaBasePoint(t[0]);for(var e=!A.isCCW(t),n=0;n<t.length-1;n++)this.addTriangle(this._areaBasePt,t[n],t[n+1],e);this.addLineSegments(t)},addTriangle:function(t,e,n,r){var i=r?1:-1;Zt.centroid3(t,e,n,this._triangleCent3);var o=Zt.area2(t,e,n);this._cg3.x+=i*o*this._triangleCent3.x,this._cg3.y+=i*o*this._triangleCent3.y,this._areasum2+=i*o},add:function(){if(arguments[0]instanceof Mt){var t=arguments[0];for(this.addShell(t.getExteriorRing().getCoordinates()),i=0;i<t.getNumInteriorRing();i++)this.addHole(t.getInteriorRingN(i).getCoordinates())}else if(arguments[0]instanceof F){var e=arguments[0];if(e.isEmpty())return null;if(e instanceof wt)this.addPoint(e.getCoordinate());else if(e instanceof bt)this.addLineSegments(e.getCoordinates());else if(e instanceof Mt){var n=e;this.add(n)}else if(e instanceof ct)for(var r=e,i=0;i<r.getNumGeometries();i++)this.add(r.getGeometryN(i))}},interfaces_:function(){return[]},getClass:function(){return Zt}}),Zt.area2=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(n.x-t.x)*(e.y-t.y)},Zt.centroid3=function(t,e,n,r){return r.x=t.x+e.x+n.x,r.y=t.y+e.y+n.y,null},Zt.getCentroid=function(t){return new Zt(t).getCentroid()},Yo(Kt.prototype,{countSegment:function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,r=e.x;return n>r&&(n=e.x,r=t.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var i=A.index(t,e,this._p);if(i===A.COLLINEAR)return this._isPointOnSegment=!0,null;e.y<t.y&&(i=-i),i===A.LEFT&&this._crossingCount++}},isPointInPolygon:function(){return this.getLocation()!==Yt.EXTERIOR},getLocation:function(){return this._isPointOnSegment?Yt.BOUNDARY:this._crossingCount%2==1?Yt.INTERIOR:Yt.EXTERIOR},isOnSegment:function(){return this._isPointOnSegment},interfaces_:function(){return[]},getClass:function(){return Kt}}),Kt.locatePointInRing=function(){if(arguments[0]instanceof f&&Zo(arguments[1],N)){for(var t=arguments[0],e=arguments[1],n=new Kt(t),r=new f,i=new f,o=1;o<e.size();o++)if(e.getCoordinate(o,r),e.getCoordinate(o-1,i),n.countSegment(r,i),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof f&&arguments[1]instanceof Array){for(var a=arguments[0],s=arguments[1],n=new Kt(a),o=1;o<s.length;o++){var r=s[o],i=s[o-1];if(n.countSegment(r,i),n.isOnSegment())return n.getLocation()}return n.getLocation()}},Yo(Qt.prototype,{interfaces_:function(){return[]},getClass:function(){return Qt}}),Qt.orientationIndex=function(t,e,n){return O.orientationIndex(t,e,n)},Qt.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++){var i=t[r].x-n,o=t[r+1].y;e+=i*(t[r-1].y-o)}return e/2}if(Zo(arguments[0],N)){var a=arguments[0],s=a.size();if(s<3)return 0;var l=new f,u=new f,c=new f;a.getCoordinate(0,u),a.getCoordinate(1,c),n=u.x,c.x-=n;for(var e=0,r=1;r<s-1;r++)l.y=u.y,u.x=c.x,u.y=c.y,a.getCoordinate(r+1,c),c.x-=n,e+=u.x*(l.y-c.y);return e/2}},Qt.distanceLineLine=function(t,e,n,r){if(t.equals(e))return Qt.distancePointLine(t,n,r);if(n.equals(r))return Qt.distancePointLine(r,t,e);var i=!1;if(w.intersects(t,e,n,r)){var o=(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x);if(0===o)i=!0;else{var a=(t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y),s=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,l=a/o;(l<0||l>1||s<0||s>1)&&(i=!0)}}else i=!0;return i?P.min(Qt.distancePointLine(t,n,r),Qt.distancePointLine(e,n,r),Qt.distancePointLine(n,t,e),Qt.distancePointLine(r,t,e)):0},Qt.isPointInRing=function(t,e){return Qt.locatePointInRing(t,e)!==Yt.EXTERIOR},Qt.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,r=new f;t.getCoordinate(0,r);for(var i=r.x,o=r.y,a=1;a<e;a++){t.getCoordinate(a,r);var s=r.x,l=r.y,u=s-i,c=l-o;n+=Math.sqrt(u*u+c*c),i=s,o=l}return n},Qt.isCCW=function(t){var e=t.length-1;if(e<3)throw new n("Ring has fewer than 4 points, so orientation cannot be determined");for(var r=t[0],i=0,o=1;o<=e;o++){var a=t[o];a.y>r.y&&(r=a,i=o)}var s=i;do{(s-=1)<0&&(s=e)}while(t[s].equals2D(r)&&s!==i);var l=i;do{l=(l+1)%e}while(t[l].equals2D(r)&&l!==i);var u=t[s],c=t[l];if(u.equals2D(r)||c.equals2D(r)||u.equals2D(c))return!1;var f=Qt.computeOrientation(u,r,c);return 0===f?u.x>c.x:f>0},Qt.locatePointInRing=function(t,e){return Kt.locatePointInRing(t,e)},Qt.distancePointLinePerpendicular=function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),i=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r;return Math.abs(i)*Math.sqrt(r)},Qt.computeOrientation=function(t,e,n){return Qt.orientationIndex(t,e,n)},Qt.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new n("Line array must contain at least one vertex");for(var r=t.distance(e[0]),i=0;i<e.length-1;i++){var o=Qt.distancePointLine(t,e[i],e[i+1]);o<r&&(r=o)}return r}if(3===arguments.length){var a=arguments[0],s=arguments[1],l=arguments[2];if(s.x===l.x&&s.y===l.y)return a.distance(s);var u=(l.x-s.x)*(l.x-s.x)+(l.y-s.y)*(l.y-s.y),c=((a.x-s.x)*(l.x-s.x)+(a.y-s.y)*(l.y-s.y))/u;if(c<=0)return a.distance(s);if(c>=1)return a.distance(l);var f=((s.y-a.y)*(l.x-s.x)-(s.x-a.x)*(l.y-s.y))/u;return Math.abs(f)*Math.sqrt(u)}},Qt.isOnLine=function(t,e){for(var n=new qt,r=1;r<e.length;r++){var i=e[r-1],o=e[r];if(n.computeIntersection(t,i,o),n.hasIntersection())return!0}return!1},Qt.RIGHT=Qt.CLOCKWISE=-1,Qt.LEFT=Qt.COUNTERCLOCKWISE=1,Qt.STRAIGHT=Qt.COLLINEAR=0,Yo(Jt.prototype,{interfaces_:function(){return[]},getClass:function(){return Jt}}),Jt.isOnLine=function(){if(arguments[0]instanceof f&&Zo(arguments[1],N)){for(var t=arguments[0],e=arguments[1],n=new qt,r=new f,i=new f,o=e.size(),a=1;a<o;a++)if(e.getCoordinate(a-1,r),e.getCoordinate(a,i),n.computeIntersection(t,r,i),n.hasIntersection())return!0;return!1}if(arguments[0]instanceof f&&arguments[1]instanceof Array){for(var s=arguments[0],l=arguments[1],n=new qt,a=1;a<l.length;a++){var r=l[a-1],i=l[a];if(n.computeIntersection(s,r,i),n.hasIntersection())return!0}return!1}},Jt.locateInRing=function(t,e){return Kt.locatePointInRing(t,e)},Jt.isInRing=function(t,e){return Jt.locateInRing(t,e)!==Yt.EXTERIOR},($t.prototype=new Error).name="EmptyStackException",(te.prototype=new g).add=function(t){return this.array_.push(t),!0},te.prototype.get=function(t){if(t<0||t>=this.size())throw new IndexOutOfBoundsException;return this.array_[t]},te.prototype.push=function(t){return this.array_.push(t),t},te.prototype.pop=function(t){if(0===this.array_.length)throw new $t;return this.array_.pop()},te.prototype.peek=function(){if(0===this.array_.length)throw new $t;return this.array_[this.array_.length-1]},te.prototype.empty=function(){return 0===this.array_.length},te.prototype.isEmpty=function(){return this.empty()},te.prototype.search=function(t){return this.array_.indexOf(t)},te.prototype.size=function(){return this.array_.length},te.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},Yo(ee.prototype,{filter:function(t){this.treeSet.contains(t)||(this.list.add(t),this.treeSet.add(t))},getCoordinates:function(){var t=new Array(this.list.size()).fill(null);return this.list.toArray(t)},interfaces_:function(){return[j]},getClass:function(){return ee}}),ee.filterCoordinates=function(t){for(var e=new ee,n=0;n<t.length;n++)e.filter(t[n]);return e.getCoordinates()},Yo(ne.prototype,{preSort:function(t){for(var e=null,n=1;n<t.length;n++)(t[n].y<t[0].y||t[n].y===t[0].y&&t[n].x<t[0].x)&&(e=t[0],t[0]=t[n],t[n]=e);return at.sort(t,1,t.length,new re(t[0])),t},computeOctRing:function(t){var e=this.computeOctPts(t),n=new _;return n.add(e,!1),n.size()<3?null:(n.closeRing(),n.toCoordinateArray())},lineOrPolygon:function(t){if(3===(t=this.cleanRing(t)).length)return this._geomFactory.createLineString([t[0],t[1]]);var e=this._geomFactory.createLinearRing(t);return this._geomFactory.createPolygon(e)},cleanRing:function(t){c.equals(t[0],t[t.length-1]);for(var e=new b,n=null,r=0;r<=t.length-2;r++){var i=t[r],o=t[r+1];i.equals(o)||null!==n&&this.isBetween(n,i,o)||(e.add(i),n=i)}e.add(t[t.length-1]);var a=new Array(e.size()).fill(null);return e.toArray(a)},isBetween:function(t,e,n){if(0!==A.index(t,e,n))return!1;if(t.x!==n.x){if(t.x<=e.x&&e.x<=n.x)return!0;if(n.x<=e.x&&e.x<=t.x)return!0}if(t.y!==n.y){if(t.y<=e.y&&e.y<=n.y)return!0;if(n.y<=e.y&&e.y<=t.y)return!0}return!1},reduce:function(t){var e=this.computeOctRing(t);if(null===e)return t;for(var n=new ot,r=0;r<e.length;r++)n.add(e[r]);for(r=0;r<t.length;r++)Jt.isInRing(t[r],e)||n.add(t[r]);var i=H.toCoordinateArray(n);return i.length<3?this.padArray3(i):i},getConvexHull:function(){if(0===this._inputPts.length)return this._geomFactory.createGeometryCollection();if(1===this._inputPts.length)return this._geomFactory.createPoint(this._inputPts[0]);if(2===this._inputPts.length)return this._geomFactory.createLineString(this._inputPts);var t=this._inputPts;this._inputPts.length>50&&(t=this.reduce(this._inputPts));var e=this.preSort(t),n=this.grahamScan(e),r=this.toCoordinateArray(n);return this.lineOrPolygon(r)},padArray3:function(t){for(var e=new Array(3).fill(null),n=0;n<e.length;n++)n<t.length?e[n]=t[n]:e[n]=t[0];return e},computeOctPts:function(t){for(var e=new Array(8).fill(null),n=0;n<e.length;n++)e[n]=t[0];for(var r=1;r<t.length;r++)t[r].x<e[0].x&&(e[0]=t[r]),t[r].x-t[r].y<e[1].x-e[1].y&&(e[1]=t[r]),t[r].y>e[2].y&&(e[2]=t[r]),t[r].x+t[r].y>e[3].x+e[3].y&&(e[3]=t[r]),t[r].x>e[4].x&&(e[4]=t[r]),t[r].x-t[r].y>e[5].x-e[5].y&&(e[5]=t[r]),t[r].y<e[6].y&&(e[6]=t[r]),t[r].x+t[r].y<e[7].x+e[7].y&&(e[7]=t[r]);return e},toCoordinateArray:function(t){for(var e=new Array(t.size()).fill(null),n=0;n<t.size();n++){var r=t.get(n);e[n]=r}return e},grahamScan:function(t){var e=null,n=new te;n.push(t[0]),n.push(t[1]),n.push(t[2]);for(var r=3;r<t.length;r++){for(e=n.pop();!n.empty()&&A.index(n.peek(),e,t[r])>0;)e=n.pop();n.push(e),n.push(t[r])}return n.push(t[0]),n},interfaces_:function(){return[]},getClass:function(){return ne}}),ne.extractCoordinates=function(t){var e=new ee;return t.apply(e),e.getCoordinates()},Yo(re.prototype,{compare:function(t,e){var n=t,r=e;return re.polarCompare(this._origin,n,r)},interfaces_:function(){return[a]},getClass:function(){return re}}),re.polarCompare=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-t.x,a=n.y-t.y,s=A.index(t,e,n);if(s===A.COUNTERCLOCKWISE)return 1;if(s===A.CLOCKWISE)return-1;var l=r*r+i*i,u=o*o+a*a;return l<u?-1:l>u?1:0},ne.RadialComparator=re,Yo(ie.prototype,{addPolygon:function(t){if(t.isEmpty())return null;var e=null,n=null,r=this.horizontalBisector(t);if(0===r.getLength())n=0,e=r.getCoordinate();else{var i=r.intersection(t),o=this.widestGeometry(i);n=o.getEnvelopeInternal().getWidth(),e=ie.centre(o.getEnvelopeInternal())}(null===this._interiorPoint||n>this._maxWidth)&&(this._interiorPoint=e,this._maxWidth=n)},getInteriorPoint:function(){return this._interiorPoint},widestGeometry:function(){if(arguments[0]instanceof ct){var t=arguments[0];if(t.isEmpty())return t;for(var e=t.getGeometryN(0),n=1;n<t.getNumGeometries();n++)t.getGeometryN(n).getEnvelopeInternal().getWidth()>e.getEnvelopeInternal().getWidth()&&(e=t.getGeometryN(n));return e}if(arguments[0]instanceof F){var r=arguments[0];return r instanceof ct?this.widestGeometry(r):r}},horizontalBisector:function(t){var e=t.getEnvelopeInternal(),n=oe.getBisectorY(t);return this._factory.createLineString([new f(e.getMinX(),n),new f(e.getMaxX(),n)])},add:function(t){if(t instanceof Mt)this.addPolygon(t);else if(t instanceof ct)for(var e=t,n=0;n<e.getNumGeometries();n++)this.add(e.getGeometryN(n))},interfaces_:function(){return[]},getClass:function(){return ie}}),ie.centre=function(t){return new f(ie.avg(t.getMinX(),t.getMaxX()),ie.avg(t.getMinY(),t.getMaxY()))},ie.avg=function(t,e){return(t+e)/2},Yo(oe.prototype,{updateInterval:function(t){t<=this._centreY?t>this._loY&&(this._loY=t):t>this._centreY&&t<this._hiY&&(this._hiY=t)},getBisectorY:function(){this.process(this._poly.getExteriorRing());for(var t=0;t<this._poly.getNumInteriorRing();t++)this.process(this._poly.getInteriorRingN(t));return ie.avg(this._hiY,this._loY)},process:function(t){for(var e=t.getCoordinateSequence(),n=0;n<e.size();n++){var r=e.getY(n);this.updateInterval(r)}},interfaces_:function(){return[]},getClass:function(){return oe}}),oe.getBisectorY=function(t){return new oe(t).getBisectorY()},ie.SafeBisectorFinder=oe,Yo(ae.prototype,{addEndpoints:function(){if(arguments[0]instanceof F){var t=arguments[0];if(t instanceof bt)this.addEndpoints(t.getCoordinates());else if(t instanceof ct)for(var e=t,n=0;n<e.getNumGeometries();n++)this.addEndpoints(e.getGeometryN(n))}else if(arguments[0]instanceof Array){var r=arguments[0];this.add(r[0]),this.add(r[r.length-1])}},getInteriorPoint:function(){return this._interiorPoint},addInterior:function(){if(arguments[0]instanceof F){var t=arguments[0];if(t instanceof bt)this.addInterior(t.getCoordinates());else if(t instanceof ct)for(var e=t,n=0;n<e.getNumGeometries();n++)this.addInterior(e.getGeometryN(n))}else if(arguments[0]instanceof Array)for(var r=arguments[0],n=1;n<r.length-1;n++)this.add(r[n])},add:function(t){var e=t.distance(this._centroid);e<this._minDistance&&(this._interiorPoint=new f(t),this._minDistance=e)},interfaces_:function(){return[]},getClass:function(){return ae}}),Yo(se.prototype,{getInteriorPoint:function(){return this._interiorPoint},add:function(){if(arguments[0]instanceof F){var t=arguments[0];if(t instanceof wt)this.add(t.getCoordinate());else if(t instanceof ct)for(var e=t,n=0;n<e.getNumGeometries();n++)this.add(e.getGeometryN(n))}else if(arguments[0]instanceof f){var r=arguments[0],i=r.distance(this._centroid);i<this._minDistance&&(this._interiorPoint=new f(r),this._minDistance=i)}},interfaces_:function(){return[]},getClass:function(){return se}}),Yo(le.prototype,{select:function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},interfaces_:function(){return[]},getClass:function(){return le}}),Yo(ue.prototype,{hasChildren:function(){for(var t=0;t<2;t++)if(null!==this._subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this._items);for(var e=0;e<2;e++)null!==this._subnode[e]&&this._subnode[e].addAllItems(t);return t},size:function(){for(var t=0,e=0;e<2;e++)null!==this._subnode[e]&&(t+=this._subnode[e].size());return t+this._items.size()},addAllItemsFromOverlapping:function(t,e){if(null!==t&&!this.isSearchMatch(t))return null;e.addAll(this._items),null!==this._subnode[0]&&this._subnode[0].addAllItemsFromOverlapping(t,e),null!==this._subnode[1]&&this._subnode[1].addAllItemsFromOverlapping(t,e)},hasItems:function(){return!this._items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var n=!1,r=0;r<2;r++)if(null!==this._subnode[r]&&(n=this._subnode[r].remove(t,e))){this._subnode[r].isPrunable()&&(this._subnode[r]=null);break}return n||(n=this._items.remove(e))},getItems:function(){return this._items},depth:function(){for(var t=0,e=0;e<2;e++)if(null!==this._subnode[e]){var n=this._subnode[e].depth();n>t&&(t=n)}return t+1},nodeSize:function(){for(var t=0,e=0;e<2;e++)null!==this._subnode[e]&&(t+=this._subnode[e].nodeSize());return t+1},add:function(t){this._items.add(t)},interfaces_:function(){return[]},getClass:function(){return ue}}),ue.getSubnodeIndex=function(t,e){var n=-1;return t.min>=e&&(n=1),t.max<=e&&(n=0),n},Yo(ce.prototype,{expandToInclude:function(t){t.max>this.max&&(this.max=t.max),t.min<this.min&&(this.min=t.min)},getWidth:function(){return this.max-this.min},overlaps:function(){if(1===arguments.length){var t=arguments[0];return this.overlaps(t.min,t.max)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!(this.min>n||this.max<e)}},getMin:function(){return this.min},toString:function(){return"["+this.min+", "+this.max+"]"},contains:function(){if(1===arguments.length){if(arguments[0]instanceof ce){var t=arguments[0];return this.contains(t.min,t.max)}if("number"==typeof arguments[0]){var e=arguments[0];return e>=this.min&&e<=this.max}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return n>=this.min&&r<=this.max}},init:function(t,e){this.min=t,this.max=e,t>e&&(this.min=e,this.max=t)},getMax:function(){return this.max},interfaces_:function(){return[]},getClass:function(){return ce}}),fe.exponent=function(t){return function(t,e){var n,r,i,o,a={32:8,64:11}[64];if(o||(n=e<0||1/e<0,isFinite(e)||(o={32:{d:127,c:128,b:0,a:0},64:{d:32752,c:0,b:0,a:0}}[64],n&&(o.d+=32768),r=Math.pow(2,a)-1,i=0)),!o){for(r={32:127,64:1023}[64],i=Math.abs(e);i>=2;)r++,i/=2;for(;i<1&&r>0;)r--,i*=2;r<=0&&(i/=2)}return r}(0,t)-1023},fe.powerOf2=function(t){return Math.pow(2,t)},Yo(he.prototype,{getInterval:function(){return this._interval},getLevel:function(){return this._level},computeKey:function(t){for(this._level=he.computeLevel(t),this._interval=new ce,this.computeInterval(this._level,t);!this._interval.contains(t);)this._level+=1,this.computeInterval(this._level,t)},computeInterval:function(t,e){var n=fe.powerOf2(t);this._pt=Math.floor(e.getMin()/n)*n,this._interval.init(this._pt,this._pt+n)},getPoint:function(){return this._pt},interfaces_:function(){return[]},getClass:function(){return he}}),he.computeLevel=function(t){var e=t.getWidth();return fe.exponent(e)+1},Xo(de,ue),Yo(de.prototype,{getInterval:function(){return this._interval},find:function(t){var e=ue.getSubnodeIndex(t,this._centre);return-1===e?this:null!==this._subnode[e]?this._subnode[e].find(t):this},insert:function(t){c.isTrue(null===this._interval||this._interval.contains(t._interval));var e=ue.getSubnodeIndex(t._interval,this._centre);if(t._level===this._level-1)this._subnode[e]=t;else{var n=this.createSubnode(e);n.insert(t),this._subnode[e]=n}},isSearchMatch:function(t){return t.overlaps(this._interval)},getSubnode:function(t){return null===this._subnode[t]&&(this._subnode[t]=this.createSubnode(t)),this._subnode[t]},getNode:function(t){var e=ue.getSubnodeIndex(t,this._centre);return-1!==e?this.getSubnode(e).getNode(t):this},createSubnode:function(t){var e=0,n=0;switch(t){case 0:e=this._interval.getMin(),n=this._centre;break;case 1:e=this._centre,n=this._interval.getMax()}return new de(new ce(e,n),this._level-1)},interfaces_:function(){return[]},getClass:function(){return de}}),de.createNode=function(t){var e=new he(t);return new de(e.getInterval(),e.getLevel())},de.createExpanded=function(t,e){var n=new ce(e);null!==t&&n.expandToInclude(t._interval);var r=de.createNode(n);return null!==t&&r.insert(t),r},Yo(pe.prototype,{interfaces_:function(){return[]},getClass:function(){return pe}}),pe.isZeroWidth=function(t,e){var n=e-t;if(0===n)return!0;var r=Math.max(Math.abs(t),Math.abs(e));return fe.exponent(n/r)<=pe.MIN_BINARY_EXPONENT},pe.MIN_BINARY_EXPONENT=-50,Xo(me,ue),Yo(me.prototype,{insert:function(t,e){var n=ue.getSubnodeIndex(t,me.origin);if(-1===n)return this.add(e),null;var r=this._subnode[n];if(null===r||!r.getInterval().contains(t)){var i=de.createExpanded(r,t);this._subnode[n]=i}this.insertContained(this._subnode[n],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,n){c.isTrue(t.getInterval().contains(e)),(pe.isZeroWidth(e.getMin(),e.getMax())?t.find(e):t.getNode(e)).add(n)},interfaces_:function(){return[]},getClass:function(){return me}}),me.origin=0,Yo(ge.prototype,{size:function(){return null!==this._root?this._root.size():0},insert:function(t,e){this.collectStats(t);var n=ge.ensureExtent(t,this._minExtent);this._root.insert(n,e)},query:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];return this.query(new ce(t,t))}if(arguments[0]instanceof ce){var e=arguments[0],n=new b;return this.query(e,n),n}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this._root.addAllItemsFromOverlapping(r,i)}},iterator:function(){var t=new b;return this._root.addAllItems(t),t.iterator()},remove:function(t,e){var n=ge.ensureExtent(t,this._minExtent);return this._root.remove(n,e)},collectStats:function(t){var e=t.getWidth();e<this._minExtent&&e>0&&(this._minExtent=e)},depth:function(){return null!==this._root?this._root.depth():0},nodeSize:function(){return null!==this._root?this._root.nodeSize():0},interfaces_:function(){return[]},getClass:function(){return ge}}),ge.ensureExtent=function(t,e){var n=t.getMin(),r=t.getMax();return n!==r?t:(n===r&&(r=(n-=e/2)+e/2),new ce(n,r))},Yo(ve.prototype,{getLineSegment:function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},computeSelect:function(t,e,n,r){var i=this._pts[e],o=this._pts[n];if(n-e==1)return r.select(this,e),null;if(!t.intersects(i,o))return null;var a=Math.trunc((e+n)/2);e<a&&this.computeSelect(t,e,a,r),a<n&&this.computeSelect(t,a,n,r)},getCoordinates:function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},computeOverlaps:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.computeOverlaps(this._start,this._end,t,t._start,t._end,e)}else if(6===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3],a=arguments[4],s=arguments[5];if(r-n==1&&a-o==1)return s.overlap(this,n,i,o),null;if(!this.overlaps(n,r,i,o,a))return null;var l=Math.trunc((n+r)/2),u=Math.trunc((o+a)/2);n<l&&(o<u&&this.computeOverlaps(n,l,i,o,u,s),u<a&&this.computeOverlaps(n,l,i,u,a,s)),l<r&&(o<u&&this.computeOverlaps(l,r,i,o,u,s),u<a&&this.computeOverlaps(l,r,i,u,a,s))}},setId:function(t){this._id=t},select:function(t,e){this.computeSelect(t,this._start,this._end,e)},getEnvelope:function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new w(t,e)}return this._env},overlaps:function(t,e,n,r,i){return w.intersects(this._pts[t],this._pts[e],n._pts[r],n._pts[i])},getEndIndex:function(){return this._end},getStartIndex:function(){return this._start},getContext:function(){return this._context},getId:function(){return this._id},interfaces_:function(){return[]},getClass:function(){return ve}}),Yo(ye.prototype,{interfaces_:function(){return[]},getClass:function(){return ye}}),ye.isNorthern=function(t){return t===ye.NE||t===ye.NW},ye.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},ye.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},ye.isInHalfPlane=function(t,e){return e===ye.SE?t===ye.SE||t===ye.SW:t===e||t===e+1},ye.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new n("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?ye.NE:ye.SE:e>=0?ye.NW:ye.SW}if(arguments[0]instanceof f&&arguments[1]instanceof f){var r=arguments[0],i=arguments[1];if(i.x===r.x&&i.y===r.y)throw new n("Cannot compute the quadrant for two identical points "+r);return i.x>=r.x?i.y>=r.y?ye.NE:ye.SE:i.y>=r.y?ye.NW:ye.SW}},ye.NE=0,ye.NW=1,ye.SW=2,ye.SE=3,Yo(be.prototype,{interfaces_:function(){return[]},getClass:function(){return be}}),be.getChainStartIndices=function(t){var e=0,n=new b;n.add(new S(e));do{var r=be.findChainEnd(t,e);n.add(new S(r)),e=r}while(e<t.length-1);return be.toIntArray(n)},be.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=ye.quadrant(t[n],t[n+1]),i=e+1;i<t.length&&(t[i-1].equals2D(t[i])||ye.quadrant(t[i-1],t[i])===r);)i++;return i-1},be.getChains=function(){if(1===arguments.length){var t=arguments[0];return be.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=new b,i=be.getChainStartIndices(e),o=0;o<i.length-1;o++){var a=new ve(e,i[o],i[o+1],n);r.add(a)}return r}},be.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e},Yo(_e.prototype,{interfaces_:function(){return[]},getClass:function(){return _e}}),_e.orientationIndex=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-e.x,a=n.y-e.y;return _e.signOfDet2x2(r,i,o,a)},_e.signOfDet2x2=function(t,e,n,r){var i=null,o=null,a=null;if(i=1,0===t||0===r)return 0===e||0===n?0:e>0?n>0?-i:i:n>0?i:-i;if(0===e||0===n)return r>0?t>0?i:-i:t>0?-i:i;if(0<e?0<r?e<=r||(i=-i,o=t,t=n,n=o,o=e,e=r,r=o):e<=-r?(i=-i,n=-n,r=-r):(o=t,t=-n,n=o,o=e,e=-r,r=o):0<r?-e<=r?(i=-i,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=r,r=o):e>=r?(t=-t,e=-e,n=-n,r=-r):(i=-i,o=-t,t=-n,n=o,o=-e,e=-r,r=o),0<t){if(!(0<n))return i;if(!(t<=n))return i}else{if(0<n)return-i;if(!(t>=n))return-i;i=-i,t=-t,n=-n}for(;;){if(a=Math.floor(n/t),n-=a*t,(r-=a*e)<0)return-i;if(r>e)return i;if(t>n+n){if(e<r+r)return i}else{if(e>r+r)return-i;n=t-n,r=e-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if(a=Math.floor(t/n),t-=a*n,(e-=a*r)<0)return i;if(e>r)return-i;if(n>t+t){if(r<e+e)return-i}else{if(r>e+e)return i;t=n-t,e=r-e,i=-i}if(0===e)return 0===t?0:i;if(0===t)return-i}},Yo(we.prototype,{isInside:function(t){},interfaces_:function(){return[]},getClass:function(){return we}}),Yo(xe.prototype,{testLineSegment:function(t,e){var n=null,r=null,i=null,o=null,a=e.p0,s=e.p1;n=a.x-t.x,r=a.y-t.y,i=s.x-t.x,o=s.y-t.y,(r>0&&o<=0||o>0&&r<=0)&&0<_e.signOfDet2x2(n,r,i,o)/(o-r)&&this._crossings++},buildIndex:function(){this._tree=new ge;for(var t=H.removeRepeatedPoints(this._ring.getCoordinates()),e=be.getChains(t),n=0;n<e.size();n++){var r=e.get(n),i=r.getEnvelope();this._interval.min=i.getMinY(),this._interval.max=i.getMaxY(),this._tree.insert(this._interval,r)}},testMonotoneChain:function(t,e,n){n.select(t,e)},isInside:function(t){this._crossings=0;var e=new w(r.NEGATIVE_INFINITY,r.POSITIVE_INFINITY,t.y,t.y);this._interval.min=t.y,this._interval.max=t.y;for(var n=this._tree.query(this._interval),i=new Ee(this,t),o=n.iterator();o.hasNext();){var a=o.next();this.testMonotoneChain(e,i,a)}return this._crossings%2==1},interfaces_:function(){return[we]},getClass:function(){return xe}}),Xo(Ee,le),Yo(Ee.prototype,{select:function(){if(1!==arguments.length)return le.prototype.select.apply(this,arguments);var t=arguments[0];this.mcp.testLineSegment(this.p,t)},interfaces_:function(){return[]},getClass:function(){return Ee}}),xe.MCSelecter=Ee,Yo(Me.prototype,{interfaces_:function(){return[]},getClass:function(){return Me}}),Me.toDegrees=function(t){return 180*t/Math.PI},Me.normalize=function(t){for(;t>Math.PI;)t-=Me.PI_TIMES_2;for(;t<=-Math.PI;)t+=Me.PI_TIMES_2;return t},Me.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],r=n.x-e.x,i=n.y-e.y;return Math.atan2(i,r)}},Me.isAcute=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)>0},Me.isObtuse=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)<0},Me.interiorAngle=function(t,e,n){var r=Me.angle(e,t),i=Me.angle(e,n);return Math.abs(i-r)},Me.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Me.PI_TIMES_2;t>=Me.PI_TIMES_2&&(t=0)}else{for(;t>=Me.PI_TIMES_2;)t-=Me.PI_TIMES_2;t<0&&(t=0)}return t},Me.angleBetween=function(t,e,n){var r=Me.angle(e,t),i=Me.angle(e,n);return Me.diff(r,i)},Me.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},Me.toRadians=function(t){return t*Math.PI/180},Me.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?Me.COUNTERCLOCKWISE:n<0?Me.CLOCKWISE:Me.NONE},Me.angleBetweenOriented=function(t,e,n){var r=Me.angle(e,t),i=Me.angle(e,n)-r;return i<=-Math.PI?i+Me.PI_TIMES_2:i>Math.PI?i-Me.PI_TIMES_2:i},Me.PI_TIMES_2=2*Math.PI,Me.PI_OVER_2=Math.PI/2,Me.PI_OVER_4=Math.PI/4,Me.COUNTERCLOCKWISE=A.COUNTERCLOCKWISE,Me.CLOCKWISE=A.CLOCKWISE,Me.NONE=A.COLLINEAR,Yo(Se.prototype,{area:function(){return Se.area(this.p0,this.p1,this.p2)},signedArea:function(){return Se.signedArea(this.p0,this.p1,this.p2)},interpolateZ:function(t){if(null===t)throw new n("Supplied point is null.");return Se.interpolateZ(t,this.p0,this.p1,this.p2)},longestSideLength:function(){return Se.longestSideLength(this.p0,this.p1,this.p2)},isAcute:function(){return Se.isAcute(this.p0,this.p1,this.p2)},circumcentre:function(){return Se.circumcentre(this.p0,this.p1,this.p2)},area3D:function(){return Se.area3D(this.p0,this.p1,this.p2)},centroid:function(){return Se.centroid(this.p0,this.p1,this.p2)},inCentre:function(){return Se.inCentre(this.p0,this.p1,this.p2)},interfaces_:function(){return[]},getClass:function(){return Se}}),Se.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},Se.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},Se.det=function(t,e,n,r){return t*r-e*n},Se.interpolateZ=function(t,e,n,r){var i=e.x,o=e.y,a=n.x-i,s=r.x-i,l=n.y-o,u=r.y-o,c=a*u-s*l,f=t.x-i,h=t.y-o,d=(u*f-s*h)/c,p=(-l*f+a*h)/c;return e.z+d*(n.z-e.z)+p*(r.z-e.z)},Se.longestSideLength=function(t,e,n){var r=t.distance(e),i=e.distance(n),o=n.distance(t),a=r;return i>a&&(a=i),o>a&&(a=o),a},Se.isAcute=function(t,e,n){return!!Me.isAcute(t,e,n)&&!!Me.isAcute(e,n,t)&&!!Me.isAcute(n,t,e)},Se.circumcentre=function(t,e,n){var r=n.x,i=n.y,o=t.x-r,a=t.y-i,s=e.x-r,l=e.y-i,u=2*Se.det(o,a,s,l);return new f(r-Se.det(a,o*o+a*a,l,s*s+l*l)/u,i+Se.det(o,o*o+a*a,s,s*s+l*l)/u)},Se.perpendicularBisector=function(t,e){var n=e.x-t.x,r=e.y-t.y;return new R(new R(t.x+n/2,t.y+r/2,1),new R(t.x-r+n/2,t.y+n+r/2,1))},Se.angleBisector=function(t,e,n){var r=e.distance(t),i=r/(r+e.distance(n)),o=n.x-t.x,a=n.y-t.y;return new f(t.x+i*o,t.y+i*a)},Se.area3D=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=e.z-t.z,a=n.x-t.x,s=n.y-t.y,l=n.z-t.z,u=i*l-o*s,c=o*a-r*l,f=r*s-i*a,h=u*u+c*c+f*f;return Math.sqrt(h)/2},Se.centroid=function(t,e,n){return new f((t.x+e.x+n.x)/3,(t.y+e.y+n.y)/3)},Se.inCentre=function(t,e,n){var r=e.distance(n),i=t.distance(n),o=t.distance(e),a=r+i+o;return new f((r*t.x+i*e.x+o*n.x)/a,(r*t.y+i*e.y+o*n.y)/a)},Yo(Te.prototype,{getRadius:function(){return this.compute(),this._radius},getDiameter:function(){switch(this.compute(),this._extremalPts.length){case 0:return this._input.getFactory().createLineString();case 1:return this._input.getFactory().createPoint(this._centre)}var t=this._extremalPts[0],e=this._extremalPts[1];return this._input.getFactory().createLineString([t,e])},getExtremalPoints:function(){return this.compute(),this._extremalPts},computeCirclePoints:function(){if(this._input.isEmpty())return this._extremalPts=new Array(0).fill(null),null;if(1===this._input.getNumPoints())return e=this._input.getCoordinates(),this._extremalPts=[new f(e[0])],null;var t=this._input.convexHull().getCoordinates(),e=t;if(t[0].equals2D(t[t.length-1])&&(e=new Array(t.length-1).fill(null),H.copyDeep(t,0,e,0,t.length-1)),e.length<=2)return this._extremalPts=H.copyDeep(e),null;for(var n=Te.lowestPoint(e),r=Te.pointWitMinAngleWithX(e,n),i=0;i<e.length;i++){var o=Te.pointWithMinAngleWithSegment(e,n,r);if(Me.isObtuse(n,o,r))return this._extremalPts=[new f(n),new f(r)],null;if(Me.isObtuse(o,n,r))n=o;else{if(!Me.isObtuse(o,r,n))return this._extremalPts=[new f(n),new f(r),new f(o)],null;r=o}}c.shouldNeverReachHere("Logic failure in Minimum Bounding Circle algorithm!")},compute:function(){if(null!==this._extremalPts)return null;this.computeCirclePoints(),this.computeCentre(),null!==this._centre&&(this._radius=this._centre.distance(this._extremalPts[0]))},getFarthestPoints:function(){switch(this.compute(),this._extremalPts.length){case 0:return this._input.getFactory().createLineString();case 1:return this._input.getFactory().createPoint(this._centre)}var t=this._extremalPts[0],e=this._extremalPts[this._extremalPts.length-1];return this._input.getFactory().createLineString([t,e])},getCircle:function(){if(this.compute(),null===this._centre)return this._input.getFactory().createPolygon();var t=this._input.getFactory().createPoint(this._centre);return 0===this._radius?t:t.buffer(this._radius)},getCentre:function(){return this.compute(),this._centre},computeCentre:function(){switch(this._extremalPts.length){case 0:this._centre=null;break;case 1:this._centre=this._extremalPts[0];break;case 2:this._centre=new f((this._extremalPts[0].x+this._extremalPts[1].x)/2,(this._extremalPts[0].y+this._extremalPts[1].y)/2);break;case 3:this._centre=Se.circumcentre(this._extremalPts[0],this._extremalPts[1],this._extremalPts[2])}},interfaces_:function(){return[]},getClass:function(){return Te}}),Te.pointWitMinAngleWithX=function(t,e){for(var n=r.MAX_VALUE,i=null,o=0;o<t.length;o++){var a=t[o];if(a!==e){var s=a.x-e.x,l=a.y-e.y;l<0&&(l=-l);var u=l/Math.sqrt(s*s+l*l);u<n&&(n=u,i=a)}}return i},Te.lowestPoint=function(t){for(var e=t[0],n=1;n<t.length;n++)t[n].y<e.y&&(e=t[n]);return e},Te.pointWithMinAngleWithSegment=function(t,e,n){for(var i=r.MAX_VALUE,o=null,a=0;a<t.length;a++){var s=t[a];if(s!==e&&s!==n){var l=Me.angleBetween(e,s,n);l<i&&(i=l,o=s)}}return o},Yo(Ce.prototype,{getWidthCoordinate:function(){return this.computeMinimumDiameter(),this._minWidthPt},getSupportingSegment:function(){return this.computeMinimumDiameter(),this._inputGeom.getFactory().createLineString([this._minBaseSeg.p0,this._minBaseSeg.p1])},getDiameter:function(){if(this.computeMinimumDiameter(),null===this._minWidthPt)return this._inputGeom.getFactory().createLineString();var t=this._minBaseSeg.project(this._minWidthPt);return this._inputGeom.getFactory().createLineString([t,this._minWidthPt])},computeWidthConvex:function(t){this._convexHullPts=t instanceof Mt?t.getExteriorRing().getCoordinates():t.getCoordinates(),0===this._convexHullPts.length?(this._minWidth=0,this._minWidthPt=null,this._minBaseSeg=null):1===this._convexHullPts.length?(this._minWidth=0,this._minWidthPt=this._convexHullPts[0],this._minBaseSeg.p0=this._convexHullPts[0],this._minBaseSeg.p1=this._convexHullPts[0]):2===this._convexHullPts.length||3===this._convexHullPts.length?(this._minWidth=0,this._minWidthPt=this._convexHullPts[0],this._minBaseSeg.p0=this._convexHullPts[0],this._minBaseSeg.p1=this._convexHullPts[1]):this.computeConvexRingMinDiameter(this._convexHullPts)},computeConvexRingMinDiameter:function(t){this._minWidth=r.MAX_VALUE;for(var e=1,n=new Wt,i=0;i<t.length-1;i++)n.p0=t[i],n.p1=t[i+1],e=this.findMaxPerpDistance(t,n,e)},computeMinimumDiameter:function(){if(null!==this._minWidthPt)return null;if(this._isConvex)this.computeWidthConvex(this._inputGeom);else{var t=new ne(this._inputGeom).getConvexHull();this.computeWidthConvex(t)}},getLength:function(){return this.computeMinimumDiameter(),this._minWidth},findMaxPerpDistance:function(t,e,n){for(var r=e.distancePerpendicular(t[n]),i=r,o=n,a=o;i>=r;)r=i,a=Ce.nextIndex(t,o=a),i=e.distancePerpendicular(t[a]);return r<this._minWidth&&(this._minPtIndex=o,this._minWidth=r,this._minWidthPt=t[this._minPtIndex],this._minBaseSeg=new Wt(e)),o},getMinimumRectangle:function(){if(this.computeMinimumDiameter(),0===this._minWidth)return this._minBaseSeg.p0.equals2D(this._minBaseSeg.p1)?this._inputGeom.getFactory().createPoint(this._minBaseSeg.p0):this._minBaseSeg.toGeometry(this._inputGeom.getFactory());for(var t=this._minBaseSeg.p1.x-this._minBaseSeg.p0.x,e=this._minBaseSeg.p1.y-this._minBaseSeg.p0.y,n=r.MAX_VALUE,i=-r.MAX_VALUE,o=r.MAX_VALUE,a=-r.MAX_VALUE,s=0;s<this._convexHullPts.length;s++){var l=Ce.computeC(t,e,this._convexHullPts[s]);l>i&&(i=l),l<n&&(n=l);var u=Ce.computeC(-e,t,this._convexHullPts[s]);u>a&&(a=u),u<o&&(o=u)}var c=Ce.computeSegmentForLine(-t,-e,a),f=Ce.computeSegmentForLine(-t,-e,o),h=Ce.computeSegmentForLine(-e,t,i),d=Ce.computeSegmentForLine(-e,t,n),p=h.lineIntersection(c),m=d.lineIntersection(c),g=d.lineIntersection(f),v=h.lineIntersection(f),y=this._inputGeom.getFactory().createLinearRing([p,m,g,v,p]);return this._inputGeom.getFactory().createPolygon(y)},interfaces_:function(){return[]},getClass:function(){return Ce}}),Ce.nextIndex=function(t,e){return++e>=t.length&&(e=0),e},Ce.computeC=function(t,e,n){return t*n.y-e*n.x},Ce.getMinimumDiameter=function(t){return new Ce(t).getDiameter()},Ce.getMinimumRectangle=function(t){return new Ce(t).getMinimumRectangle()},Ce.computeSegmentForLine=function(t,e,n){var r=null,i=null;return Math.abs(e)>Math.abs(t)?(r=new f(0,n/e),i=new f(1,n/e-t/e)):(r=new f(n/t,0),i=new f(n/t-e/t,1)),new Wt(r,i)};var la=Object.freeze({Centroid:Zt,CGAlgorithms:Qt,ConvexHull:ne,InteriorPointArea:ie,InteriorPointLine:ae,InteriorPointPoint:se,RobustLineIntersector:qt,MCPointInRing:xe,MinimumBoundingCircle:Te,MinimumDiameter:Ce});Yo(Oe.prototype,{transformPoint:function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},transformPolygon:function(t,e){var n=!0,r=this.transformLinearRing(t.getExteriorRing(),t);null!==r&&r instanceof Tt&&!r.isEmpty()||(n=!1);for(var i=new b,o=0;o<t.getNumInteriorRing();o++){var a=this.transformLinearRing(t.getInteriorRingN(o),t);null===a||a.isEmpty()||(a instanceof Tt||(n=!1),i.add(a))}if(n)return this._factory.createPolygon(r,i.toArray([]));var s=new b;return null!==r&&s.add(r),s.addAll(i),this._factory.buildGeometry(s)},createCoordinateSequence:function(t){return this._factory.getCoordinateSequenceFactory().create(t)},getInputGeometry:function(){return this._inputGeom},transformMultiLineString:function(t,e){for(var n=new b,r=0;r<t.getNumGeometries();r++){var i=this.transformLineString(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},transformCoordinates:function(t,e){return this.copy(t)},transformLineString:function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},transformMultiPoint:function(t,e){for(var n=new b,r=0;r<t.getNumGeometries();r++){var i=this.transformPoint(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},transformMultiPolygon:function(t,e){for(var n=new b,r=0;r<t.getNumGeometries();r++){var i=this.transformPolygon(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},copy:function(t){return t.copy()},transformGeometryCollection:function(t,e){for(var n=new b,r=0;r<t.getNumGeometries();r++){var i=this.transform(t.getGeometryN(r));null!==i&&(this._pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(Bt.toGeometryArray(n)):this._factory.buildGeometry(n)},transform:function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof wt)return this.transformPoint(t,null);if(t instanceof St)return this.transformMultiPoint(t,null);if(t instanceof Tt)return this.transformLinearRing(t,null);if(t instanceof bt)return this.transformLineString(t,null);if(t instanceof ft)return this.transformMultiLineString(t,null);if(t instanceof Mt)return this.transformPolygon(t,null);if(t instanceof Ct)return this.transformMultiPolygon(t,null);if(t instanceof ct)return this.transformGeometryCollection(t,null);throw new n("Unknown Geometry subtype: "+t.getClass().getName())},transformLinearRing:function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},interfaces_:function(){return[]},getClass:function(){return Oe}}),Yo(Ae.prototype,{getResultGeometry:function(){return new Ie(this._distanceTolerance).transform(this._inputGeom)},setDistanceTolerance:function(t){if(t<=0)throw new n("Tolerance must be positive");this._distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return Ae}}),Ae.densifyPoints=function(t,e,n){for(var r=new Wt,i=new _,o=0;o<t.length-1;o++){r.p0=t[o],r.p1=t[o+1],i.add(r.p0,!1);var a=r.getLength(),s=Math.trunc(a/e)+1;if(s>1)for(var l=a/s,u=1;u<s;u++){var c=u*l/a,f=r.pointAlong(c);n.makePrecise(f),i.add(f,!1)}}return i.add(t[t.length-1],!1),i.toCoordinateArray()},Ae.densify=function(t,e){var n=new Ae(t);return n.setDistanceTolerance(e),n.getResultGeometry()},Xo(Ie,Oe),Yo(Ie.prototype,{transformMultiPolygon:function(t,e){var n=Oe.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(n)},transformPolygon:function(t,e){var n=Oe.prototype.transformPolygon.call(this,t,e);return e instanceof Ct?n:this.createValidArea(n)},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),r=Ae.densifyPoints(n,this.distanceTolerance,e.getPrecisionModel());return e instanceof bt&&1===r.length&&(r=new Array(0).fill(null)),this._factory.getCoordinateSequenceFactory().create(r)},createValidArea:function(t){return t.buffer(0)},interfaces_:function(){return[]},getClass:function(){return Ie}}),Ae.DensifyTransformer=Ie;var ua=Object.freeze({Densifier:Ae});Yo(Re.prototype,{find:function(t){var e=this;do{if(null===e)return null;if(e.dest().equals2D(t))return e;e=e.oNext()}while(e!==this);return null},dest:function(){return this._sym._orig},oNext:function(){return this._sym._next},insert:function(t){if(this.oNext()===this)return this.insertAfter(t),null;var e=this.compareTo(t),n=this;do{var r=n.oNext();if(r.compareTo(t)!==e||r===this)return n.insertAfter(t),null;n=r}while(n!==this);c.shouldNeverReachHere()},insertAfter:function(t){c.equals(this._orig,t.orig());var e=this.oNext();this._sym.setNext(t),t.sym().setNext(e)},degree:function(){var t=0,e=this;do{t++,e=e.oNext()}while(e!==this);return t},equals:function(){if(2===arguments.length&&arguments[1]instanceof f&&arguments[0]instanceof f){var t=arguments[0],e=arguments[1];return this._orig.equals2D(t)&&this._sym._orig.equals(e)}},deltaY:function(){return this._sym._orig.y-this._orig.y},sym:function(){return this._sym},prev:function(){return this._sym.next()._sym},compareAngularDirection:function(t){var e=this.deltaX(),n=this.deltaY(),r=t.deltaX(),i=t.deltaY();if(e===r&&n===i)return 0;var o=ye.quadrant(e,n),a=ye.quadrant(r,i);return o>a?1:o<a?-1:A.index(t._orig,t.dest(),this.dest())},prevNode:function(){for(var t=this;2===t.degree();)if((t=t.prev())===this)return null;return t},compareTo:function(t){var e=t;return this.compareAngularDirection(e)},next:function(){return this._next},setSym:function(t){this._sym=t},orig:function(){return this._orig},toString:function(){return"HE("+this._orig.x+" "+this._orig.y+", "+this._sym._orig.x+" "+this._sym._orig.y+")"},setNext:function(t){this._next=t},init:function(t){this.setSym(t),t.setSym(this),this.setNext(t),t.setNext(this)},deltaX:function(){return this._sym._orig.x-this._orig.x},interfaces_:function(){return[]},getClass:function(){return Re}}),Re.init=function(t,e){if(null!==t._sym||null!==e._sym||null!==t._next||null!==e._next)throw new IllegalStateException("Edges are already initialized");return t.init(e),t},Re.create=function(t,e){var n=new Re(t),r=new Re(e);return n.init(r),n},Xo(Pe,Re),Yo(Pe.prototype,{mark:function(){this._isMarked=!0},setMark:function(t){this._isMarked=t},isMarked:function(){return this._isMarked},interfaces_:function(){return[]},getClass:function(){return Pe}}),Pe.setMarkBoth=function(t,e){t.setMark(e),t.sym().setMark(e)},Pe.isMarked=function(t){return t.isMarked()},Pe.setMark=function(t,e){t.setMark(e)},Pe.markBoth=function(t){t.mark(),t.sym().mark()},Pe.mark=function(t){t.mark()},Yo(Le.prototype,{insert:function(t,e,n){var r=this.create(t,e);null!==n?n.insert(r):this._vertexMap.put(t,r);var i=this._vertexMap.get(e);return null!==i?i.insert(r.sym()):this._vertexMap.put(e,r.sym()),r},create:function(t,e){var n=this.createEdge(t),r=this.createEdge(e);return Re.init(n,r),n},createEdge:function(t){return new Re(t)},addEdge:function(t,e){if(!Le.isValidEdge(t,e))return null;var n=this._vertexMap.get(t),r=null;return null!==n&&(r=n.find(e)),null!==r?r:this.insert(t,e,n)},getVertexEdges:function(){return this._vertexMap.values()},findEdge:function(t,e){var n=this._vertexMap.get(t);return null===n?null:n.find(e)},interfaces_:function(){return[]},getClass:function(){return Le}}),Le.isValidEdge=function(t,e){return 0!==e.compareTo(t)},Xo(Ne,Pe),Yo(Ne.prototype,{setStart:function(){this._isStart=!0},isStart:function(){return this._isStart},interfaces_:function(){return[]},getClass:function(){return Ne}}),Xo(ke,Le),Yo(ke.prototype,{createEdge:function(t){return new Ne(t)},interfaces_:function(){return[]},getClass:function(){return ke}}),Yo(De.prototype,{addLine:function(t){this._lines.add(this._factory.createLineString(t.toCoordinateArray()))},updateRingStartEdge:function(t){return t.isStart()||(t=t.sym()).isStart()?null===this._ringStartEdge?(this._ringStartEdge=t,null):void(t.orig().compareTo(this._ringStartEdge.orig())<0&&(this._ringStartEdge=t)):null},getResult:function(){return null===this._result&&this.computeResult(),this._result},process:function(t){var e=t.prevNode();null===e&&(e=t),this.stackEdges(e),this.buildLines()},buildRing:function(t){var e=new _,n=t;for(e.add(n.orig().copy(),!1);2===n.sym().degree();){var r=n.next();if(r===t)break;e.add(r.orig().copy(),!1),n=r}e.add(n.dest().copy(),!1),this.addLine(e)},buildLine:function(t){var e=new _,n=t;for(this._ringStartEdge=null,Pe.markBoth(n),e.add(n.orig().copy(),!1);2===n.sym().degree();){this.updateRingStartEdge(n);var r=n.next();if(r===t)return this.buildRing(this._ringStartEdge),null;e.add(r.orig().copy(),!1),Pe.markBoth(n=r)}e.add(n.dest().clone(),!1),this.stackEdges(n.sym()),this.addLine(e)},stackEdges:function(t){var e=t;do{Pe.isMarked(e)||this._nodeEdgeStack.add(e),e=e.oNext()}while(e!==t)},computeResult:function(){for(var t=this._graph.getVertexEdges().iterator();t.hasNext();){var e=t.next();Pe.isMarked(e)||this.process(e)}this._result=this._factory.buildGeometry(this._lines)},buildLines:function(){for(;!this._nodeEdgeStack.empty();){var t=this._nodeEdgeStack.pop();Pe.isMarked(t)||this.buildLine(t)}},add:function(){if(arguments[0]instanceof F)arguments[0].apply({interfaces_:function(){return[D]},filter:function(t){t instanceof bt&&this.add(t)}});else if(Zo(arguments[0],p))for(i=arguments[0].iterator();i.hasNext();){var t=i.next();this.add(t)}else if(arguments[0]instanceof bt){var e=arguments[0];null===this._factory&&(this._factory=e.getFactory());for(var n=e.getCoordinateSequence(),r=!1,i=1;i<n.size();i++){var o=this._graph.addEdge(n.getCoordinate(i-1),n.getCoordinate(i));null!==o&&(r||(o.setStart(),r=!0))}}},interfaces_:function(){return[]},getClass:function(){return De}}),De.dissolve=function(t){var e=new De;return e.add(t),e.getResult()};var ca=Object.freeze({LineDissolver:De});Yo(Fe.prototype,{next:function(){if(this._atStart)return this._atStart=!1,Fe.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new v;var t=this._parent.getGeometryN(this._index++);return t instanceof ct?(this._subcollectionIterator=new Fe(t),this._subcollectionIterator.next()):t},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},interfaces_:function(){return[d]},getClass:function(){return Fe}}),Fe.isAtomic=function(t){return!(t instanceof ct)},Yo(je.prototype,{locateInPolygonRing:function(t,e){return e.getEnvelopeInternal().intersects(t)?Jt.locateInRing(t,e.getCoordinates()):Yt.EXTERIOR},intersects:function(t,e){return this.locate(t,e)!==Yt.EXTERIOR},updateLocationInfo:function(t){t===Yt.INTERIOR&&(this._isIn=!0),t===Yt.BOUNDARY&&this._numBoundaries++},computeLocation:function(t,e){if(e instanceof wt&&this.updateLocationInfo(this.locateOnPoint(t,e)),e instanceof bt)this.updateLocationInfo(this.locateOnLineString(t,e));else if(e instanceof Mt)this.updateLocationInfo(this.locateInPolygon(t,e));else if(e instanceof ft)for(var n=e,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.updateLocationInfo(this.locateOnLineString(t,i))}else if(e instanceof Ct)for(var o=e,r=0;r<o.getNumGeometries();r++){var a=o.getGeometryN(r);this.updateLocationInfo(this.locateInPolygon(t,a))}else if(e instanceof ct)for(var s=new Fe(e);s.hasNext();){var l=s.next();l!==e&&this.computeLocation(t,l)}},locateOnPoint:function(t,e){return e.getCoordinate().equals2D(t)?Yt.INTERIOR:Yt.EXTERIOR},locateOnLineString:function(t,e){if(!e.getEnvelopeInternal().intersects(t))return Yt.EXTERIOR;var n=e.getCoordinateSequence();return e.isClosed()||!t.equals(n.getCoordinate(0))&&!t.equals(n.getCoordinate(n.size()-1))?Jt.isOnLine(t,n)?Yt.INTERIOR:Yt.EXTERIOR:Yt.BOUNDARY},locateInPolygon:function(t,e){if(e.isEmpty())return Yt.EXTERIOR;var n=e.getExteriorRing(),r=this.locateInPolygonRing(t,n);if(r===Yt.EXTERIOR)return Yt.EXTERIOR;if(r===Yt.BOUNDARY)return Yt.BOUNDARY;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i),a=this.locateInPolygonRing(t,o);if(a===Yt.INTERIOR)return Yt.EXTERIOR;if(a===Yt.BOUNDARY)return Yt.BOUNDARY}return Yt.INTERIOR},locate:function(t,e){return e.isEmpty()?Yt.EXTERIOR:e instanceof bt?this.locateOnLineString(t,e):e instanceof Mt?this.locateInPolygon(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?Yt.BOUNDARY:this._numBoundaries>0||this._isIn?Yt.INTERIOR:Yt.EXTERIOR)},interfaces_:function(){return[]},getClass:function(){return je}}),Yo(Ue.prototype,{interfaces_:function(){return[]},getClass:function(){return Ue}}),Ue.opposite=function(t){return t===Ue.LEFT?Ue.RIGHT:t===Ue.RIGHT?Ue.LEFT:t},Ue.ON=0,Ue.LEFT=1,Ue.RIGHT=2,Yo(ze.prototype,{computeIntersections:function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},interfaces_:function(){return[]},getClass:function(){return ze}}),Yo(Be.prototype,{isDelete:function(){return this._eventType===Be.DELETE},setDeleteEventIndex:function(t){this._deleteEventIndex=t},getObject:function(){return this._obj},compareTo:function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},getInsertEvent:function(){return this._insertEvent},isInsert:function(){return this._eventType===Be.INSERT},isSameLabel:function(t){return null!==this._label&&this._label===t._label},getDeleteEventIndex:function(){return this._deleteEventIndex},interfaces_:function(){return[i]},getClass:function(){return Be}}),Be.INSERT=1,Be.DELETE=2,Yo(Ve.prototype,{interfaces_:function(){return[]},getClass:function(){return Ve}});var fa={reverseOrder:function(){return{compare:function(t,e){return e.compareTo(t)}}},min:function(t){return fa.sort(t),t.get(0)},sort:function(t,e){var n=t.toArray();e?at.sort(n,e):at.sort(n);for(var r=t.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},singletonList:function(t){var e=new b;return e.add(t),e}};Yo(Ge.prototype,{isTrivialIntersection:function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(Ge.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.getNumPoints()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},getProperIntersectionPoint:function(){return this._properIntersectionPoint},setIsDoneIfProperInt:function(t){this._isDoneWhenProperInt=t},hasProperInteriorIntersection:function(){return this._hasProperInterior},isBoundaryPointInternal:function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next().getCoordinate();if(t.isIntersection(r))return!0}return!1},hasProperIntersection:function(){return this._hasProper},hasIntersection:function(){return this._hasIntersection},isDone:function(){return this._isDone},isBoundaryPoint:function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},setBoundaryNodes:function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},addIntersections:function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},interfaces_:function(){return[]},getClass:function(){return Ge}}),Ge.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)},Xo(He,Ve),Yo(He.prototype,{prepareEvents:function(){fa.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},computeIntersections:function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Ge&&Zo(arguments[0],g)&&Zo(arguments[1],g)){var r=arguments[0],i=arguments[1],o=arguments[2];this.addEdges(r,r),this.addEdges(i,i),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&Zo(arguments[0],g)&&arguments[1]instanceof Ge){var a=arguments[0],s=arguments[1];arguments[2]?this.addEdges(a,null):this.addEdges(a),this.computeIntersections(s)}},addEdge:function(t,e){for(var n=t.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var o=new ze(n,i),a=new Be(e,n.getMinX(i),o);this.events.add(a),this.events.add(new Be(n.getMaxX(i),a))}},processOverlaps:function(t,e,n,r){for(var i=n.getObject(),o=t;o<e;o++){var a=this.events.get(o);if(a.isInsert()){var s=a.getObject();n.isSameLabel(a)||(i.computeIntersections(s,r),this.nOverlaps++)}}},addEdges:function(){if(1===arguments.length)for(n=arguments[0].iterator();n.hasNext();)r=n.next(),this.addEdge(r,r);else if(2===arguments.length)for(var t=arguments[0],e=arguments[1],n=t.iterator();n.hasNext();){var r=n.next();this.addEdge(r,e)}},interfaces_:function(){return[]},getClass:function(){return He}}),Yo(qe.prototype,{setAllLocations:function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},isNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==Yt.NONE)return!1;return!0},setAllLocationsIfNull:function(t){for(var e=0;e<this.location.length;e++)this.location[e]===Yt.NONE&&(this.location[e]=t)},isLine:function(){return 1===this.location.length},merge:function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Ue.ON]=this.location[Ue.ON],e[Ue.LEFT]=Yt.NONE,e[Ue.RIGHT]=Yt.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===Yt.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},getLocations:function(){return this.location},flip:function(){if(this.location.length<=1)return null;var t=this.location[Ue.LEFT];this.location[Ue.LEFT]=this.location[Ue.RIGHT],this.location[Ue.RIGHT]=t},toString:function(){var t=new M;return this.location.length>1&&t.append(Yt.toLocationSymbol(this.location[Ue.LEFT])),t.append(Yt.toLocationSymbol(this.location[Ue.ON])),this.location.length>1&&t.append(Yt.toLocationSymbol(this.location[Ue.RIGHT])),t.toString()},setLocations:function(t,e,n){this.location[Ue.ON]=t,this.location[Ue.LEFT]=e,this.location[Ue.RIGHT]=n},get:function(t){return t<this.location.length?this.location[t]:Yt.NONE},isArea:function(){return this.location.length>1},isAnyNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===Yt.NONE)return!0;return!1},setLocation:function(){if(1===arguments.length){var t=arguments[0];this.setLocation(Ue.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},init:function(t){this.location=new Array(t).fill(null),this.setAllLocations(Yt.NONE)},isEqualOnSide:function(t,e){return this.location[e]===t.location[e]},allPositionsEqual:function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},interfaces_:function(){return[]},getClass:function(){return qe}}),Yo(We.prototype,{getGeometryCount:function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},setAllLocations:function(t,e){this.elt[t].setAllLocations(e)},isNull:function(t){return this.elt[t].isNull()},setAllLocationsIfNull:function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},isLine:function(t){return this.elt[t].isLine()},merge:function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new qe(t.elt[e]):this.elt[e].merge(t.elt[e])},flip:function(){this.elt[0].flip(),this.elt[1].flip()},getLocation:function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(Ue.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},toString:function(){var t=new M;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},isArea:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},isAnyNull:function(t){return this.elt[t].isAnyNull()},setLocation:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(Ue.ON,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}},isEqualOnSide:function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},allPositionsEqual:function(t,e){return this.elt[t].allPositionsEqual(e)},toLine:function(t){this.elt[t].isArea()&&(this.elt[t]=new qe(this.elt[t].location[0]))},interfaces_:function(){return[]},getClass:function(){return We}}),We.toLineLabel=function(t){for(var e=new We(Yt.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e},Yo(Ye.prototype,{visitItem:function(t){},interfaces_:function(){return[]},getClass:function(){return Ye}}),Yo(Xe.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return Xe}}),Yo(Ze.prototype,{getMin:function(){return this._min},intersects:function(t,e){return!(this._min>e||this._max<t)},getMax:function(){return this._max},toString:function(){return Gt.toLineString(new f(this._min,0),new f(this._max,0))},interfaces_:function(){return[]},getClass:function(){return Ze}}),Yo(Ke.prototype,{compare:function(t,e){var n=t,r=e,i=(n._min+n._max)/2,o=(r._min+r._max)/2;return i<o?-1:i>o?1:0},interfaces_:function(){return[a]},getClass:function(){return Ke}}),Ze.NodeComparator=Ke,Xo(Qe,Ze),Yo(Qe.prototype,{query:function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},interfaces_:function(){return[]},getClass:function(){return Qe}}),Xo(Je,Ze),Yo(Je.prototype,{buildExtent:function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},query:function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},interfaces_:function(){return[]},getClass:function(){return Je}}),Yo($e.prototype,{buildTree:function(){fa.sort(this._leaves,new Ze.NodeComparator);for(var t=this._leaves,e=null,n=new b;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},insert:function(t,e,n){if(null!==this._root)throw new IllegalStateException("Index cannot be added to once it has been queried");this._leaves.add(new Qe(t,e,n))},query:function(t,e,n){this.init(),this._root.query(t,e,n)},buildRoot:function(){if(null!==this._root)return null;this._root=this.buildTree()},printNode:function(t){I.out.println(Gt.toLineString(new f(t._min,this._level),new f(t._max,this._level)))},init:function(){if(null!==this._root)return null;this.buildRoot()},buildLevel:function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var r=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(r);else{var i=new Je(t.get(n),t.get(n+1));e.add(i)}}},interfaces_:function(){return[]},getClass:function(){return $e}}),Yo(tn.prototype,{filter:function(t){if(this._isForcedToLineString&&t instanceof Tt){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof bt&&this._lines.add(t)},setForceToLineString:function(t){this._isForcedToLineString=t},interfaces_:function(){return[D]},getClass:function(){return tn}}),tn.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(tn.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(tn.getLines(e,n))}},tn.getLines=function(){if(1===arguments.length){var t=arguments[0];return tn.getLines(t,!1)}if(2===arguments.length){if(Zo(arguments[0],p)&&Zo(arguments[1],p)){for(var e=arguments[0],n=arguments[1],r=e.iterator();r.hasNext();)h=r.next(),tn.getLines(h,n);return n}if(arguments[0]instanceof F&&"boolean"==typeof arguments[1]){var i=arguments[0],o=arguments[1],a=new b;return i.apply(new tn(a,o)),a}if(arguments[0]instanceof F&&Zo(arguments[1],p)){var s=arguments[0],l=arguments[1];return s instanceof bt?l.add(s):s.apply(new tn(l)),l}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&Zo(arguments[0],p)&&Zo(arguments[1],p)){for(var u=arguments[0],c=arguments[1],f=arguments[2],r=u.iterator();r.hasNext();){var h=r.next();tn.getLines(h,c,f)}return c}if("boolean"==typeof arguments[2]&&arguments[0]instanceof F&&Zo(arguments[1],p)){var d=arguments[0],m=arguments[1],g=arguments[2];return d.apply(new tn(m,g)),m}}},Yo(en.prototype,{visitItem:function(t){this._items.add(t)},getItems:function(){return this._items},interfaces_:function(){return[Ye]},getClass:function(){return en}}),Yo(nn.prototype,{locate:function(t){var e=new Kt(t),n=new rn(e);return this._index.query(t.y,t.y,n),e.getLocation()},interfaces_:function(){return[Xe]},getClass:function(){return nn}}),Yo(rn.prototype,{visitItem:function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},interfaces_:function(){return[Ye]},getClass:function(){return rn}}),Yo(on.prototype,{init:function(t){for(var e=tn.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},addLine:function(t){for(var e=1;e<t.length;e++){var n=new Wt(t[e-1],t[e]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this._index.insert(r,i,n)}},query:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new en;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._index.query(r,i,o)}},interfaces_:function(){return[]},getClass:function(){return on}}),nn.SegmentVisitor=rn,nn.IntervalIndexedGeometry=on,Yo(an.prototype,{getSegmentIndex:function(){return this.segmentIndex},getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},compareTo:function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},isEndPoint:function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},toString:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},getDistance:function(){return this.dist},compare:function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},interfaces_:function(){return[i]},getClass:function(){return an}}),Yo(sn.prototype,{print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},iterator:function(){return this._nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},addEndpoints:function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},createSplitEdge:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this.edge.pts[e.segmentIndex],i=e.dist>0||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new f(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)o[a++]=this.edge.pts[s];return i&&(o[a]=e.coord),new hn(o,new We(this.edge._label))},add:function(t,e,n){var r=new an(t,e,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)},isIntersection:function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},interfaces_:function(){return[]},getClass:function(){return sn}}),Yo(ln.prototype,{getChainStartIndices:function(t){var e=0,n=new b;n.add(new S(e));do{var r=this.findChainEnd(t,e);n.add(new S(r)),e=r}while(e<t.length-1);return ln.toIntArray(n)},findChainEnd:function(t,e){for(var n=ye.quadrant(t[e],t[e+1]),r=e+1;r<t.length&&ye.quadrant(t[r-1],t[r])===n;)r++;return r-1},interfaces_:function(){return[]},getClass:function(){return ln}}),ln.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e},Yo(un.prototype,{getCoordinates:function(){return this.pts},getMaxX:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},getMinX:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},computeIntersectsForChain:function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],r)}else if(6===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],l=arguments[4],u=arguments[5];if(o-i==1&&l-s==1)return u.addIntersections(this.e,i,a.e,s),null;if(!this.overlaps(i,o,a,s,l))return null;var c=Math.trunc((i+o)/2),f=Math.trunc((s+l)/2);i<c&&(s<f&&this.computeIntersectsForChain(i,c,a,s,f,u),f<l&&this.computeIntersectsForChain(i,c,a,f,l,u)),c<o&&(s<f&&this.computeIntersectsForChain(c,o,a,s,f,u),f<l&&this.computeIntersectsForChain(c,o,a,f,l,u))}},overlaps:function(t,e,n,r,i){return w.intersects(this.pts[t],this.pts[e],n.pts[r],n.pts[i])},getStartIndexes:function(){return this.startIndex},computeIntersects:function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<t.startIndex.length-1;r++)this.computeIntersectsForChain(n,t,r,e)},interfaces_:function(){return[]},getClass:function(){return un}}),Yo(cn.prototype,{getDepth:function(t,e){return this._depth[t][e]},setDepth:function(t,e,n){this._depth[t][e]=n},isNull:function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==cn.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===cn.NULL_VALUE}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._depth[r][i]===cn.NULL_VALUE}},normalize:function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var r=0;this._depth[t][n]>e&&(r=1),this._depth[t][n]=r}}},getDelta:function(t){return this._depth[t][Ue.RIGHT]-this._depth[t][Ue.LEFT]},getLocation:function(t,e){return this._depth[t][e]<=0?Yt.EXTERIOR:Yt.INTERIOR},toString:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},add:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var r=t.getLocation(e,n);r!==Yt.EXTERIOR&&r!==Yt.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=cn.depthAtLocation(r):this._depth[e][n]+=cn.depthAtLocation(r))}else if(3===arguments.length){var i=arguments[0],o=arguments[1];arguments[2]===Yt.INTERIOR&&this._depth[i][o]++}},interfaces_:function(){return[]},getClass:function(){return cn}}),cn.depthAtLocation=function(t){return t===Yt.EXTERIOR?0:t===Yt.INTERIOR?1:cn.NULL_VALUE},cn.NULL_VALUE=-1,Yo(fn.prototype,{setVisited:function(t){this._isVisited=t},setInResult:function(t){this._isInResult=t},isCovered:function(){return this._isCovered},isCoveredSet:function(){return this._isCoveredSet},setLabel:function(t){this._label=t},getLabel:function(){return this._label},setCovered:function(t){this._isCovered=t,this._isCoveredSet=!0},updateIM:function(t){c.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},isInResult:function(){return this._isInResult},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return fn}}),Xo(hn,fn),Yo(hn.prototype,{getDepth:function(){return this._depth},getCollapsedEdge:function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new hn(t,We.toLineLabel(this._label))},isIsolated:function(){return this._isIsolated},getCoordinates:function(){return this.pts},setIsolated:function(t){this._isIsolated=t},setName:function(t){this._name=t},equals:function(t){if(!(t instanceof hn))return!1;var e=t;if(this.pts.length!==e.pts.length)return!1;for(var n=!0,r=!0,i=this.pts.length,o=0;o<this.pts.length;o++)if(this.pts[o].equals2D(e.pts[o])||(n=!1),this.pts[o].equals2D(e.pts[--i])||(r=!1),!n&&!r)return!1;return!0},getCoordinate:function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},print:function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},computeIM:function(t){hn.updateIM(this._label,t)},isCollapsed:function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getMaximumSegmentIndex:function(){return this.pts.length-1},getDepthDelta:function(){return this._depthDelta},getNumPoints:function(){return this.pts.length},printReverse:function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},getMonotoneChainEdge:function(){return null===this._mce&&(this._mce=new un(this)),this._mce},getEnvelope:function(){if(null===this._env){this._env=new w;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},addIntersection:function(t,e,n,r){var i=new f(t.getIntersection(r)),o=e,a=t.getEdgeDistance(n,r),s=o+1;if(s<this.pts.length){var l=this.pts[s];i.equals2D(l)&&(o=s,a=0)}this.eiList.add(i,o,a)},toString:function(){var t=new vt;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},isPointwiseEqual:function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},setDepthDelta:function(t){this._depthDelta=t},getEdgeIntersectionList:function(){return this.eiList},addIntersections:function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},interfaces_:function(){return[]},getClass:function(){return hn}}),hn.updateIM=function(){if(!(2===arguments.length&&arguments[1]instanceof Xt&&arguments[0]instanceof We))return fn.prototype.updateIM.apply(this,arguments);var t=arguments[0],e=arguments[1];e.setAtLeastIfValid(t.getLocation(0,Ue.ON),t.getLocation(1,Ue.ON),1),t.isArea()&&(e.setAtLeastIfValid(t.getLocation(0,Ue.LEFT),t.getLocation(1,Ue.LEFT),2),e.setAtLeastIfValid(t.getLocation(0,Ue.RIGHT),t.getLocation(1,Ue.RIGHT),2))},Xo(dn,fn),Yo(dn.prototype,{isIncidentEdgeInResult:function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},isIsolated:function(){return 1===this._label.getGeometryCount()},getCoordinate:function(){return this._coord},print:function(t){t.println("node "+this._coord+" lbl: "+this._label)},computeIM:function(t){},computeMergedLocation:function(t,e){var n=Yt.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var r=t.getLocation(e);n!==Yt.BOUNDARY&&(n=r)}return n},setLabel:function(){if(2!==arguments.length||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return fn.prototype.setLabel.apply(this,arguments);var t=arguments[0],e=arguments[1];null===this._label?this._label=new We(t,e):this._label.setLocation(t,e)},getEdges:function(){return this._edges},mergeLabel:function(){if(arguments[0]instanceof dn){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof We)for(var e=arguments[0],n=0;n<2;n++){var r=this.computeMergedLocation(e,n);this._label.getLocation(n)===Yt.NONE&&this._label.setLocation(n,r)}},add:function(t){this._edges.insert(t),t.setNode(this)},setLabelBoundary:function(t){if(null===this._label)return null;var e=Yt.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case Yt.BOUNDARY:n=Yt.INTERIOR;break;case Yt.INTERIOR:default:n=Yt.BOUNDARY}this._label.setLocation(t,n)},interfaces_:function(){return[]},getClass:function(){return dn}}),Yo(pn.prototype,{find:function(t){return this.nodeMap.get(t)},addNode:function(){if(arguments[0]instanceof f){var t=arguments[0];return null===(n=this.nodeMap.get(t))&&(n=this.nodeFact.createNode(t),this.nodeMap.put(t,n)),n}if(arguments[0]instanceof dn){var e=arguments[0],n=this.nodeMap.get(e.getCoordinate());return null===n?(this.nodeMap.put(e.getCoordinate(),e),e):(n.mergeLabel(e),n)}},print:function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},iterator:function(){return this.nodeMap.values().iterator()},values:function(){return this.nodeMap.values()},getBoundaryNodes:function(t){for(var e=new b,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===Yt.BOUNDARY&&e.add(r)}return e},add:function(t){var e=t.getCoordinate();this.addNode(e).add(t)},interfaces_:function(){return[]},getClass:function(){return pn}}),Yo(mn.prototype,{compareDirection:function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:A.index(t._p0,t._p1,this._p1)},getDy:function(){return this._dy},getCoordinate:function(){return this._p0},setNode:function(t){this._node=t},print:function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);t.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},compareTo:function(t){var e=t;return this.compareDirection(e)},getDirectedCoordinate:function(){return this._p1},getDx:function(){return this._dx},getLabel:function(){return this._label},getEdge:function(){return this._edge},getQuadrant:function(){return this._quadrant},getNode:function(){return this._node},toString:function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},computeLabel:function(t){},init:function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=ye.quadrant(this._dx,this._dy),c.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},interfaces_:function(){return[i]},getClass:function(){return mn}}),Xo(gn,l),Yo(gn.prototype,{getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return gn}}),gn.msgWithCoord=function(t,e){return null!==e?t+" [ "+e+" ]":t},Xo(vn,mn),Yo(vn.prototype,{getNextMin:function(){return this._nextMin},getDepth:function(t){return this._depth[t]},setVisited:function(t){this._isVisited=t},computeDirectedLabel:function(){this._label=new We(this._edge.getLabel()),this._isForward||this._label.flip()},getNext:function(){return this._next},setDepth:function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new gn("assigned depths do not match",this.getCoordinate());this._depth[t]=e},isInteriorAreaEdge:function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,Ue.LEFT)===Yt.INTERIOR&&this._label.getLocation(e,Ue.RIGHT)===Yt.INTERIOR||(t=!1);return t},setNextMin:function(t){this._nextMin=t},print:function(t){mn.prototype.print.call(this,t),t.print(" "+this._depth[Ue.LEFT]+"/"+this._depth[Ue.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")},setMinEdgeRing:function(t){this._minEdgeRing=t},isLineEdge:function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,Yt.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,Yt.EXTERIOR);return t&&e&&n},setEdgeRing:function(t){this._edgeRing=t},getMinEdgeRing:function(){return this._minEdgeRing},getDepthDelta:function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},setInResult:function(t){this._isInResult=t},getSym:function(){return this._sym},isForward:function(){return this._isForward},getEdge:function(){return this._edge},printEdge:function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},setSym:function(t){this._sym=t},setVisitedEdge:function(t){this.setVisited(t),this._sym.setVisited(t)},setEdgeDepths:function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;t===Ue.LEFT&&(r=-1);var i=Ue.opposite(t),o=e+n*r;this.setDepth(t,e),this.setDepth(i,o)},getEdgeRing:function(){return this._edgeRing},isInResult:function(){return this._isInResult},setNext:function(t){this._next=t},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return vn}}),vn.depthFactor=function(t,e){return t===Yt.EXTERIOR&&e===Yt.INTERIOR?1:t===Yt.INTERIOR&&e===Yt.EXTERIOR?-1:0},Yo(yn.prototype,{createNode:function(t){return new dn(t,null)},interfaces_:function(){return[]},getClass:function(){return yn}}),Yo(bn.prototype,{printEdges:function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},find:function(t){return this._nodes.find(t)},addNode:function(){if(arguments[0]instanceof dn){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof f){var e=arguments[0];return this._nodes.addNode(e)}},getNodeIterator:function(){return this._nodes.iterator()},linkResultDirectedEdges:function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},debugPrintln:function(t){I.out.println(t)},isBoundaryNode:function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(t)===Yt.BOUNDARY},linkAllDirectedEdges:function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},matchInSameDirection:function(t,e,n,r){return!!t.equals(n)&&A.index(t,e,r)===A.COLLINEAR&&ye.quadrant(t,e)===ye.quadrant(n,r)},getEdgeEnds:function(){return this._edgeEndList},debugPrint:function(t){I.out.print(t)},getEdgeIterator:function(){return this._edges.iterator()},findEdgeInSameDirection:function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(t,e,i[0],i[1]))return r;if(this.matchInSameDirection(t,e,i[i.length-1],i[i.length-2]))return r}return null},insertEdge:function(t){this._edges.add(t)},findEdgeEnd:function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},addEdges:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var r=new vn(n,!0),i=new vn(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}},add:function(t){this._nodes.add(t),this._edgeEndList.add(t)},getNodes:function(){return this._nodes.values()},findEdge:function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(t.equals(i[0])&&e.equals(i[1]))return r}return null},interfaces_:function(){return[]},getClass:function(){return bn}}),bn.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()},Xo(_n,bn),Yo(_n.prototype,{insertBoundaryPoint:function(t,e){var n=this._nodes.addNode(e).getLabel(),r=1;n.getLocation(t,Ue.ON)===Yt.BOUNDARY&&r++;var i=_n.determineBoundary(this._boundaryNodeRule,r);n.setLocation(t,i)},computeSelfNodes:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new Ge(n,!0,!1);o.setIsDoneIfProperInt(i);var a=this.createEdgeSetIntersector(),s=this._parentGeom instanceof Tt||this._parentGeom instanceof Mt||this._parentGeom instanceof Ct,l=r||!s;return a.computeIntersections(this._edges,o,l),this.addSelfIntersectionNodes(this._argIndex),o}},computeSplitEdges:function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},computeEdgeIntersections:function(t,e,n){var r=new Ge(e,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,r),r},getGeometry:function(){return this._parentGeom},getBoundaryNodeRule:function(){return this._boundaryNodeRule},hasTooFewPoints:function(){return this._hasTooFewPoints},addPoint:function(){if(arguments[0]instanceof wt){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,Yt.INTERIOR)}else if(arguments[0]instanceof f){var e=arguments[0];this.insertPoint(this._argIndex,e,Yt.INTERIOR)}},addPolygon:function(t){this.addPolygonRing(t.getExteriorRing(),Yt.EXTERIOR,Yt.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,Yt.INTERIOR,Yt.EXTERIOR)}},addEdge:function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],Yt.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],Yt.BOUNDARY)},addLineString:function(t){var e=H.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new hn(e,new We(this._argIndex,Yt.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),c.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},getInvalidPoint:function(){return this._invalidPoint},getBoundaryPoints:function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,r=t.iterator();r.hasNext();){var i=r.next();e[n++]=i.getCoordinate().copy()}return e},getBoundaryNodes:function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},addSelfIntersectionNode:function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===Yt.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},addPolygonRing:function(t,e,n){if(t.isEmpty())return null;var r=H.removeRepeatedPoints(t.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var i=e,o=n;A.isCCW(r)&&(i=n,o=e);var a=new hn(r,new We(this._argIndex,Yt.BOUNDARY,i,o));this._lineEdgeMap.put(t,a),this.insertEdge(a),this.insertPoint(this._argIndex,r[0],Yt.BOUNDARY)},insertPoint:function(t,e,n){var r=this._nodes.addNode(e),i=r.getLabel();null===i?r._label=new We(t,n):i.setLocation(t,n)},createEdgeSetIntersector:function(){return new He},addSelfIntersectionNodes:function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(t,o.coord,r)}},add:function(){if(!(1===arguments.length&&arguments[0]instanceof F))return bn.prototype.add.apply(this,arguments);var t=arguments[0];if(t.isEmpty())return null;if(t instanceof Ct&&(this._useBoundaryDeterminationRule=!1),t instanceof Mt)this.addPolygon(t);else if(t instanceof bt)this.addLineString(t);else if(t instanceof wt)this.addPoint(t);else if(t instanceof St)this.addCollection(t);else if(t instanceof ft)this.addCollection(t);else if(t instanceof Ct)this.addCollection(t);else{if(!(t instanceof ct))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},locate:function(t){return Zo(this._parentGeom,Et)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new nn(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},findEdge:function(){if(1===arguments.length&&arguments[0]instanceof bt){var t=arguments[0];return this._lineEdgeMap.get(t)}return bn.prototype.findEdge.apply(this,arguments)},interfaces_:function(){return[]},getClass:function(){return _n}}),_n.determineBoundary=function(t,e){return t.isInBoundary(e)?Yt.BOUNDARY:Yt.INTERIOR};var ha=Object.freeze({GeometryGraph:_n});Yo(wn.prototype,{hasChildren:function(){for(var t=0;t<4;t++)if(null!==this._subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this._items);for(var e=0;e<4;e++)null!==this._subnode[e]&&this._subnode[e].addAllItems(t);return t},getNodeCount:function(){for(var t=0,e=0;e<4;e++)null!==this._subnode[e]&&(t+=this._subnode[e].size());return t+1},size:function(){for(var t=0,e=0;e<4;e++)null!==this._subnode[e]&&(t+=this._subnode[e].size());return t+this._items.size()},addAllItemsFromOverlapping:function(t,e){if(!this.isSearchMatch(t))return null;e.addAll(this._items);for(var n=0;n<4;n++)null!==this._subnode[n]&&this._subnode[n].addAllItemsFromOverlapping(t,e)},visitItems:function(t,e){for(var n=this._items.iterator();n.hasNext();)e.visitItem(n.next())},hasItems:function(){return!this._items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var n=!1,r=0;r<4;r++)if(null!==this._subnode[r]&&(n=this._subnode[r].remove(t,e))){this._subnode[r].isPrunable()&&(this._subnode[r]=null);break}return n||(n=this._items.remove(e))},visit:function(t,e){if(!this.isSearchMatch(t))return null;this.visitItems(t,e);for(var n=0;n<4;n++)null!==this._subnode[n]&&this._subnode[n].visit(t,e)},getItems:function(){return this._items},depth:function(){for(var t=0,e=0;e<4;e++)if(null!==this._subnode[e]){var n=this._subnode[e].depth();n>t&&(t=n)}return t+1},isEmpty:function(){var t=!0;if(this._items.isEmpty()){for(var e=0;e<4;e++)if(null!==this._subnode[e]&&!this._subnode[e].isEmpty()){t=!1;break}}else t=!1;return t},add:function(t){this._items.add(t)},interfaces_:function(){return[s]},getClass:function(){return wn}}),wn.getSubnodeIndex=function(t,e,n){var r=-1;return t.getMinX()>=e&&(t.getMinY()>=n&&(r=3),t.getMaxY()<=n&&(r=1)),t.getMaxX()<=e&&(t.getMinY()>=n&&(r=2),t.getMaxY()<=n&&(r=0)),r},Yo(xn.prototype,{getLevel:function(){return this._level},computeKey:function(){if(1===arguments.length){var t=arguments[0];for(this._level=xn.computeQuadLevel(t),this._env=new w,this.computeKey(this._level,t);!this._env.contains(t);)this._level+=1,this.computeKey(this._level,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=fe.powerOf2(e);this._pt.x=Math.floor(n.getMinX()/r)*r,this._pt.y=Math.floor(n.getMinY()/r)*r,this._env.init(this._pt.x,this._pt.x+r,this._pt.y,this._pt.y+r)}},getEnvelope:function(){return this._env},getCentre:function(){return new f((this._env.getMinX()+this._env.getMaxX())/2,(this._env.getMinY()+this._env.getMaxY())/2)},getPoint:function(){return this._pt},interfaces_:function(){return[]},getClass:function(){return xn}}),xn.computeQuadLevel=function(t){var e=t.getWidth(),n=t.getHeight();return fe.exponent(e>n?e:n)+1},Xo(En,wn),Yo(En.prototype,{find:function(t){var e=wn.getSubnodeIndex(t,this._centrex,this._centrey);return-1===e?this:null!==this._subnode[e]?this._subnode[e].find(t):this},isSearchMatch:function(t){return null!==t&&this._env.intersects(t)},getSubnode:function(t){return null===this._subnode[t]&&(this._subnode[t]=this.createSubnode(t)),this._subnode[t]},getEnvelope:function(){return this._env},getNode:function(t){var e=wn.getSubnodeIndex(t,this._centrex,this._centrey);return-1!==e?this.getSubnode(e).getNode(t):this},createSubnode:function(t){var e=0,n=0,r=0,i=0;switch(t){case 0:e=this._env.getMinX(),n=this._centrex,r=this._env.getMinY(),i=this._centrey;break;case 1:e=this._centrex,n=this._env.getMaxX(),r=this._env.getMinY(),i=this._centrey;break;case 2:e=this._env.getMinX(),n=this._centrex,r=this._centrey,i=this._env.getMaxY();break;case 3:e=this._centrex,n=this._env.getMaxX(),r=this._centrey,i=this._env.getMaxY()}return new En(new w(e,n,r,i),this._level-1)},insertNode:function(t){c.isTrue(null===this._env||this._env.contains(t._env));var e=wn.getSubnodeIndex(t._env,this._centrex,this._centrey);if(t._level===this._level-1)this._subnode[e]=t;else{var n=this.createSubnode(e);n.insertNode(t),this._subnode[e]=n}},interfaces_:function(){return[]},getClass:function(){return En}}),En.createNode=function(t){var e=new xn(t);return new En(e.getEnvelope(),e.getLevel())},En.createExpanded=function(t,e){var n=new w(e);null!==t&&n.expandToInclude(t._env);var r=En.createNode(n);return null!==t&&r.insertNode(t),r},Xo(Mn,wn),Yo(Mn.prototype,{insert:function(t,e){var n=wn.getSubnodeIndex(t,Mn.origin.x,Mn.origin.y);if(-1===n)return this.add(e),null;var r=this._subnode[n];if(null===r||!r.getEnvelope().contains(t)){var i=En.createExpanded(r,t);this._subnode[n]=i}this.insertContained(this._subnode[n],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,n){c.isTrue(t.getEnvelope().contains(e));var r=pe.isZeroWidth(e.getMinX(),e.getMaxX()),i=pe.isZeroWidth(e.getMinY(),e.getMaxY());(r||i?t.find(e):t.getNode(e)).add(n)},interfaces_:function(){return[]},getClass:function(){return Mn}}),Mn.origin=new f(0,0),Yo(Sn.prototype,{insert:function(t,e){},remove:function(t,e){},query:function(){},interfaces_:function(){return[]},getClass:function(){return Sn}}),Yo(Tn.prototype,{size:function(){return null!==this._root?this._root.size():0},insert:function(t,e){this.collectStats(t);var n=Tn.ensureExtent(t,this._minExtent);this._root.insert(n,e)},query:function(){if(1===arguments.length){var t=arguments[0],e=new en;return this.query(t,e),e.getItems()}if(2===arguments.length){var n=arguments[0],r=arguments[1];this._root.visit(n,r)}},queryAll:function(){var t=new b;return this._root.addAllItems(t),t},remove:function(t,e){var n=Tn.ensureExtent(t,this._minExtent);return this._root.remove(n,e)},collectStats:function(t){var e=t.getWidth();e<this._minExtent&&e>0&&(this._minExtent=e);var n=t.getHeight();n<this._minExtent&&n>0&&(this._minExtent=n)},depth:function(){return null!==this._root?this._root.depth():0},isEmpty:function(){return null===this._root||this._root.isEmpty()},interfaces_:function(){return[Sn,s]},getClass:function(){return Tn}}),Tn.ensureExtent=function(t,e){var n=t.getMinX(),r=t.getMaxX(),i=t.getMinY(),o=t.getMaxY();return n!==r&&i!==o?t:(n===r&&(r=(n-=e/2)+e/2),i===o&&(o=(i-=e/2)+e/2),new w(n,r,i,o))},Tn.serialVersionUID=-0x678b60c967a25400;var da=Object.freeze({Quadtree:Tn});Yo(Cn.prototype,{getBounds:function(){},interfaces_:function(){return[]},getClass:function(){return Cn}}),Yo(On.prototype,{getItem:function(){return this._item},getBounds:function(){return this._bounds},interfaces_:function(){return[Cn,s]},getClass:function(){return On}}),Yo(An.prototype,{poll:function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},size:function(){return this._size},reorder:function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},clear:function(){this._size=0,this._items.clear()},isEmpty:function(){return 0===this._size},add:function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},interfaces_:function(){return[]},getClass:function(){return An}}),Yo(In.prototype,{compare:function(t,e){var n=t.getDistance(),r=e.getDistance();return this.normalOrder?n>r?1:n===r?0:-1:n>r?-1:n===r?0:1},interfaces_:function(){return[a,s]},getClass:function(){return In}}),Yo(Rn.prototype,{getLevel:function(){return this._level},size:function(){return this._childBoundables.size()},getChildBoundables:function(){return this._childBoundables},addChildBoundable:function(t){c.isTrue(null===this._bounds),this._childBoundables.add(t)},isEmpty:function(){return this._childBoundables.isEmpty()},getBounds:function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},interfaces_:function(){return[Cn,s]},getClass:function(){return Rn}}),Rn.serialVersionUID=0x5a1e55ec41369800,Yo(Pn.prototype,{expandToQueue:function(t,e){var r=Pn.isComposite(this._boundable1),i=Pn.isComposite(this._boundable2);if(r&&i)return Pn.area(this._boundable1)>Pn.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(r)return this.expand(this._boundable1,this._boundable2,t,e),null;if(i)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new n("neither boundable is composite")},isLeaves:function(){return!(Pn.isComposite(this._boundable1)||Pn.isComposite(this._boundable2))},compareTo:function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},expand:function(t,e,n,r){for(var i=t.getChildBoundables().iterator();i.hasNext();){var o=new Pn(i.next(),e,this._itemDistance);o.getDistance()<r&&n.add(o)}},getBoundable:function(t){return 0===t?this._boundable1:this._boundable2},getDistance:function(){return this._distance},distance:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},interfaces_:function(){return[i]},getClass:function(){return Pn}}),Pn.area=function(t){return t.getBounds().getArea()},Pn.isComposite=function(t){return t instanceof Rn},Yo(Ln.prototype,{queryInternal:function(){if(Zo(arguments[2],Ye)&&arguments[0]instanceof Object&&arguments[1]instanceof Rn)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=e.getChildBoundables(),i=0;i<r.size();i++)l=r.get(i),this.getIntersectsOp().intersects(l.getBounds(),t)&&(l instanceof Rn?this.queryInternal(t,l,n):l instanceof On?n.visitItem(l.getItem()):c.shouldNeverReachHere());else if(Zo(arguments[2],g)&&arguments[0]instanceof Object&&arguments[1]instanceof Rn)for(var o=arguments[0],a=arguments[1],s=arguments[2],r=a.getChildBoundables(),i=0;i<r.size();i++){var l=r.get(i);this.getIntersectsOp().intersects(l.getBounds(),o)&&(l instanceof Rn?this.queryInternal(o,l,s):l instanceof On?s.add(l.getItem()):c.shouldNeverReachHere())}},getNodeCapacity:function(){return this._nodeCapacity},lastNode:function(t){return t.get(t.size()-1)},size:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Rn?t+=this.size(n):n instanceof On&&(t+=1)}return t}},removeItem:function(t,e){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof On&&i.getItem()===e&&(n=i)}return null!==n&&(t.getChildBoundables().remove(n),!0)},itemsTree:function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new b:t}if(1===arguments.length){for(var e=arguments[0],n=new b,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof Rn){var o=this.itemsTree(i);null!==o&&n.add(o)}else i instanceof On?n.add(i.getItem()):c.shouldNeverReachHere()}return n.size()<=0?null:n}},insert:function(t,e){c.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new On(t,e))},boundablesAtLevel:function(){if(1===arguments.length){var t=arguments[0],e=new b;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(c.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var o=r.getChildBoundables().iterator();o.hasNext();){var a=o.next();a instanceof Rn?this.boundablesAtLevel(n,a,i):(c.isTrue(a instanceof On),-1===n&&i.add(a))}return null}},query:function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new b;return this.isEmpty()?e:(this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.queryInternal(t,this._root,e),e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.queryInternal(n,this._root,r)}},build:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},getRoot:function(){return this.build(),this._root},remove:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=this.removeItem(r,i);if(o)return!0;for(var a=null,s=r.getChildBoundables().iterator();s.hasNext();){var l=s.next();if(this.getIntersectsOp().intersects(l.getBounds(),n)&&l instanceof Rn&&(o=this.remove(n,l,i))){a=l;break}}return null!==a&&a.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(a),o}},createHigherLevels:function(t,e){c.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},depth:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof Rn){var r=this.depth(n);r>t&&(t=r)}}return t+1}},createParentBoundables:function(t,e){c.isTrue(!t.isEmpty());var n=new b;n.add(this.createNode(e));var r=new b(t);fa.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var o=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},isEmpty:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},interfaces_:function(){return[s]},getClass:function(){return Ln}}),Ln.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},Ln.IntersectsOp=function(){},Ln.serialVersionUID=-0x35ef64c82d4c5400,Ln.DEFAULT_NODE_CAPACITY=10,Yo(Nn.prototype,{distance:function(t,e){},interfaces_:function(){return[]},getClass:function(){return Nn}}),Xo(kn,Ln),Yo(kn.prototype,{createParentBoundablesFromVerticalSlices:function(t,e){c.isTrue(t.length>0);for(var n=new b,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n},createNode:function(t){return new Dn(t)},size:function(){return 0===arguments.length?Ln.prototype.size.call(this):Ln.prototype.size.apply(this,arguments)},insert:function(){if(!(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof w))return Ln.prototype.insert.apply(this,arguments);var t=arguments[0],e=arguments[1];if(t.isNull())return null;Ln.prototype.insert.call(this,t,e)},getIntersectsOp:function(){return kn.intersectsOp},verticalSlices:function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=new Array(e).fill(null),i=t.iterator(),o=0;o<e;o++){r[o]=new b;for(var a=0;i.hasNext()&&a<n;){var s=i.next();r[o].add(s),a++}}return r},query:function(){if(1===arguments.length){var t=arguments[0];return Ln.prototype.query.call(this,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];Ln.prototype.query.call(this,e,n)}},getComparator:function(){return kn.yComparator},createParentBoundablesFromVerticalSlice:function(t,e){return Ln.prototype.createParentBoundables.call(this,t,e)},remove:function(){if(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof w){var t=arguments[0],e=arguments[1];return Ln.prototype.remove.call(this,t,e)}return Ln.prototype.remove.apply(this,arguments)},depth:function(){return 0===arguments.length?Ln.prototype.depth.call(this):Ln.prototype.depth.apply(this,arguments)},createParentBoundables:function(t,e){c.isTrue(!t.isEmpty());var n=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),r=new b(t);fa.sort(r,kn.xComparator);var i=this.verticalSlices(r,Math.trunc(Math.ceil(Math.sqrt(n))));return this.createParentBoundablesFromVerticalSlices(i,e)},nearestNeighbour:function(){if(1===arguments.length){if(Zo(arguments[0],Nn)){var t=arguments[0],e=new Pn(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof Pn){var n=arguments[0];return this.nearestNeighbour(n,r.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof kn&&Zo(arguments[1],Nn)){var i=arguments[0],o=arguments[1],e=new Pn(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(e)}if(arguments[0]instanceof Pn&&"number"==typeof arguments[1]){var a=arguments[0],s=arguments[1],l=null;for((y=new An).add(a);!y.isEmpty()&&s>0&&!((x=(_=y.poll()).getDistance())>=s);)_.isLeaves()?(s=x,l=_):_.expandToQueue(y,s);return[l.getBoundable(0).getItem(),l.getBoundable(1).getItem()]}if(arguments[0]instanceof Pn&&Number.isInteger(arguments[1])){var u=arguments[0],c=arguments[1];return this.nearestNeighbour(u,r.POSITIVE_INFINITY,c)}}else if(3===arguments.length){if(Zo(arguments[2],Nn)&&arguments[0]instanceof w&&arguments[1]instanceof Object){var f=arguments[0],h=arguments[1],d=arguments[2],p=new On(f,h),e=new Pn(this.getRoot(),p,d);return this.nearestNeighbour(e)[0]}if(Number.isInteger(arguments[2])&&arguments[0]instanceof Pn&&"number"==typeof arguments[1]){var m=arguments[0],g=arguments[1],v=arguments[2],s=g,y=new An;y.add(m);for(var b=new java.util.PriorityQueue<Pn>new In(!1);!y.isEmpty()&&s>=0;){var _=y.poll(),x=_.getDistance();if(x>=s)break;_.isLeaves()?b.size()<v?b.add(_):(b.peek().getDistance()>x&&(b.poll(),b.add(_)),s=b.peek().getDistance()):_.expandToQueue(y,s)}return kn.getItems(b)}}else if(4===arguments.length){var E=arguments[0],M=arguments[1],S=arguments[2],T=arguments[3],p=new On(E,M),e=new Pn(this.getRoot(),p,S);return this.nearestNeighbour(e,T)}},interfaces_:function(){return[Sn,s]},getClass:function(){return kn}}),kn.centreX=function(t){return kn.avg(t.getMinX(),t.getMaxX())},kn.avg=function(t,e){return(t+e)/2},kn.getItems=function(t){for(var e=new Array(t.size()).fill(null),n=t.iterator(),r=0;n.hasNext();)e[r]=n.next().getBoundable(0).getItem(),r++;return e},kn.centreY=function(t){return kn.avg(t.getMinY(),t.getMaxY())},Xo(Dn,Rn),Yo(Dn.prototype,{computeBounds:function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new w(n.getBounds()):t.expandToInclude(n.getBounds())}return t},interfaces_:function(){return[]},getClass:function(){return Dn}}),kn.STRtreeNode=Dn,kn.serialVersionUID=0x39920f7d5f261e0,kn.xComparator={interfaces_:function(){return[a]},compare:function(t,e){return Ln.compareDoubles(kn.centreX(t.getBounds()),kn.centreX(e.getBounds()))}},kn.yComparator={interfaces_:function(){return[a]},compare:function(t,e){return Ln.compareDoubles(kn.centreY(t.getBounds()),kn.centreY(e.getBounds()))}},kn.intersectsOp={interfaces_:function(){return[IntersectsOp]},intersects:function(t,e){return t.intersects(e)}},kn.DEFAULT_NODE_CAPACITY=10;var pa=Object.freeze({STRtree:kn}),ma=Object.freeze({quadtree:da,strtree:pa}),ga=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"];Yo(Fn.prototype,{read:function(t){var e=void 0,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!va[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==ga.indexOf(n)?va[n].apply(this,[e.coordinates]):"GeometryCollection"===n?va[n].apply(this,[e.geometries]):va[n].apply(this,[e])},write:function(t){var e=t.getGeometryType();if(!ya[e])throw new Error("Geometry is not supported");return ya[e].apply(this,[t])}});var va={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var r=t.geometry.type;if(!va[r])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=va.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(new f(r[0],r[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new f(t[0],t[1]),new f(t[2],t[1]),new f(t[2],t[3]),new f(t[0],t[3]),new f(t[0],t[1])])},Point:function(t){var e=new f(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(va.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=va.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(va.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=va.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),r=[],i=1;i<t.length;++i){var o=t[i],a=va.coordinates.apply(this,[o]),s=this.geometryFactory.createLinearRing(a);r.push(s)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(va.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(this.read(r))}return this.geometryFactory.createGeometryCollection(e)}},ya={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:ya.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=ya.Point.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),r=0;r<n.length;++r){var i=n[r];e.push(ya.coordinate.apply(this,[i]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=ya.LineString.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=ya.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var r=0;r<t._holes.length;++r){var i=t._holes[r],o=ya.LineString.apply(this,[i]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=ya.Polygon.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=r.getGeometryType();e.push(ya[i].apply(this,[r]))}return{type:"GeometryCollection",geometries:e}}};Yo(jn.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===Ut.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])}}),Yo(Un.prototype,{write:function(t){return this.parser.write(t)}}),Yo(zn.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===Ut.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t._points)for(var e=0,n=t._points._coordinates.length;e<n;e++)this.precisionModel.makePrecise(t._points._coordinates[e]);else if(t._geometries)for(var r=0,i=t._geometries.length;r<i;r++)this.reducePrecision(t._geometries[r])}}),Yo(Vn.prototype,{read:function(t){var e=this.ol;return t instanceof e.geom.Point?this.convertFromPoint(t):t instanceof e.geom.LineString?this.convertFromLineString(t):t instanceof e.geom.LinearRing?this.convertFromLinearRing(t):t instanceof e.geom.Polygon?this.convertFromPolygon(t):t instanceof e.geom.MultiPoint?this.convertFromMultiPoint(t):t instanceof e.geom.MultiLineString?this.convertFromMultiLineString(t):t instanceof e.geom.MultiPolygon?this.convertFromMultiPolygon(t):t instanceof e.geom.GeometryCollection?this.convertFromCollection(t):void 0},convertFromPoint:function(t){var e=t.getCoordinates();return this.geometryFactory.createPoint(new f(e[0],e[1]))},convertFromLineString:function(t){return this.geometryFactory.createLineString(t.getCoordinates().map(function(t){return new f(t[0],t[1])}))},convertFromLinearRing:function(t){return this.geometryFactory.createLinearRing(t.getCoordinates().map(function(t){return new f(t[0],t[1])}))},convertFromPolygon:function(t){for(var e=t.getLinearRings(),n=null,r=[],i=0;i<e.length;i++){var o=this.convertFromLinearRing(e[i]);0===i?n=o:r.push(o)}return this.geometryFactory.createPolygon(n,r)},convertFromMultiPoint:function(t){var e=t.getPoints().map(function(t){return this.convertFromPoint(t)},this);return this.geometryFactory.createMultiPoint(e)},convertFromMultiLineString:function(t){var e=t.getLineStrings().map(function(t){return this.convertFromLineString(t)},this);return this.geometryFactory.createMultiLineString(e)},convertFromMultiPolygon:function(t){var e=t.getPolygons().map(function(t){return this.convertFromPolygon(t)},this);return this.geometryFactory.createMultiPolygon(e)},convertFromCollection:function(t){var e=t.getGeometries().map(function(t){return this.read(t)},this);return this.geometryFactory.createGeometryCollection(e)},write:function(t){return"Point"===t.getGeometryType()?this.convertToPoint(t.getCoordinate()):"LineString"===t.getGeometryType()?this.convertToLineString(t):"LinearRing"===t.getGeometryType()?this.convertToLinearRing(t):"Polygon"===t.getGeometryType()?this.convertToPolygon(t):"MultiPoint"===t.getGeometryType()?this.convertToMultiPoint(t):"MultiLineString"===t.getGeometryType()?this.convertToMultiLineString(t):"MultiPolygon"===t.getGeometryType()?this.convertToMultiPolygon(t):"GeometryCollection"===t.getGeometryType()?this.convertToCollection(t):void 0},convertToPoint:function(t){return new this.ol.geom.Point([t.x,t.y])},convertToLineString:function(t){var e=t._points._coordinates.map(Bn);return new this.ol.geom.LineString(e)},convertToLinearRing:function(t){var e=t._points._coordinates.map(Bn);return new this.ol.geom.LinearRing(e)},convertToPolygon:function(t){for(var e=[t._shell._points._coordinates.map(Bn)],n=0;n<t._holes.length;n++)e.push(t._holes[n]._points._coordinates.map(Bn));return new this.ol.geom.Polygon(e)},convertToMultiPoint:function(t){return new this.ol.geom.MultiPoint(t.getCoordinates().map(Bn))},convertToMultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;n++)e.push(this.convertToLineString(t._geometries[n]).getCoordinates());return new this.ol.geom.MultiLineString(e)},convertToMultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;n++)e.push(this.convertToPolygon(t._geometries[n]).getCoordinates());return new this.ol.geom.MultiPolygon(e)},convertToCollection:function(t){for(var e=[],n=0;n<t._geometries.length;n++){var r=t._geometries[n];e.push(this.write(r))}return new this.ol.geom.GeometryCollection(e)}});var ba=Object.freeze({GeoJSONReader:jn,GeoJSONWriter:Un,OL3Parser:Vn,WKTReader:zn,WKTWriter:Gt});Yo(Gn.prototype,{interfaces_:function(){return[]},getClass:function(){return Gn}}),Gn.relativeSign=function(t,e){return t<e?-1:t>e?1:0},Gn.compare=function(t,e,n){if(e.equals2D(n))return 0;var r=Gn.relativeSign(e.x,n.x),i=Gn.relativeSign(e.y,n.y);switch(t){case 0:return Gn.compareValue(r,i);case 1:return Gn.compareValue(i,r);case 2:return Gn.compareValue(i,-r);case 3:return Gn.compareValue(-r,i);case 4:return Gn.compareValue(-r,-i);case 5:return Gn.compareValue(-i,-r);case 6:return Gn.compareValue(-i,r);case 7:return Gn.compareValue(r,-i)}return c.shouldNeverReachHere("invalid octant value"),0},Gn.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0},Yo(Hn.prototype,{getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},compareTo:function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:Gn.compare(this._segmentOctant,this.coord,e.coord)},isEndPoint:function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},isInterior:function(){return this._isInterior},interfaces_:function(){return[i]},getClass:function(){return Hn}}),Yo(qn.prototype,{getSplitCoordinates:function(){var t=new _;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()},addCollapsedNodes:function(){var t=new b;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},findCollapsesFromExistingVertices:function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),r=(this._edge.getCoordinate(e+1),this._edge.getCoordinate(e+2));n.equals2D(r)&&t.add(new S(e+1))}},addEdgeCoordinates:function(t,e,n){e.segmentIndex,t.segmentIndex;var r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);n.add(new f(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));i&&n.add(new f(e.coord))},iterator:function(){return this._nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},findCollapseIndex:function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,1===r&&(n[0]=t.segmentIndex+1,!0)},findCollapsesFromInsertedNodes:function(t){for(var e=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,e)&&t.add(new S(e[0])),r=i}},getEdge:function(){return this._edge},addEndpoints:function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},createSplitEdge:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new f(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)o[a++]=this._edge.getCoordinate(s);return i&&(o[a]=new f(e.coord)),new Kn(o,this._edge.getData())},add:function(t,e){var n=new Hn(this._edge,t,e,this._edge.getSegmentOctant(e)),r=this._nodeMap.get(n);return null!==r?(c.isTrue(r.coord.equals2D(t),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},checkSplitEdgesCorrectness:function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new l("bad split edge start point at "+n);var r=t.get(t.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(e[e.length-1]))throw new l("bad split edge end point at "+i)},interfaces_:function(){return[]},getClass:function(){return qn}}),Yo(Wn.prototype,{next:function(){return null===this._currNode?(this._currNode=this._nextNode,this._currSegIndex=this._currNode.segmentIndex,this.readNextNode(),this._currNode):null===this._nextNode?null:this._nextNode.segmentIndex===this._currNode.segmentIndex?(this._currNode=this._nextNode,this._currSegIndex=this._currNode.segmentIndex,this.readNextNode(),this._currNode):(this._nextNode.segmentIndex,this._currNode.segmentIndex,null)},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){return null!==this._nextNode},readNextNode:function(){this._nodeIt.hasNext()?this._nextNode=this._nodeIt.next():this._nextNode=null},interfaces_:function(){return[d]},getClass:function(){return Wn}}),Yo(Yn.prototype,{interfaces_:function(){return[]},getClass:function(){return Yn}}),Yn.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new n("Cannot compute the octant for point ( "+t+", "+e+" )");var r=Math.abs(t),i=Math.abs(e);return t>=0?e>=0?r>=i?0:1:r>=i?7:6:e>=0?r>=i?3:2:r>=i?4:5}if(arguments[0]instanceof f&&arguments[1]instanceof f){var o=arguments[0],a=arguments[1],s=a.x-o.x,l=a.y-o.y;if(0===s&&0===l)throw new n("Cannot compute the octant for two identical points "+o);return Yn.octant(s,l)}},Yo(Xn.prototype,{getCoordinates:function(){},size:function(){},getCoordinate:function(t){},isClosed:function(){},setData:function(t){},getData:function(){},interfaces_:function(){return[]},getClass:function(){return Xn}}),Yo(Zn.prototype,{addIntersection:function(t,e){},interfaces_:function(){return[Xn]},getClass:function(){return Zn}}),Yo(Kn.prototype,{getCoordinates:function(){return this._pts},size:function(){return this._pts.length},getCoordinate:function(t){return this._pts[t]},isClosed:function(){return this._pts[0].equals(this._pts[this._pts.length-1])},getSegmentOctant:function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this._data=t},safeOctant:function(t,e){return t.equals2D(e)?0:Yn.octant(t,e)},getData:function(){return this._data},addIntersection:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=(arguments[2],arguments[3]),o=new f(n.getIntersection(i));this.addIntersection(o,r)}},toString:function(){return Gt.toLineString(new Lt(this._pts))},getNodeList:function(){return this._nodeList},addIntersectionNode:function(t,e){var n=e,r=n+1;if(r<this._pts.length){var i=this._pts[r];t.equals2D(i)&&(n=r)}return this._nodeList.add(t,n)},addIntersections:function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},interfaces_:function(){return[Zn]},getClass:function(){return Kn}}),Kn.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new b;return Kn.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();)i.next().getNodeList().addSplitEdges(r)},Yo(Qn.prototype,{overlap:function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];t.getLineSegment(e,this._overlapSeg1),n.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},interfaces_:function(){return[]},getClass:function(){return Qn}}),Yo(Jn.prototype,{computeNodes:function(t){},getNodedSubstrings:function(){},interfaces_:function(){return[]},getClass:function(){return Jn}}),Yo($n.prototype,{setSegmentIntersector:function(t){this._segInt=t},interfaces_:function(){return[Jn]},getClass:function(){return $n}}),Xo(tr,$n),Yo(tr.prototype,{getMonotoneChains:function(){return this._monoChains},getNodedSubstrings:function(){return Kn.getNodedSubstrings(this._nodedSegStrings)},getIndex:function(){return this._index},add:function(t){for(var e=be.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},computeNodes:function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},intersectChains:function(){for(var t=new er(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var i=r.next();if(i.getId()>n.getId()&&(n.computeOverlaps(i,t),this._nOverlaps++),this._segInt.isDone())return null}},interfaces_:function(){return[]},getClass:function(){return tr}}),Xo(er,Qn),Yo(er.prototype,{overlap:function(){if(4!==arguments.length)return Qn.prototype.overlap.apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3],i=t.getContext(),o=n.getContext();this._si.processIntersections(i,e,o,r)},interfaces_:function(){return[]},getClass:function(){return er}}),tr.SegmentOverlapAction=er,Yo(nr.prototype,{rescale:function(){if(Zo(arguments[0],p))for(n=arguments[0].iterator();n.hasNext();){var t=n.next();this.rescale(t.getCoordinates())}else if(arguments[0]instanceof Array){var e=arguments[0];2===e.length&&(new f(e[0]),new f(e[1]));for(var n=0;n<e.length;n++)e[n].x=e[n].x/this._scaleFactor+this._offsetX,e[n].y=e[n].y/this._scaleFactor+this._offsetY;2===e.length&&e[0].equals2D(e[1])&&I.out.println(e)}},scale:function(){if(Zo(arguments[0],p)){for(var t=arguments[0],e=new b(t.size()),n=t.iterator();n.hasNext();){var r=n.next();e.add(new Kn(this.scale(r.getCoordinates()),r.getData()))}return e}if(arguments[0]instanceof Array){for(var i=arguments[0],o=new Array(i.length).fill(null),n=0;n<i.length;n++)o[n]=new f(Math.round((i[n].x-this._offsetX)*this._scaleFactor),Math.round((i[n].y-this._offsetY)*this._scaleFactor),i[n].z);return H.removeRepeatedPoints(o)}},isIntegerPrecision:function(){return 1===this._scaleFactor},getNodedSubstrings:function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},computeNodes:function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},interfaces_:function(){return[Jn]},getClass:function(){return nr}});var _a=Object.freeze({MCIndexNoder:tr,ScaledNoder:nr,SegmentString:Xn});Yo(rr.prototype,{isSimpleMultiPoint:function(t){if(t.isEmpty())return!0;for(var e=new ot,n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n).getCoordinate();if(e.contains(r))return this._nonSimpleLocation=r,!1;e.add(r)}return!0},isSimplePolygonal:function(t){for(var e=tn.getLines(t).iterator();e.hasNext();){var n=e.next();if(!this.isSimpleLinearGeometry(n))return!1}return!0},hasClosedEndpointIntersection:function(t){for(var e=new nt,n=t.getEdgeIterator();n.hasNext();){var r=n.next(),i=(r.getMaximumSegmentIndex(),r.isClosed()),o=r.getCoordinate(0);this.addEndpoint(e,o,i);var a=r.getCoordinate(r.getNumPoints()-1);this.addEndpoint(e,a,i)}for(n=e.values().iterator();n.hasNext();){var s=n.next();if(s.isClosed&&2!==s.degree)return this._nonSimpleLocation=s.getCoordinate(),!0}return!1},getNonSimpleLocation:function(){return this._nonSimpleLocation},isSimpleLinearGeometry:function(t){if(t.isEmpty())return!0;var e=new _n(0,t),n=new qt,r=e.computeSelfNodes(n,!0);return!(r.hasIntersection()&&(r.hasProperIntersection()?(this._nonSimpleLocation=r.getProperIntersectionPoint(),1):this.hasNonEndpointIntersection(e)||this._isClosedEndpointsInInterior&&this.hasClosedEndpointIntersection(e)))},hasNonEndpointIntersection:function(t){for(var e=t.getEdgeIterator();e.hasNext();)for(var n=e.next(),r=n.getMaximumSegmentIndex(),i=n.getEdgeIntersectionList().iterator();i.hasNext();){var o=i.next();if(!o.isEndPoint(r))return this._nonSimpleLocation=o.getCoordinate(),!0}return!1},addEndpoint:function(t,e,n){var r=t.get(e);null===r&&(r=new ir(e),t.put(e,r)),r.addEndpoint(n)},computeSimple:function(t){return this._nonSimpleLocation=null,!!t.isEmpty()||(t instanceof bt?this.isSimpleLinearGeometry(t):t instanceof ft?this.isSimpleLinearGeometry(t):t instanceof St?this.isSimpleMultiPoint(t):Zo(t,Et)?this.isSimplePolygonal(t):!(t instanceof ct)||this.isSimpleGeometryCollection(t))},isSimple:function(){return this._nonSimpleLocation=null,this.computeSimple(this._inputGeom)},isSimpleGeometryCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);if(!this.computeSimple(n))return!1}return!0},interfaces_:function(){return[]},getClass:function(){return rr}}),rr.isSimple=function(){if(1===arguments.length)return(t=new rr(arguments[0])).isSimple();if(2===arguments.length){var t=new rr(arguments[0],arguments[1]);return t.isSimple()}},Yo(ir.prototype,{addEndpoint:function(t){this.degree++,this.isClosed|=t},getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return ir}}),rr.EndpointInfo=ir,Yo(or.prototype,{getEndCapStyle:function(){return this._endCapStyle},isSingleSided:function(){return this._isSingleSided},setQuadrantSegments:function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=or.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=or.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==or.JOIN_ROUND&&(this._quadrantSegments=or.DEFAULT_QUADRANT_SEGMENTS)},getJoinStyle:function(){return this._joinStyle},setJoinStyle:function(t){this._joinStyle=t},setSimplifyFactor:function(t){this._simplifyFactor=t<0?0:t},getSimplifyFactor:function(){return this._simplifyFactor},getQuadrantSegments:function(){return this._quadrantSegments},setEndCapStyle:function(t){this._endCapStyle=t},getMitreLimit:function(){return this._mitreLimit},setMitreLimit:function(t){this._mitreLimit=t},setSingleSided:function(t){this._isSingleSided=t},interfaces_:function(){return[]},getClass:function(){return or}}),or.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},or.CAP_ROUND=1,or.CAP_FLAT=2,or.CAP_SQUARE=3,or.JOIN_ROUND=1,or.JOIN_MITRE=2,or.JOIN_BEVEL=3,or.DEFAULT_QUADRANT_SEGMENTS=8,or.DEFAULT_MITRE_LIMIT=5,or.DEFAULT_SIMPLIFY_FACTOR=.01,Yo(ar.prototype,{getCoordinate:function(){return this._minCoord},getRightmostSide:function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},findRightmostEdgeAtVertex:function(){var t=this._minDe.getEdge().getCoordinates();c.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],r=A.index(this._minCoord,n,e),i=!1;e.y<this._minCoord.y&&n.y<this._minCoord.y&&r===A.COUNTERCLOCKWISE?i=!0:e.y>this._minCoord.y&&n.y>this._minCoord.y&&r===A.CLOCKWISE&&(i=!0),i&&(this._minIndex=this._minIndex-1)},getRightmostSideOfSegment:function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var r=Ue.LEFT;return n[e].y<n[e+1].y&&(r=Ue.RIGHT),r},getEdge:function(){return this._orientedDe},checkForRightmostCoordinate:function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},findRightmostEdgeAtNode:function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},findEdge:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}c.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Ue.LEFT&&(this._orientedDe=this._minDe.getSym())},interfaces_:function(){return[]},getClass:function(){return ar}}),sr.prototype.addLast=function(t){this.array_.push(t)},sr.prototype.removeFirst=function(){return this.array_.shift()},sr.prototype.isEmpty=function(){return 0===this.array_.length},Yo(lr.prototype,{clearVisitedEdges:function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},getRightmostCoordinate:function(){return this._rightMostCoord},computeNodeDepth:function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();)if((r=n.next()).isVisited()||r.getSym().isVisited()){e=r;break}if(null===e)throw new gn("unable to find edge to compute depths at "+t.getCoordinate());for(t.getEdges().computeDepths(e),n=t.getEdges().iterator();n.hasNext();){var r=n.next();r.setVisited(!0),this.copySymDepths(r)}},computeDepth:function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.getNode(),e.getLabel(),e.setEdgeDepths(Ue.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},create:function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},findResultEdges:function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Ue.RIGHT)>=1&&e.getDepth(Ue.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},computeDepths:function(t){var e=new K,n=new sr,r=t.getNode();for(n.addLast(r),e.add(r),t.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();e.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var a=o.next().getSym();if(!a.isVisited()){var s=a.getNode();e.contains(s)||(n.addLast(s),e.add(s))}}}},compareTo:function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},getEnvelope:function(){if(null===this._env){for(var t=new w,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)t.expandToInclude(n[r]);this._env=t}return this._env},addReachable:function(t){var e=new te;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},copySymDepths:function(t){var e=t.getSym();e.setDepth(Ue.LEFT,t.getDepth(Ue.RIGHT)),e.setDepth(Ue.RIGHT,t.getDepth(Ue.LEFT))},add:function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||e.push(i)}},getNodes:function(){return this._nodes},getDirectedEdges:function(){return this._dirEdgeList},interfaces_:function(){return[i]},getClass:function(){return lr}}),Yo(ur.prototype,{computeRing:function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=A.isCCW(this._ring.getCoordinates())},isIsolated:function(){return 1===this._label.getGeometryCount()},computePoints:function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new gn("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new gn("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var r=e.getLabel();c.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},getLinearRing:function(){return this._ring},getCoordinate:function(t){return this._pts.get(t)},computeMaxNodeDegree:function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},addPoints:function(t,e,n){var r=t.getCoordinates();if(e)for(i=1,n&&(i=0),o=i;o<r.length;o++)this._pts.add(r[o]);else{var i=r.length-2;n&&(i=r.length-1);for(var o=i;o>=0;o--)this._pts.add(r[o])}},isHole:function(){return this._isHole},setInResult:function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},containsPoint:function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!Jt.isInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},addHole:function(t){this._holes.add(t)},isShell:function(){return null===this._shell},getLabel:function(){return this._label},getEdges:function(){return this._edges},getMaxNodeDegree:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},getShell:function(){return this._shell},mergeLabel:function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=e.getLocation(n,Ue.RIGHT);if(r===Yt.NONE)return null;if(this._label.getLocation(n)===Yt.NONE)return this._label.setLocation(n,r),null}},setShell:function(t){this._shell=t,null!==t&&t.addHole(this)},toPolygon:function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},interfaces_:function(){return[]},getClass:function(){return ur}}),Xo(cr,ur),Yo(cr.prototype,{setEdgeRing:function(t,e){t.setMinEdgeRing(e)},getNext:function(t){return t.getNextMin()},interfaces_:function(){return[]},getClass:function(){return cr}}),Xo(fr,ur),Yo(fr.prototype,{buildMinimalRings:function(){var t=new b,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new cr(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},setEdgeRing:function(t,e){t.setEdgeRing(e)},linkDirectedEdgesForMinimalEdgeRings:function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},getNext:function(t){return t.getNext()},interfaces_:function(){return[]},getClass:function(){return fr}}),Yo(hr.prototype,{sortShellsAndHoles:function(t,e,n){for(var r=t.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):e.add(i)}},computePolygons:function(t){for(var e=new b,n=t.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);e.add(r)}return e},placeFreeHoles:function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,t);if(null===i)throw new gn("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(i)}}},buildMinimalEdgeRings:function(t,e,n){for(var r=new b,i=t.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var a=o.buildMinimalRings(),s=this.findShell(a);null!==s?(this.placePolygonHoles(s,a),e.add(s)):n.addAll(a)}else r.add(o)}return r},containsPoint:function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},buildMaximalEdgeRings:function(t){for(var e=new b,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new fr(r,this._geometryFactory);e.add(i),i.setInResult()}}return e},placePolygonHoles:function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}},getPolygons:function(){return this.computePolygons(this._shellList)},findEdgeRingContaining:function(t,e){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,a=null,s=e.iterator();s.hasNext();){var l=s.next(),u=l.getLinearRing(),c=u.getEnvelopeInternal();null!==o&&(a=o.getLinearRing().getEnvelopeInternal());var f=!1;c.contains(r)&&Jt.isInRing(i,u.getCoordinates())&&(f=!0),f&&(null===o||a.contains(c))&&(o=l)}return o},findShell:function(t){for(var e=0,n=null,r=t.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,e++)}return c.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},add:function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];bn.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(e),i=new b,o=this.buildMinimalEdgeRings(r,this._shellList,i);this.sortShellsAndHoles(o,this._shellList,i),this.placeFreeHoles(this._shellList,i)}},interfaces_:function(){return[]},getClass:function(){return hr}}),Yo(dr.prototype,{isDeletable:function(t,e,n,r){var i=this._inputLine[t],o=this._inputLine[e],a=this._inputLine[n];return!!this.isConcave(i,o,a)&&!!this.isShallow(i,o,a,r)&&this.isShallowSampled(i,o,t,n,r)},deleteShallowConcavities:function(){for(var t=1,e=(this._inputLine.length,this.findNextNonDeletedIndex(t)),n=this.findNextNonDeletedIndex(e),r=!1;n<this._inputLine.length;){var i=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=dr.DELETE,i=!0,r=!0),t=i?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return r},isShallowConcavity:function(t,e,n,r){return A.index(t,e,n)===this._angleOrientation&&L.pointToSegment(e,t,n)<r},isShallowSampled:function(t,e,n,r,i){var o=Math.trunc((r-n)/dr.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var a=n;a<r;a+=o)if(!this.isShallow(t,e,this._inputLine[a],i))return!1;return!0},isConcave:function(t,e,n){return A.index(t,e,n)===this._angleOrientation},simplify:function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=A.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},findNextNonDeletedIndex:function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===dr.DELETE;)e++;return e},isShallow:function(t,e,n,r){return L.pointToSegment(e,t,n)<r},collapseLine:function(){for(var t=new _,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==dr.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return dr}}),dr.simplify=function(t,e){return new dr(t).simplify(e)},dr.INIT=0,dr.DELETE=1,dr.KEEP=1,dr.NUM_PTS_TO_CHECK=10,Yo(pr.prototype,{getCoordinates:function(){return this._ptList.toArray(pr.COORDINATE_ARRAY_TYPE)},setPrecisionModel:function(t){this._precisionModel=t},addPt:function(t){var e=new f(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},reverse:function(){},addPts:function(t,e){if(e)for(n=0;n<t.length;n++)this.addPt(t[n]);else for(var n=t.length-1;n>=0;n--)this.addPt(t[n])},isRedundant:function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},toString:function(){return(new Bt).createLineString(this.getCoordinates()).toString()},closeRing:function(){if(this._ptList.size()<1)return null;var t=new f(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(this._ptList.size()>=2&&this._ptList.get(this._ptList.size()-2),t.equals(e))return null;this._ptList.add(t)},setMinimumVertexDistance:function(t){this._minimimVertexDistance=t},interfaces_:function(){return[]},getClass:function(){return pr}}),pr.COORDINATE_ARRAY_TYPE=new Array(0).fill(null),Yo(mr.prototype,{addNextSegment:function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=A.index(this._s0,this._s1,this._s2),r=n===A.CLOCKWISE&&this._side===Ue.LEFT||n===A.COUNTERCLOCKWISE&&this._side===Ue.RIGHT;0===n?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},addLineEndCap:function(t,e){var n=new Wt(t,e),r=new Wt;this.computeOffsetSegment(n,Ue.LEFT,this._distance,r);var i=new Wt;this.computeOffsetSegment(n,Ue.RIGHT,this._distance,i);var o=e.x-t.x,a=e.y-t.y,s=Math.atan2(a,o);switch(this._bufParams.getEndCapStyle()){case or.CAP_ROUND:this._segList.addPt(r.p1),this.addDirectedFillet(e,s+Math.PI/2,s-Math.PI/2,A.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case or.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case or.CAP_SQUARE:var l=new f;l.x=Math.abs(this._distance)*Math.cos(s),l.y=Math.abs(this._distance)*Math.sin(s);var u=new f(r.p1.x+l.x,r.p1.y+l.y),c=new f(i.p1.x+l.x,i.p1.y+l.y);this._segList.addPt(u),this._segList.addPt(c)}},getCoordinates:function(){return this._segList.getCoordinates()},addMitreJoin:function(t,e,n,r){var i=!0,o=null;try{o=R.intersection(e.p0,e.p1,n.p0,n.p1),(r<=0?1:o.distance(t)/Math.abs(r))>this._bufParams.getMitreLimit()&&(i=!1)}catch(t){if(!(t instanceof E))throw t;o=new f(0,0),i=!1}i?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,r,this._bufParams.getMitreLimit())},addOutsideTurn:function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*mr.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===or.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===or.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},createSquare:function(t){this._segList.addPt(new f(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new f(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new f(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new f(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},addSegments:function(t,e){this._segList.addPts(t,e)},addFirstSegment:function(){this._segList.addPt(this._offset1.p0)},addCornerFillet:function(t,e,n,r,i){var o=e.x-t.x,a=e.y-t.y,s=Math.atan2(a,o),l=n.x-t.x,u=n.y-t.y,c=Math.atan2(u,l);r===A.CLOCKWISE?s<=c&&(s+=2*Math.PI):s>=c&&(s-=2*Math.PI),this._segList.addPt(e),this.addDirectedFillet(t,s,c,r,i),this._segList.addPt(n)},addLastSegment:function(){this._segList.addPt(this._offset1.p1)},initSideSegments:function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},addLimitedMitreJoin:function(t,e,n,r){var i=this._seg0.p1,o=Me.angle(i,this._seg0.p0),a=(Me.angle(i,this._seg1.p1),Me.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2),s=Me.normalize(o+a),l=Me.normalize(s+Math.PI),u=r*n,c=n-u*Math.abs(Math.sin(a)),h=new Wt(i,new f(i.x+u*Math.cos(l),i.y+u*Math.sin(l))),d=h.pointAlongOffset(1,c),p=h.pointAlongOffset(1,-c);this._side===Ue.LEFT?(this._segList.addPt(d),this._segList.addPt(p)):(this._segList.addPt(p),this._segList.addPt(d))},addDirectedFillet:function(t,e,n,r,i){var o=r===A.CLOCKWISE?-1:1,a=Math.abs(e-n),s=Math.trunc(a/this._filletAngleQuantum+.5);if(s<1)return null;var l=null;l=a/s;for(var u=0,c=new f;u<a;){var h=e+o*u;c.x=t.x+i*Math.cos(h),c.y=t.y+i*Math.sin(h),this._segList.addPt(c),u+=l}},computeOffsetSegment:function(t,e,n,r){var i=e===Ue.LEFT?1:-1,o=t.p1.x-t.p0.x,a=t.p1.y-t.p0.y,s=Math.sqrt(o*o+a*a),l=i*n*o/s,u=i*n*a/s;r.p0.x=t.p0.x-u,r.p0.y=t.p0.y+l,r.p1.x=t.p1.x-u,r.p1.y=t.p1.y+l},addInsideTurn:function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*mr.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new f((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new f((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},createCircle:function(t){var e=new f(t.x+this._distance,t.y);this._segList.addPt(e),this.addDirectedFillet(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},addBevelJoin:function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},init:function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new pr,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*mr.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},addCollinear:function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===or.JOIN_BEVEL||this._bufParams.getJoinStyle()===or.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,A.CLOCKWISE,this._distance))},closeRing:function(){this._segList.closeRing()},hasNarrowConcaveAngle:function(){return this._hasNarrowConcaveAngle},interfaces_:function(){return[]},getClass:function(){return mr}}),mr.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,mr.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,mr.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,mr.MAX_CLOSING_SEG_LEN_FACTOR=80,Yo(gr.prototype,{getOffsetCurve:function(t,e){if(this._distance=e,0===e)return null;var n=e<0,r=Math.abs(e),i=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],i):this.computeOffsetCurve(t,n,i);var o=i.getCoordinates();return n&&H.reverse(o),o},computeSingleSidedBufferCurve:function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var i=dr.simplify(t,-r),o=i.length-1;for(n.initSideSegments(i[o],i[o-1],Ue.LEFT),n.addFirstSegment(),l=o-2;l>=0;l--)n.addNextSegment(i[l],!0)}else{n.addSegments(t,!1);var a=dr.simplify(t,r),s=a.length-1;n.initSideSegments(a[0],a[1],Ue.LEFT),n.addFirstSegment();for(var l=2;l<=s;l++)n.addNextSegment(a[l],!0)}n.addLastSegment(),n.closeRing()},computeRingBufferCurve:function(t,e,n){var r=this.simplifyTolerance(this._distance);e===Ue.RIGHT&&(r=-r);var i=dr.simplify(t,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],e);for(var a=1;a<=o;a++){var s=1!==a;n.addNextSegment(i[a],s)}n.closeRing()},computeLineBufferCurve:function(t,e){var n=this.simplifyTolerance(this._distance),r=dr.simplify(t,n),i=r.length-1;for(e.initSideSegments(r[0],r[1],Ue.LEFT),s=2;s<=i;s++)e.addNextSegment(r[s],!0);e.addLastSegment(),e.addLineEndCap(r[i-1],r[i]);var o=dr.simplify(t,-n),a=o.length-1;e.initSideSegments(o[a],o[a-1],Ue.LEFT);for(var s=a-2;s>=0;s--)e.addNextSegment(o[s],!0);e.addLastSegment(),e.addLineEndCap(o[1],o[0]),e.closeRing()},computePointCurve:function(t,e){switch(this._bufParams.getEndCapStyle()){case or.CAP_ROUND:e.createCircle(t);break;case or.CAP_SQUARE:e.createSquare(t)}},getLineCurve:function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),r=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],r);else if(this._bufParams.isSingleSided()){var i=e<0;this.computeSingleSidedBufferCurve(t,i,r)}else this.computeLineBufferCurve(t,r);return r.getCoordinates()},getBufferParameters:function(){return this._bufParams},simplifyTolerance:function(t){return t*this._bufParams.getSimplifyFactor()},getRingCurve:function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return gr.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},computeOffsetCurve:function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){var i=dr.simplify(t,-r),o=i.length-1;for(n.initSideSegments(i[o],i[o-1],Ue.LEFT),n.addFirstSegment(),l=o-2;l>=0;l--)n.addNextSegment(i[l],!0)}else{var a=dr.simplify(t,r),s=a.length-1;n.initSideSegments(a[0],a[1],Ue.LEFT),n.addFirstSegment();for(var l=2;l<=s;l++)n.addNextSegment(a[l],!0)}n.addLastSegment()},getSegGen:function(t){return new mr(this._precisionModel,this._bufParams,t)},interfaces_:function(){return[]},getClass:function(){return gr}}),gr.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new f(t[n]);return e},Yo(vr.prototype,{findStabbedSegments:function(){if(1===arguments.length){for(var t=arguments[0],e=new b,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();t.y<i.getMinY()||t.y>i.getMaxY()||this.findStabbedSegments(t,r.getDirectedEdges(),e)}return e}if(3===arguments.length)if(Zo(arguments[2],g)&&arguments[0]instanceof f&&arguments[1]instanceof vn){for(var o=arguments[0],a=arguments[1],s=arguments[2],l=a.getEdge().getCoordinates(),n=0;n<l.length-1;n++)if(this._seg.p0=l[n],this._seg.p1=l[n+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x||this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||A.index(this._seg.p0,this._seg.p1,o)===A.RIGHT)){var u=a.getDepth(Ue.LEFT);this._seg.p0.equals(l[n])||(u=a.getDepth(Ue.RIGHT));var c=new yr(this._seg,u);s.add(c)}}else if(Zo(arguments[2],g)&&arguments[0]instanceof f&&Zo(arguments[1],g))for(var h=arguments[0],d=arguments[1],p=arguments[2],n=d.iterator();n.hasNext();){var m=n.next();m.isForward()&&this.findStabbedSegments(h,m,p)}},getDepth:function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:fa.min(e)._leftDepth},interfaces_:function(){return[]},getClass:function(){return vr}}),Yo(yr.prototype,{compareTo:function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n?n:0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},compareX:function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},toString:function(){return this._upwardSeg.toString()},interfaces_:function(){return[i]},getClass:function(){return yr}}),vr.DepthSegment=yr,Yo(br.prototype,{addPoint:function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,Yt.EXTERIOR,Yt.INTERIOR)},addPolygon:function(t){var e=this._distance,n=Ue.LEFT;this._distance<0&&(e=-this._distance,n=Ue.RIGHT);var r=t.getExteriorRing(),i=H.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&i.length<3)return null;this.addPolygonRing(i,e,n,Yt.EXTERIOR,Yt.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var a=t.getInteriorRingN(o),s=H.removeRepeatedPoints(a.getCoordinates());this._distance>0&&this.isErodedCompletely(a,-this._distance)||this.addPolygonRing(s,e,Ue.opposite(n),Yt.INTERIOR,Yt.EXTERIOR)}},isTriangleErodedCompletely:function(t,e){var n=new Se(t[0],t[1],t[2]),r=n.inCentre();return L.pointToSegment(r,n.p0,n.p1)<Math.abs(e)},addLineString:function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=H.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,Yt.EXTERIOR,Yt.INTERIOR)},addCurve:function(t,e,n){if(null===t||t.length<2)return null;var r=new Kn(t,new We(0,Yt.BOUNDARY,e,n));this._curveList.add(r)},getCurves:function(){return this.add(this._inputGeom),this._curveList},addPolygonRing:function(t,e,n,r,i){if(0===e&&t.length<Tt.MINIMUM_VALID_SIZE)return null;var o=r,a=i;t.length>=Tt.MINIMUM_VALID_SIZE&&A.isCCW(t)&&(o=i,a=r,n=Ue.opposite(n));var s=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(s,o,a)},add:function(t){if(t.isEmpty())return null;if(t instanceof Mt)this.addPolygon(t);else if(t instanceof bt)this.addLineString(t);else if(t instanceof wt)this.addPoint(t);else if(t instanceof St)this.addCollection(t);else if(t instanceof ft)this.addCollection(t);else if(t instanceof Ct)this.addCollection(t);else{if(!(t instanceof ct))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},isErodedCompletely:function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return e<0&&2*Math.abs(e)>i},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},interfaces_:function(){return[]},getClass:function(){return br}}),Yo(_r.prototype,{locate:function(t){return _r.locate(t,this._geom)},interfaces_:function(){return[Xe]},getClass:function(){return _r}}),_r.locatePointInPolygon=function(t,e){if(e.isEmpty())return Yt.EXTERIOR;var n=e.getExteriorRing(),r=_r.locatePointInRing(t,n);if(r!==Yt.INTERIOR)return r;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i),a=_r.locatePointInRing(t,o);if(a===Yt.BOUNDARY)return Yt.BOUNDARY;if(a===Yt.INTERIOR)return Yt.EXTERIOR}return Yt.INTERIOR},_r.locatePointInRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?Jt.locateInRing(t,e.getCoordinates()):Yt.EXTERIOR},_r.containsPointInPolygon=function(t,e){return Yt.EXTERIOR!==_r.locatePointInPolygon(t,e)},_r.locateInGeometry=function(t,e){if(e instanceof Mt)return _r.locatePointInPolygon(t,e);if(e instanceof ct)for(var n=new Fe(e);n.hasNext();){var r=n.next();if(r!==e){var i=_r.locateInGeometry(t,r);if(i!==Yt.EXTERIOR)return i}}return Yt.EXTERIOR},_r.locate=function(t,e){return e.isEmpty()?Yt.EXTERIOR:_r.locateInGeometry(t,e)},Yo(wr.prototype,{getNextCW:function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},propagateSideLabels:function(t){for(var e=Yt.NONE,n=this.iterator();n.hasNext();)(o=(i=n.next()).getLabel()).isArea(t)&&o.getLocation(t,Ue.LEFT)!==Yt.NONE&&(e=o.getLocation(t,Ue.LEFT));if(e===Yt.NONE)return null;for(var r=e,n=this.iterator();n.hasNext();){var i=n.next(),o=i.getLabel();if(o.getLocation(t,Ue.ON)===Yt.NONE&&o.setLocation(t,Ue.ON,r),o.isArea(t)){var a=o.getLocation(t,Ue.LEFT),s=o.getLocation(t,Ue.RIGHT);if(s!==Yt.NONE){if(s!==r)throw new gn("side location conflict",i.getCoordinate());a===Yt.NONE&&c.shouldNeverReachHere("found single null side (at "+i.getCoordinate()+")"),r=a}else c.isTrue(o.getLocation(t,Ue.LEFT)===Yt.NONE,"found single null side"),o.setLocation(t,Ue.RIGHT,r),o.setLocation(t,Ue.LEFT,r)}}},getCoordinate:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},print:function(t){I.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},isAreaLabelsConsistent:function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},checkAreaLabelsConsistent:function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,r=e.get(n).getLabel().getLocation(t,Ue.LEFT);c.isTrue(r!==Yt.NONE,"Found unlabelled area edge");for(var i=r,o=this.iterator();o.hasNext();){var a=o.next().getLabel();c.isTrue(a.isArea(t),"Found non-area edge");var s=a.getLocation(t,Ue.LEFT),l=a.getLocation(t,Ue.RIGHT);if(s===l)return!1;if(l!==i)return!1;i=s}return!0},findIndex:function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},iterator:function(){return this.getEdges().iterator()},getEdges:function(){return null===this._edgeList&&(this._edgeList=new b(this._edgeMap.values())),this._edgeList},getLocation:function(t,e,n){return this._ptInAreaLocation[t]===Yt.NONE&&(this._ptInAreaLocation[t]=_r.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},toString:function(){var t=new M;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},computeEdgeEndLabels:function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},computeLabelling:function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var r=(o=n.next()).getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===Yt.BOUNDARY&&(e[i]=!0);for(n=this.iterator();n.hasNext();)for(var o=n.next(),r=o.getLabel(),i=0;i<2;i++)if(r.isAnyNull(i)){var a=Yt.NONE;if(e[i])a=Yt.EXTERIOR;else{var s=o.getCoordinate();a=this.getLocation(i,s,t)}r.setAllLocationsIfNull(i,a)}},getDegree:function(){return this._edgeMap.size()},insertEdgeEnd:function(t,e){this._edgeMap.put(t,e),this._edgeList=null},interfaces_:function(){return[]},getClass:function(){return wr}}),Xo(xr,wr),Yo(xr.prototype,{linkResultDirectedEdges:function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var i=this._resultAreaEdgeList.get(r),o=i.getSym();if(i.getLabel().isArea())switch(null===t&&i.isInResult()&&(t=i),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!i.isInResult())continue;e.setNext(i),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new gn("no outgoing dirEdge found",this.getCoordinate());c.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},insert:function(t){var e=t;this.insertEdgeEnd(e,e)},getRightmostEdge:function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var r=t.get(e-1),i=n.getQuadrant(),o=r.getQuadrant();return ye.isNorthern(i)&&ye.isNorthern(o)?n:ye.isNorthern(i)||ye.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(c.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},print:function(t){I.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},getResultAreaEdges:function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new b;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},updateLabelling:function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},linkAllDirectedEdges:function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===e&&(e=i),null!==t&&i.setNext(t),t=r}e.setNext(t)},computeDepths:function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=(t.getLabel(),t.getDepth(Ue.LEFT)),r=t.getDepth(Ue.RIGHT),i=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,i)!==r)throw new gn("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[0],a=arguments[1],s=arguments[2],l=o;l<a;l++){var u=this._edgeList.get(l);u.getLabel(),u.setEdgeDepths(Ue.RIGHT,s),s=u.getDepth(Ue.LEFT)}return s}},mergeSymLabels:function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},linkMinimalDirectedEdges:function(t){for(var e=null,n=null,r=this._SCANNING_FOR_INCOMING,i=this._resultAreaEdgeList.size()-1;i>=0;i--){var o=this._resultAreaEdgeList.get(i),a=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),r){case this._SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==t)continue;n=a,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(c.isTrue(null!==e,"found null for first outgoing dirEdge"),c.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},getOutgoingDegree:function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)(r=e.next()).isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],t=0,e=this.iterator();e.hasNext();){var r=e.next();r.getEdgeRing()===n&&t++}return t}},getLabel:function(){return this._label},findCoveredLineEdges:function(){for(var t=Yt.NONE,e=this.iterator();e.hasNext();)if(i=(r=e.next()).getSym(),!r.isLineEdge()){if(r.isInResult()){t=Yt.INTERIOR;break}if(i.isInResult()){t=Yt.EXTERIOR;break}}if(t===Yt.NONE)return null;for(var n=t,e=this.iterator();e.hasNext();){var r=e.next(),i=r.getSym();r.isLineEdge()?r.getEdge().setCovered(n===Yt.INTERIOR):(r.isInResult()&&(n=Yt.EXTERIOR),i.isInResult()&&(n=Yt.INTERIOR))}},computeLabelling:function(t){wr.prototype.computeLabelling.call(this,t),this._label=new We(Yt.NONE);for(var e=this.iterator();e.hasNext();)for(var n=e.next().getEdge().getLabel(),r=0;r<2;r++){var i=n.getLocation(r);i!==Yt.INTERIOR&&i!==Yt.BOUNDARY||this._label.setLocation(r,Yt.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return xr}}),Xo(Er,yn),Yo(Er.prototype,{createNode:function(t){return new dn(t,new xr)},interfaces_:function(){return[]},getClass:function(){return Er}}),Yo(Mr.prototype,{compareTo:function(t){var e=t;return Mr.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},interfaces_:function(){return[i]},getClass:function(){return Mr}}),Mr.orientation=function(t){return 1===H.increasingDirection(t)},Mr.compareOriented=function(t,e,n,r){for(var i=e?1:-1,o=r?1:-1,a=e?t.length:-1,s=r?n.length:-1,l=e?0:t.length-1,u=r?0:n.length-1;;){var c=t[l].compareTo(n[u]);if(0!==c)return c;var f=(l+=i)===a,h=(u+=o)===s;if(f&&!h)return-1;if(!f&&h)return 1;if(f&&h)return 0}},Yo(Sr.prototype,{print:function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&t.print(","),t.print(r[i].x+" "+r[i].y);t.println(")")}t.print(")  ")},addAll:function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},findEdgeIndex:function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},iterator:function(){return this._edges.iterator()},getEdges:function(){return this._edges},get:function(t){return this._edges.get(t)},findEqualEdge:function(t){var e=new Mr(t.getCoordinates());return this._ocaMap.get(e)},add:function(t){this._edges.add(t);var e=new Mr(t.getCoordinates());this._ocaMap.put(e,t)},interfaces_:function(){return[]},getClass:function(){return Sr}}),Yo(Tr.prototype,{processIntersections:function(t,e,n,r){},isDone:function(){},interfaces_:function(){return[]},getClass:function(){return Tr}}),Yo(Cr.prototype,{isTrivialIntersection:function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(Cr.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.size()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},getProperIntersectionPoint:function(){return this._properIntersectionPoint},hasProperInteriorIntersection:function(){return this._hasProperInterior},getLineIntersector:function(){return this._li},hasProperIntersection:function(){return this._hasProper},processIntersections:function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},hasIntersection:function(){return this._hasIntersection},isDone:function(){return!1},hasInteriorIntersection:function(){return this._hasInterior},interfaces_:function(){return[Tr]},getClass:function(){return Cr}}),Cr.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)},Yo(Or.prototype,{setWorkingPrecisionModel:function(t){this._workingPrecisionModel=t},insertUniqueEdge:function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new We(t.getLabel())).flip(),n.merge(r);var i=Or.depthDelta(r),o=e.getDepthDelta()+i;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(Or.depthDelta(t.getLabel()))},buildSubgraphs:function(t,e){for(var n=new b,r=t.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),a=new vr(n).getDepth(o);i.computeDepth(a),i.findResultEdges(),n.add(i),e.add(i.getDirectedEdges(),i.getNodes())}},createSubgraphs:function(t){for(var e=new b,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new lr;i.create(r),e.add(i)}}return fa.sort(e,fa.reverseOrder()),e},createEmptyResultGeometry:function(){return this._geomFact.createPolygon()},getNoder:function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new tr,n=new qt;return n.setPrecisionModel(t),e.setSegmentIntersector(new Cr(n)),e},buffer:function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var r=new br(t,e,new gr(n,this._bufParams)).getCurves();if(r.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(r,n),this._graph=new bn(new Er),this._graph.addEdges(this._edgeList.getEdges());var i=this.createSubgraphs(this._graph),o=new hr(this._geomFact);this.buildSubgraphs(i,o);var a=o.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)},computeNodedEdges:function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var a=i.getData(),s=new hn(i.getCoordinates(),new We(a));this.insertUniqueEdge(s)}}},setNoder:function(t){this._workingNoder=t},interfaces_:function(){return[]},getClass:function(){return Or}}),Or.depthDelta=function(t){var e=t.getLocation(0,Ue.LEFT),n=t.getLocation(0,Ue.RIGHT);return e===Yt.INTERIOR&&n===Yt.EXTERIOR?1:e===Yt.EXTERIOR&&n===Yt.INTERIOR?-1:0},Or.convertSegStrings=function(t){for(var e=new Bt,n=new b;t.hasNext();){var r=t.next(),i=e.createLineString(r.getCoordinates());n.add(i)}return e.buildGeometry(n)},Yo(Ar.prototype,{checkEndPtVertexIntersections:function(){if(0===arguments.length)for(e=this._segStrings.iterator();e.hasNext();)r=(n=e.next()).getCoordinates(),this.checkEndPtVertexIntersections(r[0],this._segStrings),this.checkEndPtVertexIntersections(r[r.length-1],this._segStrings);else if(2===arguments.length)for(var t=arguments[0],e=arguments[1].iterator();e.hasNext();)for(var n=e.next(),r=n.getCoordinates(),i=1;i<r.length-1;i++)if(r[i].equals(t))throw new l("found endpt/interior pt intersection at index "+i+" :pt "+t)},checkInteriorIntersections:function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(e,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],a=i.getCoordinates(),s=o.getCoordinates(),u=0;u<a.length-1;u++)for(var c=0;c<s.length-1;c++)this.checkInteriorIntersections(i,u,o,c);else if(4===arguments.length){var f=arguments[0],h=arguments[1],d=arguments[2],p=arguments[3];if(f===d&&h===p)return null;var m=f.getCoordinates()[h],g=f.getCoordinates()[h+1],v=d.getCoordinates()[p],y=d.getCoordinates()[p+1];if(this._li.computeIntersection(m,g,v,y),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,m,g)||this.hasInteriorIntersection(this._li,v,y)))throw new l("found non-noded intersection at "+m+"-"+g+" and "+v+"-"+y)}},checkValid:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},checkCollapses:function(){if(0===arguments.length)for(n=this._segStrings.iterator();n.hasNext();){var t=n.next();this.checkCollapses(t)}else if(1===arguments.length)for(var e=arguments[0].getCoordinates(),n=0;n<e.length-2;n++)this.checkCollapse(e[n],e[n+1],e[n+2])},hasInteriorIntersection:function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++){var i=t.getIntersection(r);if(!i.equals(e)&&!i.equals(n))return!0}return!1},checkCollapse:function(t,e,n){if(t.equals(n))throw new l("found non-noded collapse at "+Ar.fact.createLineString([t,e,n]))},interfaces_:function(){return[]},getClass:function(){return Ar}}),Ar.fact=new Bt,Yo(Ir.prototype,{intersectsScaled:function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y),a=this._maxx<n||this._minx>r||this._maxy<i||this._miny>o;if(a)return!1;var s=this.intersectsToleranceSquare(t,e);return c.isTrue(!(a&&s),"Found bad envelope test"),s},initCorners:function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new f(this._maxx,this._maxy),this._corner[1]=new f(this._minx,this._maxy),this._corner[2]=new f(this._minx,this._miny),this._corner[3]=new f(this._maxx,this._miny)},intersects:function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},scale:function(t){return Math.round(t*this._scaleFactor)},getCoordinate:function(){return this._originalPt},copyScaled:function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},getSafeEnvelope:function(){if(null===this._safeEnv){var t=Ir.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new w(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},intersectsPixelClosure:function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},intersectsToleranceSquare:function(t,e){var n=!1,r=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||n&&r||t.equals(this._pt)||e.equals(this._pt)))))},addSnappedNode:function(t,e){var n=t.getCoordinate(e),r=t.getCoordinate(e+1);return!!this.intersects(n,r)&&(t.addIntersection(this.getCoordinate(),e),!0)},interfaces_:function(){return[]},getClass:function(){return Ir}}),Ir.SAFE_ENV_EXPANSION_FACTOR=.75,Yo(Rr.prototype,{snap:function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=e.getSafeEnvelope(),o=new Pr(e,n,r);return this._index.query(i,{interfaces_:function(){return[Ye]},visitItem:function(t){t.select(i,o)}}),o.isNodeAdded()}},interfaces_:function(){return[]},getClass:function(){return Rr}}),Xo(Pr,le),Yo(Pr.prototype,{isNodeAdded:function(){return this._isNodeAdded},select:function(){if(!(2===arguments.length&&Number.isInteger(arguments[1])&&arguments[0]instanceof ve))return le.prototype.select.apply(this,arguments);var t=arguments[0],e=arguments[1],n=t.getContext();if(null!==this._parentEdge&&n===this._parentEdge&&e===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(n,e)},interfaces_:function(){return[]},getClass:function(){return Pr}}),Rr.HotPixelSnapAction=Pr,Yo(Lr.prototype,{processIntersections:function(t,e,n,r){if(t===n&&e===r)return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var l=0;l<this._li.getIntersectionNum();l++)this._interiorIntersections.add(this._li.getIntersection(l));t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)}},isDone:function(){return!1},getInteriorIntersections:function(){return this._interiorIntersections},interfaces_:function(){return[Tr]},getClass:function(){return Lr}}),Yo(Nr.prototype,{checkCorrectness:function(t){var e=new Ar(Kn.getNodedSubstrings(t));try{e.checkValid()}catch(t){if(!(t instanceof x))throw t;t.printStackTrace()}},getNodedSubstrings:function(){return Kn.getNodedSubstrings(this._nodedSegStrings)},snapRound:function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},findInteriorIntersections:function(t,e){var n=new Lr(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},computeVertexSnaps:function(){if(Zo(arguments[0],p))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof Kn)for(var n=arguments[0],r=n.getCoordinates(),i=0;i<r.length;i++){var o=new Ir(r[i],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,i)&&n.addIntersection(r[i],i)}},computeNodes:function(t){this._nodedSegStrings=t,this._noder=new tr,this._pointSnapper=new Rr(this._noder.getIndex()),this.snapRound(t,this._li)},computeIntersectionSnaps:function(t){for(var e=t.iterator();e.hasNext();){var n=new Ir(e.next(),this._scaleFactor,this._li);this._pointSnapper.snap(n)}},interfaces_:function(){return[Jn]},getClass:function(){return Nr}}),Yo(kr.prototype,{bufferFixedPrecision:function(t){var e=new nr(new Nr(new Ut(1)),t.getScale()),n=new Or(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},bufferReducedPrecision:function(){if(0===arguments.length){for(var t=kr.MAX_PRECISION_DIGITS;t>=0;t--){try{this.bufferReducedPrecision(t)}catch(t){if(!(t instanceof gn))throw t;this._saveException=t}if(null!==this._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var e=arguments[0],n=new Ut(kr.precisionScaleFactor(this._argGeom,this._distance,e));this.bufferFixedPrecision(n)}},computeGeometry:function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===Ut.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},setQuadrantSegments:function(t){this._bufParams.setQuadrantSegments(t)},bufferOriginalPrecision:function(){try{var t=new Or(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof l))throw t;this._saveException=t}},getResultGeometry:function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},setEndCapStyle:function(t){this._bufParams.setEndCapStyle(t)},interfaces_:function(){return[]},getClass:function(){return kr}}),kr.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return h=new kr(t).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof F&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1],i=arguments[2];return(f=new kr(n)).setQuadrantSegments(i),h=f.getResultGeometry(r)}if(arguments[2]instanceof or&&arguments[0]instanceof F&&"number"==typeof arguments[1]){var o=arguments[0],a=arguments[1];return h=(f=new kr(o,arguments[2])).getResultGeometry(a)}}else if(4===arguments.length){var s=arguments[0],l=arguments[1],u=arguments[2],c=arguments[3],f=new kr(s);f.setQuadrantSegments(u),f.setEndCapStyle(c);var h=f.getResultGeometry(l);return h}},kr.precisionScaleFactor=function(t,e,n){var r=t.getEnvelopeInternal(),i=P.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)},kr.CAP_ROUND=or.CAP_ROUND,kr.CAP_BUTT=or.CAP_FLAT,kr.CAP_FLAT=or.CAP_FLAT,kr.CAP_SQUARE=or.CAP_SQUARE,kr.MAX_PRECISION_DIGITS=12;var wa=Object.freeze({BufferOp:kr,BufferParameters:or});Yo(Dr.prototype,{filter:function(t){t instanceof Mt&&this._comps.add(t)},interfaces_:function(){return[lt]},getClass:function(){return Dr}}),Dr.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return Dr.getPolygons(t,new b)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Mt?n.add(e):e instanceof ct&&e.apply(new Dr(n)),n}},Yo(Fr.prototype,{isInsideArea:function(){return this._segIndex===Fr.INSIDE_AREA},getCoordinate:function(){return this._pt},getGeometryComponent:function(){return this._component},getSegmentIndex:function(){return this._segIndex},interfaces_:function(){return[]},getClass:function(){return Fr}}),Fr.INSIDE_AREA=-1,Yo(jr.prototype,{filter:function(t){t instanceof wt&&this._pts.add(t)},interfaces_:function(){return[lt]},getClass:function(){return jr}}),jr.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof wt?fa.singletonList(t):jr.getPoints(t,new b)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof wt?n.add(e):e instanceof ct&&e.apply(new jr(n)),n}},Yo(Ur.prototype,{filter:function(t){(t instanceof wt||t instanceof bt||t instanceof Mt)&&this._locations.add(new Fr(t,0,t.getCoordinate()))},interfaces_:function(){return[lt]},getClass:function(){return Ur}}),Ur.getLocations=function(t){var e=new b;return t.apply(new Ur(e)),e},Yo(zr.prototype,{computeContainmentDistance:function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=this._geom[e];if(r.getDimension()<2)return null;var i=1-e,o=Dr.getPolygons(r);if(o.size()>0){var a=Ur.getLocations(this._geom[i]);if(this.computeContainmentDistance(a,o,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[i]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&Zo(arguments[0],g)&&Zo(arguments[1],g)){for(var s=arguments[0],l=arguments[1],u=arguments[2],c=0;c<s.size();c++)for(var f=s.get(c),h=0;h<l.size();h++)if(this.computeContainmentDistance(f,l.get(h),u),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Fr&&arguments[1]instanceof Mt){var d=arguments[0],p=arguments[1],m=arguments[2],v=d.getCoordinate();if(Yt.EXTERIOR!==this._ptLocator.locate(v,p))return this._minDistance=0,m[0]=d,m[1]=new Fr(p,v),null}},computeMinDistanceLinesPoints:function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(i,a,n),this._minDistance<=this._terminateDistance)return null}},computeFacetDistance:function(){var t=new Array(2).fill(null),e=tn.getLines(this._geom[0]),n=tn.getLines(this._geom[1]),r=jr.getPoints(this._geom[0]),i=jr.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,i,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,r,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(r,i,t),void this.updateMinDistance(t,!1))))},nearestLocations:function(){return this.computeMinDistance(),this._minDistanceLocation},updateMinDistance:function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},nearestPoints:function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},computeMinDistance:function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof bt&&arguments[1]instanceof wt){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var r=t.getCoordinates(),i=e.getCoordinate(),o=0;o<r.length-1;o++){if((h=L.pointToSegment(i,r[o],r[o+1]))<this._minDistance){this._minDistance=h;var a=new Wt(r[o],r[o+1]).closestPoint(i);n[0]=new Fr(t,o,a),n[1]=new Fr(e,0,i)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof bt&&arguments[1]instanceof bt){var s=arguments[0],l=arguments[1],u=arguments[2];if(s.getEnvelopeInternal().distance(l.getEnvelopeInternal())>this._minDistance)return null;for(var r=s.getCoordinates(),c=l.getCoordinates(),o=0;o<r.length-1;o++)for(var f=0;f<c.length-1;f++){var h=L.segmentToSegment(r[o],r[o+1],c[f],c[f+1]);if(h<this._minDistance){this._minDistance=h;var d=new Wt(r[o],r[o+1]),p=new Wt(c[f],c[f+1]),m=d.closestPoints(p);u[0]=new Fr(s,o,m[0]),u[1]=new Fr(l,f,m[1])}if(this._minDistance<=this._terminateDistance)return null}}},computeMinDistancePoints:function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o),s=i.getCoordinate().distance(a.getCoordinate());if(s<this._minDistance&&(this._minDistance=s,n[0]=new Fr(i,0,i.getCoordinate()),n[1]=new Fr(a,0,a.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},distance:function(){if(null===this._geom[0]||null===this._geom[1])throw new n("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},computeMinDistanceLines:function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(i,a,n),this._minDistance<=this._terminateDistance)return null}},interfaces_:function(){return[]},getClass:function(){return zr}}),zr.distance=function(t,e){return new zr(t,e).distance()},zr.isWithinDistance=function(t,e,n){return!(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>n)&&new zr(t,e,n).distance()<=n},zr.nearestPoints=function(t,e){return new zr(t,e).nearestPoints()};var xa=Object.freeze({DistanceOp:zr});Yo(Br.prototype,{getCoordinates:function(){if(null===this._coordinates){for(var t=0,e=0,n=new _,r=this._directedEdges.iterator();r.hasNext();){var i=r.next();i.getEdgeDirection()?t++:e++,n.add(i.getEdge().getLine().getCoordinates(),!1,i.getEdgeDirection())}this._coordinates=n.toCoordinateArray(),e>t&&H.reverse(this._coordinates)}return this._coordinates},toLineString:function(){return this._factory.createLineString(this.getCoordinates())},add:function(t){this._directedEdges.add(t)},interfaces_:function(){return[]},getClass:function(){return Br}}),Yo(Vr.prototype,{setVisited:function(t){this._isVisited=t},isMarked:function(){return this._isMarked},setData:function(t){this._data=t},getData:function(){return this._data},setMarked:function(t){this._isMarked=t},getContext:function(){return this._data},isVisited:function(){return this._isVisited},setContext:function(t){this._data=t},interfaces_:function(){return[]},getClass:function(){return Vr}}),Vr.getComponentWithVisitedState=function(t,e){for(;t.hasNext();){var n=t.next();if(n.isVisited()===e)return n}return null},Vr.setVisited=function(t,e){for(;t.hasNext();)t.next().setVisited(e)},Vr.setMarked=function(t,e){for(;t.hasNext();)t.next().setMarked(e)},Xo(Gr,Vr),Yo(Gr.prototype,{isRemoved:function(){return null===this._parentEdge},compareDirection:function(t){return this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:A.index(t._p0,t._p1,this._p1)},getCoordinate:function(){return this._from.getCoordinate()},print:function(t){var e=this.getClass().getName(),n=e.lastIndexOf("."),r=e.substring(n+1);t.print("  "+r+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+this._angle)},getDirectionPt:function(){return this._p1},getAngle:function(){return this._angle},compareTo:function(t){var e=t;return this.compareDirection(e)},getFromNode:function(){return this._from},getSym:function(){return this._sym},setEdge:function(t){this._parentEdge=t},remove:function(){this._sym=null,this._parentEdge=null},getEdge:function(){return this._parentEdge},getQuadrant:function(){return this._quadrant},setSym:function(t){this._sym=t},getToNode:function(){return this._to},getEdgeDirection:function(){return this._edgeDirection},interfaces_:function(){return[i]},getClass:function(){return Gr}}),Gr.toEdges=function(t){for(var e=new b,n=t.iterator();n.hasNext();)e.add(n.next()._parentEdge);return e},Xo(Hr,Gr),Yo(Hr.prototype,{getNext:function(){return 2!==this.getToNode().getDegree()?null:this.getToNode().getOutEdges().getEdges().get(0)===this.getSym()?this.getToNode().getOutEdges().getEdges().get(1):(c.isTrue(this.getToNode().getOutEdges().getEdges().get(1)===this.getSym()),this.getToNode().getOutEdges().getEdges().get(0))},interfaces_:function(){return[]},getClass:function(){return Hr}}),Xo(qr,Vr),Yo(qr.prototype,{isRemoved:function(){return null===this._dirEdge},setDirectedEdges:function(t,e){this._dirEdge=[t,e],t.setEdge(this),e.setEdge(this),t.setSym(e),e.setSym(t),t.getFromNode().addOutEdge(t),e.getFromNode().addOutEdge(e)},getDirEdge:function(){if(Number.isInteger(arguments[0])){var t=arguments[0];return this._dirEdge[t]}if(arguments[0]instanceof Yr){var e=arguments[0];return this._dirEdge[0].getFromNode()===e?this._dirEdge[0]:this._dirEdge[1].getFromNode()===e?this._dirEdge[1]:null}},remove:function(){this._dirEdge=null},getOppositeNode:function(t){return this._dirEdge[0].getFromNode()===t?this._dirEdge[0].getToNode():this._dirEdge[1].getFromNode()===t?this._dirEdge[1].getToNode():null},interfaces_:function(){return[]},getClass:function(){return qr}}),Yo(Wr.prototype,{getNextEdge:function(t){var e=this.getIndex(t);return this._outEdges.get(this.getIndex(e+1))},getCoordinate:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},iterator:function(){return this.sortEdges(),this._outEdges.iterator()},sortEdges:function(){this._sorted||(fa.sort(this._outEdges),this._sorted=!0)},remove:function(t){this._outEdges.remove(t)},getEdges:function(){return this.sortEdges(),this._outEdges},getNextCWEdge:function(t){var e=this.getIndex(t);return this._outEdges.get(this.getIndex(e-1))},getIndex:function(){if(arguments[0]instanceof qr){var t=arguments[0];for(this.sortEdges(),n=0;n<this._outEdges.size();n++)if((r=this._outEdges.get(n)).getEdge()===t)return n;return-1}if(arguments[0]instanceof Gr){var e=arguments[0];this.sortEdges();for(var n=0;n<this._outEdges.size();n++){var r=this._outEdges.get(n);if(r===e)return n}return-1}if(Number.isInteger(arguments[0])){var i=arguments[0]%this._outEdges.size();return i<0&&(i+=this._outEdges.size()),i}},add:function(t){this._outEdges.add(t),this._sorted=!1},getDegree:function(){return this._outEdges.size()},interfaces_:function(){return[]},getClass:function(){return Wr}}),Xo(Yr,Vr),Yo(Yr.prototype,{isRemoved:function(){return null===this._pt},addOutEdge:function(t){this._deStar.add(t)},getCoordinate:function(){return this._pt},getOutEdges:function(){return this._deStar},remove:function(){if(0===arguments.length)this._pt=null;else if(1===arguments.length){var t=arguments[0];this._deStar.remove(t)}},getIndex:function(t){return this._deStar.getIndex(t)},getDegree:function(){return this._deStar.getDegree()},interfaces_:function(){return[]},getClass:function(){return Yr}}),Yr.getEdgesBetween=function(t,e){var n=new K(Gr.toEdges(t.getOutEdges().getEdges())),r=Gr.toEdges(e.getOutEdges().getEdges());return n.retainAll(r),n},Xo(Xr,qr),Yo(Xr.prototype,{getLine:function(){return this._line},interfaces_:function(){return[]},getClass:function(){return Xr}}),Yo(Zr.prototype,{find:function(t){return this._nodeMap.get(t)},iterator:function(){return this._nodeMap.values().iterator()},remove:function(t){return this._nodeMap.remove(t)},values:function(){return this._nodeMap.values()},add:function(t){return this._nodeMap.put(t.getCoordinate(),t),t},interfaces_:function(){return[]},getClass:function(){return Zr}}),Yo(Kr.prototype,{findNodesOfDegree:function(t){for(var e=new b,n=this.nodeIterator();n.hasNext();){var r=n.next();r.getDegree()===t&&e.add(r)}return e},dirEdgeIterator:function(){return this._dirEdges.iterator()},edgeIterator:function(){return this._edges.iterator()},remove:function(){if(arguments[0]instanceof qr){var t=arguments[0];this.remove(t.getDirEdge(0)),this.remove(t.getDirEdge(1)),this._edges.remove(t),t.remove()}else if(arguments[0]instanceof Gr){var e=arguments[0];null!==(o=e.getSym())&&o.setSym(null),e.getFromNode().remove(e),e.remove(),this._dirEdges.remove(e)}else if(arguments[0]instanceof Yr){for(var n=arguments[0],r=n.getOutEdges().getEdges().iterator();r.hasNext();){var i=r.next(),o=i.getSym();null!==o&&this.remove(o),this._dirEdges.remove(i);var a=i.getEdge();null!==a&&this._edges.remove(a)}this._nodeMap.remove(n.getCoordinate()),n.remove()}},findNode:function(t){return this._nodeMap.find(t)},getEdges:function(){return this._edges},nodeIterator:function(){return this._nodeMap.iterator()},contains:function(){if(arguments[0]instanceof qr){var t=arguments[0];return this._edges.contains(t)}if(arguments[0]instanceof Gr){var e=arguments[0];return this._dirEdges.contains(e)}},add:function(){if(arguments[0]instanceof Yr){var t=arguments[0];this._nodeMap.add(t)}else if(arguments[0]instanceof qr){var e=arguments[0];this._edges.add(e),this.add(e.getDirEdge(0)),this.add(e.getDirEdge(1))}else if(arguments[0]instanceof Gr){var n=arguments[0];this._dirEdges.add(n)}},getNodes:function(){return this._nodeMap.values()},interfaces_:function(){return[]},getClass:function(){return Kr}}),Xo(Qr,Kr),Yo(Qr.prototype,{addEdge:function(t){if(t.isEmpty())return null;var e=H.removeRepeatedPoints(t.getCoordinates());if(e.length<=1)return null;var n=e[0],r=e[e.length-1],i=this.getNode(n),o=this.getNode(r),a=new Hr(i,o,e[1],!0),s=new Hr(o,i,e[e.length-2],!1),l=new Xr(t);l.setDirectedEdges(a,s),this.add(l)},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new Yr(t),this.add(e)),e},interfaces_:function(){return[]},getClass:function(){return Qr}}),Yo(Jr.prototype,{buildEdgeStringsForUnprocessedNodes:function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next();e.isMarked()||(c.isTrue(2===e.getDegree()),this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForNonDegree2Nodes:function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next();2!==e.getDegree()&&(this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForObviousStartNodes:function(){this.buildEdgeStringsForNonDegree2Nodes()},getMergedLineStrings:function(){return this.merge(),this._mergedLineStrings},buildEdgeStringsStartingAt:function(t){for(var e=t.getOutEdges().iterator();e.hasNext();){var n=e.next();n.getEdge().isMarked()||this._edgeStrings.add(this.buildEdgeStringStartingWith(n))}},merge:function(){if(null!==this._mergedLineStrings)return null;Vr.setMarked(this._graph.nodeIterator(),!1),Vr.setMarked(this._graph.edgeIterator(),!1),this._edgeStrings=new b,this.buildEdgeStringsForObviousStartNodes(),this.buildEdgeStringsForIsolatedLoops(),this._mergedLineStrings=new b;for(var t=this._edgeStrings.iterator();t.hasNext();){var e=t.next();this._mergedLineStrings.add(e.toLineString())}},buildEdgeStringStartingWith:function(t){var e=new Br(this._factory),n=t;do{e.add(n),n.getEdge().setMarked(!0),n=n.getNext()}while(null!==n&&n!==t);return e},add:function(){if(arguments[0]instanceof F)arguments[0].apply({interfaces_:function(){return[D]},filter:function(t){t instanceof bt&&this.add(t)}});else if(Zo(arguments[0],p)){var t=arguments[0];this._mergedLineStrings=null;for(var e=t.iterator();e.hasNext();){var n=e.next();this.add(n)}}else if(arguments[0]instanceof bt){var r=arguments[0];null===this._factory&&(this._factory=r.getFactory()),this._graph.addEdge(r)}},buildEdgeStringsForIsolatedLoops:function(){this.buildEdgeStringsForUnprocessedNodes()},interfaces_:function(){return[]},getClass:function(){return Jr}});var Ea=Object.freeze({LineMerger:Jr});Yo($r.prototype,{getCoordinates:function(){return this._pts},size:function(){return this._pts.length},getCoordinate:function(t){return this._pts[t]},isClosed:function(){return this._pts[0].equals(this._pts[this._pts.length-1])},getSegmentOctant:function(t){return t===this._pts.length-1?-1:Yn.octant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this._data=t},getData:function(){return this._data},toString:function(){return Gt.toLineString(new Lt(this._pts))},interfaces_:function(){return[Xn]},getClass:function(){return $r}}),Yo(ti.prototype,{getInteriorIntersection:function(){return this._interiorIntersection},setCheckEndSegmentsOnly:function(t){this._isCheckEndSegmentsOnly=t},getIntersectionSegments:function(){return this._intSegments},count:function(){return this._intersectionCount},getIntersections:function(){return this._intersections},setFindAllIntersections:function(t){this._findAllIntersections=t},setKeepIntersections:function(t){this._keepIntersections=t},processIntersections:function(t,e,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,r))return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=i,this._intSegments[1]=o,this._intSegments[2]=a,this._intSegments[3]=s,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},isEndSegment:function(t,e){return 0===e||e>=t.size()-2},hasIntersection:function(){return null!==this._interiorIntersection},isDone:function(){return!this._findAllIntersections&&null!==this._interiorIntersection},interfaces_:function(){return[Tr]},getClass:function(){return ti}}),ti.createAllIntersectionsFinder=function(t){var e=new ti(t);return e.setFindAllIntersections(!0),e},ti.createAnyIntersectionFinder=function(t){return new ti(t)},ti.createIntersectionCounter=function(t){var e=new ti(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e},Yo(ei.prototype,{execute:function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},getIntersections:function(){return this._segInt.getIntersections()},isValid:function(){return this.execute(),this._isValid},setFindAllIntersections:function(t){this._findAllIntersections=t},checkInteriorIntersections:function(){this._isValid=!0,this._segInt=new ti(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new tr;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},checkValid:function(){if(this.execute(),!this._isValid)throw new gn(this.getErrorMessage(),this._segInt.getInteriorIntersection())},getErrorMessage:function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Gt.toLineString(t[0],t[1])+" and "+Gt.toLineString(t[2],t[3])},interfaces_:function(){return[]},getClass:function(){return ei}}),ei.computeIntersections=function(t){var e=new ei(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()},Yo(ni.prototype,{checkValid:function(){this._nv.checkValid()},interfaces_:function(){return[]},getClass:function(){return ni}}),ni.toSegmentStrings=function(t){for(var e=new b,n=t.iterator();n.hasNext();){var r=n.next();e.add(new $r(r.getCoordinates(),r))}return e},ni.checkValid=function(t){new ni(t).checkValid()},Yo(ri.prototype,{map:function(t){for(var e=new b,n=0;n<t.getNumGeometries();n++){var r=this._mapOp.map(t.getGeometryN(n));r.isEmpty()||e.add(r)}return t.getFactory().createGeometryCollection(Bt.toGeometryArray(e))},interfaces_:function(){return[]},getClass:function(){return ri}}),ri.map=function(t,e){return new ri(e).map(t)},Yo(ii.prototype,{collectLines:function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},labelIsolatedLine:function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},build:function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},collectLineEdge:function(t,e,n){var r=t.getLabel(),i=t.getEdge();t.isLineEdge()&&(t.isVisited()||!gi.isResultOfOp(r,e)||i.isCovered()||(n.add(i),t.setVisitedEdge(!0)))},findCoveredLineEdges:function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this._op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},labelIsolatedLines:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},buildLines:function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),r=(n.getLabel(),this._geometryFactory.createLineString(n.getCoordinates()));this._resultLineList.add(r),n.setInResult(!0)}},collectBoundaryTouchEdge:function(t,e,n){var r=t.getLabel();return t.isLineEdge()?null:t.isVisited()?null:t.isInteriorAreaEdge()?null:t.getEdge().isInResult()?null:(c.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(gi.isResultOfOp(r,e)&&e===gi.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},interfaces_:function(){return[]},getClass:function(){return ii}}),Yo(oi.prototype,{filterCoveredNodeToPoint:function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},extractNonCoveredResultNodes:function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==gi.INTERSECTION)){var r=n.getLabel();gi.isResultOfOp(r,t)&&this.filterCoveredNodeToPoint(n)}}},build:function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},interfaces_:function(){return[]},getClass:function(){return oi}}),Yo(ai.prototype,{snapVertices:function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),r=0;r<n;r++){var i=t.get(r),o=this.findSnapForVertex(i,e);null!==o&&(t.set(r,new f(o)),0===r&&this._isClosed&&t.set(t.size()-1,new f(o)))}},findSnapForVertex:function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},snapTo:function(t){var e=new _(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},snapSegments:function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var r=0;r<n;r++){var i=e[r],o=this.findSegmentIndexToSnap(i,t);o>=0&&t.add(o+1,new f(i),!1)}},findSegmentIndexToSnap:function(t,e){for(var n=r.MAX_VALUE,i=-1,o=0;o<e.size()-1;o++){if(this._seg.p0=e.get(o),this._seg.p1=e.get(o+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var a=this._seg.distance(t);a<this._snapTolerance&&a<n&&(n=a,i=o)}return i},setAllowSnappingToSourceVertices:function(t){this._allowSnappingToSourceVertices=t},interfaces_:function(){return[]},getClass:function(){return ai}}),ai.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])},Yo(si.prototype,{snapTo:function(t,e){return new li(e,this.extractTargetCoordinates(t)).transform(this._srcGeom)},snapToSelf:function(t,e){var n=new li(t,this.extractTargetCoordinates(this._srcGeom),!0).transform(this._srcGeom),r=n;return e&&Zo(r,Et)&&(r=n.buffer(0)),r},computeSnapTolerance:function(t){return this.computeMinimumSegmentLength(t)/10},extractTargetCoordinates:function(t){for(var e=new ot,n=t.getCoordinates(),r=0;r<n.length;r++)e.add(n[r]);return e.toArray(new Array(0).fill(null))},computeMinimumSegmentLength:function(t){for(var e=r.MAX_VALUE,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);i<e&&(e=i)}return e},interfaces_:function(){return[]},getClass:function(){return si}}),si.snap=function(t,e,n){var r=new Array(2).fill(null),i=new si(t);r[0]=i.snapTo(e,n);var o=new si(e);return r[1]=o.snapTo(r[0],n),r},si.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=si.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===Ut.FIXED){var r=1/n.getScale()*2/1.415;r>e&&(e=r)}return e}if(2===arguments.length){var i=arguments[0],o=arguments[1];return Math.min(si.computeOverlaySnapTolerance(i),si.computeOverlaySnapTolerance(o))}},si.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*si.SNAP_PRECISION_FACTOR},si.snapToSelf=function(t,e,n){return new si(t).snapToSelf(e,n)},si.SNAP_PRECISION_FACTOR=1e-9,Xo(li,Oe),Yo(li.prototype,{snapLine:function(t,e){var n=new ai(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},interfaces_:function(){return[]},getClass:function(){return li}}),Yo(ui.prototype,{getCommon:function(){return r.longBitsToDouble(this._commonBits)},add:function(t){var e=r.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=ui.signExpBits(this._commonBits),this._isFirst=!1,null):ui.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=ui.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=ui.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},toString:function(){if(1===arguments.length&&arguments[0]instanceof long){var t=arguments[0],e=r.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+Long.toBinaryString(t),i=n.substring(n.length-64);return i.substring(0,1)+"  "+i.substring(1,12)+"(exp) "+i.substring(12)+" [ "+e+" ]"}},interfaces_:function(){return[]},getClass:function(){return ui}}),ui.getBit=function(t,e){return 0!=(t&1<<e)?1:0},ui.signExpBits=function(t){return t>>52},ui.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},ui.numCommonMostSigMantissaBits=function(t,e){for(var n=0,r=52;r>=0;r--){if(ui.getBit(t,r)!==ui.getBit(e,r))return n;n++}return 52},Yo(ci.prototype,{addCommonBits:function(t){var e=new hi(this._commonCoord);t.apply(e),t.geometryChanged()},removeCommonBits:function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new f(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new hi(e);return t.apply(n),t.geometryChanged(),t},getCommonCoordinate:function(){return this._commonCoord},add:function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},interfaces_:function(){return[]},getClass:function(){return ci}}),Yo(fi.prototype,{filter:function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},getCommonCoordinate:function(){return new f(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},interfaces_:function(){return[j]},getClass:function(){return fi}}),Yo(hi.prototype,{filter:function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,r=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,r)},isDone:function(){return!1},isGeometryChanged:function(){return!0},interfaces_:function(){return[ut]},getClass:function(){return hi}}),ci.CommonCoordinateFilter=fi,ci.Translater=hi,Yo(di.prototype,{selfSnap:function(t){return new si(t).snapTo(t,this._snapTolerance)},removeCommonBits:function(t){this._cbr=new ci,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},prepareResult:function(t){return this._cbr.addCommonBits(t),t},getResultGeometry:function(t){var e=this.snap(this._geom),n=gi.overlayOp(e[0],e[1],t);return this.prepareResult(n)},checkValid:function(t){t.isValid()||I.out.println("Snapped geometry is invalid")},computeSnapTolerance:function(){this._snapTolerance=si.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},snap:function(t){var e=this.removeCommonBits(t);return si.snap(e[0],e[1],this._snapTolerance)},interfaces_:function(){return[]},getClass:function(){return di}}),di.overlayOp=function(t,e,n){return new di(t,e).getResultGeometry(n)},di.union=function(t,e){return di.overlayOp(t,e,gi.UNION)},di.intersection=function(t,e){return di.overlayOp(t,e,gi.INTERSECTION)},di.symDifference=function(t,e){return di.overlayOp(t,e,gi.SYMDIFFERENCE)},di.difference=function(t,e){return di.overlayOp(t,e,gi.DIFFERENCE)},Yo(pi.prototype,{getResultGeometry:function(t){var e=null,n=!1,r=null;try{e=gi.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof l))throw t;r=t}if(!n)try{e=di.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof l?r:t}return e},interfaces_:function(){return[]},getClass:function(){return pi}}),pi.overlayOp=function(t,e,n){return new pi(t,e).getResultGeometry(n)},pi.union=function(t,e){return pi.overlayOp(t,e,gi.UNION)},pi.intersection=function(t,e){return pi.overlayOp(t,e,gi.INTERSECTION)},pi.symDifference=function(t,e){return pi.overlayOp(t,e,gi.SYMDIFFERENCE)},pi.difference=function(t,e){return pi.overlayOp(t,e,gi.DIFFERENCE)},Yo(mi.prototype,{getArgGeometry:function(t){return this._arg[t].getGeometry()},setComputationPrecision:function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},interfaces_:function(){return[]},getClass:function(){return mi}}),Xo(gi,mi),Yo(gi.prototype,{insertUniqueEdge:function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new We(t.getLabel())).flip();var i=e.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this._edgeList.add(t)},getGraph:function(){return this._graph},cancelDuplicateResultEdges:function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},isCoveredByLA:function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},computeGeometry:function(t,e,n,r){var i=new b;return i.addAll(t),i.addAll(e),i.addAll(n),i.isEmpty()?gi.createEmptyResult(r,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(i)},mergeSymLabels:function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},isCovered:function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(t,r)!==Yt.EXTERIOR)return!0}return!1},replaceCollapsedEdges:function(){for(var t=new b,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},updateNodeLabelling:function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},getResultGeometry:function(t){return this.computeOverlay(t),this._resultGeom},insertUniqueEdges:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},computeOverlay:function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new b;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),ni.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new hr(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new ii(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(t);var i=new oi(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},labelIncompleteNode:function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},copyPoints:function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},findResultAreaEdges:function(t){for(var e=this._graph.getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getLabel();r.isArea()&&!n.isInteriorAreaEdge()&&gi.isResultOfOp(r.getLocation(0,Ue.RIGHT),r.getLocation(1,Ue.RIGHT),t)&&n.setInResult(!0)}},computeLabelsFromDepths:function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),r=e.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(c.isTrue(!r.isNull(i,Ue.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(i,Ue.LEFT,r.getLocation(i,Ue.LEFT)),c.isTrue(!r.isNull(i,Ue.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(i,Ue.RIGHT,r.getLocation(i,Ue.RIGHT))))}}},computeLabelling:function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},labelIncompleteNodes:function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},isCoveredByA:function(t){return!!this.isCovered(t,this._resultPolyList)},interfaces_:function(){return[]},getClass:function(){return gi}}),gi.overlayOp=function(t,e,n){return new gi(t,e).getResultGeometry(n)},gi.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return gi.createEmptyResult(gi.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}if(t.isGeometryCollection()||e.isGeometryCollection())throw new n("This method does not support GeometryCollection arguments");return pi.overlayOp(t,e,gi.UNION)},gi.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return gi.createEmptyResult(gi.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var r=e;return ri.map(t,{interfaces_:function(){return[MapOp]},map:function(t){return t.intersection(r)}})}if(t.isGeometryCollection()||e.isGeometryCollection())throw new n("This method does not support GeometryCollection arguments");return pi.overlayOp(t,e,gi.INTERSECTION)},gi.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return gi.createEmptyResult(gi.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}if(t.isGeometryCollection()||e.isGeometryCollection())throw new n("This method does not support GeometryCollection arguments");return pi.overlayOp(t,e,gi.SYMDIFFERENCE)},gi.resultDimension=function(t,e,n){var r=e.getDimension(),i=n.getDimension(),o=-1;switch(t){case gi.INTERSECTION:o=Math.min(r,i);break;case gi.UNION:o=Math.max(r,i);break;case gi.DIFFERENCE:o=r;break;case gi.SYMDIFFERENCE:o=Math.max(r,i)}return o},gi.createEmptyResult=function(t,e,n,r){var i=null;switch(gi.resultDimension(t,e,n)){case-1:i=r.createGeometryCollection();break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},gi.difference=function(t,e){if(t.isEmpty())return gi.createEmptyResult(gi.DIFFERENCE,t,e,t.getFactory());if(e.isEmpty())return t.copy();if(t.isGeometryCollection()||e.isGeometryCollection())throw new n("This method does not support GeometryCollection arguments");return pi.overlayOp(t,e,gi.DIFFERENCE)},gi.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),r=t.getLocation(1);return gi.isResultOfOp(n,r,e)}if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];switch(i===Yt.BOUNDARY&&(i=Yt.INTERIOR),o===Yt.BOUNDARY&&(o=Yt.INTERIOR),a){case gi.INTERSECTION:return i===Yt.INTERIOR&&o===Yt.INTERIOR;case gi.UNION:return i===Yt.INTERIOR||o===Yt.INTERIOR;case gi.DIFFERENCE:return i===Yt.INTERIOR&&o!==Yt.INTERIOR;case gi.SYMDIFFERENCE:return i===Yt.INTERIOR&&o!==Yt.INTERIOR||i!==Yt.INTERIOR&&o===Yt.INTERIOR}return!1}},gi.INTERSECTION=1,gi.UNION=2,gi.DIFFERENCE=3,gi.SYMDIFFERENCE=4;var Ma=Object.freeze({OverlayOp:gi});Xo(vi,Gr),Yo(vi.prototype,{getNext:function(){return this._next},isInRing:function(){return null!==this._edgeRing},setRing:function(t){this._edgeRing=t},setLabel:function(t){this._label=t},getLabel:function(){return this._label},setNext:function(t){this._next=t},getRing:function(){return this._edgeRing},interfaces_:function(){return[]},getClass:function(){return vi}}),Xo(yi,qr),Yo(yi.prototype,{getLine:function(){return this._line},interfaces_:function(){return[]},getClass:function(){return yi}}),Yo(bi.prototype,{isIncluded:function(){return this._isIncluded},getCoordinates:function(){if(null===this._ringPts){for(var t=new _,e=this._deList.iterator();e.hasNext();){var n=e.next(),r=n.getEdge();bi.addEdge(r.getLine().getCoordinates(),n.getEdgeDirection(),t)}this._ringPts=t.toCoordinateArray()}return this._ringPts},isIncludedSet:function(){return this._isIncludedSet},isValid:function(){return this.getCoordinates(),!(this._ringPts.length<=3)&&(this.getRing(),this._ring.isValid())},build:function(t){var e=t;do{this.add(e),e.setRing(this),e=e.getNext(),c.isTrue(null!==e,"found null DE in ring"),c.isTrue(e===t||!e.isInRing(),"found DE already in ring")}while(e!==t)},isOuterHole:function(){return!!this._isHole&&!this.hasShell()},getPolygon:function(){var t=null;if(null!==this._holes){t=new Array(this._holes.size()).fill(null);for(var e=0;e<this._holes.size();e++)t[e]=this._holes.get(e)}return this._factory.createPolygon(this._ring,t)},isHole:function(){return this._isHole},isProcessed:function(){return this._isProcessed},addHole:function(){if(arguments[0]instanceof Tt){var t=arguments[0];null===this._holes&&(this._holes=new b),this._holes.add(t)}else if(arguments[0]instanceof bi){var e=arguments[0];e.setShell(this);var n=e.getRing();null===this._holes&&(this._holes=new b),this._holes.add(n)}},setIncluded:function(t){this._isIncluded=t,this._isIncludedSet=!0},getOuterHole:function(){if(this.isHole())return null;for(var t=0;t<this._deList.size();t++){var e=this._deList.get(t).getSym().getRing();if(e.isOuterHole())return e}return null},computeHole:function(){var t=this.getRing();this._isHole=A.isCCW(t.getCoordinates())},hasShell:function(){return null!==this._shell},isOuterShell:function(){return null!==this.getOuterHole()},getLineString:function(){return this.getCoordinates(),this._factory.createLineString(this._ringPts)},toString:function(){return Gt.toLineString(new Lt(this.getCoordinates()))},getShell:function(){return this.isHole()?this._shell:this},add:function(t){this._deList.add(t)},getRing:function(){if(null!==this._ring)return this._ring;this.getCoordinates(),this._ringPts.length<3&&I.out.println(this._ringPts);try{this._ring=this._factory.createLinearRing(this._ringPts)}catch(t){if(!(t instanceof x))throw t;I.out.println(this._ringPts)}return this._ring},updateIncluded:function(){if(this.isHole())return null;for(var t=0;t<this._deList.size();t++){var e=this._deList.get(t).getSym().getRing().getShell();if(null!==e&&e.isIncludedSet())return this.setIncluded(!e.isIncluded()),null}},setShell:function(t){this._shell=t},setProcessed:function(t){this._isProcessed=t},interfaces_:function(){return[]},getClass:function(){return bi}}),bi.findDirEdgesInRing=function(t){var e=t,n=new b;do{n.add(e),e=e.getNext(),c.isTrue(null!==e,"found null DE in ring"),c.isTrue(e===t||!e.isInRing(),"found DE already in ring")}while(e!==t);return n},bi.addEdge=function(t,e,n){if(e)for(r=0;r<t.length;r++)n.add(t[r],!1);else for(var r=t.length-1;r>=0;r--)n.add(t[r],!1)},bi.findEdgeRingContaining=function(t,e){for(var n=t.getRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,a=null,s=e.iterator();s.hasNext();){var l=s.next(),u=l.getRing(),c=u.getEnvelopeInternal();if(!c.equals(r)&&c.contains(r)){i=H.ptNotInList(n.getCoordinates(),u.getCoordinates());var f=!1;Jt.isInRing(i,u.getCoordinates())&&(f=!0),f&&(null===o||a.contains(c))&&(a=(o=l).getRing().getEnvelopeInternal())}}return o},Yo(_i.prototype,{compare:function(t,e){var n=e;return t.getRing().getEnvelope().compareTo(n.getRing().getEnvelope())},interfaces_:function(){return[a]},getClass:function(){return _i}}),bi.EnvelopeComparator=_i,Xo(wi,Kr),Yo(wi.prototype,{findEdgeRing:function(t){var e=new bi(this._factory);return e.build(t),e},computeDepthParity:function(){if(0===arguments.length)for(;;)return null;else arguments.length},computeNextCWEdges:function(){for(var t=this.nodeIterator();t.hasNext();){var e=t.next();wi.computeNextCWEdges(e)}},addEdge:function(t){if(t.isEmpty())return null;var e=H.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return null;var n=e[0],r=e[e.length-1],i=this.getNode(n),o=this.getNode(r),a=new vi(i,o,e[1],!0),s=new vi(o,i,e[e.length-2],!1),l=new yi(t);l.setDirectedEdges(a,s),this.add(l)},deleteCutEdges:function(){this.computeNextCWEdges(),wi.findLabeledEdgeRings(this._dirEdges);for(var t=new b,e=this._dirEdges.iterator();e.hasNext();){var n=e.next();if(!n.isMarked()){var r=n.getSym();if(n.getLabel()===r.getLabel()){n.setMarked(!0),r.setMarked(!0);var i=n.getEdge();t.add(i.getLine())}}}return t},getEdgeRings:function(){this.computeNextCWEdges(),wi.label(this._dirEdges,-1);var t=wi.findLabeledEdgeRings(this._dirEdges);this.convertMaximalToMinimalEdgeRings(t);for(var e=new b,n=this._dirEdges.iterator();n.hasNext();){var r=n.next();if(!r.isMarked()&&!r.isInRing()){var i=this.findEdgeRing(r);e.add(i)}}return e},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new Yr(t),this.add(e)),e},convertMaximalToMinimalEdgeRings:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel(),i=wi.findIntersectionNodes(n,r);if(null!==i)for(var o=i.iterator();o.hasNext();){var a=o.next();wi.computeNextCCWEdges(a,r)}}},deleteDangles:function(){for(var t=this.findNodesOfDegree(1),e=new K,n=new te,r=t.iterator();r.hasNext();)n.push(r.next());for(;!n.isEmpty();){var i=n.pop();for(wi.deleteAllEdges(i),r=i.getOutEdges().getEdges().iterator();r.hasNext();){var o=r.next();o.setMarked(!0);var a=o.getSym();null!==a&&a.setMarked(!0);var s=o.getEdge();e.add(s.getLine());var l=o.getToNode();1===wi.getDegreeNonDeleted(l)&&n.push(l)}}return e},interfaces_:function(){return[]},getClass:function(){return wi}}),wi.findLabeledEdgeRings=function(t){for(var e=new b,n=1,r=t.iterator();r.hasNext();){var i=r.next();if(!(i.isMarked()||i.getLabel()>=0)){e.add(i);var o=bi.findDirEdgesInRing(i);wi.label(o,n),n++}}return e},wi.getDegreeNonDeleted=function(t){for(var e=0,n=t.getOutEdges().getEdges().iterator();n.hasNext();)n.next().isMarked()||e++;return e},wi.deleteAllEdges=function(t){for(var e=t.getOutEdges().getEdges().iterator();e.hasNext();){var n=e.next();n.setMarked(!0);var r=n.getSym();null!==r&&r.setMarked(!0)}},wi.label=function(t,e){for(var n=t.iterator();n.hasNext();)n.next().setLabel(e)},wi.computeNextCWEdges=function(t){for(var e=null,n=null,r=t.getOutEdges().getEdges().iterator();r.hasNext();){var i=r.next();i.isMarked()||(null===e&&(e=i),null!==n&&(o=n.getSym()).setNext(i),n=i)}if(null!==n){var o=n.getSym();o.setNext(e)}},wi.computeNextCCWEdges=function(t,e){for(var n=null,r=null,i=t.getOutEdges().getEdges(),o=i.size()-1;o>=0;o--){var a=i.get(o),s=a.getSym(),l=null;a.getLabel()===e&&(l=a);var u=null;s.getLabel()===e&&(u=s),null===l&&null===u||(null!==u&&(r=u),null!==l&&(null!==r&&(r.setNext(l),r=null),null===n&&(n=l)))}null!==r&&(c.isTrue(null!==n),r.setNext(n))},wi.getDegree=function(t,e){for(var n=0,r=t.getOutEdges().getEdges().iterator();r.hasNext();)r.next().getLabel()===e&&n++;return n},wi.findIntersectionNodes=function(t,e){var n=t,r=null;do{var i=n.getFromNode();wi.getDegree(i,e)>1&&(null===r&&(r=new b),r.add(i)),n=n.getNext(),c.isTrue(null!==n,"found null DE in ring"),c.isTrue(n===t||!n.isInRing(),"found DE already in ring")}while(n!==t);return r},Yo(xi.prototype,{getGeometry:function(){return null===this._geomFactory&&(this._geomFactory=new Bt),this.polygonize(),this._extractOnlyPolygonal?this._geomFactory.buildGeometry(this._polyList):this._geomFactory.createGeometryCollection(Bt.toGeometryArray(this._polyList))},getInvalidRingLines:function(){return this.polygonize(),this._invalidRingLines},findValidRings:function(t,e,n){for(var r=t.iterator();r.hasNext();){var i=r.next();i.isValid()?e.add(i):n.add(i.getLineString())}},polygonize:function(){if(null!==this._polyList)return null;if(this._polyList=new b,null===this._graph)return null;this._dangles=this._graph.deleteDangles(),this._cutEdges=this._graph.deleteCutEdges();var t=this._graph.getEdgeRings(),e=new b;this._invalidRingLines=new b,this._isCheckingRingsValid?this.findValidRings(t,e,this._invalidRingLines):e=t,this.findShellsAndHoles(e),xi.assignHolesToShells(this._holeList,this._shellList),fa.sort(this._shellList,new bi.EnvelopeComparator);var n=!0;this._extractOnlyPolygonal&&(xi.findDisjointShells(this._shellList),n=!1),this._polyList=xi.extractPolygons(this._shellList,n)},getDangles:function(){return this.polygonize(),this._dangles},getCutEdges:function(){return this.polygonize(),this._cutEdges},getPolygons:function(){return this.polygonize(),this._polyList},add:function(){if(Zo(arguments[0],p))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.add(e)}else if(arguments[0]instanceof bt){var n=arguments[0];this._geomFactory=n.getFactory(),null===this._graph&&(this._graph=new wi(this._geomFactory)),this._graph.addEdge(n)}else arguments[0]instanceof F&&arguments[0].apply(this._lineStringAdder)},setCheckRingsValid:function(t){this._isCheckingRingsValid=t},findShellsAndHoles:function(t){this._holeList=new b,this._shellList=new b;for(var e=t.iterator();e.hasNext();){var n=e.next();n.computeHole(),n.isHole()?this._holeList.add(n):this._shellList.add(n)}},interfaces_:function(){return[]},getClass:function(){return xi}}),xi.findOuterShells=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getOuterHole();null===r||r.isProcessed()||(n.setIncluded(!0),r.setProcessed(!0))}},xi.extractPolygons=function(t,e){for(var n=new b,r=t.iterator();r.hasNext();){var i=r.next();(e||i.isIncluded())&&n.add(i.getPolygon())}return n},xi.assignHolesToShells=function(t,e){for(var n=t.iterator();n.hasNext();){var r=n.next();xi.assignHoleToShell(r,e)}},xi.assignHoleToShell=function(t,e){var n=bi.findEdgeRingContaining(t,e);null!==n&&n.addHole(t)},xi.findDisjointShells=function(t){xi.findOuterShells(t);var e=null;do{e=!1;for(var n=t.iterator();n.hasNext();){var r=n.next();r.isIncludedSet()||(r.updateIncluded(),r.isIncludedSet()||(e=!0))}}while(e)},Yo(Ei.prototype,{filter:function(t){t instanceof bt&&this.p.add(t)},interfaces_:function(){return[D]},getClass:function(){return Ei}}),xi.LineStringAdder=Ei;var Sa=Object.freeze({Polygonizer:xi});Yo(Mi.prototype,{createEdgeEndForNext:function(t,e,n,r){var i=n.segmentIndex+1;if(i>=t.getNumPoints()&&null===r)return null;var o=t.getCoordinate(i);null!==r&&r.segmentIndex===n.segmentIndex&&(o=r.coord);var a=new mn(t,n.coord,o,new We(t.getLabel()));e.add(a)},createEdgeEndForPrev:function(t,e,n,r){var i=n.segmentIndex;if(0===n.dist){if(0===i)return null;i--}var o=t.getCoordinate(i);null!==r&&r.segmentIndex>=i&&(o=r.coord);var a=new We(t.getLabel());a.flip();var s=new mn(t,n.coord,o,a);e.add(s)},computeEdgeEnds:function(){if(1===arguments.length){for(var t=arguments[0],e=new b,n=t;n.hasNext();){var r=n.next();this.computeEdgeEnds(r,e)}return e}if(2===arguments.length){var i=arguments[0],o=arguments[1],a=i.getEdgeIntersectionList();a.addEndpoints();var s=a.iterator(),l=null,u=null;if(!s.hasNext())return null;var c=s.next();do{l=u,u=c,c=null,s.hasNext()&&(c=s.next()),null!==u&&(this.createEdgeEndForPrev(i,o,u,l),this.createEdgeEndForNext(i,o,u,c))}while(null!==u)}},interfaces_:function(){return[]},getClass:function(){return Mi}}),Xo(Si,mn),Yo(Si.prototype,{insert:function(t){this._edgeEnds.add(t)},print:function(t){t.println("EdgeEndBundle--\x3e Label: "+this._label);for(var e=this.iterator();e.hasNext();)e.next().print(t),t.println()},iterator:function(){return this._edgeEnds.iterator()},getEdgeEnds:function(){return this._edgeEnds},computeLabelOn:function(t,e){for(var n=0,r=!1,i=this.iterator();i.hasNext();)(o=i.next().getLabel().getLocation(t))===Yt.BOUNDARY&&n++,o===Yt.INTERIOR&&(r=!0);var o=Yt.NONE;r&&(o=Yt.INTERIOR),n>0&&(o=_n.determineBoundary(e,n)),this._label.setLocation(t,o)},computeLabelSide:function(t,e){for(var n=this.iterator();n.hasNext();){var r=n.next();if(r.getLabel().isArea()){var i=r.getLabel().getLocation(t,e);if(i===Yt.INTERIOR)return this._label.setLocation(t,e,Yt.INTERIOR),null;i===Yt.EXTERIOR&&this._label.setLocation(t,e,Yt.EXTERIOR)}}},getLabel:function(){return this._label},computeLabelSides:function(t){this.computeLabelSide(t,Ue.LEFT),this.computeLabelSide(t,Ue.RIGHT)},updateIM:function(t){hn.updateIM(this._label,t)},computeLabel:function(t){for(var e=!1,n=this.iterator();n.hasNext();)n.next().getLabel().isArea()&&(e=!0);this._label=e?new We(Yt.NONE,Yt.NONE,Yt.NONE):new We(Yt.NONE);for(var r=0;r<2;r++)this.computeLabelOn(r,t),e&&this.computeLabelSides(r)},interfaces_:function(){return[]},getClass:function(){return Si}}),Xo(Ti,wr),Yo(Ti.prototype,{updateIM:function(t){for(var e=this.iterator();e.hasNext();)e.next().updateIM(t)},insert:function(t){var e=this._edgeMap.get(t);null===e?(e=new Si(t),this.insertEdgeEnd(t,e)):e.insert(t)},interfaces_:function(){return[]},getClass:function(){return Ti}}),Xo(Ci,dn),Yo(Ci.prototype,{updateIMFromEdges:function(t){this._edges.updateIM(t)},computeIM:function(t){t.setAtLeastIfValid(this._label.getLocation(0),this._label.getLocation(1),0)},interfaces_:function(){return[]},getClass:function(){return Ci}}),Xo(Oi,yn),Yo(Oi.prototype,{createNode:function(t){return new Ci(t,new Ti)},interfaces_:function(){return[]},getClass:function(){return Oi}}),Yo(Ai.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._nodes.add(n)}},computeProperIntersectionIM:function(t,e){var n=this._arg[0].getGeometry().getDimension(),r=this._arg[1].getGeometry().getDimension(),i=t.hasProperIntersection(),o=t.hasProperInteriorIntersection();2===n&&2===r?i&&e.setAtLeast("212101212"):2===n&&1===r?(i&&e.setAtLeast("FFF0FFFF2"),o&&e.setAtLeast("1FFFFF1FF")):1===n&&2===r?(i&&e.setAtLeast("F0FFFFFF2"),o&&e.setAtLeast("1F1FFFFFF")):1===n&&1===r&&o&&e.setAtLeast("0FFFFFFFF")},labelIsolatedEdges:function(t,e){for(var n=this._arg[t].getEdgeIterator();n.hasNext();){var r=n.next();r.isIsolated()&&(this.labelIsolatedEdge(r,e,this._arg[e].getGeometry()),this._isolatedEdges.add(r))}},labelIsolatedEdge:function(t,e,n){if(n.getDimension()>0){var r=this._ptLocator.locate(t.getCoordinate(),n);t.getLabel().setAllLocations(e,r)}else t.getLabel().setAllLocations(e,Yt.EXTERIOR)},computeIM:function(){var t=new Xt;if(t.set(Yt.EXTERIOR,Yt.EXTERIOR,2),!this._arg[0].getGeometry().getEnvelopeInternal().intersects(this._arg[1].getGeometry().getEnvelopeInternal()))return this.computeDisjointIM(t),t;this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1);var e=this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!1);this.computeIntersectionNodes(0),this.computeIntersectionNodes(1),this.copyNodesAndLabels(0),this.copyNodesAndLabels(1),this.labelIsolatedNodes(),this.computeProperIntersectionIM(e,t);var n=new Mi,r=n.computeEdgeEnds(this._arg[0].getEdgeIterator());this.insertEdgeEnds(r);var i=n.computeEdgeEnds(this._arg[1].getEdgeIterator());return this.insertEdgeEnds(i),this.labelNodeEdges(),this.labelIsolatedEdges(0,1),this.labelIsolatedEdges(1,0),this.updateIM(t),t},labelNodeEdges:function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg)},copyNodesAndLabels:function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._nodes.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},labelIntersectionNodes:function(t){for(var e=this._arg[t].getEdgeIterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.getEdgeIntersectionList().iterator();i.hasNext();){var o=i.next(),a=this._nodes.find(o.coord);a.getLabel().isNull(t)&&(r===Yt.BOUNDARY?a.setLabelBoundary(t):a.setLabel(t,Yt.INTERIOR))}},labelIsolatedNode:function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setAllLocations(e,n)},computeIntersectionNodes:function(t){for(var e=this._arg[t].getEdgeIterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.getEdgeIntersectionList().iterator();i.hasNext();){var o=i.next(),a=this._nodes.addNode(o.coord);r===Yt.BOUNDARY?a.setLabelBoundary(t):a.getLabel().isNull(t)&&a.setLabel(t,Yt.INTERIOR)}},labelIsolatedNodes:function(){for(var t=this._nodes.iterator();t.hasNext();){var e=t.next(),n=e.getLabel();c.isTrue(n.getGeometryCount()>0,"node with empty label found"),e.isIsolated()&&(n.isNull(0)?this.labelIsolatedNode(e,0):this.labelIsolatedNode(e,1))}},updateIM:function(t){for(var e=this._isolatedEdges.iterator();e.hasNext();)e.next().updateIM(t);for(var n=this._nodes.iterator();n.hasNext();){var r=n.next();r.updateIM(t),r.updateIMFromEdges(t)}},computeDisjointIM:function(t){var e=this._arg[0].getGeometry();e.isEmpty()||(t.set(Yt.INTERIOR,Yt.EXTERIOR,e.getDimension()),t.set(Yt.BOUNDARY,Yt.EXTERIOR,e.getBoundaryDimension()));var n=this._arg[1].getGeometry();n.isEmpty()||(t.set(Yt.EXTERIOR,Yt.INTERIOR,n.getDimension()),t.set(Yt.EXTERIOR,Yt.BOUNDARY,n.getBoundaryDimension()))},interfaces_:function(){return[]},getClass:function(){return Ai}}),Yo(Ii.prototype,{isContainedInBoundary:function(t){if(t instanceof Mt)return!1;if(t instanceof wt)return this.isPointContainedInBoundary(t);if(t instanceof bt)return this.isLineStringContainedInBoundary(t);for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);if(!this.isContainedInBoundary(n))return!1}return!0},isLineSegmentContainedInBoundary:function(t,e){if(t.equals(e))return this.isPointContainedInBoundary(t);if(t.x===e.x){if(t.x===this._rectEnv.getMinX()||t.x===this._rectEnv.getMaxX())return!0}else if(t.y===e.y&&(t.y===this._rectEnv.getMinY()||t.y===this._rectEnv.getMaxY()))return!0;return!1},isLineStringContainedInBoundary:function(t){for(var e=t.getCoordinateSequence(),n=new f,r=new f,i=0;i<e.size()-1;i++)if(e.getCoordinate(i,n),e.getCoordinate(i+1,r),!this.isLineSegmentContainedInBoundary(n,r))return!1;return!0},isPointContainedInBoundary:function(){if(arguments[0]instanceof wt){var t=arguments[0];return this.isPointContainedInBoundary(t.getCoordinate())}if(arguments[0]instanceof f){var e=arguments[0];return e.x===this._rectEnv.getMinX()||e.x===this._rectEnv.getMaxX()||e.y===this._rectEnv.getMinY()||e.y===this._rectEnv.getMaxY()}},contains:function(t){return!!this._rectEnv.contains(t.getEnvelopeInternal())&&!this.isContainedInBoundary(t)},interfaces_:function(){return[]},getClass:function(){return Ii}}),Ii.contains=function(t,e){return new Ii(t).contains(e)},Yo(Ri.prototype,{intersects:function(t,e){var n=new w(t,e);if(!this._rectEnv.intersects(n))return!1;if(this._rectEnv.intersects(t))return!0;if(this._rectEnv.intersects(e))return!0;if(t.compareTo(e)>0){var r=t;t=e,e=r}var i=!1;return e.y>t.y&&(i=!0),i?this._li.computeIntersection(t,e,this._diagDown0,this._diagDown1):this._li.computeIntersection(t,e,this._diagUp0,this._diagUp1),!!this._li.hasIntersection()},interfaces_:function(){return[]},getClass:function(){return Ri}}),Yo(Pi.prototype,{applyTo:function(t){for(var e=0;e<t.getNumGeometries()&&!this._isDone;e++){var n=t.getGeometryN(e);if(n instanceof ct)this.applyTo(n);else if(this.visit(n),this.isDone())return this._isDone=!0,null}},interfaces_:function(){return[]},getClass:function(){return Pi}}),Yo(Li.prototype,{intersects:function(t){if(!this._rectEnv.intersects(t.getEnvelopeInternal()))return!1;var e=new Ni(this._rectEnv);if(e.applyTo(t),e.intersects())return!0;var n=new ki(this._rectangle);if(n.applyTo(t),n.containsPoint())return!0;var r=new Di(this._rectangle);return r.applyTo(t),!!r.intersects()},interfaces_:function(){return[]},getClass:function(){return Li}}),Li.intersects=function(t,e){return new Li(t).intersects(e)},Xo(Ni,Pi),Yo(Ni.prototype,{isDone:function(){return!0===this._intersects},visit:function(t){var e=t.getEnvelopeInternal();return this._rectEnv.intersects(e)?this._rectEnv.contains(e)?(this._intersects=!0,null):e.getMinX()>=this._rectEnv.getMinX()&&e.getMaxX()<=this._rectEnv.getMaxX()?(this._intersects=!0,null):e.getMinY()>=this._rectEnv.getMinY()&&e.getMaxY()<=this._rectEnv.getMaxY()?(this._intersects=!0,null):void 0:null},intersects:function(){return this._intersects},interfaces_:function(){return[]},getClass:function(){return Ni}}),Xo(ki,Pi),Yo(ki.prototype,{isDone:function(){return!0===this._containsPoint},visit:function(t){if(!(t instanceof Mt))return null;var e=t.getEnvelopeInternal();if(!this._rectEnv.intersects(e))return null;for(var n=new f,r=0;r<4;r++)if(this._rectSeq.getCoordinate(r,n),e.contains(n)&&_r.containsPointInPolygon(n,t))return this._containsPoint=!0,null},containsPoint:function(){return this._containsPoint},interfaces_:function(){return[]},getClass:function(){return ki}}),Xo(Di,Pi),Yo(Di.prototype,{intersects:function(){return this._hasIntersection},isDone:function(){return!0===this._hasIntersection},visit:function(t){var e=t.getEnvelopeInternal();if(!this._rectEnv.intersects(e))return null;var n=tn.getLines(t);this.checkIntersectionWithLineStrings(n)},checkIntersectionWithLineStrings:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();if(this.checkIntersectionWithSegments(n),this._hasIntersection)return null}},checkIntersectionWithSegments:function(t){for(var e=t.getCoordinateSequence(),n=1;n<e.size();n++)if(e.getCoordinate(n-1,this._p0),e.getCoordinate(n,this._p1),this._rectIntersector.intersects(this._p0,this._p1))return this._hasIntersection=!0,null},interfaces_:function(){return[]},getClass:function(){return Di}}),Xo(Fi,mi),Yo(Fi.prototype,{getIntersectionMatrix:function(){return this._relate.computeIM()},interfaces_:function(){return[]},getClass:function(){return Fi}}),Fi.covers=function(t,e){return!(2===e.getDimension()&&t.getDimension()<2)&&!(1===e.getDimension()&&t.getDimension()<1&&e.getLength()>0)&&!!t.getEnvelopeInternal().covers(e.getEnvelopeInternal())&&(!!t.isRectangle()||new Fi(t,e).getIntersectionMatrix().isCovers())},Fi.intersects=function(t,e){if(!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal()))return!1;if(t.isRectangle())return Li.intersects(t,e);if(e.isRectangle())return Li.intersects(e,t);if(t.isGeometryCollection()||e.isGeometryCollection()){for(var n=0;n<t.getNumGeometries();n++)for(var r=0;r<e.getNumGeometries();r++)if(t.getGeometryN(n).intersects(e.getGeometryN(r)))return!0;return!1}return new Fi(t,e).getIntersectionMatrix().isIntersects()},Fi.touches=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&new Fi(t,e).getIntersectionMatrix().isTouches(t.getDimension(),e.getDimension())},Fi.relate=function(){if(2===arguments.length)return e=(t=new Fi(arguments[0],arguments[1])).getIntersectionMatrix();if(3===arguments.length){var t=new Fi(arguments[0],arguments[1],arguments[2]),e=t.getIntersectionMatrix();return e}},Fi.overlaps=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&new Fi(t,e).getIntersectionMatrix().isOverlaps(t.getDimension(),e.getDimension())},Fi.crosses=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&new Fi(t,e).getIntersectionMatrix().isCrosses(t.getDimension(),e.getDimension())},Fi.contains=function(t,e){return!(2===e.getDimension()&&t.getDimension()<2)&&!(1===e.getDimension()&&t.getDimension()<1&&e.getLength()>0)&&!!t.getEnvelopeInternal().contains(e.getEnvelopeInternal())&&(t.isRectangle()?Ii.contains(t,e):new Fi(t,e).getIntersectionMatrix().isContains())};var Ta=Object.freeze({RelateOp:Fi});Yo(ji.prototype,{extractElements:function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);this._skipEmpty&&r.isEmpty()||e.add(r)}},combine:function(){for(var t=new b,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection():null:this._geomFactory.buildGeometry(t)},interfaces_:function(){return[]},getClass:function(){return ji}}),ji.combine=function(){if(1===arguments.length)return(o=new ji(arguments[0])).combine();if(2===arguments.length){var t=arguments[0],e=arguments[1];return(o=new ji(ji.createList(t,e))).combine()}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new ji(ji.createList(n,r,i));return o.combine()}},ji.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},ji.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return(o=new b).add(t),o.add(e),o}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new b;return o.add(n),o.add(r),o.add(i),o}},Yo(Ui.prototype,{union:function(){for(var t=new je,e=new ot,n=0;n<this._pointGeom.getNumGeometries();n++){var r=this._pointGeom.getGeometryN(n).getCoordinate();t.locate(r,this._otherGeom)===Yt.EXTERIOR&&e.add(r)}if(0===e.size())return this._otherGeom;var i=null,o=H.toCoordinateArray(e);return i=1===o.length?this._geomFact.createPoint(o[0]):this._geomFact.createMultiPointFromCoords(o),ji.combine(i,this._otherGeom)},interfaces_:function(){return[]},getClass:function(){return Ui}}),Ui.union=function(t,e){return new Ui(t,e).union()},Yo(zi.prototype,{filter:function(t){(null===this._geometryType||zi.isOfType(t,this._geometryType))&&this._comps.add(t)},interfaces_:function(){return[lt]},getClass:function(){return zi}}),zi.isOfType=function(t,e){return t.getGeometryType()===e||e===F.TYPENAME_LINESTRING&&t.getGeometryType()===F.TYPENAME_LINEARRING},zi.extract=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return zi.extract(t,e,new b)}if(3===arguments.length){if(Zo(arguments[2],g)&&arguments[0]instanceof F&&"string"==typeof arguments[1]){var n=arguments[0],r=arguments[1],i=arguments[2];return n.getGeometryType()===r?i.add(n):n instanceof ct&&n.apply(new zi(r,i)),i}if(Zo(arguments[2],g)&&arguments[0]instanceof F&&arguments[1]instanceof Class){var o=arguments[0],a=arguments[1],s=arguments[2];return zi.extract(o,zi.toGeometryType(a),s)}}},Yo(Bi.prototype,{reduceToGeometries:function(t){for(var e=new b,n=t.iterator();n.hasNext();){var r=n.next(),i=null;Zo(r,g)?i=this.unionTree(r):r instanceof F&&(i=r),e.add(i)}return e},extractByEnvelope:function(t,e,n){for(var r=new b,i=0;i<e.getNumGeometries();i++){var o=e.getGeometryN(i);o.getEnvelopeInternal().intersects(t)?r.add(o):n.add(o)}return this._geomFactory.buildGeometry(r)},unionOptimized:function(t,e){var n=t.getEnvelopeInternal(),r=e.getEnvelopeInternal();if(!n.intersects(r))return ji.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(t,e,i)},union:function(){if(null===this._inputPolys)throw new IllegalStateException("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new kn(Bi.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=t.itemsTree();return this.unionTree(r)},binaryUnion:function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1)return o=Bi.getGeometry(e,n),this.unionSafe(o,null);if(r-n==2)return this.unionSafe(Bi.getGeometry(e,n),Bi.getGeometry(e,n+1));var i=Math.trunc((r+n)/2),o=this.binaryUnion(e,n,i),a=this.binaryUnion(e,i,r);return this.unionSafe(o,a)}},repeatedUnion:function(t){for(var e=null,n=t.iterator();n.hasNext();){var r=n.next();e=null===e?r.copy():e.union(r)}return e},unionSafe:function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},unionActual:function(t,e){return Bi.restrictToPolygons(t.union(e))},unionTree:function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},unionUsingEnvelopeIntersection:function(t,e,n){var r=new b,i=this.extractByEnvelope(n,t,r),o=this.extractByEnvelope(n,e,r),a=this.unionActual(i,o);return r.add(a),ji.combine(r)},bufferUnion:function(){if(1===arguments.length){var t=arguments[0];return o=(i=(r=t.get(0).getFactory()).buildGeometry(t)).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1],r=e.getFactory(),i=r.createGeometryCollection([e,n]),o=i.buffer(0);return o}},interfaces_:function(){return[]},getClass:function(){return Bi}}),Bi.restrictToPolygons=function(t){if(Zo(t,Et))return t;var e=Dr.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(Bt.toPolygonArray(e))},Bi.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Bi.union=function(t){return new Bi(t).union()},Bi.STRTREE_NODE_CAPACITY=4,Yo(Vi.prototype,{unionNoOpt:function(t){var e=this._geomFact.createPoint();return pi.overlayOp(t,e,gi.UNION)},unionWithNull:function(t,e){return null===t&&null===e?null:null===e?t:null===t?e:t.union(e)},extract:function(){if(Zo(arguments[0],p))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.extract(e)}else if(arguments[0]instanceof F){var n=arguments[0];null===this._geomFact&&(this._geomFact=n.getFactory()),zi.extract(n,F.TYPENAME_POLYGON,this._polygons),zi.extract(n,F.TYPENAME_LINESTRING,this._lines),zi.extract(n,F.TYPENAME_POINT,this._points)}},union:function(){if(null===this._geomFact)return null;var t=null;if(this._points.size()>0){var e=this._geomFact.buildGeometry(this._points);t=this.unionNoOpt(e)}var n=null;if(this._lines.size()>0){var r=this._geomFact.buildGeometry(this._lines);n=this.unionNoOpt(r)}var i=null;this._polygons.size()>0&&(i=Bi.union(this._polygons));var o=this.unionWithNull(n,i),a=null;return a=null===t?o:null===o?t:Ui.union(t,o),null===a?this._geomFact.createGeometryCollection():a},interfaces_:function(){return[]},getClass:function(){return Vi}}),Vi.union=function(){if(1===arguments.length){if(Zo(arguments[0],p))return(t=new Vi(arguments[0])).union();if(arguments[0]instanceof F)return(t=new Vi(arguments[0])).union()}else if(2===arguments.length){var t=new Vi(arguments[0],arguments[1]);return t.union()}};var Ca=Object.freeze({UnaryUnionOp:Vi});Yo(Gi.prototype,{visitInteriorRing:function(t,e){var n=t.getCoordinates(),r=n[0],i=Gi.findDifferentPoint(n,r),o=e.findEdgeInSameDirection(r,i),a=e.findEdgeEnd(o),s=null;a.getLabel().getLocation(0,Ue.RIGHT)===Yt.INTERIOR?s=a:a.getSym().getLabel().getLocation(0,Ue.RIGHT)===Yt.INTERIOR&&(s=a.getSym()),c.isTrue(null!==s,"unable to find dirEdge with Interior on RHS"),this.visitLinkedDirectedEdges(s)},visitShellInteriors:function(t,e){if(t instanceof Mt&&(i=t,this.visitInteriorRing(i.getExteriorRing(),e)),t instanceof Ct)for(var n=t,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.visitInteriorRing(i.getExteriorRing(),e)}},getCoordinate:function(){return this._disconnectedRingcoord},setInteriorEdgesInResult:function(t){for(var e=t.getEdgeEnds().iterator();e.hasNext();){var n=e.next();n.getLabel().getLocation(0,Ue.RIGHT)===Yt.INTERIOR&&n.setInResult(!0)}},visitLinkedDirectedEdges:function(t){var e=t,n=t;do{c.isTrue(null!==n,"found null Directed Edge"),n.setVisited(!0),n=n.getNext()}while(n!==e)},buildEdgeRings:function(t){for(var e=new b,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&null===r.getEdgeRing()){var i=new fr(r,this._geometryFactory);i.linkDirectedEdgesForMinimalEdgeRings();var o=i.buildMinimalRings();e.addAll(o)}}return e},hasUnvisitedShellEdge:function(t){for(var e=0;e<t.size();e++){var n=t.get(e);if(!n.isHole()){var r=n.getEdges(),i=r.get(0);if(i.getLabel().getLocation(0,Ue.RIGHT)===Yt.INTERIOR)for(var o=0;o<r.size();o++)if(!(i=r.get(o)).isVisited())return this._disconnectedRingcoord=i.getCoordinate(),!0}}return!1},isInteriorsConnected:function(){var t=new b;this._geomGraph.computeSplitEdges(t);var e=new bn(new Er);e.addEdges(t),this.setInteriorEdgesInResult(e),e.linkResultDirectedEdges();var n=this.buildEdgeRings(e.getEdgeEnds());return this.visitShellInteriors(this._geomGraph.getGeometry(),e),!this.hasUnvisitedShellEdge(n)},interfaces_:function(){return[]},getClass:function(){return Gi}}),Gi.findDifferentPoint=function(t,e){for(var n=0;n<t.length;n++)if(!t[n].equals(e))return t[n];return null},Yo(Hi.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._nodes.add(n)}},getNodeIterator:function(){return this._nodes.iterator()},copyNodesAndLabels:function(t,e){for(var n=t.getNodeIterator();n.hasNext();){var r=n.next();this._nodes.addNode(r.getCoordinate()).setLabel(e,r.getLabel().getLocation(e))}},build:function(t){this.computeIntersectionNodes(t,0),this.copyNodesAndLabels(t,0);var e=(new Mi).computeEdgeEnds(t.getEdgeIterator());this.insertEdgeEnds(e)},computeIntersectionNodes:function(t,e){for(var n=t.getEdgeIterator();n.hasNext();)for(var r=n.next(),i=r.getLabel().getLocation(e),o=r.getEdgeIntersectionList().iterator();o.hasNext();){var a=o.next(),s=this._nodes.addNode(a.coord);i===Yt.BOUNDARY?s.setLabelBoundary(e):s.getLabel().isNull(e)&&s.setLabel(e,Yt.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return Hi}}),Yo(qi.prototype,{isNodeEdgeAreaLabelsConsistent:function(){for(var t=this._nodeGraph.getNodeIterator();t.hasNext();){var e=t.next();if(!e.getEdges().isAreaLabelsConsistent(this._geomGraph))return this._invalidPoint=e.getCoordinate().copy(),!1}return!0},getInvalidPoint:function(){return this._invalidPoint},hasDuplicateRings:function(){for(var t=this._nodeGraph.getNodeIterator();t.hasNext();)for(var e=t.next().getEdges().iterator();e.hasNext();){var n=e.next();if(n.getEdgeEnds().size()>1)return this._invalidPoint=n.getEdge().getCoordinate(0),!0}return!1},isNodeConsistentArea:function(){var t=this._geomGraph.computeSelfNodes(this._li,!0,!0);return t.hasProperIntersection()?(this._invalidPoint=t.getProperIntersectionPoint(),!1):(this._nodeGraph.build(this._geomGraph),this.isNodeEdgeAreaLabelsConsistent())},interfaces_:function(){return[]},getClass:function(){return qi}}),Yo(Wi.prototype,{buildIndex:function(){this._index=new kn;for(var t=0;t<this._rings.size();t++){var e=this._rings.get(t),n=e.getEnvelopeInternal();this._index.insert(n,e)}},getNestedPoint:function(){return this._nestedPt},isNonNested:function(){this.buildIndex();for(var t=0;t<this._rings.size();t++)for(var e=this._rings.get(t),n=e.getCoordinates(),r=this._index.query(e.getEnvelopeInternal()),i=0;i<r.size();i++){var o=r.get(i),a=o.getCoordinates();if(e!==o&&e.getEnvelopeInternal().intersects(o.getEnvelopeInternal())){var s=Xi.findPtNotNode(n,o,this._graph);if(null!==s&&Jt.isInRing(s,a))return this._nestedPt=s,!1}}return!0},add:function(t){this._rings.add(t),this._totalEnv.expandToInclude(t.getEnvelopeInternal())},interfaces_:function(){return[]},getClass:function(){return Wi}}),Yo(Yi.prototype,{getErrorType:function(){return this._errorType},getMessage:function(){return Yi.errMsg[this._errorType]},getCoordinate:function(){return this._pt},toString:function(){var t="";return null!==this._pt&&(t=" at or near point "+this._pt),this.getMessage()+t},interfaces_:function(){return[]},getClass:function(){return Yi}}),Yi.ERROR=0,Yi.REPEATED_POINT=1,Yi.HOLE_OUTSIDE_SHELL=2,Yi.NESTED_HOLES=3,Yi.DISCONNECTED_INTERIOR=4,Yi.SELF_INTERSECTION=5,Yi.RING_SELF_INTERSECTION=6,Yi.NESTED_SHELLS=7,Yi.DUPLICATE_RINGS=8,Yi.TOO_FEW_POINTS=9,Yi.INVALID_COORDINATE=10,Yi.RING_NOT_CLOSED=11,Yi.errMsg=["Topology Validation Error","Repeated Point","Hole lies outside shell","Holes are nested","Interior is disconnected","Self-intersection","Ring Self-intersection","Nested shells","Duplicate Rings","Too few distinct points in geometry component","Invalid Coordinate","Ring is not closed"],Yo(Xi.prototype,{checkInvalidCoordinates:function(){if(arguments[0]instanceof Array){for(var t=arguments[0],e=0;e<t.length;e++)if(!Xi.isValid(t[e]))return this._validErr=new Yi(Yi.INVALID_COORDINATE,t[e]),null}else if(arguments[0]instanceof Mt){var n=arguments[0];if(this.checkInvalidCoordinates(n.getExteriorRing().getCoordinates()),null!==this._validErr)return null;for(e=0;e<n.getNumInteriorRing();e++)if(this.checkInvalidCoordinates(n.getInteriorRingN(e).getCoordinates()),null!==this._validErr)return null}},checkHolesNotNested:function(t,e){for(var n=new Wi(e),r=0;r<t.getNumInteriorRing();r++){var i=t.getInteriorRingN(r);n.add(i)}n.isNonNested()||(this._validErr=new Yi(Yi.NESTED_HOLES,n.getNestedPoint()))},checkConsistentArea:function(t){var e=new qi(t);if(!e.isNodeConsistentArea())return this._validErr=new Yi(Yi.SELF_INTERSECTION,e.getInvalidPoint()),null;e.hasDuplicateRings()&&(this._validErr=new Yi(Yi.DUPLICATE_RINGS,e.getInvalidPoint()))},isValid:function(){return this.checkValid(this._parentGeometry),null===this._validErr},checkShellInsideHole:function(t,e,n){var r=t.getCoordinates(),i=e.getCoordinates(),o=Xi.findPtNotNode(r,e,n);if(null!==o&&!Jt.isInRing(o,i))return o;var a=Xi.findPtNotNode(i,t,n);return null!==a?Jt.isInRing(a,r)?a:null:(c.shouldNeverReachHere("points in shell and hole appear to be equal"),null)},checkNoSelfIntersectingRings:function(t){for(var e=t.getEdgeIterator();e.hasNext();){var n=e.next();if(this.checkNoSelfIntersectingRing(n.getEdgeIntersectionList()),null!==this._validErr)return null}},checkConnectedInteriors:function(t){var e=new Gi(t);e.isInteriorsConnected()||(this._validErr=new Yi(Yi.DISCONNECTED_INTERIOR,e.getCoordinate()))},checkNoSelfIntersectingRing:function(t){for(var e=new ot,n=!0,r=t.iterator();r.hasNext();){var i=r.next();if(n)n=!1;else{if(e.contains(i.coord))return this._validErr=new Yi(Yi.RING_SELF_INTERSECTION,i.coord),null;e.add(i.coord)}}},checkHolesInShell:function(t,e){for(var n=t.getExteriorRing(),r=new nn(n),i=0;i<t.getNumInteriorRing();i++){var o=t.getInteriorRingN(i),a=Xi.findPtNotNode(o.getCoordinates(),n,e);if(null===a)return null;if(Yt.EXTERIOR===r.locate(a))return this._validErr=new Yi(Yi.HOLE_OUTSIDE_SHELL,a),null}},checkTooFewPoints:function(t){if(t.hasTooFewPoints())return this._validErr=new Yi(Yi.TOO_FEW_POINTS,t.getInvalidPoint()),null},getValidationError:function(){return this.checkValid(this._parentGeometry),this._validErr},checkValid:function(){if(arguments[0]instanceof wt){var t=arguments[0];this.checkInvalidCoordinates(t.getCoordinates())}else if(arguments[0]instanceof St){var e=arguments[0];this.checkInvalidCoordinates(e.getCoordinates())}else if(arguments[0]instanceof Tt){var n=arguments[0];if(this.checkInvalidCoordinates(n.getCoordinates()),null!==this._validErr)return null;if(this.checkClosedRing(n),null!==this._validErr)return null;if(l=new _n(0,n),this.checkTooFewPoints(l),null!==this._validErr)return null;var r=new qt;l.computeSelfNodes(r,!0,!0),this.checkNoSelfIntersectingRings(l)}else if(arguments[0]instanceof bt){var i=arguments[0];if(this.checkInvalidCoordinates(i.getCoordinates()),null!==this._validErr)return null;l=new _n(0,i),this.checkTooFewPoints(l)}else if(arguments[0]instanceof Mt){var o=arguments[0];if(this.checkInvalidCoordinates(o),null!==this._validErr)return null;if(this.checkClosedRings(o),null!==this._validErr)return null;if(l=new _n(0,o),this.checkTooFewPoints(l),null!==this._validErr)return null;if(this.checkConsistentArea(l),null!==this._validErr)return null;if(!this._isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(l),null!==this._validErr))return null;if(this.checkHolesInShell(o,l),null!==this._validErr)return null;if(this.checkHolesNotNested(o,l),null!==this._validErr)return null;this.checkConnectedInteriors(l)}else if(arguments[0]instanceof Ct){for(var a=arguments[0],s=0;s<a.getNumGeometries();s++){if(u=a.getGeometryN(s),this.checkInvalidCoordinates(u),null!==this._validErr)return null;if(this.checkClosedRings(u),null!==this._validErr)return null}var l=new _n(0,a);if(this.checkTooFewPoints(l),null!==this._validErr)return null;if(this.checkConsistentArea(l),null!==this._validErr)return null;if(!this._isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(l),null!==this._validErr))return null;for(s=0;s<a.getNumGeometries();s++)if(u=a.getGeometryN(s),this.checkHolesInShell(u,l),null!==this._validErr)return null;for(s=0;s<a.getNumGeometries();s++){var u=a.getGeometryN(s);if(this.checkHolesNotNested(u,l),null!==this._validErr)return null}if(this.checkShellsNotNested(a,l),null!==this._validErr)return null;this.checkConnectedInteriors(l)}else if(arguments[0]instanceof ct)for(var c=arguments[0],s=0;s<c.getNumGeometries();s++){var f=c.getGeometryN(s);if(this.checkValid(f),null!==this._validErr)return null}else if(arguments[0]instanceof F){var h=arguments[0];if(this._validErr=null,h.isEmpty())return null;if(h instanceof wt)this.checkValid(h);else if(h instanceof St)this.checkValid(h);else if(h instanceof Tt)this.checkValid(h);else if(h instanceof bt)this.checkValid(h);else if(h instanceof Mt)this.checkValid(h);else if(h instanceof Ct)this.checkValid(h);else{if(!(h instanceof ct))throw new UnsupportedOperationException(h.getClass().getName());this.checkValid(h)}}},setSelfTouchingRingFormingHoleValid:function(t){this._isSelfTouchingRingFormingHoleValid=t},checkShellNotNested:function(t,e,n){var r=t.getCoordinates(),i=e.getExteriorRing(),o=i.getCoordinates(),a=Xi.findPtNotNode(r,i,n);if(null===a)return null;if(!Jt.isInRing(a,o))return null;if(e.getNumInteriorRing()<=0)return this._validErr=new Yi(Yi.NESTED_SHELLS,a),null;for(var s=null,l=0;l<e.getNumInteriorRing();l++){var u=e.getInteriorRingN(l);if(null===(s=this.checkShellInsideHole(t,u,n)))return null}this._validErr=new Yi(Yi.NESTED_SHELLS,s)},checkClosedRings:function(t){if(this.checkClosedRing(t.getExteriorRing()),null!==this._validErr)return null;for(var e=0;e<t.getNumInteriorRing();e++)if(this.checkClosedRing(t.getInteriorRingN(e)),null!==this._validErr)return null},checkClosedRing:function(t){if(!t.isClosed()){var e=null;t.getNumPoints()>=1&&(e=t.getCoordinateN(0)),this._validErr=new Yi(Yi.RING_NOT_CLOSED,e)}},checkShellsNotNested:function(t,e){for(var n=0;n<t.getNumGeometries();n++)for(var r=t.getGeometryN(n).getExteriorRing(),i=0;i<t.getNumGeometries();i++)if(n!==i){var o=t.getGeometryN(i);if(this.checkShellNotNested(r,o,e),null!==this._validErr)return null}},interfaces_:function(){return[]},getClass:function(){return Xi}}),Xi.findPtNotNode=function(t,e,n){for(var r=n.findEdge(e).getEdgeIntersectionList(),i=0;i<t.length;i++){var o=t[i];if(!r.isIntersection(o))return o}return null},Xi.isValid=function(){if(arguments[0]instanceof F)return new Xi(arguments[0]).isValid();if(arguments[0]instanceof f){var t=arguments[0];return!(r.isNaN(t.x)||r.isInfinite(t.x)||r.isNaN(t.y)||r.isInfinite(t.y))}};var Oa=Object.freeze({IsValidOp:Xi,ConsistentAreaTester:qi}),Aa=Object.freeze({BoundaryOp:ht,IsSimpleOp:rr,buffer:wa,distance:xa,linemerge:Ea,overlay:Ma,polygonize:Sa,relate:Ta,union:Ca,valid:Oa});Xo(Zi,Ot.CoordinateOperation),Yo(Zi.prototype,{edit:function(){if(2===arguments.length&&arguments[1]instanceof F&&arguments[0]instanceof Array){var t=arguments[0],e=arguments[1];if(0===t.length)return null;for(var n=new Array(t.length).fill(null),r=0;r<t.length;r++){var i=new f(t[r]);this._targetPM.makePrecise(i),n[r]=i}var o=new _(n,!1).toCoordinateArray(),a=0;e instanceof bt&&(a=2),e instanceof Tt&&(a=4);var s=n;return this._removeCollapsed&&(s=null),o.length<a?s:o}return Ot.CoordinateOperation.prototype.edit.apply(this,arguments)},interfaces_:function(){return[]},getClass:function(){return Zi}}),Yo(Ki.prototype,{fixPolygonalTopology:function(t){var e=t;this._changePrecisionModel||(e=this.changePM(t,this._targetPM));var n=kr.bufferOp(e,0),r=n;return this._changePrecisionModel||(r=n.copy(),this.changePM(r,t.getPrecisionModel())),r},reducePointwise:function(t){var e=null;e=this._changePrecisionModel?new Ot(this.createFactory(t.getFactory(),this._targetPM)):new Ot;var n=this._removeCollapsed;return t.getDimension()>=2&&(n=!0),e.edit(t,new Zi(this._targetPM,n))},changePM:function(t,e){return this.createEditor(t.getFactory(),e).edit(t,new Ot.NoOpGeometryOperation)},setRemoveCollapsedComponents:function(t){this._removeCollapsed=t},createFactory:function(t,e){return new Bt(e,t.getSRID(),t.getCoordinateSequenceFactory())},setChangePrecisionModel:function(t){this._changePrecisionModel=t},reduce:function(t){var e=this.reducePointwise(t);return this._isPointwise?e:Zo(e,Et)?Xi.isValid(e)?e:this.fixPolygonalTopology(e):e},setPointwise:function(t){this._isPointwise=t},createEditor:function(t,e){return t.getPrecisionModel()===e?new Ot:new Ot(this.createFactory(t,e))},interfaces_:function(){return[]},getClass:function(){return Ki}}),Ki.reduce=function(t,e){return new Ki(e).reduce(t)},Ki.reducePointwise=function(t,e){var n=new Ki(e);return n.setPointwise(!0),n.reduce(t)};var Ia=Object.freeze({GeometryPrecisionReducer:Ki});Yo(Qi.prototype,{simplifySection:function(t,e){if(t+1===e)return null;this._seg.p0=this._pts[t],this._seg.p1=this._pts[e];for(var n=-1,r=t,i=t+1;i<e;i++){var o=this._seg.distance(this._pts[i]);o>n&&(n=o,r=i)}if(n<=this._distanceTolerance)for(i=t+1;i<e;i++)this._usePt[i]=!1;else this.simplifySection(t,r),this.simplifySection(r,e)},setDistanceTolerance:function(t){this._distanceTolerance=t},simplify:function(){for(this._usePt=new Array(this._pts.length).fill(null),e=0;e<this._pts.length;e++)this._usePt[e]=!0;this.simplifySection(0,this._pts.length-1);for(var t=new _,e=0;e<this._pts.length;e++)this._usePt[e]&&t.add(new f(this._pts[e]));return t.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return Qi}}),Qi.simplify=function(t,e){var n=new Qi(t);return n.setDistanceTolerance(e),n.simplify()},Yo(Ji.prototype,{setEnsureValid:function(t){this._isEnsureValidTopology=t},getResultGeometry:function(){return this._inputGeom.isEmpty()?this._inputGeom.copy():new $i(this._isEnsureValidTopology,this._distanceTolerance).transform(this._inputGeom)},setDistanceTolerance:function(t){if(t<0)throw new n("Tolerance must be non-negative");this._distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return Ji}}),Ji.simplify=function(t,e){var n=new Ji(t);return n.setDistanceTolerance(e),n.getResultGeometry()},Xo($i,Oe),Yo($i.prototype,{transformPolygon:function(t,e){if(t.isEmpty())return null;var n=Oe.prototype.transformPolygon.call(this,t,e);return e instanceof Ct?n:this.createValidArea(n)},createValidArea:function(t){return this._isEnsureValidTopology?t.buffer(0):t},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),r=null;return r=0===n.length?new Array(0).fill(null):Qi.simplify(n,this._distanceTolerance),this._factory.getCoordinateSequenceFactory().create(r)},transformMultiPolygon:function(t,e){var n=Oe.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(n)},transformLinearRing:function(t,e){var n=e instanceof Mt,r=Oe.prototype.transformLinearRing.call(this,t,e);return!n||r instanceof Tt?r:null},interfaces_:function(){return[]},getClass:function(){return $i}}),Ji.DPTransformer=$i,Xo(to,Wt),Yo(to.prototype,{getIndex:function(){return this._index},getParent:function(){return this._parent},interfaces_:function(){return[]},getClass:function(){return to}}),Yo(eo.prototype,{addToResult:function(t){this._resultSegs.add(t)},asLineString:function(){return this._parentLine.getFactory().createLineString(eo.extractCoordinates(this._resultSegs))},getResultSize:function(){var t=this._resultSegs.size();return 0===t?0:t+1},getParent:function(){return this._parentLine},getSegment:function(t){return this._segs[t]},getParentCoordinates:function(){return this._parentLine.getCoordinates()},getMinimumSize:function(){return this._minimumSize},asLinearRing:function(){return this._parentLine.getFactory().createLinearRing(eo.extractCoordinates(this._resultSegs))},getSegments:function(){return this._segs},init:function(){var t=this._parentLine.getCoordinates();this._segs=new Array(t.length-1).fill(null);for(var e=0;e<t.length-1;e++){var n=new to(t[e],t[e+1],this._parentLine,e);this._segs[e]=n}},getResultCoordinates:function(){return eo.extractCoordinates(this._resultSegs)},interfaces_:function(){return[]},getClass:function(){return eo}}),eo.extractCoordinates=function(t){for(var e=new Array(t.size()+1).fill(null),n=null,r=0;r<t.size();r++)n=t.get(r),e[r]=n.p0;return e[e.length-1]=n.p1,e},Yo(no.prototype,{remove:function(t){this._index.remove(new w(t.p0,t.p1),t)},add:function(){if(arguments[0]instanceof eo)for(var t=arguments[0].getSegments(),e=0;e<t.length;e++){var n=t[e];this.add(n)}else if(arguments[0]instanceof Wt){var r=arguments[0];this._index.insert(new w(r.p0,r.p1),r)}},query:function(t){var e=new w(t.p0,t.p1),n=new ro(t);return this._index.query(e,n),n.getItems()},interfaces_:function(){return[]},getClass:function(){return no}}),Yo(ro.prototype,{visitItem:function(t){var e=t;w.intersects(e.p0,e.p1,this._querySeg.p0,this._querySeg.p1)&&this._items.add(t)},getItems:function(){return this._items},interfaces_:function(){return[Ye]},getClass:function(){return ro}}),Yo(io.prototype,{flatten:function(t,e){var n=new Wt(this._linePts[t],this._linePts[e]);return this.remove(this._line,t,e),this._outputIndex.add(n),n},hasBadIntersection:function(t,e,n){return!!this.hasBadOutputIntersection(n)||!!this.hasBadInputIntersection(t,e,n)},setDistanceTolerance:function(t){this._distanceTolerance=t},simplifySection:function(t,e,n){n+=1;var r=new Array(2).fill(null);if(t+1===e)return l=this._line.getSegment(t),this._line.addToResult(l),null;var i=!0;this._line.getResultSize()<this._line.getMinimumSize()&&n+1<this._line.getMinimumSize()&&(i=!1);var o=new Array(1).fill(null),a=this.findFurthestPoint(this._linePts,t,e,o);o[0]>this._distanceTolerance&&(i=!1);var s=new Wt;if(s.p0=this._linePts[t],s.p1=this._linePts[e],r[0]=t,r[1]=e,this.hasBadIntersection(this._line,r,s)&&(i=!1),i){var l=this.flatten(t,e);return this._line.addToResult(l),null}this.simplifySection(t,a,n),this.simplifySection(a,e,n)},hasBadOutputIntersection:function(t){for(var e=this._outputIndex.query(t).iterator();e.hasNext();){var n=e.next();if(this.hasInteriorIntersection(n,t))return!0}return!1},findFurthestPoint:function(t,e,n,r){var i=new Wt;i.p0=t[e],i.p1=t[n];for(var o=-1,a=e,s=e+1;s<n;s++){var l=t[s],u=i.distance(l);u>o&&(o=u,a=s)}return r[0]=o,a},simplify:function(t){this._line=t,this._linePts=t.getParentCoordinates(),this.simplifySection(0,this._linePts.length-1,0)},remove:function(t,e,n){for(var r=e;r<n;r++){var i=t.getSegment(r);this._inputIndex.remove(i)}},hasInteriorIntersection:function(t,e){return this._li.computeIntersection(t.p0,t.p1,e.p0,e.p1),this._li.isInteriorIntersection()},hasBadInputIntersection:function(t,e,n){for(var r=this._inputIndex.query(n).iterator();r.hasNext();){var i=r.next();if(this.hasInteriorIntersection(i,n)){if(io.isInLineSection(t,e,i))continue;return!0}}return!1},interfaces_:function(){return[]},getClass:function(){return io}}),io.isInLineSection=function(t,e,n){if(n.getParent()!==t.getParent())return!1;var r=n.getIndex();return r>=e[0]&&r<e[1]},Yo(oo.prototype,{setDistanceTolerance:function(t){this._distanceTolerance=t},simplify:function(t){for(e=t.iterator();e.hasNext();)this._inputIndex.add(e.next());for(var e=t.iterator();e.hasNext();){var n=new io(this._inputIndex,this._outputIndex);n.setDistanceTolerance(this._distanceTolerance),n.simplify(e.next())}},interfaces_:function(){return[]},getClass:function(){return oo}}),Yo(ao.prototype,{getResultGeometry:function(){return this._inputGeom.isEmpty()?this._inputGeom.copy():(this._linestringMap=new jt,this._inputGeom.apply(new lo(this)),this._lineSimplifier.simplify(this._linestringMap.values()),new so(this._linestringMap).transform(this._inputGeom))},setDistanceTolerance:function(t){if(t<0)throw new n("Tolerance must be non-negative");this._lineSimplifier.setDistanceTolerance(t)},interfaces_:function(){return[]},getClass:function(){return ao}}),ao.simplify=function(t,e){var n=new ao(t);return n.setDistanceTolerance(e),n.getResultGeometry()},Xo(so,Oe),Yo(so.prototype,{transformCoordinates:function(t,e){if(0===t.size())return null;if(e instanceof bt){var n=this._linestringMap.get(e);return this.createCoordinateSequence(n.getResultCoordinates())}return Oe.prototype.transformCoordinates.call(this,t,e)},interfaces_:function(){return[]},getClass:function(){return so}}),Yo(lo.prototype,{filter:function(t){if(t instanceof bt){var e=t;if(e.isEmpty())return null;var n=new eo(e,e.isClosed()?4:2);this.tps._linestringMap.put(e,n)}},interfaces_:function(){return[D]},getClass:function(){return lo}}),ao.LineStringTransformer=so,ao.LineStringMapBuilderFilter=lo;var Ra=Object.freeze({DouglasPeuckerSimplifier:Ji,TopologyPreservingSimplifier:ao});Yo(uo.prototype,{splitAt:function(){if(1===arguments.length){var t=arguments[0],e=this._minimumLen/this._segLen;if(t.distance(this._seg.p0)<this._minimumLen)return this._splitPt=this._seg.pointAlong(e),null;if(t.distance(this._seg.p1)<this._minimumLen)return this._splitPt=uo.pointAlongReverse(this._seg,e),null;this._splitPt=t}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=this.getConstrainedLength(n)/this._segLen;r.equals2D(this._seg.p0)?this._splitPt=this._seg.pointAlong(i):this._splitPt=uo.pointAlongReverse(this._seg,i)}},setMinimumLength:function(t){this._minimumLen=t},getConstrainedLength:function(t){return t<this._minimumLen?this._minimumLen:t},getSplitPoint:function(){return this._splitPt},interfaces_:function(){return[]},getClass:function(){return uo}}),uo.pointAlongReverse=function(t,e){var n=new f;return n.x=t.p1.x-e*(t.p1.x-t.p0.x),n.y=t.p1.y-e*(t.p1.y-t.p0.y),n},Yo(co.prototype,{findSplitPoint:function(t,e){},interfaces_:function(){return[]},getClass:function(){return co}}),Yo(fo.prototype,{findSplitPoint:function(t,e){var n=t.getLineSegment(),r=n.getLength()/2,i=new uo(n),o=fo.projectedSplitPoint(t,e),a=2*o.distance(e)*.8;return a>r&&(a=r),i.setMinimumLength(a),i.splitAt(o),i.getSplitPoint()},interfaces_:function(){return[co]},getClass:function(){return fo}}),fo.projectedSplitPoint=function(t,e){return t.getLineSegment().project(e)},Yo(ho.prototype,{interfaces_:function(){return[]},getClass:function(){return ho}}),ho.triArea=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)},ho.isInCircleDDNormalized=function(t,e,n,r){var i=C.valueOf(t.x).selfSubtract(r.x),o=C.valueOf(t.y).selfSubtract(r.y),a=C.valueOf(e.x).selfSubtract(r.x),s=C.valueOf(e.y).selfSubtract(r.y),l=C.valueOf(n.x).selfSubtract(r.x),u=C.valueOf(n.y).selfSubtract(r.y),c=i.multiply(s).selfSubtract(a.multiply(o)),f=a.multiply(u).selfSubtract(l.multiply(s)),h=l.multiply(o).selfSubtract(i.multiply(u)),d=i.multiply(i).selfAdd(o.multiply(o)),p=a.multiply(a).selfAdd(s.multiply(s)),m=l.multiply(l).selfAdd(u.multiply(u));return d.selfMultiply(f).selfAdd(p.selfMultiply(h)).selfAdd(m.selfMultiply(c)).doubleValue()>0},ho.checkRobustInCircle=function(t,e,n,r){var i=ho.isInCircleNonRobust(t,e,n,r),o=ho.isInCircleDDSlow(t,e,n,r),a=ho.isInCircleCC(t,e,n,r),s=Se.circumcentre(t,e,n);I.out.println("p radius diff a = "+Math.abs(r.distance(s)-t.distance(s))/t.distance(s)),i===o&&i===a||(I.out.println("inCircle robustness failure (double result = "+i+", DD result = "+o+", CC result = "+a+")"),I.out.println(Gt.toLineString(new Lt([t,e,n,r]))),I.out.println("Circumcentre = "+Gt.toPoint(s)+" radius = "+t.distance(s)),I.out.println("p radius diff a = "+Math.abs(r.distance(s)/t.distance(s)-1)),I.out.println("p radius diff b = "+Math.abs(r.distance(s)/e.distance(s)-1)),I.out.println("p radius diff c = "+Math.abs(r.distance(s)/n.distance(s)-1)),I.out.println())},ho.isInCircleDDFast=function(t,e,n,r){var i=C.sqr(t.x).selfAdd(C.sqr(t.y)).selfMultiply(ho.triAreaDDFast(e,n,r)),o=C.sqr(e.x).selfAdd(C.sqr(e.y)).selfMultiply(ho.triAreaDDFast(t,n,r)),a=C.sqr(n.x).selfAdd(C.sqr(n.y)).selfMultiply(ho.triAreaDDFast(t,e,r)),s=C.sqr(r.x).selfAdd(C.sqr(r.y)).selfMultiply(ho.triAreaDDFast(t,e,n));return i.selfSubtract(o).selfAdd(a).selfSubtract(s).doubleValue()>0},ho.isInCircleCC=function(t,e,n,r){var i=Se.circumcentre(t,e,n),o=t.distance(i);return r.distance(i)-o<=0},ho.isInCircleNormalized=function(t,e,n,r){var i=t.x-r.x,o=t.y-r.y,a=e.x-r.x,s=e.y-r.y,l=n.x-r.x,u=n.y-r.y;return(i*i+o*o)*(a*u-l*s)+(a*a+s*s)*(l*o-i*u)+(l*l+u*u)*(i*s-a*o)>0},ho.isInCircleDDSlow=function(t,e,n,r){var i=C.valueOf(r.x),o=C.valueOf(r.y),a=C.valueOf(t.x),s=C.valueOf(t.y),l=C.valueOf(e.x),u=C.valueOf(e.y),c=C.valueOf(n.x),f=C.valueOf(n.y),h=a.multiply(a).add(s.multiply(s)).multiply(ho.triAreaDDSlow(l,u,c,f,i,o)),d=l.multiply(l).add(u.multiply(u)).multiply(ho.triAreaDDSlow(a,s,c,f,i,o)),p=c.multiply(c).add(f.multiply(f)).multiply(ho.triAreaDDSlow(a,s,l,u,i,o)),m=i.multiply(i).add(o.multiply(o)).multiply(ho.triAreaDDSlow(a,s,l,u,c,f));return h.subtract(d).add(p).subtract(m).doubleValue()>0},ho.isInCircleNonRobust=function(t,e,n,r){return(t.x*t.x+t.y*t.y)*ho.triArea(e,n,r)-(e.x*e.x+e.y*e.y)*ho.triArea(t,n,r)+(n.x*n.x+n.y*n.y)*ho.triArea(t,e,r)-(r.x*r.x+r.y*r.y)*ho.triArea(t,e,n)>0},ho.isInCircleRobust=function(t,e,n,r){return ho.isInCircleNormalized(t,e,n,r)},ho.triAreaDDSlow=function(t,e,n,r,i,o){return n.subtract(t).multiply(o.subtract(e)).subtract(r.subtract(e).multiply(i.subtract(t)))},ho.triAreaDDFast=function(t,e,n){var r=C.valueOf(e.x).selfSubtract(t.x).selfMultiply(C.valueOf(n.y).selfSubtract(t.y)),i=C.valueOf(e.y).selfSubtract(t.y).selfMultiply(C.valueOf(n.x).selfSubtract(t.x));return r.selfSubtract(i)},Yo(po.prototype,{circleCenter:function(t,e){var n=new po(this.getX(),this.getY()),r=new R(this.bisector(n,t),this.bisector(t,e)),i=null;try{i=new po(r.getX(),r.getY())}catch(r){if(!(r instanceof E))throw r;I.err.println("a: "+n+"  b: "+t+"  c: "+e),I.err.println(r)}return i},dot:function(t){return this._p.x*t.getX()+this._p.y*t.getY()},magn:function(){return Math.sqrt(this._p.x*this._p.x+this._p.y*this._p.y)},getZ:function(){return this._p.z},bisector:function(t,e){var n=e.getX()-t.getX(),r=e.getY()-t.getY();return new R(new R(t.getX()+n/2,t.getY()+r/2,1),new R(t.getX()-r+n/2,t.getY()+n+r/2,1))},equals:function(){if(1===arguments.length){var t=arguments[0];return this._p.x===t.getX()&&this._p.y===t.getY()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this._p.distance(e.getCoordinate())<n}},getCoordinate:function(){return this._p},isInCircle:function(t,e,n){return ho.isInCircleRobust(t._p,e._p,n._p,this._p)},interpolateZValue:function(t,e,n){var r=t.getX(),i=t.getY(),o=e.getX()-r,a=n.getX()-r,s=e.getY()-i,l=n.getY()-i,u=o*l-a*s,c=this.getX()-r,f=this.getY()-i,h=(l*c-a*f)/u,d=(-s*c+o*f)/u;return t.getZ()+h*(e.getZ()-t.getZ())+d*(n.getZ()-t.getZ())},midPoint:function(t){return new po((this._p.x+t.getX())/2,(this._p.y+t.getY())/2,(this._p.z+t.getZ())/2)},rightOf:function(t){return this.isCCW(t.dest(),t.orig())},isCCW:function(t,e){return(t._p.x-this._p.x)*(e._p.y-this._p.y)-(t._p.y-this._p.y)*(e._p.x-this._p.x)>0},getX:function(){return this._p.x},crossProduct:function(t){return this._p.x*t.getY()-this._p.y*t.getX()},setZ:function(t){this._p.z=t},times:function(t){return new po(t*this._p.x,t*this._p.y)},cross:function(){return new po(this._p.y,-this._p.x)},leftOf:function(t){return this.isCCW(t.orig(),t.dest())},toString:function(){return"POINT ("+this._p.x+" "+this._p.y+")"},sub:function(t){return new po(this._p.x-t.getX(),this._p.y-t.getY())},getY:function(){return this._p.y},classify:function(t,e){var n=e.sub(t),r=this.sub(t),i=n.crossProduct(r);return i>0?po.LEFT:i<0?po.RIGHT:n.getX()*r.getX()<0||n.getY()*r.getY()<0?po.BEHIND:n.magn()<r.magn()?po.BEYOND:t.equals(this)?po.ORIGIN:e.equals(this)?po.DESTINATION:po.BETWEEN},sum:function(t){return new po(this._p.x+t.getX(),this._p.y+t.getY())},distance:function(t,e){return Math.sqrt(Math.pow(e.getX()-t.getX(),2)+Math.pow(e.getY()-t.getY(),2))},circumRadiusRatio:function(t,e){var n=this.circleCenter(t,e),r=this.distance(n,t),i=this.distance(this,t),o=this.distance(t,e);return o<i&&(i=o),(o=this.distance(e,this))<i&&(i=o),r/i},interfaces_:function(){return[]},getClass:function(){return po}}),po.interpolateZ=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=e.distance(n),i=t.distance(e),o=n.z-e.z;return e.z+o*(i/r)}if(4===arguments.length){var a=arguments[0],s=arguments[1],l=arguments[2],u=arguments[3],c=s.x,f=s.y,h=l.x-c,d=u.x-c,p=l.y-f,m=u.y-f,g=h*m-d*p,v=a.x-c,y=a.y-f,b=(m*v-d*y)/g,_=(-p*v+h*y)/g;return s.z+b*(l.z-s.z)+_*(u.z-s.z)}},po.LEFT=0,po.RIGHT=1,po.BEYOND=2,po.BEHIND=3,po.BETWEEN=4,po.ORIGIN=5,po.DESTINATION=6,Xo(mo,po),Yo(mo.prototype,{getConstraint:function(){return this._constraint},setOnConstraint:function(t){this._isOnConstraint=t},merge:function(t){t._isOnConstraint&&(this._isOnConstraint=!0,this._constraint=t._constraint)},isOnConstraint:function(){return this._isOnConstraint},setConstraint:function(t){this._isOnConstraint=!0,this._constraint=t},interfaces_:function(){return[]},getClass:function(){return mo}}),Yo(go.prototype,{equalsNonOriented:function(t){return!!this.equalsOriented(t)||!!this.equalsOriented(t.sym())},toLineSegment:function(){return new Wt(this._vertex.getCoordinate(),this.dest().getCoordinate())},dest:function(){return this.sym().orig()},oNext:function(){return this._next},equalsOriented:function(t){return!(!this.orig().getCoordinate().equals2D(t.orig().getCoordinate())||!this.dest().getCoordinate().equals2D(t.dest().getCoordinate()))},dNext:function(){return this.sym().oNext().sym()},lPrev:function(){return this._next.sym()},rPrev:function(){return this.sym().oNext()},rot:function(){return this._rot},oPrev:function(){return this._rot._next._rot},sym:function(){return this._rot._rot},setOrig:function(t){this._vertex=t},lNext:function(){return this.invRot().oNext().rot()},getLength:function(){return this.orig().getCoordinate().distance(this.dest().getCoordinate())},invRot:function(){return this._rot.sym()},setDest:function(t){this.sym().setOrig(t)},setData:function(t){this._data=t},getData:function(){return this._data},delete:function(){this._rot=null},orig:function(){return this._vertex},rNext:function(){return this._rot._next.invRot()},toString:function(){var t=this._vertex.getCoordinate(),e=this.dest().getCoordinate();return Gt.toLineString(t,e)},isLive:function(){return null!==this._rot},getPrimary:function(){return this.orig().getCoordinate().compareTo(this.dest().getCoordinate())<=0?this:this.sym()},dPrev:function(){return this.invRot().oNext().invRot()},setNext:function(t){this._next=t},interfaces_:function(){return[]},getClass:function(){return go}}),go.makeEdge=function(t,e){var n=new go,r=new go,i=new go,o=new go;n._rot=r,r._rot=i,i._rot=o,o._rot=n,n.setNext(n),r.setNext(o),i.setNext(i),o.setNext(r);var a=n;return a.setOrig(t),a.setDest(e),a},go.swap=function(t){var e=t.oPrev(),n=t.sym().oPrev();go.splice(t,e),go.splice(t.sym(),n),go.splice(t,e.lNext()),go.splice(t.sym(),n.lNext()),t.setOrig(e.dest()),t.setDest(n.dest())},go.splice=function(t,e){var n=t.oNext().rot(),r=e.oNext().rot(),i=e.oNext(),o=t.oNext(),a=r.oNext(),s=n.oNext();t.setNext(i),e.setNext(o),n.setNext(a),r.setNext(s)},go.connect=function(t,e){var n=go.makeEdge(t.dest(),e.orig());return go.splice(n,t.lNext()),go.splice(n.sym(),e),n},Yo(vo.prototype,{insertSite:function(t){var e=this._subdiv.locate(t);if(this._subdiv.isVertexOfEdge(e,t))return e;this._subdiv.isOnEdge(e,t.getCoordinate())&&(e=e.oPrev(),this._subdiv.delete(e.oNext()));var n=this._subdiv.makeEdge(e.orig(),t);go.splice(n,e);var r=n;do{e=(n=this._subdiv.connect(e,n.sym())).oPrev()}while(e.lNext()!==r);for(;;){var i=e.oPrev();if(i.dest().rightOf(e)&&t.isInCircle(e.orig(),i.dest(),e.dest()))go.swap(e),e=e.oPrev();else{if(e.oNext()===r)return n;e=e.oNext().lPrev()}}},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertSite(n)}},interfaces_:function(){return[]},getClass:function(){return vo}}),Yo(yo.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return yo}}),Yo(bo.prototype,{init:function(){this._lastEdge=this.findEdge()},locate:function(t){this._lastEdge.isLive()||this.init();var e=this._subdiv.locateFromEdge(t,this._lastEdge);return this._lastEdge=e,e},findEdge:function(){return this._subdiv.getEdges().iterator().next()},interfaces_:function(){return[yo]},getClass:function(){return bo}}),Xo(_o,l),Yo(_o.prototype,{getSegment:function(){return this._seg},interfaces_:function(){return[]},getClass:function(){return _o}}),_o.msgWithSpatial=function(t,e){return null!==e?t+" [ "+e+" ]":t},Yo(wo.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return wo}}),Yo(xo.prototype,{getTriangleVertices:function(t){var e=new So;return this.visitTriangles(e,t),e.getTriangleVertices()},isFrameVertex:function(t){return!!t.equals(this._frameVertex[0])||!!t.equals(this._frameVertex[1])||!!t.equals(this._frameVertex[2])},isVertexOfEdge:function(t,e){return!(!e.equals(t.orig(),this._tolerance)&&!e.equals(t.dest(),this._tolerance))},connect:function(t,e){var n=go.connect(t,e);return this._quadEdges.add(n),n},getVoronoiCellPolygon:function(t,e){var n=new b,r=t;do{var i=t.rot().orig().getCoordinate();n.add(i),t=t.oPrev()}while(t!==r);var o=new _;o.addAll(n,!1),o.closeRing(),o.size()<4&&(I.out.println(o),o.add(o.get(o.size()-1),!0));var a=o.toCoordinateArray(),s=e.createPolygon(e.createLinearRing(a)),l=r.orig();return s.setUserData(l.getCoordinate()),s},setLocator:function(t){this._locator=t},initSubdiv:function(){var t=this.makeEdge(this._frameVertex[0],this._frameVertex[1]),e=this.makeEdge(this._frameVertex[1],this._frameVertex[2]);go.splice(t.sym(),e);var n=this.makeEdge(this._frameVertex[2],this._frameVertex[0]);return go.splice(e.sym(),n),go.splice(n.sym(),t),t},isFrameBorderEdge:function(t){var e=new Array(3).fill(null);xo.getTriangleEdges(t,e);var n=new Array(3).fill(null);xo.getTriangleEdges(t.sym(),n);var r=t.lNext().dest();if(this.isFrameVertex(r))return!0;var i=t.sym().lNext().dest();return!!this.isFrameVertex(i)},makeEdge:function(t,e){var n=go.makeEdge(t,e);return this._quadEdges.add(n),n},visitTriangles:function(t,e){this._visitedKey++;var n=new te;n.push(this._startingEdge);for(var r=new K;!n.empty();){var i=n.pop();if(!r.contains(i)){var o=this.fetchTriangleToVisit(i,n,e,r);null!==o&&t.visit(o)}}},isFrameEdge:function(t){return!(!this.isFrameVertex(t.orig())&&!this.isFrameVertex(t.dest()))},isOnEdge:function(t,e){return this._seg.setCoordinates(t.orig().getCoordinate(),t.dest().getCoordinate()),this._seg.distance(e)<this._edgeCoincidenceTolerance},getEnvelope:function(){return new w(this._frameEnv)},createFrame:function(t){var e=t.getWidth(),n=t.getHeight(),r=0;r=e>n?10*e:10*n,this._frameVertex[0]=new po((t.getMaxX()+t.getMinX())/2,t.getMaxY()+r),this._frameVertex[1]=new po(t.getMinX()-r,t.getMinY()-r),this._frameVertex[2]=new po(t.getMaxX()+r,t.getMinY()-r),this._frameEnv=new w(this._frameVertex[0].getCoordinate(),this._frameVertex[1].getCoordinate()),this._frameEnv.expandToInclude(this._frameVertex[2].getCoordinate())},getTriangleCoordinates:function(t){var e=new To;return this.visitTriangles(e,t),e.getTriangles()},getVertices:function(t){for(var e=new K,n=this._quadEdges.iterator();n.hasNext();){var r=n.next(),i=r.orig();!t&&this.isFrameVertex(i)||e.add(i);var o=r.dest();!t&&this.isFrameVertex(o)||e.add(o)}return e},fetchTriangleToVisit:function(t,e,n,r){var i=t,o=0,a=!1;do{this._triEdges[o]=i,this.isFrameEdge(i)&&(a=!0);var s=i.sym();r.contains(s)||e.push(s),r.add(i),o++,i=i.lNext()}while(i!==t);return a&&!n?null:this._triEdges},getEdges:function(){if(0===arguments.length)return this._quadEdges;if(1===arguments.length){for(var t=arguments[0],e=this.getPrimaryEdges(!1),n=new Array(e.size()).fill(null),r=0,i=e.iterator();i.hasNext();){var o=i.next();n[r++]=t.createLineString([o.orig().getCoordinate(),o.dest().getCoordinate()])}return t.createMultiLineString(n)}},getVertexUniqueEdges:function(t){for(var e=new b,n=new K,r=this._quadEdges.iterator();r.hasNext();){var i=r.next(),o=i.orig();n.contains(o)||(n.add(o),!t&&this.isFrameVertex(o)||e.add(i));var a=i.sym(),s=a.orig();n.contains(s)||(n.add(s),!t&&this.isFrameVertex(s)||e.add(a))}return e},getTriangleEdges:function(t){var e=new Mo;return this.visitTriangles(e,t),e.getTriangleEdges()},getPrimaryEdges:function(t){this._visitedKey++;var e=new b,n=new te;n.push(this._startingEdge);for(var r=new K;!n.empty();){var i=n.pop();if(!r.contains(i)){var o=i.getPrimary();!t&&this.isFrameEdge(o)||e.add(o),n.push(i.oNext()),n.push(i.sym().oNext()),r.add(i),r.add(i.sym())}}return e},delete:function(t){go.splice(t,t.oPrev()),go.splice(t.sym(),t.sym().oPrev());var e=t.sym(),n=t.rot(),r=t.rot().sym();this._quadEdges.remove(t),this._quadEdges.remove(e),this._quadEdges.remove(n),this._quadEdges.remove(r),t.delete(),e.delete(),n.delete(),r.delete()},locateFromEdge:function(t,e){for(var n=0,r=this._quadEdges.size(),i=e;;){if(++n>r)throw new _o(i.toLineSegment());if(t.equals(i.orig())||t.equals(i.dest()))break;if(t.rightOf(i))i=i.sym();else if(t.rightOf(i.oNext())){if(t.rightOf(i.dPrev()))break;i=i.dPrev()}else i=i.oNext()}return i},getTolerance:function(){return this._tolerance},getVoronoiCellPolygons:function(t){this.visitTriangles(new Eo,!0);for(var e=new b,n=this.getVertexUniqueEdges(!1).iterator();n.hasNext();){var r=n.next();e.add(this.getVoronoiCellPolygon(r,t))}return e},getVoronoiDiagram:function(t){var e=this.getVoronoiCellPolygons(t);return t.createGeometryCollection(Bt.toGeometryArray(e))},getTriangles:function(t){for(var e=this.getTriangleCoordinates(!1),n=new Array(e.size()).fill(null),r=0,i=e.iterator();i.hasNext();){var o=i.next();n[r++]=t.createPolygon(t.createLinearRing(o))}return t.createGeometryCollection(n)},insertSite:function(t){var e=this.locate(t);if(t.equals(e.orig(),this._tolerance)||t.equals(e.dest(),this._tolerance))return e;var n=this.makeEdge(e.orig(),t);go.splice(n,e);var r=n;do{e=(n=this.connect(e,n.sym())).oPrev()}while(e.lNext()!==r);return r},locate:function(){if(1===arguments.length){if(arguments[0]instanceof po){var t=arguments[0];return this._locator.locate(t)}if(arguments[0]instanceof f){var e=arguments[0];return this._locator.locate(new po(e))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=this._locator.locate(new po(n));if(null===i)return null;var o=i;i.dest().getCoordinate().equals2D(n)&&(o=i.sym());var a=o;do{if(a.dest().getCoordinate().equals2D(r))return a;a=a.oNext()}while(a!==o);return null}},interfaces_:function(){return[]},getClass:function(){return xo}}),xo.getTriangleEdges=function(t,e){if(e[0]=t,e[1]=e[0].lNext(),e[2]=e[1].lNext(),e[2].lNext()!==e[0])throw new n("Edges do not form a triangle")},Yo(Eo.prototype,{visit:function(t){for(var e=t[0].orig().getCoordinate(),n=t[1].orig().getCoordinate(),r=t[2].orig().getCoordinate(),i=new po(Se.circumcentre(e,n,r)),o=0;o<3;o++)t[o].rot().setOrig(i)},interfaces_:function(){return[wo]},getClass:function(){return Eo}}),Yo(Mo.prototype,{getTriangleEdges:function(){return this._triList},visit:function(t){this._triList.add(t)},interfaces_:function(){return[wo]},getClass:function(){return Mo}}),Yo(So.prototype,{visit:function(t){this._triList.add([t[0].orig(),t[1].orig(),t[2].orig()])},getTriangleVertices:function(){return this._triList},interfaces_:function(){return[wo]},getClass:function(){return So}}),Yo(To.prototype,{checkTriangleSize:function(t){t.length>=2?Gt.toLineString(t[0],t[1]):t.length>=1&&Gt.toPoint(t[0])},visit:function(t){this._coordList.clear();for(var e=0;e<3;e++){var n=t[e].orig();this._coordList.add(n.getCoordinate())}if(this._coordList.size()>0){this._coordList.closeRing();var r=this._coordList.toCoordinateArray();if(4!==r.length)return null;this._triCoords.add(r)}},getTriangles:function(){return this._triCoords},interfaces_:function(){return[wo]},getClass:function(){return To}}),xo.TriangleCircumcentreVisitor=Eo,xo.TriangleEdgesListVisitor=Mo,xo.TriangleVertexListVisitor=So,xo.TriangleCoordinatesVisitor=To,xo.EDGE_COINCIDENCE_TOL_FACTOR=1e3,Yo(Co.prototype,{getLineSegment:function(){return this._ls},getEndZ:function(){return this._ls.getCoordinate(1).z},getStartZ:function(){return this._ls.getCoordinate(0).z},intersection:function(t){return this._ls.intersection(t.getLineSegment())},getStart:function(){return this._ls.getCoordinate(0)},getEnd:function(){return this._ls.getCoordinate(1)},getEndY:function(){return this._ls.getCoordinate(1).y},getStartX:function(){return this._ls.getCoordinate(0).x},equalsTopo:function(t){return this._ls.equalsTopo(t.getLineSegment())},getStartY:function(){return this._ls.getCoordinate(0).y},setData:function(t){this._data=t},getData:function(){return this._data},getEndX:function(){return this._ls.getCoordinate(1).x},toString:function(){return this._ls.toString()},interfaces_:function(){return[]},getClass:function(){return Co}}),Yo(Oo.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return Oo}}),Yo(Ao.prototype,{isRepeated:function(){return this._count>1},getRight:function(){return this._right},getCoordinate:function(){return this._p},setLeft:function(t){this._left=t},getX:function(){return this._p.x},getData:function(){return this._data},getCount:function(){return this._count},getLeft:function(){return this._left},getY:function(){return this._p.y},increment:function(){this._count=this._count+1},setRight:function(t){this._right=t},interfaces_:function(){return[]},getClass:function(){return Ao}}),Yo(Io.prototype,{insert:function(){if(1===arguments.length){var t=arguments[0];return this.insert(t,null)}if(2===arguments.length){var e=arguments[0],n=arguments[1];if(null===this._root)return this._root=new Ao(e,n),this._root;if(this._tolerance>0){var r=this.findBestMatchNode(e);if(null!==r)return r.increment(),r}return this.insertExact(e,n)}},query:function(){if(1===arguments.length){var t=arguments[0],e=new b;return this.query(t,e),e}if(2===arguments.length)if(arguments[0]instanceof w&&Zo(arguments[1],g)){var n=arguments[0],r=arguments[1];this.queryNode(this._root,n,!0,{interfaces_:function(){return[Oo]},visit:function(t){r.add(t)}})}else if(arguments[0]instanceof w&&Zo(arguments[1],Oo)){var i=arguments[0],o=arguments[1];this.queryNode(this._root,i,!0,o)}},queryNode:function(t,e,n,r){if(null===t)return null;var i=null,o=null,a=null;n?(i=e.getMinX(),o=e.getMaxX(),a=t.getX()):(i=e.getMinY(),o=e.getMaxY(),a=t.getY());var s=a<=o;i<a&&this.queryNode(t.getLeft(),e,!n,r),e.contains(t.getCoordinate())&&r.visit(t),s&&this.queryNode(t.getRight(),e,!n,r)},findBestMatchNode:function(t){var e=new Ro(t,this._tolerance);return this.query(e.queryEnvelope(),e),e.getNode()},isEmpty:function(){return null===this._root},insertExact:function(t,e){for(var n=this._root,r=this._root,i=!0,o=!0;null!==n;){if(null!==n&&t.distance(n.getCoordinate())<=this._tolerance)return n.increment(),n;r=n,n=(o=i?t.x<n.getX():t.y<n.getY())?n.getLeft():n.getRight(),i=!i}this._numberOfNodes=this._numberOfNodes+1;var a=new Ao(t,e);return o?r.setLeft(a):r.setRight(a),a},interfaces_:function(){return[]},getClass:function(){return Io}}),Io.toCoordinates=function(){if(1===arguments.length){var t=arguments[0];return Io.toCoordinates(t,!1)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=new _,i=e.iterator();i.hasNext();)for(var o=i.next(),a=n?o.getCount():1,s=0;s<a;s++)r.add(o.getCoordinate(),!0);return r.toCoordinateArray()}},Yo(Ro.prototype,{visit:function(t){var e=this._p.distance(t.getCoordinate());if(!(e<=this._tolerance))return null;var n=!1;(null===this._matchNode||e<this._matchDist||null!==this._matchNode&&e===this._matchDist&&t.getCoordinate().compareTo(this._matchNode.getCoordinate())<1)&&(n=!0),n&&(this._matchNode=t,this._matchDist=e)},queryEnvelope:function(){var t=new w(this._p);return t.expandBy(this._tolerance),t},getNode:function(){return this._matchNode},interfaces_:function(){return[Oo]},getClass:function(){return Ro}}),Io.BestMatchVisitor=Ro,Yo(Po.prototype,{getInitialVertices:function(){return this._initialVertices},getKDT:function(){return this._kdt},enforceConstraints:function(){this.addConstraintVertices();var t=0,e=0;do{e=this.enforceGabriel(this._segments),t++}while(e>0&&t<Po.MAX_SPLIT_ITER)},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertSite(n)}},getVertexFactory:function(){return this._vertexFactory},getPointArray:function(){for(var t=new Array(this._initialVertices.size()+this._segVertices.size()).fill(null),e=0,n=this._initialVertices.iterator();n.hasNext();)i=n.next(),t[e++]=i.getCoordinate();for(var r=this._segVertices.iterator();r.hasNext();){var i=r.next();t[e++]=i.getCoordinate()}return t},setConstraints:function(t,e){this._segments=t,this._segVertices=e},computeConvexHull:function(){var t=new Bt,e=new ne(this.getPointArray(),t);this._convexHull=e.getConvexHull()},addConstraintVertices:function(){this.computeConvexHull(),this.insertSites(this._segVertices)},findNonGabrielPoint:function(t){var e=t.getStart(),n=t.getEnd(),i=new f((e.x+n.x)/2,(e.y+n.y)/2),o=e.distance(i),a=new w(i);a.expandBy(o);for(var s=this._kdt.query(a),l=null,u=r.MAX_VALUE,c=s.iterator();c.hasNext();){var h=c.next().getCoordinate();if(!h.equals2D(e)&&!h.equals2D(n)){var d=i.distance(h);d<o&&(null===l||d<u)&&(l=h,u=d)}}return l},getConstraintSegments:function(){return this._segments},setSplitPointFinder:function(t){this._splitFinder=t},getConvexHull:function(){return this._convexHull},getTolerance:function(){return this._tolerance},enforceGabriel:function(t){for(var e=new b,n=0,r=new b,i=t.iterator();i.hasNext();){var o=i.next(),a=this.findNonGabrielPoint(o);if(null!==a){this._splitPt=this._splitFinder.findSplitPoint(o,a);var s=this.createVertex(this._splitPt,o);this.insertSite(s).getCoordinate().equals2D(this._splitPt);var l=new Co(o.getStartX(),o.getStartY(),o.getStartZ(),s.getX(),s.getY(),s.getZ(),o.getData()),u=new Co(s.getX(),s.getY(),s.getZ(),o.getEndX(),o.getEndY(),o.getEndZ(),o.getData());e.add(l),e.add(u),r.add(o),n+=1}}return t.removeAll(r),t.addAll(e),n},createVertex:function(){if(1===arguments.length){var t=arguments[0],e=null;return e=null!==this._vertexFactory?this._vertexFactory.createVertex(t,null):new mo(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1],e=null;return(e=null!==this._vertexFactory?this._vertexFactory.createVertex(n,r):new mo(n)).setOnConstraint(!0),e}},getSubdivision:function(){return this._subdiv},computeBoundingBox:function(){var t=Po.computeVertexEnvelope(this._initialVertices),e=Po.computeVertexEnvelope(this._segVertices),n=new w(t);n.expandToInclude(e);var r=.2*n.getWidth(),i=.2*n.getHeight(),o=Math.max(r,i);this._computeAreaEnv=new w(n),this._computeAreaEnv.expandBy(o)},setVertexFactory:function(t){this._vertexFactory=t},formInitialDelaunay:function(){this.computeBoundingBox(),this._subdiv=new xo(this._computeAreaEnv,this._tolerance),this._subdiv.setLocator(new bo(this._subdiv)),this._incDel=new vo(this._subdiv),this.insertSites(this._initialVertices)},insertSite:function(){if(arguments[0]instanceof mo){var t=arguments[0],e=this._kdt.insert(t.getCoordinate(),t);if(e.isRepeated()){var n=e.getData();return n.merge(t),n}return this._incDel.insertSite(t),t}if(arguments[0]instanceof f){var r=arguments[0];this.insertSite(this.createVertex(r))}},interfaces_:function(){return[]},getClass:function(){return Po}}),Po.computeVertexEnvelope=function(t){for(var e=new w,n=t.iterator();n.hasNext();){var r=n.next();e.expandToInclude(r.getCoordinate())}return e},Po.MAX_SPLIT_ITER=99,Yo(Lo.prototype,{create:function(){if(null!==this._subdiv)return null;var t=Lo.envelope(this._siteCoords),e=Lo.toVertices(this._siteCoords);this._subdiv=new xo(t,this._tolerance),new vo(this._subdiv).insertSites(e)},setTolerance:function(t){this._tolerance=t},setSites:function(){if(arguments[0]instanceof F){var t=arguments[0];this._siteCoords=Lo.extractUniqueCoordinates(t)}else if(Zo(arguments[0],p)){var e=arguments[0];this._siteCoords=Lo.unique(H.toCoordinateArray(e))}},getEdges:function(t){return this.create(),this._subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this._subdiv},getTriangles:function(t){return this.create(),this._subdiv.getTriangles(t)},interfaces_:function(){return[]},getClass:function(){return Lo}}),Lo.extractUniqueCoordinates=function(t){if(null===t)return new _;var e=t.getCoordinates();return Lo.unique(e)},Lo.envelope=function(t){for(var e=new w,n=t.iterator();n.hasNext();){var r=n.next();e.expandToInclude(r)}return e},Lo.unique=function(t){var e=H.copyDeep(t);return at.sort(e),new _(e,!1)},Lo.toVertices=function(t){for(var e=new b,n=t.iterator();n.hasNext();){var r=n.next();e.add(new po(r))}return e},Yo(No.prototype,{createSiteVertices:function(t){for(var e=new b,n=t.iterator();n.hasNext();){var r=n.next();this._constraintVertexMap.containsKey(r)||e.add(new mo(r))}return e},create:function(){if(null!==this._subdiv)return null;var t=Lo.envelope(this._siteCoords),e=new b;null!==this._constraintLines&&(t.expandToInclude(this._constraintLines.getEnvelopeInternal()),this.createVertices(this._constraintLines),e=No.createConstraintSegments(this._constraintLines));var n=new Po(this.createSiteVertices(this._siteCoords),this._tolerance);n.setConstraints(e,new b(this._constraintVertexMap.values())),n.formInitialDelaunay(),n.enforceConstraints(),this._subdiv=n.getSubdivision()},setTolerance:function(t){this._tolerance=t},setConstraints:function(t){this._constraintLines=t},setSites:function(t){this._siteCoords=Lo.extractUniqueCoordinates(t)},getEdges:function(t){return this.create(),this._subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this._subdiv},getTriangles:function(t){return this.create(),this._subdiv.getTriangles(t)},createVertices:function(t){for(var e=t.getCoordinates(),n=0;n<e.length;n++){var r=new mo(e[n]);this._constraintVertexMap.put(e[n],r)}},interfaces_:function(){return[]},getClass:function(){return No}}),No.createConstraintSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=tn.getLines(t),n=new b,r=e.iterator();r.hasNext();){var i=r.next();No.createConstraintSegments(i,n)}return n}if(2===arguments.length)for(var o=arguments[0],a=arguments[1],s=o.getCoordinates(),r=1;r<s.length;r++)a.add(new Co(s[r-1],s[r]))},Yo(ko.prototype,{create:function(){if(null!==this._subdiv)return null;var t=Lo.envelope(this._siteCoords);this._diagramEnv=t;var e=Math.max(this._diagramEnv.getWidth(),this._diagramEnv.getHeight());this._diagramEnv.expandBy(e),null!==this._clipEnv&&this._diagramEnv.expandToInclude(this._clipEnv);var n=Lo.toVertices(this._siteCoords);this._subdiv=new xo(t,this._tolerance),new vo(this._subdiv).insertSites(n)},getDiagram:function(t){this.create();var e=this._subdiv.getVoronoiDiagram(t);return ko.clipGeometryCollection(e,this._diagramEnv)},setTolerance:function(t){this._tolerance=t},setSites:function(){if(arguments[0]instanceof F){var t=arguments[0];this._siteCoords=Lo.extractUniqueCoordinates(t)}else if(Zo(arguments[0],p)){var e=arguments[0];this._siteCoords=Lo.unique(H.toCoordinateArray(e))}},setClipEnvelope:function(t){this._clipEnv=t},getSubdivision:function(){return this.create(),this._subdiv},interfaces_:function(){return[]},getClass:function(){return ko}}),ko.clipGeometryCollection=function(t,e){for(var n=t.getFactory().toGeometry(e),r=new b,i=0;i<t.getNumGeometries();i++){var o=t.getGeometryN(i),a=null;e.contains(o.getEnvelopeInternal())?a=o:e.intersects(o.getEnvelopeInternal())&&(a=n.intersection(o)).setUserData(o.getUserData()),null===a||a.isEmpty()||r.add(a)}return t.getFactory().createGeometryCollection(Bt.toGeometryArray(r))};var Pa=Object.freeze({Vertex:po}),La=Object.freeze({ConformingDelaunayTriangulationBuilder:No,DelaunayTriangulationBuilder:Lo,VoronoiDiagramBuilder:ko,quadedge:Pa});Yo(Do.prototype,{getSegmentIndex:function(){return this._segmentIndex},getComponentIndex:function(){return this._componentIndex},isEndpoint:function(t){var e=t.getGeometryN(this._componentIndex).getNumPoints()-1;return this._segmentIndex>=e||this._segmentIndex===e&&this._segmentFraction>=1},isValid:function(t){if(this._componentIndex<0||this._componentIndex>=t.getNumGeometries())return!1;var e=t.getGeometryN(this._componentIndex);return!(this._segmentIndex<0||this._segmentIndex>e.getNumPoints()||this._segmentIndex===e.getNumPoints()&&0!==this._segmentFraction||this._segmentFraction<0||this._segmentFraction>1)},normalize:function(){this._segmentFraction<0&&(this._segmentFraction=0),this._segmentFraction>1&&(this._segmentFraction=1),this._componentIndex<0&&(this._componentIndex=0,this._segmentIndex=0,this._segmentFraction=0),this._segmentIndex<0&&(this._segmentIndex=0,this._segmentFraction=0),1===this._segmentFraction&&(this._segmentFraction=0,this._segmentIndex+=1)},toLowest:function(t){var e=t.getGeometryN(this._componentIndex).getNumPoints()-1;return this._segmentIndex<e?this:new Do(this._componentIndex,e,1,!1)},getCoordinate:function(t){var e=t.getGeometryN(this._componentIndex),n=e.getCoordinateN(this._segmentIndex);if(this._segmentIndex>=e.getNumPoints()-1)return n;var r=e.getCoordinateN(this._segmentIndex+1);return Do.pointAlongSegmentByFraction(n,r,this._segmentFraction)},getSegmentFraction:function(){return this._segmentFraction},getSegment:function(t){var e=t.getGeometryN(this._componentIndex),n=e.getCoordinateN(this._segmentIndex);return this._segmentIndex>=e.getNumPoints()-1?new Wt(e.getCoordinateN(e.getNumPoints()-2),n):new Wt(n,e.getCoordinateN(this._segmentIndex+1))},clamp:function(t){if(this._componentIndex>=t.getNumGeometries())return this.setToEnd(t),null;if(this._segmentIndex>=t.getNumPoints()){var e=t.getGeometryN(this._componentIndex);this._segmentIndex=e.getNumPoints()-1,this._segmentFraction=1}},setToEnd:function(t){this._componentIndex=t.getNumGeometries()-1;var e=t.getGeometryN(this._componentIndex);this._segmentIndex=e.getNumPoints()-1,this._segmentFraction=1},compareTo:function(t){var e=t;return this._componentIndex<e._componentIndex?-1:this._componentIndex>e._componentIndex?1:this._segmentIndex<e._segmentIndex?-1:this._segmentIndex>e._segmentIndex?1:this._segmentFraction<e._segmentFraction?-1:this._segmentFraction>e._segmentFraction?1:0},copy:function(){return new Do(this._componentIndex,this._segmentIndex,this._segmentFraction)},toString:function(){return"LinearLoc["+this._componentIndex+", "+this._segmentIndex+", "+this._segmentFraction+"]"},isOnSameSegment:function(t){return this._componentIndex===t._componentIndex&&(this._segmentIndex===t._segmentIndex||t._segmentIndex-this._segmentIndex==1&&0===t._segmentFraction||this._segmentIndex-t._segmentIndex==1&&0===this._segmentFraction)},snapToVertex:function(t,e){if(this._segmentFraction<=0||this._segmentFraction>=1)return null;var n=this.getSegmentLength(t),r=this._segmentFraction*n,i=n-r;r<=i&&r<e?this._segmentFraction=0:i<=r&&i<e&&(this._segmentFraction=1)},compareLocationValues:function(t,e,n){return this._componentIndex<t?-1:this._componentIndex>t?1:this._segmentIndex<e?-1:this._segmentIndex>e?1:this._segmentFraction<n?-1:this._segmentFraction>n?1:0},getSegmentLength:function(t){var e=t.getGeometryN(this._componentIndex),n=this._segmentIndex;this._segmentIndex>=e.getNumPoints()-1&&(n=e.getNumPoints()-2);var r=e.getCoordinateN(n),i=e.getCoordinateN(n+1);return r.distance(i)},isVertex:function(){return this._segmentFraction<=0||this._segmentFraction>=1},interfaces_:function(){return[i]},getClass:function(){return Do}}),Do.getEndLocation=function(t){var e=new Do;return e.setToEnd(t),e},Do.pointAlongSegmentByFraction=function(t,e,n){return n<=0?t:n>=1?e:new f((e.x-t.x)*n+t.x,(e.y-t.y)*n+t.y,(e.z-t.z)*n+t.z)},Do.compareLocationValues=function(t,e,n,r,i,o){return t<r?-1:t>r?1:e<i?-1:e>i?1:n<o?-1:n>o?1:0},Yo(Fo.prototype,{getComponentIndex:function(){return this._componentIndex},getLine:function(){return this._currentLine},getVertexIndex:function(){return this._vertexIndex},getSegmentEnd:function(){return this._vertexIndex<this.getLine().getNumPoints()-1?this._currentLine.getCoordinateN(this._vertexIndex+1):null},next:function(){if(!this.hasNext())return null;++this._vertexIndex>=this._currentLine.getNumPoints()&&(this._componentIndex++,this.loadCurrentLine(),this._vertexIndex=0)},loadCurrentLine:function(){if(this._componentIndex>=this._numLines)return this._currentLine=null,null;this._currentLine=this._linearGeom.getGeometryN(this._componentIndex)},getSegmentStart:function(){return this._currentLine.getCoordinateN(this._vertexIndex)},isEndOfLine:function(){return!(this._componentIndex>=this._numLines||this._vertexIndex<this._currentLine.getNumPoints()-1)},hasNext:function(){return!(this._componentIndex>=this._numLines||this._componentIndex===this._numLines-1&&this._vertexIndex>=this._currentLine.getNumPoints())},interfaces_:function(){return[]},getClass:function(){return Fo}}),Fo.segmentEndVertexIndex=function(t){return t.getSegmentFraction()>0?t.getSegmentIndex()+1:t.getSegmentIndex()},Yo(jo.prototype,{indexOf:function(t){return this.indexOfFromStart(t,null)},indexOfFromStart:function(t,e){for(var n=r.MAX_VALUE,i=0,o=0,a=-1,s=new Wt,l=new Fo(this._linearGeom);l.hasNext();l.next())if(!l.isEndOfLine()){s.p0=l.getSegmentStart(),s.p1=l.getSegmentEnd();var u=s.distance(t),c=s.segmentFraction(t),f=l.getComponentIndex(),h=l.getVertexIndex();u<n&&(null===e||e.compareLocationValues(f,h,c)<0)&&(i=f,o=h,a=c,n=u)}return n===r.MAX_VALUE?new Do(e):new Do(i,o,a)},indexOfAfter:function(t,e){if(null===e)return this.indexOf(t);var n=Do.getEndLocation(this._linearGeom);if(n.compareTo(e)<=0)return n;var r=this.indexOfFromStart(t,e);return c.isTrue(r.compareTo(e)>=0,"computed location is before specified minimum location"),r},interfaces_:function(){return[]},getClass:function(){return jo}}),jo.indexOf=function(t,e){return new jo(t).indexOf(e)},jo.indexOfAfter=function(t,e,n){return new jo(t).indexOfAfter(e,n)},Yo(Uo.prototype,{indicesOf:function(t){var e=t.getGeometryN(0).getCoordinateN(0),n=t.getGeometryN(t.getNumGeometries()-1),r=n.getCoordinateN(n.getNumPoints()-1),i=new jo(this._linearGeom),o=new Array(2).fill(null);return o[0]=i.indexOf(e),0===t.getLength()?o[1]=o[0].copy():o[1]=i.indexOfAfter(r,o[0]),o},interfaces_:function(){return[]},getClass:function(){return Uo}}),Uo.indicesOf=function(t,e){return new Uo(t).indicesOf(e)},Yo(zo.prototype,{getGeometry:function(){return this.endLine(),this._geomFact.buildGeometry(this._lines)},getLastCoordinate:function(){return this._lastPt},endLine:function(){if(null===this._coordList)return null;if(this._ignoreInvalidLines&&this._coordList.size()<2)return this._coordList=null,null;var t=this._coordList.toCoordinateArray(),e=t;this._fixInvalidLines&&(e=this.validCoordinateSequence(t)),this._coordList=null;var r=null;try{r=this._geomFact.createLineString(e)}catch(t){if(!(t instanceof n))throw t;if(!this._ignoreInvalidLines)throw t}null!==r&&this._lines.add(r)},setFixInvalidLines:function(t){this._fixInvalidLines=t},add:function(){if(1===arguments.length){var t=arguments[0];this.add(t,!0)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];null===this._coordList&&(this._coordList=new _),this._coordList.add(e,n),this._lastPt=e}},setIgnoreInvalidLines:function(t){this._ignoreInvalidLines=t},validCoordinateSequence:function(t){return t.length>=2?t:[t[0],t[0]]},interfaces_:function(){return[]},getClass:function(){return zo}}),Yo(Bo.prototype,{computeLinear:function(t,e){var n=new zo(this._line.getFactory());n.setFixInvalidLines(!0),t.isVertex()||n.add(t.getCoordinate(this._line));for(var r=new Fo(this._line,t);r.hasNext()&&!(e.compareLocationValues(r.getComponentIndex(),r.getVertexIndex(),0)<0);r.next()){var i=r.getSegmentStart();n.add(i),r.isEndOfLine()&&n.endLine()}return e.isVertex()||n.add(e.getCoordinate(this._line)),n.getGeometry()},computeLine:function(t,e){var n=this._line.getCoordinates(),r=new _,i=t.getSegmentIndex();t.getSegmentFraction()>0&&(i+=1);var o=e.getSegmentIndex();1===e.getSegmentFraction()&&(o+=1),o>=n.length&&(o=n.length-1),t.isVertex()||r.add(t.getCoordinate(this._line));for(var a=i;a<=o;a++)r.add(n[a]);e.isVertex()||r.add(e.getCoordinate(this._line)),r.size()<=0&&r.add(t.getCoordinate(this._line));var s=r.toCoordinateArray();return s.length<=1&&(s=[s[0],s[0]]),this._line.getFactory().createLineString(s)},extract:function(t,e){return e.compareTo(t)<0?this.reverse(this.computeLinear(e,t)):this.computeLinear(t,e)},reverse:function(t){return t instanceof bt?t.reverse():t instanceof ft?t.reverse():(c.shouldNeverReachHere("non-linear geometry encountered"),null)},interfaces_:function(){return[]},getClass:function(){return Bo}}),Bo.extract=function(t,e,n){return new Bo(t).extract(e,n)},Yo(Vo.prototype,{clampIndex:function(t){var e=t.copy();return e.clamp(this._linearGeom),e},project:function(t){return jo.indexOf(this._linearGeom,t)},checkGeometryType:function(){if(!(this._linearGeom instanceof bt||this._linearGeom instanceof ft))throw new n("Input geometry must be linear")},extractPoint:function(){if(1===arguments.length)return arguments[0].getCoordinate(this._linearGeom);if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.toLowest(this._linearGeom);return n.getSegment(this._linearGeom).pointAlongOffset(n.getSegmentFraction(),e)}},isValidIndex:function(t){return t.isValid(this._linearGeom)},getEndIndex:function(){return Do.getEndLocation(this._linearGeom)},getStartIndex:function(){return new Do},indexOfAfter:function(t,e){return jo.indexOfAfter(this._linearGeom,t,e)},extractLine:function(t,e){return Bo.extract(this._linearGeom,t,e)},indexOf:function(t){return jo.indexOf(this._linearGeom,t)},indicesOf:function(t){return Uo.indicesOf(this._linearGeom,t)},interfaces_:function(){return[]},getClass:function(){return Vo}}),Yo(Go.prototype,{indexOf:function(t){return this.indexOfFromStart(t,-1)},indexOfFromStart:function(t,e){for(var n=r.MAX_VALUE,i=e,o=0,a=new Wt,s=new Fo(this._linearGeom);s.hasNext();){if(!s.isEndOfLine()){a.p0=s.getSegmentStart(),a.p1=s.getSegmentEnd();var l=a.distance(t),u=this.segmentNearestMeasure(a,t,o);l<n&&u>e&&(i=u,n=l),o+=a.getLength()}s.next()}return i},indexOfAfter:function(t,e){if(e<0)return this.indexOf(t);var n=this._linearGeom.getLength();if(n<e)return n;var r=this.indexOfFromStart(t,e);return c.isTrue(r>=e,"computed index is before specified minimum index"),r},segmentNearestMeasure:function(t,e,n){var r=t.projectionFactor(e);return r<=0?n:r<=1?n+r*t.getLength():n+t.getLength()},interfaces_:function(){return[]},getClass:function(){return Go}}),Go.indexOf=function(t,e){return new Go(t).indexOf(e)},Go.indexOfAfter=function(t,e,n){return new Go(t).indexOfAfter(e,n)},Yo(Ho.prototype,{getLength:function(t){for(var e=0,n=new Fo(this._linearGeom);n.hasNext();){if(!n.isEndOfLine()){var r=n.getSegmentStart(),i=n.getSegmentEnd().distance(r);if(t.getComponentIndex()===n.getComponentIndex()&&t.getSegmentIndex()===n.getVertexIndex())return e+i*t.getSegmentFraction();e+=i}n.next()}return e},resolveHigher:function(t){if(!t.isEndpoint(this._linearGeom))return t;var e=t.getComponentIndex();if(e>=this._linearGeom.getNumGeometries()-1)return t;do{e++}while(e<this._linearGeom.getNumGeometries()-1&&0===this._linearGeom.getGeometryN(e).getLength());return new Do(e,0,0)},getLocation:function(){if(1===arguments.length){var t=arguments[0];return this.getLocation(t,!0)}if(2===arguments.length){var e=arguments[0],n=arguments[1],r=e;e<0&&(r=this._linearGeom.getLength()+e);var i=this.getLocationForward(r);return n?i:this.resolveHigher(i)}},getLocationForward:function(t){if(t<=0)return new Do;for(var e=0,n=new Fo(this._linearGeom);n.hasNext();){if(n.isEndOfLine()){if(e===t)return new Do(a=n.getComponentIndex(),s=n.getVertexIndex(),0)}else{var r=n.getSegmentStart(),i=n.getSegmentEnd().distance(r);if(e+i>t){var o=(t-e)/i,a=n.getComponentIndex(),s=n.getVertexIndex();return new Do(a,s,o)}e+=i}n.next()}return Do.getEndLocation(this._linearGeom)},interfaces_:function(){return[]},getClass:function(){return Ho}}),Ho.getLength=function(t,e){return new Ho(t).getLength(e)},Ho.getLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return(o=new Ho(t)).getLocation(e)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new Ho(n);return o.getLocation(r,i)}},Yo(qo.prototype,{clampIndex:function(t){var e=this.positiveIndex(t),n=this.getStartIndex();if(e<n)return n;var r=this.getEndIndex();return e>r?r:e},locationOf:function(){if(1===arguments.length){var t=arguments[0];return Ho.getLocation(this._linearGeom,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return Ho.getLocation(this._linearGeom,e,n)}},project:function(t){return Go.indexOf(this._linearGeom,t)},positiveIndex:function(t){return t>=0?t:this._linearGeom.getLength()+t},extractPoint:function(){if(1===arguments.length){var t=arguments[0];return(r=Ho.getLocation(this._linearGeom,t)).getCoordinate(this._linearGeom)}if(2===arguments.length){var e=arguments[0],n=arguments[1],r=Ho.getLocation(this._linearGeom,e),i=r.toLowest(this._linearGeom);return i.getSegment(this._linearGeom).pointAlongOffset(i.getSegmentFraction(),n)}},isValidIndex:function(t){return t>=this.getStartIndex()&&t<=this.getEndIndex()},getEndIndex:function(){return this._linearGeom.getLength()},getStartIndex:function(){return 0},indexOfAfter:function(t,e){return Go.indexOfAfter(this._linearGeom,t,e)},extractLine:function(t,e){new Vo(this._linearGeom);var n=this.clampIndex(t),r=this.clampIndex(e),i=n===r,o=this.locationOf(n,i),a=this.locationOf(r);return Bo.extract(this._linearGeom,o,a)},indexOf:function(t){return Go.indexOf(this._linearGeom,t)},indicesOf:function(t){var e=Uo.indicesOf(this._linearGeom,t);return[Ho.getLength(this._linearGeom,e[0]),Ho.getLength(this._linearGeom,e[1])]},interfaces_:function(){return[]},getClass:function(){return qo}});var Na=Object.freeze({LengthIndexedLine:qo,LengthLocationMap:Ho,LinearGeometryBuilder:zo,LinearIterator:Fo,LinearLocation:Do,LocationIndexedLine:Vo});Yo(Wo.prototype,{interfaces_:function(){return[]},getClass:function(){return Wo}}),Wo.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return gi.createEmptyResult(gi.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),pi.overlayOp(t,e,gi.UNION)},Yo(F.prototype,{equalsTopo:function(t){return!!this.getEnvelopeInternal().equals(t.getEnvelopeInternal())&&Fi.relate(this,t).isEquals(this.getDimension(),t.getDimension())},union:function(){if(0===arguments.length)return Vi.union(this);if(1===arguments.length){var t=arguments[0];return Wo.union(this,t)}},isValid:function(){return Xi.isValid(this)},intersection:function(t){if(this.isEmpty()||t.isEmpty())return gi.createEmptyResult(gi.INTERSECTION,this,t,this.factory);if(this.isGeometryCollection()){var e=t;return ri.map(this,{interfaces_:function(){return[MapOp]},map:function(t){return t.intersection(e)}})}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),pi.overlayOp(this,t,gi.INTERSECTION)},covers:function(t){return Fi.covers(this,t)},coveredBy:function(t){return Fi.coveredBy(this,t)},touches:function(t){return Fi.touches(this,t)},intersects:function(t){return Fi.intersects(this,t)},within:function(t){return Fi.within(this,t)},overlaps:function(t){return Fi.overlaps(this,t)},disjoint:function(t){return Fi.disjoint(this,t)},crosses:function(t){return Fi.crosses(this,t)},buffer:function(){if(1===arguments.length){var t=arguments[0];return kr.bufferOp(this,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return kr.bufferOp(this,e,n)}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];return kr.bufferOp(this,r,i,o)}},convexHull:function(){return new ne(this).getConvexHull()},relate:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===arguments.length){var r=arguments[0];return Fi.relate(this,r)}if(2===arguments.length){var i=arguments[0],o=arguments[1];return Fi.relate(this,i).matches(o)}},getCentroid:function(){if(this.isEmpty())return this._factory.createPoint();var t=Zt.getCentroid(this);return this.createPointFromInternalCoord(t,this)},getInteriorPoint:function(){if(this.isEmpty())return this._factory.createPoint();var t=null,e=this.getDimension();if(0===e)t=(n=new se(this)).getInteriorPoint();else if(1===e)t=(n=new ae(this)).getInteriorPoint();else{var n=new ie(this);t=n.getInteriorPoint()}return this.createPointFromInternalCoord(t,this)},symDifference:function(t){if(this.isEmpty()||t.isEmpty()){if(this.isEmpty()&&t.isEmpty())return gi.createEmptyResult(gi.SYMDIFFERENCE,this,t,this.factory);if(this.isEmpty())return t.copy();if(t.isEmpty())return this.copy()}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),pi.overlayOp(this,t,gi.SYMDIFFERENCE)},createPointFromInternalCoord:function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},toText:function(){return(new Gt).write(this)},toString:function(){this.toText()},contains:function(t){return Fi.contains(this,t)},difference:function(t){return this.isEmpty()?gi.createEmptyResult(gi.DIFFERENCE,this,t,this.factory):t.isEmpty()?this.copy():(this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),pi.overlayOp(this,t,gi.DIFFERENCE))},isSimple:function(){return new rr(this).isSimple()},isWithinDistance:function(t,e){return!(this.getEnvelopeInternal().distance(t.getEnvelopeInternal())>e)&&zr.isWithinDistance(this,t,e)},distance:function(t){return zr.distance(this,t)},isEquivalentClass:function(t){return this.getClass()===t.getClass()}}),t.version="1.5.0 (1307dbf)",t.algorithm=la,t.densify=ua,t.dissolve=ca,t.geom=sa,t.geomgraph=ha,t.index=ma,t.io=ba,t.noding=_a,t.operation=Aa,t.precision=Ia,t.simplify=Ra,t.triangulate=La,t.linearref=Na,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(3),m=n.n(p),g=n(0),v=n.n(g),y=n(24),b=(n.n(y),n(31)),_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),w=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var l=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return l.onToggleButton=l.onToggleButton.bind(l),l}return o(e,t),_(e,[{key:"onToggleButton",value:function(t){var e=this.props.onToggleButton;e&&e(t)}},{key:"renderSwitchButton",value:function(){var t=this,e=this.props,n=e.key,r=e.disabled,i=e.value,o="switch-button "+(i?"on":"off");return v.a.createElement(y.Button,{key:n,bsStyle:"primary",onClick:function(){return t.onToggleButton(!i)},className:o,disabled:r})}},{key:"render",value:function(){var t=this,e=this.props,n=e.labelOff,r=e.labelOn,i=e.disabled;return v.a.createElement("div",{className:"switchbutton"},v.a.createElement(y.Button,{onClick:function(){return t.onToggleButton(!1)},disabled:i},n),this.renderSwitchButton(),v.a.createElement(y.Button,{onClick:function(){return t.onToggleButton(!0)},disabled:i},r))}}]),e}(b.a);w.propTypes={key:m.a.string,disabled:m.a.bool,value:m.a.bool,labelOff:m.a.node,labelOn:m.a.node,onToggleButton:m.a.func},w.defaultProps={disabled:!1},e.a=w},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(3),m=n.n(p),g=n(0),v=n.n(g),y=n(24),b=(n.n(y),n(15)),_=(n.n(b),n(627)),w=n(31),x=n(620),E=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),M=function(t){function e(){return r(this,e),i(this,(e.__proto__||s()(e)).apply(this,arguments))}return o(e,t),E(e,[{key:"renderButton",value:function(t){var e=this.props;return v.a.createElement(y.Button,{key:t,onClick:function(n){return e.callback(t,n)}},v.a.createElement(b.FormattedMessage,x.a[t]))}},{key:"render",value:function(){var t=this.props,n=t.title,r=t.message,i=t.show,o=n,a=r,s=[];return t.yes&&s.push(this.renderButton(e.YES)),t.no&&s.push(this.renderButton(e.NO)),t.ok&&s.push(this.renderButton(e.OK)),t.apply&&s.push(this.renderButton(e.APPLY)),t.accept&&s.push(this.renderButton(e.ACCEPT)),t.reject&&s.push(this.renderButton(e.REJECT)),t.cancel&&s.push(this.renderButton(e.CANCEL)),v.a.createElement(_.a,{show:i,className:"dialog-modal"},v.a.createElement(_.a.Header,null,v.a.createElement(_.a.Title,null,o)),v.a.createElement(_.a.Body,null,a),v.a.createElement(_.a.Footer,null,s))}}]),e}(w.a);M.YES="yes",M.NO="no",M.OK="ok",M.APPLY="apply",M.ACCEPT="accept",M.REJECT="reject",M.CANCEL="cancel",M.propTypes={yes:m.a.bool,no:m.a.bool,ok:m.a.bool,apply:m.a.bool,accept:m.a.bool,reject:m.a.bool,cancel:m.a.bool,show:m.a.bool,message:m.a.string,title:m.a.string,callback:m.a.func.isRequired},M.defaultProps={show:!0},e.a=M},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=u()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(s.a?s()(t,e):t.__proto__=e)}var a=n(6),s=n.n(a),l=n(5),u=n.n(l),c=n(7),f=n.n(c),h=n(51),d=n.n(h),p=n(1),m=n.n(p),g=n(4),v=n.n(g),y=n(3),b=n.n(y),_=n(0),w=n.n(_),x=n(24),E=(n.n(x),v.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),M=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),m()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),S=function t(e,n,r){null===e&&(e=Function.prototype);var i=d()(e,n);if(void 0===i){var o=f()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},T=function(t){function e(){return r(this,e),i(this,(e.__proto__||f()(e)).apply(this,arguments))}return o(e,t),M(e,[{key:"render",value:function(){S(e.prototype.__proto__||f()(e.prototype),"render",this).call(this);var t=this.props,n=this.context.rootElement;return w.a.createElement(x.Modal,E({},t,{container:n}),this.props.children)}}]),e}(x.Modal);T.contextTypes={rootElement:b.a.object,intl:b.a.object},e.a=T},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(18),m=n.n(p),g=n(629),v=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),y=function(t){function e(){return r(this,e),i(this,(e.__proto__||s()(e)).apply(this,arguments))}return o(e,t),v(e,[{key:"_buildStyle",value:function(t){var e=t.name,n=t.rgba;return{name:e,color:n,style:new m.a.style.Style({fill:new m.a.style.Fill({color:n}),stroke:new m.a.style.Stroke({color:n,width:.2})})}}},{key:"getColorStyle",value:function(t){var e=this.getColor(t);return this._buildStyle(e)}}]),e}(g.a);e.a=y},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return a()(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(30),a=n.n(o),s=n(1),l=n.n(s),u=n(110),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=function(){function t(){i(this,t),this._colors=u.f.map(function(t){return{name:t.name,rgba:[].concat(r(t.rgb),[.5]),hex:u.b[t.name.slice(4)]}}),this._availableColors=new Array(this._colors.length).fill(!0)}return c(t,[{key:"getColor",value:function(t){var e=this._availableColors,n=this._colors,r=void 0;return r=t&&e[t]?t:e.indexOf(!0),r<0&&(r=0),e[r]=!1,n[r]}},{key:"releaseColor",value:function(t){for(var e=this._availableColors,n=this._colors,r=0,i=n.length;r<i;++r)if(n[r].name===t){e[r]=!0;break}}}]),t}();e.a=f},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new f.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return f.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(t){var e=!0,n=!1,r=void 0;try{for(var i,o=s()(y);!(e=(i=o.next()).done);e=!0){var a=i.value;if(a.wid===t)return a}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}return null}function o(t,e){if(!t)throw new Error("We need a window ID (wid)!");var n=i(t);n?(d()(n,e),n.reject&&"function"==typeof n.reject?(n.reject(n.rejectReason),n.reject=null,n.rejectReason=null):n.component&&n.resolve&&"function"==typeof n.resolve&&(n.resolve(n.component),n.resolve=null)):(y.push(v({wid:t},e)),m.viewerAdded(e))}n.d(e,"c",function(){return b}),e.b=i,e.d=o;var a=n(17),s=n.n(a),l=n(21),u=n.n(l),c=n(19),f=n.n(c),h=n(4),d=n.n(h),p=n(203),m=n(347),g=n(219);n.d(e,"a",function(){return g.a});var v=d.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y=[],b=function(){var t=r(u.a.mark(function t(e,n){var r,i,a,l,c,h,d,m;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Object(p.n)(),t.next=3,p.a.viewermanager.openViewer(e,n);case 3:for(r=t.sent,i=[],a=!0,l=!1,c=void 0,t.prev=8,h=function(){var t=m.value;t&&t.wid&&i.push(new f.a(function(e,n){o(t.wid,{resolve:e}),setTimeout(function(){o(t.wid,{reject:n,rejectReason:"Creating component took too long!"})},1e3)}))},d=s()(r);!(a=(m=d.next()).done);a=!0)h();t.next=17;break;case 13:t.prev=13,t.t0=t.catch(8),l=!0,c=t.t0;case 17:t.prev=17,t.prev=18,!a&&d.return&&d.return();case 20:if(t.prev=20,!l){t.next=23;break}throw c;case 23:return t.finish(20);case 24:return t.finish(17);case 25:return t.abrupt("return",f.a.all(i));case 26:case"end":return t.stop()}},t,this,[[8,13,17,25],[18,,20,24]])}));return function(e,n){return t.apply(this,arguments)}}()},function(t,e){function n(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var o=r(i);return[n].concat(i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"})).concat([o]).join("\n")}return[n].join("\n")}function r(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=n(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"MEASUREMENT_CHANGED",function(){return r});var r="MEASUREMENT_CHANGED"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"VIEWER_ADDED",function(){return r}),n.d(e,"VIEWER_REMOVED",function(){return i});var r="VIEWER_ADDED",i="VIEWER_REMOVED"},function(t,e,n){"use strict";function r(t,e){if(!(this instanceof r))return new r(t,e);this.files={},this.comment=null,this.root="",t&&this.load(t,e),this.clone=function(){var t=new r;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}var i=n(394);r.prototype=n(395),r.prototype.load=n(1488),r.support=n(181),r.defaults=n(641),r.utils=n(1492),r.base64={encode:function(t){return i.encode(t)},decode:function(t){return i.decode(t)}},r.compressions=n(396),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){a=n>2e3?2e3:n,n-=a;do{i=i+e[r++]|0,o=o+i|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=i,a=r+n;t^=-1;for(var s=r;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=r},function(t,e,n){"use strict";function r(t,e){if(e<65537&&(t.subarray&&a||!t.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}var i=n(127),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var s=new i.Buf8(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;s[254]=s[254]=1,e.string2buf=function(t){var e,n,r,o,a,s=t.length,l=0;for(o=0;o<s;o++)n=t.charCodeAt(o),55296==(64512&n)&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(l),a=0,o=0;a<l;o++)n=t.charCodeAt(o),55296==(64512&n)&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},e.buf2binstring=function(t){return r(t,t.length)},e.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,i,o,a,l=e||t.length,u=new Array(2*l);for(i=0,n=0;n<l;)if((o=t[n++])<128)u[i++]=o;else if((a=s[o])>4)u[i++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&n<l;)o=o<<6|63&t[n++],a--;a>1?u[i++]=65533:o<65536?u[i++]=o:(o-=65536,u[i++]=55296|o>>10&1023,u[i++]=56320|1023&o)}return r(u,i)},e.utf8border=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+s[t[n]]>e?n:e}},function(t,e,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\b"},function(t,e,n){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!1,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},function(t,e,n){"use strict";function r(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}r.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},t.exports=r},function(t,e,n){"use strict";for(var r=n(93),i=n(181),o=n(398),a=new Array(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;a[254]=a[254]=1;var l=function(t){var e,n,r,o,a,s=t.length,l=0;for(o=0;o<s;o++)n=t.charCodeAt(o),55296==(64512&n)&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=i.uint8array?new Uint8Array(l):new Array(l),a=0,o=0;a<l;o++)n=t.charCodeAt(o),55296==(64512&n)&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},u=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+a[t[n]]>e?n:e},c=function(t){var e,n,i,o,s=t.length,l=new Array(2*s);for(n=0,e=0;e<s;)if((i=t[e++])<128)l[n++]=i;else if((o=a[i])>4)l[n++]=65533,e+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&e<s;)i=i<<6|63&t[e++],o--;o>1?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),r.applyFromCharCode(l)};e.utf8encode=function(t){return i.nodebuffer?o(t,"utf-8"):l(t)},e.utf8decode=function(t){if(i.nodebuffer)return r.transformTo("nodebuffer",t).toString("utf-8");t=r.transformTo(i.uint8array?"uint8array":"array",t);for(var e=[],n=0,o=t.length;n<o;){var a=u(t,Math.min(n+65536,o));i.uint8array?e.push(c(t.subarray(n,a))):e.push(c(t.slice(n,a))),n=a}return e.join("")}},function(t,e,n){"use strict";function r(t,e){this.data=t,e||(this.data=o.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}var i=n(645),o=n(93);r.prototype=new i,r.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},r.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";function r(t){this.data=null,this.length=0,this.index=0,this.zero=0}var i=n(93);r.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)}},t.exports=r},function(t,e,n){"use strict";function r(t){t&&(this.data=t,this.length=this.data.length,this.index=0,this.zero=0)}var i=n(647);r.prototype=new i,r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";function r(t){if(t){this.data=t,this.length=this.data.length,this.index=0,this.zero=0;for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}}var i=n(645);r.prototype=new i,r.prototype.byteAt=function(t){return this.data[this.zero+t]},r.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";function r(){}function i(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,t!==r&&l(this,t)}function o(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(t,e,n){p(function(){var r;try{r=e(n)}catch(e){return m.reject(t,e)}r===t?m.reject(t,new TypeError("Cannot resolve promise with itself")):m.resolve(t,r)})}function s(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function l(t,e){function n(e){o||(o=!0,m.reject(t,e))}function r(e){o||(o=!0,m.resolve(t,e))}function i(){e(r,n)}var o=!1,a=u(i);"error"===a.status&&n(a.value)}function u(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}function c(t){return t instanceof this?t:m.resolve(new this(r),t)}function f(t){var e=new this(r);return m.reject(e,t)}function h(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var o=new Array(n),a=0,s=-1,l=new this(r);++s<n;)!function(t,r){function s(t){o[r]=t,++a!==n||i||(i=!0,m.resolve(l,o))}e.resolve(t).then(s,function(t){i||(i=!0,m.reject(l,t))})}(t[s],s);return l}function d(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var o=-1,a=new this(r);++o<n;)!function(t){e.resolve(t).then(function(t){i||(i=!0,m.resolve(a,t))},function(t){i||(i=!0,m.reject(a,t))})}(t[o]);return a}var p=n(1496),m={},g=["REJECTED"],v=["FULFILLED"],y=["PENDING"];t.exports=i,i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){if("function"!=typeof t&&this.state===v||"function"!=typeof e&&this.state===g)return this;var n=new this.constructor(r);if(this.state!==y){a(n,this.state===v?t:e,this.outcome)}else this.queue.push(new o(n,t,e));return n},o.prototype.callFulfilled=function(t){m.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){a(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){m.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){a(this.promise,this.onRejected,t)},m.resolve=function(t,e){var n=u(s,e);if("error"===n.status)return m.reject(t,n.value);var r=n.value;if(r)l(t,r);else{t.state=v,t.outcome=e;for(var i=-1,o=t.queue.length;++i<o;)t.queue[i].callFulfilled(e)}return t},m.reject=function(t,e){t.state=g,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},i.resolve=c,i.reject=f,i.all=h,i.race=d},function(t,e,n){n(399),n(851),n(434),n(854),t.exports=n(347)},function(t,e,n){n(651),n(653),n(654),n(655),n(656),n(657),n(658),n(659),n(660),n(661),n(662),n(663),n(664),n(665),n(666),n(667),n(669),n(670),n(671),n(672),n(673),n(674),n(675),n(676),n(677),n(678),n(679),n(680),n(681),n(682),n(683),n(684),n(685),n(686),n(687),n(688),n(689),n(690),n(691),n(692),n(693),n(694),n(695),n(696),n(697),n(698),n(699),n(700),n(701),n(702),n(703),n(704),n(705),n(706),n(707),n(708),n(709),n(710),n(711),n(712),n(713),n(714),n(715),n(716),n(717),n(718),n(719),n(720),n(721),n(722),n(723),n(724),n(725),n(726),n(727),n(728),n(729),n(731),n(732),n(734),n(735),n(736),n(737),n(738),n(739),n(740),n(742),n(743),n(744),n(745),n(746),n(747),n(748),n(749),n(750),n(751),n(752),n(753),n(754),n(302),n(755),n(756),n(418),n(757),n(758),n(759),n(760),n(761),n(421),n(423),n(424),n(762),n(763),n(764),n(765),n(766),n(767),n(768),n(769),n(770),n(771),n(772),n(773),n(774),n(775),n(776),n(777),n(778),n(779),n(780),n(781),n(782),n(783),n(784),n(785),n(786),n(787),n(788),n(789),n(790),n(791),n(792),n(793),n(794),n(795),n(796),n(797),n(798),n(799),n(800),n(801),n(802),n(803),n(804),n(805),n(806),n(807),n(808),n(809),n(810),n(811),n(812),n(813),n(814),n(815),n(816),n(817),n(818),n(819),n(820),n(821),n(822),n(823),n(824),n(825),n(826),n(827),n(828),n(829),n(830),n(831),n(832),n(833),n(834),n(835),n(836),n(837),n(838),n(839),n(840),n(841),n(842),n(843),n(844),n(845),n(846),t.exports=n(94)},function(t,e,n){"use strict";var r=n(25),i=n(65),o=n(42),a=n(2),s=n(67),l=n(114).KEY,u=n(29),c=n(221),f=n(154),h=n(129),d=n(38),p=n(401),m=n(282),g=n(652),v=n(224),y=n(22),b=n(32),_=n(72),w=n(95),x=n(128),E=n(133),M=n(404),S=n(73),T=n(43),C=n(131),O=S.f,A=T.f,I=M.f,R=r.Symbol,P=r.JSON,L=P&&P.stringify,N=d("_hidden"),k=d("toPrimitive"),D={}.propertyIsEnumerable,F=c("symbol-registry"),j=c("symbols"),U=c("op-symbols"),z=Object.prototype,B="function"==typeof R,V=r.QObject,G=!V||!V.prototype||!V.prototype.findChild,H=o&&u(function(){return 7!=E(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=O(z,e);r&&delete z[e],A(t,e,n),r&&t!==z&&A(z,e,r)}:A,q=function(t){var e=j[t]=E(R.prototype);return e._k=t,e},W=B&&"symbol"==typeof R.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof R},Y=function(t,e,n){return t===z&&Y(U,e,n),y(t),e=w(e,!0),y(n),i(j,e)?(n.enumerable?(i(t,N)&&t[N][e]&&(t[N][e]=!1),n=E(n,{enumerable:x(0,!1)})):(i(t,N)||A(t,N,x(1,{})),t[N][e]=!0),H(t,e,n)):A(t,e,n)},X=function(t,e){y(t);for(var n,r=g(e=_(e)),i=0,o=r.length;o>i;)Y(t,n=r[i++],e[n]);return t},Z=function(t,e){return void 0===e?E(t):X(E(t),e)},K=function(t){var e=D.call(this,t=w(t,!0));return!(this===z&&i(j,t)&&!i(U,t))&&(!(e||!i(this,t)||!i(j,t)||i(this,N)&&this[N][t])||e)},Q=function(t,e){if(t=_(t),e=w(e,!0),t!==z||!i(j,e)||i(U,e)){var n=O(t,e);return!n||!i(j,e)||i(t,N)&&t[N][e]||(n.enumerable=!0),n}},J=function(t){for(var e,n=I(_(t)),r=[],o=0;n.length>o;)i(j,e=n[o++])||e==N||e==l||r.push(e);return r},$=function(t){for(var e,n=t===z,r=I(n?U:_(t)),o=[],a=0;r.length>a;)!i(j,e=r[a++])||n&&!i(z,e)||o.push(j[e]);return o};B||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===z&&e.call(U,n),i(this,N)&&i(this[N],t)&&(this[N][t]=!1),H(this,t,x(1,n))};return o&&G&&H(z,t,{configurable:!0,set:e}),q(t)},s(R.prototype,"toString",function(){return this._k}),S.f=Q,T.f=Y,n(134).f=M.f=J,n(183).f=K,n(223).f=$,o&&!n(130)&&s(z,"propertyIsEnumerable",K,!0),p.f=function(t){return q(d(t))}),a(a.G+a.W+a.F*!B,{Symbol:R});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)d(tt[et++]);for(var nt=C(d.store),rt=0;nt.length>rt;)m(nt[rt++]);a(a.S+a.F*!B,"Symbol",{for:function(t){return i(F,t+="")?F[t]:F[t]=R(t)},keyFor:function(t){if(!W(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!B,"Object",{create:Z,defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:Q,getOwnPropertyNames:J,getOwnPropertySymbols:$}),P&&a(a.S+a.F*(!B||u(function(){var t=R();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!W(t))return v(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!W(e))return e}),r[1]=e,L.apply(P,r)}}),R.prototype[k]||n(66)(R.prototype,k,R.prototype.valueOf),f(R,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){var r=n(131),i=n(223),o=n(183);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),l=o.f,u=0;s.length>u;)l.call(t,a=s[u++])&&e.push(a);return e}},function(t,e,n){var r=n(2);r(r.S,"Object",{create:n(133)})},function(t,e,n){var r=n(2);r(r.S+r.F*!n(42),"Object",{defineProperty:n(43).f})},function(t,e,n){var r=n(2);r(r.S+r.F*!n(42),"Object",{defineProperties:n(403)})},function(t,e,n){var r=n(72),i=n(73).f;n(98)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){var r=n(47),i=n(74);n(98)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(47),i=n(131);n(98)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){n(98)("getOwnPropertyNames",function(){return n(404).f})},function(t,e,n){var r=n(32),i=n(114).onFreeze;n(98)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(32),i=n(114).onFreeze;n(98)("seal",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(32),i=n(114).onFreeze;n(98)("preventExtensions",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(32);n(98)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(32);n(98)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(32);n(98)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(t,e,n){var r=n(2);r(r.S+r.F,"Object",{assign:n(405)})},function(t,e,n){var r=n(2);r(r.S,"Object",{is:n(668)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var r=n(2);r(r.S,"Object",{setPrototypeOf:n(286).set})},function(t,e,n){"use strict";var r=n(184),i={};i[n(38)("toStringTag")]="z",i+""!="[object z]"&&n(67)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){var r=n(2);r(r.P,"Function",{bind:n(406)})},function(t,e,n){var r=n(43).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(42)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(32),i=n(74),o=n(38)("hasInstance"),a=Function.prototype;o in a||n(43).f(a,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(2),i=n(408);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(2),i=n(409);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,e,n){"use strict";var r=n(25),i=n(65),o=n(83),a=n(288),s=n(95),l=n(29),u=n(134).f,c=n(73).f,f=n(43).f,h=n(155).trim,d=r.Number,p=d,m=d.prototype,g="Number"==o(n(133)(m)),v="trim"in String.prototype,y=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():h(e,3);var n,r,i,o=e.charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,l=e.slice(2),u=0,c=l.length;u<c;u++)if((a=l.charCodeAt(u))<48||a>i)return NaN;return parseInt(l,r)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof d&&(g?l(function(){m.valueOf.call(n)}):"Number"!=o(n))?a(new p(y(e)),n,d):y(e)};for(var b,_=n(42)?u(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;_.length>w;w++)i(p,b=_[w])&&!i(d,b)&&f(d,b,c(p,b));d.prototype=m,m.constructor=d,n(67)(r,"Number",d)}},function(t,e,n){"use strict";var r=n(2),i=n(97),o=n(410),a=n(289),s=1..toFixed,l=Math.floor,u=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",f=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*u[n],u[n]=r%1e7,r=l(r/1e7)},h=function(t){for(var e=6,n=0;--e>=0;)n+=u[e],u[e]=l(n/t),n=n%t*1e7},d=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==u[t]){var n=String(u[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e},p=function(t,e,n){return 0===e?n:e%2==1?p(t,e-1,n*t):p(t*t,e/2,n)},m=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(29)(function(){s.call({})})),"Number",{toFixed:function(t){var e,n,r,s,l=o(this,c),u=i(t),g="",v="0";if(u<0||u>20)throw RangeError(c);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(g="-",l=-l),l>1e-21)if(e=m(l*p(2,69,1))-69,n=e<0?l*p(2,-e,1):l/p(2,e,1),n*=4503599627370496,(e=52-e)>0){for(f(0,n),r=u;r>=7;)f(1e7,0),r-=7;for(f(p(10,r,1),0),r=e-1;r>=23;)h(1<<23),r-=23;h(1<<r),f(1,1),h(2),v=d()}else f(0,n),f(1<<-e,0),v=d()+a.call("0",u);return u>0?(s=v.length,v=g+(s<=u?"0."+a.call("0",u-s)+v:v.slice(0,s-u)+"."+v.slice(s-u))):v=g+v,v}})},function(t,e,n){"use strict";var r=n(2),i=n(29),o=n(410),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,n){var r=n(2);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(2),i=n(25).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){var r=n(2);r(r.S,"Number",{isInteger:n(411)})},function(t,e,n){var r=n(2);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(2),i=n(411),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){var r=n(2);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(2);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(2),i=n(409);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,n){var r=n(2),i=n(408);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,n){var r=n(2),i=n(412),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,e,n){function r(t){return isFinite(t=+t)&&0!=t?t<0?-r(-t):Math.log(t+Math.sqrt(t*t+1)):t}var i=n(2),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:r})},function(t,e,n){var r=n(2),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(2),i=n(290);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(2);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(2),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var r=n(2),i=n(291);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e,n){var r=n(2);r(r.S,"Math",{fround:n(413)})},function(t,e,n){var r=n(2),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,a=0,s=arguments.length,l=0;a<s;)n=i(arguments[a++]),l<n?(r=l/n,o=o*r*r+1,l=n):n>0?(r=n/l,o+=r*r):o+=n;return l===1/0?1/0:l*Math.sqrt(o)}})},function(t,e,n){var r=n(2),i=Math.imul;r(r.S+r.F*n(29)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(2);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(2);r(r.S,"Math",{log1p:n(412)})},function(t,e,n){var r=n(2);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(2);r(r.S,"Math",{sign:n(290)})},function(t,e,n){var r=n(2),i=n(291),o=Math.exp;r(r.S+r.F*n(29)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(2),i=n(291),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var r=n(2);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(2),i=n(132),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(2),i=n(72),o=n(44);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){"use strict";n(155)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var r=n(292)(!0);n(293)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var r=n(2),i=n(292)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(2),i=n(44),o=n(295),a="".endsWith;r(r.P+r.F*n(296)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),s=void 0===n?r:Math.min(i(n),r),l=String(t);return a?a.call(e,l,s):e.slice(s-l.length,s)===l}})},function(t,e,n){"use strict";var r=n(2),i=n(295);r(r.P+r.F*n(296)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(2);r(r.P,"String",{repeat:n(289)})},function(t,e,n){"use strict";var r=n(2),i=n(44),o=n(295),a="".startsWith;r(r.P+r.F*n(296)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return a?a.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";n(68)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){"use strict";n(68)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(68)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(68)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(68)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(68)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(68)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){"use strict";n(68)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(68)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){"use strict";n(68)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(68)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(68)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(68)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){var r=n(2);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(2),i=n(47),o=n(95);r(r.P+r.F*n(29)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var r=n(2),i=n(730);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,e,n){"use strict";var r=n(29),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(t,e,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(67)(r,"toString",function(){var t=o.call(this);return t===t?i.call(this):"Invalid Date"})},function(t,e,n){var r=n(38)("toPrimitive"),i=Date.prototype;r in i||n(66)(i,r,n(733))},function(t,e,n){"use strict";var r=n(22),i=n(95);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),"number"!=t)}},function(t,e,n){var r=n(2);r(r.S,"Array",{isArray:n(224)})},function(t,e,n){"use strict";var r=n(82),i=n(2),o=n(47),a=n(414),s=n(297),l=n(44),u=n(298),c=n(299);i(i.S+i.F*!n(226)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,f,h=o(t),d="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,v=0,y=c(h);if(g&&(m=r(m,p>2?arguments[2]:void 0,2)),void 0==y||d==Array&&s(y))for(e=l(h.length),n=new d(e);e>v;v++)u(n,v,g?m(h[v],v):h[v]);else for(f=y.call(h),n=new d;!(i=f.next()).done;v++)u(n,v,g?a(f,m,[i.value,v],!0):i.value);return n.length=v,n}})},function(t,e,n){"use strict";var r=n(2),i=n(298);r(r.S+r.F*n(29)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(2),i=n(72),o=[].join;r(r.P+r.F*(n(182)!=Object||!n(84)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(2),i=n(285),o=n(83),a=n(132),s=n(44),l=[].slice;r(r.P+r.F*n(29)(function(){i&&l.call(i)}),"Array",{slice:function(t,e){var n=s(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return l.call(this,t,e);for(var i=a(t,n),u=a(e,n),c=s(u-i),f=new Array(c),h=0;h<c;h++)f[h]="String"==r?this.charAt(i+h):this[i+h];return f}})},function(t,e,n){"use strict";var r=n(2),i=n(57),o=n(47),a=n(29),s=[].sort,l=[1,2,3];r(r.P+r.F*(a(function(){l.sort(void 0)})||!a(function(){l.sort(null)})||!n(84)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),i(t))}})},function(t,e,n){"use strict";var r=n(2),i=n(99)(0),o=n(84)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(32),i=n(224),o=n(38)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(2),i=n(99)(1);r(r.P+r.F*!n(84)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(2),i=n(99)(2);r(r.P+r.F*!n(84)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(2),i=n(99)(3);r(r.P+r.F*!n(84)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(2),i=n(99)(4);r(r.P+r.F*!n(84)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(2),i=n(415);r(r.P+r.F*!n(84)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var r=n(2),i=n(415);r(r.P+r.F*!n(84)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(2),i=n(222)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(84)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(2),i=n(72),o=n(97),a=n(44),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(l||!n(84)(s)),"Array",{lastIndexOf:function(t){if(l)return s.apply(this,arguments)||0;var e=i(this),n=a(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){var r=n(2);r(r.P,"Array",{copyWithin:n(416)}),n(115)("copyWithin")},function(t,e,n){var r=n(2);r(r.P,"Array",{fill:n(301)}),n(115)("fill")},function(t,e,n){"use strict";var r=n(2),i=n(99)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(115)("find")},function(t,e,n){"use strict";var r=n(2),i=n(99)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(115)(o)},function(t,e,n){n(135)("Array")},function(t,e,n){var r=n(25),i=n(288),o=n(43).f,a=n(134).f,s=n(225),l=n(227),u=r.RegExp,c=u,f=u.prototype,h=/a/g,d=/a/g,p=new u(h)!==h;if(n(42)&&(!p||n(29)(function(){return d[n(38)("match")]=!1,u(h)!=h||u(d)==d||"/a/i"!=u(h,"i")}))){u=function(t,e){var n=this instanceof u,r=s(t),o=void 0===e;return!n&&r&&t.constructor===u&&o?t:i(p?new c(r&&!o?t.source:t,e):c((r=t instanceof u)?t.source:t,r&&o?l.call(t):e),n?this:f,u)};for(var m=a(c),g=0;m.length>g;)!function(t){t in u||o(u,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})}(m[g++]);f.constructor=u,u.prototype=f,n(67)(r,"RegExp",u)}n(135)("RegExp")},function(t,e,n){"use strict";n(418);var r=n(22),i=n(227),o=n(42),a=/./.toString,s=function(t){n(67)(RegExp.prototype,"toString",t,!0)};n(29)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(t,e,n){n(228)("match",1,function(t,e,n){return[function(n){"use strict";var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},n]})},function(t,e,n){n(228)("replace",2,function(t,e,n){return[function(r,i){"use strict";var o=t(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},n]})},function(t,e,n){n(228)("search",1,function(t,e,n){return[function(n){"use strict";var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},n]})},function(t,e,n){n(228)("split",2,function(t,e,r){"use strict";var i=n(225),o=r,a=[].push,s="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[s]||2!="ab".split(/(?:ab)*/)[s]||4!=".".split(/(.?)(.?)/)[s]||".".split(/()()/)[s]>1||"".split(/.?/)[s]){var l=void 0===/()??/.exec("")[1];r=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!i(t))return o.call(n,t,e);var r,u,c,f,h,d=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,g=void 0===e?4294967295:e>>>0,v=new RegExp(t.source,p+"g");for(l||(r=new RegExp("^"+v.source+"$(?!\\s)",p));(u=v.exec(n))&&!((c=u.index+u[0][s])>m&&(d.push(n.slice(m,u.index)),!l&&u[s]>1&&u[0].replace(r,function(){for(h=1;h<arguments[s]-2;h++)void 0===arguments[h]&&(u[h]=void 0)}),u[s]>1&&u.index<n[s]&&a.apply(d,u.slice(1)),f=u[0][s],m=c,d[s]>=g));)v.lastIndex===u.index&&v.lastIndex++;return m===n[s]?!f&&v.test("")||d.push(""):d.push(n.slice(m)),d[s]>g?d.slice(0,g):d}}else"0".split(void 0,0)[s]&&(r=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function(n,i){var o=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,o,i):r.call(String(o),n,i)},r]})},function(t,e,n){"use strict";var r,i,o,a,s=n(130),l=n(25),u=n(82),c=n(184),f=n(2),h=n(32),d=n(57),p=n(136),m=n(137),g=n(229),v=n(303).set,y=n(304)(),b=n(305),_=n(419),w=n(420),x=l.TypeError,E=l.process,M=l.Promise,S="process"==c(E),T=function(){},C=i=b.f,O=!!function(){try{var t=M.resolve(1),e=(t.constructor={})[n(38)("species")]=function(t){t(T,T)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(T)instanceof e}catch(t){}}(),A=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},I=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var r=t._v,i=1==t._s,o=0;n.length>o;)!function(e){var n,o,a=i?e.ok:e.fail,s=e.resolve,l=e.reject,u=e.domain;try{a?(i||(2==t._h&&L(t),t._h=1),!0===a?n=r:(u&&u.enter(),n=a(r),u&&u.exit()),n===e.promise?l(x("Promise-chain cycle")):(o=A(n))?o.call(n,s,l):s(n)):l(r)}catch(t){l(t)}}(n[o++]);t._c=[],t._n=!1,e&&!t._h&&R(t)})}},R=function(t){v.call(l,function(){var e,n,r,i=t._v,o=P(t);if(o&&(e=_(function(){S?E.emit("unhandledRejection",i,t):(n=l.onunhandledrejection)?n({promise:t,reason:i}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=S||P(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},P=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,r=0;n.length>r;)if(e=n[r++],e.fail||!P(e.promise))return!1;return!0},L=function(t){v.call(l,function(){var e;S?E.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},N=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),I(e,!0))},k=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw x("Promise can't be resolved itself");(e=A(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,u(k,r,1),u(N,r,1))}catch(t){N.call(r,t)}}):(n._v=t,n._s=1,I(n,!1))}catch(t){N.call({_w:n,_d:!1},t)}}};O||(M=function(t){p(this,M,"Promise","_h"),d(t),r.call(this);try{t(u(k,this,1),u(N,this,1))}catch(t){N.call(this,t)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(138)(M.prototype,{then:function(t,e){var n=C(g(this,M));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=S?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=u(k,t,1),this.reject=u(N,t,1)},b.f=C=function(t){return t===M||t===a?new o(t):i(t)}),f(f.G+f.W+f.F*!O,{Promise:M}),n(154)(M,"Promise"),n(135)("Promise"),a=n(94).Promise,f(f.S+f.F*!O,"Promise",{reject:function(t){var e=C(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!O),"Promise",{resolve:function(t){return w(s&&this===a?M:this,t)}}),f(f.S+f.F*!(O&&n(226)(function(t){M.all(t).catch(T)})),"Promise",{all:function(t){var e=this,n=C(e),r=n.resolve,i=n.reject,o=_(function(){var n=[],o=0,a=1;m(t,!1,function(t){var s=o++,l=!1;n.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=C(e),r=n.reject,i=_(function(){m(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e,n){"use strict";var r=n(425),i=n(157);n(230)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"WeakSet"),t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(2),i=n(231),o=n(306),a=n(22),s=n(132),l=n(44),u=n(32),c=n(25).ArrayBuffer,f=n(229),h=o.ArrayBuffer,d=o.DataView,p=i.ABV&&c.isView,m=h.prototype.slice,g=i.VIEW;r(r.G+r.W+r.F*(c!==h),{ArrayBuffer:h}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(t){return p&&p(t)||u(t)&&g in t}}),r(r.P+r.U+r.F*n(29)(function(){return!new h(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==m&&void 0===e)return m.call(a(this),t);for(var n=a(this).byteLength,r=s(t,n),i=s(void 0===e?n:e,n),o=new(f(this,h))(l(i-r)),u=new d(this),c=new d(o),p=0;r<i;)c.setUint8(p++,u.getUint8(r++));return o}}),n(135)("ArrayBuffer")},function(t,e,n){var r=n(2);r(r.G+r.W+r.F*!n(231).ABV,{DataView:n(306).DataView})},function(t,e,n){n(106)("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(106)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(106)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0)},function(t,e,n){n(106)("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(106)("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(106)("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(106)("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(106)("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(106)("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){var r=n(2),i=n(57),o=n(22),a=(n(25).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(29)(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){var r=i(t),l=o(n);return a?a(r,e,l):s.call(r,e,l)}})},function(t,e,n){var r=n(2),i=n(133),o=n(57),a=n(22),s=n(32),l=n(29),u=n(406),c=(n(25).Reflect||{}).construct,f=l(function(){function t(){}return!(c(function(){},[],t)instanceof t)}),h=!l(function(){c(function(){})});r(r.S+r.F*(f||h),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(h&&!f)return c(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(u.apply(t,r))}var l=n.prototype,d=i(s(l)?l:Object.prototype),p=Function.apply.call(t,d,e);return s(p)?p:d}})},function(t,e,n){var r=n(43),i=n(2),o=n(22),a=n(95);i(i.S+i.F*n(29)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(2),i=n(73).f,o=n(22);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var r=n(2),i=n(22),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(294)(o,"Object",function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){function r(t,e){var n,s,c=arguments.length<3?t:arguments[2];return u(t)===c?t[e]:(n=i.f(t,e))?a(n,"value")?n.value:void 0!==n.get?n.get.call(c):void 0:l(s=o(t))?r(s,e,c):void 0}var i=n(73),o=n(74),a=n(65),s=n(2),l=n(32),u=n(22);s(s.S,"Reflect",{get:r})},function(t,e,n){var r=n(73),i=n(2),o=n(22);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},function(t,e,n){var r=n(2),i=n(74),o=n(22);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){var r=n(2);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(2),i=n(22),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,e,n){var r=n(2);r(r.S,"Reflect",{ownKeys:n(427)})},function(t,e,n){var r=n(2),i=n(22),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){function r(t,e,n){var l,h,d=arguments.length<4?t:arguments[3],p=o.f(c(t),e);if(!p){if(f(h=a(t)))return r(h,e,n,d);p=u(0)}return s(p,"value")?!(!1===p.writable||!f(d))&&(l=o.f(d,e)||u(0),l.value=n,i.f(d,e,l),!0):void 0!==p.set&&(p.set.call(d,n),!0)}var i=n(43),o=n(73),a=n(74),s=n(65),l=n(2),u=n(128),c=n(22),f=n(32);l(l.S,"Reflect",{set:r})},function(t,e,n){var r=n(2),i=n(286);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){"use strict";var r=n(2),i=n(222)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(115)("includes")},function(t,e,n){"use strict";var r=n(2),i=n(428),o=n(47),a=n(44),s=n(57),l=n(300);r(r.P,"Array",{flatMap:function(t){var e,n,r=o(this);return s(t),e=a(r.length),n=l(r,0),i(n,r,r,e,0,1,t,arguments[1]),n}}),n(115)("flatMap")},function(t,e,n){"use strict";var r=n(2),i=n(428),o=n(47),a=n(44),s=n(97),l=n(300);r(r.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),n=a(e.length),r=l(e,0);return i(r,e,e,n,0,void 0===t?1:s(t)),r}}),n(115)("flatten")},function(t,e,n){"use strict";var r=n(2),i=n(292)(!0);r(r.P,"String",{at:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(2),i=n(429);r(r.P,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";var r=n(2),i=n(429);r(r.P,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";n(155)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";n(155)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){"use strict";var r=n(2),i=n(96),o=n(44),a=n(225),s=n(227),l=RegExp.prototype,u=function(t,e){this._r=t,this._s=e};n(294)(u,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),r(r.P,"String",{matchAll:function(t){if(i(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in l?String(t.flags):s.call(t),r=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(t.lastIndex),new u(r,e)}})},function(t,e,n){n(282)("asyncIterator")},function(t,e,n){n(282)("observable")},function(t,e,n){var r=n(2),i=n(427),o=n(72),a=n(73),s=n(298);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),l=a.f,u=i(r),c={},f=0;u.length>f;)void 0!==(n=l(r,e=u[f++]))&&s(c,e,n);return c}})},function(t,e,n){var r=n(2),i=n(430)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){var r=n(2),i=n(430)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){"use strict";var r=n(2),i=n(47),o=n(57),a=n(43);n(42)&&r(r.P+n(232),"Object",{__defineGetter__:function(t,e){a.f(i(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(2),i=n(47),o=n(57),a=n(43);n(42)&&r(r.P+n(232),"Object",{__defineSetter__:function(t,e){a.f(i(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(2),i=n(47),o=n(95),a=n(74),s=n(73).f;n(42)&&r(r.P+n(232),"Object",{__lookupGetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=s(n,r))return e.get}while(n=a(n))}})},function(t,e,n){"use strict";var r=n(2),i=n(47),o=n(95),a=n(74),s=n(73).f;n(42)&&r(r.P+n(232),"Object",{__lookupSetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=s(n,r))return e.set}while(n=a(n))}})},function(t,e,n){var r=n(2);r(r.P+r.R,"Map",{toJSON:n(431)("Map")})},function(t,e,n){var r=n(2);r(r.P+r.R,"Set",{toJSON:n(431)("Set")})},function(t,e,n){n(233)("Map")},function(t,e,n){n(233)("Set")},function(t,e,n){n(233)("WeakMap")},function(t,e,n){n(233)("WeakSet")},function(t,e,n){n(234)("Map")},function(t,e,n){n(234)("Set")},function(t,e,n){n(234)("WeakMap")},function(t,e,n){n(234)("WeakSet")},function(t,e,n){var r=n(2);r(r.G,{global:n(25)})},function(t,e,n){var r=n(2);r(r.S,"System",{global:n(25)})},function(t,e,n){var r=n(2),i=n(83);r(r.S,"Error",{isError:function(t){return"Error"===i(t)}})},function(t,e,n){var r=n(2);r(r.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){var r=n(2);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var r=n(2),i=180/Math.PI;r(r.S,"Math",{degrees:function(t){return t*i}})},function(t,e,n){var r=n(2),i=n(433),o=n(413);r(r.S,"Math",{fscale:function(t,e,n,r,a){return o(i(t,e,n,r,a))}})},function(t,e,n){var r=n(2);r(r.S,"Math",{iaddh:function(t,e,n,r){var i=t>>>0,o=e>>>0,a=n>>>0;return o+(r>>>0)+((i&a|(i|a)&~(i+a>>>0))>>>31)|0}})},function(t,e,n){var r=n(2);r(r.S,"Math",{isubh:function(t,e,n,r){var i=t>>>0,o=e>>>0,a=n>>>0;return o-(r>>>0)-((~i&a|~(i^a)&i-a>>>0)>>>31)|0}})},function(t,e,n){var r=n(2);r(r.S,"Math",{imulh:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r,a=n>>16,s=r>>16,l=(a*o>>>0)+(i*o>>>16);return a*s+(l>>16)+((i*s>>>0)+(65535&l)>>16)}})},function(t,e,n){var r=n(2);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var r=n(2),i=Math.PI/180;r(r.S,"Math",{radians:function(t){return t*i}})},function(t,e,n){var r=n(2);r(r.S,"Math",{scale:n(433)})},function(t,e,n){var r=n(2);r(r.S,"Math",{umulh:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r,a=n>>>16,s=r>>>16,l=(a*o>>>0)+(i*o>>>16);return a*s+(l>>>16)+((i*s>>>0)+(65535&l)>>>16)}})},function(t,e,n){var r=n(2);r(r.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,n){"use strict";var r=n(2),i=n(94),o=n(25),a=n(229),s=n(420);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(2),i=n(305),o=n(419);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){var r=n(107),i=n(22),o=r.key,a=r.set;r.exp({defineMetadata:function(t,e,n,r){a(t,e,i(n),o(r))}})},function(t,e,n){var r=n(107),i=n(22),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),r=a(i(e),n,!1);if(void 0===r||!r.delete(t))return!1;if(r.size)return!0;var l=s.get(e);return l.delete(n),!!l.size||s.delete(e)}})},function(t,e,n){var r=n(107),i=n(22),o=n(74),a=r.has,s=r.get,l=r.key,u=function(t,e,n){if(a(t,e,n))return s(t,e,n);var r=o(e);return null!==r?u(t,r,n):void 0};r.exp({getMetadata:function(t,e){return u(t,i(e),arguments.length<3?void 0:l(arguments[2]))}})},function(t,e,n){var r=n(423),i=n(432),o=n(107),a=n(22),s=n(74),l=o.keys,u=o.key,c=function(t,e){var n=l(t,e),o=s(t);if(null===o)return n;var a=c(o,e);return a.length?n.length?i(new r(n.concat(a))):a:n};o.exp({getMetadataKeys:function(t){return c(a(t),arguments.length<2?void 0:u(arguments[1]))}})},function(t,e,n){var r=n(107),i=n(22),o=r.get,a=r.key;r.exp({getOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(107),i=n(22),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(t){return o(i(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,n){var r=n(107),i=n(22),o=n(74),a=r.has,s=r.key,l=function(t,e,n){if(a(t,e,n))return!0;var r=o(e);return null!==r&&l(t,r,n)};r.exp({hasMetadata:function(t,e){return l(t,i(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var r=n(107),i=n(22),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(107),i=n(22),o=n(57),a=r.key,s=r.set;r.exp({metadata:function(t,e){return function(n,r){s(t,e,(void 0!==r?i:o)(n),a(r))}}})},function(t,e,n){var r=n(2),i=n(304)(),o=n(25).process,a="process"==n(83)(o);r(r.G,{asap:function(t){var e=a&&o.domain;i(e?e.bind(t):t)}})},function(t,e,n){"use strict";var r=n(2),i=n(25),o=n(94),a=n(304)(),s=n(38)("observable"),l=n(57),u=n(22),c=n(136),f=n(138),h=n(66),d=n(137),p=d.RETURN,m=function(t){return null==t?void 0:l(t)},g=function(t){var e=t._c;e&&(t._c=void 0,e())},v=function(t){return void 0===t._o},y=function(t){v(t)||(t._o=void 0,g(t))},b=function(t,e){u(t),this._c=void 0,this._o=t,t=new _(this);try{var n=e(t),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:l(n),this._c=n)}catch(e){return void t.error(e)}v(this)&&g(this)};b.prototype=f({},{unsubscribe:function(){y(this)}});var _=function(t){this._s=t};_.prototype=f({},{next:function(t){var e=this._s;if(!v(e)){var n=e._o;try{var r=m(n.next);if(r)return r.call(n,t)}catch(t){try{y(e)}finally{throw t}}}},error:function(t){var e=this._s;if(v(e))throw t;var n=e._o;e._o=void 0;try{var r=m(n.error);if(!r)throw t;t=r.call(n,t)}catch(t){try{g(e)}finally{throw t}}return g(e),t},complete:function(t){var e=this._s;if(!v(e)){var n=e._o;e._o=void 0;try{var r=m(n.complete);t=r?r.call(n,t):void 0}catch(t){try{g(e)}finally{throw t}}return g(e),t}}});var w=function(t){c(this,w,"Observable","_f")._f=l(t)};f(w.prototype,{subscribe:function(t){return new b(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||i.Promise)(function(n,r){l(t);var i=e.subscribe({next:function(e){try{return t(e)}catch(t){r(t),i.unsubscribe()}},error:r,complete:n})})}}),f(w,{from:function(t){var e="function"==typeof this?this:w,n=m(u(t)[s]);if(n){var r=u(n.call(t));return r.constructor===e?r:new e(function(t){return r.subscribe(t)})}return new e(function(e){var n=!1;return a(function(){if(!n){try{if(d(t,!1,function(t){if(e.next(t),n)return p})===p)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=new Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:w)(function(t){var e=!1;return a(function(){if(!e){for(var r=0;r<n.length;++r)if(t.next(n[r]),e)return;t.complete()}}),function(){e=!0}})}}),h(w.prototype,s,function(){return this}),r(r.G,{Observable:w}),n(135)("Observable")},function(t,e,n){var r=n(25),i=n(2),o=r.navigator,a=[].slice,s=!!o&&/MSIE .\./.test(o.userAgent),l=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*s,{setTimeout:l(r.setTimeout),setInterval:l(r.setInterval)})},function(t,e,n){var r=n(2),i=n(303);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){for(var r=n(302),i=n(131),o=n(67),a=n(25),s=n(66),l=n(156),u=n(38),c=u("iterator"),f=u("toStringTag"),h=l.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),m=0;m<p.length;m++){var g,v=p[m],y=d[v],b=a[v],_=b&&b.prototype;if(_&&(_[c]||s(_,c,h),_[f]||s(_,f,v),l[v]=h,y))for(g in r)_[g]||o(_,g,r[g],!0)}},function(t,e,n){(function(e){!function(e){"use strict";function n(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,a=Object.create(o.prototype),s=new d(r||[]);return a._invoke=u(t,n,s),a}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function l(t){function n(e,i,o,a){var s=r(t[e],t,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&y.call(u,"__await")?Promise.resolve(u.__await).then(function(t){n("next",t,o,a)},function(t){n("throw",t,o,a)}):Promise.resolve(u).then(function(t){l.value=t,o(l)},a)}a(s.arg)}function i(t,e){function r(){return new Promise(function(r,i){n(t,e,r,i)})}return o=o?o.then(r,r):r()}"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n));var o;this._invoke=i}function u(t,e,n){var i=S;return function(o,a){if(i===C)throw new Error("Generator is already running");if(i===O){if("throw"===o)throw a;return m()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=c(s,n);if(l){if(l===A)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===S)throw i=O,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=C;var u=r(t,e,n);if("normal"===u.type){if(i=n.done?O:T,u.arg===A)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=O,n.method="throw",n.arg=u.arg)}}}function c(t,e){var n=t.iterator[e.method];if(n===g){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=g,c(t,e),"throw"===e.method))return A;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var i=r(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,A;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=g),e.delegate=null,A):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,A)}function f(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function h(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function p(t){if(t){var e=t[_];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(y.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=g,e.done=!0,e};return r.next=r}}return{next:m}}function m(){return{value:g,done:!0}}var g,v=Object.prototype,y=v.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},_=b.iterator||"@@iterator",w=b.asyncIterator||"@@asyncIterator",x=b.toStringTag||"@@toStringTag",E="object"==typeof t,M=e.regeneratorRuntime;if(M)return void(E&&(t.exports=M));M=e.regeneratorRuntime=E?t.exports:{},M.wrap=n;var S="suspendedStart",T="suspendedYield",C="executing",O="completed",A={},I={};I[_]=function(){return this};var R=Object.getPrototypeOf,P=R&&R(R(p([])));P&&P!==v&&y.call(P,_)&&(I=P);var L=a.prototype=i.prototype=Object.create(I);o.prototype=L.constructor=a,a.constructor=o,a[x]=o.displayName="GeneratorFunction",M.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},M.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,x in t||(t[x]="GeneratorFunction")),t.prototype=Object.create(L),t},M.awrap=function(t){return{__await:t}},s(l.prototype),l.prototype[w]=function(){return this},M.AsyncIterator=l,M.async=function(t,e,r,i){var o=new l(n(t,e,r,i));return M.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},s(L),L[x]="Generator",L[_]=function(){return this},L.toString=function(){return"[object Generator]"},M.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},M.values=p,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(h),!t)for(var e in this)"t"===e.charAt(0)&&y.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=g)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,r&&(n.method="next",n.arg=g),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=y.call(i,"catchLoc"),s=y.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&y.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),A},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),h(n),A}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;h(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:p(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=g),A}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,n(37))},function(t,e,n){n(849),t.exports=n(94).RegExp.escape},function(t,e,n){var r=n(2),i=n(850)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(t){return i(t)}})},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},function(t,e,n){(function(e){e.IntlPolyfill=n(852),n(853),e.Intl||(e.Intl=e.IntlPolyfill,e.IntlPolyfill.__applyLocaleSensitivePrototypes()),t.exports=e.IntlPolyfill}).call(e,n(37))},function(t,e,n){"use strict";(function(e){function n(t){if("function"==typeof Math.log10)return Math.floor(Math.log10(t));var e=Math.round(Math.log(t)*Math.LOG10E);return e-(Number("1e"+e)>t)}function r(t){for(var e in t)(t instanceof r||Ft.call(t,e))&&jt(this,e,{value:t[e],enumerable:!0,writable:!0,configurable:!0})}function i(){jt(this,"length",{writable:!0,value:0}),arguments.length&&Gt.apply(this,Bt.call(arguments))}function o(){if(Yt.disableRegExpRestore)return function(){};for(var t={lastMatch:RegExp.lastMatch||"",leftContext:RegExp.leftContext,multiline:RegExp.multiline,input:RegExp.input},e=!1,n=1;n<=9;n++)e=(t["$"+n]=RegExp["$"+n])||e;return function(){var n=/[.?*+^$[\]\\(){}|-]/g,r=t.lastMatch.replace(n,"\\$&"),o=new i;if(e)for(var a=1;a<=9;a++){var s=t["$"+a];s?(s=s.replace(n,"\\$&"),r=r.replace(s,"("+s+")")):r="()"+r,Gt.call(o,r.slice(0,r.indexOf("(")+1)),r=r.slice(r.indexOf("(")+1)}var l=Ht.call(o,"")+r;l=l.replace(/(\\\(|\\\)|[^()])+/g,function(t){return"[\\s\\S]{"+t.replace("\\","").length+"}"});var u=new RegExp(l,t.multiline?"gm":"g");u.lastIndex=t.leftContext.length,u.exec(t.input)}}function a(t){if(null===t)throw new TypeError("Cannot convert null or undefined to object");return"object"===(void 0===t?"undefined":Nt.typeof(t))?t:Object(t)}function s(t){return"number"==typeof t?t:Number(t)}function l(t){var e=s(t);return isNaN(e)?0:0===e||-0===e||e===1/0||e===-1/0?e:e<0?-1*Math.floor(Math.abs(e)):Math.floor(Math.abs(e))}function u(t){var e=l(t);return e<=0?0:e===1/0?Math.pow(2,53)-1:Math.min(e,Math.pow(2,53)-1)}function c(t){return Ft.call(t,"__getInternalProperties")?t.__getInternalProperties(Xt):zt(null)}function f(t){ee=t}function h(t){for(var e=t.length;e--;){var n=t.charAt(e);n>="a"&&n<="z"&&(t=t.slice(0,e)+n.toUpperCase()+t.slice(e+1))}return t}function d(t){return!!Qt.test(t)&&(!Jt.test(t)&&!$t.test(t))}function p(t){var e=void 0,n=void 0;t=t.toLowerCase(),n=t.split("-");for(var r=1,i=n.length;r<i;r++)if(2===n[r].length)n[r]=n[r].toUpperCase();else if(4===n[r].length)n[r]=n[r].charAt(0).toUpperCase()+n[r].slice(1);else if(1===n[r].length&&"x"!==n[r])break;t=Ht.call(n,"-"),(e=t.match(te))&&e.length>1&&(e.sort(),t=t.replace(RegExp("(?:"+te.source+")+","i"),Ht.call(e,""))),Ft.call(ne.tags,t)&&(t=ne.tags[t]),n=t.split("-");for(var o=1,a=n.length;o<a;o++)Ft.call(ne.subtags,n[o])?n[o]=ne.subtags[n[o]]:Ft.call(ne.extLang,n[o])&&(n[o]=ne.extLang[n[o]][0],1===o&&ne.extLang[n[1]][1]===n[0]&&(n=Bt.call(n,o++),a-=1));return Ht.call(n,"-")}function m(){return ee}function g(t){var e=String(t),n=h(e);return!1!==re.test(n)}function v(t){if(void 0===t)return new i;var e=new i;t="string"==typeof t?[t]:t;for(var n=a(t),r=u(n.length),o=0;o<r;){var s=String(o);if(s in n){var l=n[s];if(null===l||"string"!=typeof l&&"object"!==(void 0===l?"undefined":Nt.typeof(l)))throw new TypeError("String or Object type expected");var c=String(l);if(!d(c))throw new RangeError("'"+c+"' is not a structurally valid language tag");c=p(c),-1===Ut.call(e,c)&&Gt.call(e,c)}o++}return e}function y(t,e){for(var n=e;n;){if(Ut.call(t,n)>-1)return n;var r=n.lastIndexOf("-");if(r<0)return;r>=2&&"-"===n.charAt(r-2)&&(r-=2),n=n.substring(0,r)}}function b(t,e){for(var n=0,i=e.length,o=void 0,a=void 0,s=void 0;n<i&&!o;)a=e[n],s=String(a).replace(ie,""),o=y(t,s),n++;var l=new r;if(void 0!==o){if(l["[[locale]]"]=o,String(a)!==String(s)){var u=a.match(ie)[0],c=a.indexOf("-u-");l["[[extension]]"]=u,l["[[extensionIndex]]"]=c}}else l["[[locale]]"]=m();return l}function _(t,e){return b(t,e)}function w(t,e,n,i,o){if(0===t.length)throw new ReferenceError("No locale data has been provided for this object yet.");var a=n["[[localeMatcher]]"],s=void 0;s="lookup"===a?b(t,e):_(t,e);var l=s["[[locale]]"],u=void 0,c=void 0;if(Ft.call(s,"[[extension]]")){var f=s["[[extension]]"];u=String.prototype.split.call(f,"-"),c=u.length}var h=new r;h["[[dataLocale]]"]=l;for(var d="-u",m=0,g=i.length;m<g;){var v=i[m],y=o[l],w=y[v],x=w[0],E="",M=Ut;if(void 0!==u){var S=M.call(u,v);if(-1!==S)if(S+1<c&&u[S+1].length>2){var T=u[S+1],C=M.call(w,T);-1!==C&&(x=T,E="-"+v+"-"+x)}else{var O=M(w,"true");-1!==O&&(x="true")}}if(Ft.call(n,"[["+v+"]]")){var A=n["[["+v+"]]"];-1!==M.call(w,A)&&A!==x&&(x=A,E="")}h["[["+v+"]]"]=x,d+=E,m++}if(d.length>2){var I=l.indexOf("-x-");if(-1===I)l+=d;else{l=l.substring(0,I)+d+l.substring(I)}l=p(l)}return h["[[locale]]"]=l,h}function x(t,e){for(var n=e.length,r=new i,o=0;o<n;){var a=e[o];void 0!==y(t,String(a).replace(ie,""))&&Gt.call(r,a),o++}return Bt.call(r)}function E(t,e){return x(t,e)}function M(t,e,n){var i=void 0,o=void 0;if(void 0!==n&&(n=new r(a(n)),void 0!==(i=n.localeMatcher)&&"lookup"!==(i=String(i))&&"best fit"!==i))throw new RangeError('matcher should be "lookup" or "best fit"');o=void 0===i||"best fit"===i?E(t,e):x(t,e);for(var s in o)Ft.call(o,s)&&jt(o,s,{writable:!1,configurable:!1,value:o[s]});return jt(o,"length",{writable:!1}),o}function S(t,e,n,r,i){var o=t[e];if(void 0!==o){if(o="boolean"===n?Boolean(o):"string"===n?String(o):o,void 0!==r&&-1===Ut.call(r,o))throw new RangeError("'"+o+"' is not an allowed value for `"+e+"`");return o}return i}function T(t,e,n,r,i){var o=t[e];if(void 0!==o){if(o=Number(o),isNaN(o)||o<n||o>r)throw new RangeError("Value is not a number or outside accepted range");return Math.floor(o)}return i}function C(t){for(var e=v(t),n=[],r=e.length,i=0;i<r;)n[i]=e[i],i++;return n}function O(){var t=arguments[0],e=arguments[1];return this&&this!==oe?A(a(this),t,e):new oe.NumberFormat(t,e)}function A(t,e,n){var s=c(t),l=o();if(!0===s["[[initializedIntlObject]]"])throw new TypeError("`this` object has already been initialized as an Intl object");jt(t,"__getInternalProperties",{value:function(){if(arguments[0]===Xt)return s}}),s["[[initializedIntlObject]]"]=!0;var u=v(e);n=void 0===n?{}:a(n);var f=new r,h=S(n,"localeMatcher","string",new i("lookup","best fit"),"best fit");f["[[localeMatcher]]"]=h;var d=Yt.NumberFormat["[[localeData]]"],p=w(Yt.NumberFormat["[[availableLocales]]"],u,f,Yt.NumberFormat["[[relevantExtensionKeys]]"],d);s["[[locale]]"]=p["[[locale]]"],s["[[numberingSystem]]"]=p["[[nu]]"],s["[[dataLocale]]"]=p["[[dataLocale]]"];var m=p["[[dataLocale]]"],y=S(n,"style","string",new i("decimal","percent","currency"),"decimal");s["[[style]]"]=y;var b=S(n,"currency","string");if(void 0!==b&&!g(b))throw new RangeError("'"+b+"' is not a valid currency code");if("currency"===y&&void 0===b)throw new TypeError("Currency code is required when style is currency");var _=void 0;"currency"===y&&(b=b.toUpperCase(),s["[[currency]]"]=b,_=I(b));var x=S(n,"currencyDisplay","string",new i("code","symbol","name"),"symbol");"currency"===y&&(s["[[currencyDisplay]]"]=x);var E=T(n,"minimumIntegerDigits",1,21,1);s["[[minimumIntegerDigits]]"]=E;var M="currency"===y?_:0,C=T(n,"minimumFractionDigits",0,20,M);s["[[minimumFractionDigits]]"]=C;var O="currency"===y?Math.max(C,_):"percent"===y?Math.max(C,0):Math.max(C,3),A=T(n,"maximumFractionDigits",C,20,O);s["[[maximumFractionDigits]]"]=A;var P=n.minimumSignificantDigits,L=n.maximumSignificantDigits;void 0===P&&void 0===L||(P=T(n,"minimumSignificantDigits",1,21,1),L=T(n,"maximumSignificantDigits",P,21,21),s["[[minimumSignificantDigits]]"]=P,s["[[maximumSignificantDigits]]"]=L);var N=S(n,"useGrouping","boolean",void 0,!0);s["[[useGrouping]]"]=N;var k=d[m],D=k.patterns,F=D[y];return s["[[positivePattern]]"]=F.positivePattern,s["[[negativePattern]]"]=F.negativePattern,s["[[boundFormat]]"]=void 0,s["[[initializedNumberFormat]]"]=!0,Dt&&(t.format=R.call(t)),l(),t}function I(t){return void 0!==ae[t]?ae[t]:2}function R(){var t=null!==this&&"object"===Nt.typeof(this)&&c(this);if(!t||!t["[[initializedNumberFormat]]"])throw new TypeError("`this` value for format() is not an initialized Intl.NumberFormat object.");if(void 0===t["[[boundFormat]]"]){var e=function(t){return k(this,Number(t))},n=Wt.call(e,this);t["[[boundFormat]]"]=n}return t["[[boundFormat]]"]}function P(){var t=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0],e=null!==this&&"object"===Nt.typeof(this)&&c(this);if(!e||!e["[[initializedNumberFormat]]"])throw new TypeError("`this` value for formatToParts() is not an initialized Intl.NumberFormat object.");return L(this,Number(t))}function L(t,e){for(var n=N(t,e),r=[],i=0,o=0;n.length>o;o++){var a=n[o],s={};s.type=a["[[type]]"],s.value=a["[[value]]"],r[i]=s,i+=1}return r}function N(t,e){var n=c(t),r=n["[[dataLocale]]"],o=n["[[numberingSystem]]"],a=Yt.NumberFormat["[[localeData]]"][r],s=a.symbols[o]||a.symbols.latn,l=void 0;!isNaN(e)&&e<0?(e=-e,l=n["[[negativePattern]]"]):l=n["[[positivePattern]]"];for(var u=new i,f=l.indexOf("{",0),h=0,d=0,p=l.length;f>-1&&f<p;){if(-1===(h=l.indexOf("}",f)))throw new Error;if(f>d){var m=l.substring(d,f);Gt.call(u,{"[[type]]":"literal","[[value]]":m})}var g=l.substring(f+1,h);if("number"===g)if(isNaN(e)){var v=s.nan;Gt.call(u,{"[[type]]":"nan","[[value]]":v})}else if(isFinite(e)){"percent"===n["[[style]]"]&&isFinite(e)&&(e*=100);var y=void 0;y=Ft.call(n,"[[minimumSignificantDigits]]")&&Ft.call(n,"[[maximumSignificantDigits]]")?D(e,n["[[minimumSignificantDigits]]"],n["[[maximumSignificantDigits]]"]):F(e,n["[[minimumIntegerDigits]]"],n["[[minimumFractionDigits]]"],n["[[maximumFractionDigits]]"]),se[o]?function(){var t=se[o];y=String(y).replace(/\d/g,function(e){return t[e]})}():y=String(y);var b=void 0,_=void 0,w=y.indexOf(".",0);if(w>0?(b=y.substring(0,w),_=y.substring(w+1,w.length)):(b=y,_=void 0),!0===n["[[useGrouping]]"]){var x=s.group,E=[],M=a.patterns.primaryGroupSize||3,S=a.patterns.secondaryGroupSize||M;if(b.length>M){var T=b.length-M,C=T%S,O=b.slice(0,C);for(O.length&&Gt.call(E,O);C<T;)Gt.call(E,b.slice(C,C+S)),C+=S;Gt.call(E,b.slice(T))}else Gt.call(E,b);if(0===E.length)throw new Error;for(;E.length;){var A=qt.call(E);Gt.call(u,{"[[type]]":"integer","[[value]]":A}),E.length&&Gt.call(u,{"[[type]]":"group","[[value]]":x})}}else Gt.call(u,{"[[type]]":"integer","[[value]]":b});if(void 0!==_){var I=s.decimal;Gt.call(u,{"[[type]]":"decimal","[[value]]":I}),Gt.call(u,{"[[type]]":"fraction","[[value]]":_})}}else{var R=s.infinity;Gt.call(u,{"[[type]]":"infinity","[[value]]":R})}else if("plusSign"===g){var P=s.plusSign;Gt.call(u,{"[[type]]":"plusSign","[[value]]":P})}else if("minusSign"===g){var L=s.minusSign;Gt.call(u,{"[[type]]":"minusSign","[[value]]":L})}else if("percentSign"===g&&"percent"===n["[[style]]"]){var N=s.percentSign;Gt.call(u,{"[[type]]":"literal","[[value]]":N})}else if("currency"===g&&"currency"===n["[[style]]"]){var k=n["[[currency]]"],j=void 0;"code"===n["[[currencyDisplay]]"]?j=k:"symbol"===n["[[currencyDisplay]]"]?j=a.currencies[k]||k:"name"===n["[[currencyDisplay]]"]&&(j=k),Gt.call(u,{"[[type]]":"currency","[[value]]":j})}else{var U=l.substring(f,h);Gt.call(u,{"[[type]]":"literal","[[value]]":U})}d=h+1,f=l.indexOf("{",d)}if(d<p){var z=l.substring(d,p);Gt.call(u,{"[[type]]":"literal","[[value]]":z})}return u}function k(t,e){for(var n=N(t,e),r="",i=0;n.length>i;i++){r+=n[i]["[[value]]"]}return r}function D(t,e,r){var i=r,o=void 0,a=void 0;if(0===t)o=Ht.call(Array(i+1),"0"),a=0;else{a=n(Math.abs(t));var s=Math.round(Math.exp(Math.abs(a-i+1)*Math.LN10));o=String(Math.round(a-i+1<0?t*s:t/s))}if(a>=i)return o+Ht.call(Array(a-i+1+1),"0");if(a===i-1)return o;if(a>=0?o=o.slice(0,a+1)+"."+o.slice(a+1):a<0&&(o="0."+Ht.call(Array(1-(a+1)),"0")+o),o.indexOf(".")>=0&&r>e){for(var l=r-e;l>0&&"0"===o.charAt(o.length-1);)o=o.slice(0,-1),l--;"."===o.charAt(o.length-1)&&(o=o.slice(0,-1))}return o}function F(t,e,n,r){var i=r,o=Math.pow(10,i)*t,a=0===o?"0":o.toFixed(0),s=void 0,l=(s=a.indexOf("e"))>-1?a.slice(s+1):0;l&&(a=a.slice(0,s).replace(".",""),a+=Ht.call(Array(l-(a.length-1)+1),"0"));var u=void 0;if(0!==i){var c=a.length;if(c<=i){a=Ht.call(Array(i+1-c+1),"0")+a,c=i+1}var f=a.substring(0,c-i);a=f+"."+a.substring(c-i,a.length),u=f.length}else u=a.length;for(var h=r-n;h>0&&"0"===a.slice(-1);)a=a.slice(0,-1),h--;if("."===a.slice(-1)&&(a=a.slice(0,-1)),u<e){a=Ht.call(Array(e-u+1),"0")+a}return a}function j(t){for(var e=0;e<he.length;e+=1)if(t.hasOwnProperty(he[e]))return!1;return!0}function U(t){for(var e=0;e<fe.length;e+=1)if(t.hasOwnProperty(fe[e]))return!1;return!0}function z(t,e){for(var n={_:{}},r=0;r<fe.length;r+=1)t[fe[r]]&&(n[fe[r]]=t[fe[r]]),t._[fe[r]]&&(n._[fe[r]]=t._[fe[r]]);for(var i=0;i<he.length;i+=1)e[he[i]]&&(n[he[i]]=e[he[i]]),e._[he[i]]&&(n._[he[i]]=e._[he[i]]);return n}function B(t){return t.pattern12=t.extendedPattern.replace(/'([^']*)'/g,function(t,e){return e||"'"}),t.pattern=t.pattern12.replace("{ampm}","").replace(ue,""),t}function V(t,e){switch(t.charAt(0)){case"G":return e.era=["short","short","short","long","narrow"][t.length-1],"{era}";case"y":case"Y":case"u":case"U":case"r":return e.year=2===t.length?"2-digit":"numeric","{year}";case"Q":case"q":return e.quarter=["numeric","2-digit","short","long","narrow"][t.length-1],"{quarter}";case"M":case"L":return e.month=["numeric","2-digit","short","long","narrow"][t.length-1],"{month}";case"w":return e.week=2===t.length?"2-digit":"numeric","{weekday}";case"W":return e.week="numeric","{weekday}";case"d":return e.day=2===t.length?"2-digit":"numeric","{day}";case"D":case"F":case"g":return e.day="numeric","{day}";case"E":return e.weekday=["short","short","short","long","narrow","short"][t.length-1],"{weekday}";case"e":return e.weekday=["numeric","2-digit","short","long","narrow","short"][t.length-1],"{weekday}";case"c":return e.weekday=["numeric",void 0,"short","long","narrow","short"][t.length-1],"{weekday}";case"a":case"b":case"B":return e.hour12=!0,"{ampm}";case"h":case"H":return e.hour=2===t.length?"2-digit":"numeric","{hour}";case"k":case"K":return e.hour12=!0,e.hour=2===t.length?"2-digit":"numeric","{hour}";case"m":return e.minute=2===t.length?"2-digit":"numeric","{minute}";case"s":return e.second=2===t.length?"2-digit":"numeric","{second}";case"S":case"A":return e.second="numeric","{second}";case"z":case"Z":case"O":case"v":case"V":case"X":case"x":return e.timeZoneName=t.length<4?"short":"long","{timeZoneName}"}}function G(t,e){if(!ce.test(e)){var n={originalPattern:e,_:{}};return n.extendedPattern=e.replace(le,function(t){return V(t,n._)}),t.replace(le,function(t){return V(t,n)}),B(n)}}function H(t){var e=t.availableFormats,n=t.timeFormats,r=t.dateFormats,i=[],o=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=[],f=[];for(o in e)e.hasOwnProperty(o)&&(a=e[o],(s=G(o,a))&&(i.push(s),j(s)?f.push(s):U(s)&&c.push(s)));for(o in n)n.hasOwnProperty(o)&&(a=n[o],(s=G(o,a))&&(i.push(s),c.push(s)));for(o in r)r.hasOwnProperty(o)&&(a=r[o],(s=G(o,a))&&(i.push(s),f.push(s)));for(l=0;l<c.length;l+=1)for(u=0;u<f.length;u+=1)a="long"===f[u].month?f[u].weekday?t.full:t.long:"short"===f[u].month?t.medium:t.short,s=z(f[u],c[l]),s.originalPattern=a,s.extendedPattern=a.replace("{0}",c[l].extendedPattern).replace("{1}",f[u].extendedPattern).replace(/^[,\s]+|[,\s]+$/gi,""),i.push(B(s));return i}function q(t,e){if(de[t]&&de[t][e]){var n;return n={originalPattern:de[t][e],_:dt({},t,e),extendedPattern:"{"+t+"}"},dt(n,t,e),dt(n,"pattern12","{"+t+"}"),dt(n,"pattern","{"+t+"}"),n}}function W(t,e,n,r,i){var o=t[e]&&t[e][n]?t[e][n]:t.gregory[n],a={narrow:["short","long"],short:["long","narrow"],long:["short","narrow"]},s=Ft.call(o,r)?o[r]:Ft.call(o,a[r][0])?o[a[r][0]]:o[a[r][1]];return null!==i?s[i]:s}function Y(){var t=arguments[0],e=arguments[1];return this&&this!==oe?X(a(this),t,e):new oe.DateTimeFormat(t,e)}function X(t,e,n){var a=c(t),s=o();if(!0===a["[[initializedIntlObject]]"])throw new TypeError("`this` object has already been initialized as an Intl object");jt(t,"__getInternalProperties",{value:function(){if(arguments[0]===Xt)return a}}),a["[[initializedIntlObject]]"]=!0;var l=v(e);n=K(n,"any","date");var u=new r,f=S(n,"localeMatcher","string",new i("lookup","best fit"),"best fit");u["[[localeMatcher]]"]=f;var d=Yt.DateTimeFormat,p=d["[[localeData]]"],m=w(d["[[availableLocales]]"],l,u,d["[[relevantExtensionKeys]]"],p);a["[[locale]]"]=m["[[locale]]"],a["[[calendar]]"]=m["[[ca]]"],a["[[numberingSystem]]"]=m["[[nu]]"],a["[[dataLocale]]"]=m["[[dataLocale]]"];var g=m["[[dataLocale]]"],y=n.timeZone;if(void 0!==y&&"UTC"!==(y=h(y)))throw new RangeError("timeZone is not supported.");a["[[timeZone]]"]=y,u=new r;for(var b in me)if(Ft.call(me,b)){var _=S(n,b,"string",me[b]);u["[["+b+"]]"]=_}var x=void 0,E=p[g],M=Z(E.formats);if(f=S(n,"formatMatcher","string",new i("basic","best fit"),"best fit"),E.formats=M,"basic"===f)x=Q(u,M);else{var T=S(n,"hour12","boolean");u.hour12=void 0===T?E.hour12:T,x=J(u,M)}for(var C in me)if(Ft.call(me,C)&&Ft.call(x,C)){var O=x[C];O=x._&&Ft.call(x._,C)?x._[C]:O,a["[["+C+"]]"]=O}var A=void 0,I=S(n,"hour12","boolean");if(a["[[hour]]"])if(I=void 0===I?E.hour12:I,a["[[hour12]]"]=I,!0===I){var R=E.hourNo0;a["[[hourNo0]]"]=R,A=x.pattern12}else A=x.pattern;else A=x.pattern;return a["[[pattern]]"]=A,a["[[boundFormat]]"]=void 0,a["[[initializedDateTimeFormat]]"]=!0,Dt&&(t.format=$.call(t)),s(),t}function Z(t){return"[object Array]"===Object.prototype.toString.call(t)?t:H(t)}function K(t,e,n){if(void 0===t)t=null;else{var i=a(t);t=new r;for(var o in i)t[o]=i[o]}t=zt(t);var s=!0;return"date"!==e&&"any"!==e||void 0===t.weekday&&void 0===t.year&&void 0===t.month&&void 0===t.day||(s=!1),"time"!==e&&"any"!==e||void 0===t.hour&&void 0===t.minute&&void 0===t.second||(s=!1),!s||"date"!==n&&"all"!==n||(t.year=t.month=t.day="numeric"),!s||"time"!==n&&"all"!==n||(t.hour=t.minute=t.second="numeric"),t}function Q(t,e){for(var n=-1/0,r=void 0,i=0,o=e.length;i<o;){var a=e[i],s=0;for(var l in me)if(Ft.call(me,l)){var u=t["[["+l+"]]"],c=Ft.call(a,l)?a[l]:void 0;if(void 0===u&&void 0!==c)s-=20;else if(void 0!==u&&void 0===c)s-=120;else{var f=["2-digit","numeric","narrow","short","long"],h=Ut.call(f,u),d=Ut.call(f,c),p=Math.max(Math.min(d-h,2),-2);2===p?s-=6:1===p?s-=3:-1===p?s-=6:-2===p&&(s-=8)}}s>n&&(n=s,r=a),i++}return r}function J(t,e){var n=[];for(var r in me)Ft.call(me,r)&&void 0!==t["[["+r+"]]"]&&n.push(r);if(1===n.length){var i=q(n[0],t["[["+n[0]+"]]"]);if(i)return i}for(var o=-1/0,a=void 0,s=0,l=e.length;s<l;){var u=e[s],c=0;for(var f in me)if(Ft.call(me,f)){var h=t["[["+f+"]]"],d=Ft.call(u,f)?u[f]:void 0,p=Ft.call(u._,f)?u._[f]:void 0;if(h!==p&&(c-=2),void 0===h&&void 0!==d)c-=20;else if(void 0!==h&&void 0===d)c-=120;else{var m=["2-digit","numeric","narrow","short","long"],g=Ut.call(m,h),v=Ut.call(m,d),y=Math.max(Math.min(v-g,2),-2);v<=1&&g>=2||v>=2&&g<=1?y>0?c-=6:y<0&&(c-=8):y>1?c-=3:y<-1&&(c-=6)}}u._.hour12!==t.hour12&&(c-=1),c>o&&(o=c,a=u),s++}return a}function $(){var t=null!==this&&"object"===Nt.typeof(this)&&c(this);if(!t||!t["[[initializedDateTimeFormat]]"])throw new TypeError("`this` value for format() is not an initialized Intl.DateTimeFormat object.");if(void 0===t["[[boundFormat]]"]){var e=function(){var t=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];return nt(this,void 0===t?Date.now():s(t))},n=Wt.call(e,this);t["[[boundFormat]]"]=n}return t["[[boundFormat]]"]}function tt(){var t=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0],e=null!==this&&"object"===Nt.typeof(this)&&c(this);if(!e||!e["[[initializedDateTimeFormat]]"])throw new TypeError("`this` value for formatToParts() is not an initialized Intl.DateTimeFormat object.");return rt(this,void 0===t?Date.now():s(t))}function et(t,e){if(!isFinite(e))throw new RangeError("Invalid valid date passed to format");var n=t.__getInternalProperties(Xt);o();for(var r=n["[[locale]]"],a=new oe.NumberFormat([r],{useGrouping:!1}),s=new oe.NumberFormat([r],{minimumIntegerDigits:2,useGrouping:!1}),l=it(e,n["[[calendar]]"],n["[[timeZone]]"]),u=n["[[pattern]]"],c=new i,f=0,h=u.indexOf("{"),d=0,p=n["[[dataLocale]]"],m=Yt.DateTimeFormat["[[localeData]]"][p].calendars,g=n["[[calendar]]"];-1!==h;){var v=void 0;if(-1===(d=u.indexOf("}",h)))throw new Error("Unclosed pattern");h>f&&Gt.call(c,{type:"literal",value:u.substring(f,h)});var y=u.substring(h+1,d);if(me.hasOwnProperty(y)){var b=n["[["+y+"]]"],_=l["[["+y+"]]"];if("year"===y&&_<=0?_=1-_:"month"===y?_++:"hour"===y&&!0===n["[[hour12]]"]&&0===(_%=12)&&!0===n["[[hourNo0]]"]&&(_=12),"numeric"===b)v=k(a,_);else if("2-digit"===b)v=k(s,_),v.length>2&&(v=v.slice(-2));else if(b in pe)switch(y){case"month":v=W(m,g,"months",b,l["[["+y+"]]"]);break;case"weekday":try{v=W(m,g,"days",b,l["[["+y+"]]"])}catch(t){throw new Error("Could not find weekday data for locale "+r)}break;case"timeZoneName":v="";break;case"era":try{v=W(m,g,"eras",b,l["[["+y+"]]"])}catch(t){throw new Error("Could not find era data for locale "+r)}break;default:v=l["[["+y+"]]"]}Gt.call(c,{type:y,value:v})}else if("ampm"===y){var w=l["[[hour]]"];v=W(m,g,"dayPeriods",w>11?"pm":"am",null),Gt.call(c,{type:"dayPeriod",value:v})}else Gt.call(c,{type:"literal",value:u.substring(h,d+1)});f=d+1,h=u.indexOf("{",f)}return d<u.length-1&&Gt.call(c,{type:"literal",value:u.substr(d+1)}),c}function nt(t,e){for(var n=et(t,e),r="",i=0;n.length>i;i++){r+=n[i].value}return r}function rt(t,e){for(var n=et(t,e),r=[],i=0;n.length>i;i++){var o=n[i];r.push({type:o.type,value:o.value})}return r}function it(t,e,n){var i=new Date(t),o="get"+(n||"");return new r({"[[weekday]]":i[o+"Day"](),"[[era]]":+(i[o+"FullYear"]()>=0),"[[year]]":i[o+"FullYear"](),"[[month]]":i[o+"Month"](),"[[day]]":i[o+"Date"](),"[[hour]]":i[o+"Hours"](),"[[minute]]":i[o+"Minutes"](),"[[second]]":i[o+"Seconds"](),"[[inDST]]":!1})}function ot(t,e){if(!t.number)throw new Error("Object passed doesn't contain locale data for Intl.NumberFormat");var n=void 0,r=[e],i=e.split("-");for(i.length>2&&4===i[1].length&&Gt.call(r,i[0]+"-"+i[2]);n=qt.call(r);)Gt.call(Yt.NumberFormat["[[availableLocales]]"],n),Yt.NumberFormat["[[localeData]]"][n]=t.number,t.date&&(t.date.nu=t.number.nu,Gt.call(Yt.DateTimeFormat["[[availableLocales]]"],n),Yt.DateTimeFormat["[[localeData]]"][n]=t.date);void 0===ee&&f(e)}var at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},st=function(){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(e,n,r,i){var o=e&&e.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&o)for(var s in o)void 0===n[s]&&(n[s]=o[s]);else n||(n=o||{});if(1===a)n.children=i;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];n.children=l}return{$$typeof:t,type:e,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),lt=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){return r("next",t)},function(t){return r("throw",t)});t(s)}return r("next")})}},ut=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},ct=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ft=function(t,e){for(var n in e){var r=e[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n,r)}return t},ht=function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t},dt=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},pt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mt=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},gt=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},vt=function(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e},yt=function(t){return t&&t.__esModule?t:{default:t}},bt=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},_t=function(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")},wt=function(t){if(null==t)throw new TypeError("Cannot destructure undefined")},xt=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Et=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},Mt=void 0===e?self:e,St=function t(e,n,r,i){var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var a=Object.getPrototypeOf(e);null!==a&&t(a,n,r,i)}else if("value"in o&&o.writable)o.value=r;else{var s=o.set;void 0!==s&&s.call(i,r)}return r},Tt=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ct=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){for(var n,r=[],i=t[Symbol.iterator]();!(n=i.next()).done&&(r.push(n.value),!e||r.length!==e););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},Ot=function(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))},At=function(t,e){return t.raw=e,t},It=function(t,e,n){if(t===n)throw new ReferenceError(e+" is not defined - temporal dead zone");return t},Rt={},Pt=function(t){return Array.isArray(t)?t:Array.from(t)},Lt=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},Nt=Object.freeze({jsx:st,asyncToGenerator:lt,classCallCheck:ut,createClass:ct,defineEnumerableProperties:ft,defaults:ht,defineProperty:dt,get:mt,inherits:gt,interopRequireDefault:yt,interopRequireWildcard:bt,newArrowCheck:_t,objectDestructuringEmpty:wt,objectWithoutProperties:xt,possibleConstructorReturn:Et,selfGlobal:Mt,set:St,slicedToArray:Tt,slicedToArrayLoose:Ct,taggedTemplateLiteral:Ot,taggedTemplateLiteralLoose:At,temporalRef:It,temporalUndefined:Rt,toArray:Pt,toConsumableArray:Lt,typeof:at,extends:pt,instanceof:vt}),kt=function(){var t=function(){};try{return Object.defineProperty(t,"a",{get:function(){return 1}}),Object.defineProperty(t,"prototype",{writable:!1}),1===t.a&&t.prototype instanceof Object}catch(t){return!1}}(),Dt=!kt&&!Object.prototype.__defineGetter__,Ft=Object.prototype.hasOwnProperty,jt=kt?Object.defineProperty:function(t,e,n){"get"in n&&t.__defineGetter__?t.__defineGetter__(e,n.get):(!Ft.call(t,e)||"value"in n)&&(t[e]=n.value)},Ut=Array.prototype.indexOf||function(t){var e=this;if(!e.length)return-1;for(var n=arguments[1]||0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},zt=Object.create||function(t,e){function n(){}var r=void 0;n.prototype=t,r=new n;for(var i in e)Ft.call(e,i)&&jt(r,i,e[i]);return r},Bt=Array.prototype.slice,Vt=Array.prototype.concat,Gt=Array.prototype.push,Ht=Array.prototype.join,qt=Array.prototype.shift,Wt=Function.prototype.bind||function(t){var e=this,n=Bt.call(arguments,1);return e.length,function(){return e.apply(t,Vt.call(n,Bt.call(arguments)))}},Yt=zt(null),Xt=Math.random();r.prototype=zt(null),i.prototype=zt(null);var Zt="(?:[a-z0-9]{5,8}|\\d[a-z0-9]{3})",Kt="[0-9a-wy-z](?:-[a-z0-9]{2,8})+",Qt=RegExp("^(?:(?:[a-z]{2,3}(?:-[a-z]{3}(?:-[a-z]{3}){0,2})?|[a-z]{4}|[a-z]{5,8})(?:-[a-z]{4})?(?:-(?:[a-z]{2}|\\d{3}))?(?:-(?:[a-z0-9]{5,8}|\\d[a-z0-9]{3}))*(?:-[0-9a-wy-z](?:-[a-z0-9]{2,8})+)*(?:-x(?:-[a-z0-9]{1,8})+)?|x(?:-[a-z0-9]{1,8})+|(?:(?:en-GB-oed|i-(?:ami|bnn|default|enochian|hak|klingon|lux|mingo|navajo|pwn|tao|tay|tsu)|sgn-(?:BE-FR|BE-NL|CH-DE))|(?:art-lojban|cel-gaulish|no-bok|no-nyn|zh-(?:guoyu|hakka|min|min-nan|xiang))))$","i"),Jt=RegExp("^(?!x).*?-("+Zt+")-(?:\\w{4,8}-(?!x-))*\\1\\b","i"),$t=RegExp("^(?!x).*?-([0-9a-wy-z])-(?:\\w+-(?!x-))*\\1\\b","i"),te=RegExp("-"+Kt,"ig"),ee=void 0,ne={tags:{"art-lojban":"jbo","i-ami":"ami","i-bnn":"bnn","i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","no-bok":"nb","no-nyn":"nn","sgn-BE-FR":"sfb","sgn-BE-NL":"vgt","sgn-CH-DE":"sgg","zh-guoyu":"cmn","zh-hakka":"hak","zh-min-nan":"nan","zh-xiang":"hsn","sgn-BR":"bzs","sgn-CO":"csn","sgn-DE":"gsg","sgn-DK":"dsl","sgn-ES":"ssp","sgn-FR":"fsl","sgn-GB":"bfi","sgn-GR":"gss","sgn-IE":"isg","sgn-IT":"ise","sgn-JP":"jsl","sgn-MX":"mfs","sgn-NI":"ncs","sgn-NL":"dse","sgn-NO":"nsl","sgn-PT":"psr","sgn-SE":"swl","sgn-US":"ase","sgn-ZA":"sfs","zh-cmn":"cmn","zh-cmn-Hans":"cmn-Hans","zh-cmn-Hant":"cmn-Hant","zh-gan":"gan","zh-wuu":"wuu","zh-yue":"yue"},subtags:{BU:"MM",DD:"DE",FX:"FR",TP:"TL",YD:"YE",ZR:"CD",heploc:"alalc97",in:"id",iw:"he",ji:"yi",jw:"jv",mo:"ro",ayx:"nun",bjd:"drl",ccq:"rki",cjr:"mom",cka:"cmr",cmk:"xch",drh:"khk",drw:"prs",gav:"dev",hrr:"jal",ibi:"opa",kgh:"kml",lcq:"ppr",mst:"mry",myt:"mry",sca:"hle",tie:"ras",tkk:"twm",tlw:"weo",tnf:"prs",ybd:"rki",yma:"lrr"},extLang:{aao:["aao","ar"],abh:["abh","ar"],abv:["abv","ar"],acm:["acm","ar"],acq:["acq","ar"],acw:["acw","ar"],acx:["acx","ar"],acy:["acy","ar"],adf:["adf","ar"],ads:["ads","sgn"],aeb:["aeb","ar"],aec:["aec","ar"],aed:["aed","sgn"],aen:["aen","sgn"],afb:["afb","ar"],afg:["afg","sgn"],ajp:["ajp","ar"],apc:["apc","ar"],apd:["apd","ar"],arb:["arb","ar"],arq:["arq","ar"],ars:["ars","ar"],ary:["ary","ar"],arz:["arz","ar"],ase:["ase","sgn"],asf:["asf","sgn"],asp:["asp","sgn"],asq:["asq","sgn"],asw:["asw","sgn"],auz:["auz","ar"],avl:["avl","ar"],ayh:["ayh","ar"],ayl:["ayl","ar"],ayn:["ayn","ar"],ayp:["ayp","ar"],bbz:["bbz","ar"],bfi:["bfi","sgn"],bfk:["bfk","sgn"],bjn:["bjn","ms"],bog:["bog","sgn"],bqn:["bqn","sgn"],bqy:["bqy","sgn"],btj:["btj","ms"],bve:["bve","ms"],bvl:["bvl","sgn"],bvu:["bvu","ms"],bzs:["bzs","sgn"],cdo:["cdo","zh"],cds:["cds","sgn"],cjy:["cjy","zh"],cmn:["cmn","zh"],coa:["coa","ms"],cpx:["cpx","zh"],csc:["csc","sgn"],csd:["csd","sgn"],cse:["cse","sgn"],csf:["csf","sgn"],csg:["csg","sgn"],csl:["csl","sgn"],csn:["csn","sgn"],csq:["csq","sgn"],csr:["csr","sgn"],czh:["czh","zh"],czo:["czo","zh"],doq:["doq","sgn"],dse:["dse","sgn"],dsl:["dsl","sgn"],dup:["dup","ms"],ecs:["ecs","sgn"],esl:["esl","sgn"],esn:["esn","sgn"],eso:["eso","sgn"],eth:["eth","sgn"],fcs:["fcs","sgn"],fse:["fse","sgn"],fsl:["fsl","sgn"],fss:["fss","sgn"],gan:["gan","zh"],gds:["gds","sgn"],gom:["gom","kok"],gse:["gse","sgn"],gsg:["gsg","sgn"],gsm:["gsm","sgn"],gss:["gss","sgn"],gus:["gus","sgn"],hab:["hab","sgn"],haf:["haf","sgn"],hak:["hak","zh"],hds:["hds","sgn"],hji:["hji","ms"],hks:["hks","sgn"],hos:["hos","sgn"],hps:["hps","sgn"],hsh:["hsh","sgn"],hsl:["hsl","sgn"],hsn:["hsn","zh"],icl:["icl","sgn"],ils:["ils","sgn"],inl:["inl","sgn"],ins:["ins","sgn"],ise:["ise","sgn"],isg:["isg","sgn"],isr:["isr","sgn"],jak:["jak","ms"],jax:["jax","ms"],jcs:["jcs","sgn"],jhs:["jhs","sgn"],jls:["jls","sgn"],jos:["jos","sgn"],jsl:["jsl","sgn"],jus:["jus","sgn"],kgi:["kgi","sgn"],knn:["knn","kok"],kvb:["kvb","ms"],kvk:["kvk","sgn"],kvr:["kvr","ms"],kxd:["kxd","ms"],lbs:["lbs","sgn"],lce:["lce","ms"],lcf:["lcf","ms"],liw:["liw","ms"],lls:["lls","sgn"],lsg:["lsg","sgn"],lsl:["lsl","sgn"],lso:["lso","sgn"],lsp:["lsp","sgn"],lst:["lst","sgn"],lsy:["lsy","sgn"],ltg:["ltg","lv"],lvs:["lvs","lv"],lzh:["lzh","zh"],max:["max","ms"],mdl:["mdl","sgn"],meo:["meo","ms"],mfa:["mfa","ms"],mfb:["mfb","ms"],mfs:["mfs","sgn"],min:["min","ms"],mnp:["mnp","zh"],mqg:["mqg","ms"],mre:["mre","sgn"],msd:["msd","sgn"],msi:["msi","ms"],msr:["msr","sgn"],mui:["mui","ms"],mzc:["mzc","sgn"],mzg:["mzg","sgn"],mzy:["mzy","sgn"],nan:["nan","zh"],nbs:["nbs","sgn"],ncs:["ncs","sgn"],nsi:["nsi","sgn"],nsl:["nsl","sgn"],nsp:["nsp","sgn"],nsr:["nsr","sgn"],nzs:["nzs","sgn"],okl:["okl","sgn"],orn:["orn","ms"],ors:["ors","ms"],pel:["pel","ms"],pga:["pga","ar"],pks:["pks","sgn"],prl:["prl","sgn"],prz:["prz","sgn"],psc:["psc","sgn"],psd:["psd","sgn"],pse:["pse","ms"],psg:["psg","sgn"],psl:["psl","sgn"],pso:["pso","sgn"],psp:["psp","sgn"],psr:["psr","sgn"],pys:["pys","sgn"],rms:["rms","sgn"],rsi:["rsi","sgn"],rsl:["rsl","sgn"],sdl:["sdl","sgn"],sfb:["sfb","sgn"],sfs:["sfs","sgn"],sgg:["sgg","sgn"],sgx:["sgx","sgn"],shu:["shu","ar"],slf:["slf","sgn"],sls:["sls","sgn"],sqk:["sqk","sgn"],sqs:["sqs","sgn"],ssh:["ssh","ar"],ssp:["ssp","sgn"],ssr:["ssr","sgn"],svk:["svk","sgn"],swc:["swc","sw"],swh:["swh","sw"],swl:["swl","sgn"],syy:["syy","sgn"],tmw:["tmw","ms"],tse:["tse","sgn"],tsm:["tsm","sgn"],tsq:["tsq","sgn"],tss:["tss","sgn"],tsy:["tsy","sgn"],tza:["tza","sgn"],ugn:["ugn","sgn"],ugy:["ugy","sgn"],ukl:["ukl","sgn"],uks:["uks","sgn"],urk:["urk","ms"],uzn:["uzn","uz"],uzs:["uzs","uz"],vgt:["vgt","sgn"],vkk:["vkk","ms"],vkt:["vkt","ms"],vsi:["vsi","sgn"],vsl:["vsl","sgn"],vsv:["vsv","sgn"],wuu:["wuu","zh"],xki:["xki","sgn"],xml:["xml","sgn"],xmm:["xmm","ms"],xms:["xms","sgn"],yds:["yds","sgn"],ysl:["ysl","sgn"],yue:["yue","zh"],zib:["zib","sgn"],zlm:["zlm","ms"],zmi:["zmi","ms"],zsl:["zsl","sgn"],zsm:["zsm","ms"]}},re=/^[A-Z]{3}$/,ie=/-u(?:-[0-9a-z]{2,8})+/gi,oe={};Object.defineProperty(oe,"getCanonicalLocales",{enumerable:!1,configurable:!0,writable:!0,value:C});var ae={BHD:3,BYR:0,XOF:0,BIF:0,XAF:0,CLF:4,CLP:0,KMF:0,DJF:0,XPF:0,GNF:0,ISK:0,IQD:3,JPY:0,JOD:3,KRW:0,KWD:3,LYD:3,OMR:3,PYG:0,RWF:0,TND:3,UGX:0,UYI:0,VUV:0,VND:0};jt(oe,"NumberFormat",{configurable:!0,writable:!0,value:O}),jt(oe.NumberFormat,"prototype",{writable:!1}),Yt.NumberFormat={"[[availableLocales]]":[],"[[relevantExtensionKeys]]":["nu"],"[[localeData]]":{}},jt(oe.NumberFormat,"supportedLocalesOf",{configurable:!0,writable:!0,value:Wt.call(function(t){if(!Ft.call(this,"[[availableLocales]]"))throw new TypeError("supportedLocalesOf() is not a constructor");var e=o(),n=arguments[1],r=this["[[availableLocales]]"],i=v(t);return e(),M(r,i,n)},Yt.NumberFormat)}),jt(oe.NumberFormat.prototype,"format",{configurable:!0,get:R}),Object.defineProperty(oe.NumberFormat.prototype,"formatToParts",{configurable:!0,enumerable:!1,writable:!0,value:P});var se={arab:["Ù ","Ù¡","Ù¢","Ù£","Ù¤","Ù¥","Ù¦","Ù§","Ù¨","Ù©"],arabext:["Û°","Û±","Û²","Û³","Û´","Ûµ","Û¶","Û·","Û¸","Û¹"],bali:["á­","á­‘","á­’","á­“","á­”","á­•","á­–","á­—","á­˜","á­™"],beng:["à§¦","à§§","à§¨","à§©","à§ª","à§«","à§¬","à§­","à§®","à§¯"],deva:["à¥¦","à¥§","à¥¨","à¥©","à¥ª","à¥«","à¥¬","à¥­","à¥®","à¥¯"],fullwide:["ï¼","ï¼‘","ï¼’","ï¼“","ï¼”","ï¼•","ï¼–","ï¼—","ï¼˜","ï¼™"],gujr:["à«¦","à«§","à«¨","à«©","à«ª","à««","à«¬","à«­","à«®","à«¯"],guru:["à©¦","à©§","à©¨","à©©","à©ª","à©«","à©¬","à©­","à©®","à©¯"],hanidec:["ã€‡","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­","ä¸ƒ","å…«","ä¹"],khmr:["áŸ ","áŸ¡","áŸ¢","áŸ£","áŸ¤","áŸ¥","áŸ¦","áŸ§","áŸ¨","áŸ©"],knda:["à³¦","à³§","à³¨","à³©","à³ª","à³«","à³¬","à³­","à³®","à³¯"],laoo:["à»","à»‘","à»’","à»“","à»”","à»•","à»–","à»—","à»˜","à»™"],latn:["0","1","2","3","4","5","6","7","8","9"],limb:["á¥†","á¥‡","á¥ˆ","á¥‰","á¥Š","á¥‹","á¥Œ","á¥","á¥Ž","á¥"],mlym:["àµ¦","àµ§","àµ¨","àµ©","àµª","àµ«","àµ¬","àµ­","àµ®","àµ¯"],mong:["á ","á ‘","á ’","á “","á ”","á •","á –","á —","á ˜","á ™"],mymr:["á€","á","á‚","áƒ","á„","á…","á†","á‡","áˆ","á‰"],orya:["à­¦","à­§","à­¨","à­©","à­ª","à­«","à­¬","à­­","à­®","à­¯"],tamldec:["à¯¦","à¯§","à¯¨","à¯©","à¯ª","à¯«","à¯¬","à¯­","à¯®","à¯¯"],telu:["à±¦","à±§","à±¨","à±©","à±ª","à±«","à±¬","à±­","à±®","à±¯"],thai:["à¹","à¹‘","à¹’","à¹“","à¹”","à¹•","à¹–","à¹—","à¹˜","à¹™"],tibt:["à¼ ","à¼¡","à¼¢","à¼£","à¼¤","à¼¥","à¼¦","à¼§","à¼¨","à¼©"]};jt(oe.NumberFormat.prototype,"resolvedOptions",{configurable:!0,writable:!0,value:function(){var t=void 0,e=new r,n=["locale","numberingSystem","style","currency","currencyDisplay","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","useGrouping"],i=null!==this&&"object"===Nt.typeof(this)&&c(this);if(!i||!i["[[initializedNumberFormat]]"])throw new TypeError("`this` value for resolvedOptions() is not an initialized Intl.NumberFormat object.");for(var o=0,a=n.length;o<a;o++)Ft.call(i,t="[["+n[o]+"]]")&&(e[n[o]]={value:i[t],writable:!0,configurable:!0,enumerable:!0});return zt({},e)}});var le=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g,ue=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ce=/[rqQASjJgwWIQq]/,fe=["era","year","month","day","weekday","quarter"],he=["hour","minute","second","hour12","timeZoneName"],de={second:{numeric:"s","2-digit":"ss"},minute:{numeric:"m","2-digit":"mm"},year:{numeric:"y","2-digit":"yy"},day:{numeric:"d","2-digit":"dd"},month:{numeric:"L","2-digit":"LL",narrow:"LLLLL",short:"LLL",long:"LLLL"},weekday:{narrow:"ccccc",short:"ccc",long:"cccc"}},pe=zt(null,{narrow:{},short:{},long:{}});jt(oe,"DateTimeFormat",{configurable:!0,writable:!0,value:Y}),jt(Y,"prototype",{writable:!1});var me={weekday:["narrow","short","long"],era:["narrow","short","long"],year:["2-digit","numeric"],month:["2-digit","numeric","narrow","short","long"],day:["2-digit","numeric"],hour:["2-digit","numeric"],minute:["2-digit","numeric"],second:["2-digit","numeric"],timeZoneName:["short","long"]};Yt.DateTimeFormat={"[[availableLocales]]":[],"[[relevantExtensionKeys]]":["ca","nu"],"[[localeData]]":{}},jt(oe.DateTimeFormat,"supportedLocalesOf",{configurable:!0,writable:!0,value:Wt.call(function(t){if(!Ft.call(this,"[[availableLocales]]"))throw new TypeError("supportedLocalesOf() is not a constructor");var e=o(),n=arguments[1],r=this["[[availableLocales]]"],i=v(t);return e(),M(r,i,n)},Yt.NumberFormat)}),jt(oe.DateTimeFormat.prototype,"format",{configurable:!0,get:$}),Object.defineProperty(oe.DateTimeFormat.prototype,"formatToParts",{enumerable:!1,writable:!0,configurable:!0,value:tt}),jt(oe.DateTimeFormat.prototype,"resolvedOptions",{writable:!0,configurable:!0,value:function(){var t=void 0,e=new r,n=["locale","calendar","numberingSystem","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"],i=null!==this&&"object"===Nt.typeof(this)&&c(this);if(!i||!i["[[initializedDateTimeFormat]]"])throw new TypeError("`this` value for resolvedOptions() is not an initialized Intl.DateTimeFormat object.");for(var o=0,a=n.length;o<a;o++)Ft.call(i,t="[["+n[o]+"]]")&&(e[n[o]]={value:i[t],writable:!0,configurable:!0,enumerable:!0});return zt({},e)}});var ge=oe.__localeSensitiveProtos={Number:{},Date:{}};ge.Number.toLocaleString=function(){if("[object Number]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a number for Number.prototype.toLocaleString()");return k(new O(arguments[0],arguments[1]),this)},ge.Date.toLocaleString=function(){if("[object Date]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a Date instance for Date.prototype.toLocaleString()");var t=+this;if(isNaN(t))return"Invalid Date";var e=arguments[0],n=arguments[1];return n=K(n,"any","all"),nt(new Y(e,n),t)},ge.Date.toLocaleDateString=function(){if("[object Date]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a Date instance for Date.prototype.toLocaleDateString()");var t=+this;if(isNaN(t))return"Invalid Date";var e=arguments[0],n=arguments[1];return n=K(n,"date","date"),nt(new Y(e,n),t)},ge.Date.toLocaleTimeString=function(){if("[object Date]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a Date instance for Date.prototype.toLocaleTimeString()");var t=+this;if(isNaN(t))return"Invalid Date";var e=arguments[0],n=arguments[1];return n=K(n,"time","time"),nt(new Y(e,n),t)},jt(oe,"__applyLocaleSensitivePrototypes",{writable:!0,configurable:!0,value:function(){jt(Number.prototype,"toLocaleString",{writable:!0,configurable:!0,value:ge.Number.toLocaleString}),jt(Date.prototype,"toLocaleString",{writable:!0,configurable:!0,value:ge.Date.toLocaleString});for(var t in ge.Date)Ft.call(ge.Date,t)&&jt(Date.prototype,t,{writable:!0,configurable:!0,value:ge.Date[t]})}}),jt(oe,"__addLocaleData",{value:function(t){if(!d(t.locale))throw new Error("Object passed doesn't identify itself with a valid language tag");ot(t,t.locale)}}),jt(oe,"__disableRegExpRestore",{value:function(){Yt.disableRegExpRestore=!0}}),t.exports=oe}).call(e,n(37))},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var r=n(49),i=(n.n(r),n(859)),o=(n.n(i),n(860),n(904),n(918),n(922),n(924)),a=(n.n(o),n(166),n(927)),s=(n.n(a),n(243));n.d(e,"injectAnimationFrame",function(){return s.a});var l=n(331);n.d(e,"TILE_LOAD_ERROR",function(){return l.a});var u=(n(469),n(470),n(246));n.d(e,"Type",function(){return u.f}),n.d(e,"Dcr9TileSchema",function(){return u.b}),n.d(e,"Dcr10TileSchema",function(){return u.a}),n.d(e,"SwedishTileSchema",function(){return u.e}),n.d(e,"NoTileSchema",function(){return u.d}),n.d(e,"KnownTileSchemas",function(){return u.c});var c=n(471);n.d(e,"defaults",function(){return c.b});var f=(n(985),n(986),n(987),n(479));n.d(e,"Events",function(){return f.a});var h=(n(999),n(1058),n(344));n.d(e,"DefaultMarkerStyles",function(){return h.a});var d=(n(1060),n(1061),n(1062),n(1063),n(170));n.d(e,"GeometryType",function(){return d.a});var p=n(472),m=n(1068),g=n(478);r.glMatrix.setMatrixArrayType(t.Float64Array||Array),CM.aperture.DefaultBitmapUriManager=p.a,CM.aperture.DepthMapUriManager=m.a,CM.aperture.WfsRecordingUriManager=g.a}.call(e,n(37))},function(t,e,n){var r=n(108),i={};i.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},i.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},i.fromValues=function(t,e,n,i){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=i,o},i.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},i.transpose=function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},i.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*o-i*r;return a?(a=1/a,t[0]=o*a,t[1]=-r*a,t[2]=-i*a,t[3]=n*a,t):null},i.adjoint=function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},i.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},i.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],l=n[1],u=n[2],c=n[3];return t[0]=r*s+o*l,t[1]=i*s+a*l,t[2]=r*u+o*c,t[3]=i*u+a*c,t},i.mul=i.multiply,i.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*s,t[1]=i*l+a*s,t[2]=r*-s+o*l,t[3]=i*-s+a*l,t},i.scale=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],l=n[1];return t[0]=r*s,t[1]=i*s,t[2]=o*l,t[3]=a*l,t},i.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},i.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},i.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},i.sub=i.subtract,i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=e[0],l=e[1],u=e[2],c=e[3];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-l)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-u)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))},i.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},i.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},t.exports=i},function(t,e,n){var r=n(108),i={};i.create=function(){var t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},i.fromValues=function(t,e,n,i,o,a){var s=new r.ARRAY_TYPE(6);return s[0]=t,s[1]=e,s[2]=n,s[3]=i,s[4]=o,s[5]=a,s},i.set=function(t,e,n,r,i,o,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t},i.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=n*o-r*i;return l?(l=1/l,t[0]=o*l,t[1]=-r*l,t[2]=-i*l,t[3]=n*l,t[4]=(i*s-o*a)*l,t[5]=(r*a-n*s)*l,t):null},i.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},i.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=n[0],c=n[1],f=n[2],h=n[3],d=n[4],p=n[5];return t[0]=r*u+o*c,t[1]=i*u+a*c,t[2]=r*f+o*h,t[3]=i*f+a*h,t[4]=r*d+o*p+s,t[5]=i*d+a*p+l,t},i.mul=i.multiply,i.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=Math.sin(n),c=Math.cos(n);return t[0]=r*c+o*u,t[1]=i*c+a*u,t[2]=r*-u+o*c,t[3]=i*-u+a*c,t[4]=s,t[5]=l,t},i.scale=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=n[0],c=n[1];return t[0]=r*u,t[1]=i*u,t[2]=o*c,t[3]=a*c,t[4]=s,t[5]=l,t},i.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=n[0],c=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=r*u+o*c+s,t[5]=i*u+a*c+l,t},i.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},i.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t},i.sub=i.subtract,i.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t},i.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=e[0],c=e[1],f=e[2],h=e[3],d=e[4],p=e[5];return Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-c)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(o-f)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(a-h)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(s-d)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(l-p)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(p))},t.exports=i},function(t,e,n){var r=n(108),i={scalar:{},SIMD:{}};i.create=function(){var t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.clone=function(t){var e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.fromValues=function(t,e,n,i,o,a,s,l,u,c,f,h,d,p,m,g){var v=new r.ARRAY_TYPE(16);return v[0]=t,v[1]=e,v[2]=n,v[3]=i,v[4]=o,v[5]=a,v[6]=s,v[7]=l,v[8]=u,v[9]=c,v[10]=f,v[11]=h,v[12]=d,v[13]=p,v[14]=m,v[15]=g,v},i.set=function(t,e,n,r,i,o,a,s,l,u,c,f,h,d,p,m,g){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t[9]=c,t[10]=f,t[11]=h,t[12]=d,t[13]=p,t[14]=m,t[15]=g,t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.scalar.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},i.SIMD.transpose=function(t,e){var n,r,i,o,a,s,l,u,c,f;return n=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12),a=SIMD.Float32x4.shuffle(n,r,0,1,4,5),s=SIMD.Float32x4.shuffle(i,o,0,1,4,5),l=SIMD.Float32x4.shuffle(a,s,0,2,4,6),u=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(t,0,l),SIMD.Float32x4.store(t,4,u),a=SIMD.Float32x4.shuffle(n,r,2,3,6,7),s=SIMD.Float32x4.shuffle(i,o,2,3,6,7),c=SIMD.Float32x4.shuffle(a,s,0,2,4,6),f=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(t,8,c),SIMD.Float32x4.store(t,12,f),t},i.transpose=r.USE_SIMD?i.SIMD.transpose:i.scalar.transpose,i.scalar.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],d=e[11],p=e[12],m=e[13],g=e[14],v=e[15],y=n*s-r*a,b=n*l-i*a,_=n*u-o*a,w=r*l-i*s,x=r*u-o*s,E=i*u-o*l,M=c*m-f*p,S=c*g-h*p,T=c*v-d*p,C=f*g-h*m,O=f*v-d*m,A=h*v-d*g,I=y*A-b*O+_*C+w*T-x*S+E*M;return I?(I=1/I,t[0]=(s*A-l*O+u*C)*I,t[1]=(i*O-r*A-o*C)*I,t[2]=(m*E-g*x+v*w)*I,t[3]=(h*x-f*E-d*w)*I,t[4]=(l*T-a*A-u*S)*I,t[5]=(n*A-i*T+o*S)*I,t[6]=(g*_-p*E-v*b)*I,t[7]=(c*E-h*_+d*b)*I,t[8]=(a*O-s*T+u*M)*I,t[9]=(r*T-n*O-o*M)*I,t[10]=(p*x-m*_+v*y)*I,t[11]=(f*_-c*x-d*y)*I,t[12]=(s*S-a*C-l*M)*I,t[13]=(n*C-r*S+i*M)*I,t[14]=(m*b-p*w-g*y)*I,t[15]=(c*w-f*b+h*y)*I,t):null},i.SIMD.invert=function(t,e){var n,r,i,o,a,s,l,u,c,f,h=SIMD.Float32x4.load(e,0),d=SIMD.Float32x4.load(e,4),p=SIMD.Float32x4.load(e,8),m=SIMD.Float32x4.load(e,12);return a=SIMD.Float32x4.shuffle(h,d,0,1,4,5),r=SIMD.Float32x4.shuffle(p,m,0,1,4,5),n=SIMD.Float32x4.shuffle(a,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,a,1,3,5,7),a=SIMD.Float32x4.shuffle(h,d,2,3,6,7),o=SIMD.Float32x4.shuffle(p,m,2,3,6,7),i=SIMD.Float32x4.shuffle(a,o,0,2,4,6),o=SIMD.Float32x4.shuffle(o,a,1,3,5,7),a=SIMD.Float32x4.mul(i,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.mul(r,a),l=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,a),s),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),a=SIMD.Float32x4.mul(r,i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),s),c=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(o,a)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),a=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r,2,3,0,1),o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),i=SIMD.Float32x4.swizzle(i,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),s),u=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(i,a)),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),a=SIMD.Float32x4.mul(n,r),a=SIMD.Float32x4.swizzle(a,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),u),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),c),a=SIMD.Float32x4.swizzle(a,2,3,0,1),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,a),u),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(i,a)),a=SIMD.Float32x4.mul(n,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(i,a)),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),u),a=SIMD.Float32x4.swizzle(a,2,3,0,1),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),l),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.mul(n,i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),l),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.swizzle(a,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(o,a)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),c),f=SIMD.Float32x4.mul(n,s),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,2,3,0,1),f),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,1,0,3,2),f),a=SIMD.Float32x4.reciprocalApproximation(f),f=SIMD.Float32x4.sub(SIMD.Float32x4.add(a,a),SIMD.Float32x4.mul(f,SIMD.Float32x4.mul(a,a))),(f=SIMD.Float32x4.swizzle(f,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(f,s)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(f,l)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(f,u)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(f,c)),t):null},i.invert=r.USE_SIMD?i.SIMD.invert:i.scalar.invert,i.scalar.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],d=e[11],p=e[12],m=e[13],g=e[14],v=e[15];return t[0]=s*(h*v-d*g)-f*(l*v-u*g)+m*(l*d-u*h),t[1]=-(r*(h*v-d*g)-f*(i*v-o*g)+m*(i*d-o*h)),t[2]=r*(l*v-u*g)-s*(i*v-o*g)+m*(i*u-o*l),t[3]=-(r*(l*d-u*h)-s*(i*d-o*h)+f*(i*u-o*l)),t[4]=-(a*(h*v-d*g)-c*(l*v-u*g)+p*(l*d-u*h)),t[5]=n*(h*v-d*g)-c*(i*v-o*g)+p*(i*d-o*h),t[6]=-(n*(l*v-u*g)-a*(i*v-o*g)+p*(i*u-o*l)),t[7]=n*(l*d-u*h)-a*(i*d-o*h)+c*(i*u-o*l),t[8]=a*(f*v-d*m)-c*(s*v-u*m)+p*(s*d-u*f),t[9]=-(n*(f*v-d*m)-c*(r*v-o*m)+p*(r*d-o*f)),t[10]=n*(s*v-u*m)-a*(r*v-o*m)+p*(r*u-o*s),t[11]=-(n*(s*d-u*f)-a*(r*d-o*f)+c*(r*u-o*s)),t[12]=-(a*(f*g-h*m)-c*(s*g-l*m)+p*(s*h-l*f)),t[13]=n*(f*g-h*m)-c*(r*g-i*m)+p*(r*h-i*f),t[14]=-(n*(s*g-l*m)-a*(r*g-i*m)+p*(r*l-i*s)),t[15]=n*(s*h-l*f)-a*(r*h-i*f)+c*(r*l-i*s),t},i.SIMD.adjoint=function(t,e){var n,r,i,o,a,s,l,u,c,f,h,d,p,n=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12);return c=SIMD.Float32x4.shuffle(n,r,0,1,4,5),s=SIMD.Float32x4.shuffle(i,o,0,1,4,5),a=SIMD.Float32x4.shuffle(c,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,c,1,3,5,7),c=SIMD.Float32x4.shuffle(n,r,2,3,6,7),u=SIMD.Float32x4.shuffle(i,o,2,3,6,7),l=SIMD.Float32x4.shuffle(c,u,0,2,4,6),u=SIMD.Float32x4.shuffle(u,c,1,3,5,7),c=SIMD.Float32x4.mul(l,u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.mul(s,c),h=SIMD.Float32x4.mul(a,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,c),f),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,c),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),c=SIMD.Float32x4.mul(s,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),f),p=SIMD.Float32x4.mul(a,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(u,c)),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,c),p),p=SIMD.Float32x4.swizzle(p,2,3,0,1),c=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,3,0,1),u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),l=SIMD.Float32x4.swizzle(l,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),f),d=SIMD.Float32x4.mul(a,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(l,c)),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,c),d),d=SIMD.Float32x4.swizzle(d,2,3,0,1),c=SIMD.Float32x4.mul(a,s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),d),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,c),p),c=SIMD.Float32x4.swizzle(c,2,3,0,1),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,c),d),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(l,c)),c=SIMD.Float32x4.mul(a,u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(l,c)),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),d),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),h),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(s,c)),c=SIMD.Float32x4.mul(a,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),h),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(s,c)),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(u,c)),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),p),SIMD.Float32x4.store(t,0,f),SIMD.Float32x4.store(t,4,h),SIMD.Float32x4.store(t,8,d),SIMD.Float32x4.store(t,12,p),t},i.adjoint=r.USE_SIMD?i.SIMD.adjoint:i.scalar.adjoint,i.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],f=t[10],h=t[11],d=t[12],p=t[13],m=t[14],g=t[15];return(e*a-n*o)*(f*g-h*m)-(e*s-r*o)*(c*g-h*p)+(e*l-i*o)*(c*m-f*p)+(n*s-r*a)*(u*g-h*d)-(n*l-i*a)*(u*m-f*d)+(r*l-i*s)*(u*p-c*d)},i.SIMD.multiply=function(t,e,n){var r=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4.load(n,0),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),a))));SIMD.Float32x4.store(t,0,l);var u=SIMD.Float32x4.load(n,4),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,3,3,3,3),a))));SIMD.Float32x4.store(t,4,c);var f=SIMD.Float32x4.load(n,8),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,3,3,3,3),a))));SIMD.Float32x4.store(t,8,h);var d=SIMD.Float32x4.load(n,12),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,3,3,3,3),a))));return SIMD.Float32x4.store(t,12,p),t},i.scalar.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],h=e[9],d=e[10],p=e[11],m=e[12],g=e[13],v=e[14],y=e[15],b=n[0],_=n[1],w=n[2],x=n[3];return t[0]=b*r+_*s+w*f+x*m,t[1]=b*i+_*l+w*h+x*g,t[2]=b*o+_*u+w*d+x*v,t[3]=b*a+_*c+w*p+x*y,b=n[4],_=n[5],w=n[6],x=n[7],t[4]=b*r+_*s+w*f+x*m,t[5]=b*i+_*l+w*h+x*g,t[6]=b*o+_*u+w*d+x*v,t[7]=b*a+_*c+w*p+x*y,b=n[8],_=n[9],w=n[10],x=n[11],t[8]=b*r+_*s+w*f+x*m,t[9]=b*i+_*l+w*h+x*g,t[10]=b*o+_*u+w*d+x*v,t[11]=b*a+_*c+w*p+x*y,b=n[12],_=n[13],w=n[14],x=n[15],t[12]=b*r+_*s+w*f+x*m,t[13]=b*i+_*l+w*h+x*g,t[14]=b*o+_*u+w*d+x*v,t[15]=b*a+_*c+w*p+x*y,t},i.multiply=r.USE_SIMD?i.SIMD.multiply:i.scalar.multiply,i.mul=i.multiply,i.scalar.translate=function(t,e,n){var r,i,o,a,s,l,u,c,f,h,d,p,m=n[0],g=n[1],v=n[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*v+e[12],t[13]=e[1]*m+e[5]*g+e[9]*v+e[13],t[14]=e[2]*m+e[6]*g+e[10]*v+e[14],t[15]=e[3]*m+e[7]*g+e[11]*v+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],h=e[9],d=e[10],p=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=f,t[9]=h,t[10]=d,t[11]=p,t[12]=r*m+s*g+f*v+e[12],t[13]=i*m+l*g+h*v+e[13],t[14]=o*m+u*g+d*v+e[14],t[15]=a*m+c*g+p*v+e[15]),t},i.SIMD.translate=function(t,e,n){var r=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4(n[0],n[1],n[2],0);e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(s,0,0,0,0)),i=SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(s,1,1,1,1)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(s,2,2,2,2));var l=SIMD.Float32x4.add(r,SIMD.Float32x4.add(i,SIMD.Float32x4.add(o,a)));return SIMD.Float32x4.store(t,12,l),t},i.translate=r.USE_SIMD?i.SIMD.translate:i.scalar.translate,i.scalar.scale=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.SIMD.scale=function(t,e,n){var r,i,o,a=SIMD.Float32x4(n[0],n[1],n[2],0);return r=SIMD.Float32x4.load(e,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(a,0,0,0,0))),i=SIMD.Float32x4.load(e,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(a,1,1,1,1))),o=SIMD.Float32x4.load(e,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(a,2,2,2,2))),t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.scale=r.USE_SIMD?i.SIMD.scale:i.scalar.scale,i.rotate=function(t,e,n,i){var o,a,s,l,u,c,f,h,d,p,m,g,v,y,b,_,w,x,E,M,S,T,C,O,A=i[0],I=i[1],R=i[2],P=Math.sqrt(A*A+I*I+R*R);return Math.abs(P)<r.EPSILON?null:(P=1/P,A*=P,I*=P,R*=P,o=Math.sin(n),a=Math.cos(n),s=1-a,l=e[0],u=e[1],c=e[2],f=e[3],h=e[4],d=e[5],p=e[6],m=e[7],g=e[8],v=e[9],y=e[10],b=e[11],_=A*A*s+a,w=I*A*s+R*o,x=R*A*s-I*o,E=A*I*s-R*o,M=I*I*s+a,S=R*I*s+A*o,T=A*R*s+I*o,C=I*R*s-A*o,O=R*R*s+a,t[0]=l*_+h*w+g*x,t[1]=u*_+d*w+v*x,t[2]=c*_+p*w+y*x,t[3]=f*_+m*w+b*x,t[4]=l*E+h*M+g*S,t[5]=u*E+d*M+v*S,t[6]=c*E+p*M+y*S,t[7]=f*E+m*M+b*S,t[8]=l*T+h*C+g*O,t[9]=u*T+d*C+v*O,t[10]=c*T+p*C+y*O,t[11]=f*T+m*C+b*O,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},i.scalar.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+u*r,t[5]=a*i+c*r,t[6]=s*i+f*r,t[7]=l*i+h*r,t[8]=u*i-o*r,t[9]=c*i-a*r,t[10]=f*i-s*r,t[11]=h*i-l*r,t},i.SIMD.rotateX=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),i=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,4),a=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,i),SIMD.Float32x4.mul(o,r))),t},i.rotateX=r.USE_SIMD?i.SIMD.rotateX:i.scalar.rotateX,i.scalar.rotateY=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-u*r,t[1]=a*i-c*r,t[2]=s*i-f*r,t[3]=l*i-h*r,t[8]=o*r+u*i,t[9]=a*r+c*i,t[10]=s*r+f*i,t[11]=l*r+h*i,t},i.SIMD.rotateY=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),i=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,i),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(a,i))),t},i.rotateY=r.USE_SIMD?i.SIMD.rotateY:i.scalar.rotateY,i.scalar.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+u*r,t[1]=a*i+c*r,t[2]=s*i+f*r,t[3]=l*i+h*r,t[4]=u*i-o*r,t[5]=c*i-a*r,t[6]=f*i-s*r,t[7]=h*i-l*r,t},i.SIMD.rotateZ=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),i=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,i),SIMD.Float32x4.mul(o,r))),t},i.rotateZ=r.USE_SIMD?i.SIMD.rotateZ:i.scalar.rotateZ,i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromRotation=function(t,e,n){var i,o,a,s=n[0],l=n[1],u=n[2],c=Math.sqrt(s*s+l*l+u*u);return Math.abs(c)<r.EPSILON?null:(c=1/c,s*=c,l*=c,u*=c,i=Math.sin(e),o=Math.cos(e),a=1-o,t[0]=s*s*a+o,t[1]=l*s*a+u*i,t[2]=u*s*a-l*i,t[3]=0,t[4]=s*l*a-u*i,t[5]=l*l*a+o,t[6]=u*l*a+s*i,t[7]=0,t[8]=s*u*a+l*i,t[9]=l*u*a-s*i,t[10]=u*u*a+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},i.fromXRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromYRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromZRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromRotationTranslation=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,l=i+i,u=o+o,c=r*s,f=r*l,h=r*u,d=i*l,p=i*u,m=o*u,g=a*s,v=a*l,y=a*u;return t[0]=1-(d+m),t[1]=f+y,t[2]=h-v,t[3]=0,t[4]=f-y,t[5]=1-(c+m),t[6]=p+g,t[7]=0,t[8]=h+v,t[9]=p-g,t[10]=1-(c+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},i.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},i.getRotation=function(t,e){var n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t},i.fromRotationTranslationScale=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],l=i+i,u=o+o,c=a+a,f=i*l,h=i*u,d=i*c,p=o*u,m=o*c,g=a*c,v=s*l,y=s*u,b=s*c,_=r[0],w=r[1],x=r[2];return t[0]=(1-(p+g))*_,t[1]=(h+b)*_,t[2]=(d-y)*_,t[3]=0,t[4]=(h-b)*w,t[5]=(1-(f+g))*w,t[6]=(m+v)*w,t[7]=0,t[8]=(d+y)*x,t[9]=(m-v)*x,t[10]=(1-(f+p))*x,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},i.fromRotationTranslationScaleOrigin=function(t,e,n,r,i){var o=e[0],a=e[1],s=e[2],l=e[3],u=o+o,c=a+a,f=s+s,h=o*u,d=o*c,p=o*f,m=a*c,g=a*f,v=s*f,y=l*u,b=l*c,_=l*f,w=r[0],x=r[1],E=r[2],M=i[0],S=i[1],T=i[2];return t[0]=(1-(m+v))*w,t[1]=(d+_)*w,t[2]=(p-b)*w,t[3]=0,t[4]=(d-_)*x,t[5]=(1-(h+v))*x,t[6]=(g+y)*x,t[7]=0,t[8]=(p+b)*E,t[9]=(g-y)*E,t[10]=(1-(h+m))*E,t[11]=0,t[12]=n[0]+M-(t[0]*M+t[4]*S+t[8]*T),t[13]=n[1]+S-(t[1]*M+t[5]*S+t[9]*T),t[14]=n[2]+T-(t[2]*M+t[6]*S+t[10]*T),t[15]=1,t},i.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,l=i+i,u=n*a,c=r*a,f=r*s,h=i*a,d=i*s,p=i*l,m=o*a,g=o*s,v=o*l;return t[0]=1-f-p,t[1]=c+v,t[2]=h-g,t[3]=0,t[4]=c-v,t[5]=1-u-p,t[6]=d+m,t[7]=0,t[8]=h+g,t[9]=d-m,t[10]=1-u-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.frustum=function(t,e,n,r,i,o,a){var s=1/(n-e),l=1/(i-r),u=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*l,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*l,t[10]=(a+o)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*u,t[15]=0,t},i.perspective=function(t,e,n,r,i){var o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t},i.perspectiveFromFieldOfView=function(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(a+s),u=2/(i+o);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(a-s)*l*.5,t[9]=(i-o)*u*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},i.ortho=function(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(a+o)*u,t[15]=1,t},i.lookAt=function(t,e,n,o){var a,s,l,u,c,f,h,d,p,m,g=e[0],v=e[1],y=e[2],b=o[0],_=o[1],w=o[2],x=n[0],E=n[1],M=n[2];return Math.abs(g-x)<r.EPSILON&&Math.abs(v-E)<r.EPSILON&&Math.abs(y-M)<r.EPSILON?i.identity(t):(h=g-x,d=v-E,p=y-M,m=1/Math.sqrt(h*h+d*d+p*p),h*=m,d*=m,p*=m,a=_*p-w*d,s=w*h-b*p,l=b*d-_*h,m=Math.sqrt(a*a+s*s+l*l),m?(m=1/m,a*=m,s*=m,l*=m):(a=0,s=0,l=0),u=d*l-p*s,c=p*a-h*l,f=h*s-d*a,m=Math.sqrt(u*u+c*c+f*f),m?(m=1/m,u*=m,c*=m,f*=m):(u=0,c=0,f=0),t[0]=a,t[1]=u,t[2]=h,t[3]=0,t[4]=s,t[5]=c,t[6]=d,t[7]=0,t[8]=l,t[9]=f,t[10]=p,t[11]=0,t[12]=-(a*g+s*v+l*y),t[13]=-(u*g+c*v+f*y),t[14]=-(h*g+d*v+p*y),t[15]=1,t)},i.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t},i.sub=i.subtract,i.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},i.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],h=t[9],d=t[10],p=t[11],m=t[12],g=t[13],v=t[14],y=t[15],b=e[0],_=e[1],w=e[2],x=e[3],E=e[4],M=e[5],S=e[6],T=e[7],C=e[8],O=e[9],A=e[10],I=e[11],R=e[12],P=e[13],L=e[14],N=e[15];return Math.abs(n-b)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(i-_)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-w)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-x)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(s-E)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(l-M)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(u-S)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(c-T)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(f-C)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(C))&&Math.abs(h-O)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(O))&&Math.abs(d-A)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(p-I)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(I))&&Math.abs(m-R)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(R))&&Math.abs(g-P)<=r.EPSILON*Math.max(1,Math.abs(g),Math.abs(P))&&Math.abs(v-L)<=r.EPSILON*Math.max(1,Math.abs(v),Math.abs(L))&&Math.abs(y-N)<=r.EPSILON*Math.max(1,Math.abs(y),Math.abs(N))},t.exports=i},function(t,e,n){var r=n(108),i=n(307),o=n(100),a=n(435),s={};s.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.rotationTo=function(){var t=o.create(),e=o.fromValues(1,0,0),n=o.fromValues(0,1,0);return function(r,i,a){var l=o.dot(i,a);return l<-.999999?(o.cross(t,e,i),o.length(t)<1e-6&&o.cross(t,n,i),o.normalize(t,t),s.setAxisAngle(r,t,Math.PI),r):l>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(o.cross(t,i,a),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+l,s.normalize(r,r))}}(),s.setAxes=function(){var t=i.create();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],s.normalize(e,s.fromMat3(e,t))}}(),s.clone=a.clone,s.fromValues=a.fromValues,s.copy=a.copy,s.set=a.set,s.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.setAxisAngle=function(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t},s.getAxisAngle=function(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return 0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n},s.add=a.add,s.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],l=n[1],u=n[2],c=n[3];return t[0]=r*c+a*s+i*u-o*l,t[1]=i*c+a*l+o*s-r*u,t[2]=o*c+a*u+r*l-i*s,t[3]=a*c-r*s-i*l-o*u,t},s.mul=s.multiply,s.scale=a.scale,s.rotateX=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+a*s,t[1]=i*l+o*s,t[2]=o*l-i*s,t[3]=a*l-r*s,t},s.rotateY=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l-o*s,t[1]=i*l+a*s,t[2]=o*l+r*s,t[3]=a*l-i*s,t},s.rotateZ=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+i*s,t[1]=i*l-r*s,t[2]=o*l+a*s,t[3]=a*l-o*s,t},s.calculateW=function(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t},s.dot=a.dot,s.lerp=a.lerp,s.slerp=function(t,e,n,r){var i,o,a,s,l,u=e[0],c=e[1],f=e[2],h=e[3],d=n[0],p=n[1],m=n[2],g=n[3];return o=u*d+c*p+f*m+h*g,o<0&&(o=-o,d=-d,p=-p,m=-m,g=-g),1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,l=Math.sin(r*i)/a):(s=1-r,l=r),t[0]=s*u+l*d,t[1]=s*c+l*p,t[2]=s*f+l*m,t[3]=s*h+l*g,t},s.sqlerp=function(){var t=s.create(),e=s.create();return function(n,r,i,o,a,l){return s.slerp(t,r,a,l),s.slerp(e,i,o,l),s.slerp(n,t,e,2*l*(1-l)),n}}(),s.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t},s.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},s.length=a.length,s.len=s.length,s.squaredLength=a.squaredLength,s.sqrLen=s.squaredLength,s.normalize=a.normalize,s.fromMat3=function(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[a]=(e[3*a+i]+e[3*i+a])*n}return t},s.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},s.exactEquals=a.exactEquals,s.equals=a.equals,t.exports=s},function(t,e){!function(){"use strict";window.CM||(window.CM={uniqueID:function(){var t=Math.floor(1e6*Math.random());return function(){return t=(t+1)%1e6}}()})}()},function(t,e,n){"use strict";var r=n(69),i=n.n(r),o=i.a;window.CM.Proj4={getProj4:function(){return o},setProj4:function(t){o=t}}},function(t,e,n){function r(t,e,n){var r;return Array.isArray(n)?(r=s(t,e,n),3===n.length?[r.x,r.y,r.z]:[r.x,r.y]):s(t,e,n)}function i(t){return t instanceof a?t:t.oProj?t.oProj:a(t)}function o(t,e,n){t=i(t);var o,a=!1;return void 0===e?(e=t,t=l,a=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=l,a=!0),e=i(e),n?r(t,e,n):(o={forward:function(n){return r(t,e,n)},inverse:function(n){return r(e,t,n)}},a&&(o.oProj=e),o)}var a=n(308),s=n(439),l=a("WGS84");t.exports=o},function(t,e,n){function r(t){return"string"==typeof t}function i(t){return t in l}function o(t){return["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"].reduce(function(e,n){return e+1+t.indexOf(n)},0)}function a(t){return"+"===t[0]}function s(t){return r(t)?i(t)?l[t]:o(t)?u(t):a(t)?c(t):void 0:t}var l=n(436),u=n(438),c=n(437);t.exports=s},function(t,e){t.exports=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}},function(t,e){e.greenwich=0,e.lisbon=-9.131906111111,e.paris=2.337229166667,e.bogota=-74.080916666667,e.madrid=-3.687938888889,e.rome=12.452333333333,e.bern=7.439583333333,e.jakarta=106.807719444444,e.ferro=-17.666666666667,e.brussels=4.367975,e.stockholm=18.058277777778,e.athens=23.7163375,e.oslo=10.722916666667},function(t,e){e.ft={to_meter:.3048},e["us-ft"]={to_meter:1200/3937}},function(t,e,n){function r(t,e){var n=a.length;return t.names?(a[n]=t,t.names.forEach(function(t){o[t.toLowerCase()]=n}),this):(console.log(e),!0)}var i=[n(867),n(868)],o={},a=[];e.add=r,e.get=function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==o[e]&&a[o[e]]?a[o[e]]:void 0},e.start=function(){i.forEach(r)}},function(t,e,n){var r=n(158),i=Math.PI/2,o=57.29577951308232,a=n(45),s=Math.PI/4,l=n(236),u=n(237);e.init=function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=r(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},e.forward=function(t){var e=t.x,n=t.y;if(n*o>90&&n*o<-90&&e*o>180&&e*o<-180)return null;var r,u;if(Math.abs(Math.abs(n)-i)<=1e-10)return null;if(this.sphere)r=this.x0+this.a*this.k0*a(e-this.long0),u=this.y0+this.a*this.k0*Math.log(Math.tan(s+.5*n));else{var c=Math.sin(n),f=l(this.e,n,c);r=this.x0+this.a*this.k0*a(e-this.long0),u=this.y0-this.a*this.k0*Math.log(f)}return t.x=r,t.y=u,t},e.inverse=function(t){var e,n,r=t.x-this.x0,o=t.y-this.y0;if(this.sphere)n=i-2*Math.atan(Math.exp(-o/(this.a*this.k0)));else{var s=Math.exp(-o/(this.a*this.k0));if(-9999===(n=u(this.e,s)))return null}return e=a(this.long0+r/(this.a*this.k0)),t.x=e,t.y=n,t},e.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},function(t,e){function n(t){return t}e.init=function(){},e.forward=n,e.inverse=n,e.names=["longlat","identity"]},function(t,e,n){var r=n(870),i=n(871),o=n(309),a=n(872);t.exports=function(t){if(t.datumCode&&"none"!==t.datumCode){var e=r[t.datumCode];e&&(t.datum_params=e.towgs84?e.towgs84.split(","):null,t.ellps=e.ellipse,t.datumName=e.datumName?e.datumName:t.datumCode)}if(!t.a){var n=i[t.ellps]?i[t.ellps]:i.WGS84;o(t,n)}return t.rf&&!t.b&&(t.b=(1-1/t.rf)*t.a),(0===t.rf||Math.abs(t.a-t.b)<1e-10)&&(t.sphere=!0,t.b=t.a),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=(t.a2-t.b2)/t.a2,t.e=Math.sqrt(t.es),t.R_A&&(t.a*=1-t.es*(.16666666666666666+t.es*(.04722222222222222+.022156084656084655*t.es)),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=0),t.ep2=(t.a2-t.b2)/t.b2,t.k0||(t.k0=1),t.axis||(t.axis="enu"),t.datum||(t.datum=a(t)),t}},function(t,e){e.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},e.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},e.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},e.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},e.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},e.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},e.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},e.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},e.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},e.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},e.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},e.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},e.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},e.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},e.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},e.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},function(t,e){e.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},e.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},e.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},e.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},e.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},e.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},e.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},e.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},e.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},e.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},e.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},e.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},e.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},e.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},e.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},e.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},e.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},e.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},e.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},e.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},e.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},e.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},e.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},e.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},e.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},e.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},e.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},e.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},e.hough={a:6378270,rf:297,ellipseName:"Hough"},e.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},e.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},e.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},e.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},e.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},e.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},e.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},e.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},e.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},e.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},e.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},e.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},e.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},e.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},function(t,e){var n=Math.PI/2,r=function(t){if(!(this instanceof r))return new r(t);this.datum_type=4,t&&(t.datumCode&&"none"===t.datumCode&&(this.datum_type=5),t.datum_params&&(this.datum_params=t.datum_params.map(parseFloat),0===this.datum_params[0]&&0===this.datum_params[1]&&0===this.datum_params[2]||(this.datum_type=1),this.datum_params.length>3&&(0===this.datum_params[3]&&0===this.datum_params[4]&&0===this.datum_params[5]&&0===this.datum_params[6]||(this.datum_type=2,this.datum_params[3]*=484813681109536e-20,this.datum_params[4]*=484813681109536e-20,this.datum_params[5]*=484813681109536e-20,this.datum_params[6]=this.datum_params[6]/1e6+1))),this.datum_type=t.grids?3:this.datum_type,this.a=t.a,this.b=t.b,this.es=t.es,this.ep2=t.ep2,3===this.datum_type&&(this.grids=t.grids))};r.prototype={compare_datums:function(t){return this.datum_type===t.datum_type&&(!(this.a!==t.a||Math.abs(this.es-t.es)>5e-11)&&(1===this.datum_type?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]:2===this.datum_type?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]&&this.datum_params[3]===t.datum_params[3]&&this.datum_params[4]===t.datum_params[4]&&this.datum_params[5]===t.datum_params[5]&&this.datum_params[6]===t.datum_params[6]:3!==this.datum_type&&3!==t.datum_type||this.nadgrids===t.nadgrids))},geodetic_to_geocentric:function(t){var e,r,i,o,a,s,l,u=t.x,c=t.y,f=t.z?t.z:0;if(c<-n&&c>-1.001*n)c=-n;else if(c>n&&c<1.001*n)c=n;else if(c<-n||c>n)return null;return u>Math.PI&&(u-=2*Math.PI),a=Math.sin(c),l=Math.cos(c),s=a*a,o=this.a/Math.sqrt(1-this.es*s),e=(o+f)*l*Math.cos(u),r=(o+f)*l*Math.sin(u),i=(o*(1-this.es)+f)*a,t.x=e,t.y=r,t.z=i,0},geocentric_to_geodetic:function(t){var e,r,i,o,a,s,l,u,c,f,h,d,p,m,g,v,y=t.x,b=t.y,_=t.z?t.z:0;if(!1,e=Math.sqrt(y*y+b*b),r=Math.sqrt(y*y+b*b+_*_),e/this.a<1e-12){if(!0,m=0,r/this.a<1e-12)return g=n,void(v=-this.b)}else m=Math.atan2(b,y);i=_/r,o=e/r,a=1/Math.sqrt(1-this.es*(2-this.es)*o*o),u=o*(1-this.es)*a,c=i*a,p=0;do{p++,l=this.a/Math.sqrt(1-this.es*c*c),v=e*u+_*c-l*(1-this.es*c*c),s=this.es*l/(l+v),a=1/Math.sqrt(1-s*(2-s)*o*o),f=o*(1-s)*a,h=i*a,d=h*u-f*c,u=f,c=h}while(d*d>1e-24&&p<30);return g=Math.atan(h/Math.abs(f)),t.x=m,t.y=g,t.z=v,t},geocentric_to_geodetic_noniter:function(t){var e,r,i,o,a,s,l,u,c,f,h,d,p,m,g,v,y,b=t.x,_=t.y,w=t.z?t.z:0;if(b=parseFloat(b),_=parseFloat(_),w=parseFloat(w),y=!1,0!==b)e=Math.atan2(_,b);else if(_>0)e=n;else if(_<0)e=-n;else if(y=!0,e=0,w>0)r=n;else{if(!(w<0))return r=n,void(i=-this.b);r=-n}return a=b*b+_*_,o=Math.sqrt(a),s=1.0026*w,u=Math.sqrt(s*s+a),f=s/u,d=o/u,h=f*f*f,l=w+this.b*this.ep2*h,v=o-this.a*this.es*d*d*d,c=Math.sqrt(l*l+v*v),p=l/c,m=v/c,g=this.a/Math.sqrt(1-this.es*p*p),i=m>=.3826834323650898?o/m-g:m<=-.3826834323650898?o/-m-g:w/p+g*(this.es-1),!1===y&&(r=Math.atan(p/m)),t.x=e,t.y=r,t.z=i,t},geocentric_to_wgs84:function(t){if(1===this.datum_type)t.x+=this.datum_params[0],t.y+=this.datum_params[1],t.z+=this.datum_params[2];else if(2===this.datum_type){var e=this.datum_params[0],n=this.datum_params[1],r=this.datum_params[2],i=this.datum_params[3],o=this.datum_params[4],a=this.datum_params[5],s=this.datum_params[6],l=s*(t.x-a*t.y+o*t.z)+e,u=s*(a*t.x+t.y-i*t.z)+n,c=s*(-o*t.x+i*t.y+t.z)+r;t.x=l,t.y=u,t.z=c}},geocentric_from_wgs84:function(t){if(1===this.datum_type)t.x-=this.datum_params[0],t.y-=this.datum_params[1],t.z-=this.datum_params[2];else if(2===this.datum_type){var e=this.datum_params[0],n=this.datum_params[1],r=this.datum_params[2],i=this.datum_params[3],o=this.datum_params[4],a=this.datum_params[5],s=this.datum_params[6],l=(t.x-e)/s,u=(t.y-n)/s,c=(t.z-r)/s;t.x=l+a*u-o*c,t.y=-a*l+u+i*c,t.z=o*l-i*u+c}}},t.exports=r},function(t,e){var n=1,r=2;t.exports=function(t,e,i){function o(t){return t===n||t===r}var a,s,l;if(t.compare_datums(e))return i;if(5===t.datum_type||5===e.datum_type)return i;var u=t.a,c=t.es,f=e.a,h=e.es,d=t.datum_type;if(3===d)if(0===this.apply_gridshift(t,0,i))t.a=6378137,t.es=.006694379990141316;else{if(!t.datum_params)return t.a=u,t.es=t.es,i;for(a=1,s=0,l=t.datum_params.length;s<l;s++)a*=t.datum_params[s];if(0===a)return t.a=u,t.es=t.es,i;d=t.datum_params.length>3?r:n}return 3===e.datum_type&&(e.a=6378137,e.es=.006694379990141316),(t.es!==e.es||t.a!==e.a||o(d)||o(e.datum_type))&&(t.geodetic_to_geocentric(i),o(t.datum_type)&&t.geocentric_to_wgs84(i),o(e.datum_type)&&e.geocentric_from_wgs84(i),e.geocentric_to_geodetic(i)),3===e.datum_type&&this.apply_gridshift(e,1,i),t.a=u,t.es=c,e.a=f,e.es=h,i}},function(t,e){t.exports=function(t,e,n){var r,i,o,a=n.x,s=n.y,l=n.z||0;for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(r=a,i="x"):1===o?(r=s,i="y"):(r=l,i="z"),t.axis[o]){case"e":n[i]=r;break;case"w":n[i]=-r;break;case"n":n[i]=r;break;case"s":n[i]=-r;break;case"u":void 0!==n[i]&&(n.z=r);break;case"d":void 0!==n[i]&&(n.z=-r);break;default:return null}return n}},function(t,e,n){function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var i=n(441);r.fromMGRS=function(t){return new r(i.toPoint(t))},r.prototype.toMGRS=function(t){return i.forward([this.x,this.y],t)},t.exports=r},function(t,e){t.exports={_args:[["proj4@2.3.15","/var/lib/jenkins/workspace/deploy-street-smart-web/Staging"]],_from:"proj4@2.3.15",_id:"proj4@2.3.15",_inBundle:!1,_integrity:"sha1-WtBui8owvg/6OJpJ5FZfUfBtCJ4=",_location:"/proj4",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"proj4@2.3.15",name:"proj4",escapedName:"proj4",rawSpec:"2.3.15",saveSpec:null,fetchSpec:"2.3.15"},_requiredBy:["/","/shpjs"],_resolved:"https://registry.npmjs.org/proj4/-/proj4-2.3.15.tgz",_spec:"2.3.15",_where:"/var/lib/jenkins/workspace/deploy-street-smart-web/Staging",author:"",bugs:{url:"https://github.com/proj4js/proj4js/issues"},contributors:[{name:"Mike Adair",email:"madair@dmsolutions.ca"},{name:"Richard Greenwood",email:"rich@greenwoodmap.com"},{name:"Calvin Metcalf",email:"calvin.metcalf@gmail.com"},{name:"Richard Marsden",url:"http://www.winwaed.com"},{name:"T. Mittan"},{name:"D. Steinwand"},{name:"S. Nelson"}],dependencies:{mgrs:"~0.0.2"},description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",devDependencies:{browserify:"~12.0.1",chai:"~1.8.1",curl:"git://github.com/cujojs/curl.git",grunt:"~0.4.2","grunt-browserify":"~4.0.1","grunt-cli":"~0.1.13","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0","grunt-contrib-uglify":"~0.11.1","grunt-mocha-phantomjs":"~0.4.0",istanbul:"~0.2.4",mocha:"~1.17.1",tin:"~0.4.0"},directories:{test:"test",doc:"docs"},homepage:"https://github.com/proj4js/proj4js#readme",jam:{main:"dist/proj4.js",include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},license:"MIT",main:"lib/index.js",name:"proj4",repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},version:"2.3.15"}},function(t,e,n){var r=[n(442),n(878),n(879),n(882),n(883),n(884),n(885),n(886),n(887),n(888),n(889),n(890),n(891),n(893),n(894),n(895),n(896),n(897),n(900),n(901),n(902),n(903)];t.exports=function(t){r.forEach(function(e){t.Proj.projections.add(e)})}},function(t,e,n){var r=n(442);e.dependsOn="tmerc",e.init=function(){this.zone&&(this.lat0=0,this.long0=.017453292519943295*(6*Math.abs(this.zone)-183),this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,r.init.apply(this),this.forward=r.forward,this.inverse=r.inverse)},e.names=["Universal Transverse Mercator System","utm"]},function(t,e,n){var r=n(880),i=n(45);e.init=function(){r.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},e.forward=function(t){var e,n,o,a;return t.x=i(t.x-this.long0),r.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),o=Math.cos(t.x),a=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*o),t.x=a*n*Math.sin(t.x),t.y=a*(this.cosc0*e-this.sinc0*n*o),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},e.inverse=function(t){var e,n,o,a,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=Math.sqrt(t.x*t.x+t.y*t.y)){var l=2*Math.atan2(s,this.R2);e=Math.sin(l),n=Math.cos(l),a=Math.asin(n*this.sinc0+t.y*e*this.cosc0/s),o=Math.atan2(t.x*e,s*this.cosc0*n-t.y*this.sinc0*e)}else a=this.phic0,o=0;return t.x=o,t.y=a,r.inverse.apply(this,[t]),t.x=i(t.x+this.long0),t},e.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},function(t,e,n){var r=Math.PI/4,i=n(881),o=Math.PI/2;e.init=function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+r)/(Math.pow(Math.tan(.5*this.lat0+r),this.C)*i(this.e*t,this.ratexp))},e.forward=function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+r),this.C)*i(this.e*Math.sin(n),this.ratexp))-o,t.x=this.C*e,t},e.inverse=function(t){for(var e=t.x/this.C,n=t.y,a=Math.pow(Math.tan(.5*n+r)/this.K,1/this.C),s=20;s>0&&(n=2*Math.atan(a*i(this.e*Math.sin(t.y),-.5*this.e))-o,!(Math.abs(n-t.y)<1e-14));--s)t.y=n;return s?(t.x=e,t.y=n,t):null},e.names=["gauss"]},function(t,e){t.exports=function(t,e){return Math.pow((1-t)/(1+t),e)}},function(t,e,n){var r=Math.PI/2,i=n(185),o=n(158),a=n(236),s=n(237),l=n(45);e.ssfn_=function(t,e,n){return e*=n,Math.tan(.5*(r+t))*Math.pow((1-e)/(1+e),.5*n)},e.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*(1+i(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=1e-10&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*this.cons*o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/a(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=o(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-r,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},e.forward=function(t){var e,n,i,o,s,u,c=t.x,f=t.y,h=Math.sin(f),d=Math.cos(f),p=l(c-this.long0);return Math.abs(Math.abs(c-this.long0)-Math.PI)<=1e-10&&Math.abs(f+this.lat0)<=1e-10?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*h+this.coslat0*d*Math.cos(p)),t.x=this.a*e*d*Math.sin(p)+this.x0,t.y=this.a*e*(this.coslat0*h-this.sinlat0*d*Math.cos(p))+this.y0,t):(n=2*Math.atan(this.ssfn_(f,h,this.e))-r,o=Math.cos(n),i=Math.sin(n),Math.abs(this.coslat0)<=1e-10?(s=a(this.e,f*this.con,this.con*h),u=2*this.a*this.k0*s/this.cons,t.x=this.x0+u*Math.sin(c-this.long0),t.y=this.y0-this.con*u*Math.cos(c-this.long0),t):(Math.abs(this.sinlat0)<1e-10?(e=2*this.a*this.k0/(1+o*Math.cos(p)),t.y=e*i):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*o*Math.cos(p))),t.y=e*(this.cosX0*i-this.sinX0*o*Math.cos(p))+this.y0),t.x=e*o*Math.sin(p)+this.x0,t))},e.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,o,a,u=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var c=2*Math.atan(u/(.5*this.a*this.k0));return e=this.long0,(n=this.lat0,u<=1e-10)?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(c)*this.sinlat0+t.y*Math.sin(c)*this.coslat0/u),e=l(Math.abs(this.coslat0)<1e-10?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(c),u*this.coslat0*Math.cos(c)-t.y*this.sinlat0*Math.sin(c))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=1e-10){if(u<=1e-10)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,i=u*this.cons/(2*this.a*this.k0),n=this.con*s(this.e,i),e=this.con*l(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else o=2*Math.atan(u*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,u<=1e-10?a=this.X0:(a=Math.asin(Math.cos(o)*this.sinX0+t.y*Math.sin(o)*this.cosX0/u),e=l(this.long0+Math.atan2(t.x*Math.sin(o),u*this.cosX0*Math.cos(o)-t.y*this.sinX0*Math.sin(o)))),n=-1*s(this.e,Math.tan(.5*(r+a)));return t.x=e,t.y=n,t},e.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"]},function(t,e){e.init=function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=this.rf,i=1/r,o=2*i-Math.pow(i,2),a=this.e=Math.sqrt(o);this.R=this.k0*n*Math.sqrt(1-o)/(1-o*Math.pow(e,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+a*e)/(1-a*e));this.K=s-this.alpha*l+this.alpha*a/2*u},e.forward=function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),s=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*a+this.x0,t},e.inverse=function(t){for(var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),a=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),s=this.lambda0+a/this.alpha,l=0,u=o,c=-1e3,f=0;Math.abs(u-c)>1e-7;){if(++f>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),c=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=s,t.y=u,t},e.names=["somerc"]},function(t,e,n){var r=n(236),i=n(45),o=n(237),a=Math.PI/2,s=Math.PI/4;e.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var o=r(this.e,this.lat0,t),a=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));a*a<1&&(a=1);var s,l;if(isNaN(this.longc)){var u=r(this.e,this.lat1,Math.sin(this.lat1)),c=r(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(a+Math.sqrt(a*a-1))*Math.pow(o,this.bl):this.el=(a-Math.sqrt(a*a-1))*Math.pow(o,this.bl);var f=Math.pow(u,this.bl),h=Math.pow(c,this.bl);s=this.el/f,l=.5*(s-1/s);var d=(this.el*this.el-h*f)/(this.el*this.el+h*f),p=(h-f)/(h+f),m=i(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(d*Math.tan(.5*this.bl*m)/p)/this.bl,this.long0=i(this.long0);var g=i(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*g)/l),this.alpha=Math.asin(a*Math.sin(this.gamma0))}else s=this.lat0>=0?a+Math.sqrt(a*a-1):a-Math.sqrt(a*a-1),this.el=s*Math.pow(o,this.bl),l=.5*(s-1/s),this.gamma0=Math.asin(Math.sin(this.alpha)/a),this.long0=this.longc-Math.asin(l*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha))},e.forward=function(t){var e,n,o,l=t.x,u=t.y,c=i(l-this.long0);if(Math.abs(Math.abs(u)-a)<=1e-10)o=u>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(s+o*this.gamma0*.5)),e=-1*o*a*this.al/this.bl;else{var f=r(this.e,u,Math.sin(u)),h=this.el/Math.pow(f,this.bl),d=.5*(h-1/h),p=.5*(h+1/h),m=Math.sin(this.bl*c),g=(d*Math.sin(this.gamma0)-m*Math.cos(this.gamma0))/p;n=Math.abs(Math.abs(g)-1)<=1e-10?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-g)/(1+g))/this.bl,e=Math.abs(Math.cos(this.bl*c))<=1e-10?this.al*this.bl*c:this.al*Math.atan2(d*Math.cos(this.gamma0)+m*Math.sin(this.gamma0),Math.cos(this.bl*c))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t},e.inverse=function(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var r=Math.exp(-1*this.bl*n/this.al),s=.5*(r-1/r),l=.5*(r+1/r),u=Math.sin(this.bl*e/this.al),c=(u*Math.cos(this.gamma0)+s*Math.sin(this.gamma0))/l,f=Math.pow(this.el/Math.sqrt((1+c)/(1-c)),1/this.bl);return Math.abs(c-1)<1e-10?(t.x=this.long0,t.y=a):Math.abs(c+1)<1e-10?(t.x=this.long0,t.y=-1*a):(t.y=o(this.e,f),t.x=i(this.long0-Math.atan2(s*Math.cos(this.gamma0)-u*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},e.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},function(t,e,n){var r=n(158),i=n(236),o=Math.PI/2,a=n(185),s=n(45),l=n(237);e.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<1e-10)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),o=r(this.e,e,n),a=i(this.e,this.lat1,e),s=Math.sin(this.lat2),l=Math.cos(this.lat2),u=r(this.e,s,l),c=i(this.e,this.lat2,s),f=i(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>1e-10?this.ns=Math.log(o/u)/Math.log(a/c):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=o/(this.ns*Math.pow(a,this.ns)),this.rh=this.a*this.f0*Math.pow(f,this.ns),this.title||(this.title="Lambert Conformal Conic")}},e.forward=function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=1e-10&&(n=a(n)*(o-2e-10));var r,l,u=Math.abs(Math.abs(n)-o);if(u>1e-10)r=i(this.e,n,Math.sin(n)),l=this.a*this.f0*Math.pow(r,this.ns);else{if((u=n*this.ns)<=0)return null;l=0}var c=this.ns*s(e-this.long0);return t.x=this.k0*(l*Math.sin(c))+this.x0,t.y=this.k0*(this.rh-l*Math.cos(c))+this.y0,t},e.inverse=function(t){var e,n,r,i,a,u=(t.x-this.x0)/this.k0,c=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(u*u+c*c),n=1):(e=-Math.sqrt(u*u+c*c),n=-1);var f=0;if(0!==e&&(f=Math.atan2(n*u,n*c)),0!==e||this.ns>0){if(n=1/this.ns,r=Math.pow(e/(this.a*this.f0),n),-9999===(i=l(this.e,r)))return null}else i=-o;return a=s(f/this.ns+this.long0),t.x=a,t.y=i,t},e.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},function(t,e,n){var r=n(45);e.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},e.forward=function(t){var e,n,i,o,a,s,l,u=t.x,c=t.y,f=r(u-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),i=-f*this.alfa,o=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),a=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(o)),s=this.n*a,l=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(o/2+this.s45),this.n),t.y=l*Math.cos(s)/1,t.x=l*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},e.inverse=function(t){var e,n,r,i,o,a,s,l,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),a=Math.sqrt(t.x*t.x+t.y*t.y),o=Math.atan2(t.y,t.x),i=o/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,s=e,l=0;var c=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(l=1),s=t.y,c+=1}while(0===l&&c<15);return c>=15?null:t},e.names=["Krovak","krovak"]},function(t,e,n){var r=n(190),i=n(186),o=n(187),a=n(188),s=n(189),l=n(310),u=n(45),c=n(191),f=n(311),h=Math.PI/2;e.init=function(){this.sphere||(this.e0=i(this.es),this.e1=o(this.es),this.e2=a(this.es),this.e3=s(this.es),this.ml0=this.a*r(this.e0,this.e1,this.e2,this.e3,this.lat0))},e.forward=function(t){var e,n,i=t.x,o=t.y;if(i=u(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(o)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(o),Math.cos(i))-this.lat0);else{var a=Math.sin(o),s=Math.cos(o),c=l(this.a,this.e,a),f=Math.tan(o)*Math.tan(o),h=i*Math.cos(o),d=h*h,p=this.es*s*s/(1-this.es),m=this.a*r(this.e0,this.e1,this.e2,this.e3,o);e=c*h*(1-d*f*(1/6-(8-f+8*p)*d/120)),n=m-this.ml0+c*a/s*d*(.5+(5-f+6*p)*d/24)}return t.x=e+this.x0,t.y=n+this.y0,t},e.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r=t.x/this.a,i=t.y/this.a;if(this.sphere){var o=i+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(o))}else{var a=this.ml0/this.a+i,s=f(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-h)<=1e-10)return t.x=this.long0,t.y=h,i<0&&(t.y*=-1),t;var d=l(this.a,this.e,Math.sin(s)),p=d*d*d/this.a/this.a*(1-this.es),m=Math.pow(Math.tan(s),2),g=r*this.a/d,v=g*g;e=s-d*Math.tan(s)/p*g*g*(.5-(1+3*m)*g*g/24),n=g*(1-v*(m/3+(1+3*m)*m*v/15))/Math.cos(s)}return t.x=u(n+this.long0),t.y=c(e),t},e.names=["Cassini","Cassini_Soldner","cass"]},function(t,e,n){var r=Math.PI/2,i=Math.PI/4,o=n(312),a=n(45);e.S_POLE=1,e.N_POLE=2,e.EQUIT=3,e.OBLIQ=4,e.init=function(){var t=Math.abs(this.lat0);if(Math.abs(t-r)<1e-10?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<1e-10?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=o(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=o(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},e.forward=function(t){var e,n,s,l,u,c,f,h,d,p,m=t.x,g=t.y;if(m=a(m-this.long0),this.sphere){if(u=Math.sin(g),p=Math.cos(g),s=Math.cos(m),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+p*s:1+this.sinph0*u+this.cosph0*p*s)<=1e-10)return null;n=Math.sqrt(2/n),e=n*p*Math.sin(m),n*=this.mode===this.EQUIT?u:this.cosph0*u-this.sinph0*p*s}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(s=-s),Math.abs(g+this.phi0)<1e-10)return null;n=i-.5*g,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(m),n*=s}}else{switch(f=0,h=0,d=0,s=Math.cos(m),l=Math.sin(m),u=Math.sin(g),c=o(this.e,u),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(f=c/this.qp,h=Math.sqrt(1-f*f)),this.mode){case this.OBLIQ:d=1+this.sinb1*f+this.cosb1*h*s;break;case this.EQUIT:d=1+h*s;break;case this.N_POLE:d=r+g,c=this.qp-c;break;case this.S_POLE:d=g-r,c=this.qp+c}if(Math.abs(d)<1e-10)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:d=Math.sqrt(2/d),n=this.mode===this.OBLIQ?this.ymf*d*(this.cosb1*f-this.sinb1*h*s):(d=Math.sqrt(2/(1+h*s)))*f*this.ymf,e=this.xmf*d*h*l;break;case this.N_POLE:case this.S_POLE:c>=0?(e=(d=Math.sqrt(c))*l,n=s*(this.mode===this.S_POLE?d:-d)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},e.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,o,s,l,u,c=t.x/this.a,f=t.y/this.a;if(this.sphere){var h,d=0,p=0;if(h=Math.sqrt(c*c+f*f),(n=.5*h)>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(p=Math.sin(n),d=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(h)<=1e-10?0:Math.asin(f*p/h),c*=p,f=d*h;break;case this.OBLIQ:n=Math.abs(h)<=1e-10?this.phi0:Math.asin(d*this.sinph0+f*p*this.cosph0/h),c*=p*this.cosph0,f=(d-Math.sin(n)*this.sinph0)*h;break;case this.N_POLE:f=-f,n=r-n;break;case this.S_POLE:n-=r}e=0!==f||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(c,f):0}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(c/=this.dd,f*=this.dd,(l=Math.sqrt(c*c+f*f))<1e-10)return t.x=0,t.y=this.phi0,t;o=2*Math.asin(.5*l/this.rq),i=Math.cos(o),c*=o=Math.sin(o),this.mode===this.OBLIQ?(u=i*this.sinb1+f*o*this.cosb1/l,s=this.qp*u,f=l*this.cosb1*i-f*this.sinb1*o):(u=f*o/l,s=this.qp*u,f=l*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(f=-f),!(s=c*c+f*f))return t.x=0,t.y=this.phi0,t;u=1-s/this.qp,this.mode===this.S_POLE&&(u=-u)}e=Math.atan2(c,f),n=this.authlat(Math.asin(u),this.apa)}return t.x=a(this.long0+e),t.y=n,t},e.P00=.3333333333333333,e.P01=.17222222222222222,e.P02=.10257936507936508,e.P10=.06388888888888888,e.P11=.0664021164021164,e.P20=.016415012942191543,e.authset=function(t){var e,n=[];return n[0]=t*this.P00,e=t*t,n[0]+=e*this.P01,n[1]=e*this.P10,e*=t,n[0]+=e*this.P02,n[1]+=e*this.P11,n[2]=e*this.P20,n},e.authlat=function(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)},e.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},function(t,e,n){var r=n(158),i=n(312),o=n(45),a=n(159);e.init=function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=r(this.e3,this.sin_po,this.cos_po),this.qs1=i(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=r(this.e3,this.sin_po,this.cos_po),this.qs2=i(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=i(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>1e-10?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},e.forward=function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=i(this.e3,this.sin_phi,this.cos_phi),a=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,s=this.ns0*o(e-this.long0),l=a*Math.sin(s)+this.x0,u=this.rh-a*Math.cos(s)+this.y0;return t.x=l,t.y=u,t},e.inverse=function(t){var e,n,r,i,a,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),i=0,0!==e&&(i=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,s=this.phi1z(this.e3,n)),a=o(i/this.ns0+this.long0),t.x=a,t.y=s,t},e.phi1z=function(t,e){var n,r,i,o,s,l=a(.5*e);if(t<1e-10)return l;for(var u=t*t,c=1;c<=25;c++)if(n=Math.sin(l),r=Math.cos(l),i=t*n,o=1-i*i,s=.5*o*o/r*(e/(1-u)-n/o+.5/t*Math.log((1-i)/(1+i))),l+=s,Math.abs(s)<=1e-7)return l;return null},e.names=["Albers_Conic_Equal_Area","Albers","aea"]},function(t,e,n){var r=n(45),i=n(159);e.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},e.forward=function(t){var e,n,i,o,a,s,l,u,c=t.x,f=t.y;return i=r(c-this.long0),e=Math.sin(f),n=Math.cos(f),o=Math.cos(i),s=this.sin_p14*e+this.cos_p14*n*o,a=1,s>0||Math.abs(s)<=1e-10?(l=this.x0+this.a*a*n*Math.sin(i)/s,u=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*n*o)/s):(l=this.x0+this.infinity_dist*n*Math.sin(i),u=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*o)),t.x=l,t.y=u,t},e.inverse=function(t){var e,n,o,a,s,l;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(a=Math.atan2(e,this.rc),n=Math.sin(a),o=Math.cos(a),l=i(o*this.sin_p14+t.y*n*this.cos_p14/e),s=Math.atan2(t.x*n,e*this.cos_p14*o-t.y*this.sin_p14*n),s=r(this.long0+s)):(l=this.phic0,s=0),t.x=s,t.y=l,t},e.names=["gnom"]},function(t,e,n){var r=n(45),i=n(312),o=n(158),a=n(892);e.init=function(){this.sphere||(this.k0=o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},e.forward=function(t){var e,n,o=t.x,a=t.y,s=r(o-this.long0);if(this.sphere)e=this.x0+this.a*s*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(a)/Math.cos(this.lat_ts);else{var l=i(this.e,Math.sin(a));e=this.x0+this.a*this.k0*s,n=this.y0+this.a*l*.5/this.k0}return t.x=e,t.y=n,t},e.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=r(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=a(this.e,2*t.y*this.k0/this.a),e=r(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},e.names=["cea"]},function(t,e){var n=Math.PI/2;t.exports=function(t,e){var r=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-r)<1e-6)return e<0?-1*n:n;for(var i,o,a,s,l=Math.asin(.5*e),u=0;u<30;u++)if(o=Math.sin(l),a=Math.cos(l),s=t*o,i=Math.pow(1-s*s,2)/(2*a)*(e/(1-t*t)-o/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),l+=i,Math.abs(i)<=1e-10)return l;return NaN}},function(t,e,n){var r=n(45),i=n(191);e.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},e.forward=function(t){var e=t.x,n=t.y,o=r(e-this.long0),a=i(n-this.lat0);return t.x=this.x0+this.a*o*this.rc,t.y=this.y0+this.a*a,t},e.inverse=function(t){var e=t.x,n=t.y;return t.x=r(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=i(this.lat0+(n-this.y0)/this.a),t},e.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},function(t,e,n){var r=n(186),i=n(187),o=n(188),a=n(189),s=n(45),l=n(191),u=n(190),c=n(310);e.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=r(this.es),this.e1=i(this.es),this.e2=o(this.es),this.e3=a(this.es),this.ml0=this.a*u(this.e0,this.e1,this.e2,this.e3,this.lat0)},e.forward=function(t){var e,n,r,i=t.x,o=t.y,a=s(i-this.long0);if(r=a*Math.sin(o),this.sphere)Math.abs(o)<=1e-10?(e=this.a*a,n=-1*this.a*this.lat0):(e=this.a*Math.sin(r)/Math.tan(o),n=this.a*(l(o-this.lat0)+(1-Math.cos(r))/Math.tan(o)));else if(Math.abs(o)<=1e-10)e=this.a*a,n=-1*this.ml0;else{var f=c(this.a,this.e,Math.sin(o))/Math.tan(o);e=f*Math.sin(r),n=this.a*u(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+f*(1-Math.cos(r))}return t.x=e+this.x0,t.y=n+this.y0,t},e.inverse=function(t){var e,n,r,i,o,a,l,c,f;if(r=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=1e-10)e=s(r/this.a+this.long0),n=0;else{a=this.lat0+i/this.a,l=r*r/this.a/this.a+a*a,c=a;var h;for(o=20;o;--o)if(h=Math.tan(c),f=-1*(a*(c*h+1)-c-.5*(c*c+l)*h)/((c-a)/h-1),c+=f,Math.abs(f)<=1e-10){n=c;break}e=s(this.long0+Math.asin(r*Math.tan(c)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=1e-10)n=0,e=s(this.long0+r/this.a);else{a=(this.ml0+i)/this.a,l=r*r/this.a/this.a+a*a,c=a;var d,p,m,g,v;for(o=20;o;--o)if(v=this.e*Math.sin(c),d=Math.sqrt(1-v*v)*Math.tan(c),p=this.a*u(this.e0,this.e1,this.e2,this.e3,c),m=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),g=p/this.a,f=(a*(d*g+1)-g-.5*d*(g*g+l))/(this.es*Math.sin(2*c)*(g*g+l-2*a*g)/(4*d)+(a-g)*(d*m-2/Math.sin(2*c))-m),c-=f,Math.abs(f)<=1e-10){n=c;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=s(this.long0+Math.asin(r*d/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},e.names=["Polyconic","poly"]},function(t,e){e.iterations=1,e.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},e.forward=function(t){var e,n=t.x,r=t.y,i=r-this.lat0,o=n-this.long0,a=i/484813681109536e-20*1e-5,s=o,l=1,u=0;for(e=1;e<=10;e++)l*=a,u+=this.A[e]*l;var c,f,h=u,d=s,p=1,m=0,g=0,v=0;for(e=1;e<=6;e++)c=p*h-m*d,f=m*h+p*d,p=c,m=f,g=g+this.B_re[e]*p-this.B_im[e]*m,v=v+this.B_im[e]*p+this.B_re[e]*m;return t.x=v*this.a+this.x0,t.y=g*this.a+this.y0,t},e.inverse=function(t){var e,n,r,i=t.x,o=t.y,a=i-this.x0,s=o-this.y0,l=s/this.a,u=a/this.a,c=1,f=0,h=0,d=0;for(e=1;e<=6;e++)n=c*l-f*u,r=f*l+c*u,c=n,f=r,h=h+this.C_re[e]*c-this.C_im[e]*f,d=d+this.C_im[e]*c+this.C_re[e]*f;for(var p=0;p<this.iterations;p++){var m,g,v=h,y=d,b=l,_=u;for(e=2;e<=6;e++)m=v*h-y*d,g=y*h+v*d,v=m,y=g,b+=(e-1)*(this.B_re[e]*v-this.B_im[e]*y),_+=(e-1)*(this.B_im[e]*v+this.B_re[e]*y);v=1,y=0;var w=this.B_re[1],x=this.B_im[1];for(e=2;e<=6;e++)m=v*h-y*d,g=y*h+v*d,v=m,y=g,w+=e*(this.B_re[e]*v-this.B_im[e]*y),x+=e*(this.B_im[e]*v+this.B_re[e]*y);var E=w*w+x*x;h=(b*w+_*x)/E,d=(_*w-b*x)/E}var M=h,S=d,T=1,C=0;for(e=1;e<=9;e++)T*=M,C+=this.D[e]*T;var O=this.lat0+484813681109536e-20*C*1e5,A=this.long0+S;return t.x=A,t.y=O,t},e.names=["New_Zealand_Map_Grid","nzmg"]},function(t,e,n){var r=n(45);e.init=function(){},e.forward=function(t){var e=t.x,n=t.y,i=r(e-this.long0),o=this.x0+this.a*i,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=o,t.y=a,t},e.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e=r(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},e.names=["Miller_Cylindrical","mill"]},function(t,e,n){var r=n(45),i=n(191),o=n(898),a=n(443),s=n(899),l=Math.PI/2,u=n(159);e.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=o(this.es)},e.forward=function(t){var e,n,i=t.x,o=t.y;if(i=r(i-this.long0),this.sphere){if(this.m)for(var s=this.n*Math.sin(o),l=20;l;--l){var u=(this.m*o+Math.sin(o)-s)/(this.m+Math.cos(o));if(o-=u,Math.abs(u)<1e-10)break}else o=1!==this.n?Math.asin(this.n*Math.sin(o)):o;e=this.a*this.C_x*i*(this.m+Math.cos(o)),n=this.a*this.C_y*o}else{var c=Math.sin(o),f=Math.cos(o);n=this.a*a(o,c,f,this.en),e=this.a*i*f/Math.sqrt(1-this.es*c*c)}return t.x=e,t.y=n,t},e.inverse=function(t){var e,n,o,a;return t.x-=this.x0,o=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,o/=this.C_x*(this.m+Math.cos(e)),this.m?e=u((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=u(Math.sin(e)/this.n)),o=r(o+this.long0),e=i(e)):(e=s(t.y/this.a,this.es,this.en),a=Math.abs(e),a<l?(a=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*a*a)/(this.a*Math.cos(e)),o=r(n)):a-1e-10<l&&(o=this.long0)),t.x=o,t.y=e,t},e.names=["Sinusoidal","sinu"]},function(t,e){var n=.01068115234375;t.exports=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*n))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*n)));var r=t*t;return e[2]=r*(.46875-t*(.013020833333333334+.007120768229166667*t)),r*=t,e[3]=r*(.3645833333333333-.005696614583333333*t),e[4]=r*t*.3076171875,e}},function(t,e,n){var r=n(443);t.exports=function(t,e,n){for(var i=1/(1-e),o=t,a=20;a;--a){var s=Math.sin(o),l=1-e*s*s;if(l=(r(o,s,Math.cos(o),n)-t)*(l*Math.sqrt(l))*i,o-=l,Math.abs(l)<1e-10)return o}return o}},function(t,e,n){var r=n(45);e.init=function(){},e.forward=function(t){for(var e=t.x,n=t.y,i=r(e-this.long0),o=n,a=Math.PI*Math.sin(n),s=0;!0;s++){var l=-(o+Math.sin(o)-a)/(1+Math.cos(o));if(o+=l,Math.abs(l)<1e-10)break}o/=2,Math.PI/2-Math.abs(n)<1e-10&&(i=0);var u=.900316316158*this.a*i*Math.cos(o)+this.x0,c=1.4142135623731*this.a*Math.sin(o)+this.y0;return t.x=u,t.y=c,t},e.inverse=function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var i=r(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var o=Math.asin(n);return t.x=i,t.y=o,t},e.names=["Mollweide","moll"]},function(t,e,n){var r=n(186),i=n(187),o=n(188),a=n(189),s=n(158),l=n(190),u=n(45),c=n(191),f=n(311);e.init=function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=r(this.es),this.e1=i(this.es),this.e2=o(this.es),this.e3=a(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=s(this.e,this.sinphi,this.cosphi),this.ml1=l(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<1e-10?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=s(this.e,this.sinphi,this.cosphi),this.ml2=l(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=l(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},e.forward=function(t){var e,n=t.x,r=t.y;if(this.sphere)e=this.a*(this.g-r);else{var i=l(this.e0,this.e1,this.e2,this.e3,r);e=this.a*(this.g-i)}var o=this.ns*u(n-this.long0),a=this.x0+e*Math.sin(o),s=this.y0+this.rh-e*Math.cos(o);return t.x=a,t.y=s,t},e.inverse=function(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,r,i;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=u(this.long0+o/this.ns),r=c(this.g-n/this.a),t.x=i,t.y=r,t;var a=this.g-n/this.a;return r=f(a,this.e0,this.e1,this.e2,this.e3),i=u(this.long0+o/this.ns),t.x=i,t.y=r,t},e.names=["Equidistant_Conic","eqdc"]},function(t,e,n){var r=n(45),i=Math.PI/2,o=n(159);e.init=function(){this.R=this.a},e.forward=function(t){var e,n,a=t.x,s=t.y,l=r(a-this.long0);Math.abs(s)<=1e-10&&(e=this.x0+this.R*l,n=this.y0);var u=o(2*Math.abs(s/Math.PI));(Math.abs(l)<=1e-10||Math.abs(Math.abs(s)-i)<=1e-10)&&(e=this.x0,n=s>=0?this.y0+Math.PI*this.R*Math.tan(.5*u):this.y0+Math.PI*this.R*-Math.tan(.5*u));var c=.5*Math.abs(Math.PI/l-l/Math.PI),f=c*c,h=Math.sin(u),d=Math.cos(u),p=d/(h+d-1),m=p*p,g=p*(2/h-1),v=g*g,y=Math.PI*this.R*(c*(p-v)+Math.sqrt(f*(p-v)*(p-v)-(v+f)*(m-v)))/(v+f);l<0&&(y=-y),e=this.x0+y;var b=f+p;return y=Math.PI*this.R*(g*b-c*Math.sqrt((v+f)*(f+1)-b*b))/(v+f),n=s>=0?this.y0+y:this.y0-y,t.x=e,t.y=n,t},e.inverse=function(t){var e,n,i,o,a,s,l,u,c,f,h,d,p;return t.x-=this.x0,t.y-=this.y0,h=Math.PI*this.R,i=t.x/h,o=t.y/h,a=i*i+o*o,s=-Math.abs(o)*(1+a),l=s-2*o*o+i*i,u=-2*s+1+2*o*o+a*a,p=o*o/u+(2*l*l*l/u/u/u-9*s*l/u/u)/27,c=(s-l*l/3/u)/u,f=2*Math.sqrt(-c/3),h=3*p/c/f,Math.abs(h)>1&&(h=h>=0?1:-1),d=Math.acos(h)/3,n=t.y>=0?(-f*Math.cos(d+Math.PI/3)-l/3/u)*Math.PI:-(-f*Math.cos(d+Math.PI/3)-l/3/u)*Math.PI,e=Math.abs(i)<1e-10?this.long0:r(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(i*i-o*o)+a*a))/2/i),t.x=e,t.y=n,t},e.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},function(t,e,n){var r=n(45),i=Math.PI/2,o=n(190),a=n(186),s=n(187),l=n(188),u=n(189),c=n(310),f=n(159),h=n(311);e.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},e.forward=function(t){var e,n,f,h,d,p,m,g,v,y,b,_,w,x,E,M,S,T,C,O,A,I,R,P=t.x,L=t.y,N=Math.sin(t.y),k=Math.cos(t.y),D=r(P-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=1e-10?(t.x=this.x0+this.a*(i-L)*Math.sin(D),t.y=this.y0-this.a*(i-L)*Math.cos(D),t):Math.abs(this.sin_p12+1)<=1e-10?(t.x=this.x0+this.a*(i+L)*Math.sin(D),t.y=this.y0+this.a*(i+L)*Math.cos(D),t):(T=this.sin_p12*N+this.cos_p12*k*Math.cos(D),M=Math.acos(T),S=M/Math.sin(M),t.x=this.x0+this.a*S*k*Math.sin(D),t.y=this.y0+this.a*S*(this.cos_p12*N-this.sin_p12*k*Math.cos(D)),t):(e=a(this.es),n=s(this.es),f=l(this.es),h=u(this.es),Math.abs(this.sin_p12-1)<=1e-10?(d=this.a*o(e,n,f,h,i),p=this.a*o(e,n,f,h,L),t.x=this.x0+(d-p)*Math.sin(D),t.y=this.y0-(d-p)*Math.cos(D),t):Math.abs(this.sin_p12+1)<=1e-10?(d=this.a*o(e,n,f,h,i),p=this.a*o(e,n,f,h,L),t.x=this.x0+(d+p)*Math.sin(D),t.y=this.y0+(d+p)*Math.cos(D),t):(m=N/k,g=c(this.a,this.e,this.sin_p12),v=c(this.a,this.e,N),y=Math.atan((1-this.es)*m+this.es*g*this.sin_p12/(v*k)),b=Math.atan2(Math.sin(D),this.cos_p12*Math.tan(y)-this.sin_p12*Math.cos(D)),C=0===b?Math.asin(this.cos_p12*Math.sin(y)-this.sin_p12*Math.cos(y)):Math.abs(Math.abs(b)-Math.PI)<=1e-10?-Math.asin(this.cos_p12*Math.sin(y)-this.sin_p12*Math.cos(y)):Math.asin(Math.sin(D)*Math.cos(y)/Math.sin(b)),_=this.e*this.sin_p12/Math.sqrt(1-this.es),w=this.e*this.cos_p12*Math.cos(b)/Math.sqrt(1-this.es),x=_*w,E=w*w,O=C*C,A=O*C,I=A*C,R=I*C,M=g*C*(1-O*E*(1-E)/6+A/8*x*(1-2*E)+I/120*(E*(4-7*E)-3*_*_*(1-7*E))-R/48*x),t.x=this.x0+M*Math.sin(b),t.y=this.y0+M*Math.cos(b),t))},e.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n,d,p,m,g,v,y,b,_,w,x,E,M,S,T,C,O,A,I,R,P,L;if(this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*i*this.a)return;return n=e/this.a,d=Math.sin(n),p=Math.cos(n),m=this.long0,Math.abs(e)<=1e-10?g=this.lat0:(g=f(p*this.sin_p12+t.y*d*this.cos_p12/e),v=Math.abs(this.lat0)-i,m=r(Math.abs(v)<=1e-10?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*d,e*this.cos_p12*p-t.y*this.sin_p12*d))),t.x=m,t.y=g,t}return y=a(this.es),b=s(this.es),_=l(this.es),w=u(this.es),Math.abs(this.sin_p12-1)<=1e-10?(x=this.a*o(y,b,_,w,i),e=Math.sqrt(t.x*t.x+t.y*t.y),E=x-e,g=h(E/this.a,y,b,_,w),m=r(this.long0+Math.atan2(t.x,-1*t.y)),t.x=m,t.y=g,t):Math.abs(this.sin_p12+1)<=1e-10?(x=this.a*o(y,b,_,w,i),e=Math.sqrt(t.x*t.x+t.y*t.y),E=e-x,g=h(E/this.a,y,b,_,w),m=r(this.long0+Math.atan2(t.x,t.y)),t.x=m,t.y=g,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),T=Math.atan2(t.x,t.y),M=c(this.a,this.e,this.sin_p12),C=Math.cos(T),O=this.e*this.cos_p12*C,A=-O*O/(1-this.es),I=3*this.es*(1-A)*this.sin_p12*this.cos_p12*C/(1-this.es),R=e/M,P=R-A*(1+A)*Math.pow(R,3)/6-I*(1+3*A)*Math.pow(R,4)/24,L=1-A*P*P/2-R*P*P*P/6,S=Math.asin(this.sin_p12*Math.cos(P)+this.cos_p12*Math.sin(P)*C),m=r(this.long0+Math.asin(Math.sin(T)*Math.sin(P)/Math.cos(S))),g=Math.atan((1-this.es*L*this.sin_p12/Math.sin(S))*Math.tan(S)/(1-this.es)),t.x=m,t.y=g,t)},e.names=["Azimuthal_Equidistant","aeqd"]},function(t,e,n){"use strict";var r=n(50),i=n.n(r),o=n(54),a=n.n(o),s=n(164),l=n.n(s),u="function"==typeof a.a&&"symbol"==typeof i.a?function(t){return typeof t}:function(t){return t&&"function"==typeof a.a&&t.constructor===a.a&&t!==a.a.prototype?"symbol":typeof t};!function(t,e,n){var r=function(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)};t.El=function(){var t=function(t){return t.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()})},r=n.createElement("a"),i="textContent"in r?"textContent":"innerText",a="WheelEvent"in e||"onwheel"in e,s=function(){var t,e,r,i,o,a,s,l,u=["backfaceVisibility","borderRadius","boxSizing","boxShadow","perspective","transform","transformOrigin","transformStyle","userSelect"],c=["Webkit","Moz","Ms","ms","O","Khtml"],f={},h=n.documentElement.style;for(t=0,e=u.length;t<e;++t)if(!((o=u[t])in h)){for(a=o.charAt(0).toUpperCase()+o.slice(1),l=!1,r=0,i=c.length;r<i&&!l;++r)(s=c[r]+a)in h&&(f[o]=s,l=!0);l||(f[o]="undefined")}return f}(),l={UNDEFINED:"undefined",vendorSpecificCssKeys:s,create:function(t,e){var r=n.createElement(t);return e&&l.setProperties(r,e),r},createText:function(t){return n.createTextNode(t)},setProperties:function(t,e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];l.setProperty(t,n,r)}},setProperty:function(t,e,n){switch(e){case"text":t[i]=n;break;case"html":t.innerHTML=n;break;case"styles":l.setStyles(t,n);break;case"events":l.addEvents(t,n);break;default:t.setAttribute(e,n)}},getStyles:function(t){return t.style},getStyle:function(t,e){return t.style[e in s?s[e]:e]},getCurrentStyle:function(e,r){var i=n.defaultView;if(e.currentStyle)return r=t(r),parseFloat(e.currentStyle[r in s?s[r]:r]);if(i&&i.getComputedStyle){var o=i.getComputedStyle(e,null),a=o.getPropertyCSSValue(r);return a?a.getFloatValue(CSSPrimitiveValue.CSS_PX):parseFloat(o.getPropertyValue(r))}return r=t(r),parseFloat(l.getStyle(e,r))},setStyles:function(t,e){for(var n in e)e.hasOwnProperty(n)&&l.setStyle(t,n,e[n])},setStyle:function(t,e,n){t.style[e in s?s[e]:e]=n},addEvents:function(t,e){for(var n in e)e.hasOwnProperty(n)&&l.addEvent(t,n,e[n])},addEvent:function(t,e,n){if("mousewheel"===e&&a?e="wheel":"wheel"!==e||a||(e="mousewheel"),"key"===e.substr(0,3)){var r=n;n=function(e){return o.augmentKeyboardEvent(e),r.apply(t,arguments)}}else if("mouse"===e.substr(0,5)||"wheel"===e){var r=n;n=function(e){return o.augmentMouseEvent(e),r.apply(t,arguments)}}t.addEventListener(e,n)},removeEvent:function(t,e,n){t.removeEventListener(e,n)},adopt:function(t,e){if(Array.isArray(e))for(var n=0,r=e.length;n<r;++n)t.appendChild(e[n]);else t.appendChild(e)},remove:function(t){var e=t.parentElement;e&&e.removeChild(t)},query:function(t,e){if(!t)throw Error("Empty query!");return"object"===(void 0===t?"undefined":u(t))&&t instanceof Element?t:"string"==typeof t?(e&&"#"!==t.charAt(0)&&(t="#"+t),n.querySelector(t)):void 0},id:function(t){return l.query(t,!0)},getPagePos:function(t){var r=t.getBoundingClientRect();return{x:r.left+("pageXOffset"in e?e.pageXOffset:(n.documentElement||n.body.parentNode||n.body).scrollLeft),y:r.top+("pageYOffset"in e?e.pageYOffset:(n.documentElement||n.body.parentNode||n.body).scrollTop)}},getWinPos:function(t){var e=t.getBoundingClientRect();return{x:e.left,y:e.top}},getSize:function(t){var e=t.getBoundingClientRect();return{width:e.right-e.left,height:e.bottom-e.top}},getPPI:function(){var t=l.create("div",{style:"width:1in"});l.adopt(n.body,t);var e=l.getSize(t).width;return l.remove(t),e}};return l}();var i={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",106:"*",107:"+",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o=t.Events=l.a.Class({STATIC:{keyCodeToKeyMap:i,augmentKeyboardEvent:function(t){var e=t.keyCode,n="Unidentified";e in i?n=i[e]:48<=e&&e<=57||65<=e&&e<=90?n=String.fromCharCode(e):96<=e&&e<=105?n=e-96:112<=e&&e<=135&&(n="F"+(e-111)),t.dom3key=n},augmentMouseEvent:function(t){"mousewheel"===t.type&&("deltaY"in t||(t.deltaY=-t.wheelDelta))}},getListeners:function(){return this._listeners||(this._listeners={}),this._listeners},addEventListener:function(t,e){var n=this.getListeners();t in n||(n[t]=[]),n=n[t],r(n,e),n.push(e)},removeEventListener:function(t,e){var n=this.getListeners();t in n&&r(n[t],e)},fireEvent:function(t){var e,n,r,i=this.getListeners();if(t in i)for(i=i[t].slice(0),e=Array.prototype.slice.call(arguments,1),n=0,r=i.length;n<r;++n)i[n].apply(this,e)}})}(CM,window,document)},function(t,e,n){n(160),n(196),t.exports=n(322).f("iterator")},function(t,e,n){var r=n(313),i=n(314);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),l=r(n),u=s.length;return l<0||l>=u?t?"":void 0:(o=s.charCodeAt(l),o<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536)}}},function(t,e,n){"use strict";var r=n(239),i=n(193),o=n(195),a={};n(116)(a,n(59)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(117),i=n(240),o=n(909);t.exports=function(t){return function(e,n,a){var s,l=r(e),u=i(l.length),c=o(a,u);if(t&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var r=n(313),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){"use strict";var r=n(911),i=n(450),o=n(161),a=n(117);t.exports=n(315)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e,n){n(323),n(327),n(915),n(916),t.exports=n(26).Symbol},function(t,e,n){var r=n(162),i=n(325),o=n(197);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),l=o.f,u=0;s.length>u;)l.call(t,a=s[u++])&&e.push(a);return e}},function(t,e,n){var r=n(117),i=n(452).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},function(t,e,n){n(324)("asyncIterator")},function(t,e,n){n(324)("observable")},function(t,e,n){var r,i;!function(){var n={};r=[],void 0!==(i=function(){return n}.apply(e,r))&&(t.exports=i),n.Class=function(){var t,e,n=arguments.length,r=arguments[n-1],i=n>1?arguments[0]:null,s=n>2;if(r.constructor===Object?t=function(){}:(t=r.constructor,delete r.constructor),i&&(e=function(){},e.prototype=i.prototype,t.prototype=new e,t.prototype.constructor=t,t.Super=i,a(t,i,!1)),s)for(var l=1;l<n-1;l++)a(t.prototype,arguments[l].prototype,!1);return o(t,r),t};var o=n.extendClass=function(t,e,n){e.STATIC&&(a(t,e.STATIC,n),delete e.STATIC),a(t.prototype,e,n)},a=function(t,e,n){var r;if(!1===n)for(r in e)r in t||(t[r]=e[r]);else{for(r in e)t[r]=e[r];e.toString!==Object.prototype.toString&&(t.toString=e.toString)}}}()},function(t,e,n){"use strict";var r=n(55),i=n.n(r),o=n(76),a=n.n(o),s=n(164),l=n.n(s);!function(t,e,n){var r="XMLHttpRequest",o="XDomainRequest",s="WebSocket",u=e[r],c=/MSIE [89]/.test(navigator.appVersion)&&e[o],f=e[s],h=function(){},d=0,p=function(t){var n=e.location,r=n.protocol+"//"+n.host+"/";return t.indexOf("://")<0||0===t.indexOf(r)},m=t.Req=l.a.Class({STATIC:{defaults:{async:!0,autoSend:!0,binary:!1,data:void 0,headers:{},method:"get",retryInterval:1e3,timeout:5e3,contentType:"json",responseType:"",url:"",onopen:h,onload:h,onerror:h},contentTypes:{form:"application/x-www-form-urlencoded; charset=UTF-8",json:"application/json; charset=UTF-8",xml:"application/xml; charset=UTF-8",arraybuffer:"arraybuffer",blob:"blob",none:null},responseTypes:{string:"",json:"json",arraybuffer:"arraybuffer",blob:"blob",text:"text",none:null},panoramaTilesLoadingCount:0,xhr:function(t){var e=new u,n=!1;e.onreadystatechange=function(){switch(e.readyState){case 0:break;case 1:n||(d++,m.panoramaTilesLoadingCount=d,t.onopen(),n=!0);break;case 2:case 3:break;case 4:var r=e.status;if(d--,m.panoramaTilesLoadingCount=d,r>=200&&r<=299||304===r)switch(t.responseType){case m.responseTypes.arraybuffer:case m.responseTypes.blob:t.onload(e.response);break;default:t.onload(e.responseText,e.responseXML)}else t.onerror(e.statusText||r,e)}},e.open(t.method,t.url,t.async);var r=m.contentTypes,o=t.contentType;return o in r?("none"!==o&&e.setRequestHeader("Content-Type",r[o]),"json"===o&&(t.data=a()(t.data)),(t.headers instanceof Headers?t.headers:i()(t.headers)).forEach(function(t,n){e.setRequestHeader(n,t)}),!p(t.url)&&t.withCredentials&&(e.withCredentials=!0),e.responseType=t.responseType,e):(t.onerror("Invalid request type: "+o),!1)},xdr:function(t){var e=new c;return e.readyState=0,e.timeout=t.timeout,e.onprogress=function(){e.readyState=3},e.onload=function(){e.readyState=4,t.onload(e.responseText)},e.onerror=function(){e.readyState=4,t.onerror(o+": error!")},e.ontimeout=function(){e.readyState=4,t.onerror(o+": timeout!")},e.readyState=1,e.open(t.method,t.url),t.onopen(),e},ws:function(t){var e=new f(t.url);return e.onopen=function(){t.onopen()},e.onmessage=function(e){t.onload(e.data)},e.onerror=e.onclose=function(e){t.onerror(s+": "+e)},e}},constructor:function(t){if(!(this instanceof m))return new m(t);var e=m.defaults;t=this.opts=t||{};for(var n in e)e.hasOwnProperty(n)&&(n in t||(t[n]=e[n]));this.initRequest(t)},reqType:null,req:null,initRequest:function(t){var e=this;/^(wss?):\/\//i.test(t.url)?(e.reqType=s,e.req=m.ws(t)):c&&!p(t.url)?(e.reqType=o,e.req=m.xdr(t)):(e.reqType=r,e.req=m.xhr(t)),t.autoSend&&e.send(t.data)},send:function(t){var n=this,i=n.reqType,a=n.req,l=n.opts;if(void 0===t&&(t=l.data),e.navigator.onLine)switch(i){case s:!function n(){switch(a.readyState){case 0:e.setTimeout(n,100);break;case 1:a.send(t);break;case 2:case 3:l.onerror(s+": connection not available!")}}();break;case o:e.setTimeout(function(){a.send(t)},0);break;case r:a.sendBinary&&l.binary?a.sendBinary(t):a.send(t);break;default:l.onerror("Invalid request type: "+i)}else e.setTimeout(function(){n.send()},l.retryInterval)},isOpen:function(){var t=this.reqType,e=this.req,n=void 0;switch(t){case r:case o:return 1===(n=e.readyState)||2===n||3===n;case s:return 1===(n=e.readyState)}},abort:function(){var t=this.reqType,e=this.req;switch(t){case r:case o:return e.abort();case s:return e.close(1e3,s+": abort")}}})}(CM,window)},function(t,e,n){n(920),t.exports=n(26).Object.entries},function(t,e,n){var r=n(39),i=n(453)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){var r=n(26),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,n){"use strict";var r=n(49),i=(n.n(r),n(33));!function(t,e,n){t.ENUTransformWGS=function t(r){if(!(this instanceof t))return new t(r);var o,a,s,l,u,c,f,h,d=6378137,p=6356752.31424518,m=d*d,g=p*p,v=(m-g)/m,y=function(t){var r=Object(i.e)(t[0]),p=Object(i.e)(t[1]);o=n.clone(t),s=e.sin(p),l=e.cos(p),u=e.sin(r),c=e.cos(r),f=e.sqrt(1-v*s*s),h=d/f,a=M(o)},b=function(t,e,r,i){var o=n.clone([-t,-e,0]),a=n.clone([t,e,0]),s=_(o),l=_(a);n.copy(r,s),n.copy(i,l)},_=function(t){var e=x(t);return S(e)},w=function(t){var e=M(t);return E(e)},x=function(t){var e=t[0],r=t[1],i=t[2],o=n.create();return o[0]=a[0]+-u*e+-s*c*r+l*c*i,o[1]=a[1]+c*e+-s*u*r+l*u*i,o[2]=a[2]+l*r+s*i,o},E=function(t){var e=n.sub(n.create(),t,a),r=e[0],i=e[1],o=e[2],f=n.create(),h=c*r,d=u*i;return f[0]=-u*r+c*i,f[1]=-s*h+-s*d+l*o,f[2]=l*h+l*d+s*o,f},M=function(t){isNaN(t[2])&&(t[2]=0);var r=Object(i.e)(t[0]),o=Object(i.e)(t[1]),a=t[2],l=e.sin(o),u=e.cos(o),c=e.sin(r),h=e.cos(r),p=(e.sqrt(1-v*s*s),d/f),m=n.create(),g=(p+a)*u;return m[0]=g*h,m[1]=g*c,m[2]=(p*(1-v)+a)*l,m},S=function(t){var r,o,a,s,l,u,c,f,h,p,y,b,_,w=t[0],x=t[1],E=t[2],M=w*w,S=x*x,T=E*E;r=M+S,o=e.sqrt(r),a=m-g,s=54*g*E*E,l=r+(1-v)*T-v*a,u=v*v*s*r/(l*l*l),c=e.pow(1+u+e.sqrt(u*u+2*u),1/3);var C=c+1/c+1;f=s/(3*C*C*l*l),h=e.sqrt(1+2*v*v*f),p=-f*v*o/(1+h)+e.sqrt(.5*m*(1+1/h)-f*(1-v)*T/(h*(1+h))-.5*f*r),C=o-v*p,C*=C,y=e.sqrt(C+T),b=e.sqrt(C+(1-v)*T),_=g*E/(d*b);var O=n.create();return O[0]=Object(i.d)(e.atan2(x,w)),O[1]=Object(i.d)(e.atan((E+.006739496742276239*_)/o)),O[2]=y*(1-g/(d*b)),O};this.constructor=y,this.computeBoundingBox=b,this.fromENU=_,this.toENU=w,this.getWgs84Reference=function(){return n.clone(o)},this.getEcefReference=function(){return n.clone(a)},this.constructor.apply(this,arguments)}}(window,Math,r.vec3)},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=.5*Math.PI,i=2*Math.PI},function(t,e){!function(t){var e=t.normalizeSrs=function(t,e){var n=/(?:(EPSG|ESRI):)?(\d+)/,r=(""+t).match(n);if(!r)throw new Error('Invalid SRS: "'+t+'"');var i=r[1],o=parseInt(r[2],10);return 102100===o&&(o=3857),e?i?i+":"+o:"EPSG:"+o:o},n={},r=function(t){return Array.prototype.slice.call(t,0)},i={forward:r,inverse:r},o=t.getProj4Transform=function(t,r){if(t=e(t,!0),r=e(r,!0),t===r)return i;var o=t+";"+r;return o in n?n[o]:n[o]=proj4(t,r)};t.transformXyz=function(t,e,n){return o(e,n).forward(t)}}(CM)},function(t,e,n){n(926);var r=n(26).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(39);r(r.S+r.F*!n(86),"Object",{defineProperty:n(85).f})},function(t,e,n){(function(t){var e={},n=[];CM.isDeviceOrientationAvailable=function(){return void 0!==t.DeviceOrientationEvent},CM.isDeviceMotionAvailable=function(){return void 0!==t.DeviceMotionEvent},CM.aperture={registerViewerClass:function(t){var r=t.VIEWER_TYPE;if(!r)throw new Error("Unable to determine viewer type.");e[r]=t,n.push(t)},getViewerClasses:function(){return n},isSupportedViewerType:function(t){return Object.hasOwnProperty.call(e,t)},getPreferredViewerType:function(){return n.length>0?n[0].prototype.VIEWER_TYPE:null}}}).call(e,n(37))},function(t,e,n){"use strict";(function(t){function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return u()(t)}n.d(e,"a",function(){return y});var i=n(40),o=n.n(i),a=n(87),s=n.n(a),l=n(30),u=n.n(l),c=n(23),f=n.n(c),h=n(17),d=n.n(h),p=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=d()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(f()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=t;if(!m.UniqueValues)var g={},v=m.UniqueValues={data:g,store:function(t,e){Object.hasOwnProperty.call(g,t)||(g[t]=new s.a),g[t].set(e,(g[t].get(e)||0)+1)},get:function(t){return void 0!==t?[].concat(r(g[t].entries())).map(function(t){var e=p(t,2);return{value:e[0],count:e[1]}}):o()(g).map(function(t){return{key:t,values:v.get(t)}})}};var y=m.store;m.get}).call(e,n(37))},function(t,e,n){n(930),t.exports=n(26).Object.keys},function(t,e,n){var r=n(163),i=n(162);n(244)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){n(327),n(160),n(196),n(932),n(938),n(941),n(943),t.exports=n(26).Map},function(t,e,n){"use strict";var r=n(933),i=n(458);t.exports=n(934)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(i(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(85).f,i=n(239),o=n(328),a=n(109),s=n(329),l=n(198),u=n(315),c=n(450),f=n(457),h=n(86),d=n(242).fastKey,p=n(458),m=h?"_s":"size",g=function(t,e){var n,r=d(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,u){var c=t(function(t,r){s(t,c,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=r&&l(r,n,t[u],t)});return o(c.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var n=p(this,e),r=g(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(t){p(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!g(p(this,e),t)}}),h&&r(c.prototype,"size",{get:function(){return p(this,e)[m]}}),c},def:function(t,e,n){var r,i,o=g(t,e);return o?o.v=n:(t._l=o={i:i=d(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[m]++,"F"!==i&&(t._i[i]=o)),t},getEntry:g,setStrong:function(t,e,n){u(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?c(0,n.k):"values"==e?c(0,n.v):c(0,[n.k,n.v]):(t._t=void 0,c(1))},n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){"use strict";var r=n(58),i=n(39),o=n(242),a=n(139),s=n(116),l=n(328),u=n(198),c=n(329),f=n(75),h=n(195),d=n(85).f,p=n(935)(0),m=n(86);t.exports=function(t,e,n,g,v,y){var b=r[t],_=b,w=v?"set":"add",x=_&&_.prototype,E={};return m&&"function"==typeof _&&(y||x.forEach&&!a(function(){(new _).entries().next()}))?(_=e(function(e,n){c(e,_,t,"_c"),e._c=new b,void 0!=n&&u(n,v,e[w],e)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in x&&(!y||"clear"!=t)&&s(_.prototype,t,function(n,r){if(c(this,_,t),!e&&y&&!f(n))return"get"==t&&void 0;var i=this._c[t](0===n?0:n,r);return e?this:i})}),y||d(_.prototype,"size",{get:function(){return this._c.size}})):(_=g.getConstructor(e,t,v,w),l(_.prototype,n),o.NEED=!0),h(_,t),E[t]=_,i(i.G+i.W+i.F,E),y||g.setStrong(_,t,v),_}},function(t,e,n){var r=n(109),i=n(318),o=n(163),a=n(240),s=n(936);t.exports=function(t,e){var n=1==t,l=2==t,u=3==t,c=4==t,f=6==t,h=5==t||f,d=e||s;return function(e,s,p){for(var m,g,v=o(e),y=i(v),b=r(s,p,3),_=a(y.length),w=0,x=n?d(e,_):l?d(e,0):void 0;_>w;w++)if((h||w in y)&&(m=y[w],g=b(m,w,v),t))if(n)x[w]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return w;case 2:x.push(m)}else if(c)return!1;return f?-1:u||c?c:x}}},function(t,e,n){var r=n(937);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(75),i=n(451),o=n(59)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(39);r(r.P+r.R,"Map",{toJSON:n(939)("Map")})},function(t,e,n){var r=n(245),i=n(940);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){var r=n(198);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e,n){n(942)("Map")},function(t,e,n){"use strict";var r=n(39);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){n(944)("Map")},function(t,e,n){"use strict";var r=n(39),i=n(192),o=n(109),a=n(198);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,s,l=arguments[1];return i(this),e=void 0!==l,e&&i(l),void 0==t?new this:(n=[],e?(r=0,s=o(l,arguments[2],2),a(t,!1,function(t){n.push(s(t,r++))})):a(t,!1,n.push,n),new this(n))}})}},function(t,e,n){n(160),n(946),t.exports=n(26).Array.from},function(t,e,n){"use strict";var r=n(109),i=n(39),o=n(163),a=n(455),s=n(456),l=n(240),u=n(947),c=n(330);i(i.S+i.F*!n(459)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,f,h=o(t),d="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,v=0,y=c(h);if(g&&(m=r(m,p>2?arguments[2]:void 0,2)),void 0==y||d==Array&&s(y))for(e=l(h.length),n=new d(e);e>v;v++)u(n,v,g?m(h[v],v):h[v]);else for(f=y.call(h),n=new d;!(i=f.next()).done;v++)u(n,v,g?a(f,m,[i.value,v],!0):i.value);return n.length=v,n}})},function(t,e,n){"use strict";var r=n(85),i=n(193);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){n(196),n(160),t.exports=n(949)},function(t,e,n){var r=n(245),i=n(59)("iterator"),o=n(161);t.exports=n(26).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e,n){n(196),n(160),t.exports=n(951)},function(t,e,n){var r=n(101),i=n(330);t.exports=n(26).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e){function n(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}t.exports=n},function(t,e,n){function r(t,e){return i(e,function(e){return o(t[e])})}var i=n(954),o=n(118);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}t.exports=n},function(t,e,n){function r(t){var e=a.call(t,l),n=t[l];try{t[l]=void 0;var r=!0}catch(t){}var i=s.call(t);return r&&(e?t[l]=n:delete t[l]),i}var i=n(332),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,l=i?i.toStringTag:void 0;t.exports=r},function(t,e){function n(t){return i.call(t)}var r=Object.prototype,i=r.toString;t.exports=n},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=n},function(t,e,n){function r(t,e){var n=a(t),r=!n&&o(t),c=!n&&!r&&s(t),h=!n&&!r&&!c&&u(t),d=n||r||c||h,p=d?i(t.length,String):[],m=p.length;for(var g in t)!e&&!f.call(t,g)||d&&("length"==g||c&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||l(g,m))||p.push(g);return p}var i=n(959),o=n(462),a=n(168),s=n(463),l=n(464),u=n(465),c=Object.prototype,f=c.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(142),o=n(167),a="[object Arguments]";t.exports=r},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function r(t){return a(t)&&o(t.length)&&!!s[i(t)]}var i=n(142),o=n(466),a=n(167),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=r},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,n){(function(t){var r=n(461),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a&&r.process,l=function(){try{return s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=l}).call(e,n(120)(t))},function(t,e,n){var r=n(468),i=r(Object.keys,Object);t.exports=i},function(t,e,n){n(967),t.exports=n(26).Object.assign},function(t,e,n){var r=n(39);r(r.S+r.F,"Object",{assign:n(968)})},function(t,e,n){"use strict";var r=n(162),i=n(325),o=n(197),a=n(163),s=n(318),l=Object.assign;t.exports=!l||n(139)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=r})?function(t,e){for(var n=a(t),l=arguments.length,u=1,c=i.f,f=o.f;l>u;)for(var h,d=s(arguments[u++]),p=c?r(d).concat(c(d)):r(d),m=p.length,g=0;m>g;)f.call(d,h=p[g++])&&(n[h]=d[h]);return n}:l},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(49),s=(n.n(a),function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()),l=function(){function t(e){r(this,t),this.quadsPerEdge=e,this.quadsPerFace=e*e;var n=this.verticesPerEdge=e+1,i=this.verticesPerFace=n*n,o=this.vertices=new Array(6*i),s=20/e,l=0,u=void 0,c=void 0,f=void 0,h=void 0,d=void 0;for(c=0,d=10;c<n;++c,d-=s)for(u=0,h=10;u<n;++u,h-=s)o[l++]=a.vec3.clone([10,h,d]);for(c=0,d=10;c<n;++c,d-=s)for(u=0,h=-10;u<n;++u,h+=s)o[l++]=a.vec3.clone([-10,h,d]);for(c=0,h=-10;c<n;++c,h+=s)for(u=0,f=-10;u<n;++u,f+=s)o[l++]=a.vec3.clone([f,h,10]);for(c=0,h=10;c<n;++c,h-=s)for(u=0,f=-10;u<n;++u,f+=s)o[l++]=a.vec3.clone([f,h,-10]);for(c=0,d=10;c<n;++c,d-=s)for(u=0,f=10;u<n;++u,f-=s)o[l++]=a.vec3.clone([f,-10,d]);for(c=0,d=10;c<n;++c,d-=s)for(u=0,f=-10;u<n;++u,f+=s)o[l++]=a.vec3.clone([f,10,d])}return s(t,[{key:"getQuadVertices",value:function(t,e,n,r){var i=this.vertices,o=this.verticesPerEdge,a=this.verticesPerFace,s=a*e,l=void 0,u=new Array(4);return l=s+t*(r*o+n),u[0]=i[l],l+=t,u[1]=i[l],l+=t*o,u[2]=i[l],l-=t,u[3]=i[l],u}}]),t}();e.a=l},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(){function t(){r(this,t),this.reset()}return a(t,[{key:"reset",value:function(){this.currentZoom=-1,this.loadingZoom=-1,this.failed=!1}}]),t}();e.a=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(){function t(e){r(this,t),this.ubermax=e,this.reset()}return a(t,[{key:"reset",value:function(){this.max=this.ubermax,this.now=0}}]),t}();e.a=s},function(t,e,n){"use strict";var r=n(49);n.n(r);e.a=function(t,e,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=-o,s=o+n,l=o+i,u=-o,c=void 0,f=void 0,h=void 0,d=void 0,p=void 0,m=void 0,g=void 0,v=void 0,y=void 0,b=void 0,_=void 0,w=t.map(function(t){return r.vec3.transformMat3(r.vec3.create(),t,e)}),x=[],E=[],M=w.length;c=w[M-1];for(var S=0;S<M;++S)m=w[S],g=m[0],v=m[1],y=m[2],f=c[0],h=c[1],d=c[2],b=y<=-1,p=d<=-1,b!==p&&(_=(1+d)/(y-d),x.push([_*(g-f)-f,_*(v-h)-h])),b&&x.push([g/y,v/y]),c=m;if((M=x.length)<3)return E;w.length=0,c=x[M-1];for(var T=0;T<M;++T)m=x[T],g=m[0],f=c[0],b=g<s,p=f<s,b!==p&&(v=m[1],h=c[1],w.push([s,h+(v-h)/(g-f)*(s-f)])),b&&w.push(m),c=m;if((M=w.length)<3)return E;x.length=0,c=w[M-1];for(var C=0;C<M;++C)m=w[C],g=m[0],f=c[0],b=g>=a,p=f>=a,b!==p&&(v=m[1],h=c[1],x.push([a,h+(v-h)/(g-f)*(a-f)])),b&&x.push(m),c=m;if((M=x.length)<3)return E;w.length=0,c=x[M-1];for(var O=0;O<M;++O)m=x[O],v=m[1],h=c[1],b=v<l,p=h<l,b!==p&&(g=m[0],f=c[0],w.push([f+(g-f)/(v-h)*(l-h),l])),b&&w.push(m),c=m;if((M=w.length)<3)return E;x.length=0,c=w[M-1];for(var A=0;A<M;++A)m=w[A],v=m[1],h=c[1],b=v>=u,p=h>=u,b!==p&&(g=m[0],f=c[0],x.push([f+(g-f)/(v-h)*(u-h),u])),b&&x.push(m),c=m;return x}},function(t,e,n){n(974),t.exports=n(26).Math.hypot},function(t,e,n){var r=n(39),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,a=0,s=arguments.length,l=0;a<s;)n=i(arguments[a++]),l<n?(r=l/n,o=o*r*r+1,l=n):n>0?(r=n/l,o+=r*r):o+=n;return l===1/0?1/0:l*Math.sqrt(o)}})},function(t,e,n){n(976),t.exports=n(26).Number.isFinite},function(t,e,n){var r=n(39),i=n(58).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(49),s=(n.n(a),function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()),l=a.mat3.clone([1,0,0,0,0,-1,0,-1,0]),u=a.mat4.create(),c=function(){function t(){r(this,t),this.rot4=a.mat4.create(),this.K=a.mat3.create(),this.extrinsicMatrix=a.mat3.create(),this.intrinsicMatrix=a.mat3.clone(l),this.projectionMatrix=a.mat3.create(),this.offsetRot4=a.mat4.create(),this.offsetExtrinsicMatrix=a.mat3.create(),this.offsetProjectionMatrix=a.mat3.create(),this.focalLength=0,this.yawOffset=0,this.yaw=0,this.pitch=0,this.hFov=Math.PI/2,this.width=0,this.height=0,this.xyz=a.vec3.create()}return s(t,[{key:"setPosition",value:function(t){var e=t.xyz,n=t.yawOffset,r=void 0===n?0:n;a.vec3.copy(this.xyz,e),this.yawOffset=r}},{key:"update",value:function(t,e,n,r,i){var o=this.K,s=this.rot4,c=this.intrinsicMatrix,f=this.extrinsicMatrix,h=this.projectionMatrix,d=this.offsetRot4,p=this.offsetExtrinsicMatrix,m=this.offsetProjectionMatrix,g=t/(2*Math.tan(.5*i));this.focalLength=g,this.width=t,this.height=e,this.yaw=n,this.pitch=r,this.hFov=i,o[0]=o[4]=-g,o[6]=.5*t,o[7]=.5*e,a.mat3.mul(c,o,l),a.mat4.rotateX(s,u,-r),a.mat4.rotateZ(s,s,n),a.mat3.fromMat4(f,s),a.mat3.mul(h,c,f),a.mat4.rotateX(d,u,-r),a.mat4.rotateZ(d,d,n+this.yawOffset),a.mat3.fromMat4(p,d),a.mat3.mul(m,c,p)}},{key:"imageToWorldVector",value:function(t,e){var n=a.vec3.fromValues(t-.5*this.width,e-.5*this.height,-this.focalLength),r=a.mat3.create();return a.mat3.mul(r,l,this.extrinsicMatrix),a.mat3.transpose(r,r),a.vec3.transformMat3(n,n,r),a.vec3.normalize(n,n),n}},{key:"pixelToWorldVector",value:function(t,e){return this.imageToWorldVector(t+.5,e+.5)}},{key:"worldCoordToImage",value:function(t,e,n){var r=a.vec3.fromValues(t,e,n);return a.vec3.sub(r,r,this.xyz),a.vec3.transformMat3(r,r,this.projectionMatrix),r[2]>-1?null:a.vec2.fromValues(r[0]/r[2],r[1]/r[2])}}]),t}();e.a=c},function(t,e,n){n(979),t.exports=n(26).Object.getPrototypeOf},function(t,e,n){var r=n(163),i=n(449);n(244)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){n(981),t.exports=n(26).Object.setPrototypeOf},function(t,e,n){var r=n(39);r(r.S,"Object",{setPrototypeOf:n(982).set})},function(t,e,n){var r=n(75),i=n(101),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(109)(Function.call,n(326).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){n(984);var r=n(26).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(39);r(r.S,"Object",{create:n(239)})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(141),s=n.n(a),l=n(243),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();!function(){function t(e){var n=e.viewer;r(this,t),this._visible=!0,this._panoramaTransition=!1,this._viewer=null,this._camera=null,s()(this,CM.Events.prototype),Object(l.a)(this);var i=this._onPanoramaChange=this._onPanoramaChange.bind(this),o=this._onViewChange=this._onViewChange.bind(this),a=this._onViewLoadEnd=this._onViewLoadEnd.bind(this),u=this._onResize=this._onResize.bind(this);this._viewer=n,CM.El.addEvent(n,CM.aperture.EVENT_PANORAMA_CHANGE,i),CM.El.addEvent(n,CM.aperture.EVENT_VIEW_CHANGE,o),CM.El.addEvent(n,CM.aperture.EVENT_VIEW_LOAD_END,a),CM.El.addEvent(n,CM.aperture.EVENT_RESIZE,u),this._camera=n._camera}u(t,[{key:"_onPanoramaChange",value:function(){this._panoramaTransition=!0,this.requestAnimationFrame()}},{key:"_onViewChange",value:function(){this.animateFrame()}},{key:"_onViewLoadEnd",value:function(){this._panoramaTransition&&(this._panoramaTransition=!1,this.requestAnimationFrame())}},{key:"_onResize",value:function(){this._onViewLoadEnd()}},{key:"getVisible",value:function(){return this._visible}},{key:"setVisible",value:function(t){this._visible!==t&&(this._visible=t,this.invalidateDisplay())}},{key:"clear",value:function(){}},{key:"invalidateDisplay",value:function(){this.requestAnimationFrame()}},{key:"animateFrame",value:function(t){}}])}()},function(t,e,n){"use strict";var r=n(164),i=n.n(r);!function(){var t=CM.aperture;if(!t.AbstractRecordingClient){var e={};e.EVENT_AREA_LOAD_START="arealoadstart",e.EVENT_AREA_LOAD_SUCCESS="arealoadsuccess",e.EVENT_AREA_LOAD_FAILURE="arealoadfailure",e.EVENT_AREA_LOAD_COMPLETE="arealoadcomplete",e.EVENT_RECORDING_LOAD_START="recordingloadstart",e.EVENT_RECORDING_LOAD_SUCCESS="recordingloadsuccess",e.EVENT_RECORDING_LOAD_FAILURE="recordingloadfailure",e.EVENT_RECORDING_LOAD_CANCEL="recordingloadcancel";t.AbstractRecordingClient=i.a.Class(null,CM.Events,{_uriManager:null,_request:null,constructor:function(t){t.uriManager&&this.setUriManager(t.uriManager)},getUriManager:function(){return this._uriManager},setUriManager:function(t){this._uriManager=t},requestWithinRadius:function(t,e,n){console.error("Not implemented")},requestWithinBBOX:function(t,e,n,r){console.error("Not implemented")}}),t.AbstractRecordingClient.Events=e}}()},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new s.a(function(t,n){function r(i,o){try{var a=e[i](o),l=a.value}catch(t){return void n(t)}if(!a.done)return s.a.resolve(l).then(function(t){r("next",t)},function(t){r("throw",t)});t(l)}return r("next")})}}var i=n(21),o=n.n(i),a=n(19),s=n.n(a),l=n(4),u=n.n(l),c=n(50),f=n.n(c),h=n(54),d=n.n(h),p=n(164),m=n.n(p),g=n(336),v=n(478),y=n(143),b=n(33),_="function"==typeof d.a&&"symbol"==typeof f.a?function(t){return typeof t}:function(t){return t&&"function"==typeof d.a&&t.constructor===d.a&&t!==d.a.prototype?"symbol":typeof t},w=u.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};!function(){var t=CM.aperture;if(!t.WfsRecordingClient)var e={},n=(e.EVENT_AREA_LOAD_START="arealoadstart",e.EVENT_AREA_LOAD_SUCCESS="arealoadsuccess",e.EVENT_AREA_LOAD_FAILURE="arealoadfailure"),i=(e.EVENT_AREA_LOAD_COMPLETE="arealoadcomplete",e.EVENT_RECORDING_LOAD_START="recordingloadstart"),a=e.EVENT_RECORDING_LOAD_SUCCESS="recordingloadsuccess",s=(e.EVENT_RECORDING_LOAD_FAILURE="recordingloadfailure",e.EVENT_RECORDING_LOAD_CANCEL="recordingloadcancel",t.WfsRecordingClient=m.a.Class(t.AbstractRecordingClient,{constructor:function(t){t=t||{},t&&t.authHeaders&&(this._authHeaders=t.authHeaders),t.uriManager||(t.uriManager=new v.a),s.Super.call(this,t)},requestWithinRadius:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=w({},i,{x:t,y:e,radius:n});return this._doRequest("radius",r,o)},fetchRecording:function(t,e){var n={imageId:t};return this._doRequest("recording",e,n)},requestWithinBBOX:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=w({},o,{minX:t,minY:e,maxX:n,maxY:r});return this._doRequest("bbox",i,a)},_doRequest:function(){function t(t,n){return e.apply(this,arguments)}var e=r(o.a.mark(function t(e,r){var a,s,l,u,c,f,h,d,p,m,g,v,y,b,_,w,x,E,M,S,T,C,O,A,I,R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=this,a.fireEvent(i),r=CM.normalizeSrs(r,!0),s=void 0,"recording"===e?(l=['<ogc:FeatureId fid="',R.imageId,'"/>'].join(""),s=['<wfs:GetFeature service="WFS" version="1.1.0" resultType="results" outputFormat="text/xml; subtype=gml/3.1.1" xmlns:wfs="http://www.opengis.net/wfs">','<wfs:Query typeName="atlas:Recording" srsName="',r,'" xmlns:atlas="http://www.cyclomedia.com/atlas">','<ogc:Filter xmlns:ogc="http://www.opengis.net/ogc">',l,"</ogc:Filter>","</wfs:Query>","</wfs:GetFeature>"].join("")):(u=R.dateRange,c=R.showAerorama,f=R.maxFeatures,h=void 0,"bbox"===e?(d=R.minX,p=R.minY,m=R.maxX,g=R.maxY,h=["<ogc:BBOX>",'<gml:Envelope srsName="',r,'" xmlns:gml="http://www.opengis.net/gml">',"<gml:lowerCorner>",d," ",p,"</gml:lowerCorner>","<gml:upperCorner>",m," ",g,"</gml:upperCorner>","</gml:Envelope>","</ogc:BBOX>"].join("")):"radius"===e&&(v=R.x,y=R.y,b=R.radius,h=["<ogc:DWithin>","<ogc:PropertyName>Recording/location</ogc:PropertyName>",'<gml:Point srsName="',r,'" xmlns:gml="http://www.opengis.net/gml">',"<gml:pos>",v," ",y,"</gml:pos>","</gml:Point>",'<ogc:Distance units="http://www.opengeospatial.org/se/units/metre">',b,"</ogc:Distance>","</ogc:DWithin>"].join("")),_=["<ogc:PropertyIsNull>","<ogc:PropertyName>expiredAt</ogc:PropertyName>","</ogc:PropertyIsNull>"].join(""),w=void 0,u?(x=new Date(u.from||"1995-01-01").toISOString(),E=new Date(u.to||"2100-01-01").toISOString(),M=["<ogc:PropertyIsBetween>","<ogc:PropertyName>recordedAt</ogc:PropertyName>","<ogc:LowerBoundary>","<ogc:Literal>",x,"</ogc:Literal>","</ogc:LowerBoundary>","<ogc:UpperBoundary>","<ogc:Literal>",E,"</ogc:Literal>","</ogc:UpperBoundary>","</ogc:PropertyIsBetween>"].join(""),w=!0===u.onlyExpired?[M,"<ogc:PropertyIsBetween>","<ogc:PropertyName>expiredAt</ogc:PropertyName>","<ogc:LowerBoundary>","<ogc:Literal>1995-01-01</ogc:Literal>","</ogc:LowerBoundary>","<ogc:UpperBoundary>","<ogc:Literal>2100-01-01</ogc:Literal>","</ogc:UpperBoundary>","</ogc:PropertyIsBetween>"].join(""):M):w=_,S=void 0===c||!1===c?['<ogc:PropertyIsNotEqualTo matchCase="1">',"<ogc:PropertyName>productType</ogc:PropertyName>","<ogc:Literal>Aerorama</ogc:Literal>","</ogc:PropertyIsNotEqualTo>"].join(""):"",T=void 0!==f?' maxFeatures="'+f+'"':"",s=['<wfs:GetFeature service="WFS" version="1.1.0"',' resultType="results"',' outputFormat="text/xml; subtype=gml/3.1.1"',' xmlns:wfs="http://www.opengis.net/wfs"',T,">",'<wfs:Query typeName="atlas:Recording" srsName="',r,'" xmlns:atlas="http://www.cyclomedia.com/atlas">','<ogc:Filter xmlns:ogc="http://www.opengis.net/ogc">',"<ogc:And>",h,w,S,"</ogc:And>","</ogc:Filter>","</wfs:Query>","</wfs:GetFeature>"].join("")),C=a._uriManager.getDataUri()[0],O={type:e,minX:R.minX,maxX:R.maxX,minY:R.minY,maxY:R.maxY,srs:r,x:R.x,y:R.y,imageId:R.imageId},"radius"===e&&(O.radius=R.radius),A=new Headers(a._authHeaders||{}),A.append("Content-Type","text/xml"),a._uriManager.apiKey&&(C=C+(/\?$/.test(C)?"":"?")+"apiKey="+a._uriManager.apiKey),I=new Request(C,{method:"POST",mode:a._uriManager.withCredentials?"cors":"no-cors",headers:A,body:s,redirect:"follow"}),t.next=14,fetch(I).then(function(t){if(!t.ok)throw new Error("REQUEST_FAILED");return t.text().then(function(t){return a._onWfsRequestComplete(t,O)})},function(t){throw a.fireEvent(n,null,t,I),new Error(n)});case 14:return t.abrupt("return",t.sent);case 15:case"end":return t.stop()}},t,this)}));return t}(),_onWfsRequestComplete:function(t,e){var n=!1,r=void 0,i=[];i.length=0;var o=Object(y.b)(t),s=o["wfs:FeatureCollection"]["gml:featureMembers"]["atlas:Recording"];if(void 0!==s){Array.isArray(s)||(s=[s]);for(var l=0,u=s.length;l<u;++l){var c=s[l];if(c["atlas:isAuthorized"]){var f=c["atlas:tileSchema"];switch(f){case"Dcr10Tiling":case"Dcr9Tiling":break;default:continue}var h=c["atlas:location"]["gml:Point"],d=h["gml:pos"].split(" "),p=h["@srsName"].substr(18),m=h["@srsDimension"],v=c["atlas:height"];v&&"object"===(void 0===v?"undefined":_(v))||(v={"@system":void 0,"#text":v});var w=!0===c["atlas:hasDepthMap"],x=!!c["atlas:ownerInfo"],E=x&&c["atlas:ownerInfo"];i.push(new g.a({id:c["atlas:imageId"],xyz:[parseFloat(d[0]),parseFloat(d[1]),parseFloat(m>2?d[2]:v["#text"])],srs:p,recorderDirection:Object(b.e)(parseFloat(c["atlas:recorderDirection"])),groundLevelOffset:parseFloat(c["atlas:groundLevelOffset"]),recordedAt:c["atlas:recordedAt"],orientation:Object(b.e)(parseFloat(c["atlas:orientation"])),orientationPrecision:parseFloat(c["atlas:orientationPrecision"]),tileSchema:f,longitudePrecision:parseFloat(c["atlas:longitudePrecision"]),latitudePrecision:parseFloat(c["atlas:latitudePrecision"]),heightPrecision:parseFloat(c["atlas:heightPrecision"]),productType:c["atlas:productType"],heightSystem:v["@system"],expiredAt:c["atlas:expiredAt"],hasDepthMap:w,depthMapVersion:w?c["atlas:depthMapVersion"]:void 0,depthMapPrecision:w?parseFloat(c["atlas:depthMapPrecision"]):void 0,ownerInfo:x?{name:E["atlas:name"],url:E["atlas:url"]["@xlink:href"]}:void 0,isBlurred:c["atlas:isBlurred"]}))}else n=!0,r=c["atlas:recordedAt"]}}return this.fireEvent(a,e,i),0===i.length&&n?r:i}}))}()},function(t,e,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(989),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";function n(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,a=Object.create(o.prototype),s=new d(r||[]);return a._invoke=u(t,n,s),a}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function l(t){function e(n,i,o,a){var s=r(t[n],t,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&y.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(u).then(function(t){l.value=t,o(l)},a)}a(s.arg)}function n(t,n){function r(){return new Promise(function(r,i){e(t,n,r,i)})}return i=i?i.then(r,r):r()}var i;this._invoke=n}function u(t,e,n){var i=S;return function(o,a){if(i===C)throw new Error("Generator is already running");if(i===O){if("throw"===o)throw a;return m()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=c(s,n);if(l){if(l===A)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===S)throw i=O,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=C;var u=r(t,e,n);if("normal"===u.type){if(i=n.done?O:T,u.arg===A)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=O,n.method="throw",n.arg=u.arg)}}}function c(t,e){var n=t.iterator[e.method];if(n===g){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=g,c(t,e),"throw"===e.method))return A;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var i=r(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,A;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=g),e.delegate=null,A):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,A)}function f(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function h(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function p(t){if(t){var e=t[_];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(y.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=g,e.done=!0,e};return r.next=r}}return{next:m}}function m(){return{value:g,done:!0}}var g,v=Object.prototype,y=v.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},_=b.iterator||"@@iterator",w=b.asyncIterator||"@@asyncIterator",x=b.toStringTag||"@@toStringTag",E="object"==typeof t,M=e.regeneratorRuntime;if(M)return void(E&&(t.exports=M));M=e.regeneratorRuntime=E?t.exports:{},M.wrap=n;var S="suspendedStart",T="suspendedYield",C="executing",O="completed",A={},I={};I[_]=function(){return this};var R=Object.getPrototypeOf,P=R&&R(R(p([])));P&&P!==v&&y.call(P,_)&&(I=P);var L=a.prototype=i.prototype=Object.create(I);o.prototype=L.constructor=a,a.constructor=o,a[x]=o.displayName="GeneratorFunction",M.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},M.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,x in t||(t[x]="GeneratorFunction")),t.prototype=Object.create(L),t},M.awrap=function(t){return{__await:t}},s(l.prototype),l.prototype[w]=function(){return this},M.AsyncIterator=l,M.async=function(t,e,r,i){var o=new l(n(t,e,r,i));return M.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},s(L),L[x]="Generator",L[_]=function(){return this},L.toString=function(){return"[object Generator]"},M.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},M.values=p,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(h),!t)for(var e in this)"t"===e.charAt(0)&&y.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=g)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,r&&(n.method="next",n.arg=g),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=y.call(i,"catchLoc"),s=y.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&y.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),A},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),h(n),A}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;h(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:p(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=g),A}}}(function(){return this}()||Function("return this")())},function(t,e,n){n(327),n(160),n(196),n(991),n(994),n(995),t.exports=n(26).Promise},function(t,e,n){"use strict";var r,i,o,a,s=n(238),l=n(58),u=n(109),c=n(245),f=n(39),h=n(75),d=n(192),p=n(329),m=n(198),g=n(473),v=n(474).set,y=n(993)(),b=n(335),_=n(475),w=n(476),x=l.TypeError,E=l.process,M=l.Promise,S="process"==c(E),T=function(){},C=i=b.f,O=!!function(){try{var t=M.resolve(1),e=(t.constructor={})[n(59)("species")]=function(t){t(T,T)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(T)instanceof e}catch(t){}}(),A=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},I=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var r=t._v,i=1==t._s,o=0;n.length>o;)!function(e){var n,o,a=i?e.ok:e.fail,s=e.resolve,l=e.reject,u=e.domain;try{a?(i||(2==t._h&&L(t),t._h=1),!0===a?n=r:(u&&u.enter(),n=a(r),u&&u.exit()),n===e.promise?l(x("Promise-chain cycle")):(o=A(n))?o.call(n,s,l):s(n)):l(r)}catch(t){l(t)}}(n[o++]);t._c=[],t._n=!1,e&&!t._h&&R(t)})}},R=function(t){v.call(l,function(){var e,n,r,i=t._v,o=P(t);if(o&&(e=_(function(){S?E.emit("unhandledRejection",i,t):(n=l.onunhandledrejection)?n({promise:t,reason:i}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=S||P(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},P=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,r=0;n.length>r;)if(e=n[r++],e.fail||!P(e.promise))return!1;return!0},L=function(t){v.call(l,function(){var e;S?E.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},N=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),I(e,!0))},k=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw x("Promise can't be resolved itself");(e=A(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,u(k,r,1),u(N,r,1))}catch(t){N.call(r,t)}}):(n._v=t,n._s=1,I(n,!1))}catch(t){N.call({_w:n,_d:!1},t)}}};O||(M=function(t){p(this,M,"Promise","_h"),d(t),r.call(this);try{t(u(k,this,1),u(N,this,1))}catch(t){N.call(this,t)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(328)(M.prototype,{then:function(t,e){var n=C(g(this,M));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=S?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=u(k,t,1),this.reject=u(N,t,1)},b.f=C=function(t){return t===M||t===a?new o(t):i(t)}),f(f.G+f.W+f.F*!O,{Promise:M}),n(195)(M,"Promise"),n(457)("Promise"),a=n(26).Promise,f(f.S+f.F*!O,"Promise",{reject:function(t){var e=C(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!O),"Promise",{resolve:function(t){return w(s&&this===a?M:this,t)}}),f(f.S+f.F*!(O&&n(459)(function(t){M.all(t).catch(T)})),"Promise",{all:function(t){var e=this,n=C(e),r=n.resolve,i=n.reject,o=_(function(){var n=[],o=0,a=1;m(t,!1,function(t){var s=o++,l=!1;n.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=C(e),r=n.reject,i=_(function(){m(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(58),i=n(474).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,l="process"==n(194)(a);t.exports=function(){var t,e,n,u=function(){var r,i;for(l&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(l)n=function(){a.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve();n=function(){c.then(u)}}else n=function(){i.call(r,u)};else{var f=!0,h=document.createTextNode("");new o(u).observe(h,{characterData:!0}),n=function(){h.data=f=!f}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){"use strict";var r=n(39),i=n(26),o=n(58),a=n(473),s=n(476);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(39),i=n(335),o=n(475);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=996},function(t,e,n){"use strict";var r=/^\s*$/,i=/^(?:true|false)$/i,o=function(t){return r.test(t)?null:i.test(t)?"true"===t.toLowerCase():isFinite(t)?parseFloat(t):t},a=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.trim,i=void 0===r||r;if(e.nodeType===Node.TEXT_NODE){var a=e.textContent;return i&&(a=a.trim()),o(a)}var s={},l=e.attributes;if(l&&"length"in l)for(var u=l.length,c=0;c<u;++c){var f=l[c];s["@"+f.name]=o(f.value)}var h=e.firstChild;if(!h)return s;if(!h.nextSibling&&h.nodeType===Node.TEXT_NODE&&!l.length){var d=h.textContent;return i&&(d=d.trim()),o(d)}for(;h;h=h.nextSibling){var p=h.nodeName;p in s?(s[p]instanceof Array||(s[p]=[s[p]]),s[p].push(t(h))):s[p]=t(h)}return s};e.a=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(166),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g=function(t){function e(t){return r(this,e),i(this,(e.__proto__||s()(e)).call(this,t))}return o(e,t),m(e,[{key:"getUriFromClick",value:function(t,e,n,r,i){var o="/FindPosition?imageID="+t+"&srsName="+e+"&dx="+n+"&dy="+r+"&dz="+i;return this._selectDataUriHashBased(o)+o}}]),e}(p.a);e.a=g},function(t,e,n){"use strict";(function(t){function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=l()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(a.a?a()(t,e):t.__proto__=e)}var o=n(6),a=n.n(o),s=n(5),l=n.n(s),u=n(7),c=n.n(u),f=n(51),h=n.n(f),d=n(1),p=n.n(d),m=n(60),g=(n.n(m),n(20)),v=(n.n(g),n(471)),y=n(201),b=n(1002),_=n(1003),w=n(1051),x=n(1052),E=n(1053),M=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),S=function t(e,n,r){null===e&&(e=Function.prototype);var i=h()(e,n);if(void 0===i){var o=c()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},T=function(n){function o(n){e(this,o);var i=r(this,(o.__proto__||c()(o)).call(this,n));i._previousOrientation={};var a=CM.El.create("canvas",{styles:{position:"absolute",userSelect:"none",width:"100%",height:"100%"}}),s=CM.El.create("canvas",{styles:{zIndex:"1000","pointer-events":"none",position:"absolute",width:"100%",height:"100%"}});i._viewer=a,i._canvas=a,i._canvas2d=s;var l=i._getViewerSize();i.renderManager=new x.a(l,a);var u=i.renderManager.domElement();i.sceneManager=new b.a(l,i._tileSchema,i.renderManager.getMaxAnisotropy(),i),i.overlayManager=new _.a(l,u,i._viewerWrapper),i.shaderManager=new E.a(l,i,i.renderManager.renderer),i.crossHairManager=new w.a(l,s,i,i._viewerWrapper),i.renderManager.addPass(i.sceneManager),i.renderManager.addPass(i.shaderManager),i.renderManager.addPass(i.overlayManager);var f=function(t){i.toggleDepthCube(t)};return CM.El.adopt(i._viewerWrapper,s),CM.El.adopt(i._viewerWrapper,u),i._addInteractionListener(t,"keydown",f),i._addInteractionListener(i,CM.aperture.EVENT_RESIZE,i.resize),i._addInteractionListener(i,CM.aperture.EVENT_PANORAMA_CHANGE,i.onPanoramaChange),i}return i(o,n),M(o,[{key:"toggleDepthCube",value:function(t){192===t.keyCode&&(this.shaderManager.toggleDepth(),this.sceneManager.togglePanoramaCovered(),this.requestAnimationFrame())}},{key:"showCrossHairs",value:function(t){this.crossHairManager.showCrossHairs(t)}},{key:"showPointCursor",value:function(t){this.crossHairManager.showPointCursor(t)}},{key:"resize",value:function(){var t=this._getViewerSize(),e=t.width,n=t.height;this._canvas.width=e,this._canvas.height=n,this._canvas2d.width=e,this._canvas2d.height=n,this.renderManager.resize(t)}},{key:"onPanoramaChange",value:function(){this.sceneManager.changePanorama(this._tileSchema),this.shaderManager.changePanorama()}},{key:"destroy",value:function(){this.renderManager.destroy(),this._destroyRendererCanvas(),this.sceneManager.destroy(),this.overlayManager.destroy(),this.shaderManager.destroy(),S(o.prototype.__proto__||c()(o.prototype),"destroy",this).call(this)}},{key:"_destroyRendererCanvas",value:function(){this._canvas=null,this._viewer=null}},{key:"setCubeProgram",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t===y.a.HV_MAP?(this.shaderManager.toggleDepth(!0,e),this.sceneManager.togglePanoramaCovered(!0)):t===y.a.SURFACE_CURSOR||t===y.a.PLAIN_DEPTH?(this.shaderManager.toggleDepth(!1,e),this.shaderManager.toggleElevation(!1),this.sceneManager.togglePanoramaCovered(!1)):t===y.a.ELEVATION?this.shaderManager.toggleElevation(void 0):t===y.a.PLAIN_COLOR&&(this.shaderManager.toggleSurfaceCursor(!1),this.sceneManager.togglePanoramaCovered(!1)),this.requestAnimationFrame()}},{key:"_directCamera",value:function(){if(!this._disableRotate){var t={fov:this.getVFov(),pitch:this._pitch,yaw:this._yaw,yawOffset:this._camera.yawOffset};Object(g.isEqual)(t,this._previousOrientation)||(this.renderManager.directCamera(t),this._previousOrientation=t)}}},{key:"_render",value:function(){this._directCamera(),this._removeOffScreenFaces(),this.renderManager.render(),this._renderCrossHairs()}},{key:"_renderCrossHairs",value:function(){this.crossHairManager.render()}},{key:"_drawImageTile",value:function(t){this._destroyed||(this.sceneManager.updateTileByTileInfo(t),this.requestAnimationFrame())}},{key:"_drawDepthTile",value:function(t){this._destroyed||(this.shaderManager.updateDepthTileByTileInfo(t),this.requestAnimationFrame())}},{key:"setElevationData",value:function(t){this.shaderManager&&this.shaderManager.elevationData&&t&&(this.shaderManager.elevationData=t,this.requestAnimationFrame())}},{key:"_removeOffScreenFaces",value:function(){var t=new m.Frustum,e=new m.Matrix4,n=this.sceneManager.camera;n.updateMatrixWorld(),n.matrixWorldInverse.getInverse(n.matrixWorld),e.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),t.setFromMatrix(e),this.sceneManager._removeOffScreenFaces(t)}},{key:"takeScreenShot",value:function(t,e,n){return this.sceneManager.takeScreenShot(t,e,n)}}]),o}(v.a);T.VIEWER_TYPE="threejs";CM.aperture.registerViewerClass(T)}).call(e,n(37))},function(t,e,n){n(1001);var r=n(26).Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},function(t,e,n){var r=n(117),i=n(326).f;n(244)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=m()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(d.a?d()(t,e):t.__proto__=e)}var a=n(17),s=n.n(a),l=n(40),u=n.n(l),c=n(7),f=n.n(c),h=n(6),d=n.n(h),p=n(5),m=n.n(p),g=n(1),v=n.n(g),y=n(60),b=(n.n(y),n(480)),_=n(33),w=n(247),x=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),v()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=function(t){function e(t,n,o,a){r(this,e);var s=i(this,(e.__proto__||f()(e)).call(this));s._cubeAtlas=[],s._cubeVisibility=[],s._cubeImageCache=[],s._tileLoadedCount=0,s._tileLoadedThreshold=8,s._renderNeeded=!0;var l=t.width,u=t.height,c=new y.PerspectiveCamera(75,l/u,.1,1e3),h=new y.Scene;return h.add(c),s.scene=h,s.camera=c,s._tileSchema=n,s._maxAnisotropy=o,s._viewer=a,s._viewerSize=t,s.sceneReady=!1,s.initializeScene(),s}return o(e,t),x(e,[{key:"directCamera",value:function(t){var e=t.fov,n=t.pitch,r=t.yaw,i=t.yawOffset;this.camera.fov=Object(_.d)(e),this.camera.rotation.set(n,Math.PI-r-i,0,"YXZ"),this.camera.updateProjectionMatrix()}},{key:"getRenderInfo",value:function(){return this._tileLoadedCount=0,this._renderNeeded?[{scene:this.scene,camera:this.camera}]:[]}},{key:"togglePanoramaCovered",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._renderNeeded;this._renderNeeded=!t}},{key:"resize",value:function(t){var e=t.width,n=t.height;this._viewerSize=t,this.camera.aspect=e/n,this.camera.updateProjectionMatrix()}},{key:"initializeScene",value:function(){var t=this,e=this._tileSchema.zoomTileDimensionalities;u()(e).forEach(function(n){t._cubeAtlas.push(b.a._makeCube(15-n,e[n])),b.a._applyToAllPanes(t._cubeAtlas[n],function(e){t.scene.add(e)})}),this._cubeVisibility=this._makeVisibilityList(e),this._cubeImageCache=this._makeImageCache(e)}},{key:"changePanorama",value:function(t){this._tileSchema!==t?(this._tileSchema=t,this.cleanUp(!0),this.initializeScene()):(this.cleanUp(!1),this._cubeVisibility=this._makeVisibilityList(t.zoomTileDimensionalities),this._cubeImageCache=this._makeImageCache(t.zoomTileDimensionalities)),this.sceneReady=!1}},{key:"cleanUp",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this._cubeAtlas,r=!0,i=!1,o=void 0;try{for(var a,l=s()(n);!(r=(a=l.next()).done);r=!0){var u=a.value;b.a._applyToAllPanes(u,function(n){n.material.map&&n.material.map.dispose(),n.material.dispose(),e?(n.geometry.dispose(),t.scene.remove(n)):n.material=b.a._invisibleMaterial})}}catch(t){i=!0,o=t}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}e&&(this._cubeAtlas=[]),this._cubeVisibility=[],this._cubeImageCache=[]}},{key:"destroy",value:function(){this.cleanUp(),this.camera=null,this.scene=null}},{key:"_makeVisibilityList",value:function(t){var e=[];for(var n in t){var r=t[n]/t[n-1],i=Math.pow(Math.ceil(r),2);if(isNaN(i)||isNaN(r))e[n]={maxOverlap:0,seg:0,counters:[[[0]]]};else{for(var o=[],a=0;a<6;a++){o[a]=[];for(var s=0;s<t[n-1];s++){o[a][s]=[];for(var l=0;l<t[n-1];l++)o[a][s][l]=0}}e[n]={maxOverlap:i,seg:r,counters:o}}}return e}},{key:"_makeImageCache",value:function(t){var e=[];for(var n in t){e[n]=[];for(var r=0;r<6;r++){e[n][r]=[];var i=t[n];isNaN(i)&&(i=1);for(var o=0;o<i;o++){e[n][r][o]=[];for(var a=0;a<i;a++)e[n][r][o][a]=null}}}return e}},{key:"updateTileByTileInfo",value:function(t){if("A"!==t.face){var e=b.a._tileInfoToFace[t.face],n=this._cubeAtlas[t.zoom][e][t.row][t.column],r=new y.Texture(t.img);r.needsUpdate=!0,r.anisotropy=this._maxAnisotropy,n.material=new y.MeshBasicMaterial({map:r,depthWrite:!1}),this._cubeImageCache[t.zoom][t.face][t.row][t.column]=t.img}else{var i=new y.TextureLoader,o=document.createElement("canvas"),a=o.getContext("2d"),s=[],l=this._tileSchema.zoomResolutions[0];o.width=l,o.height=l;for(var u=0;u<6;u++){a.fillRect(0,0,l,l),a.drawImage(t.img,u*l,0,l,l,0,0,l,l),s[u]=o.toDataURL(),s[u]=i.load(s[u]),s[u].anisotropy=this._maxAnisotropy,s[u]=new y.MeshBasicMaterial({map:s[u],depthWrite:!1});var c=b.a._lowResToFace[u],f=this._cubeAtlas[t.zoom][c][t.row][t.column];f.material.map&&(f.material.map.dispose(),delete f.material.map),f.material.dispose(),delete f.material,f.material=s[u]}this.sceneReady=!0}}},{key:"_removeOffScreenFaces",value:function(t){var e=this._viewer._viewportTileLoader.findOptimalZoomLevel();for(var n in this._cubeAtlas)if("0"!==n)for(var r in this._cubeAtlas[n])for(var i in this._cubeAtlas[n][r])for(var o in this._cubeAtlas[n][r][i]){var a=this._cubeAtlas[n][r][i][o],s=b.a._tileInfoToFace.indexOf(r);if(t.intersectsObject(a))if(a.material===b.a._invisibleMaterial){if(this._cubeImageCache[n][s][i][o]&&e[s]===parseInt(n,10))if(this._tileLoadedCount<this._tileLoadedThreshold){var l=new y.Texture(this._cubeImageCache[n][s][i][o]);l.needsUpdate=!0,l.anisotropy=this._maxAnisotropy,a.material.dispose(),a.material=new y.MeshBasicMaterial({map:l,depthWrite:!1}),this._tileLoadedCount++}else this._viewer.requestAnimationFrame();else if(!this._cubeImageCache[n][s][i][o]&&e[s]===parseInt(n,10)){var u=this._cubeVisibility[n].seg,c=Math.floor(i/u),f=Math.floor(o/u);if(isNaN(c)||isNaN(c))continue;var h=this._cubeAtlas[n-1][r][c][f];if(this._cubeImageCache[n-1][s][c][f]&&h.material===b.a._invisibleMaterial)if(this._tileLoadedCount<this._tileLoadedThreshold){var d=new y.Texture(this._cubeImageCache[n-1][s][c][f]);d.needsUpdate=!0,d.anisotropy=this._maxAnisotropy,h.material.dispose(),h.material=new y.MeshBasicMaterial({map:d,depthWrite:!1}),this._tileLoadedCount++}else this._viewer.requestAnimationFrame()}}else a.material!==b.a._invisibleMaterial&&3!==e[s]&&3===parseInt(n,10)&&(a.material.map&&a.material.map.dispose(),a.material.dispose(),a.material=b.a._invisibleMaterial);else a.material.map&&a.material.map.dispose(),a.material.dispose(),a.material=b.a._invisibleMaterial}}},{key:"takeScreenShot",value:function(t,e,n){var r=this._viewer.renderManager.renderer,i=this._viewerSize,o=i.width,a=i.height,s=new ArrayBuffer(n*n*4),l=new Uint8Array(s),u=t-n/2,c=a-e-n/2,f=new y.WebGLRenderTarget(o,a,{magFilter:y.NearestFilter,minFilter:y.NearestFilter,format:y.RGBAFormat});f.texture.generateMipmaps=!1,r.render(this.scene,this.camera,f),r.readRenderTargetPixels(f,u,c,n,n,l);var h=document.createElement("canvas");h.width=n,h.height=n;for(var d=h.getContext("2d"),p=d.createImageData(n,n),m=0;m<n;m++)for(var g=0;g<n;g++){var v=n-m,b=4*(m*n+g),_=4*(v*n+g);p.data[_]=l[b],p.data[_+1]=l[b+1],p.data[_+2]=l[b+2],p.data[_+3]=l[b+3]}d.putImageData(p,0,0);var w=h.toDataURL("image/jpeg");return h.remove(),f.dispose(),w.split("data:image/jpeg;base64,")[1]}}]),e}(w.a);e.a=E},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return M()(t)}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t){return function(){var e=t.apply(this,arguments);return new x.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return x.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=_()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(y.a?y()(t,e):t.__proto__=e)}var u=n(77),c=n.n(u),f=n(17),h=n.n(f),d=n(21),p=n.n(d),m=n(7),g=n.n(m),v=n(6),y=n.n(v),b=n(5),_=n.n(b),w=n(19),x=n.n(w),E=n(30),M=n.n(E),S=n(1),T=n.n(S),C=n(4),O=n.n(C),A=n(60),I=(n.n(A),n(18)),R=n.n(I),P=n(34),L=n.n(P),N=n(170),k=n(89),D=n(343),F=n(33),j=n(247),U=O.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),T()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),B=function(t){function e(t,n,r){a(this,e);var i=s(this,(e.__proto__||g()(e)).call(this));i.GeoJSONFormat=new R.a.format.GeoJSON,i.pointStyle={radius:.2,color:10982115,opacity:.8,type:"dot3D"},i.lineStyle={color:16711680,lineWidth:2,type:"line"},i.polygonStyle={outlineColor:16711680,color:16711680,lineWidth:2,opacity:1,fillOpacity:.2,wireframeOpacity:0,type:"polygon_shape"};var o=t.width,l=t.height,u=new A.Scene,c=new A.PerspectiveCamera(30,o/l,.1,1e4);u.add(c),i.scene=u,i.camera=c,i.domElement=n,i.onMouseDown=i.onMouseDown.bind(i),i.onMouseUp=i.onMouseUp.bind(i),i.onMouseMove=i.onMouseMove.bind(i),CM.El.addEvent(r,"mousemove",i.onMouseMove),CM.El.addEvent(r,"mousedown",i.onMouseDown),CM.El.addEvent(r,"mouseup",i.onMouseUp),CM.El.addEvent(r,"pointerdown",i.onMouseDown),CM.El.addEvent(r,"pointerup",i.onMouseUp);var f=new N.b(u,c);return i.drawLayer=f,i.loadFont().then(function(t){f.setFont(t)},function(t){L.a.warn("Error loading font for PanoramaViewer: "+t)}),i}return l(e,t),z(e,[{key:"destroy",value:function(){var t=this.drawLayer,e=this.scene;D.a.destroyScene(e),t&&(t.destroy(),this.drawLayer=void 0),this.scene=void 0,this.camera=void 0}},{key:"resize",value:function(t){var e=t.width,n=t.height;this.camera.aspect=e/n,this.camera.updateProjectionMatrix()}},{key:"directCamera",value:function(t){var e=t.fov,n=t.pitch,r=t.yaw;this.camera.filmGauge=1,this.camera.fov=Object(F.d)(e),this.camera.rotation.set(n,-r,0,"YXZ"),this.camera.updateProjectionMatrix()}},{key:"getRenderInfo",value:function(){return this.scene.children.length>=2?[{scene:this.scene,camera:this.camera}]:[]}},{key:"onMouseMove",value:function(t){t.preventDefault();var e=this.drawLayer,n=this.domElement;e&&n&&e.mouseManager.updateMouseMove(t,n)}},{key:"onMouseDown",value:function(t){t.preventDefault();var e=this.drawLayer,n=this.domElement;e&&n&&e.mouseManager.updateMouseDown(t,n)}},{key:"onMouseUp",value:function(t){t.preventDefault();var e=this.drawLayer,n=this.domElement;e&&n&&e.mouseManager.updateMouseUp(t,n)}},{key:"getPointStyle",value:function(t){return U({},this.pointStyle,t,{type:t.type?t.type:this.pointStyle.type})}},{key:"getLineStyle",value:function(t){return U({},this.lineStyle,t,{type:this.lineStyle.type})}},{key:"getPolygonStyle",value:function(t){return t.outlineColor||(t.outlineColor=t.color?t.color:this.polygonStyle.color),U({},this.polygonStyle,t,{type:this.polygonStyle.type})}},{key:"loadFont",value:function(){function t(){return e.apply(this,arguments)}var e=o(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new x.a(function(t){(new A.FontLoader).load(Object(k.a)("./streetsmart-mapboard/helvetiker_regular.typeface.json"),function(e){t(e)})}));case 1:case"end":return t.stop()}},t,this)}));return t}()},{key:"drawFeatures",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.offset,r=e.style,o=e.events,a=e.tooltipprops,s=e.attributeInfo,l=!0,u=!1,c=void 0;try{for(var f,d=h()(t);!(l=(f=d.next()).done);l=!0){var p=f.value,m=[],g={};if(r){var v={},y=r.styleFunction,b=i(r,["styleFunction"]);if(y&&"function"==typeof y&&!(v=y(p)))continue;g=U({},b,v)}var _=p.getGeometry();if(g.name=p.getId(),_&&_.getCoordinates){var w=_.getCoordinates();if(n&&(w=this._offsetCoordinates(w,n,!0)),_ instanceof R.a.geom.Point)g=this.getPointStyle(g),_.setCoordinates(w),p.setGeometry(_),m.push(this.GeoJSONFormat.writeFeatureObject(p));else if(_ instanceof R.a.geom.MultiPoint){g=this.getPointStyle(g);var x=!0,E=!1,M=void 0;try{for(var S,T=h()(w);!(x=(S=T.next()).done);x=!0){var C=S.value,O=new R.a.geom.Point(C);p.setGeometry(O),m.push(this.GeoJSONFormat.writeFeatureObject(p))}}catch(t){E=!0,M=t}finally{try{!x&&T.return&&T.return()}finally{if(E)throw M}}}else if(_ instanceof R.a.geom.LineString)g=this.getLineStyle(g),_.setCoordinates(w),p.setGeometry(_),m.push(this.GeoJSONFormat.writeFeatureObject(p));else if(_ instanceof R.a.geom.MultiLineString){g=this.getLineStyle(g);var A=!0,I=!1,P=void 0;try{for(var N,k=h()(w);!(A=(N=k.next()).done);A=!0){var D=N.value,F=new R.a.geom.LineString(D);p.setGeometry(F),m.push(this.GeoJSONFormat.writeFeatureObject(p))}}catch(t){I=!0,P=t}finally{try{!A&&k.return&&k.return()}finally{if(I)throw P}}}else if(_ instanceof R.a.geom.Polygon)g=this.getPolygonStyle(g),_.setCoordinates(w),p.setGeometry(_),m.push(this.GeoJSONFormat.writeFeatureObject(p));else if(_ instanceof R.a.geom.MultiPolygon){g=this.getPolygonStyle(g);var j=!0,z=!1,B=void 0;try{for(var V,G=h()(w);!(j=(V=G.next()).done);j=!0){var H=V.value,q=new R.a.geom.Polygon(H);p.setGeometry(q),m.push(this.GeoJSONFormat.writeFeatureObject(p))}}catch(t){z=!0,B=t}finally{try{!j&&G.return&&G.return()}finally{if(z)throw B}}}var W=!0,Y=!1,X=void 0;try{for(var Z,K=h()(m);!(W=(Z=K.next()).done);W=!0){var Q=Z.value;if(this.drawLayer){var J=this.drawLayer.create(Q,U({},g,{events:o}));Q.properties&&(J.properties=Q.properties,J.tooltipprops=a,J.attributeInfo=s)}}}catch(t){Y=!0,X=t}finally{try{!W&&K.return&&K.return()}finally{if(Y)throw X}}}else L.a.info("Cannot draw feature",p)}}catch(t){u=!0,c=t}finally{try{!l&&d.return&&d.return()}finally{if(u)throw c}}}},{key:"_offsetCoordinates",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=n?-1:1;if(Array.isArray(t))if(c()(t[0])&&c()(t[1])){if(Array.isArray(t[2])){var o;t=(o=[]).concat.apply(o,r(t)),t.length=3}t[0]+=e[0]*i,t[1]+=e[1]*i,c()(t[2])&&0!==t[2]?c()(e[2])&&(t[2]+=e[2]*i):c()(t[2])&&0!==t[2]||c()(e[3])&&(t[2]=0,t[2]+=e[3]*i)}else{var a=!0,s=!1,l=void 0;try{for(var u,f=h()(t);!(a=(u=f.next()).done);a=!0){var d=u.value;Array.isArray(d)&&this._offsetCoordinates(d,e,n)}}catch(t){s=!0,l=t}finally{try{!a&&f.return&&f.return()}finally{if(s)throw l}}}return t}},{key:"removeAllFeatures",value:function(){var t=this.drawLayer;t&&t.dispose()}},{key:"getElementById",value:function(t){var e=this.drawLayer;return e?e.getElementById(t):void 0}},{key:"getElementByObject",value:function(t){var e=this.drawLayer;return e?e.getElementByObject(t):void 0}},{key:"create",value:function(t,e){var n=this.drawLayer;n&&n.create(t,e)}},{key:"showGroup",value:function(t){var e=this.drawLayer;e&&e.showGroup(t)}},{key:"hideGroup",value:function(t){var e=this.drawLayer;e&&e.hideGroup(t)}},{key:"disposeGroup",value:function(t){var e=this.drawLayer;e&&e.disposeGroup(t)}}]),e}(j.a);e.a=B},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(40),o=n.n(i),a=n(55),s=n.n(a),l=n(61),u=n.n(l),c=n(1),f=n.n(c),h=n(23),d=n.n(h),p=n(17),m=n.n(p),g=n(34),v=n.n(g),y=n(60),b=(n.n(y),n(481)),_=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=m()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(d()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),f()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),x=function(){function t(e){r(this,t),this.drawLayer=e,this.elements={},this.elementsNames={},this.animateId=void 0,this.scaleCandidates=[],this.dummyPos=new y.Vector3(0,0,0),this.projScreenMat=new y.Matrix4,this.updateDistanceScaling=this.updateDistanceScaling.bind(this)}return w(t,[{key:"addElement",value:function(t){void 0!==t.object&&(!0===this.elementsNames[t.name]&&v.a.warn("element name "+t.name+" is already used"),!t.hasDependency&&t.object&&(this.drawLayer.scene.add(t.object),this.elements[""+t.id]=t),t.uniformScale&&(this.scaleCandidates.push(t),this.animateId=requestAnimationFrame(this.updateDistanceScaling)),t.object&&this.drawLayer.mouseManager.registerElement(t))}},{key:"updateDistanceScaling",value:function(){var t=this.drawLayer.elementManager.scaleCandidates;if(0!==t.length){var e=this.drawLayer.elementManager.dummyPos,n=this.drawLayer.camera.projectionMatrix,r=this.drawLayer.elementManager.projScreenMat,i=n.elements;r.identity(),r.multiplyMatrices(n,this.drawLayer.camera.matrixWorldInverse);for(var o=void 0,a=void 0,s=void 0,l=0;l<t.length;l++)o=t[l],s=o.object,e.copy(s.position),e.applyMatrix4(r),a=i[2]+i[6]+i[10]*e.z,a*=o.scale,s.scale.set(a,-a,1);this.animateId=requestAnimationFrame(this.updateDistanceScaling)}}},{key:"destroy",value:function(){this.destroyAll(),this.drawLayer=void 0}},{key:"destroyAll",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,i=m()(u()(this.elements));!(t=(r=i.next()).done);t=!0){var o=r.value;this.remove(o)}}catch(t){e=!0,n=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw n}}this.elements={},this.elementsNames={},this.scaleCandidates=[],this.animateId&&(cancelAnimationFrame(this.animateId),this.animateId=void 0)}},{key:"destroyElements",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=m()(t);!(e=(i=o.next()).done);e=!0){var a=i.value;a instanceof b.a&&this.remove(a)}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"remove",value:function(t){if(this.drawLayer.mouseManager.unregisterElement(t),t.garbage=!0,t.object&&!t.hasDependency){this.drawLayer.scene.remove(t.object);var e=t.nested?t.object.children[0]:t.object;if(e&&e.geometry&&e.geometry.dispose(),t.hasMaterial){var n=e.material;if(t.hasBitmapMaterial){var r=n.map;r&&r.isTexture&&r.dispose&&r.dispose(),r.image&&(r.image=void 0),n.map=void 0}n.dispose&&n.dispose()}t.nested&&(t.object=void 0)}if(delete this.elementsNames[t.name],delete this.elements[""+t.id],this.scaleCandidates.length>0){var i=this.scaleCandidates.indexOf(t);i>=0&&this.scaleCandidates.splice(i,1),0===this.scaleCandidates.length&&this.animateId&&(cancelAnimationFrame(this.animateId),this.animateId=void 0)}}},{key:"setVisible",value:function(t,e){Array.isArray(e)&&e.forEach(function(e){e.object.visible=t})}},{key:"setGroupVisible",value:function(t,e){this.setVisible(t,this.getElementsByGroup(e))}},{key:"update",value:function(t,e,n){if(t.object){var r=t.nested?t.object.children[0]:t.object;if(e){var i=!0,o=!1,a=void 0;try{for(var l,u=m()(s()(e));!(i=(l=u.next()).done);i=!0){var c=_(l.value,2),f=c[0],h=c[1];try{r.material[f]=h}catch(t){}}}catch(t){o=!0,a=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}}if(null!==n){var d=!0,p=!1,g=void 0;try{for(var v,y=m()(s()(n));!(d=(v=y.next()).done);d=!0){var b=_(v.value,2),f=b[0],h=b[1];try{r[f]=h}catch(t){}}}catch(t){p=!0,g=t}finally{try{!d&&y.return&&y.return()}finally{if(p)throw g}}}}}},{key:"getElementByObject",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=m()(u()(this.elements));!(e=(i=o.next()).done);e=!0){var a=i.value;if(a.nested&&(t===a.object||t===a.object.children[0])||!t.nested&&t===a.object)return a}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}return v.a.warn("object not found"),null}},{key:"getElementById",value:function(t){var e=this.elements[""+t];return e||v.a.warn("Element "+t+" does not exist"),e}},{key:"getElementByName",value:function(t){return u()(this.elements).find(function(e){return e.name===t})}},{key:"getElementsByGroup",value:function(t){return u()(this.elements).filter(function(e){return e.group===t})}},{key:"getElementNames",value:function(){return u()(this.elements).map(function(t){return t.name})}},{key:"getElements",value:function(){return u()(this.elements)}},{key:"getElementIds",value:function(){return o()(this.elements)}}]),t}();e.a=x},function(t,e,n){n(1006),t.exports=n(26).Object.values},function(t,e,n){var r=n(39),i=n(453)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return c()(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(4),a=n.n(o),s=n(17),l=n.n(s),u=n(30),c=n.n(u),f=n(1),h=n.n(f),d=n(34),p=n.n(d),m=n(1008),g=n.n(m),v=n(20),y=(n.n(v),n(60)),b=(n.n(y),n(1037)),_=n(145),w=n(342),x=n(88),E=n(170),M=n(481),S=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),h()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),T=function(){function t(e){i(this,t),this.drawLayer=e}return S(t,[{key:"destroy",value:function(){this.drawLayer=void 0}},{key:"setObjectTransforms",value:function(t,e){void 0!==e.x&&(t.position.x=e.x),void 0!==e.y&&(t.position.y=e.y),void 0!==e.z&&(t.position.z=e.z),void 0!==e.rotationX&&(t.rotation.x=e.rotationX),void 0!==e.rotationY&&(t.rotation.y=e.rotationY),void 0!==e.rotationZ&&(t.rotation.z=e.rotationZ),void 0!==e.scaleX&&(t.scale.x=e.scaleX),void 0!==e.scaleY&&(t.scale.y=e.scaleY),void 0!==e.scaleZ&&(t.scale.z=e.scaleZ)}},{key:"validateData",value:function(t,e){if(t.opacity=void 0!==t.opacity?t.opacity:1,t.color=void 0!==t.color?t.color:13421772,t.radius=void 0!==t.radius?t.radius:1,t.thickness=void 0!==t.thickness?t.thickness:0,t.outlineRadius=void 0!==t.outlineRadius&&t.outlineRadius>t.radius?t.outlineRadius:0,t.outlineColor=void 0!==t.outlineColor?t.outlineColor:16777215,t.width=void 0!==t.width?t.width:1,t.outlineWidth=void 0!==t.outlineWidth?t.outlineWidth:0,void 0===t.lineWidth)switch(e.type){case E.a.LINE:t.lineWidth=1;break;case E.a.CROSSHAIR:t.lineWidth=2;break;default:t.lineWidth=0}return t.transparent=t.opacity<1,e.onMouseOver=t.onMouseOver?t.onMouseOver:void 0,e.onMouseOut=t.onMouseOut?t.onMouseOut:void 0,e.onMouseDown=t.onMouseDown?t.onMouseDown:void 0,e.onMouseUp=t.onMouseUp?t.onMouseUp:void 0,t}},{key:"getBasicMaterial",value:function(t,e,n){var r={opacity:t.opacity,transparent:t.transparent};!n&&t.hasOwnProperty("fillOpacity")&&(r.opacity=t.fillOpacity,r.transparent=r.opacity<1),void 0!==t.url?r.map=y.ImageUtils.loadTexture(t.url):r.color=new y.Color(n?t.outlineColor:t.color);var i=new y.MeshBasicMaterial(r);return void 0!==e&&(i.side=1===e?y.DoubleSide:y.BackSide),i}},{key:"constructObjectFromGeoJSON",value:function(t,e){var n=void 0;if(Object(w.e)(t))n=t.features;else{if(!Object(w.d)(t))throw new Error("Data is not a valid GeoJSON FeatureCollection or Feature");n=[t]}var i=t.properties,o=[],s=!0,u=!1,c=void 0;try{for(var f,h=l()(n);!(s=(f=h.next()).done);s=!0){var d=f.value,p={font:t.font},m=d.geometry.type,y=d.geometry.coordinates;if(m===_.b.POINT)p.type=E.a.DOT_2D,p.x=y[0],p.y=y[2]||e.z||0,p.z=-y[1];else if(m===_.b.LINESTRING){p.type=E.a.LINE;var b=[],M=!0,S=!1,T=void 0;try{for(var C,O=l()(y);!(M=(C=O.next()).done);M=!0){var A=C.value;b.push(A[0],A[2]||0,-A[1])}}catch(t){S=!0,T=t}finally{try{!M&&O.return&&O.return()}finally{if(S)throw T}}p.coordinates=b}else if(m===_.b.POLYGON){if(p.type=E.a.POLYGON_SHAPE,!p.triangles){var I=[],R=!0,P=!1,L=void 0;try{for(var N,k=l()(y);!(R=(N=k.next()).done);R=!0){var D=N.value,F=void 0;D[0][0]!==D[D.length-1][0]&&D[0][1]!==D[D.length-1][1]||(F=[].concat([].concat(r(D))),F.length=D.length-1),I.push(F)}}catch(t){P=!0,L=t}finally{try{!R&&k.return&&k.return()}finally{if(P)throw L}}var j=g()(I,{clean:!0,nested:!0});p.triangles=Object(x.l)(j.points,{edges:j.edges})}var U=[],z=!0,B=!1,V=void 0;try{for(var G,H=l()(y);!(z=(G=H.next()).done);z=!0){var q=G.value,W=[],Y=!0,X=!1,Z=void 0;try{for(var K,Q=l()(q);!(Y=(K=Q.next()).done);Y=!0){var J=K.value;W.push([J[0],J[2]||e.z||0,-J[1]])}}catch(t){X=!0,Z=t}finally{try{!Y&&Q.return&&Q.return()}finally{if(X)throw Z}}U.push(W)}}catch(t){B=!0,V=t}finally{try{!z&&H.return&&H.return()}finally{if(B)throw V}}p.coordinates=U,i&&(p.properties=i,i.derivedData&&(p.triangles=i.derivedData.triangles))}if(e&&e.events){var $=e.events,tt=$.onmouseover,et=$.onmouseout,nt=$.onmousedown,rt=$.onmouseup;Object(v.isFunction)(tt)&&(p.onMouseOver=tt),Object(v.isFunction)(et)&&(p.onMouseOut=et),Object(v.isFunction)(nt)&&(p.onMouseDown=nt),Object(v.isFunction)(rt)&&(p.onMouseUp=rt)}var it=a()({},p,e);o.push(this.constructObject(it.type,it))}}catch(t){u=!0,c=t}finally{try{!s&&h.return&&h.return()}finally{if(u)throw c}}return 1===o.length?o[0]:o}},{key:"constructObject",value:function(t,e,n,r){var i=void 0,o=void 0,a=void 0;r?(a=!0,i=r,o=r):(a=!1,i=new M.a,o=new M.a,void 0!==n&&""!==n||(n=t+"_"+i.id),i.type=t,o.type=t,i.name=n,o.name=n,e.group&&(i.group=e.group,o.group=e.group)),e=this.validateData(e,i);var s=void 0;switch(t){case E.a.POLYGON_SHAPE:s=this.constructPolygon(e,i);break;case E.a.DOT_2D:s=this.constructDot2D(e);break;case E.a.DOT_3D:s=this.constructDot3D(e);break;case E.a.LINE:var l=this.constructLine(e);a?r.object.add(l):s=l;break;case E.a.POLYGON_RING:s=this.constructPolygonRing(e);break;case E.a.PERSPECTIVE_LINE:s=this.constructPerspectiveLine(e);break;case E.a.PERSPECTIVE_LINE_PLANEXZ:s=this.constructPerspectiveLineXZ();break;case E.a.DASHED_LINE:s=this.constructDashedLine(e);break;case E.a.TEXT:s=this.constructText(e);break;case E.a.TEXT_2D:s=this.constructText2D(e);break;case E.a.BILLBOARD:this.constructBillboard(e,i,n);break;case E.a.GEOMETRY:s=this.constructGeometry(e,i,n);break;case E.a.EXTERNAL_GEOMETRY:this.constructExternalGeometry(e,i);break;case E.a.CROSSHAIR:s=this.constructCrosshair(e);break;case E.a.CROSS:s=this.constructCross(e);break;case E.a.CIRCLE:s=this.constructCircle(e);break;case E.a.SQUARE:s=this.constructSquare(e);break;case E.a.CYLINDER:var u=this.constructCylinder(e);a?r.object.add(u):s=u;break;default:return p.a.error("ElementFactory: Unsupported type: "+t),null}if(s&&("renderOrder"in e&&(s.renderOrder=e.renderOrder),"Object3D"===s.type&&(i.nested=!0)),a)return r;if(i.name=n,s&&(s.name=n,i.object=s),e.text&&e.label){e.labelTextColor=e.label.fillColor,e.labelOutlineColor=e.label.haloFill,e.labelFontSize=e.label.fontSize,e.labelStrokeSize=e.label.haloRadius;var c=this.constructText3D(e);c&&(c.name=Math.random(),o.object=c)}return s&&(this.drawLayer.elementManager.addElement(i),e.text&&this.drawLayer.elementManager.addElement(o)),i}},{key:"constructDot2D",value:function(t){var e=t.radius,n=t.thickness,r=t.outlineRadius,i=void 0,o=this.getBasicMaterial(t,1),a=[];if(0===r)n>0&&a.push(new y.Vector3(0,-n,0),new y.Vector3(e,-n,0)),a.push(new y.Vector3(e,0,0),new y.Vector3(0,0,0)),i=new y.Mesh(new y.LatheGeometry(a,45,0,2*Math.PI,"Y_AXIS"),o);else{i=new y.Object3D;var s=this.getBasicMaterial(t,1,!0);n>0&&a.push(new y.Vector3(e,-n,0),new y.Vector3(r,-n,0)),a.push(new y.Vector3(r,0,0),new y.Vector3(e,0,0));var l=new y.Mesh(new y.LatheGeometry(a,45,0,2*Math.PI,"Y_AXIS"),s);a[0].setX(e),a[1].setX(0);var u=new y.Mesh(new y.LatheGeometry(a,45,0,2*Math.PI,"Y_AXIS"),o);l.name=name,u.name=name,i.add(l),i.add(u)}return i.position.x=t.x,i.position.y=t.y,i.position.z=t.z,i}},{key:"constructDot3D",value:function(t){var e=new y.Mesh(new y.SphereGeometry(t.radius,20,20),this.getBasicMaterial(t));return e.position.x=t.x,e.position.y=t.y,e.position.z=t.z,e}},{key:"constructLine",value:function(t){var e=t.coordinates,n=t.color,r=t.opacity,i=t.lineWidth,o=t.transparent,a=e.length;(a<6||a%3!=0)&&p.a.error("Data line incorrect, must hold 3 coordinates and at least 6 numbers");for(var s=new y.Geometry,l=s.vertices,u=void 0,c=void 0,f=0;f<a;f+=3)u=new y.Vector3(e[f],e[f+1],e[f+2]),f>0&&l.push(c),l.push(u),c=u;return new y.Line(s,new y.LineBasicMaterial({color:n,opacity:r,transparent:o,linewidth:i}),y.LineSegments)}},{key:"constructPolygonRing",value:function(t){var e=t.coordinates,n=t.color,r=t.opacity,i=t.lineWidth,o=t.transparent,a=new y.Geometry,s=a.vertices,u=!0,c=!1,f=void 0;try{for(var h,d=l()(e);!(u=(h=d.next()).done);u=!0)for(var p=h.value,m=void 0,g=void 0,v=0;v<p.length;v++)m=new y.Vector3(p[v][0],p[v][1],p[v][2]),v>1&&s.push(g),s.push(m),v!==p.length-1&&(g=m)}catch(t){c=!0,f=t}finally{try{!u&&d.return&&d.return()}finally{if(c)throw f}}return new y.LineSegments(a,new y.LineBasicMaterial({color:n,opacity:r,transparent:o,linewidth:i}))}},{key:"constructPerspectiveLine",value:function(t){var e=t.coordinates,n=t.radius,r=t.outlineRadius,i=e.length;i<6&&p.a.error("Data line incorrect, must hold 2 coordinates and at least 3 numbers");for(var o=2*Math.PI/16,a=void 0,s=new y.Geometry,l=void 0,u=this.getBasicMaterial(t),c={material:1,steps:2},f=new y.SphereGeometry(n,16,16),h=new y.Shape,d=void 0,m=void 0,g=void 0,v=void 0,b=new y.Matrix4,_=0;_<16;++_)d=o*_,g=n*Math.cos(d),v=n*Math.sin(-d),0===_?h.moveTo(g,v):h.lineTo(g,v);for(var w=0;w<i-3;w+=3)m=[new y.Vector3(e[w],e[w+1],e[w+2]),new y.Vector3(e[w+3],e[w+4],e[w+5]+.001)],c.extrudePath=new y.SplineCurve3(m),l=new y.ExtrudeGeometry(h,c),b.identity(),b.setPosition(m[0]),l.merge(f,b),b.identity(),b.setPosition(m[1]),l.merge(f,b),s.merge(l),l.dispose();if(r>0){f.dispose(),h=new y.Shape;for(var x=0;x<16;++x)d=o*x,g=r*Math.cos(d),v=r*Math.sin(-d),0===x?h.moveTo(g,v):h.lineTo(g,v);f=new y.SphereGeometry(r,16,16);for(var E=new y.Geometry,M=0;M<i-3;M+=3)m=[new y.Vector3(e[M],e[M+1],e[M+2]),new y.Vector3(e[M+3],e[M+4],e[M+5]+.001)],c.extrudePath=new y.SplineCurve3(m),l=new y.ExtrudeGeometry(h,c),b.identity(),b.setPosition(m[0]),l.merge(f,b),b.identity(),b.setPosition(m[1]),l.merge(f,b),E.merge(l),l.dispose();a=new y.Object3D;var S=new y.Mesh(s,u),T=new y.Mesh(E,this.getBasicMaterial(t,2,!0));a.add(S),a.add(T),S.name=T.name=name}else f.dispose(),a=new y.Mesh(s,u);return a}},{key:"constructPerspectiveLineXZ",value:function(t){var e=t.coordinates,n=t.width,r=t.thickness,i=e.length;i<6&&p.a.error("Data line incorrect, must hold 2 coordinates and at least 3 numbers");var o=void 0;o=0===r?new y.LatheGeometry([new y.Vector3(-.5*n,0,0),new y.Vector3(0,0,0)],20,0,2*Math.PI,"Y_AXIS"):new y.LatheGeometry([new y.Vector3(-.5*n,-r,0),new y.Vector3(-.5*n,0,0),new y.Vector3(0,0,0)],20,0,2*Math.PI,"Y_AXIS");var a=new y.Geometry,s=void 0,l={material:1,steps:2},u=void 0,c=new y.Matrix4,f=new y.Shape,h=.5*n;f.moveTo(0,-h),f.lineTo(0,h),f.lineTo(r,h),f.lineTo(r,-h),f.lineTo(0,-h);for(var d=0;d<i-3;d+=3)u=[new y.Vector3(e[d],e[d+1],e[d+2]),new y.Vector3(e[d+3],e[d+4],e[d+5]+.001)],l.extrudePath=new y.SplineCurve3(u),s=new y.ExtrudeGeometry(f,l),c.identity(),c.setPosition(u[0]),s.merge(o,c),c.identity(),c.setPosition(u[1]),s.merge(o,c),a.merge(s),s.dispose();var m=new y.Mesh(a,this.getBasicMaterial(t,1));return m.name=name,m}},{key:"constructDashedLine",value:function(t){var e=t.coordinates,n=t.gap,r=void 0===n?10:n,i=t.dashLength,o=void 0===i?10:i,a=t.lineWidth,s=t.color,l=t.opacity,u=t.transparent,c=e.length;(c<6||c%3!=0)&&p.a.error("Data line incorrect, must hold 3 coordinates and at least 6 numbers");for(var f=new y.Geometry,h=void 0,d=void 0,m=new y.Vector3,g=void 0,v=0;v<e.length-3;v+=3)if(h=new y.Vector3(e[v],e[v+1],e[v+2]),d=new y.Vector3(e[v+3],e[v+4],e[v+5]),(g=h.distanceTo(d))<r+o)f.vertices.push(h,d);else{m.x=d.x-h.x,m.y=d.y-h.y,m.z=d.z-h.z,m.normalize();for(var b=new y.Vector3(h.x,h.y,h.z),_=void 0;g>o+r;)_=new y.Vector3(b.x+m.x*o,b.y+m.y*o,b.z+m.z*o),f.vertices.push(b,_),b=new y.Vector3(_.x+m.x*r,_.y+m.y*r,_.z+m.z*r),g=b.distanceTo(d);g>r&&f.vertices.push(b,d)}return new y.Line(f,new y.LineBasicMaterial({color:s,linewidth:a,opacity:l,transparent:u}),y.LinePieces)}},{key:"constructPolygon",value:function(t,e){var n=(t.isVector2D,t.coordinates),r=t.triangles,i=t.lineWidth,o=t.outlineColor,a=t.wireframeOpacity,s=void 0===a?0:a,u=t.group,c=void 0;if(r&&r.length>0&&n&&1===n.length){var f=[],h=!0,d=!1,p=void 0;try{for(var m,g=l()(n);!(h=(m=g.next()).done);h=!0){var v=m.value,b=!0,_=!1,w=void 0;try{for(var x,M=l()(v);!(b=(x=M.next()).done);b=!0){var S=x.value;f.push(S[0],S[1],S[2])}}catch(t){_=!0,w=t}finally{try{!b&&M.return&&M.return()}finally{if(_)throw w}}}}catch(t){d=!0,p=t}finally{try{!h&&g.return&&g.return()}finally{if(d)throw p}}for(var T=new y.BufferGeometry,C=new Float32Array(f),O=r.length,A=3*O,I=new Uint32Array(A),R=0,P=0;R<O;++R)I[P++]=r[R][0],I[P++]=r[R][1],I[P++]=r[R][2];T.setIndex(new y.BufferAttribute(I,1)),T.addAttribute("position",new y.BufferAttribute(C,3)),T.computeBoundingBox(),T.computeBoundingSphere();var L=this.getBasicMaterial(t,1);L.depthTest=!1;var N=new y.Mesh(T,L);if(s>0){var k=N.material.clone();k.wireframe=!0,k.opacity=s,k.transparent=s<1,c=new y.Object3D,c.add(N),c.add(new y.Mesh(T,k))}else c=N}if(0!==i){var D={color:o,lineWidth:i,coordinates:n};u&&(D.group=u),this.constructObject(E.a.POLYGON_RING,D)}return c}},{key:"constructText3D",value:function(t){var e=t.text,n=t.labelTextColor,r=void 0===n?"#000000":n,i=t.labelOutlineColor,o=void 0===i?"#FFFFFF":i,a=t.labelFontSize,s=void 0===a?28:a,l=t.labelStrokeSize,u=void 0===l?8:l,c=t.labelFacingCamera,f=void 0===c||c,h=t.font;if(h){var d=new y.MeshBasicMaterial({color:r}),p=new y.MeshBasicMaterial({color:o}),m=new y.TextGeometry(e,{size:.02*s,height:.2,curveSegments:8,font:h,bevelThickness:.02,bevelSize:.006*u,bevelEnabled:!0,material:0,extrudeMaterial:1}),g=new y.MultiMaterial([d,p]),v=new y.Mesh(m,g),b={x:0,y:0,z:0};return t.x&&t.y&&t.z?b={x:t.x,y:t.y,z:t.z}:t.coordinates&&t.coordinates[0]&&t.coordinates[0][0]&&t.coordinates[0][0][0]?b={x:t.coordinates[0][0][0],y:t.coordinates[0][0][1],z:t.coordinates[0][0][2]}:t.coordinates&&t.coordinates[0]&&t.coordinates[0][0]?b={x:t.coordinates[0][0],y:t.coordinates[0][1],z:t.coordinates[0][2]}:t.coordinates&&t.coordinates[0]&&t.coordinates[1]&&(b={x:t.coordinates[0],y:t.coordinates[1],z:t.coordinates[2]}),v.position.x=b.x,v.position.y=b.y,v.position.z=b.z,f&&v.lookAt(this.drawLayer.camera.position),v}return null}},{key:"constructText",value:function(t){var e=t.height,n=t.size,r=t.text,i=t.cameraposition,o=new y.Mesh(new y.TextGeometry(r,{height:e,size:n}),new y.MultiMaterial([new y.MeshPhongMaterial({color:16777215,shading:y.FlatShading}),new y.MeshPhongMaterial({color:16777215,shading:y.SmoothShading})]));return o.rotation.y=i.y,o.position.x=t.x,o.position.y=t.y,o.position.z=t.z,o}},{key:"constructText2D",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.text,n=t.fontface,r=void 0===n?"Arial":n,i=t.fontweight,o=void 0===i?"":i,a=t.fontsize,s=void 0===a?18:a,l=t.padding,u=void 0===l?.25:l,c=t.borderThickness,f=void 0===c?4:c,h=t.borderColor,d=void 0===h?{r:0,g:0,b:0,a:1}:h,p=t.backgroundColor,m=void 0===p?{r:255,g:255,b:255,a:1}:p,g=t.textColor,v=void 0===g?{r:0,g:0,b:0,a:1}:g,b=t.depthTest,_=void 0===b||b,w=t.straight,x=document.createElement("canvas");x.width=64,x.height=64;var E=x.getContext("2d");E.font=s+"px "+r+" "+o;var M=E.measureText(e),S=M.width,T=.5*f,C=.5*f,O=S+2*u*s+f,A=(1+2*u)*s+f,I=s/4;E.fillStyle="rgba("+m.r+","+m.g+","+m.b+","+m.a+")",E.strokeStyle="rgba("+d.r+","+d.g+","+d.b+","+d.a+")",E.lineWidth=f,E.beginPath(),w?(E.moveTo(T,C),E.lineTo(T+O,C),E.lineTo(T+O,C+A),E.lineTo(T,C+A),E.lineTo(T,C)):(E.moveTo(T+I,C),E.lineTo(T+O-I,C),E.quadraticCurveTo(T+O,C,T+O,C+I),E.lineTo(T+O,C+A-I),E.quadraticCurveTo(T+O,C+A,T+O-I,C+A),E.lineTo(T+I,C+A),E.quadraticCurveTo(T,C+A,T,C+A-I),E.lineTo(T,C+I),E.quadraticCurveTo(T,C,T+I,C)),E.closePath(),E.fill(),E.stroke(),E.fillStyle="rgba("+v.r+", "+v.g+", "+v.b+", 1.0)",E.fillText(e,f+u*s,(1+u)*s-f+.5);var R=new y.Texture(x);R.needsUpdate=!0;var P=new y.Geometry;return P.vertices.push(new y.Vector3(t.x,t.y,t.z)),new y.Points(P,new y.PointsMaterial({size:64,sizeAttenuation:!1,map:R,transparent:!0,alphaTest:.5,depthTest:_}))}},{key:"constructBillboard",value:function(t,e,n){var r=this,i=t.skin,o=t.uniformScale,a=void 0!==o&&o,s=t.size;if(void 0===i)return p.a.warn("no skin provided for "+E.a.BILLBOARD+", "+n),null;e.hasDependency=!0,e.uniformScale=a,void 0===e.scaleX&&(e.scaleX=10),void 0===e.scaleY&&(e.scaleY=10);var l=new y.Sprite({});y.ImageUtils.loadTexture(i,void 0,function(i){if(e.hasDependency=!1,e.garbage)return void i.dispose();var o=new y.SpriteMaterial({map:i,useScreenCoordinates:e.uniformScale});if(o.depthTest=!1,l.material=o,l.position.set(t.x,t.y,t.z),e.uniformScale)l.scale.set(1,1,1);else if(s){var a=parseInt(s,10),u=i.image,c=u.width,f=u.height,h=c/a,d=f/a;l.scale.set(h,d,1)}else l.scale.set(t.scaleX,t.scaleY,1);e.name=n,l.name=n,e.object=l,r.drawLayer.elementManager.addElement(e)})}},{key:"constructGeometry",value:function(t,e,n){var r=t.indices,i=t.vertices,o=t.uvs;if(void 0===r||void 0===i)return p.a.error("invalid geometry object for "+n),null;var a=r.length,s=new y.Geometry,l=void 0,u=void 0,c=void 0,f=void 0,h=void 0,d=void 0,m=void 0,g=void 0!==o;g||(f=new y.Vector2(0,0),h=new y.Vector2(.5,1),d=new y.Vector2(1,0));for(var v=0;v<a;v+=3)l=r[v],u=3*l,c=2*l,s.vertices.push(new y.Vector3(i[u],i[u+1],i[u+2])),g&&(c=2*l,f=new y.Vector2(o[c],o[c+1])),l=r[v+1],u=3*l,s.vertices.push(new y.Vector3(i[u],i[u+1],i[u+2])),g&&(c=2*l,h=new y.Vector2(o[c],o[c+1])),l=r[v+2],u=3*l,s.vertices.push(new y.Vector3(i[u],i[u+1],i[u+2])),g&&(c=2*l,d=new y.Vector2(o[c],o[c+1])),s.faceVertexUvs[0].push([h,f,d]),m=new y.Face3(r[v],r[v+1],l),s.faces.push(m);s.computeFaceNormals(),s.computeVertexNormals(),s.computeBoundingSphere(),s.computeBoundingBox();var b=this.getBasicMaterial(t);b.ambient=16777215,b.specular=16777215,b.shading=y.SmoothShading,b.shininess=1;var _=new y.Mesh(s,b);return _.name=n,this.setObjectTransforms(_,t),e.object=_,e.hasDependency=!1,_}},{key:"constructExternalGeometry",value:function(t,e){var n=this,r=t.url,i=t.color;e.hasDependency=!0,(new y.JSONLoader).load(r,function(r){var o=new y.MeshPhongMaterial({color:i,ambient:16777215,specular:16777215,shading:y.SmoothShading,shininess:1}),a=new y.Mesh(r,o);a.name=name,e.object=a,n.setObjectTransforms(a,t),e.hasDependency=!1,n.drawLayer.elementManager.addElement(e),o.needsUpdate=!0})}},{key:"constructCrosshair",value:function(t){var e=t.lineWidth,n=void 0===e?2:e,r={r:255,g:255,b:255,a:1},i=document.createElement("canvas");i.width=32,i.height=32;var o=i.getContext("2d");o.strokeStyle="rgba("+r.r+","+r.g+","+r.b+","+r.a+")",o.lineWidth=n,o.beginPath(),o.moveTo(15,0),o.lineTo(15,12),o.moveTo(0,15),o.lineTo(12,15),o.moveTo(19,15),o.lineTo(31,15),o.moveTo(15,19),o.lineTo(15,31),o.stroke();var a=new y.Texture(i);a.needsUpdate=!0;var s=new y.Geometry;return s.vertices.push(new y.Vector3(t.x,t.y,t.z)),new y.Points(s,new y.PointsMaterial({size:32,sizeAttenuation:!1,map:a,transparent:!0,alphaTest:.5}))}},{key:"constructCross",value:function(t){var e=t.color,n=t.size,r=t.fillOpacity,i=t.lineWidth,o=t.outlineColor,a=t.opacity,s=t.x,l=t.y,u=t.z,c=new y.Color(e),f=parseInt(n,10),h=parseFloat(r),d=parseFloat(i),p=new y.Color(o),m=parseFloat(a),g=f/3,v=2*f,b=(d+g)/2,_=d/2,w=document.createElement("canvas");w.width=v,w.height=v;var x=w.getContext("2d");x.strokeStyle=this.colorDraw(c,h),x.lineWidth=g,x.beginPath(),x.moveTo(f,d),x.lineTo(f,2*f-d),x.moveTo(d,f),x.lineTo(2*f-d,f),x.stroke(),d>0&&(x.strokeStyle=this.colorDraw(p,m),x.lineWidth=d,x.beginPath(),x.moveTo(f-b,_),x.lineTo(f-b,f-b),x.lineTo(_,f-b),x.lineTo(_,f+b),x.lineTo(f-b,f+b),x.lineTo(f-b,2*f-_),x.lineTo(f+b,2*f-_),x.lineTo(f+b,f+b),x.lineTo(2*f-_,f+b),x.lineTo(2*f-_,f-b),x.lineTo(f+b,f-b),x.lineTo(f+b,_),x.lineTo(f-b,_),x.stroke());var E=new y.Texture(w);E.needsUpdate=!0;var M=new y.Geometry;return M.vertices.push(new y.Vector3(s,l,u)),M.computeBoundingSphere(),M.boundingSphere.radius=1,new y.Points(M,new y.PointsMaterial({size:v,sizeAttenuation:!1,map:E,transparent:!0}))}},{key:"constructCircle",value:function(t){var e=t.color,n=t.size,r=t.fillOpacity,i=t.lineWidth,o=t.outlineColor,a=t.opacity,s=t.x,l=t.y,u=t.z,c=new y.Color(e),f=parseInt(n,10),h=parseFloat(r),d=parseFloat(i),p=new y.Color(o),m=parseFloat(a),g=2*f,v=d>0?this.colorDraw(p,m):this.colorDraw(c,h),b=d>0?d:1,_=b/2,w=document.createElement("canvas");w.width=g,w.height=g;var x=w.getContext("2d");x.strokeStyle=v,x.lineWidth=b,x.beginPath(),x.arc(f,f,f-_,0,2*Math.PI),x.fillStyle=this.colorDraw(c,h),x.fill(),x.stroke();var E=new y.Texture(w);E.needsUpdate=!0;var M=new y.Geometry;return M.vertices.push(new y.Vector3(s,l,u)),M.computeBoundingSphere(),M.boundingSphere.radius=1,new y.Points(M,new y.PointsMaterial({size:g,sizeAttenuation:!1,map:E,transparent:!0}))}},{key:"constructCylinder",value:function(t){var e=t.coordinates,n=Object(b.a)(e),r=new y.CylinderGeometry(.03,.03,n,6),i=this.getBasicMaterial(t),o=new y.Mesh(r,i);return o.position.x=e[0],o.position.y=e[1],o.position.z=e[2],e[1]>e[4]?o.translateY(-n/2):o.translateY(n/2),o}},{key:"constructSquare",value:function(t){var e=t.color,n=t.size,r=t.fillOpacity,i=t.lineWidth,o=t.outlineColor,a=t.opacity,s=t.x,l=t.y,u=t.z,c=new y.Color(e),f=parseInt(n,10),h=parseFloat(r),d=parseFloat(i),p=new y.Color(o),m=parseFloat(a),g=2*f,v=document.createElement("canvas");v.width=g,v.height=g;var b=v.getContext("2d");d>0&&(b.fillStyle=this.colorDraw(p,m),b.beginPath(),b.fillRect(0,0,2*f,2*f),b.stroke()),b.fillStyle=this.colorDraw(c,h),b.beginPath(),b.fillRect(d,d,2*(f-d),2*(f-d)),b.stroke();var _=new y.Texture(v);_.needsUpdate=!0;var w=new y.Geometry;return w.vertices.push(new y.Vector3(s,l,u)),w.computeBoundingSphere(),w.boundingSphere.radius=1,new y.Points(w,new y.PointsMaterial({size:g,sizeAttenuation:!1,map:_,transparent:!0}))}},{key:"colorDraw",value:function(t,e){return"rgba("+255*t.r+","+255*t.g+","+255*t.b+","+e+")"}}]),t}();e.a=T},function(t,e,n){"use strict";function r(t,e){if(!Array.isArray(t))throw new Error("poly-to-pslg: Error, invalid polygon");if(0===t.length)return{points:[],edges:[]};e=e||{};var n=!0;"nested"in e?n=!!e.nested:2===t[0].length&&"number"==typeof t[0][0]&&(n=!1),n||(t=[t]);for(var r=[],o=[],a=0;a<t.length;++a)for(var s=t[a],l=r.length,u=0;u<s.length;++u)r.push(s[u]),o.push([l+u,l+(u+1)%s.length]);return("clean"in e||!!e.clean)&&i(r,o),{points:r,edges:o}}t.exports=r;var i=n(1009)},function(t,e,n){"use strict";function r(t){var e=w(t);return[E(e,-1/0),E(e,1/0)]}function i(t,e){for(var n=new Array(e.length),r=0;r<e.length;++r){var i=e[r],o=t[i[0]],a=t[i[1]];n[r]=[E(Math.min(o[0],a[0]),-1/0),E(Math.min(o[1],a[1]),-1/0),E(Math.max(o[0],a[0]),1/0),E(Math.max(o[1],a[1]),1/0)]}return n}function o(t){for(var e=new Array(t.length),n=0;n<t.length;++n){var r=t[n];e[n]=[E(r[0],-1/0),E(r[1],-1/0),E(r[0],1/0),E(r[1],1/0)]}return e}function a(t,e,n){var r=[];return v(n,function(n,i){var o=e[n],a=e[i];if(o[0]!==a[0]&&o[0]!==a[1]&&o[1]!==a[0]&&o[1]!==a[1]){var s=t[o[0]],l=t[o[1]],u=t[a[0]],c=t[a[1]];y(s,l,u,c)&&r.push([n,i])}}),r}function s(t,e,n,r){var i=[];return v(n,r,function(n,r){var o=e[n];if(o[0]!==r&&o[1]!==r){var a=t[r],s=t[o[0]],l=t[o[1]];y(s,l,a,a)&&i.push([n,r])}}),i}function l(t,e,n,r,i){var o,a,s=t.map(function(t){return[b(t[0]),b(t[1])]});for(o=0;o<n.length;++o){var l=n[o];a=l[0];var u=l[1],c=e[a],f=e[u],h=M(x(t[c[0]]),x(t[c[1]]),x(t[f[0]]),x(t[f[1]]));if(h){var d=t.length;t.push([w(h[0]),w(h[1])]),s.push(h),r.push([a,d],[u,d])}}for(r.sort(function(t,e){if(t[0]!==e[0])return t[0]-e[0];var n=s[t[1]],r=s[e[1]];return _(n[0],r[0])||_(n[1],r[1])}),o=r.length-1;o>=0;--o){var p=r[o];a=p[0];var m=e[a],g=m[0],v=m[1],y=t[g],E=t[v];if((y[0]-E[0]||y[1]-E[1])<0){var S=g;g=v,v=S}m[0]=g;var T,C=m[1]=p[1];for(i&&(T=m[2]);o>0&&r[o-1][0]===a;){var p=r[--o],O=p[1];i?e.push([C,O,T]):e.push([C,O]),C=O}i?e.push([C,v,T]):e.push([C,v])}return s}function u(t,e,n){for(var i=e.length,o=new g(i),a=[],s=0;s<e.length;++s){var l=e[s],u=r(l[0]),c=r(l[1]);a.push([E(u[0],-1/0),E(c[0],-1/0),E(u[1],1/0),E(c[1],1/0)])}v(a,function(t,e){o.link(t,e)});for(var f=!0,h=new Array(i),s=0;s<i;++s){var d=o.find(s);d!==s&&(f=!1,t[d]=[Math.min(t[s][0],t[d][0]),Math.min(t[s][1],t[d][1])])}if(f)return null;for(var p=0,s=0;s<i;++s){var d=o.find(s);d===s?(h[s]=p,t[p++]=t[s]):h[s]=-1}t.length=p;for(var s=0;s<i;++s)h[s]<0&&(h[s]=h[o.find(s)]);return h}function c(t,e){return t[0]-e[0]||t[1]-e[1]}function f(t,e){var n=t[0]-e[0]||t[1]-e[1];return n||(t[2]<e[2]?-1:t[2]>e[2]?1:0)}function h(t,e,n){if(0!==t.length){if(e)for(var r=0;r<t.length;++r){var i=t[r],o=e[i[0]],a=e[i[1]];i[0]=Math.min(o,a),i[1]=Math.max(o,a)}else for(var r=0;r<t.length;++r){var i=t[r],o=i[0],a=i[1];i[0]=Math.min(o,a),i[1]=Math.max(o,a)}n?t.sort(f):t.sort(c);for(var s=1,r=1;r<t.length;++r){var l=t[r-1],u=t[r];(u[0]!==l[0]||u[1]!==l[1]||n&&u[2]!==l[2])&&(t[s++]=u)}t.length=s}}function d(t,e,n){var r=u(t,[],o(t));return h(e,r,n),!!r}function p(t,e,n){var r=i(t,e),c=a(t,e,r),f=o(t),d=s(t,e,r,f),p=l(t,e,c,d,n),m=u(t,p,f);return h(e,m,n),!!m||(c.length>0||d.length>0)}function m(t,e,n){var r;if(n){r=e;for(var i=new Array(e.length),o=0;o<e.length;++o){var a=e[o];i[o]=[a[0],a[1],n[o]]}e=i}for(var s=d(t,e,!!n);p(t,e,!!n);)s=!0;if(n&&s){r.length=0,n.length=0;for(var o=0;o<e.length;++o){var a=e[o];r.push([a[0],a[1]]),n.push(a[2])}}return s}t.exports=m;var g=n(1010),v=n(1011),y=n(1020),b=n(339),_=n(1025),w=n(1026),x=n(1029),E=n(1030),M=n(1031)},function(t,e,n){"use strict";"use restrict";function r(t){this.roots=new Array(t),this.ranks=new Array(t);for(var e=0;e<t;++e)this.roots[e]=e,this.ranks[e]=0}t.exports=r;var i=r.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},i.find=function(t){for(var e=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[e]!==t;){var r=n[e];n[e]=t,e=r}return t},i.link=function(t,e){var n=this.find(t),r=this.find(e);if(n!==r){var i=this.ranks,o=this.roots,a=i[n],s=i[r];a<s?o[n]=r:s<a?o[r]=n:(o[r]=n,++i[n])}}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<t;++n)if(!(e[n]<=e[n+t]))return!0;return!1}function i(t,e,n,i){for(var o=0,a=0,s=0,l=t.length;s<l;++s){var u=t[s];if(!r(e,u)){for(var c=0;c<2*e;++c)n[o++]=u[c];i[a++]=s}}return a}function o(t,e,n,r){var o=t.length,a=e.length;if(!(o<=0||a<=0)){var s=t[0].length>>>1;if(!(s<=0)){var l,u=f.mallocDouble(2*s*o),c=f.mallocInt32(o);if((o=i(t,s,u,c))>0){if(1===s&&r)h.init(o),l=h.sweepComplete(s,n,0,o,u,c,0,o,u,c);else{var p=f.mallocDouble(2*s*a),m=f.mallocInt32(a);a=i(e,s,p,m),a>0&&(h.init(o+a),l=1===s?h.sweepBipartite(s,n,0,o,u,c,0,a,p,m):d(s,n,r,o,u,c,a,p,m),f.free(p),f.free(m))}f.free(u),f.free(c)}return l}}}function a(t,e){c.push([t,e])}function s(t){return c=[],o(t,t,a,!0),c}function l(t,e){return c=[],o(t,e,a,!1),c}function u(t,e,n){switch(arguments.length){case 1:return s(t);case 2:return"function"==typeof e?o(t,t,e,!0):l(t,e);case 3:return o(t,e,n,!1);default:throw new Error("box-intersect: Invalid arguments")}}t.exports=u;var c,f=n(337),h=n(482),d=n(1017)},function(t,e,n){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function i(t){return 3*t.length/4-r(t)}function o(t){var e,n,i,o,a,s=t.length;o=r(t),a=new f(3*s/4-o),n=o>0?s-4:s;var l=0;for(e=0;e<n;e+=4)i=c[t.charCodeAt(e)]<<18|c[t.charCodeAt(e+1)]<<12|c[t.charCodeAt(e+2)]<<6|c[t.charCodeAt(e+3)],a[l++]=i>>16&255,a[l++]=i>>8&255,a[l++]=255&i;return 2===o?(i=c[t.charCodeAt(e)]<<2|c[t.charCodeAt(e+1)]>>4,a[l++]=255&i):1===o&&(i=c[t.charCodeAt(e)]<<10|c[t.charCodeAt(e+1)]<<4|c[t.charCodeAt(e+2)]>>2,a[l++]=i>>8&255,a[l++]=255&i),a}function a(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function s(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16)+(t[o+1]<<8)+t[o+2],i.push(a(r));return i.join("")}function l(t){for(var e,n=t.length,r=n%3,i="",o=[],a=0,l=n-r;a<l;a+=16383)o.push(s(t,a,a+16383>l?l:a+16383));return 1===r?(e=t[n-1],i+=u[e>>2],i+=u[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=u[e>>10],i+=u[e>>4&63],i+=u[e<<2&63],i+="="),o.push(i),o.join("")}e.byteLength=i,e.toByteArray=o,e.fromByteArray=l;for(var u=[],c=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=h.length;d<p;++d)u[d]=h[d],c[h.charCodeAt(d)]=d;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,h=n?-1:1,d=t[e+f];for(f+=h,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+t[e+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),e+=a+f>=1?h/l:h*Math.pow(2,1-f),e*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*l-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;t[n+d]=255&a,d+=p,a/=256,u-=8);t[n+d-p]|=128*m}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";function r(t,e,n){var i=0|t[n];if(i<=0)return[];var o,a=new Array(i);if(n===t.length-1)for(o=0;o<i;++o)a[o]=e;else for(o=0;o<i;++o)a[o]=r(t,e,n+1);return a}function i(t,e){var n,r;for(n=new Array(t),r=0;r<t;++r)n[r]=e;return n}function o(t,e){switch(void 0===e&&(e=0),typeof t){case"number":if(t>0)return i(0|t,e);break;case"object":if("number"==typeof t.length)return r(t,e,0)}return[]}t.exports=o},function(t,e,n){"use strict";function r(t,e){e<=4*h?i(0,e-1,t):f(0,e-1,t)}function i(t,e,n){for(var r=2*(t+1),i=t+1;i<=e;++i){for(var o=n[r++],a=n[r++],s=i,l=r-2;s-- >t;){var u=n[l-2],c=n[l-1];if(u<o)break;if(u===o&&c<a)break;n[l]=u,n[l+1]=c,l-=2}n[l]=o,n[l+1]=a}}function o(t,e,n){t*=2,e*=2;var r=n[t],i=n[t+1];n[t]=n[e],n[t+1]=n[e+1],n[e]=r,n[e+1]=i}function a(t,e,n){t*=2,e*=2,n[t]=n[e],n[t+1]=n[e+1]}function s(t,e,n,r){t*=2,e*=2,n*=2;var i=r[t],o=r[t+1];r[t]=r[e],r[t+1]=r[e+1],r[e]=r[n],r[e+1]=r[n+1],r[n]=i,r[n+1]=o}function l(t,e,n,r,i){t*=2,e*=2,i[t]=i[e],i[e]=n,i[t+1]=i[e+1],i[e+1]=r}function u(t,e,n){t*=2,e*=2;var r=n[t],i=n[e];return!(r<i)&&(r!==i||n[t+1]>n[e+1])}function c(t,e,n,r){t*=2;var i=r[t];return i<e||i===e&&r[t+1]<n}function f(t,e,n){var r=(e-t+1)/6|0,d=t+r,p=e-r,m=t+e>>1,g=m-r,v=m+r,y=d,b=g,_=m,w=v,x=p,E=t+1,M=e-1,S=0;u(y,b,n)&&(S=y,y=b,b=S),u(w,x,n)&&(S=w,w=x,x=S),u(y,_,n)&&(S=y,y=_,_=S),u(b,_,n)&&(S=b,b=_,_=S),u(y,w,n)&&(S=y,y=w,w=S),u(_,w,n)&&(S=_,_=w,w=S),u(b,x,n)&&(S=b,b=x,x=S),u(b,_,n)&&(S=b,b=_,_=S),u(w,x,n)&&(S=w,w=x,x=S);for(var T=n[2*b],C=n[2*b+1],O=n[2*w],A=n[2*w+1],I=2*y,R=2*_,P=2*x,L=2*d,N=2*m,k=2*p,D=0;D<2;++D){var F=n[I+D],j=n[R+D],U=n[P+D];n[L+D]=F,n[N+D]=j,n[k+D]=U}a(g,t,n),a(v,e,n);for(var z=E;z<=M;++z)if(c(z,T,C,n))z!==E&&o(z,E,n),++E;else if(!c(z,O,A,n))for(;;){if(c(M,O,A,n)){c(M,T,C,n)?(s(z,E,M,n),++E,--M):(o(z,M,n),--M);break}if(--M<z)break}l(t,E-1,T,C,n),l(e,M+1,O,A,n),E-2-t<=h?i(t,E-2,n):f(t,E-2,n),e-(M+2)<=h?i(M+2,e,n):f(M+2,e,n),M-E<=h?i(E,M,n):f(E,M,n)}t.exports=r;var h=32},function(t,e,n){"use strict";function r(t,e){var n=8*u.log2(e+1)*(t+1)|0,r=u.nextPow2(S*n);C.length<r&&(l.free(C),C=l.mallocInt32(r));var i=u.nextPow2(T*n);O<i&&(l.free(O),O=l.mallocDouble(i))}function i(t,e,n,r,i,o,a,s,l){var u=S*t;C[u]=e,C[u+1]=n,C[u+2]=r,C[u+3]=i,C[u+4]=o,C[u+5]=a;var c=T*t;O[c]=s,O[c+1]=l}function o(t,e,n,r,i,o,a,s,l,u,c){var f=2*t,h=l*f,d=u[h+e];t:for(var p=i,m=i*f;p<o;++p,m+=f){var g=a[m+e],v=a[m+e+t];if(!(d<g||v<d)&&(!r||d!==g)){for(var y=s[p],b=e+1;b<t;++b){var g=a[m+b],v=a[m+b+t],_=u[h+b],w=u[h+b+t];if(v<_||w<g)continue t}var x;if(void 0!==(x=r?n(c,y):n(y,c)))return x}}}function a(t,e,n,r,i,o,a,s,l,u){var c=2*t,f=s*c,h=l[f+e];t:for(var d=r,p=r*c;d<i;++d,p+=c){var m=a[d];if(m!==u){var g=o[p+e],v=o[p+e+t];if(!(h<g||v<h)){for(var y=e+1;y<t;++y){var g=o[p+y],v=o[p+y+t],b=l[f+y],_=l[f+y+t];if(v<b||_<g)continue t}var w=n(m,u);if(void 0!==w)return w}}}}function s(t,e,n,s,l,u,c,m,A){r(t,s+c);var I,R=0,P=2*t;for(i(R++,0,0,s,0,c,n?16:0,-1/0,1/0),n||i(R++,0,0,c,0,s,1,-1/0,1/0);R>0;){R-=1;var L=R*S,N=C[L],k=C[L+1],D=C[L+2],F=C[L+3],j=C[L+4],U=C[L+5],z=R*T,B=O[z],V=O[z+1],G=1&U,H=!!(16&U),q=l,W=u,Y=m,X=A;if(G&&(q=m,W=A,Y=l,X=u),!(2&U&&(D=w(t,N,k,D,q,W,V),k>=D)||4&U&&(k=x(t,N,k,D,q,W,B))>=D)){var Z=D-k,K=j-F;if(H){if(t*Z*(Z+K)<y){if(void 0!==(I=d.scanComplete(t,N,e,k,D,q,W,F,j,Y,X)))return I;continue}}else{if(t*Math.min(Z,K)<g){if(void 0!==(I=f(t,N,e,G,k,D,q,W,F,j,Y,X)))return I;continue}if(t*Z*K<v){if(void 0!==(I=d.scanBipartite(t,N,e,G,k,D,q,W,F,j,Y,X)))return I;continue}}var Q=b(t,N,k,D,q,W,B,V);if(k<Q)if(t*(Q-k)<g){if(void 0!==(I=h(t,N+1,e,k,Q,q,W,F,j,Y,X)))return I}else if(N===t-2){if(void 0!==(I=G?d.sweepBipartite(t,e,F,j,Y,X,k,Q,q,W):d.sweepBipartite(t,e,k,Q,q,W,F,j,Y,X)))return I}else i(R++,N+1,k,Q,F,j,G,-1/0,1/0),i(R++,N+1,F,j,k,Q,1^G,-1/0,1/0);if(Q<D){var J=p(t,N,F,j,Y,X),$=Y[P*J+N],tt=_(t,N,J,j,Y,X,$);if(tt<j&&i(R++,N,Q,D,tt,j,(4|G)+(H?16:0),$,V),F<J&&i(R++,N,Q,D,F,J,(2|G)+(H?16:0),B,$),J+1===tt){if(void 0!==(I=H?a(t,N,e,Q,D,q,W,J,Y,X[J]):o(t,N,e,G,Q,D,q,W,J,Y,X[J])))return I}else if(J<tt){var et;if(H){if(et=E(t,N,Q,D,q,W,$),Q<et){var nt=_(t,N,Q,et,q,W,$);if(N===t-2){if(Q<nt&&void 0!==(I=d.sweepComplete(t,e,Q,nt,q,W,J,tt,Y,X)))return I;if(nt<et&&void 0!==(I=d.sweepBipartite(t,e,nt,et,q,W,J,tt,Y,X)))return I}else Q<nt&&i(R++,N+1,Q,nt,J,tt,16,-1/0,1/0),nt<et&&(i(R++,N+1,nt,et,J,tt,0,-1/0,1/0),i(R++,N+1,J,tt,nt,et,1,-1/0,1/0))}}else et=G?M(t,N,Q,D,q,W,$):E(t,N,Q,D,q,W,$),Q<et&&(N===t-2?I=G?d.sweepBipartite(t,e,J,tt,Y,X,Q,et,q,W):d.sweepBipartite(t,e,Q,et,q,W,J,tt,Y,X):(i(R++,N+1,Q,et,J,tt,G,-1/0,1/0),i(R++,N+1,J,tt,Q,et,1^G,-1/0,1/0)))}}}}}t.exports=s;var l=n(337),u=n(248),c=n(1018),f=c.partial,h=c.full,d=n(482),p=n(1019),m=n(483),g=128,v=1<<22,y=1<<22,b=m("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),_=m("lo===p0",["p0"]),w=m("lo<p0",["p0"]),x=m("hi<=p0",["p0"]),E=m("lo<=p0&&p0<=hi",["p0"]),M=m("lo<p0&&p0<=hi",["p0"]),S=6,T=2,C=l.mallocInt32(1024),O=l.mallocDouble(1024)},function(t,e,n){"use strict";function r(t,e,n){var r="bruteForce"+(t?"Red":"Blue")+(e?"Flip":"")+(n?"Full":""),i=["function ",r,"(",x.join(),"){","var ",u,"=2*",o,";"],l="for(var i="+c+","+p+"="+u+"*"+c+";i<"+f+";++i,"+p+"+="+u+"){var x0="+h+"["+a+"+"+p+"],x1="+h+"["+a+"+"+p+"+"+o+"],xi="+d+"[i];",E="for(var j="+m+","+b+"="+u+"*"+m+";j<"+g+";++j,"+b+"+="+u+"){var y0="+v+"["+a+"+"+b+"],"+(n?"y1="+v+"["+a+"+"+b+"+"+o+"],":"")+"yi="+y+"[j];";return t?i.push(l,w,":",E):i.push(E,w,":",l),n?i.push("if(y1<x0||x1<y0)continue;"):e?i.push("if(y0<=x0||x1<y0)continue;"):i.push("if(y0<x0||x1<y0)continue;"),i.push("for(var k="+a+"+1;k<"+o+";++k){var r0="+h+"[k+"+p+"],r1="+h+"[k+"+o+"+"+p+"],b0="+v+"[k+"+b+"],b1="+v+"[k+"+o+"+"+b+"];if(r1<b0||b1<r0)continue "+w+";}var "+_+"="+s+"("),e?i.push("yi,xi"):i.push("xi,yi"),i.push(");if("+_+"!==void 0)return "+_+";}}}"),{name:r,code:i.join("")}}function i(t){function e(e,n){var o=r(e,n,t);i.push(o.code),a.push("return "+o.name+"("+x.join()+");")}var n="bruteForce"+(t?"Full":"Partial"),i=[],o=x.slice();t||o.splice(3,0,l);var a=["function "+n+"("+o.join()+"){"];a.push("if("+f+"-"+c+">"+g+"-"+m+"){"),t?(e(!0,!1),a.push("}else{"),e(!1,!1)):(a.push("if("+l+"){"),e(!0,!0),a.push("}else{"),e(!0,!1),a.push("}}else{if("+l+"){"),e(!1,!0),a.push("}else{"),e(!1,!1),a.push("}")),a.push("}}return "+n);var s=i.join("")+a.join("");return new Function(s)()}var o="d",a="ax",s="vv",l="fp",u="es",c="rs",f="re",h="rb",d="ri",p="rp",m="bs",g="be",v="bb",y="bi",b="bp",_="rv",w="Q",x=[o,a,s,c,f,h,d,m,g,v,y];e.partial=i(!1),e.full=i(!0)},function(t,e,n){"use strict";function r(t,e,n,r,i,o){for(var a=2*t,s=a*(n+1)+e,l=n+1;l<r;++l,s+=a)for(var u=i[s],c=l,f=a*(l-1);c>n&&i[f+e]>u;--c,f-=a){for(var h=f,d=f+a,p=0;p<a;++p,++h,++d){var m=i[h];i[h]=i[d],i[d]=m}var g=o[c];o[c]=o[c-1],o[c-1]=g}}function i(t,e,n,i,o,l){if(i<=n+1)return n;for(var u=n,c=i,f=i+n>>>1,h=2*t,d=f,p=o[h*f+e];u<c;){if(c-u<s){r(t,e,u,c,o,l),p=o[h*f+e];break}var m=c-u,g=Math.random()*m+u|0,v=o[h*g+e],y=Math.random()*m+u|0,b=o[h*y+e],_=Math.random()*m+u|0,w=o[h*_+e];v<=b?w>=b?(d=y,p=b):v>=w?(d=g,p=v):(d=_,p=w):b>=w?(d=y,p=b):w>=v?(d=g,p=v):(d=_,p=w);for(var x=h*(c-1),E=h*d,M=0;M<h;++M,++x,++E){var S=o[x];o[x]=o[E],o[E]=S}var T=l[c-1];l[c-1]=l[d],l[d]=T,d=a(t,e,u,c-1,o,l,p);for(var x=h*(c-1),E=h*d,M=0;M<h;++M,++x,++E){var S=o[x];o[x]=o[E],o[E]=S}var T=l[c-1];if(l[c-1]=l[d],l[d]=T,f<d){for(c=d-1;u<c&&o[h*(c-1)+e]===p;)c-=1;c+=1}else{if(!(d<f))break;for(u=d+1;u<c&&o[h*u+e]===p;)u+=1}}return a(t,e,n,f,o,l,o[h*f+e])}t.exports=i;var o=n(483),a=o("lo<p0",["p0"]),s=8},function(t,e,n){"use strict";function r(t,e,n,r){for(var i=0;i<2;++i){var o=t[i],a=e[i],s=Math.min(o,a),l=Math.max(o,a),u=n[i],c=r[i],f=Math.min(u,c);if(Math.max(u,c)<s||l<f)return!1}return!0}function i(t,e,n,i){var a=o(t,n,i),s=o(e,n,i);if(a>0&&s>0||a<0&&s<0)return!1;var l=o(n,t,e),u=o(i,t,e);return!(l>0&&u>0||l<0&&u<0)&&(0!==a||0!==s||0!==l||0!==u||r(t,e,n,i))}t.exports=i;var o=n(484)[3]},function(t,e,n){"use strict";function r(t,e,n){var r=t+e,i=r-t,o=r-i,a=e-i,s=t-o;return n?(n[0]=s+a,n[1]=r,n):[s+a,r]}t.exports=r},function(t,e,n){"use strict";function r(t){return Array.isArray(t)&&2===t.length&&i(t[0])&&i(t[1])}var i=n(488);t.exports=r},function(t,e){},function(t,e,n){"use strict";function r(t){return new i(t)}var i=n(249);t.exports=r},function(t,e,n){"use strict";function r(t,e){return t[0].mul(e[1]).cmp(e[0].mul(t[1]))}t.exports=r},function(t,e,n){"use strict";function r(t){var e=t[0],n=t[1];if(0===e.cmpn(0))return 0;var r=e.abs().divmod(n.abs()),a=r.div,s=i(a),l=r.mod,u=e.negative!==n.negative?-1:1;if(0===l.cmpn(0))return u*s;if(s){var c=o(s)+4,f=i(l.ushln(c).divRound(n));return u*(s+f*Math.pow(2,-c))}var h=n.bitLength()-l.bitLength()+53,f=i(l.ushln(h).divRound(n));return h<1023?u*f*Math.pow(2,-h):(f*=Math.pow(2,-1023),u*f*Math.pow(2,1023-h))}var i=n(1027),o=n(1028);t.exports=r},function(t,e,n){"use strict";function r(t){var e=t.length,n=t.words,r=0;if(1===e)r=n[0];else if(2===e)r=n[0]+67108864*n[1];else for(var o=0;o<e;o++){var a=n[o];r+=a*Math.pow(67108864,o)}return i(t)*r}var i=n(341);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(i.lo(t));if(e<32)return e;var n=o(i.hi(t));return n>20?52:n+32}var i=n(340),o=n(248).countTrailingZeros;t.exports=r},function(t,e,n){"use strict";function r(t){for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=i(t[n]);return e}t.exports=r;var i=n(339)},function(t,e,n){"use strict";function r(t,e){if(isNaN(t)||isNaN(e))return NaN;if(t===e)return t;if(0===t)return e<0?-o:o;var n=i.hi(t),r=i.lo(t);return e>t==t>0?r===a?(n+=1,r=0):r+=1:0===r?(r=a,n-=1):r-=1,i.pack(r,n)}var i=n(340),o=Math.pow(2,-1074),a=-1>>>0;t.exports=r},function(t,e,n){"use strict";function r(t,e){return s(o(t[0],e[1]),o(t[1],e[0]))}function i(t,e,n,i){var o=u(e,t),s=u(i,n),h=r(o,s);if(0===l(h))return null;var d=u(t,n),p=r(s,d),m=a(p,h),g=f(o,m);return c(t,g)}t.exports=i;var o=n(491),a=n(490),s=n(492),l=n(1032),u=n(1033),c=n(1034),f=n(1036)},function(t,e,n){"use strict";function r(t){return i(t[0])*i(t[1])}var i=n(341);t.exports=r},function(t,e,n){"use strict";function r(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=i(t[o],e[o]);return r}var i=n(492);t.exports=r},function(t,e,n){"use strict";function r(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=i(t[o],e[o]);return r}var i=n(1035);t.exports=r},function(t,e,n){"use strict";function r(t,e){return i(t[0].mul(e[1]).add(e[0].mul(t[1])),t[1].mul(e[1]))}var i=n(202);t.exports=r},function(t,e,n){"use strict";function r(t,e){for(var n=i(e),r=t.length,a=new Array(r),s=0;s<r;++s)a[s]=o(t[s],n);return a}var i=n(339),o=n(491);t.exports=r},function(t,e,n){"use strict";var r=n(70),i=n.n(r);e.a=function(t){return i()(t[3]-t[0],t[4]-t[1],t[5]-t[2])}},function(t,e,n){"use strict";function r(t){return[Math.min(t[0],t[1]),Math.max(t[0],t[1])]}function i(t,e){return t[0]-e[0]||t[1]-e[1]}function o(t){return t.map(r).sort(i)}function a(t,e,n){return e in t?t[e]:n}function s(t,e,n){Array.isArray(e)?(n=n||{},e=e||[]):(n=e||{},e=[]);var r=!!a(n,"delaunay",!0),i=!!a(n,"interior",!0),s=!!a(n,"exterior",!0),h=!!a(n,"infinity",!1);if(!i&&!s||0===t.length)return[];var d=l(t,e);if(r||i!==s||h){for(var p=u(t.length,o(e)),m=0;m<d.length;++m){var g=d[m];p.addTriangle(g[0],g[1],g[2])}return r&&c(t,p),s?i?h?f(p,0,h):p.cells():f(p,1,h):f(p,-1)}return d}var l=n(1039),u=n(1040),c=n(1041),f=n(1043);t.exports=s},function(t,e,n){"use strict";function r(t,e,n,r,i){this.a=t,this.b=e,this.idx=n,this.lowerIds=r,this.upperIds=i}function i(t,e,n,r){this.a=t,this.b=e,this.type=n,this.idx=r}function o(t,e){var n=t.a[0]-e.a[0]||t.a[1]-e.a[1]||t.type-e.type;return n||(t.type!==p&&(n=d(t.a,t.b,e.b))?n:t.idx-e.idx)}function a(t,e){return d(t.a,t.b,e)}function s(t,e,n,r,i){for(var o=h.lt(e,r,a),s=h.gt(e,r,a),l=o;l<s;++l){for(var u=e[l],c=u.lowerIds,f=c.length;f>1&&d(n[c[f-2]],n[c[f-1]],r)>0;)t.push([c[f-1],c[f-2],i]),f-=1;c.length=f,c.push(i);for(var p=u.upperIds,f=p.length;f>1&&d(n[p[f-2]],n[p[f-1]],r)<0;)t.push([p[f-2],p[f-1],i]),f-=1;p.length=f,p.push(i)}}function l(t,e){var n;return(n=t.a[0]<e.a[0]?d(t.a,t.b,e.a):d(e.b,e.a,t.a))?n:(n=e.b[0]<t.b[0]?d(t.a,t.b,e.b):d(e.b,e.a,t.b))||t.idx-e.idx}function u(t,e,n){var i=h.le(t,n,l),o=t[i],a=o.upperIds,s=a[a.length-1];o.upperIds=[s],t.splice(i+1,0,new r(n.a,n.b,n.idx,[s],a))}function c(t,e,n){var r=n.a;n.a=n.b,n.b=r;var i=h.eq(t,n,l),o=t[i];t[i-1].upperIds=o.upperIds,t.splice(i,1)}function f(t,e){for(var n=t.length,a=e.length,l=[],f=0;f<n;++f)l.push(new i(t[f],null,p,f));for(var f=0;f<a;++f){var h=e[f],d=t[h[0]],v=t[h[1]];d[0]<v[0]?l.push(new i(d,v,g,f),new i(v,d,m,f)):d[0]>v[0]&&l.push(new i(v,d,g,f),new i(d,v,m,f))}l.sort(o);for(var y=l[0].a[0]-(1+Math.abs(l[0].a[0]))*Math.pow(2,-52),b=[new r([y,1],[y,0],-1,[],[],[],[])],_=[],f=0,w=l.length;f<w;++f){var x=l[f],E=x.type;E===p?s(_,b,t,x.a,x.idx):E===g?u(b,t,x):c(b,t,x)}return _}var h=n(251),d=n(484)[3],p=0,m=1,g=2;t.exports=f},function(t,e,n){"use strict";function r(t,e){this.stars=t,this.edges=e}function i(t,e,n){for(var r=1,i=t.length;r<i;r+=2)if(t[r-1]===e&&t[r]===n)return t[r-1]=t[i-2],t[r]=t[i-1],void(t.length=i-2)}function o(t,e){for(var n=new Array(t),i=0;i<t;++i)n[i]=[];return new r(n,e)}var a=n(251);t.exports=o;var s=r.prototype;s.isConstraint=function(){function t(t,e){return t[0]-e[0]||t[1]-e[1]}var e=[0,0];return function(n,r){return e[0]=Math.min(n,r),e[1]=Math.max(n,r),a.eq(this.edges,e,t)>=0}}(),s.removeTriangle=function(t,e,n){var r=this.stars;i(r[t],e,n),i(r[e],n,t),i(r[n],t,e)},s.addTriangle=function(t,e,n){var r=this.stars;r[t].push(e,n),r[e].push(n,t),r[n].push(t,e)},s.opposite=function(t,e){for(var n=this.stars[e],r=1,i=n.length;r<i;r+=2)if(n[r]===t)return n[r-1];return-1},s.flip=function(t,e){var n=this.opposite(t,e),r=this.opposite(e,t);this.removeTriangle(t,e,n),this.removeTriangle(e,t,r),this.addTriangle(t,r,n),this.addTriangle(e,n,r)},s.edges=function(){for(var t=this.stars,e=[],n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length;o<a;o+=2)e.push([i[o],i[o+1]]);return e},s.cells=function(){for(var t=this.stars,e=[],n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length;o<a;o+=2){var s=i[o],l=i[o+1];n<Math.min(s,l)&&e.push([n,s,l])}return e}},function(t,e,n){"use strict";function r(t,e,n,r,i,a){var s=e.opposite(r,i);if(!(s<0)){if(i<r){var l=r;r=i,i=l,l=a,a=s,s=l}e.isConstraint(r,i)||o(t[r],t[i],t[a],t[s])<0&&n.push(r,i)}}function i(t,e){for(var n=[],i=t.length,a=e.stars,s=0;s<i;++s)for(var l=a[s],u=1;u<l.length;u+=2){var c=l[u];if(!(c<s)&&!e.isConstraint(s,c)){for(var f=l[u-1],h=-1,d=1;d<l.length;d+=2)if(l[d-1]===c){h=l[d];break}h<0||o(t[s],t[c],t[f],t[h])<0&&n.push(s,c)}}for(;n.length>0;){for(var c=n.pop(),s=n.pop(),f=-1,h=-1,l=a[s],p=1;p<l.length;p+=2){var m=l[p-1],g=l[p];m===c?h=g:g===c&&(f=m)}f<0||h<0||(o(t[s],t[c],t[f],t[h])>=0||(e.flip(s,c),r(t,e,n,f,s,h),r(t,e,n,s,h,f),r(t,e,n,h,c,f),r(t,e,n,c,f,h)))}}var o=n(1042)[4];n(251);t.exports=i},function(t,e,n){"use strict";function r(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var i=n[r-1]=new Array(t.length-1),o=0,a=0;o<t.length;++o)o!==e&&(i[a++]=t[r][o]);return n}function i(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m",r,"[",t-n-2,"]"].join("")}return e}function o(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",o(t.slice(0,e)),",",o(t.slice(e)),")"].join("")}function a(t,e){if("m"===t.charAt(0)){if("w"===e.charAt(0)){var n=t.split("[");return["w",e.substr(1),"m",n[0].substr(1)].join("")}return["prod(",t,",",e,")"].join("")}return a(e,t)}function s(t){return!0&t?"-":""}function l(t){if(2===t.length)return[["diff(",a(t[0][0],t[1][1]),",",a(t[1][0],t[0][1]),")"].join("")];for(var e=[],n=0;n<t.length;++n)e.push(["scale(",o(l(r(t,n))),",",s(n),t[0][n],")"].join(""));return e}function u(t,e){for(var n=[],r=0;r<e-2;++r)n.push(["prod(m",t,"[",r,"],m",t,"[",r,"])"].join(""));return o(n)}function c(t){for(var e=[],n=[],a=i(t),s=0;s<t;++s)a[0][s]="1",a[t-1][s]="w"+s;for(var s=0;s<t;++s)0==(1&s)?e.push.apply(e,l(r(a,s))):n.push.apply(n,l(r(a,s)));for(var c=o(e),f=o(n),h="exactInSphere"+t,d=[],s=0;s<t;++s)d.push("m"+s);for(var p=["function ",h,"(",d.join(),"){"],s=0;s<t;++s){p.push("var w",s,"=",u(s,t),";");for(var b=0;b<t;++b)b!==s&&p.push("var w",s,"m",b,"=scale(w",s,",m",b,"[0]);")}return p.push("var p=",c,",n=",f,",d=diff(p,n);return d[d.length-1];}return ",h),new Function("sum","diff","prod","scale",p.join(""))(g,v,m,y)}function f(){return 0}function h(){return 0}function d(){return 0}function p(t){var e=_[t.length];return e||(e=_[t.length]=c(t.length)),e.apply(void 0,t)}var m=n(338),g=n(485),v=n(487),y=n(486),b=6,_=[f,h,d];!function(){for(;_.length<=b;)_.push(c(_.length));for(var e=[],n=["slow"],r=0;r<=b;++r)e.push("a"+r),n.push("o"+r);for(var i=["function testInSphere(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"],r=2;r<=b;++r)i.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return testInSphere"),n.push(i.join(""));var o=Function.apply(void 0,n);t.exports=o.apply(void 0,[p].concat(_));for(var r=0;r<=b;++r)t.exports[r]=_[r]}()},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){this.cells=t,this.neighbor=e,this.flags=r,this.constraint=n,this.active=i,this.next=o,this.boundary=a}function i(t,e){return t[0]-e[0]||t[1]-e[1]||t[2]-e[2]}function o(t,e){for(var n=t.cells(),o=n.length,a=0;a<o;++a){var s=n[a],l=s[0],u=s[1],c=s[2];u<c?u<l&&(s[0]=u,s[1]=c,s[2]=l):c<l&&(s[0]=c,s[1]=l,s[2]=u)}n.sort(i);for(var f=new Array(o),a=0;a<f.length;++a)f[a]=0;var h=[],d=[],p=new Array(3*o),m=new Array(3*o),g=null;e&&(g=[]);for(var v=new r(n,p,m,f,h,d,g),a=0;a<o;++a)for(var s=n[a],y=0;y<3;++y){var l=s[y],u=s[(y+1)%3],b=p[3*a+y]=v.locate(u,l,t.opposite(u,l)),_=m[3*a+y]=t.isConstraint(l,u);b<0&&(_?d.push(a):(h.push(a),f[a]=1),e&&g.push([u,l,-1]))}return v}function a(t,e,n){for(var r=0,i=0;i<t.length;++i)e[i]===n&&(t[r++]=t[i]);return t.length=r,t}function s(t,e,n){var r=o(t,n);if(0===e)return n?r.cells.concat(r.boundary):r.cells;for(var i=1,s=r.active,l=r.next,u=r.flags,c=r.cells,f=r.constraint,h=r.neighbor;s.length>0||l.length>0;){for(;s.length>0;){var d=s.pop();if(u[d]!==-i){u[d]=i;for(var p=(c[d],0);p<3;++p){var m=h[3*d+p];m>=0&&0===u[m]&&(f[3*d+p]?l.push(m):(s.push(m),u[m]=i))}}}var g=l;l=s,s=g,l.length=0,i=-i}var v=a(c,u,e);return n?v.concat(r.boundary):v}var l=n(251);t.exports=s,r.prototype.locate=function(){var t=[0,0,0];return function(e,n,r){var o=e,a=n,s=r;return n<r?n<e&&(o=n,a=r,s=e):r<e&&(o=r,a=e,s=n),o<0?-1:(t[0]=o,t[1]=a,t[2]=s,l.eq(this.cells,t,i))}}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(60),s=(n.n(a),function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()),l=function(){function t(e){r(this,t),this.drawLayer=e,this.mouseX=null,this.mouseY=null,this.raycaster=new a.Raycaster,this.raycaster.linePrecision=3,this.raycaster.near=1,this.raycaster.far=1e4,this.dirVector=new a.Vector3(0,0,1),this.mouseOverPool=[],this.mouseOutPool=[],this.mouseDownPool=[],this.mouseUpPool=[],this.mouseOverPoolCB=[],this.mouseDownPoolCB=[]}return s(t,[{key:"destroy",value:function(){this.raycaster=void 0,this.drawLayer=void 0}},{key:"reset",value:function(){this.mouseOverPool=[],this.mouseOutPool=[],this.mouseDownPool=[],this.mouseUpPool=[]}},{key:"registerElement",value:function(t){var e=void 0;if(void 0!==t.onMouseOver&&null!==t.onMouseOver){if(t.object!==t.name&&(t.object.name=t.name),t.nested)for(e=0;e<t.object.children.length;e++)t.object.children[e].name=t.object.name,this.mouseOverPool.push(t.object.children[e]);else this.mouseOverPool.push(t.object);this.mouseOverPoolCB[t.name]=t}if(void 0!==t.onMouseDown&&null!==t.onMouseDown){if(t.object!==t.name&&(t.object.name=t.name),t.nested)for(e=0;e<t.object.children.length;e++)this.mouseDownPool.push(t.object.children[e]);else this.mouseDownPool.push(t.object);this.mouseDownPoolCB[t.name]=t}}},{key:"unregisterElement",value:function(t){var e=void 0,n=void 0,r=t.nested;if(this.mouseOverPoolCB[t.name]){for(e=0;e<this.mouseOverPool.length;e++)if(r)for(n=0;n<t.object.children.length;n++)this.mouseOverPool[e]===t.object.children[n]&&(this.mouseOverPool.splice(e,1),e--);else if(this.mouseOverPool[e]===t.object){this.mouseOverPool.splice(e,1);break}this.mouseOverPoolCB[t.name]=null,this.mouseOutPool.length>0&&this.mouseOutPool[0]===t&&this.mouseOutPool.shift()}if(this.mouseDownPoolCB[t.name]){for(e=0;e<this.mouseDownPool.length;e++)if(r)for(n=0;n<t.object.children.length;n++)this.mouseDownPool[e]===t.object.children[n]&&(this.mouseDownPool.splice(e,1),e--);else if(this.mouseDownPool[e]===t.object){this.mouseDownPool.splice(e,1);break}this.mouseDownPoolCB[t.name]=null,this.mouseUpPool.length>0&&this.mouseUpPool[0]===t&&this.mouseUpPool.shift()}}},{key:"updateMouseMove",value:function(t,e){0!==this.mouseOverPool.length&&(this.setRay(t,e),this.intersectObjects(this.mouseOverPool,0,t))}},{key:"updateMouseDown",value:function(t,e){var n=CM.El.getPagePos(e);n.x=t.pageX-n.x,n.y=t.pageY-n.y,this.mouseDown=n,this.isDrag=!1,0!==this.mouseDownPool.length&&(this.setRay(t,e),this.intersectObjects(this.mouseDownPool,1,t))}},{key:"updateMouseUp",value:function(t,e){var n=CM.El.getPagePos(e);if(n.x=t.pageX-n.x,n.y=t.pageY-n.y,this.isDrag=this.mouseDown&&(Math.abs(n.x-this.mouseDown.x)>3||Math.abs(n.y-this.mouseDown.y)>3),0!==this.mouseUpPool.length){var r=this.mouseUpPool.shift();r.onMouseUp(r.object)}}},{key:"setRay",value:function(t,e){this.mouseX=t.offsetX/e.width*2-1,this.mouseY=-t.offsetY/e.height*2+1,this.dirVector.x=this.mouseX,this.dirVector.y=this.mouseY,this.dirVector.z=1,this.dirVector.unproject(this.drawLayer.camera),this.raycaster.set(this.drawLayer.camera.position,this.dirVector.sub(this.drawLayer.camera.position).normalize())}},{key:"intersectObjects",value:function(t,e,n){var r=this.raycaster.intersectObjects(t,!1),i=void 0;if(r.length>0){var o=r[0].object;if(0===e){if(!(i=this.mouseOverPoolCB[o.name]))return;i.nested?i.onMouseOver(i.object.children[0],n):i.onMouseOver(i.object,n),void 0!==i.onMouseOut&&this.mouseOutPool.push(i)}else if(1===e){if(!(i=this.mouseDownPoolCB[o.name]))return;i.nested?i.onMouseDown(i.object.children[0]):i.onMouseDown(i.object),void 0!==i.onMouseUp&&this.mouseUpPool.push(i)}}else if(0===e&&this.mouseOutPool.length>0){if(!(i=this.mouseOutPool.shift())||!i.object)return;i.nested?i.onMouseOut(i.object.children[0]):i.onMouseOut(i.object)}}}]),t}();e.a=l},function(t,e,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,n){if(t&&u.isObject(t)&&t instanceof r)return t;var i=new r;return i.parse(t,e,n),i}function o(t){return u.isString(t)&&(t=i(t)),t instanceof r?t.format():r.prototype.format.call(t)}function a(t,e){return i(t,!1,!0).resolve(e)}function s(t,e){return t?i(t,!1,!0).resolveObject(e):e}var l=n(1046),u=n(1047);e.parse=i,e.resolve=a,e.resolveObject=s,e.format=o,e.Url=r;var c=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","\t"],p=["{","}","|","\\","^","`"].concat(d),m=["'"].concat(p),g=["%","/","?",";","#"].concat(m),v=["/","?","#"],y=/^[+a-z0-9A-Z_-]{0,63}$/,b=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},x={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=n(1048);r.prototype.parse=function(t,e,n){if(!u.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=-1!==r&&r<t.indexOf("#")?"?":"#",o=t.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),t=o.join(i);var s=t;if(s=s.trim(),!n&&1===t.split("#").length){var f=h.exec(s);if(f)return this.path=s,this.href=s,this.pathname=f[1],f[2]?(this.search=f[2],this.query=e?E.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=c.exec(s);if(d){d=d[0];var p=d.toLowerCase();this.protocol=p,s=s.substr(d.length)}if(n||d||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var M="//"===s.substr(0,2);!M||d&&w[d]||(s=s.substr(2),this.slashes=!0)}if(!w[d]&&(M||d&&!x[d])){for(var S=-1,T=0;T<v.length;T++){var C=s.indexOf(v[T]);-1!==C&&(-1===S||C<S)&&(S=C)}var O,A;A=-1===S?s.lastIndexOf("@"):s.lastIndexOf("@",S),-1!==A&&(O=s.slice(0,A),s=s.slice(A+1),this.auth=decodeURIComponent(O)),S=-1;for(var T=0;T<g.length;T++){var C=s.indexOf(g[T]);-1!==C&&(-1===S||C<S)&&(S=C)}-1===S&&(S=s.length),this.host=s.slice(0,S),s=s.slice(S),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var R=this.hostname.split(/\./),T=0,P=R.length;T<P;T++){var L=R[T];if(L&&!L.match(y)){for(var N="",k=0,D=L.length;k<D;k++)L.charCodeAt(k)>127?N+="x":N+=L[k];if(!N.match(y)){var F=R.slice(0,T),j=R.slice(T+1),U=L.match(b);U&&(F.push(U[1]),j.unshift(U[2])),j.length&&(s="/"+j.join(".")+s),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=l.toASCII(this.hostname));var z=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+z,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!_[p])for(var T=0,P=m.length;T<P;T++){var V=m[T];if(-1!==s.indexOf(V)){var G=encodeURIComponent(V);G===V&&(G=escape(V)),s=s.split(V).join(G)}}var H=s.indexOf("#");-1!==H&&(this.hash=s.substr(H),s=s.slice(0,H));var q=s.indexOf("?");if(-1!==q?(this.search=s.substr(q),this.query=s.substr(q+1),e&&(this.query=E.parse(this.query)),s=s.slice(0,q)):e&&(this.search="",this.query={}),s&&(this.pathname=s),x[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var z=this.pathname||"",W=this.search||"";this.path=z+W}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&u.isObject(this.query)&&Object.keys(this.query).length&&(o=E.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||x[e])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),e+i+n+a+r},r.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(u.isString(t)){var e=new r;e.parse(t,!1,!0),t=e}for(var n=new r,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];n[a]=this[a]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),l=0;l<s.length;l++){var c=s[l];"protocol"!==c&&(n[c]=t[c])}return x[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!x[t.protocol]){for(var f=Object.keys(t),h=0;h<f.length;h++){var d=f[h];n[d]=t[d]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||w[t.protocol])n.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var m=n.pathname||"",g=n.search||"";n.path=m+g}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),y=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=y||v||n.host&&t.pathname,_=b,E=n.pathname&&n.pathname.split("/")||[],p=t.pathname&&t.pathname.split("/")||[],M=n.protocol&&!x[n.protocol];if(M&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),b=b&&(""===p[0]||""===E[0])),y)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,E=p;else if(p.length)E||(E=[]),E.pop(),E=E.concat(p),n.search=t.search,n.query=t.query;else if(!u.isNullOrUndefined(t.search)){if(M){n.hostname=n.host=E.shift();var S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return n.search=t.search,n.query=t.query,u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=E.slice(-1)[0],C=(n.host||t.host||E.length>1)&&("."===T||".."===T)||""===T,O=0,A=E.length;A>=0;A--)T=E[A],"."===T?E.splice(A,1):".."===T?(E.splice(A,1),O++):O&&(E.splice(A,1),O--);if(!b&&!_)for(;O--;O)E.unshift("..");!b||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),C&&"/"!==E.join("/").substr(-1)&&E.push("");var I=""===E[0]||E[0]&&"/"===E[0].charAt(0);if(M){n.hostname=n.host=I?"":E.length?E.shift():"";var S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return b=b||n.host&&E.length,b&&!I&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=f.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){(function(t,r){var i;!function(o){function a(t){throw new RangeError(P[t])}function s(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function l(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(R,"."),r+s(t.split("."),e).join(".")}function u(t){for(var e,n,r=[],i=0,o=t.length;i<o;)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<o?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function c(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=k(t>>>10&1023|55296),t=56320|1023&t),e+=k(t)}).join("")}function f(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:w}function h(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function d(t,e,n){var r=0;for(t=n?N(t/S):t>>1,t+=N(t/e);t>L*E>>1;r+=w)t=N(t/L);return N(r+(L+1)*t/(t+M))}function p(t){var e,n,r,i,o,s,l,u,h,p,m=[],g=t.length,v=0,y=C,b=T;for(n=t.lastIndexOf(O),n<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&a("not-basic"),m.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=v,s=1,l=w;i>=g&&a("invalid-input"),u=f(t.charCodeAt(i++)),(u>=w||u>N((_-v)/s))&&a("overflow"),v+=u*s,h=l<=b?x:l>=b+E?E:l-b,!(u<h);l+=w)p=w-h,s>N(_/p)&&a("overflow"),s*=p;e=m.length+1,b=d(v-o,e,0==o),N(v/e)>_-y&&a("overflow"),y+=N(v/e),v%=e,m.splice(v++,0,y)}return c(m)}function m(t){var e,n,r,i,o,s,l,c,f,p,m,g,v,y,b,M=[];for(t=u(t),g=t.length,e=C,n=0,o=T,s=0;s<g;++s)(m=t[s])<128&&M.push(k(m));for(r=i=M.length,i&&M.push(O);r<g;){for(l=_,s=0;s<g;++s)(m=t[s])>=e&&m<l&&(l=m);for(v=r+1,l-e>N((_-n)/v)&&a("overflow"),n+=(l-e)*v,e=l,s=0;s<g;++s)if(m=t[s],m<e&&++n>_&&a("overflow"),m==e){for(c=n,f=w;p=f<=o?x:f>=o+E?E:f-o,!(c<p);f+=w)b=c-p,y=w-p,M.push(k(h(p+b%y,0))),c=N(b/y);M.push(k(h(c,0))),o=d(n,v,r==i),n=0,++r}++n,++e}return M.join("")}function g(t){return l(t,function(t){return A.test(t)?p(t.slice(4).toLowerCase()):t})}function v(t){return l(t,function(t){return I.test(t)?"xn--"+m(t):t})}var y=("object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType,"object"==typeof r&&r);var b,_=2147483647,w=36,x=1,E=26,M=38,S=700,T=72,C=128,O="-",A=/^xn--/,I=/[^\x20-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=w-x,N=Math.floor,k=String.fromCharCode;b={version:"1.4.1",ucs2:{decode:u,encode:c},decode:p,encode:m,toASCII:v,toUnicode:g},void 0!==(i=function(){return b}.call(e,n,e,t))&&(t.exports=i)}()}).call(e,n(120)(t),n(37))},function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){"use strict";e.decode=e.parse=n(1049),e.encode=e.stringify=n(1050)},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var u=t.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var f,h,d,p,m=t[c].replace(s,"%20"),g=m.indexOf(n);g>=0?(f=m.substr(0,g),h=m.substr(g+1)):(f=m,h=""),d=decodeURIComponent(f),p=decodeURIComponent(h),r(a,d)?i(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";function r(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?r(a(t),function(a){var s=encodeURIComponent(i(a))+n;return o(t[a])?r(t[a],function(t){return s+encodeURIComponent(i(t))}).join(e):s+encodeURIComponent(i(t[a]))}).join(e):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return a()(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(30),a=n.n(o),s=n(1),l=n.n(s),u=n(23),c=n.n(u),f=n(17),h=n.n(f),d=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=h()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(c()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),m="rgba(236, 122, 8, 0.8)",g=function(){function t(e,n,r){i(this,t),this.canvas=n,this._viewer=r,this.canvas.width=e.width,this.canvas.height=e.height,this._context=n.getContext("2d")}return p(t,[{key:"showPointCursor",value:function(t){this._pointText=void 0===t?t:t.toString()}},{key:"showCrossHairs",value:function(t){this._crossHairsVisible=t}},{key:"_drawRoundedRect",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3;e-=r,this._context.beginPath(),this._context.moveTo(t+i,e),this._context.arcTo(t+n,e,t+n,e+r,i),this._context.arcTo(t+n,e+r,t,e+r,i),this._context.arcTo(t,e+r,t,e,i),this._context.arcTo(t,e,t+n,e,i),this._context.lineWidth=2,this._context.stroke(),this._context.fillStyle="white",this._context.fill(),this._context.fillStyle="black",this._context.closePath()}},{key:"_drawLine",value:function(t,e){var n,i;this._context.strokeStyle=e,this._context.lineWidth=2,this._context.beginPath(),(n=this._context).moveTo.apply(n,r(t[0])),(i=this._context).lineTo.apply(i,r(t[1])),this._context.stroke(),this._context.closePath(),this._context.strokeStyle="black"}},{key:"_renderCrossHair",value:function(){var t=this.canvas,e=t.width,n=t.height,r=d(this._viewer._currentPointerPos,2),i=r[0],o=r[1];if(this._crossHairsVisible){this._drawLine([[0,o],[e,o]],m),this._drawLine([[i,0],[i,n]],m);this._context.clearRect(i-6,o-6,12,12)}}},{key:"_renderPointNumber",value:function(){var t=d(this._viewer._currentPointerPos,2),e=t[0],n=t[1];if(void 0!==this._pointText){var r=this._context.measureText(this._pointText).width;this._drawRoundedRect(e+8,n-8,r+5,12),this._context.fillText(this._pointText,e+8+2,n-8-3)}}},{key:"render",value:function(){var t=this.canvas,e=t.width,n=t.height,r=d(this._viewer._currentPointerPos,2),i=r[0],o=r[1];this._context.clearRect(0,0,e,n),i>=e||o>=n||i<0||o<0||(this._renderCrossHair(),this._renderPointNumber())}}]),t}();e.a=g},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(60),s=(n.n(a),n(343)),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(){function t(e,n){r(this,t),this.renderPasses=[];var i={alpha:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!0,antialias:!0,canvas:n},o=e.width,s=e.height;this.renderer=new a.WebGLRenderer(i),this.renderer.setSize(o,s),this.renderer.autoClear=!1}return l(t,[{key:"destroy",value:function(){this.renderer.domElement.parentElement.removeChild(this.renderer.domElement),s.a.destroyRenderer(this.renderer),this.renderer=null}},{key:"domElement",value:function(){return this.renderer.domElement}},{key:"getMaxAnisotropy",value:function(){return this.renderer.getMaxAnisotropy()}},{key:"addPass",value:function(t){this.renderPasses.push(t)}},{key:"resize",value:function(t){var e=t.width,n=t.height;this.renderPasses.forEach(function(e){e.resize(t)}),this.renderer.setSize(e,n)}},{key:"directCamera",value:function(t){this.renderPasses.forEach(function(e){e.directCamera(t)})}},{key:"sceneReady",value:function(){var t=!0;return this.renderPasses.forEach(function(e){t=t&&e.getReady()}),t}},{key:"render",value:function(){var t=this;if(this.sceneReady()){var e=[];this.renderPasses.forEach(function(t){var n=t.getRenderInfo();e.push(n)}),e.forEach(function(e){e.forEach(function(e){t.renderer.render(e.scene,e.camera),t.renderer.clearDepth()})})}else this.renderer.clear()}}]),t}();e.a=u},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=v()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(m.a?m()(t,e):t.__proto__=e)}var a=n(70),s=n.n(a),l=n(40),u=n.n(l),c=n(61),f=n.n(c),h=n(7),d=n.n(h),p=n(6),m=n.n(p),g=n(5),v=n.n(g),y=n(1),b=n.n(y),_=n(23),w=n.n(_),x=n(17),E=n.n(x),M=n(60),S=(n.n(M),n(480)),T=n(33),C=n(246),O=n(201),A=n(247),I=n(1054),R=n.n(I),P=n(1055),L=n.n(P),N=n(1056),k=n.n(N),D=n(1057),F=n.n(D),j=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=E()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(w()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),U=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),b()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),z=function(t){function e(t,n,o){r(this,e);var a=i(this,(e.__proto__||d()(e)).call(this));a._depthCubeAtlasHV=[],a._depthCubeAtlasCursor=[],a._programVisibility=[],a._programScenes=[];var s=t.width,l=t.height,c=new M.PerspectiveCamera(75,s/l,.1,1e3),h=new M.PerspectiveCamera(75,s/l,.1,1e3);a._viewerSize=t,a._viewer=n;var p=new M.Scene,m=new M.Scene;p.add(c),m.add(h),a.elevationData={elevationLvl:0,minElevation:0,maxElevation:0,carElevation:0},a.scene=p,a.sceneCursor=m,a.camera=c,a.cameraCursor=h,a._tileSchema=C.b,a.rendererDepth=o,a.rendererDepth.setSize(s,l),a.rendererDepth.autoClear=!1,f()(O.a).forEach(function(t){a._programVisibility[t]=!1});var g=15,v=a._tileSchema.zoomTileDimensionalities;return u()(v).forEach(function(t){g--,a._depthCubeAtlasHV.push(S.a._makeCube(g-t,v[t])),S.a._applyToAllPanes(a._depthCubeAtlasHV[t],function(t){a.scene.add(t)})}),S.a._applyToAllPanes(a._depthCubeAtlasHV[2],function(t){t.visible=!1}),u()(v).forEach(function(t){g--,a._depthCubeAtlasCursor.push(S.a._makeCube(g-t,v[t])),S.a._applyToAllPanes(a._depthCubeAtlasCursor[t],function(t){a.sceneCursor.add(t)})}),a}return o(e,t),U(e,[{key:"changePanorama",value:function(){this.cleanUp(!1);for(var t in this._programVisibility)this._programVisibility[t]=!1}},{key:"toggleDepth",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this._programVisibility[O.a.HV_MAP],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._programVisibility[O.a.SURFACE_CURSOR];S.a._applyToAllPanes(this._depthCubeAtlasHV[2],function(e){e.visible=t}),this._programVisibility[O.a.HV_MAP]=t,this._programVisibility[O.a.SURFACE_CURSOR]=e}},{key:"toggleElevation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this._programVisibility[O.a.ELEVATION],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._programVisibility[O.a.SURFACE_CURSOR];this._programVisibility[O.a.ELEVATION]=t,this._programVisibility[O.a.SURFACE_CURSOR]=e}},{key:"toggleSurfaceCursor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this._programVisibility[O.a.SURFACE_CURSOR];this._programVisibility[O.a.SURFACE_CURSOR]=t}},{key:"resize",value:function(t){var e=t.width,n=t.height;this._viewerSize=t,this.camera.aspect=e/n,this.camera.updateProjectionMatrix(),this.cameraCursor.aspect=e/n,this.cameraCursor.updateProjectionMatrix()}},{key:"directCamera",value:function(t){var e=t.fov,n=t.pitch,r=t.yaw,i=t.yawOffset;this.camera.fov=Object(T.d)(e),this.camera.rotation.set(n,Math.PI-r-i,0,"YXZ"),this.camera.updateProjectionMatrix(),this.cameraCursor.fov=Object(T.d)(e),this.cameraCursor.rotation.set(n,Math.PI-r-i,0,"YXZ"),this.cameraCursor.updateProjectionMatrix()}},{key:"getReady",value:function(){return!this._programVisibility[O.a.HV_MAP]||!1!==this._viewer._viewportTileLoader.depthCubeLoaded}},{key:"getRenderInfo",value:function(){var t=[],e=void 0;this.renderGreenScene();var n=this.readDepth(this.targetCursor,this.rendererDepth);return this._viewer._currentPointerPos[2]=n[0],this._viewer._currentPointerPos[3]=n[1],!0===this._viewer._viewportTileLoader.depthCubeLoaded&&(this._programVisibility[O.a.HV_MAP]&&t.push({scene:this.scene,camera:this.camera}),this._programVisibility[O.a.ELEVATION]&&(e=this.renderElevationSlider())&&t.push(e),this._programVisibility[O.a.SURFACE_CURSOR]&&(e=this.renderSurfaceCursor())&&t.push(e)),this.greenRendered=!1,t}},{key:"readDepth",value:function(t,e){var n=this._viewerSize,r=(n.width,n.height),i=j(this._viewer._currentPointerPos,2),o=i[0],a=i[1],l=o-3,u=r-a-3,c=new ArrayBuffer(196),f=new Uint8Array(c);e.readRenderTargetPixels(t,l,u,7,7,f);var h=function(t,e){var n=7*e+t,r=f[4*n],i=f[4*n+1],o=(192&r)>>6,a=o<<1&255;return((16383&(r<<8|i))<<a)/1e3},d=h(4,4),p=[];return p[0]=d,p[1]=function(t){if(t<=0)return 0;for(var e=0,n=0,r=0;r<7;++r)for(var i=0;i<7;++i){var o=h(i,r);if(o>0&&Math.abs(o-t)<=.125){var a=1-s()(4-i,4-r)/s()(3.5,3.5);e+=a*o,n+=a}}return e/n}(d),p}},{key:"cleanUp",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this._depthCubeAtlasHV.concat(this._depthCubeAtlasCursor),r=!0,i=!1,o=void 0;try{for(var a,s=E()(n);!(r=(a=s.next()).done);r=!0){var l=a.value;S.a._applyToAllPanes(l,function(n){n.material.map&&n.material.map.dispose(),n.material.dispose(),e?(n.geometry.dispose(),t.scene.remove(n)):n.material=S.a._invisibleMaterial})}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}e&&(this._depthCubeAtlasHV=[])}},{key:"destroy",value:function(){this.cleanUp(),this.camera=null,this.scene=null,this.cameraCursor=null,this.sceneCursor=null}},{key:"updateDepthTileByTileInfo",value:function(t){var e=S.a._tileInfoToFace[t.face],n=this._depthCubeAtlasHV[t.zoom][e][t.row][t.column],r=this._depthCubeAtlasCursor[t.zoom][e][t.row][t.column],i=new M.Texture(t.img);i.needsUpdate=!0,i.magFilter=M.NearestFilter,i.minFilter=M.NearestFilter;var o=new M.ShaderMaterial({fragmentShader:L.a,vertexShader:R.a,uniforms:{uDepth:{type:"t",value:i},uDepthTexSize:{type:"f",value:512}}}),a=new M.MeshBasicMaterial({map:i});n.material=o,r.material=a}},{key:"renderSurfaceCursor",value:function(){var t=this._viewerSize,e=t.width,n=t.height,r=j(this._viewer._currentPointerPos,2),i=r[0],o=r[1];if(i>=e||o>=n||i<0||o<0)return null;this.renderGreenScene();var a={x:this._viewer._currentPointerPos[0],y:-this._viewer._currentPointerPos[1]+n,z:this._viewer._currentPointerPos[2],w:this._viewer._currentPointerPos[3]};0!==a.z&&this._viewer._viewerWrapper.classList.remove("invalidDepth");var s=(new M.Matrix4).getInverse(this.cameraCursor.projectionMatrix),l=(new M.Matrix4).getInverse(this.cameraCursor.matrixWorldInverse),u=new M.ShaderMaterial({fragmentShader:k.a,vertexShader:R.a,uniforms:{uDepth:{type:"t",value:this.targetCursor.texture},uDepthTexSize:{type:"f",value:e},uResolution:{value:new M.Vector2(e,n)},uPointerPos:{value:a},uInvPMatrix:{value:s},uInvMVMatrix:{value:l}}});u.transparent=!0;var c=void 0,f=void 0,h=void 0;if(this._programScenes[O.a.SURFACE_CURSOR]){var d=this._programScenes[O.a.SURFACE_CURSOR];c=d.scene,f=d.camera,h=d.mesh,h.material.uniforms.uDepth.value.dispose(),h.material.dispose(),h.material=u,h.material.needsUpdate=!0}else{var p=new M.PlaneGeometry(e,n);c=new M.Scene,f=new M.OrthographicCamera(e/-2,e/2,n/2,n/-2,1,1e3),h=new M.Mesh(p,u),h.position.z=-5,c.add(f),c.add(h);var m={mesh:h,scene:c,camera:f};this._programScenes[O.a.SURFACE_CURSOR]=m}return{scene:c,camera:f}}},{key:"renderElevationSlider",value:function(){var t=this._viewerSize,e=t.width,n=t.height;this.renderGreenScene();var r=this.elevationData,i=r.elevationLvl,o=r.minElevation,a=r.maxElevation,s=r.carElevation,l=new M.Vector2(o-s,a-s),u=i-s,c=(new M.Matrix4).getInverse(this.cameraCursor.projectionMatrix),f=this.cameraCursor.matrixWorld.multiply((new M.Matrix4).makeScale(1,-1,1)),h=new M.ShaderMaterial({fragmentShader:F.a,vertexShader:R.a,uniforms:{uDepth:{type:"t",value:this.targetCursor.texture},uHeightRange:{value:l},uElevation:{type:"F",value:u},uResolution:{value:new M.Vector2(e,n)},uInvPMatrix:{value:c},uInvMVMatrix:{value:f}}});h.transparent=!0;var d=void 0,p=void 0,m=void 0;if(this._programScenes[O.a.ELEVATION]){var g=this._programScenes[O.a.ELEVATION];d=g.scene,p=g.camera,m=g.mesh,m.material.dispose(),m.material=h,m.material.needsUpdate=!0}else{var v=new M.PlaneGeometry(e,n);d=new M.Scene,p=new M.OrthographicCamera(e/-2,e/2,n/2,n/-2,1,1e3),m=new M.Mesh(v,h),m.position.z=-5,d.add(p),d.add(m);var y={mesh:m,scene:d,camera:p};this._programScenes[O.a.ELEVATION]=y}return{scene:d,camera:p}}},{key:"renderGreenScene",value:function(){if(!this.greenRendered){this.targetCursor&&this.targetCursor.dispose();var t=this._viewerSize,e=t.width,n=t.height,r=new M.WebGLRenderTarget(e,n,{magFilter:M.NearestFilter,minFilter:M.NearestFilter,format:M.RGBAFormat});r.texture.generateMipmaps=!1,this.targetCursor=r,this.rendererDepth.render(this.sceneCursor,this.cameraCursor,this.targetCursor),this.greenRendered=!0}}}]),e}(A.a);e.a=z},function(t,e){t.exports="#define GLSLIFY 1\nattribute vec3 aVertexPos;attribute vec2 aTexCoord;uniform mat4 uMVMatrix;uniform mat4 uPMatrix;varying vec4 vModelPos;varying vec4 vWorldPos;varying vec2 vTexCoord;void main(void){vModelPos=vec4(position,1.0);vWorldPos=projectionMatrix*modelViewMatrix*vModelPos;vTexCoord=uv;gl_Position=vWorldPos;}"},function(t,e){t.exports="precision mediump float;\n#define GLSLIFY 1\nvarying vec4 vModelPos;varying vec4 vWorldPos;varying vec2 vTexCoord;uniform sampler2D uDepth;uniform mediump float uDepthTexSize;uniform vec2 uResolution;\nstruct CmtColors_1_0{vec4 green;vec4 orange;vec4 blue;vec4 purple;vec4 gray;};const CmtColors_1_0 cmtColors_1_1=CmtColors_1_0(vec4(vec3(152,194,60)/255.0,1.0),vec4(vec3(236,122,8)/255.0,1.0),vec4(vec3(0,82,147)/255.0,1.0),vec4(vec3(151,2,84)/255.0,1.0),vec4(vec3(188,189,188)/255.0,1.0));\n\n\nbool isNaN_3_2(const float value){return!(value<=0.0||0.0<=value);}\n\n\nbool isValidDepth_2_3(const float depth){return!isNaN_3_2(depth)&&depth>0.0&&depth<1000.0;}\n\n\nhighp float getDepth(const vec4 depthMapFloatValue){if(depthMapFloatValue==vec4(1.0,1.0,1.0,1.0)){return-1.0;}ivec4 depthMapIntValue=ivec4(depthMapFloatValue*vec4(255.0));int precisionBits=depthMapIntValue.r/64;int depthBits=(depthMapIntValue.r-precisionBits*64)*256+depthMapIntValue.g;float precisionScale=pow(2.0,float(precisionBits*2));highp float depthInMm=float(depthBits)*precisionScale;return depthInMm/1000.0;}float getDepth(const vec2 texCoord){return getDepth(texture2D(uDepth,texCoord));}\n\nfloat getInterpolatedDepth(const vec2 texCoord,const float limit){float nonInterpolatedDepth=getDepth(texCoord);if(!isValidDepth_2_3(nonInterpolatedDepth)){return nonInterpolatedDepth;}float oneTexel=1.0/uDepthTexSize;vec2 offset=vec2(oneTexel,0.0);vec2 uv=mod(texCoord,oneTexel);vec2 flooredTexCoord=texCoord-uv;uv*=uDepthTexSize;highp float depths[4];depths[0]=getDepth(flooredTexCoord);depths[1]=getDepth(flooredTexCoord+offset.xy);depths[2]=getDepth(flooredTexCoord+offset.yx);depths[3]=getDepth(flooredTexCoord+offset.xx);for(int i=0;i<4;++i){if(!isValidDepth_2_3(depths[i])||abs(depths[i]-nonInterpolatedDepth)>limit){depths[i]=nonInterpolatedDepth;}}return mix(mix(depths[0],depths[1],uv.x),mix(depths[2],depths[3],uv.x),uv.y);}float getInterpolatedDepth(const vec2 texCoord){return getInterpolatedDepth(texCoord,0.125);}\n\nconst float PI=3.14159265359;const float TWO_PI=6.28318530718;vec3 getNormal(){float depthAtPixel=getInterpolatedDepth(vTexCoord.st);vec3 modelPos=vModelPos.xzy;vec3 modelDir=normalize(modelPos);vec3 worldPos=modelDir*depthAtPixel;float oneTexel=1.0/uDepthTexSize;vec3 offsetX=vec3(0.0,0.0,0.0);vec3 offsetY=vec3(0.0,0.0,0.0);vec3 absModelDir=abs(modelDir);if(absModelDir.x>absModelDir.y&&absModelDir.x>absModelDir.z){offsetX.y=modelDir.x<0.0?1.0: -1.0;offsetY.z= -1.0;}else if(absModelDir.y>absModelDir.x&&absModelDir.y>absModelDir.z){offsetX.x=modelDir.y>0.0?1.0: -1.0;offsetY.z= -1.0;}else{offsetX.x=1.0;offsetY.y=modelDir.z>0.0?1.0: -1.0;}float shiftX=vTexCoord.x+oneTexel>=0.9? -oneTexel:oneTexel;float shiftY=vTexCoord.y+oneTexel>=0.9? -oneTexel:oneTexel;vec3 modelDirX=normalize(modelPos+shiftX*offsetX);vec3 modelDirY=normalize(modelPos+shiftY*offsetY);float worldDistX=getInterpolatedDepth(vTexCoord.st+vec2(shiftX,0.0));float worldDistY=getInterpolatedDepth(vTexCoord.st+vec2(0.0,shiftY));vec3 worldPosX=modelDirX*worldDistX;vec3 worldPosY=modelDirY*worldDistY;vec3 dx=worldPos-worldPosX;dx=shiftX<0.0? -dx:dx;vec3 dy=worldPos-worldPosY;dy=shiftY<0.0? -dy:dy;return cross(normalize(dy),normalize(dx));}vec3 getNormal(const bool doNormalize){vec3 normal=getNormal();return doNormalize?normalize(normal):normal;}vec3 hv(){vec3 normal=getNormal(true);vec3 modelDir=normalize(vModelPos.xyz);vec3 worldDir=normalize(vWorldPos.xzy);float cosAngle=dot(modelDir,worldDir);vec3 lightDir=normalize(vec3(0.0,1.0,1.0));float angle=acos(dot(normal,lightDir));return vec3(mod(angle+TWO_PI,TWO_PI)/PI);}void main(void){gl_FragColor=vec4(hv(),1.0);if(gl_FragColor.w==0.0){gl_FragColor=mix(gl_FragColor,vec4(1.0,0.0,0.0,0.0),0.5);}}"},function(t,e){t.exports="precision mediump float;\n#define GLSLIFY 1\nvarying vec4 vWorldPos;varying vec2 vTexCoord;uniform mat4 uInvPMatrix;uniform mat4 uInvMVMatrix;uniform sampler2D uDepth;uniform mediump float uDepthTexSize;uniform vec2 uResolution;uniform vec4 uPointerPos;const float alpha=0.8;\nstruct CmtColors_1_0{vec4 green;vec4 orange;vec4 blue;vec4 purple;vec4 gray;};const CmtColors_1_0 cmtColors_1_1=CmtColors_1_0(vec4(vec3(152,194,60)/255.0,1.0),vec4(vec3(236,122,8)/255.0,1.0),vec4(vec3(0,82,147)/255.0,1.0),vec4(vec3(151,2,84)/255.0,1.0),vec4(vec3(188,189,188)/255.0,1.0));\n\n\nvec3 screenToWorld_2_2(const vec2 screen,const highp float depth){vec4 hcc=vec4(2.0*(screen.x/uResolution.x-0.5), -2.0*(screen.y/uResolution.y-0.5),1.0,1.0);vec4 eye=uInvPMatrix*hcc;vec4 worldRay=normalize(uInvMVMatrix*eye);vec4 worldPos=worldRay*depth;return worldPos.xyz;}vec3 screenToWorld_2_2(const highp vec3 screenWithDepth){return screenToWorld_2_2(screenWithDepth.xy,screenWithDepth.z);}\n\n\nbool isNaN_5_3(const float value){return!(value<=0.0||0.0<=value);}\n\n\nbool isValidDepth_3_4(const float depth){return!isNaN_5_3(depth)&&depth>0.0&&depth<1000.0;}\n\n\nhighp float getDepth(const vec4 depthMapFloatValue){if(depthMapFloatValue==vec4(1.0,1.0,1.0,1.0)){return-1.0;}ivec4 depthMapIntValue=ivec4(depthMapFloatValue*vec4(255.0));int precisionBits=depthMapIntValue.r/64;int depthBits=(depthMapIntValue.r-precisionBits*64)*256+depthMapIntValue.g;float precisionScale=pow(2.0,float(precisionBits*2));highp float depthInMm=float(depthBits)*precisionScale;return depthInMm/1000.0;}float getDepth(const vec2 texCoord){return getDepth(texture2D(uDepth,texCoord));}\n\nfloat getRectilinearDepth(const vec2 texCoord){const float cubeSize=2.0;float depth=getDepth(texCoord);float glDepth=gl_FragCoord.z/gl_FragCoord.w;return depth*glDepth/cubeSize;}\n\nfloat getInterpolatedDepth(const vec2 texCoord,const float limit){float nonInterpolatedDepth=getDepth(texCoord);if(!isValidDepth_3_4(nonInterpolatedDepth)){return nonInterpolatedDepth;}float oneTexel=1.0/uDepthTexSize;vec2 offset=vec2(oneTexel,0.0);vec2 uv=mod(texCoord,oneTexel);vec2 flooredTexCoord=texCoord-uv;uv*=uDepthTexSize;highp float depths[4];depths[0]=getDepth(flooredTexCoord);depths[1]=getDepth(flooredTexCoord+offset.xy);depths[2]=getDepth(flooredTexCoord+offset.yx);depths[3]=getDepth(flooredTexCoord+offset.xx);for(int i=0;i<4;++i){if(!isValidDepth_3_4(depths[i])||abs(depths[i]-nonInterpolatedDepth)>limit){depths[i]=nonInterpolatedDepth;}}return mix(mix(depths[0],depths[1],uv.x),mix(depths[2],depths[3],uv.x),uv.y);}float getInterpolatedDepth(const vec2 texCoord){return getInterpolatedDepth(texCoord,0.125);}\n\nfloat concentricalRings_4_5(const vec3 point,const vec3 pivot,const float outerRadius,const float numRings,const float smoothness){float dist=distance(point,pivot);float ringSmoothing=numRings*outerRadius*smoothness;float insideRing=smoothstep(-ringSmoothing, +ringSmoothing,abs(mod(numRings*dist+0.25,1.0)-0.5)-0.25);return float(dist<outerRadius+ringSmoothing)*insideRing;}float concentricalRings_4_5(const vec3 point,const vec3 pivot){return concentricalRings_4_5(point,pivot,1.0,4.0,0.01);}\n\n\nvec4 depthLaplacian(){vec2 offset=vec2(1.0/uDepthTexSize,0.0);float depthAtPixel=getDepth(vTexCoord);float scale=32.0/(1.0+depthAtPixel);return vec4(vec3(0.5+scale*(+getDepth(vTexCoord.st-offset.xy)+getDepth(vTexCoord.st+offset.xy)+getDepth(vTexCoord.st-offset.yx)+getDepth(vTexCoord.st+offset.yx)-4.0*depthAtPixel)),1.0);}\n\nvec4 depth2ndDerivative(){vec2 offset=vec2(1.0/uDepthTexSize,0.0);float depthAtPixel=getDepth(vTexCoord);float scale=32.0/(1.0+depthAtPixel);return vec4(0.5+scale*(+getDepth(vTexCoord-offset.xy)+getDepth(vTexCoord+offset.xy)-2.0*depthAtPixel),0.5+scale*(+getDepth(vTexCoord-offset.yx)+getDepth(vTexCoord+offset.yx)-2.0*depthAtPixel),0.5,1.0);}\n\nvec3 depthGradient(){vec2 offset=vec2(0.5/uDepthTexSize,0.0);return vec3((-getDepth(vTexCoord.st-offset.xy)+getDepth(vTexCoord.st+offset.xy)),(-getDepth(vTexCoord.st-offset.yx)+getDepth(vTexCoord.st+offset.yx)),2.0/uDepthTexSize/getDepth(vTexCoord));}\n\nvoid main(void){vec2 mouseCursorDist2d=gl_FragCoord.xy-uPointerPos.xy;float size=min(uResolution.x,uResolution.y);float depth=getInterpolatedDepth(vTexCoord);if(isValidDepth_3_4(uPointerPos.z)&&isValidDepth_3_4(depth)){vec3 mouseWorldPos=screenToWorld_2_2(uPointerPos.xyw);vec3 fragmentWorldPos=screenToWorld_2_2(gl_FragCoord.xy,depth);gl_FragColor=vec4(cmtColors_1_1.green.rgb,alpha*concentricalRings_4_5(fragmentWorldPos,mouseWorldPos));}else{gl_FragColor=vec4(0);}}"},function(t,e){t.exports="precision mediump float;\n#define GLSLIFY 1\nvarying vec4 vModelPos;varying vec4 vWorldPos;varying vec2 vTexCoord;uniform sampler2D uDepth;uniform vec2 uHeightRange;uniform float uElevation;uniform vec2 uResolution;uniform mat4 uInvPMatrix;uniform mat4 uInvMVMatrix;highp float getDepth(const vec4 depthMapFloatValue){if(depthMapFloatValue==vec4(1.0,1.0,1.0,1.0)){return-1.0;}ivec4 depthMapIntValue=ivec4(depthMapFloatValue*vec4(255.0));int precisionBits=depthMapIntValue.r/64;int depthBits=(depthMapIntValue.r-precisionBits*64)*256+depthMapIntValue.g;float precisionScale=pow(2.0,float(precisionBits*2));highp float depthInMm=float(depthBits)*precisionScale;return depthInMm/1000.0;}float getDepth(const vec2 texCoord){return getDepth(texture2D(uDepth,texCoord));}\n\nvec3 screenToWorld_1_0(const vec2 screen,const highp float depth){vec4 hcc=vec4(2.0*(screen.x/uResolution.x-0.5), -2.0*(screen.y/uResolution.y-0.5),1.0,1.0);vec4 eye=uInvPMatrix*hcc;vec4 worldRay=normalize(uInvMVMatrix*eye);vec4 worldPos=worldRay*depth;return worldPos.xyz;}vec3 screenToWorld_1_0(const highp vec3 screenWithDepth){return screenToWorld_1_0(screenWithDepth.xy,screenWithDepth.z);}\n\n\n// HSV functions from iq (https://www.shadertoy.com/view/MsS3Wc)\nvec3 hsv2rgb_4_1( in vec3 hsv )\n{\n    vec3 rgb = clamp( abs(mod(hsv.x*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0, 0.0, 1.0 );\n\n\treturn hsv.z * mix( vec3(1.0), rgb, hsv.y);\n}\n\n\nbool isNaN_3_2(const float value){return!(value<=0.0||0.0<=value);}\n\n\nbool isValidDepth_2_3(const float depth){return!isNaN_3_2(depth)&&depth>0.0&&depth<1000.0;}\n\n\nvoid main(void){vec4 depthColor=texture2D(uDepth,vTexCoord.st);highp float depth=getDepth(depthColor);vec3 fragmentWorldPos=screenToWorld_1_0(gl_FragCoord.xy,depth);vec3 worldPos=fragmentWorldPos.xzy;worldPos.z=worldPos.z;float elevation=uElevation;float rangeMin=uHeightRange.x;float rangeMax=uHeightRange.y;float range=rangeMax-rangeMin;float rangeCenter=0.5*(rangeMin+rangeMax);float pos=float(worldPos.z);vec3 hsv=vec3((pos<elevation)?0.5555555555555556:0.0,(pos<elevation)?1.0:0.0,(pos<elevation)?1.0:0.0);gl_FragColor=vec4(hsv2rgb_4_1(hsv),float(isValidDepth_2_3(depth))*0.33*(1.0-smoothstep(0.5*range-0.125,0.5*range+0.125,abs(worldPos.z-rangeCenter))));}"},function(t,e,n){"use strict";var r=n(164),i=n.n(r),o=n(49);n.n(o);!function(){if(!CM.shapes){CM.shapes={},CM.shapes.DEFAULT_SHAPE_SCALE=.8;var t=CM.shapes.AbstractShape=i.a.Class({_scale:1,_points:null,constructor:function(t){this._scale=t,this._points=[]},getPoints:function(){return this._points}}),e=CM.shapes.Circle=i.a.Class(t,{STATIC:{pointCount:24},constructor:function(t){e.Super.apply(this,arguments);for(var n,r=e.pointCount,i=2*Math.PI/r,n=0;n<r;++n)this._points.push(o.vec3.clone([t*Math.sin(i*n),t*Math.cos(i*n),0]))}}),n=CM.shapes.Arrow=i.a.Class(t,{STATIC:{baseCoords:[[0,1,0],[.3,.2,0],[.1,.2,0],[.13,-1,0],[-.13,-1,0],[-.1,.2,0],[-.3,.2,0]]},constructor:function(t){n.Super.apply(this,arguments);for(var e,r=n.baseCoords,i=r.length,a=o.vec3.create(),s=[],e=0;e<i;++e)s[e]=o.vec3.scaleAndAdd(o.vec3.create(),a,r[e],t);this._points=s}})}}()},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new g.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return g.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=p()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(h.a?h()(t,e):t.__proto__=e)}var s=n(21),l=n.n(s),u=n(7),c=n.n(u),f=n(6),h=n.n(f),d=n(5),p=n.n(d),m=n(19),g=n.n(m),v=n(1),y=n.n(v),b=n(60),_=(n.n(b),n(141)),w=n.n(_),x=n(34),E=n.n(x),M=n(247),S=n(243),T=n(33),C=n(343),O=n(170),A=n(89),I=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),y()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),R=function(t){function e(t){var n=t.viewer;i(this,e);var r=o(this,(e.__proto__||c()(e)).call(this));r._visible=!0,r._viewer=n,r._doRenderLayer=!1,r._panoramaTransition=!1;var a=n._getViewerSize(),s=a.width,l=a.height,u=new b.Scene,f=new b.PerspectiveCamera(30,s/l,.1,1e4);u.add(f),r.scene=u,r.camera=f;var h=new O.b(u,f);return r.drawLayer=h,w()(r,CM.Events.prototype),Object(S.a)(r),r._onPanoramaChange=r._onPanoramaChange.bind(r),r._onViewChange=r._onViewChange.bind(r),r._onViewLoadEnd=r._onViewLoadEnd.bind(r),CM.El.addEvent(n,CM.aperture.EVENT_PANORAMA_CHANGE,r._onPanoramaChange),CM.El.addEvent(n,CM.aperture.EVENT_VIEW_CHANGE,r._onViewChange),CM.El.addEvent(n,CM.aperture.EVENT_VIEW_LOAD_END,r._onViewLoadEnd),r.loadFont().then(function(t){h.setFont(t)},function(t){E.a.warn("Error loading font for PanoramaViewer: "+t)}),r}return a(e,t),I(e,[{key:"loadFont",value:function(){function t(){return e.apply(this,arguments)}var e=r(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new g.a(function(t){(new b.FontLoader).load(Object(A.a)("./streetsmart-mapboard/helvetiker_regular.typeface.json"),function(e){t(e)})}));case 1:case"end":return t.stop()}},t,this)}));return t}()},{key:"_onPanoramaChange",value:function(){this._panoramaTransition=!0,this.sceneReady=!1}},{key:"_onViewChange",value:function(){this.animateFrame()}},{key:"_onViewLoadEnd",value:function(){this._panoramaTransition&&(this._panoramaTransition=!1)}},{key:"resize",value:function(t){this._doRenderLayer=!0;var e=t.width,n=t.height;this.camera.aspect=e/n,this.camera.updateProjectionMatrix(),this._onViewLoadEnd()}},{key:"getVisible",value:function(){return this._visible}},{key:"setVisible",value:function(t){this._visible!==t&&(this._doRenderLayer=!0,this._visible=t,this._viewer.requestAnimationFrame())}},{key:"invalidateDisplay",value:function(){this._viewer.requestAnimationFrame()}},{key:"animateFrame",value:function(){}},{key:"directCamera",value:function(t){var e=t.fov,n=t.pitch,r=t.yaw;this.camera.filmGauge=1,this.camera.fov=Object(T.d)(e),this.camera.rotation.set(n,-r,0,"YXZ"),this.camera.updateProjectionMatrix()}},{key:"getRenderInfo",value:function(){return this.animateFrame(),[{scene:this.scene,camera:this.camera}]}},{key:"destroy",value:function(){var t=this.drawLayer,e=this.scene;C.a.destroyScene(e),t&&(t.destroy(),this.drawLayer=void 0),this.scene=void 0,this.camera=void 0,this._viewer.removeEventListener(CM.aperture.EVENT_PANORAMA_CHANGE,this._onPanoramaChange),this._viewer.removeEventListener(CM.aperture.EVENT_VIEW_CHANGE,this._onViewChange),this._viewer.removeEventListener(CM.aperture.EVENT_VIEW_LOAD_END,this._onViewLoadEnd)}}]),e}(M.a);e.a=R},function(t,e,n){"use strict";var r=n(17),i=n.n(r),o=n(4),a=n.n(o),s=n(164),l=n.n(s),u=n(49),c=(n.n(u),n(336)),f=n(344),h=n(33),d=a.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};!function(){function t(t){a[t.getViewerId()]=t}function e(t){delete a[t.getViewerId()]}function n(t){return a[t]}if(CM.api||(CM.api={}),!CM.api.Aperture){CM.EVENT_VIEW_CHANGE="viewchange",CM.EVENT_VIEW_LOAD_START="viewloadstart",CM.EVENT_VIEW_LOAD_END="viewloadend",CM.EVENT_OPEN_NEAREST_PANORAMA_START="opennearestpanoramastart",CM.EVENT_OPEN_NEAREST_PANORAMA_SUCCESS="opennearestpanoramasuccess",CM.EVENT_OPEN_NEAREST_PANORAMA_FAILURE="opennearestpanoramafailure",CM.EVENT_PANORAMA_CHANGE="panoramachange",CM.TILE_LOAD_ERROR="tileloaderror";var r=function(t,e){return e>Math.PI/4?-1:(1-e/Math.PI)/(1+.1*Math.sqrt(t))};CM.api.DEFAULT_RECORDING_REQUEST_RADIUS=30,CM.api.DEFAULT_RECORDING_DRAW_RADIUS=30,CM.api.Aperture=l.a.Class(null,CM.Events,{_viewer:null,_recordingLayer:null,_hotspotLayer:null,_recordingClient:null,_activeRecording:null,_viewedRecordings:[],_recordingRequestRadius:0,_recordingDrawRadius:0,_forwardTarget:null,_backwardTarget:null,_locatingPanorama:!1,_uriManager:null,_viewedRecordingOptions:void 0,_enableKeyboardNavigation:!1,_interactionKeysPressed:{},_dYaw:0,_dPitch:0,_dZoom:0,_lastFrameTime:null,_recordingClickHandler:null,constructor:function(t){var e=t.uriManager,n=t.viewer,r=t.recordingRequestRadius,i=void 0===r?CM.api.DEFAULT_RECORDING_REQUEST_RADIUS:r,o=t.recordingDrawRadius,a=void 0===o?CM.api.DEFAULT_RECORDING_DRAW_RADIUS:o,s=t.recordingClickHandler,l=t.recordingClient,u=(t.dataUri,t.viewedRecordingOptions),c=t.enableKeyboardNavigation,h=void 0!==c&&c;this._uriManager=e,this._onEnterFrame=this._onEnterFrame.bind(this),this._onViewChange=this._onViewChange.bind(this),this._onViewLoadStart=this._onViewLoadStart.bind(this),this._onViewLoadEnd=this._onViewLoadEnd.bind(this),this._onTileLoadError=this._onTileLoadError.bind(this),this._defaultRecordingClickHandler=this._defaultRecordingClickHandler.bind(this),this._onViewerKeyDown=this._onViewerKeyDown.bind(this),this._onViewerKeyUp=this._onViewerKeyUp.bind(this),this._onViewerBlur=this._onViewerBlur.bind(this),this._onRecordingLoadSuccess=this._onRecordingLoadSuccess.bind(this),this._onRecordingLoadFailure=this._onRecordingLoadFailure.bind(this),this._viewer=n,n.setUriManager(e),CM.El.addEvent(n,CM.aperture.EVENT_ENTER_FRAME,this._onEnterFrame),CM.El.addEvent(n,CM.aperture.EVENT_VIEW_CHANGE,this._onViewChange),CM.El.addEvent(n,CM.aperture.EVENT_VIEW_LOAD_START,this._onViewLoadStart),CM.El.addEvent(n,CM.aperture.EVENT_VIEW_LOAD_END,this._onViewLoadEnd),CM.El.addEvent(n,CM.aperture.TILE_LOAD_ERROR,this._onTileLoadError),this._recordingRequestRadius=i,this._recordingDrawRadius=a;var d=this._recordingLayer=new f.b({viewer:n});d.setVisible(!1),this.recordingClickHandler=s||this._defaultRecordingClickHandler,CM.El.addEvent(d,"recordingclick",this.recordingClickHandler);var p=n._viewerContainer;this._recordingClient=l,this._viewedRecordingOptions=u,CM.El.addEvent(l,"recordingloadsuccess",this._onRecordingLoadSuccess),CM.El.addEvent(l,"recordingloadfailure",this._onRecordingLoadFailure),this._enableKeyboardNavigation=h,h&&(CM.El.addEvent(p,"keydown",this._onViewerKeyDown),CM.El.addEvent(p,"keyup",this._onViewerKeyUp),CM.El.addEvent(p,"blur",this._onViewerBlur))},_onTileLoadError:function(t){this.fireEvent(CM.TILE_LOAD_ERROR,t)},destroy:function(){this._removeEvents(),this._viewer.destroy(),this._recordingLayer.destroy()},_removeEvents:function(){var t=this._viewer,e=this._recordingLayer,n=this._recordingClient,r=t._viewerContainer;t.removeEventListener(CM.aperture.EVENT_ENTER_FRAME,this._onEnterFrame),t.removeEventListener(CM.aperture.EVENT_VIEW_CHANGE,this._onViewChange),t.removeEventListener(CM.aperture.EVENT_VIEW_LOAD_START,this._onViewLoadStart),t.removeEventListener(CM.aperture.EVENT_VIEW_LOAD_END,this._onViewLoadEnd),t.removeEventListener(CM.aperture.EVENT_ENTER_FRAME,this._onTileLoadError),e.removeEventListener("recordingclick",this._recordingClickHandler),n.removeEventListener("recordingloadsuccess",this._onRecordingLoadSuccess),n.removeEventListener("recordingloadfailure",this._onRecordingLoadFailure),r.removeEventListener("keydown",this._onViewerKeyDown),r.removeEventListener("blur",this._onViewerBlur)},_onViewChange:function(t){this._enableKeyboardNavigation&&this._updateRecordingScores(),this.fireEvent(CM.EVENT_VIEW_CHANGE,t)},_onViewLoadStart:function(){this.fireEvent(CM.EVENT_VIEW_LOAD_START)},_onViewLoadEnd:function(){this.fireEvent(CM.EVENT_VIEW_LOAD_END)},_defaultRecordingClickHandler:function(t,e){this.openPanoramaFromRecording(t)},_onRecordingLoadSuccess:function(t,e){if("function"==typeof this._uriManager.setActiveRecordings&&this._uriManager.setActiveRecordings(e),this._locatingPanorama){this._locatingPanorama=!1;var n=Object(c.b)(e,t.x,t.y);if(!n)throw this._clearActiveRecording(),this.fireEvent(CM.EVENT_OPEN_NEAREST_PANORAMA_FAILURE),Error();this._activeRecording&&this._activeRecording.id===n.id||this.openPanoramaFromRecording(n),this.fireEvent(CM.EVENT_OPEN_NEAREST_PANORAMA_SUCCESS)}this._viewedRecordings=this._initializeViewedRecordings(e),this._enableKeyboardNavigation&&this._updateRecordingScores(),this._recordingLayer.setRecordings(this._viewedRecordings,this._activeRecording),this._activeRecording},_clearActiveRecording:function(){this._activeRecording=null,this.fireEvent(CM.EVENT_PANORAMA_CHANGE)},_onRecordingLoadFailure:function(t){this.fireEvent(CM.EVENT_OPEN_NEAREST_PANORAMA_FAILURE)},openPanoramaFromRecording:function(t){var e=this._viewer,n=e._viewportTileLoader,r=t.xyz;this._activeRecording=t,e._clear(),e._camera.setPosition({xyz:r,yawOffset:-t.orientation}),isNaN(r[2])&&(e._camera.xyz[2]=0),e.openPanorama(t.id),n.prepareForLoading(t),this.fireEvent(CM.EVENT_PANORAMA_CHANGE);var i={};this._viewedRecordingOptions&&(i=d({},this._viewedRecordingOptions)),this._recordingClient.requestWithinRadius(r[0],r[1],this._recordingRequestRadius,t.srs,i)},openNearestPanorama:function(t,e,n,r){if(void 0===t||void 0===e)throw Error("X and/or Y coordinate missing!");this._locatingPanorama=!0,this.fireEvent(CM.EVENT_OPEN_NEAREST_PANORAMA_START),this._recordingClient.requestWithinRadius(t,e,this._recordingRequestRadius,n,r)},openPanorama:function(t){this._locatingPanorama=!0,this._viewer.openPanorama(t)},_initializeViewedRecordings:function(t){var e=CM.Proj4.getProj4(),n=this._activeRecording,r=this._recordingDrawRadius;r*=r;var o=e.defs(n.srs),a=void 0,s=void 0,l=void 0,c=o&&"degrees"===o.units,f=o&&o.to_meter;c?a=new ENUTransformWGS(n.xyz):s=f?u.vec3.scale(u.vec3.create(),n.xyz,f):n.xyz;var h=[],d=!0,p=!1,m=void 0;try{for(var g,v=i()(t);!(d=(g=v.next()).done);d=!0){var y=g.value;if(y.id!==n.id){var b=void 0;c?b=a.toENU(y.xyz):(l=f?u.vec3.scale(u.vec3.create(),y.xyz,f):y.xyz,b=u.vec3.subtract(u.vec3.create(),l,s)),isNaN(b[2])&&(b[2]=0);var _=u.vec2.sqrLen(b);if(_<=r&&this._checkCandidateAgainstViewedRecordingOptions(y)){_=Math.sqrt(_),y.relativeXyz=b,y.relativeDistance=_;var w=Math.acos(b[1]/_);b[0]<0&&(w=2*Math.PI-w),y.relativeYaw=w,h.push(y)}}}}catch(t){p=!0,m=t}finally{try{!d&&v.return&&v.return()}finally{if(p)throw m}}return h},_dateWithinRange:function(t,e){return!e||e.from<=t&&t<=e.to},_checkCandidateAgainstViewedRecordingOptions:function(t){var e=this._viewedRecordingOptions||{},n=e.dateRange;return this._dateWithinRange(t.recordedAt,n)},invalidateSize:function(){this._viewer.invalidateSize()},getElement:function(){return this._viewer._viewerWrapper},pixelToWorldVector:function(t,e){return this._viewer._camera.pixelToWorldVector(t,e)},imageToWorldVector:function(t,e){return this._viewer._camera.imageToWorldVector(t,e)},worldCoordToImage:function(t,e,n){return this._viewer._camera.worldCoordToImage(t,e,n)},getRecording:function(){return this._activeRecording},getViewerId:function(){return this._viewer.getViewerId()},getViewerType:function(){return this._viewer.getViewerType()},getOrientation:function(){return this._viewer.getOrientation()},getYaw:function(){return this._viewer.getYaw()},getPitch:function(){return this._viewer.getPitch()},getHFov:function(){return this._viewer.getHFov()},setOrientation:function(t){this._viewer.setOrientation(t)},setYaw:function(t){this._viewer.setYaw(t)},setPitch:function(t){this._viewer.setPitch(t)},setHFov:function(t){this._viewer.setHFov(t)},getVisibilityRecordings:function(){return this._recordingLayer.getVisible()},setVisibilityRecordings:function(t){this._recordingLayer.setVisible(t)},getRecordingLayer:function(){return this._recordingLayer},getDataUri:function(){return this._uriManager.getDataUri()},setDataUri:function(t){this._uriManager.setDataUri(t),this._recordingClient._uriManager.setDataUri(t)},getUseDeviceMotion:function(){return this._viewer.getUseDeviceMotion()},getUseDeviceOrientation:function(){return this._viewer.getUseDeviceOrientation()},setUseDeviceMotion:function(t){this._viewer.setUseDeviceMotion(t)},setUseDeviceOrientation:function(t){this._viewer.setUseDeviceOrientation(t)},setAllowRotateWhenZoomed:function(t){this._viewer.setAllowRotateWhenZoomed(t)},setDisableRotate:function(t){this._viewer.setDisableRotate(t)},setHotspots:function(t){this._hotspotLayer.setHotspots(t)},clearHotspots:function(){this._hotspotLayer.setHotspots([])},setViewedRecordingOptions:function(t){this._viewedRecordingOptions=t},getPanoramaCanvas:function(){var t=void 0;return"webgl"===this.getViewerType()?t=this._viewer.getCanvas():(console.log("Selected Viewer is not a WebGL viewer, download not supported!"),t=null),t},_updateRecordingScores:function(){for(var t=this._viewer._camera,e=this._viewedRecordings,n=t.yaw,i=-1,o=-1,a=-1,s=-1,l=0,u=e.length;l<u;++l){var c=e[l],f=c.relativeYaw,h=c.relativeDistance,d=r(h,Math.acos(Math.cos(n-f)));d>0&&d>i&&(i=d,o=l),c.scoreForward=d,c.forwardTarget=!1;var p=r(h,Math.acos(Math.cos(n-f+Math.PI)));p>0&&p>a&&(a=p,s=l),c.scoreBackward=p,c.backwardTarget=!1}var m=!1,g=this._forwardTarget,v=this._backwardTarget,y=null,b=null;a>=0&&(y=e[s],y.backwardTarget=!0),i>=0&&(b=e[o],b.forwardTarget=!0),y!==v&&(!0,this._backwardTarget=y),b!==g&&(m=!0,this._forwardTarget=b);var _=this._viewer._viewportTileLoader;m&&_.clearPreloadPending()},_onViewerKeyDown:function(t){var e=t.dom3key,n=!0,r=void 0;switch(this._interactionKeysPressed[e]=!0,e){case"Shift":case"Control":n=!1;case"ArrowLeft":case"A":case"ArrowRight":case"D":case"PageUp":case"R":case"PageDown":case"F":case"-":case"_":case"=":case"+":this._viewer.requestAnimationFrame();break;case"ArrowUp":case"W":r=this._forwardTarget,r&&this.openPanoramaFromRecording(r);break;case"ArrowDown":case"S":r=this._backwardTarget,r&&this.openPanoramaFromRecording(r);break;default:n=!1}return!n||(t.preventDefault(),!1)},_onViewerKeyUp:function(t){delete this._interactionKeysPressed[t.dom3key]},_onViewerBlur:function(t){this._interactionKeysPressed={}},_onEnterFrame:function(t){var e=this._viewer,n=this._interactionKeysPressed,r=this._lastFrameTime,i=Date.now(),o=r?1e3/(i-r):60,a=this._dYaw,s=this._dPitch,l=this._dZoom,u=Object(h.e)(120);n.Shift&&(u*=5),n.Control&&(u*=.1);var c=6*u/o,f=3*u/o,d=n.ArrowLeft||n.A,p=n.ArrowRight||n.D,m=n.PageUp||n.R,g=n.PageDown||n.F,v=n["-"]||n._,y=n["="]||n["+"];d&&!p?a=Math.max(-u,a-c):!d&&p&&(a=Math.min(u,a+c)),m&&!g?s=Math.min(u,s+c):!m&&g&&(s=Math.max(-u,s-c)),v&&!y?l=Math.min(u,l+c):!v&&y&&(l=Math.max(-u,l-c)),0===a&&0===s&&0===l||(e.setYaw(e.getYaw()+a/o),e.setPitch(e.getPitch()+s/o),e.setHFov(e.getHFov()+l/o),a=Math.abs(a)<f?0:a+(a>0?-1:1)*f,s=Math.abs(s)<f?0:s+(s>0?-1:1)*f,l=Math.abs(l)<f?0:l+(l>0?-1:1)*f),0!==a||0!==s?(this._lastFrameTime=r,this._viewer.requestAnimationFrame()):this._lastFrameTime=null,this._dYaw=a,this._dPitch=s,this._dZoom=l}});var o=CM.aperture.getViewerClasses(),a={};CM.createPanoramaViewer=function(e){if(o.length>0){var n=new o[0](e),r=d({},e,{viewer:n}),i=new CM.api.Aperture(r);return t(i),i}return null},CM.destroyPanoramaViewer=function(t){var r=n(t);r&&(r.destroy(),e(r))}}}()},function(t,e,n){"use strict";var r=n(60);n.n(r)},function(t,e,n){"use strict";var r=n(5),i=n.n(r),o=n(60),a=(n.n(o),function(t,e){function n(){return 2*Math.PI/60/60*m.autoRotateSpeed}function r(){return Math.pow(.95,m.zoomSpeed)}function i(t){if(!1!==m.enabled){if(t.preventDefault(),t.button===m.mouseButtons.ORBIT){if(!0===m.noRotate)return;N=L.ROTATE,g.set(t.clientX,t.clientY)}else if(t.button===m.mouseButtons.ZOOM){if(!0===m.noZoom)return;N=L.DOLLY,M.set(t.clientX,t.clientY)}else if(t.button===m.mouseButtons.PAN){if(!0===m.noPan)return;N=L.PAN,b.set(t.clientX,t.clientY)}document.addEventListener("mousemove",a,!1),document.addEventListener("mouseup",s,!1),m.dispatchEvent(j)}}function a(t){if(!1!==m.enabled){t.preventDefault();var e=m.domElement===document?m.domElement.body:m.domElement;if(N===L.ROTATE){if(!0===m.noRotate)return;v.set(t.clientX,t.clientY),y.subVectors(v,g),m.rotateLeft(2*Math.PI*y.x/e.clientWidth*m.rotateSpeed),m.rotateUp(2*Math.PI*y.y/e.clientHeight*m.rotateSpeed),g.copy(v)}else if(N===L.DOLLY){if(!0===m.noZoom)return;S.set(t.clientX,t.clientY),T.subVectors(S,M),T.y>0?m.dollyIn():m.dollyOut(),M.copy(S)}else if(N===L.PAN){if(!0===m.noPan)return;_.set(t.clientX,t.clientY),w.subVectors(_,b),m.pan(w.x,w.y),b.copy(_)}m.update()}}function s(){!1!==m.enabled&&(document.removeEventListener("mousemove",a,!1),document.removeEventListener("mouseup",s,!1),m.dispatchEvent(U),N=L.NONE)}function l(t){if(!1!==m.enabled&&!0!==m.noZoom){t.preventDefault(),t.stopPropagation();var e=0;void 0!==t.wheelDelta?e=t.wheelDelta:void 0!==t.detail&&(e=-t.detail),e>0?m.dollyOut():m.dollyIn(),m.update(),m.dispatchEvent(j),m.dispatchEvent(U)}}function u(t){if(!1!==m.enabled&&!0!==m.noKeys&&!0!==m.noPan)switch(t.keyCode){case m.keys.UP:m.pan(0,m.keyPanSpeed),m.update();break;case m.keys.BOTTOM:m.pan(0,-m.keyPanSpeed),m.update();break;case m.keys.LEFT:m.pan(m.keyPanSpeed,0),m.update();break;case m.keys.RIGHT:m.pan(-m.keyPanSpeed,0),m.update()}}function c(t){if(!1!==m.enabled){switch(t.touches.length){case 1:if(!0===m.noRotate)return;N=L.TOUCH_ROTATE,g.set(t.touches[0].pageX,t.touches[0].pageY);break;case 2:if(!0===m.noZoom)return;N=L.TOUCH_DOLLY;var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(e*e+n*n);M.set(0,r);break;case 3:if(!0===m.noPan)return;N=L.TOUCH_PAN,b.set(t.touches[0].pageX,t.touches[0].pageY);break;default:N=L.NONE}m.dispatchEvent(j)}}function f(t){if(!1!==m.enabled){t.preventDefault(),t.stopPropagation();var e=m.domElement===document?m.domElement.body:m.domElement;switch(t.touches.length){case 1:if(!0===m.noRotate)return;if(N!==L.TOUCH_ROTATE)return;v.set(t.touches[0].pageX,t.touches[0].pageY),y.subVectors(v,g),m.rotateLeft(2*Math.PI*y.x/e.clientWidth*m.rotateSpeed),m.rotateUp(2*Math.PI*y.y/e.clientHeight*m.rotateSpeed),g.copy(v),m.update();break;case 2:if(!0===m.noZoom)return;if(N!==L.TOUCH_DOLLY)return;var n=t.touches[0].pageX-t.touches[1].pageX,r=t.touches[0].pageY-t.touches[1].pageY,i=Math.sqrt(n*n+r*r);S.set(0,i),T.subVectors(S,M),T.y>0?m.dollyOut():m.dollyIn(),M.copy(S),m.update();break;case 3:if(!0===m.noPan)return;if(N!==L.TOUCH_PAN)return;_.set(t.touches[0].pageX,t.touches[0].pageY),w.subVectors(_,b),m.pan(w.x,w.y),b.copy(_),m.update();break;default:N=L.NONE}}}function h(){!1!==m.enabled&&(m.dispatchEvent(U),N=L.NONE)}this.object=t,this.domElement=void 0!==e?e:document,this.enabled=!0,this.target=new o.Vector3,this.center=this.target,this.noZoom=!1,this.zoomSpeed=1,this.minDistance=0,this.maxDistance=1/0,this.noRotate=!1,this.rotateSpeed=1,this.noPan=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.noKeys=!1,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:o.MOUSE.LEFT,ZOOM:o.MOUSE.MIDDLE,PAN:o.MOUSE.RIGHT};var d,p,m=this,g=new o.Vector2,v=new o.Vector2,y=new o.Vector2,b=new o.Vector2,_=new o.Vector2,w=new o.Vector2,x=new o.Vector3,E=new o.Vector3,M=new o.Vector2,S=new o.Vector2,T=new o.Vector2,C=0,O=0,A=1,I=new o.Vector3,R=new o.Vector3,P=new o.Quaternion,L={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},N=L.NONE;this.target0=this.target.clone(),this.position0=this.object.position.clone();var k=(new o.Quaternion).setFromUnitVectors(t.up,new o.Vector3(0,1,0)),D=k.clone().inverse(),F={type:"change"},j={type:"start"},U={type:"end"};this.rotateLeft=function(t){void 0===t&&(t=n()),O-=t},this.rotateUp=function(t){void 0===t&&(t=n()),C-=t},this.panLeft=function(t){var e=this.object.matrix.elements;x.set(e[0],e[1],e[2]),x.multiplyScalar(-t),I.add(x)},this.panUp=function(t){var e=this.object.matrix.elements;x.set(e[4],e[5],e[6]),x.multiplyScalar(t),I.add(x)},this.pan=function(t,e){var n=m.domElement===document?m.domElement.body:m.domElement;if(void 0!==m.object.fov){var r=m.object.position,i=r.clone().sub(m.target),o=i.length();o*=Math.tan(m.object.fov/2*Math.PI/180),m.panLeft(2*t*o/n.clientHeight),m.panUp(2*e*o/n.clientHeight)}else void 0!==m.object.top?(m.panLeft(t*(m.object.right-m.object.left)/n.clientWidth),m.panUp(e*(m.object.top-m.object.bottom)/n.clientHeight)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")},this.dollyIn=function(t){void 0===t&&(t=r()),A/=t},this.dollyOut=function(t){void 0===t&&(t=r()),A*=t},this.update=function(){var t=this.object.position;E.copy(t).sub(this.target),E.applyQuaternion(k),d=Math.atan2(E.x,E.z),p=Math.atan2(Math.sqrt(E.x*E.x+E.z*E.z),E.y),this.autoRotate&&this.rotateLeft(n()),d+=O,p+=C,d=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,d)),p=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,p)),p=Math.max(1e-6,Math.min(Math.PI-1e-6,p));var e=E.length()*A;e=Math.max(this.minDistance,Math.min(this.maxDistance,e)),this.target.add(I),E.x=e*Math.sin(p)*Math.sin(d),E.y=e*Math.cos(p),E.z=e*Math.sin(p)*Math.cos(d),E.applyQuaternion(D),t.copy(this.target).add(E),this.object.lookAt(this.target),O=0,C=0,A=1,I.set(0,0,0),(R.distanceToSquared(this.object.position)>1e-6||8*(1-P.dot(this.object.quaternion))>1e-6)&&(this.dispatchEvent(F),R.copy(this.object.position),P.copy(this.object.quaternion))},this.reset=function(){N=L.NONE,this.target.copy(this.target0),this.object.position.copy(this.position0),this.update()},this.getPolarAngle=function(){return p},this.getAzimuthalAngle=function(){return d},this.domElement.addEventListener("contextmenu",function(t){t.preventDefault()},!1),this.domElement.addEventListener("mousedown",i,!1),this.domElement.addEventListener("mousewheel",l,!1),this.domElement.addEventListener("DOMMouseScroll",l,!1),this.domElement.addEventListener("touchstart",c,!1),this.domElement.addEventListener("touchend",h,!1),this.domElement.addEventListener("touchmove",f,!1),window.addEventListener("keydown",u,!1),this.update()});a.prototype=i()(o.EventDispatcher.prototype)},function(t,e,n){"use strict";var r=n(5),i=n.n(r),o=n(1064),a=n.n(o),s=n(60),l=(n.n(s),function(t,e){function n(t,e){return function(){e.apply(t,arguments)}}this.object=t,this.domElement=void 0!==e?e:document,e&&this.domElement.setAttribute("tabindex",-1),this.rotationSpeed=.005,this.zoomSpeed=.01,this.fastMultiplier=5,this.slowMultiplier=.2,this.autoRotate=!1,this.keyMapping={16:"fast",18:"slow",87:"forward",83:"back",65:"left",68:"right",82:"up",70:"down",38:"pitchUp",40:"pitchDown",37:"yawLeft",39:"yawRight",81:"rollLeft",69:"rollRight",189:"zoomOut",187:"zoomIn",48:"zoomReset",32:"jump"},this.tmpQuaternion=new s.Quaternion,this.state={fast:0,slow:0,forward:0,back:0,left:0,right:0,up:0,down:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0,zoomIn:0,zoomOut:0,zoomReset:0,jump:0},this.multiplier=1,this.yaw=0,this.pitch=0,this.roll=0,this.focal=1,this.mouseState=[0,0,0],this.pointerDown={x:null,y:null,yaw:null,pitch:null,roll:null},this.handleEvent=function(t){"function"==typeof this[t.type]&&this[t.type](t)},this.handleKeyEvent=function(t,e){if(t.altKey)return!1;var n=t.keyCode,r=this.keyMapping;this.modifierMapping;if(n in r){var i=r[n];return this.state[i]=e,this.update(),!0}return!1},this.keydown=function(t){this.handleKeyEvent(t,1)},this.keyup=function(t){this.handleKeyEvent(t,0)},this.mousedown=function(t){this.domElement!==document&&this.domElement.focus(),t.preventDefault(),t.stopPropagation(),this.mouseState[t.button]=1;var e=this.pointerDown;e.x=t.clientX,e.y=t.clientY,e.yaw=this.yaw,e.pitch=this.pitch,e.roll=this.roll,e.focal=this.focal},this.mousemove=function(t){var e=this.mouseState,n=this.pointerDown,r=t.clientX-n.x,i=t.clientY-n.y,o=!1;if(e[0]&&(this.yaw=n.yaw-r*this.rotationSpeed,this.pitch=n.pitch-i*this.rotationSpeed,o=!0),e[1]){this.focal=n.focal*Math.pow(2,-i*this.zoomSpeed),o=!0;Math.abs(r)>50?this.roll=n.roll+(r-50*a()(r))*this.rotationSpeed:this.roll=n.roll}o&&this.update()},this.mouseup=function(t){t.preventDefault(),t.stopPropagation(),this.mouseState[t.button]=0},this.update=function(t){var e=this.object,n=Math.min(Math.max(.1,this.focal),100);this.focal=n;var r=2*Math.PI,i=.5*Math.PI,o=this.yaw;o/=r,o-=Math.floor(o),o*=r,this.yaw=o;var a=s.Math.clamp(this.pitch,-i,i);this.pitch=a;var l=s.Math.clamp(this.roll,-Math.PI/3,Math.PI/3);this.roll=l,e.setLens(n,1),e.rotation.set(a,o,l,"YXZ"),this.yaw===this.prevYaw&&this.pitch===this.prevPitch&&this.roll===this.prevRoll||(this.prevYaw=this.yaw,this.prevPitch=this.pitch,this.prevRoll=this.roll,console.log("YPR:",o,a,l,"F:",n),this.dispatchEvent({type:"update"}))},this.updateMovementVector=function(){var t=this.state.forward||this.autoForward&&!this.state.back?1:0;this.moveVector.x=-this.state.left+this.state.right,this.moveVector.y=-this.state.down+this.state.up,this.moveVector.z=-t+this.state.back},this.updateRotationVector=function(){this.rotationVector.x=this.state.pitchUp-this.state.pitchDown,this.rotationVector.y=this.state.yawLeft-this.state.yawRight,this.rotationVector.z=this.state.rollLeft-this.state.rollRight},this.getContainerDimensions=function(){return this.domElement!==document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}},this.domElement.addEventListener("contextmenu",function(t){t.preventDefault()},!1),this.domElement.addEventListener("mousemove",n(this,this.mousemove),!1),this.domElement.addEventListener("mousedown",n(this,this.mousedown),!1),this.domElement.addEventListener("mouseup",n(this,this.mouseup),!1),window.addEventListener("keydown",n(this,this.keydown),!1),window.addEventListener("keyup",n(this,this.keyup),!1)});l.prototype=i()(s.EventDispatcher.prototype)},function(t,e,n){t.exports={default:n(1065),__esModule:!0}},function(t,e,n){n(1066),t.exports=n(26).Math.sign},function(t,e,n){var r=n(39);r(r.S,"Math",{sign:n(1067)})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(166),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g=function(t){function e(){return r(this,e),i(this,(e.__proto__||s()(e)).apply(this,arguments))}return o(e,t),m(e,[{key:"getTileUri",value:function(t,e,n,r,i){if(2!==n)return null;var o=this.apiKey,a=0===n?t+"_0_A_0_0":t+"_"+n+"_"+"RLUDBF".charAt(e)+"_"+r+"_"+i+".png";return o&&(a+="?apiKey="+o),this._selectDataUriHashBased(a)+a}}]),e}(p.a);e.a=g},function(t,e,n){function r(t){return i(2,t)}var i=n(1070);t.exports=r},function(t,e,n){function r(t,e){var n;if("function"!=typeof e)throw new TypeError(o);return t=i(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var i=n(494),o="Expected a function";t.exports=r},function(t,e,n){function r(t){if(!t)return 0===t?t:0;if((t=i(t))===o||t===-o){return(t<0?-1:1)*a}return t===t?t:0}var i=n(1072),o=1/0,a=1.7976931348623157e308;t.exports=r},function(t,e,n){function r(t){if("number"==typeof t)return t;if(o(t))return a;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=u.test(t);return n||c.test(t)?f(t.slice(2),n?2:8):l.test(t)?a:+t}var i=n(199),o=n(348),a=NaN,s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt;t.exports=r},function(t,e,n){var r=n(1074),i=n(1079),o=n(1080),a=n(1081),s=n(1082),l=n(142),u=n(496),c=u(r),f=u(i),h=u(o),d=u(a),p=u(s),m=l;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case c:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=m},function(t,e,n){var r=n(171),i=n(119),o=r(i,"DataView");t.exports=o},function(t,e,n){function r(t){return!(!a(t)||o(t))&&(i(t)?p:u).test(s(t))}var i=n(118),o=n(1076),a=n(199),s=n(496),l=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Function.prototype,f=Object.prototype,h=c.toString,d=f.hasOwnProperty,p=RegExp("^"+h.call(d).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){return!!o&&o in t}var i=n(1077),o=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r},function(t,e,n){var r=n(119),i=r["__core-js_shared__"];t.exports=i},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){var r=n(171),i=n(119),o=r(i,"Map");t.exports=o},function(t,e,n){var r=n(171),i=n(119),o=r(i,"Promise");t.exports=o},function(t,e,n){var r=n(171),i=n(119),o=r(i,"Set");t.exports=o},function(t,e,n){var r=n(171),i=n(119),o=r(i,"WeakMap");t.exports=o},function(t,e,n){var r=n(497),i=n(1084),o=n(1085),a=n(169),s=n(333),l=n(200),u=Object.prototype,c=u.hasOwnProperty,f=o(function(t,e){if(s(e)||a(e))return void i(e,l(e),t);for(var n in e)c.call(e,n)&&r(t,n,e[n])});t.exports=f},function(t,e,n){function r(t,e,n,r){var a=!n;n||(n={});for(var s=-1,l=e.length;++s<l;){var u=e[s],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),a?o(n,u,c):i(n,u,c)}return n}var i=n(497),o=n(498);t.exports=r},function(t,e,n){function r(t){return i(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var l=n[r];l&&t(e,l,r,a)}return e})}var i=n(1086),o=n(1093);t.exports=r},function(t,e,n){function r(t,e){return a(o(t,e,i),t+"")}var i=n(172),o=n(1087),a=n(1089);t.exports=r},function(t,e,n){function r(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var r=arguments,a=-1,s=o(r.length-e,0),l=Array(s);++a<s;)l[a]=r[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=r[a];return u[e]=n(l),i(t,this,u)}}var i=n(1088),o=Math.max;t.exports=r},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e,n){var r=n(1090),i=n(1092),o=i(r);t.exports=o},function(t,e,n){var r=n(1091),i=n(499),o=n(172),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){function n(t){return function(){return t}}t.exports=n},function(t,e){function n(t){var e=0,n=0;return function(){var a=o(),s=i-(a-n);if(n=a,s>0){if(++e>=r)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var r=800,i=16,o=Date.now;t.exports=n},function(t,e,n){function r(t,e,n){if(!s(n))return!1;var r=typeof e;return!!("number"==r?o(n)&&a(e,n.length):"string"==r&&e in n)&&i(n[e],t)}var i=n(500),o=n(169),a=n(464),s=n(199);t.exports=r},function(t,e,n){function r(t,e){return(s(t)?i:o)(t,a(e))}var i=n(460),o=n(1095),a=n(1100),s=n(168);t.exports=r},function(t,e,n){var r=n(1096),i=n(1099),o=i(r);t.exports=o},function(t,e,n){function r(t,e){return t&&i(t,e,o)}var i=n(1097),o=n(200);t.exports=r},function(t,e,n){var r=n(1098),i=r();t.exports=i},function(t,e){function n(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}t.exports=n},function(t,e,n){function r(t,e){return function(n,r){if(null==n)return n;if(!i(n))return t(n,r);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==r(s[a],a,s););return n}}var i=n(169);t.exports=r},function(t,e,n){function r(t){return"function"==typeof t?t:i}var i=n(172);t.exports=r},function(t,e,n){var r=n(1102),i=/\s+/;e.triggerEvents=function(t,e){var n,r=-1,i=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}},e.eventsApi=function(t,e,n,r){if(!n)return!0;if("object"==typeof n){for(var o in n)t[e].apply(t,[o,n[o]].concat(r));return!1}if(i.test(n)){for(var a=n.split(i),s=0,l=a.length;s<l;s++)t[e].apply(t,[a[s]].concat(r));return!1}return!0},e.createListenMethod=function(t){return function(e,n,i){if(!e)throw new Error("Trying to listenTo event: '"+n+"' but the target object is undefined");if((this._listeningTo||(this._listeningTo={}))[e._listenId||(e._listenId=r("l"))]=e,i||"object"!=typeof n||(i=this),"function"!=typeof e[t])throw new Error("Trying to listenTo event: '"+n+"' on object: "+e.toString()+" but it does not have an 'on' method so is unbindable");return e[t](n,i,this),this}}},function(t,e,n){function r(t){var e=++o;return i(t)+e}var i=n(501),o=0;t.exports=r},function(t,e,n){function r(t){if("string"==typeof t)return t;if(a(t))return o(t,r)+"";if(s(t))return c?c.call(t):"";var e=t+"";return"0"==e&&1/t==-l?"-0":e}var i=n(332),o=n(502),a=n(168),s=n(348),l=1/0,u=i?i.prototype:void 0,c=u?u.toString:void 0;t.exports=r},function(t,e){try{var n=new window.CustomEvent("test");if(n.preventDefault(),!0!==n.defaultPrevented)throw new Error("Could not prevent default")}catch(t){var r=function(t,e){var n,r;return e=e||{bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent("CustomEvent"),n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r=n.preventDefault,n.preventDefault=function(){r.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(t){this.defaultPrevented=!0}},n};r.prototype=window.Event.prototype,window.CustomEvent=r}},function(t,e,n){"use strict";var r=n(503),i=n.n(r),o=n(87),a=n.n(o),s=n(5),l=n.n(s);!/*!
 * PEP v0.4.2 | https://github.com/jquery/PEP
 * Copyright jQuery Foundation and other contributors | http://jquery.org/license
 */
function(){function t(t,e){e=e||l()(null);var n=document.createEvent("Event");n.initEvent(t,e.bubbles||!1,e.cancelable||!1);for(var r,i=2;i<h.length;i++)r=h[i],n[r]=e[r]||d[i];n.buttons=e.buttons||0;var o=0;return o=e.pressure&&n.buttons?e.pressure:n.buttons?.5:0,n.x=n.clientX,n.y=n.clientY,n.pointerId=e.pointerId||0,n.width=e.width||0,n.height=e.height||0,n.pressure=o,n.tiltX=e.tiltX||0,n.tiltY=e.tiltY||0,n.pointerType=e.pointerType||"",n.hwTimestamp=e.hwTimestamp||0,n.isPrimary=e.isPrimary||!1,n}function e(){this.array=[],this.size=0}function n(t,e,n,r){this.addCallback=t.bind(r),this.removeCallback=e.bind(r),this.changedCallback=n.bind(r),T&&(this.observer=new T(this.mutationWatcher.bind(this)))}function r(t){return"body /shadow-deep/ "+o(t)}function o(t){return'[data-touch-action="'+t+'"]'}function s(t){return"{ -ms-touch-action: "+t+"; touch-action: "+t+"; }"}function u(t){if(!_.pointermap.has(t)){var e=new Error("InvalidPointerId");throw e.name="InvalidPointerId",e}}function c(t){if(!t.ownerDocument.contains(t)){var e=new Error("InvalidStateError");throw e.name="InvalidStateError",e}}function f(t){return 0!==_.pointermap.get(t).buttons}var h=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],d=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],p=window.Map&&window.Map.prototype.forEach,m=p?a.a:e;e.prototype={set:function(t,e){if(void 0===e)return this.delete(t);this.has(t)||this.size++,this.array[t]=e},has:function(t){return void 0!==this.array[t]},delete:function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach(function(n,r){t.call(e,n,r,this)},this)}};var g=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],v=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],y={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},b="undefined"!=typeof SVGElementInstance,_={pointermap:new m,eventMap:l()(null),captureInfo:l()(null),eventSources:l()(null),eventSourceList:[],registerSource:function(t,e){var n=e,r=n.events;r&&(r.forEach(function(t){n[t]&&(this.eventMap[t]=n[t].bind(n))},this),this.eventSources[t]=n,this.eventSourceList.push(n))},register:function(t){for(var e,n=this.eventSourceList.length,r=0;r<n&&(e=this.eventSourceList[r]);r++)e.register.call(e,t)},unregister:function(t){for(var e,n=this.eventSourceList.length,r=0;r<n&&(e=this.eventSourceList[r]);r++)e.unregister.call(e,t)},contains:function(t,e){try{return t.contains(e)}catch(t){return!1}},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){t.bubbles=!1,this.fireEvent("pointerenter",t)},leave:function(t){t.bubbles=!1,this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.propagate(t,this.leave,!1)},enterOver:function(t){this.over(t),this.propagate(t,this.enter,!0)},eventHandler:function(t){if(!t._handledByPE){var e=t.type,n=this.eventMap&&this.eventMap[e];n&&n(t),t._handledByPE=!0}},listen:function(t,e){e.forEach(function(e){this.addEvent(t,e)},this)},unlisten:function(t,e){e.forEach(function(e){this.removeEvent(t,e)},this)},addEvent:function(t,e){t.addEventListener(e,this.boundHandler)},removeEvent:function(t,e){t.removeEventListener(e,this.boundHandler)},makeEvent:function(e,n){this.captureInfo[n.pointerId]&&(n.relatedTarget=null);var r=new t(e,n);return n.preventDefault&&(r.preventDefault=n.preventDefault),r._target=r._target||n.target,r},fireEvent:function(t,e){var n=this.makeEvent(t,e);return this.dispatchEvent(n)},cloneEvent:function(t){for(var e,n=l()(null),r=0;r<g.length;r++)e=g[r],n[e]=t[e]||v[r],!b||"target"!==e&&"relatedTarget"!==e||n[e]instanceof SVGElementInstance&&(n[e]=n[e].correspondingUseElement);return t.preventDefault&&(n.preventDefault=function(){t.preventDefault()}),n},getTarget:function(t){var e=this.captureInfo[t.pointerId];return e?t._target!==e&&t.type in y?void 0:e:t._target},propagate:function(t,e,n){for(var r=t.target,i=[];!r.contains(t.relatedTarget)&&r!==document;)i.push(r),r=r.parentNode;n&&i.reverse(),i.forEach(function(n){t.target=n,e.call(this,t)},this)},setCapture:function(e,n){this.captureInfo[e]&&this.releaseCapture(e),this.captureInfo[e]=n;var r=new t("gotpointercapture");r.pointerId=e,this.implicitRelease=this.releaseCapture.bind(this,e),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease),r._target=n,this.asyncDispatchEvent(r)},releaseCapture:function(e){var n=this.captureInfo[e];if(n){var r=new t("lostpointercapture");r.pointerId=e,this.captureInfo[e]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease),r._target=n,this.asyncDispatchEvent(r)}},dispatchEvent:function(t){var e=this.getTarget(t);if(e)return e.dispatchEvent(t)},asyncDispatchEvent:function(t){requestAnimationFrame(this.dispatchEvent.bind(this,t))}};_.boundHandler=_.eventHandler.bind(_);var w={shadow:function(t){if(t)return t.shadowRoot||t.webkitShadowRoot},canTarget:function(t){return t&&Boolean(t.elementFromPoint)},targetingShadow:function(t){var e=this.shadow(t);if(this.canTarget(e))return e},olderShadow:function(t){var e=t.olderShadowRoot;if(!e){var n=t.querySelector("shadow");n&&(e=n.olderShadowRoot)}return e},allShadows:function(t){for(var e=[],n=this.shadow(t);n;)e.push(n),n=this.olderShadow(n);return e},searchRoot:function(t,e,n){if(t){var r,i,o=t.elementFromPoint(e,n);for(i=this.targetingShadow(o);i;){if(r=i.elementFromPoint(e,n)){var a=this.targetingShadow(r);return this.searchRoot(a,e,n)||r}i=this.olderShadow(i)}return o}},owner:function(t){for(var e=t;e.parentNode;)e=e.parentNode;return e.nodeType!==Node.DOCUMENT_NODE&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(e=document),e},findTarget:function(t){var e=t.clientX,n=t.clientY,r=this.owner(t.target);return r.elementFromPoint(e,n)||(r=document),this.searchRoot(r,e,n)}},x=Array.prototype.forEach.call.bind(Array.prototype.forEach),E=Array.prototype.map.call.bind(Array.prototype.map),M=Array.prototype.slice.call.bind(Array.prototype.slice),S=Array.prototype.filter.call.bind(Array.prototype.filter),T=window.MutationObserver||window.WebKitMutationObserver,C={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["data-touch-action"]};n.prototype={watchSubtree:function(t){this.observer&&w.canTarget(t)&&this.observer.observe(t,C)},enableOnSubtree:function(t){this.watchSubtree(t),t===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(t)},installNewSubtree:function(t){x(this.findElements(t),this.addElement,this)},findElements:function(t){return t.querySelectorAll?t.querySelectorAll("[data-touch-action]"):[]},removeElement:function(t){this.removeCallback(t)},addElement:function(t){this.addCallback(t)},elementChanged:function(t,e){this.changedCallback(t,e)},concatLists:function(t,e){return t.concat(M(e))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(t){return t.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(t){var e=E(t,this.findElements,this);return e.push(S(t,this.isElement)),e.reduce(this.concatLists,[])},mutationWatcher:function(t){t.forEach(this.mutationHandler,this)},mutationHandler:function(t){"childList"===t.type?(this.flattenMutationTree(t.addedNodes).forEach(this.addElement,this),this.flattenMutationTree(t.removedNodes).forEach(this.removeElement,this)):"attributes"===t.type&&this.elementChanged(t.target,t.oldValue)}};var O=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],A="",I=window.PointerEvent||window.MSPointerEvent,R=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,P=_.pointermap,L=[1,4,2,8,16],N=!1;try{N=1===new MouseEvent("test",{buttons:1}).buttons}catch(t){}var k,D={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(t){_.listen(t,this.events)},unregister:function(t){_.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,n=this.lastTouches,r=t.clientX,i=t.clientY,o=0,a=n.length;o<a&&(e=n[o]);o++){var s=Math.abs(r-e.x),l=Math.abs(i-e.y);if(s<=25&&l<=25)return!0}},prepareEvent:function(t){var e=_.cloneEvent(t),n=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),n()},e.pointerId=this.POINTER_ID,e.isPrimary=!0,e.pointerType=this.POINTER_TYPE,e},prepareButtonsForMove:function(t,e){var n=P.get(this.POINTER_ID);0!==e.which&&n?t.buttons=n.buttons:t.buttons=0,e.buttons=t.buttons},mousedown:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=P.get(this.POINTER_ID),n=this.prepareEvent(t);N||(n.buttons=L[n.button],e&&(n.buttons|=e.buttons),t.buttons=n.buttons),P.set(this.POINTER_ID,t),e&&0!==e.buttons?_.move(n):_.down(n)}},mousemove:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);N||this.prepareButtonsForMove(e,t),e.button=-1,P.set(this.POINTER_ID,t),_.move(e)}},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=P.get(this.POINTER_ID),n=this.prepareEvent(t);if(!N){var r=L[n.button];n.buttons=e?e.buttons&~r:0,t.buttons=n.buttons}P.set(this.POINTER_ID,t),n.buttons&=~L[n.button],0===n.buttons?_.up(n):_.move(n)}},mouseover:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);N||this.prepareButtonsForMove(e,t),e.button=-1,P.set(this.POINTER_ID,t),_.enterOver(e)}},mouseout:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);N||this.prepareButtonsForMove(e,t),e.button=-1,_.leaveOut(e)}},cancel:function(t){var e=this.prepareEvent(t);_.cancel(e),this.deactivateMouse()},deactivateMouse:function(){P.delete(this.POINTER_ID)}},F=_.captureInfo,j=w.findTarget.bind(w),U=w.allShadows.bind(w),z=_.pointermap,B={events:["touchstart","touchmove","touchend","touchcancel"],register:function(t){k.enableOnSubtree(t)},unregister:function(){},elementAdded:function(t){var e=t.getAttribute("data-touch-action"),n=this.touchActionToScrollType(e);n&&(t._scrollType=n,_.listen(t,this.events),U(t).forEach(function(t){t._scrollType=n,_.listen(t,this.events)},this))},elementRemoved:function(t){t._scrollType=void 0,_.unlisten(t,this.events),U(t).forEach(function(t){t._scrollType=void 0,_.unlisten(t,this.events)},this)},elementChanged:function(t,e){var n=t.getAttribute("data-touch-action"),r=this.touchActionToScrollType(n),i=this.touchActionToScrollType(e);r&&i?(t._scrollType=r,U(t).forEach(function(t){t._scrollType=r},this)):i?this.elementRemoved(t):r&&this.elementAdded(t)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(t){var e=t,n=this.scrollTypes;return"none"===e?"none":e===n.XSCROLLER?"X":e===n.YSCROLLER?"Y":n.SCROLLER.exec(e)?"XY":void 0},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===z.size||1===z.size&&z.has(1))&&(this.firstTouch=t.identifier,this.firstXY={X:t.clientX,Y:t.clientY},this.scrolling=!1,this.cancelResetClickCount())},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstXY=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var t=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(t,200)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(t){var e=0;return"touchstart"!==t&&"touchmove"!==t||(e=1),e},touchToPointer:function(t){var e=this.currentTouchEvent,n=_.cloneEvent(t),r=n.pointerId=t.identifier+2;n.target=F[r]||j(n),n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount,n.button=0,n.buttons=this.typeToButtons(e.type),n.width=t.radiusX||t.webkitRadiusX||0,n.height=t.radiusY||t.webkitRadiusY||0,n.pressure=t.force||t.webkitForce||.5,n.isPrimary=this.isPrimaryTouch(t),n.pointerType=this.POINTER_TYPE,n.altKey=e.altKey,n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.shiftKey=e.shiftKey;var i=this;return n.preventDefault=function(){i.scrolling=!1,i.firstXY=null,e.preventDefault()},n},processTouches:function(t,e){var n=t.changedTouches;this.currentTouchEvent=t;for(var r,i=0;i<n.length;i++)r=n[i],e.call(this,this.touchToPointer(r))},shouldScroll:function(t){if(this.firstXY){var e,n=t.currentTarget._scrollType;if("none"===n)e=!1;else if("XY"===n)e=!0;else{var r=t.changedTouches[0],i=n,o="Y"===n?"X":"Y",a=Math.abs(r["client"+i]-this.firstXY[i]),s=Math.abs(r["client"+o]-this.firstXY[o]);e=a>=s}return this.firstXY=null,e}},findTouch:function(t,e){for(var n,r=0,i=t.length;r<i&&(n=t[r]);r++)if(n.identifier===e)return!0},vacuumTouches:function(t){var e=t.touches;if(z.size>=e.length){var n=[];z.forEach(function(t,r){if(1!==r&&!this.findTouch(e,r-2)){var i=t.out;n.push(i)}},this),n.forEach(this.cancelOut,this)}},touchstart:function(t){this.vacuumTouches(t),this.setPrimaryTouch(t.changedTouches[0]),this.dedupSynthMouse(t),this.scrolling||(this.clickCount++,this.processTouches(t,this.overDown))},overDown:function(t){z.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),_.enterOver(t),_.down(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):(t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=t,n=z.get(e.pointerId);if(n){var r=n.out,i=n.outTarget;_.move(e),r&&i!==e.target&&(r.relatedTarget=e.target,e.relatedTarget=i,r.target=i,e.target?(_.leaveOut(r),_.enterOver(e)):(e.target=i,e.relatedTarget=null,this.cancelOut(e))),n.out=e,n.outTarget=e.target}},touchend:function(t){this.dedupSynthMouse(t),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(_.up(t),_.leaveOut(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){_.cancel(t),_.leaveOut(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){z.delete(t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=D.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch(n)){var r={x:n.clientX,y:n.clientY};e.push(r);var i=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}.bind(null,e,r);setTimeout(i,2500)}}};k=new n(B.elementAdded,B.elementRemoved,B.elementChanged,B);var V,G,H=_.pointermap,q=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,W={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){_.listen(t,this.events)},unregister:function(t){_.unlisten(t,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(t){var e=t;return q&&(e=_.cloneEvent(t),e.pointerType=this.POINTER_TYPES[t.pointerType]),e},cleanup:function(t){H.delete(t)},MSPointerDown:function(t){H.set(t.pointerId,t);var e=this.prepareEvent(t);_.down(e)},MSPointerMove:function(t){var e=this.prepareEvent(t);_.move(e)},MSPointerUp:function(t){var e=this.prepareEvent(t);_.up(e),this.cleanup(t.pointerId)},MSPointerOut:function(t){var e=this.prepareEvent(t);_.leaveOut(e)},MSPointerOver:function(t){var e=this.prepareEvent(t);_.enterOver(e)},MSPointerCancel:function(t){var e=this.prepareEvent(t);_.cancel(e),this.cleanup(t.pointerId)},MSLostPointerCapture:function(t){var e=_.makeEvent("lostpointercapture",t);_.dispatchEvent(e)},MSGotPointerCapture:function(t){var e=_.makeEvent("gotpointercapture",t);_.dispatchEvent(e)}},Y=window.navigator;Y.msPointerEnabled?(V=function(t){u(t),c(this),f(t)&&this.msSetPointerCapture(t)},G=function(t){u(t),this.msReleasePointerCapture(t)}):(V=function(t){u(t),c(this),f(t)&&_.setCapture(t,this)},G=function(t){u(t),_.releaseCapture(t,this)}),function(){if(I){O.forEach(function(t){String(t)===t?(A+=o(t)+s(t)+"\n",R&&(A+=r(t)+s(t)+"\n")):(A+=t.selectors.map(o)+s(t.rule)+"\n",R&&(A+=t.selectors.map(r)+s(t.rule)+"\n"))});var t=document.createElement("style");t.textContent=A,document.head.appendChild(t)}}(),/* this breaks mapboard 2.0 function(){if(!window.PointerEvent){if(window.PointerEvent=t,window.navigator.msPointerEnabled){var e=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:e,enumerable:!0}),_.registerSource("ms",W)}else _.registerSource("mouse",D),void 0!==window.ontouchstart&&_.registerSource("touch",B);_.register(document)}}(), */function(){window.Element&&!Element.prototype.setPointerCapture&&i()(Element.prototype,{setPointerCapture:{value:V},releasePointerCapture:{value:G}})}()}()},function(t,e,n){n(1107);var r=n(26).Object;t.exports=function(t,e){return r.defineProperties(t,e)}},function(t,e,n){var r=n(39);r(r.S+r.F*!n(86),"Object",{defineProperties:n(446)})},function(t,e,n){"use strict";var r=n(55),i=n.n(r),o=n(23),a=n.n(o),s=n(17),l=n.n(s),u=n(15),c=(n.n(u),n(34)),f=n.n(c),h=n(1132),d=n.n(h),p=n(1133),m=n.n(p),g=n(1134),v=n.n(g),y=n(1135),b=n.n(y),_=n(1136),w=n.n(_),x=n(1137),E=n.n(x),M=n(1138),S=n.n(M),T=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=l()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(a()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),C=!0,O=!1,A=void 0;try{for(var I,R=l()(i()({de:d.a,en:m.a,fi:v.a,fr:b.a,nl:w.a,pt:E.a,tr:S.a}));!(C=(I=R.next()).done);C=!0){var P=T(I.value,2),L=P[0],N=P[1];f.a.debug("Loading locale data for:",L),Object(u.addLocaleData)(N)}}catch(t){O=!0,A=t}finally{try{!C&&R.return&&R.return()}finally{if(O)throw A}}},function(t,e){},function(t,e,n){"use strict";var r=n(1111),i=n(1116);r.default.__addLocaleData(i.default),r.default.defaultLocale="en",e.default=r.default},function(t,e,n){"use strict";function r(t,e,n){var i="string"==typeof t?r.__parse(t):t;if(!i||"messageFormatPattern"!==i.type)throw new TypeError("A message must be provided as a String or AST.");n=this._mergeFormats(r.formats,n),o.defineProperty(this,"_locale",{value:this._resolveLocale(e)});var a=this._findPluralRuleFunction(this._locale),s=this._compilePattern(i,e,n,a),l=this;this.format=function(e){try{return l._format(s,e)}catch(e){throw e.variableId?new Error("The intl string context variable '"+e.variableId+"' was not provided to the string '"+t+"'"):e}}}var i=n(506),o=n(1112),a=n(1113),s=n(1114);e.default=r,o.defineProperty(r,"formats",{enumerable:!0,value:{number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}}}),o.defineProperty(r,"__localeData__",{value:o.objCreate(null)}),o.defineProperty(r,"__addLocaleData",{value:function(t){if(!t||!t.locale)throw new Error("Locale data provided to IntlMessageFormat is missing a `locale` property");r.__localeData__[t.locale.toLowerCase()]=t}}),o.defineProperty(r,"__parse",{value:s.default.parse}),o.defineProperty(r,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),r.prototype.resolvedOptions=function(){return{locale:this._locale}},r.prototype._compilePattern=function(t,e,n,r){return new a.default(e,n,r).compile(t)},r.prototype._findPluralRuleFunction=function(t){for(var e=r.__localeData__,n=e[t.toLowerCase()];n;){if(n.pluralRuleFunction)return n.pluralRuleFunction;n=n.parentLocale&&e[n.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlMessageFormat is missing a `pluralRuleFunction` for :"+t)},r.prototype._format=function(t,e){var n,r,o,a,s,l,u="";for(n=0,r=t.length;n<r;n+=1)if("string"!=typeof(o=t[n])){if(a=o.id,!e||!i.hop.call(e,a))throw l=new Error("A value must be provided for: "+a),l.variableId=a,l;s=e[a],o.options?u+=this._format(o.getOption(s),e):u+=o.format(s)}else u+=o;return u},r.prototype._mergeFormats=function(t,e){var n,r,a={};for(n in t)i.hop.call(t,n)&&(a[n]=r=o.objCreate(t[n]),e&&i.hop.call(e,n)&&i.extend(r,e[n]));return a},r.prototype._resolveLocale=function(t){"string"==typeof t&&(t=[t]),t=(t||[]).concat(r.defaultLocale);var e,n,i,o,a=r.__localeData__;for(e=0,n=t.length;e<n;e+=1)for(i=t[e].toLowerCase().split("-");i.length;){if(o=a[i.join("-")])return o.locale;i.pop()}var s=t.pop();throw new Error("No locale data has been added to IntlMessageFormat for: "+t.join(", ")+", or the default locale: "+s)}},function(t,e,n){"use strict";var r=n(506),i=function(){try{return!!Object.defineProperty({},"a",{})}catch(t){return!1}}(),o=(!i&&Object.prototype.__defineGetter__,i?Object.defineProperty:function(t,e,n){"get"in n&&t.__defineGetter__?t.__defineGetter__(e,n.get):(!r.hop.call(t,e)||"value"in n)&&(t[e]=n.value)}),a=Object.create||function(t,e){function n(){}var i,a;n.prototype=t,i=new n;for(a in e)r.hop.call(e,a)&&o(i,a,e[a]);return i};e.defineProperty=o,e.objCreate=a},function(t,e,n){"use strict";function r(t,e,n){this.locales=t,this.formats=e,this.pluralFn=n}function i(t){this.id=t}function o(t,e,n,r,i){this.id=t,this.useOrdinal=e,this.offset=n,this.options=r,this.pluralFn=i}function a(t,e,n,r){this.id=t,this.offset=e,this.numberFormat=n,this.string=r}function s(t,e){this.id=t,this.options=e}e.default=r,r.prototype.compile=function(t){return this.pluralStack=[],this.currentPlural=null,this.pluralNumberFormat=null,this.compileMessage(t)},r.prototype.compileMessage=function(t){if(!t||"messageFormatPattern"!==t.type)throw new Error('Message AST is not of type: "messageFormatPattern"');var e,n,r,i=t.elements,o=[];for(e=0,n=i.length;e<n;e+=1)switch(r=i[e],r.type){case"messageTextElement":o.push(this.compileMessageText(r));break;case"argumentElement":o.push(this.compileArgument(r));break;default:throw new Error("Message element does not have a valid type")}return o},r.prototype.compileMessageText=function(t){return this.currentPlural&&/(^|[^\\])#/g.test(t.value)?(this.pluralNumberFormat||(this.pluralNumberFormat=new Intl.NumberFormat(this.locales)),new a(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,t.value)):t.value.replace(/\\#/g,"#")},r.prototype.compileArgument=function(t){var e=t.format;if(!e)return new i(t.id);var n,r=this.formats,a=this.locales,l=this.pluralFn;switch(e.type){case"numberFormat":return n=r.number[e.style],{id:t.id,format:new Intl.NumberFormat(a,n).format};case"dateFormat":return n=r.date[e.style],{id:t.id,format:new Intl.DateTimeFormat(a,n).format};case"timeFormat":return n=r.time[e.style],{id:t.id,format:new Intl.DateTimeFormat(a,n).format};case"pluralFormat":return n=this.compileOptions(t),new o(t.id,e.ordinal,e.offset,n,l);case"selectFormat":return n=this.compileOptions(t),new s(t.id,n);default:throw new Error("Message element does not have a valid format type")}},r.prototype.compileOptions=function(t){var e=t.format,n=e.options,r={};this.pluralStack.push(this.currentPlural),this.currentPlural="pluralFormat"===e.type?t:null;var i,o,a;for(i=0,o=n.length;i<o;i+=1)a=n[i],r[a.selector]=this.compileMessage(a.value);return this.currentPlural=this.pluralStack.pop(),r},i.prototype.format=function(t){return t||"number"==typeof t?"string"==typeof t?t:String(t):""},o.prototype.getOption=function(t){var e=this.options;return e["="+t]||e[this.pluralFn(t-this.offset,this.useOrdinal)]||e.other},a.prototype.format=function(t){var e=this.numberFormat.format(t-this.offset);return this.string.replace(/(^|[^\\])#/g,"$1"+e).replace(/\\#/g,"#")},s.prototype.getOption=function(t){var e=this.options;return e[t]||e.other}},function(t,e,n){"use strict";e=t.exports=n(1115).default,e.default=e},function(t,e,n){"use strict";e.default=function(){function t(e,n,r,i){this.message=e,this.expected=n,this.found=r,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}function e(e){function n(){return i(Xt,Yt)}function r(t){var n,r,i=Zt[t];if(i)return i;for(n=t-1;!Zt[n];)n--;for(i=Zt[n],i={line:i.line,column:i.column,seenCR:i.seenCR};n<t;)r=e.charAt(n),"\n"===r?(i.seenCR||i.line++,i.column=1,i.seenCR=!1):"\r"===r||"\u2028"===r||"\u2029"===r?(i.line++,i.column=1,i.seenCR=!0):(i.column++,i.seenCR=!1),n++;return Zt[t]=i,i}function i(t,e){var n=r(t),i=r(e);return{start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:i.line,column:i.column}}}function o(t){Yt<Kt||(Yt>Kt&&(Kt=Yt,Qt=[]),Qt.push(t))}function a(e,n,r,i){return null!==n&&function(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}(n),new t(null!==e?e:function(t,e){var n,r,i,o=new Array(t.length);for(i=0;i<t.length;i++)o[i]=t[i].description;return n=t.length>1?o.slice(0,-1).join(", ")+" or "+o[t.length-1]:o[0],r=e?'"'+function(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0100-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1000-\uFFFF]/g,function(t){return"\\u"+e(t)})}(e)+'"':"end of input","Expected "+n+" but "+r+" found."}(n,r),n,r,i)}function s(){return l()}function l(){var t,e,n;for(t=Yt,e=[],n=u();n!==P;)e.push(n),n=u();return e!==P&&(Xt=t,e=k(e)),t=e}function u(){var t;return t=f(),t===P&&(t=d()),t}function c(){var t,n,r,i,o,a;if(t=Yt,n=[],r=Yt,i=M(),i!==P?(o=A(),o!==P?(a=M(),a!==P?(i=[i,o,a],r=i):(Yt=r,r=P)):(Yt=r,r=P)):(Yt=r,r=P),r!==P)for(;r!==P;)n.push(r),r=Yt,i=M(),i!==P?(o=A(),o!==P?(a=M(),a!==P?(i=[i,o,a],r=i):(Yt=r,r=P)):(Yt=r,r=P)):(Yt=r,r=P);else n=P;return n!==P&&(Xt=t,n=D(n)),t=n,t===P&&(t=Yt,n=E(),t=n!==P?e.substring(t,Yt):n),t}function f(){var t,e;return t=Yt,e=c(),e!==P&&(Xt=t,e=F(e)),t=e}function h(){var t,n,r;if((t=C())===P){if(t=Yt,n=[],j.test(e.charAt(Yt))?(r=e.charAt(Yt),Yt++):(r=P,0===Jt&&o(U)),r!==P)for(;r!==P;)n.push(r),j.test(e.charAt(Yt))?(r=e.charAt(Yt),Yt++):(r=P,0===Jt&&o(U));else n=P;t=n!==P?e.substring(t,Yt):n}return t}function d(){var t,n,r,i,a,s,l,u,c;return t=Yt,123===e.charCodeAt(Yt)?(n=z,Yt++):(n=P,0===Jt&&o(B)),n!==P?(r=M(),r!==P?(i=h(),i!==P?(a=M(),a!==P?(s=Yt,44===e.charCodeAt(Yt)?(l=V,Yt++):(l=P,0===Jt&&o(G)),l!==P?(u=M(),u!==P?(c=p(),c!==P?(l=[l,u,c],s=l):(Yt=s,s=P)):(Yt=s,s=P)):(Yt=s,s=P),s===P&&(s=null),s!==P?(l=M(),l!==P?(125===e.charCodeAt(Yt)?(u=H,Yt++):(u=P,0===Jt&&o(q)),u!==P?(Xt=t,n=W(i,s),t=n):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P),t}function p(){var t;return t=m(),t===P&&(t=g())===P&&(t=v())===P&&(t=y()),t}function m(){var t,n,r,i,a,s,l;return t=Yt,e.substr(Yt,6)===Y?(n=Y,Yt+=6):(n=P,0===Jt&&o(X)),n===P&&(e.substr(Yt,4)===Z?(n=Z,Yt+=4):(n=P,0===Jt&&o(K)),n===P&&(e.substr(Yt,4)===Q?(n=Q,Yt+=4):(n=P,0===Jt&&o(J)))),n!==P?(r=M(),r!==P?(i=Yt,44===e.charCodeAt(Yt)?(a=V,Yt++):(a=P,0===Jt&&o(G)),a!==P?(s=M(),s!==P?(l=A(),l!==P?(a=[a,s,l],i=a):(Yt=i,i=P)):(Yt=i,i=P)):(Yt=i,i=P),i===P&&(i=null),i!==P?(Xt=t,n=$(n,i),t=n):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P),t}function g(){var t,n,r,i,a,s;return t=Yt,e.substr(Yt,6)===tt?(n=tt,Yt+=6):(n=P,0===Jt&&o(et)),n!==P?(r=M(),r!==P?(44===e.charCodeAt(Yt)?(i=V,Yt++):(i=P,0===Jt&&o(G)),i!==P?(a=M(),a!==P?(s=x(),s!==P?(Xt=t,n=nt(s),t=n):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P),t}function v(){var t,n,r,i,a,s;return t=Yt,e.substr(Yt,13)===rt?(n=rt,Yt+=13):(n=P,0===Jt&&o(it)),n!==P?(r=M(),r!==P?(44===e.charCodeAt(Yt)?(i=V,Yt++):(i=P,0===Jt&&o(G)),i!==P?(a=M(),a!==P?(s=x(),s!==P?(Xt=t,n=ot(s),t=n):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P),t}function y(){var t,n,r,i,a;if(t=Yt,e.substr(Yt,6)===at?(n=at,Yt+=6):(n=P,0===Jt&&o(st)),n!==P)if(M()!==P)if(44===e.charCodeAt(Yt)?(r=V,Yt++):(r=P,0===Jt&&o(G)),r!==P)if(M()!==P){if(i=[],(a=_())!==P)for(;a!==P;)i.push(a),a=_();else i=P;i!==P?(Xt=t,n=lt(i),t=n):(Yt=t,t=P)}else Yt=t,t=P;else Yt=t,t=P;else Yt=t,t=P;else Yt=t,t=P;return t}function b(){var t,n,r,i;return t=Yt,n=Yt,61===e.charCodeAt(Yt)?(r=ut,Yt++):(r=P,0===Jt&&o(ct)),r!==P?(i=C(),i!==P?(r=[r,i],n=r):(Yt=n,n=P)):(Yt=n,n=P),t=n!==P?e.substring(t,Yt):n,t===P&&(t=A()),t}function _(){var t,n,r,i,a,s,u,c,f;return t=Yt,n=M(),n!==P?(r=b(),r!==P?(i=M(),i!==P?(123===e.charCodeAt(Yt)?(a=z,Yt++):(a=P,0===Jt&&o(B)),a!==P?(s=M(),s!==P?(u=l(),u!==P?(c=M(),c!==P?(125===e.charCodeAt(Yt)?(f=H,Yt++):(f=P,0===Jt&&o(q)),f!==P?(Xt=t,n=ft(r,u),t=n):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P),t}function w(){var t,n,r,i;return t=Yt,e.substr(Yt,7)===ht?(n=ht,Yt+=7):(n=P,0===Jt&&o(dt)),n!==P?(r=M(),r!==P?(i=C(),i!==P?(Xt=t,n=pt(i),t=n):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P),t}function x(){var t,e,n,r;if(t=Yt,e=w(),e===P&&(e=null),e!==P)if(M()!==P){if(n=[],(r=_())!==P)for(;r!==P;)n.push(r),r=_();else n=P;n!==P?(Xt=t,e=mt(e,n),t=e):(Yt=t,t=P)}else Yt=t,t=P;else Yt=t,t=P;return t}function E(){var t,n;if(Jt++,t=[],vt.test(e.charAt(Yt))?(n=e.charAt(Yt),Yt++):(n=P,0===Jt&&o(yt)),n!==P)for(;n!==P;)t.push(n),vt.test(e.charAt(Yt))?(n=e.charAt(Yt),Yt++):(n=P,0===Jt&&o(yt));else t=P;return Jt--,t===P&&(n=P,0===Jt&&o(gt)),t}function M(){var t,n,r;for(Jt++,t=Yt,n=[],r=E();r!==P;)n.push(r),r=E();return t=n!==P?e.substring(t,Yt):n,Jt--,t===P&&(n=P,0===Jt&&o(bt)),t}function S(){var t;return _t.test(e.charAt(Yt))?(t=e.charAt(Yt),Yt++):(t=P,0===Jt&&o(wt)),t}function T(){var t;return xt.test(e.charAt(Yt))?(t=e.charAt(Yt),Yt++):(t=P,0===Jt&&o(Et)),t}function C(){var t,n,r,i,a,s;if(t=Yt,48===e.charCodeAt(Yt)?(n=Mt,Yt++):(n=P,0===Jt&&o(St)),n===P){if(n=Yt,r=Yt,Tt.test(e.charAt(Yt))?(i=e.charAt(Yt),Yt++):(i=P,0===Jt&&o(Ct)),i!==P){for(a=[],s=S();s!==P;)a.push(s),s=S();a!==P?(i=[i,a],r=i):(Yt=r,r=P)}else Yt=r,r=P;n=r!==P?e.substring(n,Yt):r}return n!==P&&(Xt=t,n=Ot(n)),t=n}function O(){var t,n,r,i,a,s,l,u;return At.test(e.charAt(Yt))?(t=e.charAt(Yt),Yt++):(t=P,0===Jt&&o(It)),t===P&&(t=Yt,e.substr(Yt,2)===Rt?(n=Rt,Yt+=2):(n=P,0===Jt&&o(Pt)),n!==P&&(Xt=t,n=Lt()),(t=n)===P&&(t=Yt,e.substr(Yt,2)===Nt?(n=Nt,Yt+=2):(n=P,0===Jt&&o(kt)),n!==P&&(Xt=t,n=Dt()),(t=n)===P&&(t=Yt,e.substr(Yt,2)===Ft?(n=Ft,Yt+=2):(n=P,0===Jt&&o(jt)),n!==P&&(Xt=t,n=Ut()),(t=n)===P&&(t=Yt,e.substr(Yt,2)===zt?(n=zt,Yt+=2):(n=P,0===Jt&&o(Bt)),n!==P&&(Xt=t,n=Vt()),(t=n)===P&&(t=Yt,e.substr(Yt,2)===Gt?(n=Gt,Yt+=2):(n=P,0===Jt&&o(Ht)),n!==P?(r=Yt,i=Yt,a=T(),a!==P?(s=T(),s!==P?(l=T(),l!==P?(u=T(),u!==P?(a=[a,s,l,u],i=a):(Yt=i,i=P)):(Yt=i,i=P)):(Yt=i,i=P)):(Yt=i,i=P),r=i!==P?e.substring(r,Yt):i,r!==P?(Xt=t,n=qt(r),t=n):(Yt=t,t=P)):(Yt=t,t=P)))))),t}function A(){var t,e,n;if(t=Yt,e=[],(n=O())!==P)for(;n!==P;)e.push(n),n=O();else e=P;return e!==P&&(Xt=t,e=Wt(e)),t=e}var I,R=arguments.length>1?arguments[1]:{},P={},L={start:s},N=s,k=function(t){return{type:"messageFormatPattern",elements:t,location:n()}},D=function(t){var e,n,r,i,o,a="";for(e=0,r=t.length;e<r;e+=1)for(i=t[e],n=0,o=i.length;n<o;n+=1)a+=i[n];return a},F=function(t){return{type:"messageTextElement",value:t,location:n()}},j=/^[^ \t\n\r,.+={}#]/,U={type:"class",value:"[^ \\t\\n\\r,.+={}#]",description:"[^ \\t\\n\\r,.+={}#]"},z="{",B={type:"literal",value:"{",description:'"{"'},V=",",G={type:"literal",value:",",description:'","'},H="}",q={type:"literal",value:"}",description:'"}"'},W=function(t,e){return{type:"argumentElement",id:t,format:e&&e[2],location:n()}},Y="number",X={type:"literal",value:"number",description:'"number"'},Z="date",K={type:"literal",value:"date",description:'"date"'},Q="time",J={type:"literal",value:"time",description:'"time"'},$=function(t,e){return{type:t+"Format",style:e&&e[2],location:n()}},tt="plural",et={type:"literal",value:"plural",description:'"plural"'},nt=function(t){return{type:t.type,ordinal:!1,offset:t.offset||0,options:t.options,location:n()}},rt="selectordinal",it={type:"literal",value:"selectordinal",description:'"selectordinal"'},ot=function(t){return{type:t.type,ordinal:!0,offset:t.offset||0,options:t.options,location:n()}},at="select",st={type:"literal",value:"select",description:'"select"'},lt=function(t){return{type:"selectFormat",options:t,location:n()}},ut="=",ct={type:"literal",value:"=",description:'"="'},ft=function(t,e){return{type:"optionalFormatPattern",selector:t,value:e,location:n()}},ht="offset:",dt={type:"literal",value:"offset:",description:'"offset:"'},pt=function(t){return t},mt=function(t,e){return{type:"pluralFormat",offset:t,options:e,location:n()}},gt={type:"other",description:"whitespace"},vt=/^[ \t\n\r]/,yt={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},bt={type:"other",description:"optionalWhitespace"},_t=/^[0-9]/,wt={type:"class",value:"[0-9]",description:"[0-9]"},xt=/^[0-9a-f]/i,Et={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},Mt="0",St={type:"literal",value:"0",description:'"0"'},Tt=/^[1-9]/,Ct={type:"class",value:"[1-9]",description:"[1-9]"},Ot=function(t){return parseInt(t,10)},At=/^[^{}\\\0-\x1F \t\n\r]/,It={type:"class",value:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]",description:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]"},Rt="\\\\",Pt={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},Lt=function(){return"\\"},Nt="\\#",kt={type:"literal",value:"\\#",description:'"\\\\#"'},Dt=function(){return"\\#"},Ft="\\{",jt={type:"literal",value:"\\{",description:'"\\\\{"'},Ut=function(){return"{"},zt="\\}",Bt={type:"literal",value:"\\}",description:'"\\\\}"'},Vt=function(){return"}"},Gt="\\u",Ht={type:"literal",value:"\\u",description:'"\\\\u"'},qt=function(t){return String.fromCharCode(parseInt(t,16))},Wt=function(t){return t.join("")},Yt=0,Xt=0,Zt=[{line:1,column:1,seenCR:!1}],Kt=0,Qt=[],Jt=0;if("startRule"in R){if(!(R.startRule in L))throw new Error("Can't start parsing from rule \""+R.startRule+'".');N=L[R.startRule]}if((I=N())!==P&&Yt===e.length)return I;throw I!==P&&Yt<e.length&&o({type:"end",description:"end of input"}),a(null,Qt,Kt<e.length?e.charAt(Kt):null,Kt<e.length?i(Kt,Kt+1):i(Kt,Kt))}return function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(t,Error),{SyntaxError:t,parse:e}}()},function(t,e,n){"use strict";e.default={locale:"en",pluralRuleFunction:function(t,e){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t,o=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return e?1==o&&11!=a?"one":2==o&&12!=a?"two":3==o&&13!=a?"few":"other":1==t&&r?"one":"other"}}},function(t,e){},function(t,e,n){"use strict";var r=n(1119).default;n(1124),e=t.exports=r,e.default=e},function(t,e,n){"use strict";var r=n(1120),i=n(1123);r.default.__addLocaleData(i.default),r.default.defaultLocale="en",e.default=r.default},function(t,e,n){"use strict";function r(t,e){e=e||{},a.isArray(t)&&(t=t.concat()),a.defineProperty(this,"_locale",{value:this._resolveLocale(t)}),a.defineProperty(this,"_options",{value:{style:this._resolveStyle(e.style),units:this._isValidUnits(e.units)&&e.units}}),a.defineProperty(this,"_locales",{value:t}),a.defineProperty(this,"_fields",{value:this._findFields(this._locale)}),a.defineProperty(this,"_messages",{value:a.objCreate(null)});var n=this;this.format=function(t,e){return n._format(t,e)}}var i=n(505),o=n(1121),a=n(1122);e.default=r;var s=["second","second-short","minute","minute-short","hour","hour-short","day","day-short","month","month-short","year","year-short"],l=["best fit","numeric"];a.defineProperty(r,"__localeData__",{value:a.objCreate(null)}),a.defineProperty(r,"__addLocaleData",{value:function(t){if(!t||!t.locale)throw new Error("Locale data provided to IntlRelativeFormat is missing a `locale` property value");r.__localeData__[t.locale.toLowerCase()]=t,i.default.__addLocaleData(t)}}),a.defineProperty(r,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),a.defineProperty(r,"thresholds",{enumerable:!0,value:{second:45,"second-short":45,minute:45,"minute-short":45,hour:22,"hour-short":22,day:26,"day-short":26,month:11,"month-short":11}}),r.prototype.resolvedOptions=function(){return{locale:this._locale,style:this._options.style,units:this._options.units}},r.prototype._compileMessage=function(t){var e,n=this._locales,r=(this._locale,this._fields[t]),o=r.relativeTime,a="",s="";for(e in o.future)o.future.hasOwnProperty(e)&&(a+=" "+e+" {"+o.future[e].replace("{0}","#")+"}");for(e in o.past)o.past.hasOwnProperty(e)&&(s+=" "+e+" {"+o.past[e].replace("{0}","#")+"}");var l="{when, select, future {{0, plural, "+a+"}}past {{0, plural, "+s+"}}}";return new i.default(l,n)},r.prototype._getMessage=function(t){var e=this._messages;return e[t]||(e[t]=this._compileMessage(t)),e[t]},r.prototype._getRelativeUnits=function(t,e){var n=this._fields[e];if(n.relative)return n.relative[t]},r.prototype._findFields=function(t){for(var e=r.__localeData__,n=e[t.toLowerCase()];n;){if(n.fields)return n.fields;n=n.parentLocale&&e[n.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlRelativeFormat is missing `fields` for :"+t)},r.prototype._format=function(t,e){var n=e&&void 0!==e.now?e.now:a.dateNow();if(void 0===t&&(t=n),!isFinite(n))throw new RangeError("The `now` option provided to IntlRelativeFormat#format() is not in valid range.");if(!isFinite(t))throw new RangeError("The date value provided to IntlRelativeFormat#format() is not in valid range.");var r=o.default(n,t),i=this._options.units||this._selectUnits(r),s=r[i];if("numeric"!==this._options.style){var l=this._getRelativeUnits(s,i);if(l)return l}return this._getMessage(i).format({0:Math.abs(s),when:s<0?"past":"future"})},r.prototype._isValidUnits=function(t){if(!t||a.arrIndexOf.call(s,t)>=0)return!0;if("string"==typeof t){var e=/s$/.test(t)&&t.substr(0,t.length-1);if(e&&a.arrIndexOf.call(s,e)>=0)throw new Error('"'+t+'" is not a valid IntlRelativeFormat `units` value, did you mean: '+e)}throw new Error('"'+t+'" is not a valid IntlRelativeFormat `units` value, it must be one of: "'+s.join('", "')+'"')},r.prototype._resolveLocale=function(t){"string"==typeof t&&(t=[t]),t=(t||[]).concat(r.defaultLocale);var e,n,i,o,a=r.__localeData__;for(e=0,n=t.length;e<n;e+=1)for(i=t[e].toLowerCase().split("-");i.length;){if(o=a[i.join("-")])return o.locale;i.pop()}var s=t.pop();throw new Error("No locale data has been added to IntlRelativeFormat for: "+t.join(", ")+", or the default locale: "+s)},r.prototype._resolveStyle=function(t){if(!t)return l[0];if(a.arrIndexOf.call(l,t)>=0)return t;throw new Error('"'+t+'" is not a valid IntlRelativeFormat `style` value, it must be one of: "'+l.join('", "')+'"')},r.prototype._selectUnits=function(t){var e,n,i,o=s.filter(function(t){return t.indexOf("-short")<1});for(e=0,n=o.length;e<n&&(i=o[e],!(Math.abs(t[i])<r.thresholds[i]));e+=1);return i}},function(t,e,n){"use strict";function r(t){return 400*t/146097}var i=Math.round;e.default=function(t,e){t=+t,e=+e;var n=i(e-t),o=i(n/1e3),a=i(o/60),s=i(a/60),l=i(s/24),u=i(l/7),c=r(l),f=i(12*c),h=i(c);return{millisecond:n,second:o,"second-short":o,minute:a,"minute-short":a,hour:s,"hour-short":s,day:l,"day-short":l,week:u,"week-short":u,month:f,"month-short":f,year:h,"year-short":h}}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=function(){try{return!!Object.defineProperty({},"a",{})}catch(t){return!1}}(),a=(!o&&Object.prototype.__defineGetter__,o?Object.defineProperty:function(t,e,n){"get"in n&&t.__defineGetter__?t.__defineGetter__(e,n.get):(!r.call(t,e)||"value"in n)&&(t[e]=n.value)}),s=Object.create||function(t,e){function n(){}var i,o;n.prototype=t,i=new n;for(o in e)r.call(e,o)&&a(i,o,e[o]);return i},l=Array.prototype.indexOf||function(t,e){var n=this;if(!n.length)return-1;for(var r=e||0,i=n.length;r<i;r++)if(n[r]===t)return r;return-1},u=Array.isArray||function(t){return"[object Array]"===i.call(t)},c=Date.now||function(){return(new Date).getTime()};e.defineProperty=a,e.objCreate=s,e.arrIndexOf=l,e.isArray=u,e.dateNow=c},function(t,e,n){"use strict";e.default={locale:"en",pluralRuleFunction:function(t,e){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t,o=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return e?1==o&&11!=a?"one":2==o&&12!=a?"two":3==o&&13!=a?"few":"other":1==t&&r?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},"year-short":{displayName:"yr.",relative:{0:"this yr.",1:"next yr.","-1":"last yr."},relativeTime:{future:{one:"in {0} yr.",other:"in {0} yr."},past:{one:"{0} yr. ago",other:"{0} yr. ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},"month-short":{displayName:"mo.",relative:{0:"this mo.",1:"next mo.","-1":"last mo."},relativeTime:{future:{one:"in {0} mo.",other:"in {0} mo."},past:{one:"{0} mo. ago",other:"{0} mo. ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},"day-short":{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},"hour-short":{displayName:"hr.",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hr.",other:"in {0} hr."},past:{one:"{0} hr. ago",other:"{0} hr. ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},"minute-short":{displayName:"min.",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} min.",other:"in {0} min."},past:{one:"{0} min. ago",other:"{0} min. ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}},"second-short":{displayName:"sec.",relative:{0:"now"},relativeTime:{future:{one:"in {0} sec.",other:"in {0} sec."},past:{one:"{0} sec. ago",other:"{0} sec. ago"}}}}}},function(t,e){},function(t,e,n){"use strict";var r=n(1126),i=n(1127),o=n(1128);t.exports=function(){function t(t,e,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e,n){"use strict";function r(t){return function(){return t}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e,n){"use strict";function r(t,e,n,r,o,a,s,l){if(i(e),!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,s,l],f=0;u=new Error(e.replace(/%s/g,function(){return c[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var i=function(t){};t.exports=r},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";e=t.exports=n(1130).default,e.default=e},function(t,e,n){"use strict";function r(t){var e=a.objCreate(null);return function(){var n=Array.prototype.slice.call(arguments),r=i(n),o=r&&e[r];return o||(o=new(a.bind.apply(t,[null].concat(n))),r&&(e[r]=o)),o}}function i(t){if("undefined"!=typeof JSON){var e,n,r,i=[];for(e=0,n=t.length;e<n;e+=1)r=t[e],r&&"object"==typeof r?i.push(o(r)):i.push(r);return JSON.stringify(i)}}function o(t){var e,n,r,i,o=[],a=[];for(e in t)t.hasOwnProperty(e)&&a.push(e);var s=a.sort();for(n=0,r=s.length;n<r;n+=1)e=s[n],i={},i[e]=t[e],o[n]=i;return o}var a=n(1131);e.default=r},function(t,e,n){"use strict";var r=Function.prototype.bind||function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r?this:t,e.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(r.prototype=this.prototype),i.prototype=new r,i},i=Object.prototype.hasOwnProperty,o=function(){try{return!!Object.defineProperty({},"a",{})}catch(t){return!1}}(),a=(!o&&Object.prototype.__defineGetter__,o?Object.defineProperty:function(t,e,n){"get"in n&&t.__defineGetter__?t.__defineGetter__(e,n.get):(!i.call(t,e)||"value"in n)&&(t[e]=n.value)}),s=Object.create||function(t,e){function n(){}var r,o;n.prototype=t,r=new n;for(o in e)i.call(e,o)&&a(r,o,e[o]);return r};e.bind=r,e.defineProperty=a,e.objCreate=s},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";return[{locale:"de",pluralRuleFunction:function(t,e){var n=!String(t).split(".")[1];return e?"other":1==t&&n?"one":"other"},fields:{year:{displayName:"Jahr",relative:{0:"dieses Jahr",1:"nÃ¤chstes Jahr","-1":"letztes Jahr"},relativeTime:{future:{one:"in {0} Jahr",other:"in {0} Jahren"},past:{one:"vor {0} Jahr",other:"vor {0} Jahren"}}},month:{displayName:"Monat",relative:{0:"diesen Monat",1:"nÃ¤chsten Monat","-1":"letzten Monat"},relativeTime:{future:{one:"in {0} Monat",other:"in {0} Monaten"},past:{one:"vor {0} Monat",other:"vor {0} Monaten"}}},day:{displayName:"Tag",relative:{0:"heute",1:"morgen",2:"Ã¼bermorgen","-2":"vorgestern","-1":"gestern"},relativeTime:{future:{one:"in {0} Tag",other:"in {0} Tagen"},past:{one:"vor {0} Tag",other:"vor {0} Tagen"}}},hour:{displayName:"Stunde",relative:{0:"in dieser Stunde"},relativeTime:{future:{one:"in {0} Stunde",other:"in {0} Stunden"},past:{one:"vor {0} Stunde",other:"vor {0} Stunden"}}},minute:{displayName:"Minute",relative:{0:"in dieser Minute"},relativeTime:{future:{one:"in {0} Minute",other:"in {0} Minuten"},past:{one:"vor {0} Minute",other:"vor {0} Minuten"}}},second:{displayName:"Sekunde",relative:{0:"jetzt"},relativeTime:{future:{one:"in {0} Sekunde",other:"in {0} Sekunden"},past:{one:"vor {0} Sekunde",other:"vor {0} Sekunden"}}}}},{locale:"de-AT",parentLocale:"de"},{locale:"de-BE",parentLocale:"de"},{locale:"de-CH",parentLocale:"de"},{locale:"de-IT",parentLocale:"de"},{locale:"de-LI",parentLocale:"de"},{locale:"de-LU",parentLocale:"de"}]})},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";return[{locale:"en",pluralRuleFunction:function(t,e){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t,o=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return e?1==o&&11!=a?"one":2==o&&12!=a?"two":3==o&&13!=a?"few":"other":1==t&&r?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}}}},{locale:"en-001",parentLocale:"en"},{locale:"en-150",parentLocale:"en-001"},{locale:"en-AG",parentLocale:"en-001"},{locale:"en-AI",parentLocale:"en-001"},{locale:"en-AS",parentLocale:"en"},{locale:"en-AT",parentLocale:"en-150"},{locale:"en-AU",parentLocale:"en-001"},{locale:"en-BB",parentLocale:"en-001"},{locale:"en-BE",parentLocale:"en-001"},{locale:"en-BI",parentLocale:"en"},{locale:"en-BM",parentLocale:"en-001"},{locale:"en-BS",parentLocale:"en-001"},{locale:"en-BW",parentLocale:"en-001"},{locale:"en-BZ",parentLocale:"en-001"},{locale:"en-CA",parentLocale:"en-001"},{locale:"en-CC",parentLocale:"en-001"},{locale:"en-CH",parentLocale:"en-150"},{locale:"en-CK",parentLocale:"en-001"},{locale:"en-CM",parentLocale:"en-001"},{locale:"en-CX",parentLocale:"en-001"},{locale:"en-CY",parentLocale:"en-001"},{locale:"en-DE",parentLocale:"en-150"},{locale:"en-DG",parentLocale:"en-001"},{locale:"en-DK",parentLocale:"en-150"},{locale:"en-DM",parentLocale:"en-001"},{locale:"en-Dsrt",pluralRuleFunction:function(t,e){return"other"},fields:{year:{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{other:"+{0} y"},past:{other:"-{0} y"}}},month:{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{other:"+{0} m"},past:{other:"-{0} m"}}},day:{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{other:"+{0} d"},past:{other:"-{0} d"}}},hour:{displayName:"Hour",relative:{0:"this hour"},relativeTime:{future:{other:"+{0} h"},past:{other:"-{0} h"}}},minute:{displayName:"Minute",relative:{0:"this minute"},relativeTime:{future:{other:"+{0} min"},past:{other:"-{0} min"}}},second:{displayName:"Second",relative:{0:"now"},relativeTime:{future:{other:"+{0} s"},past:{other:"-{0} s"}}}}},{locale:"en-ER",parentLocale:"en-001"},{locale:"en-FI",parentLocale:"en-150"},{locale:"en-FJ",parentLocale:"en-001"},{locale:"en-FK",parentLocale:"en-001"},{locale:"en-FM",parentLocale:"en-001"},{locale:"en-GB",parentLocale:"en-001"},{locale:"en-GD",parentLocale:"en-001"},{locale:"en-GG",parentLocale:"en-001"},{locale:"en-GH",parentLocale:"en-001"},{locale:"en-GI",parentLocale:"en-001"},{locale:"en-GM",parentLocale:"en-001"},{locale:"en-GU",parentLocale:"en"},{locale:"en-GY",parentLocale:"en-001"},{locale:"en-HK",parentLocale:"en-001"},{locale:"en-IE",parentLocale:"en-001"},{locale:"en-IL",parentLocale:"en-001"},{locale:"en-IM",parentLocale:"en-001"},{locale:"en-IN",parentLocale:"en-001"},{locale:"en-IO",parentLocale:"en-001"},{locale:"en-JE",parentLocale:"en-001"},{locale:"en-JM",parentLocale:"en-001"},{locale:"en-KE",parentLocale:"en-001"},{locale:"en-KI",parentLocale:"en-001"},{locale:"en-KN",parentLocale:"en-001"},{locale:"en-KY",parentLocale:"en-001"},{locale:"en-LC",parentLocale:"en-001"},{locale:"en-LR",parentLocale:"en-001"},{locale:"en-LS",parentLocale:"en-001"},{locale:"en-MG",parentLocale:"en-001"},{locale:"en-MH",parentLocale:"en"},{locale:"en-MO",parentLocale:"en-001"},{locale:"en-MP",parentLocale:"en"},{locale:"en-MS",parentLocale:"en-001"},{locale:"en-MT",parentLocale:"en-001"},{locale:"en-MU",parentLocale:"en-001"},{locale:"en-MW",parentLocale:"en-001"},{locale:"en-MY",parentLocale:"en-001"},{locale:"en-NA",parentLocale:"en-001"},{locale:"en-NF",parentLocale:"en-001"},{locale:"en-NG",parentLocale:"en-001"},{locale:"en-NL",parentLocale:"en-150"},{locale:"en-NR",parentLocale:"en-001"},{locale:"en-NU",parentLocale:"en-001"},{locale:"en-NZ",parentLocale:"en-001"},{locale:"en-PG",parentLocale:"en-001"},{locale:"en-PH",parentLocale:"en-001"},{locale:"en-PK",parentLocale:"en-001"},{locale:"en-PN",parentLocale:"en-001"},{locale:"en-PR",parentLocale:"en"},{locale:"en-PW",parentLocale:"en-001"},{locale:"en-RW",parentLocale:"en-001"},{locale:"en-SB",parentLocale:"en-001"},{locale:"en-SC",parentLocale:"en-001"},{locale:"en-SD",parentLocale:"en-001"},{locale:"en-SE",parentLocale:"en-150"},{locale:"en-SG",parentLocale:"en-001"},{locale:"en-SH",parentLocale:"en-001"},{locale:"en-SI",parentLocale:"en-150"},{locale:"en-SL",parentLocale:"en-001"},{locale:"en-SS",parentLocale:"en-001"},{locale:"en-SX",parentLocale:"en-001"},{locale:"en-SZ",parentLocale:"en-001"},{locale:"en-Shaw",pluralRuleFunction:function(t,e){return"other"},fields:{year:{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{other:"+{0} y"},past:{other:"-{0} y"}}},month:{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{other:"+{0} m"},past:{other:"-{0} m"}}},day:{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{other:"+{0} d"},past:{other:"-{0} d"}}},hour:{displayName:"Hour",relative:{0:"this hour"},relativeTime:{future:{other:"+{0} h"},past:{other:"-{0} h"}}},minute:{displayName:"Minute",relative:{0:"this minute"},relativeTime:{future:{other:"+{0} min"},past:{other:"-{0} min"}}},second:{displayName:"Second",relative:{0:"now"},relativeTime:{future:{other:"+{0} s"},past:{other:"-{0} s"}}}}},{locale:"en-TC",parentLocale:"en-001"},{locale:"en-TK",parentLocale:"en-001"},{locale:"en-TO",parentLocale:"en-001"},{locale:"en-TT",parentLocale:"en-001"},{locale:"en-TV",parentLocale:"en-001"},{locale:"en-TZ",parentLocale:"en-001"},{locale:"en-UG",parentLocale:"en-001"},{locale:"en-UM",parentLocale:"en"},{locale:"en-US",parentLocale:"en"},{locale:"en-VC",parentLocale:"en-001"},{locale:"en-VG",parentLocale:"en-001"},{locale:"en-VI",parentLocale:"en"},{locale:"en-VU",parentLocale:"en-001"},{locale:"en-WS",parentLocale:"en-001"},{locale:"en-ZA",parentLocale:"en-001"},{locale:"en-ZM",parentLocale:"en-001"},{locale:"en-ZW",parentLocale:"en-001"}]})},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";return[{locale:"fi",pluralRuleFunction:function(t,e){var n=!String(t).split(".")[1];return e?"other":1==t&&n?"one":"other"},fields:{year:{displayName:"vuosi",relative:{0:"tÃ¤nÃ¤ vuonna",1:"ensi vuonna","-1":"viime vuonna"},relativeTime:{future:{one:"{0} vuoden pÃ¤Ã¤stÃ¤",other:"{0} vuoden pÃ¤Ã¤stÃ¤"},past:{one:"{0} vuosi sitten",other:"{0} vuotta sitten"}}},month:{displayName:"kuukausi",relative:{0:"tÃ¤ssÃ¤ kuussa",1:"ensi kuussa","-1":"viime kuussa"},relativeTime:{future:{one:"{0} kuukauden pÃ¤Ã¤stÃ¤",other:"{0} kuukauden pÃ¤Ã¤stÃ¤"},past:{one:"{0} kuukausi sitten",other:"{0} kuukautta sitten"}}},day:{displayName:"pÃ¤ivÃ¤",relative:{0:"tÃ¤nÃ¤Ã¤n",1:"huomenna",2:"ylihuomenna","-2":"toissa pÃ¤ivÃ¤nÃ¤","-1":"eilen"},relativeTime:{future:{one:"{0} pÃ¤ivÃ¤n pÃ¤Ã¤stÃ¤",other:"{0} pÃ¤ivÃ¤n pÃ¤Ã¤stÃ¤"},past:{one:"{0} pÃ¤ivÃ¤ sitten",other:"{0} pÃ¤ivÃ¤Ã¤ sitten"}}},hour:{displayName:"tunti",relative:{0:"tÃ¤mÃ¤n tunnin aikana"},relativeTime:{future:{one:"{0} tunnin pÃ¤Ã¤stÃ¤",other:"{0} tunnin pÃ¤Ã¤stÃ¤"},past:{one:"{0} tunti sitten",other:"{0} tuntia sitten"}}},minute:{displayName:"minuutti",relative:{0:"tÃ¤mÃ¤n minuutin aikana"},relativeTime:{future:{one:"{0} minuutin pÃ¤Ã¤stÃ¤",other:"{0} minuutin pÃ¤Ã¤stÃ¤"},past:{one:"{0} minuutti sitten",other:"{0} minuuttia sitten"}}},second:{displayName:"sekunti",relative:{0:"nyt"},relativeTime:{future:{one:"{0} sekunnin pÃ¤Ã¤stÃ¤",other:"{0} sekunnin pÃ¤Ã¤stÃ¤"},past:{one:"{0} sekunti sitten",other:"{0} sekuntia sitten"}}}}}]})},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";return[{locale:"fr",pluralRuleFunction:function(t,e){return e?1==t?"one":"other":t>=0&&t<2?"one":"other"},fields:{year:{displayName:"annÃ©e",relative:{0:"cette annÃ©e",1:"lâ€™annÃ©e prochaine","-1":"lâ€™annÃ©e derniÃ¨re"},relativeTime:{future:{one:"dans {0} an",other:"dans {0} ans"},past:{one:"il y a {0} an",other:"il y a {0} ans"}}},month:{displayName:"mois",relative:{0:"ce mois-ci",1:"le mois prochain","-1":"le mois dernier"},relativeTime:{future:{one:"dans {0} mois",other:"dans {0} mois"},past:{one:"il y a {0} mois",other:"il y a {0} mois"}}},day:{displayName:"jour",relative:{0:"aujourdâ€™hui",1:"demain",2:"aprÃ¨s-demain","-2":"avant-hier","-1":"hier"},relativeTime:{future:{one:"dans {0} jour",other:"dans {0} jours"},past:{one:"il y a {0} jour",other:"il y a {0} jours"}}},hour:{displayName:"heure",relative:{0:"cette heure-ci"},relativeTime:{future:{one:"dans {0} heure",other:"dans {0} heures"},past:{one:"il y a {0} heure",other:"il y a {0} heures"}}},minute:{displayName:"minute",relative:{0:"cette minute-ci"},relativeTime:{future:{one:"dans {0} minute",other:"dans {0} minutes"},past:{one:"il y a {0} minute",other:"il y a {0} minutes"}}},second:{displayName:"seconde",relative:{0:"maintenant"},relativeTime:{future:{one:"dans {0} seconde",other:"dans {0} secondes"},past:{one:"il y a {0} seconde",other:"il y a {0} secondes"}}}}},{locale:"fr-BE",parentLocale:"fr"},{locale:"fr-BF",parentLocale:"fr"},{locale:"fr-BI",parentLocale:"fr"},{locale:"fr-BJ",parentLocale:"fr"},{locale:"fr-BL",parentLocale:"fr"},{locale:"fr-CA",parentLocale:"fr",fields:{year:{displayName:"annÃ©e",relative:{0:"cette annÃ©e",1:"lâ€™annÃ©e prochaine","-1":"lâ€™annÃ©e derniÃ¨re"},relativeTime:{future:{one:"Dans {0}Â an",other:"Dans {0}Â ans"},past:{one:"Il y a {0}Â an",other:"Il y a {0}Â ans"}}},month:{displayName:"mois",relative:{0:"ce mois-ci",1:"le mois prochain","-1":"le mois dernier"},relativeTime:{future:{one:"dans {0} mois",other:"dans {0} mois"},past:{one:"il y a {0} mois",other:"il y a {0} mois"}}},day:{displayName:"jour",relative:{0:"aujourdâ€™hui",1:"demain",2:"aprÃ¨s-demain","-2":"avant-hier","-1":"hier"},relativeTime:{future:{one:"dans {0} jour",other:"dans {0} jours"},past:{one:"il y a {0} jour",other:"il y a {0} jours"}}},hour:{displayName:"heure",relative:{0:"cette heure-ci"},relativeTime:{future:{one:"dans {0} heure",other:"dans {0} heures"},past:{one:"il y a {0} heure",other:"il y a {0} heures"}}},minute:{displayName:"minute",relative:{0:"cette minute-ci"},relativeTime:{future:{one:"dans {0} minute",other:"dans {0} minutes"},past:{one:"il y a {0} minute",other:"il y a {0} minutes"}}},second:{displayName:"seconde",relative:{0:"maintenant"},relativeTime:{future:{one:"dans {0} seconde",other:"dans {0} secondes"},past:{one:"il y a {0} seconde",other:"il y a {0} secondes"}}}}},{locale:"fr-CD",parentLocale:"fr"},{locale:"fr-CF",parentLocale:"fr"},{locale:"fr-CG",parentLocale:"fr"},{locale:"fr-CH",parentLocale:"fr"},{locale:"fr-CI",parentLocale:"fr"},{locale:"fr-CM",parentLocale:"fr"},{locale:"fr-DJ",parentLocale:"fr"},{locale:"fr-DZ",parentLocale:"fr"},{locale:"fr-GA",parentLocale:"fr"},{locale:"fr-GF",parentLocale:"fr"},{locale:"fr-GN",parentLocale:"fr"},{locale:"fr-GP",parentLocale:"fr"},{locale:"fr-GQ",parentLocale:"fr"},{locale:"fr-HT",parentLocale:"fr"},{locale:"fr-KM",parentLocale:"fr"},{locale:"fr-LU",parentLocale:"fr"},{locale:"fr-MA",parentLocale:"fr"},{locale:"fr-MC",parentLocale:"fr"},{locale:"fr-MF",parentLocale:"fr"},{locale:"fr-MG",parentLocale:"fr"},{locale:"fr-ML",parentLocale:"fr"},{locale:"fr-MQ",parentLocale:"fr"},{locale:"fr-MR",parentLocale:"fr"},{locale:"fr-MU",parentLocale:"fr"},{locale:"fr-NC",parentLocale:"fr"},{locale:"fr-NE",parentLocale:"fr"},{locale:"fr-PF",parentLocale:"fr"},{locale:"fr-PM",parentLocale:"fr"},{locale:"fr-RE",parentLocale:"fr"},{locale:"fr-RW",parentLocale:"fr"},{locale:"fr-SC",parentLocale:"fr"},{locale:"fr-SN",parentLocale:"fr"},{locale:"fr-SY",parentLocale:"fr"},{locale:"fr-TD",parentLocale:"fr"},{locale:"fr-TG",parentLocale:"fr"},{locale:"fr-TN",parentLocale:"fr"},{locale:"fr-VU",parentLocale:"fr"},{locale:"fr-WF",parentLocale:"fr"},{locale:"fr-YT",parentLocale:"fr"}]})},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";return[{locale:"nl",pluralRuleFunction:function(t,e){var n=!String(t).split(".")[1];return e?"other":1==t&&n?"one":"other"},fields:{year:{displayName:"jaar",relative:{0:"dit jaar",1:"volgend jaar","-1":"vorig jaar"},relativeTime:{future:{one:"over {0} jaar",other:"over {0} jaar"},past:{one:"{0} jaar geleden",other:"{0} jaar geleden"}}},month:{displayName:"maand",relative:{0:"deze maand",1:"volgende maand","-1":"vorige maand"},relativeTime:{future:{one:"over {0} maand",other:"over {0} maanden"},past:{one:"{0} maand geleden",other:"{0} maanden geleden"}}},day:{displayName:"dag",relative:{0:"vandaag",1:"morgen",2:"overmorgen","-2":"eergisteren","-1":"gisteren"},relativeTime:{future:{one:"over {0} dag",other:"over {0} dagen"},past:{one:"{0} dag geleden",other:"{0} dagen geleden"}}},hour:{displayName:"uur",relative:{0:"binnen een uur"},relativeTime:{future:{one:"over {0} uur",other:"over {0} uur"},past:{one:"{0} uur geleden",other:"{0} uur geleden"}}},minute:{displayName:"minuut",relative:{0:"binnen een minuut"},relativeTime:{future:{one:"over {0} minuut",other:"over {0} minuten"},past:{one:"{0} minuut geleden",other:"{0} minuten geleden"}}},second:{displayName:"seconde",relative:{0:"nu"},relativeTime:{future:{one:"over {0} seconde",other:"over {0} seconden"},past:{one:"{0} seconde geleden",other:"{0} seconden geleden"}}}}},{locale:"nl-AW",parentLocale:"nl"},{locale:"nl-BE",parentLocale:"nl"},{locale:"nl-BQ",parentLocale:"nl"},{locale:"nl-CW",parentLocale:"nl"},{locale:"nl-SR",parentLocale:"nl"},{locale:"nl-SX",parentLocale:"nl"}]})},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";return[{locale:"pt",pluralRuleFunction:function(t,e){var n=String(t).split(".")[0];return e?"other":0==n||1==n?"one":"other"},fields:{year:{displayName:"ano",relative:{0:"este ano",1:"prÃ³ximo ano","-1":"ano passado"},relativeTime:{future:{one:"em {0} ano",other:"em {0} anos"},past:{one:"hÃ¡ {0} ano",other:"hÃ¡ {0} anos"}}},month:{displayName:"mÃªs",relative:{0:"este mÃªs",1:"prÃ³ximo mÃªs","-1":"mÃªs passado"},relativeTime:{future:{one:"em {0} mÃªs",other:"em {0} meses"},past:{one:"hÃ¡ {0} mÃªs",other:"hÃ¡ {0} meses"}}},day:{displayName:"dia",relative:{0:"hoje",1:"amanhÃ£",2:"depois de amanhÃ£","-2":"anteontem","-1":"ontem"},relativeTime:{future:{one:"em {0} dia",other:"em {0} dias"},past:{one:"hÃ¡ {0} dia",other:"hÃ¡ {0} dias"}}},hour:{displayName:"hora",relative:{0:"esta hora"},relativeTime:{future:{one:"em {0} hora",other:"em {0} horas"},past:{one:"hÃ¡ {0} hora",other:"hÃ¡ {0} horas"}}},minute:{displayName:"minuto",relative:{0:"este minuto"},relativeTime:{future:{one:"em {0} minuto",other:"em {0} minutos"},past:{one:"hÃ¡ {0} minuto",other:"hÃ¡ {0} minutos"}}},second:{displayName:"segundo",relative:{0:"agora"},relativeTime:{future:{one:"em {0} segundo",other:"em {0} segundos"},past:{one:"hÃ¡ {0} segundo",other:"hÃ¡ {0} segundos"}}}}},{locale:"pt-AO",parentLocale:"pt-PT"},{locale:"pt-PT",parentLocale:"pt",fields:{year:{displayName:"ano",relative:{0:"este ano",1:"prÃ³ximo ano","-1":"ano passado"},relativeTime:{future:{one:"dentro de {0} ano",other:"dentro de {0} anos"},past:{one:"hÃ¡ {0} ano",other:"hÃ¡ {0} anos"}}},month:{displayName:"mÃªs",relative:{0:"este mÃªs",1:"prÃ³ximo mÃªs","-1":"mÃªs passado"},relativeTime:{future:{one:"dentro de {0} mÃªs",other:"dentro de {0} meses"},past:{one:"hÃ¡ {0} mÃªs",other:"hÃ¡ {0} meses"}}},day:{displayName:"dia",relative:{0:"hoje",1:"amanhÃ£",2:"depois de amanhÃ£","-2":"anteontem","-1":"ontem"},relativeTime:{future:{one:"dentro de {0} dia",other:"dentro de {0} dias"},past:{one:"hÃ¡ {0} dia",other:"hÃ¡ {0} dias"}}},hour:{displayName:"hora",relative:{0:"esta hora"},relativeTime:{future:{one:"dentro de {0} hora",other:"dentro de {0} horas"},past:{one:"hÃ¡ {0} hora",other:"hÃ¡ {0} horas"}}},minute:{displayName:"minuto",relative:{0:"este minuto"},relativeTime:{future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"},past:{one:"hÃ¡ {0} minuto",other:"hÃ¡ {0} minutos"}}},second:{displayName:"segundo",relative:{0:"agora"},relativeTime:{future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"},past:{one:"hÃ¡ {0} segundo",other:"hÃ¡ {0} segundos"}}}}},{locale:"pt-CH",parentLocale:"pt-PT"},{locale:"pt-CV",parentLocale:"pt-PT"},{locale:"pt-GQ",parentLocale:"pt-PT"},{locale:"pt-GW",parentLocale:"pt-PT"},{locale:"pt-LU",parentLocale:"pt-PT"},{locale:"pt-MO",parentLocale:"pt-PT"},{locale:"pt-MZ",parentLocale:"pt-PT"},{locale:"pt-ST",parentLocale:"pt-PT"},{locale:"pt-TL",parentLocale:"pt-PT"}]})},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";return[{locale:"tr",pluralRuleFunction:function(t,e){return e?"other":1==t?"one":"other"},fields:{year:{displayName:"yÄ±l",relative:{0:"bu yÄ±l",1:"gelecek yÄ±l","-1":"geÃ§en yÄ±l"},relativeTime:{future:{one:"{0} yÄ±l sonra",other:"{0} yÄ±l sonra"},past:{one:"{0} yÄ±l Ã¶nce",other:"{0} yÄ±l Ã¶nce"}}},month:{displayName:"ay",relative:{0:"bu ay",1:"gelecek ay","-1":"geÃ§en ay"},relativeTime:{future:{one:"{0} ay sonra",other:"{0} ay sonra"},past:{one:"{0} ay Ã¶nce",other:"{0} ay Ã¶nce"}}},day:{displayName:"gÃ¼n",relative:{0:"bugÃ¼n",1:"yarÄ±n",2:"Ã¶bÃ¼r gÃ¼n","-2":"evvelsi gÃ¼n","-1":"dÃ¼n"},relativeTime:{future:{one:"{0} gÃ¼n sonra",other:"{0} gÃ¼n sonra"},past:{one:"{0} gÃ¼n Ã¶nce",other:"{0} gÃ¼n Ã¶nce"}}},hour:{displayName:"saat",relative:{0:"bu saat"},relativeTime:{future:{one:"{0} saat sonra",other:"{0} saat sonra"},past:{one:"{0} saat Ã¶nce",other:"{0} saat Ã¶nce"}}},minute:{displayName:"dakika",relative:{0:"bu dakika"},relativeTime:{future:{one:"{0} dakika sonra",other:"{0} dakika sonra"},past:{one:"{0} dakika Ã¶nce",other:"{0} dakika Ã¶nce"}}},second:{displayName:"saniye",relative:{0:"ÅŸimdi"},relativeTime:{future:{one:"{0} saniye sonra",other:"{0} saniye sonra"},past:{one:"{0} saniye Ã¶nce",other:"{0} saniye Ã¶nce"}}}}},{locale:"tr-CY",parentLocale:"tr"}]})},function(t,e,n){var r=n(468),i=r(Object.getPrototypeOf,Object);t.exports=i},function(t,e,n){t.exports=n(1141)},function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1142),a=function(t){return t&&t.__esModule?t:{default:t}}(o);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var s=(0,a.default)(i);e.default=s}).call(e,n(37),n(120)(t))},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n=e&&e.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function o(t){Object.keys(t).forEach(function(e){var n=t[e];if(void 0===n(void 0,{type:s.ActionTypes.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function a(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var a=e[r];"function"==typeof t[a]&&(n[a]=t[a])}var s=Object.keys(n),l=void 0;try{o(n)}catch(t){l=t}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(l)throw l;for(var r=!1,o={},a=0;a<s.length;a++){var u=s[a],c=n[u],f=t[u],h=c(f,e);if(void 0===h){var d=i(u,e);throw new Error(d)}o[u]=h,r=r||h!==f}return r?o:t}}e.__esModule=!0,e.default=a;var s=n(507),l=n(146),u=(r(l),n(508));r(u)},function(t,e,n){"use strict";function r(t,e){return function(){return e(t.apply(void 0,arguments))}}function i(t,e){if("function"==typeof t)return r(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),i={},o=0;o<n.length;o++){var a=n[o],s=t[a];"function"==typeof s&&(i[a]=r(s,e))}return i}e.__esModule=!0,e.default=i},function(t,e,n){"use strict";function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,r,o){var s=t(n,r,o),l=s.dispatch,u=[],c={getState:s.getState,dispatch:function(t){return l(t)}};return u=e.map(function(t){return t(c)}),l=a.default.apply(void 0,u)(s.dispatch),i({},s,{dispatch:l})}}}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=r;var o=n(509),a=function(t){return t&&t.__esModule?t:{default:t}}(o)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(36),i=(n.n(r),n(1147)),o=n.n(i),a=n(1153),s=n.n(a),l=n(1154),u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.createStore)(l.a,t,Object(r.applyMiddleware)(o.a,s.a))}},function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.then}function i(t){var e=t.dispatch;return function(t){return function(n){return a.isFSA(n)?r(n.payload)?n.payload.then(function(t){return e(o({},n,{payload:t}))},function(t){return e(o({},n,{payload:t,error:!0}))}):t(n):r(n)?n.then(e):t(n)}}}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=i;var a=n(1148);t.exports=e.default},function(t,e,n){"use strict";function r(t){return l.indexOf(t)>-1}function i(t){return s.default(t)&&void 0!==t.type&&Object.keys(t).every(r)}function o(t){return!0===t.error}e.__esModule=!0,e.isFSA=i,e.isError=o;var a=n(1149),s=function(t){return t&&t.__esModule?t:{default:t}}(a),l=["type","payload","error","meta"]},function(t,e,n){function r(t){return!!t&&"object"==typeof t}function i(t,e){return a(t,e,l)}function o(t){var e;if(!r(t)||h.call(t)!=u||s(t)||!f.call(t,"constructor")&&"function"==typeof(e=t.constructor)&&!(e instanceof e))return!1;var n;return i(t,function(t,e){n=e}),void 0===n||f.call(t,n)}var a=n(1150),s=n(510),l=n(1151),u="[object Object]",c=Object.prototype,f=c.hasOwnProperty,h=c.toString;t.exports=o},function(t,e){var n=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}();t.exports=n},function(t,e,n){function r(t,e){return t="number"==typeof t||u.test(t)?+t:-1,e=null==e?h:e,t>-1&&t%1==0&&t<e}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}function o(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){if(null==t)return[];o(t)||(t=Object(t));var e=t.length;e=e&&i(e)&&(l(t)||s(t))&&e||0;for(var n=t.constructor,a=-1,u="function"==typeof n&&n.prototype===t,c=Array(e),h=e>0;++a<e;)c[a]=a+"";for(var d in t)h&&r(d,e)||"constructor"==d&&(u||!f.call(t,d))||c.push(d);return c}var s=n(510),l=n(1152),u=/^\d+$/,c=Object.prototype,f=c.hasOwnProperty,h=9007199254740991;t.exports=a},function(t,e){function n(t){return!!t&&"object"==typeof t}function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=m}function i(t){return o(t)&&h.call(t)==s}function o(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){return null!=t&&(i(t)?d.test(c.call(t)):n(t)&&l.test(t))}var s="[object Function]",l=/^\[object .+?Constructor\]$/,u=Object.prototype,c=Function.prototype.toString,f=u.hasOwnProperty,h=u.toString,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),p=function(t,e){var n=null==t?void 0:t[e];return a(n)?n:void 0}(Array,"isArray"),m=9007199254740991,g=p||function(t){return n(t)&&r(t.length)&&"[object Array]"==h.call(t)};t.exports=g},function(t,e,n){"use strict";function r(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"==typeof i?i(n,r,t):e(i)}}}}e.__esModule=!0;var i=r();i.withExtraArgument=r,e.default=i},function(t,e,n){"use strict";var r=n(36),i=(n.n(r),n(1155)),o=n(1386),a=n(1387),s=n(1388),l=n(1389),u=n(1391),c=n(1392),f=n(1393),h=n(1394),d=n(1395),p=n(1396),m=n(1397),g=n(1398),v=n(274),y=n(1399),b=n(1400),_=n(1401),w=n(1404),x=n(1406),E=n(1408),M=n(1410),S=n(1420),T=n(1423),C=n(1424),O=n(1425),A=n(596);e.a=Object(r.combineReducers)({config:i.a,customerlogo:o.a,elevation:a.a,flash:s.a,intl:l.a,layer:u.a,layerwizard:c.a,logging:f.a,login:h.a,mapviewers:d.a,measurements:p.a,measurementfeedback:m.a,measurementattribute:g.a,obliqueviewer:v.b,panoramaviewer:y.a,reportblurring:b.a,routing:_.a,searchhistory:w.a,recenturls:x.a,srs:E.a,stage:M.a,timetravel:S.a,tour:T.a,userprofile:C.a,viewermanager:O.a,windowmanager:A.a})},function(t,e,n){"use strict";function r(t,e,n){return e in t?a()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i,o=n(1),a=n.n(o),s=n(4),l=n.n(s),u=n(16),c=(n.n(u),n(148)),f=n(105),h=n(180),d=n(147),p=n(204),m=n(209),g=l.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v=void 0;p.a.getLocalStorageEnabled()&&(v=m.a.getItem("streetsmart_config_id"));var y={apiKey:null,userInfo:null,config:null,isApi:!1,configId:v,configUrl:"https://atlas.cyclomedia.com/configuration/",configFile:null};e.a=Object(u.handleActions)((i={},r(i,c.ActionTypes.SET_API_KEY,function(t,e){var n=d.a.name,r=d.a.version,i="&nameVersion="+n+"_"+r,o=e.payload+i;return g({},t,{apiKey:o})}),r(i,c.ActionTypes.LOAD_USER_INFO,{next:function(t,e){return g({},t,{userInfo:e.payload})},throw:f.b}),r(i,c.ActionTypes.LOAD_USER_CONFIG,{next:function(t,e){return p.a.getLocalStorageEnabled()&&m.a.setItem("streetsmart_config_id",e.payload.configId),g({},t,{config:e.payload.config,configId:e.payload.configId})},throw:f.b}),r(i,c.ActionTypes.DESTROY_USER_CONFIG,function(t,e){return p.a.getLocalStorageEnabled()&&m.a.removeItem("streetsmart_config_id"),g({},t,{config:null,configId:null})}),r(i,c.ActionTypes.SET_CONFIG_URL,function(t,e){return g({},t,{configUrl:e.payload})}),r(i,c.ActionTypes.SET_CONFIG_FILE,function(t,e){return g({},t,{configFile:e.payload})}),r(i,c.ActionTypes.SET_ADDRESS_SETTINGS,function(t,e){return g({},t,{config:g({},t.config,{services:g({},t.config.services,{address:g({},t.config.services.address,{code:e.payload.locale,databaseResource:e.payload.database})})})})}),r(i,c.ActionTypes.SET_IS_API,function(t,e){return g({},t,{isApi:e.payload})}),r(i,h.ActionTypes.LOGOUT,function(t,e){return g({},t,{config:null,userInfo:null})}),i),y)},function(t,e){function n(t){return null===t}t.exports=n},function(t,e){function n(t){return void 0===t}t.exports=n},function(t,e,n){function r(t,e,n,r){t=o(t)?t:l(t),n=n&&!r?s(n):0;var c=t.length;return n<0&&(n=u(c+n,0)),a(t)?n<=c&&t.indexOf(e,n)>-1:!!c&&i(t,e,n)>-1}var i=n(1159),o=n(169),a=n(349),s=n(494),l=n(1163),u=Math.max;t.exports=r},function(t,e,n){function r(t,e,n){return e===e?a(t,e,n):i(t,o,n)}var i=n(1160),o=n(1161),a=n(1162);t.exports=r},function(t,e){function n(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}t.exports=n},function(t,e){function n(t){return t!==t}t.exports=n},function(t,e){function n(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}t.exports=n},function(t,e,n){function r(t){return null==t?[]:i(t,o(t))}var i=n(1164),o=n(200);t.exports=r},function(t,e,n){function r(t,e){return i(e,function(e){return t[e]})}var i=n(502);t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=n.namespace;(0,f.default)((0,s.default)(t),"Expected handlers to be an plain object.");var o=(0,g.flattenReducerMap)(t,r),a=(0,m.default)(o).map(function(t){return(0,d.default)(t,o[t],e)}),l=u.default.apply(void 0,i(a));return function(){var t=arguments.length<=0||void 0===arguments[0]?e:arguments[0],n=arguments[1];return l(t,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var a=n(146),s=r(a),l=n(1166),u=r(l),c=n(90),f=r(c),h=n(512),d=r(h),p=n(350),m=r(p),g=n(515)},function(t,e,n){"use strict";function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t,n){return e.reduce(function(t,e){return e(t,n)},t)}}e.__esModule=!0,e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){var e=(0,o.default)(t),n=e.every(function(t){return"next"===t||"throw"===t});return e.length&&e.length<=2&&n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(350),o=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=(0,v.default)((0,w.default)(n))?n.pop():{},o=i.namespace;return(0,R.default)(n.every(E.default)&&((0,E.default)(t)||(0,v.default)(t)),"Expected optional object followed by string action types"),(0,E.default)(t)?u([t].concat(n)):f({},s(t,o),u(n))}function s(t,e){var n=(0,N.flattenActionMap)(t,e),r=l(n);return(0,N.unflattenActionCreators)(r,e)}function l(t){function e(t){if((0,S.default)(t)||(0,C.default)(t))return!0;if((0,b.default)(t)){var e=c(t,2),n=e[0],r=void 0===n?m.default:n,i=e[1];return(0,S.default)(r)&&(0,S.default)(i)}return!1}return(0,L.default)(Object.keys(t),function(n,r){var a=t[r];(0,R.default)(e(a),"Expected function, undefined, null, or array with payload and meta functions for "+r);var s=(0,b.default)(a)?A.default.apply(void 0,[r].concat(o(a))):(0,A.default)(r,a);return f({},n,i({},r,s))})}function u(t){var e=(0,L.default)(t,function(t,e){return f({},t,i({},e,m.default))}),n=l(e);return(0,L.default)(Object.keys(n),function(t,e){return f({},t,i({},(0,d.default)(e),n[e]))})}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=a;var h=n(516),d=r(h),p=n(172),m=r(p),g=n(146),v=r(g),y=n(168),b=r(y),_=n(1169),w=r(_),x=n(349),E=r(x),M=n(118),S=r(M),T=n(513),C=r(T),O=n(511),A=r(O),I=n(90),R=r(I),P=n(1170),L=r(P),N=n(515)},function(t,e){function n(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t.reduce(function(t,n){return e(t,n)},{})}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=["CMDatabase","Solr","OSM","Navteq","PDOK","Nokia","FinlandTransport","FinlandTransport;Nokia"]},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new h.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return h.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(40),a=n.n(o),s=n(21),l=n.n(s),u=n(87),c=n.n(u),f=n(19),h=n.n(f),d=n(1),p=n.n(d),m=n(23),g=n.n(m),v=n(17),y=n.n(v),b=n(34),_=n.n(b),w=n(1173),x=n(1186),E=n(1383),M=n(1384),S=n(1385),T=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=y()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(g()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),C=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),O=function t(){i(this,t)},A=new c.a([["gsc:ApplicationConfiguration",["application",w.a]],["gsc:MapConfiguration",["map",x.a]],["gsc:ViewerConfiguration",["viewer",E.a]],["gsc:ServicesConfiguration",["services",M.a]],["gsc:UsageLoggingConfiguration",["usageLogging",S.a]]]),I=["gsc:MapConfiguration"],R=/^@/,P=function(){function t(){i(this,t)}return C(t,[{key:"parseConfig",value:function(){function t(t){return e.apply(this,arguments)}var e=r(l.a.mark(function t(e){var n,r,i,o,s,u,c,f,h,d,p,m;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=new O,e=e["gsc:GlobeSpotterConfiguration"],r=!0,i=!1,o=void 0,t.prev=5,s=y()(a()(e));case 7:if(r=(u=s.next()).done){t.next=25;break}if(c=u.value,f=e[c],!A.has(c)){t.next=21;break}if(h=A.get(c),d=T(h,2),p=d[0],m=d[1],!I.includes(c)){t.next=18;break}return t.next=15,m.call(this,f);case 15:n[p]=t.sent,t.next=19;break;case 18:n[p]=m.call(this,f);case 19:t.next=22;break;case 21:R.test(c)||_.a.warn("Unknown child: "+c);case 22:r=!0,t.next=7;break;case 25:t.next=31;break;case 27:t.prev=27,t.t0=t.catch(5),i=!0,o=t.t0;case 31:t.prev=31,t.prev=32,!r&&s.return&&s.return();case 34:if(t.prev=34,!i){t.next=37;break}throw o;case 37:return t.finish(34);case 38:return t.finish(31);case 39:return t.abrupt("return",n);case 40:case"end":return t.stop()}},t,this,[[5,27,31,39],[32,,34,38]])}));return t}()}]),t}();e.a=P},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return h});var i=n(34),o=n.n(i),a=n(1174),s=n.n(a),l=n(149),u=n(121),c=function t(){r(this,t),this.functionalities=[]};c.defaults={userProfileOnline:!1,hasOnlineContent:!1,isOnlineContentShared:!1};var f=function(t){return s()(Object(u.a)(t["gsc:Functionality"]).map(function(t){var e=t["gsc:Name"],n=l.a[e];return n||o.a.warn("Unknown functionality: "+e),n}))},h=function(t){var e=new c,n=c.defaults;return e.helpUrl="//streetsmarthelp.cyclomedia.com",e.disclaimerUrl=Object(u.e)(t,"gsc:DisclaimerResource/@xlink:href"),e.logoLink=Object(u.e)(t,"gsc:LogoLink/@xlink:href"),e.userProfileOnline=Object(u.e)(t,"gsc:UserProfileOnline",n),e.hasOnlineContent=Object(u.e)(t,"gsc:HasOnlineContent"),e.isOnlineContentShared=Object(u.e)(t,"gsc:IsOnlineContentShared"),e.messageShortText=Object(u.e)(t,"gsc:MessageShortText"),e.messageFullText=Object(u.e)(t,"gsc:MessageFullText"),e.messageLink=Object(u.e)(t,"gsc:MessageLink"),e.feedbackUrl=Object(u.e)(t,"gsc:FeedbackLink/@xlink:href"),e.feedbackSubject=Object(u.e)(t,"gsc: FeedbackSubject"),e.extraInfoTabTitle=Object(u.e)(t,"gsc:ExtraInfoTabTitle"),e.extraInfoTabText=Object(u.e)(t,"gsc:ExtraInfoTabText"),e.functionalities=f(t["gsc:Functionalities"]),e}},function(t,e){function n(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}t.exports=n},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return b});var i=n(40),o=n.n(i),a=n(1176),s=n.n(a),l=n(1178),u=n.n(l),c=n(517),f=n.n(c),h=n(1182),d=n.n(h),p=n(1),m=n.n(p),g=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),m()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=function(){function t(e,n){var i=n.value,o=n.description;r(this,t),y.call(this),d()(i,void 0)||(this.value=i),o&&(this.description=o),f()(this)}return g(t,[{key:"toString",value:function(){return this.sym}},{key:"valueOf",value:function(){return this.value}},{key:"display",get:function(){return this.description||u()(this.sym)}}]),t}(),y=function(){this.sym=s()(name)},b=function(){function t(e){r(this,t);for(var n in e){if(!e[n])throw new TypeError("each enum should have been initialized with at least empty {} value");this[n]=new v(n,e[n])}f()(this)}return g(t,[{key:"symbols",value:function(){var t=this;return o()(this).map(function(e){return t[e]})}},{key:"keys",value:function(){return o()(this)}},{key:"contains",value:function(t){return t instanceof v&&this[u()(t.sym)]===t}}]),t}()},function(t,e,n){t.exports={default:n(1177),__esModule:!0}},function(t,e,n){n(323),t.exports=n(26).Symbol.for},function(t,e,n){t.exports={default:n(1179),__esModule:!0}},function(t,e,n){n(323),t.exports=n(26).Symbol.keyFor},function(t,e,n){n(1181),t.exports=n(26).Object.freeze},function(t,e,n){var r=n(75),i=n(242).onFreeze;n(244)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){t.exports={default:n(1183),__esModule:!0}},function(t,e,n){n(1184),t.exports=n(26).Object.is},function(t,e,n){var r=n(39);r(r.S,"Object",{is:n(1185)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new y.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return y.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){var e={};d(t,e);var n=N.a.defaults,r=n.params;return e.version=Object(I.d)(Object(I.e)(t,"gsc:WMSVersion",r.VERSION)),e.imageFormat=Object(I.e)(t,"gsc:ImageFormat",r.FORMAT),e.transparent=Object(I.b)(Object(I.e)(t,"gsc:Transparent",r.TRANSPARENT)),e.tiled=Object(I.e)(t,"gsc:Tiled",n.tiled),e.layers=Object(I.a)(t["gsc:Layers"]["gsc:Layer"]).map(function(t){return{name:Object(I.e)(t,"gsc:Name"),style:Object(I.e)(t,"gsc:Style")}}),e.bgColor=Object(I.e)(t,"gsc:BgColor",r.BGCOLOR),e.exceptions=Object(I.e)(t,"gsc:Exceptions",r.EXCEPTIONS),new N.a(e)}function a(t){var e={};d(t,e);var n=k.a.defaults,r=n.params;return e.version=Object(I.d)(Object(I.e)(t,"gsc:WMTSVersion",n.version)),e.layers=Object(I.a)(t["gsc:Layers"]["gsc:Layer"]).map(function(t){return{name:Object(I.e)(t,"gsc:Name"),tileMatrixSet:Object(I.e)(t,"gsc:TileMatrixSet/gsc:Identifier"),imageFormat:Object(I.e)(t,"gsc:ImageFormat",r.FORMAT),style:Object(I.e)(t,"gsc:Style/gsc:Identifier",r.STYLE)}}),new k.a(e)}function s(t){var e={};return d(t,e),e.tileOrigin=parseInt(Object(I.e)(t,"gsc:TileOrder",R.a.BOTTOM_LEFT),10),l(e),new D.a(e)}function l(t){var e=function(t,e){return t=t.replace(/##([xyz])##/g,"{$1}"),e&&(t=t.replace("{y}","{-y}")),t},n="tileOrigin"in t&&t.tileOrigin===R.a.BOTTOM_LEFT;t.url&&(t.url=e(t.url,n)),t.urls&&(t.urls=t.urls.map(function(t){return e(t,n)}))}function u(t){var e={};return d(t,e),new F.a(e)}function c(t){var e={};return d(t,e),e.imagerySet=Object(I.e)(t,"gsc:ImagerySet"),e.bingKey=Object(I.e)(t,"gsc:Key"),new U.a(e)}function f(t){var e={};return d(t,e),e.arcGIStype=Object(I.e)(t,"gsc:Type"),e.layers=Object(I.e)(t,"gsc:Layers"),new j.a(e)}function h(t){var e={};return d(t,e),{name:e.name}}function d(t,e){var n=t["@id"];e.id=n&&""!==n?n:T()(),e.name=Object(I.e)(t,"gsc:Name"),e.description=Object(I.e)(t,"gsc:Description"),e.projection=Object(I.e)(t,"gsc:SRSName");var r=Object(I.a)(Object(I.e)(t,"gsc:OnlineResource")).map(function(t){return Object(I.e)(t,"@xlink:href")}),i=/^(.+){(.)-(.)}(.+)$/;Object(I.a)(Object(I.e)(t,"gsc:OnlineResourcePattern")).map(function(t){return Object(I.e)(t,"@xlink:href")}).forEach(function(t){var e=i.exec(t);if(e)for(var n=e[1],o=e[4],a=e[2].charCodeAt(0),s=e[3].charCodeAt(0),l=a;l<=s;++l)r.push(n+String.fromCharCode(l)+o);else r.push(t)}),e.urls=r,1===e.urls.length&&(e.url=e.urls[0]),e.attribution=Object(I.e)(t,"gsc:CopyrightHTML"),e.minZoomLevel=parseInt(Object(I.e)(t,"gsc:MinZoomLevel",0),10),e.maxZoomLevel=parseInt(Object(I.e)(t,"gsc:MaxZoomLevel",99),10),e.visible=Object(I.b)(Object(I.e)(t,"gsc:Visible",!0)),e.sortOrder=parseInt(Object(I.e)(t,"gsc:SortOrder",-1),10),e.capabilitiesRequest=Object(I.e)(t,"gsc:CapabilitiesRequest"),e.capabilitiesFormat=Object(I.e)(t,"gsc:CapabilitiesFormat"),e.capabilitiesCopyrightProperty=Object(I.e)(t,"gsc:CapabilitiesCopyrightProperty"),e.authRequired=Object(I.b)(Object(I.e)(t,"gsc:AuthRequired",!1)),e.credentials=p(t["gsc:Credentials"]),e.useProxy=Object(I.b)(Object(I.e)(t,"gsc:UseProxy",!1))}function p(t){return t?new V.a(Object(I.e)(t,"gsc:Username"),Object(I.e)(t,"gsc:Password")):null}n.d(e,"a",function(){return K});var m=n(87),g=n.n(m),v=n(19),y=n.n(v),b=n(40),_=n.n(b),w=n(17),x=n.n(w),E=n(21),M=n.n(E),S=n(102),T=n.n(S),C=n(18),O=(n.n(C),n(34)),A=n.n(O),I=n(121),R=n(1187),P=(n(205),n(519)),L=n(216),N=n(375),k=n(602),D=n(603),F=n(604),j=n(606),U=n(605),z=n(150),B=n(591),V=n(518),G=function(){var t=r(M.a.mark(function t(e){var n,r;return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e["@id"],t.t1=e["gsc:Name"],t.t2=e["gsc:Description"],t.t3=Object(I.b)(Object(I.e)(e,"gsc:Visible",!0)),t.next=6,H(e["gsc:Layers"]);case 6:return t.t4=t.sent,n={id:t.t0,name:t.t1,description:t.t2,visible:t.t3,layers:t.t4},"gsc:AuthRequired"in e&&(r=Object(I.b)(e["gsc:AuthRequired"]),n.layers.forEach(function(t){t.authRequired=r})),n.layers.forEach(function(t){t.visible=!0}),t.abrupt("return",new P.a(n));case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),H=function(){var t=r(M.a.mark(function t(e){var n,r,i,o,a,s,l,u,c,f,h,d,p,m,g,v;return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[],e){t.next=3;break}return t.abrupt("return",[]);case 3:r=!0,i=!1,o=void 0,t.prev=6,a=x()(_()(e));case 8:if(r=(s=a.next()).done){t.next=52;break}if(l=s.value,u=Object(I.a)(e[l]),!Q.has(l)){t.next=48;break}c=Q.get(l).bind(this),f=!0,h=!1,d=void 0,t.prev=16,p=x()(u);case 18:if(f=(m=p.next()).done){t.next=32;break}if(g=m.value,v=void 0,!J.includes(l)){t.next=27;break}return t.next=24,c(g);case 24:v=t.sent,t.next=28;break;case 27:v=c(g);case 28:v&&n.push(v);case 29:f=!0,t.next=18;break;case 32:t.next=38;break;case 34:t.prev=34,t.t0=t.catch(16),h=!0,d=t.t0;case 38:t.prev=38,t.prev=39,!f&&p.return&&p.return();case 41:if(t.prev=41,!h){t.next=44;break}throw d;case 44:return t.finish(41);case 45:return t.finish(38);case 46:t.next=49;break;case 48:A.a.warn("Unknown type: "+l);case 49:r=!0,t.next=8;break;case 52:t.next=58;break;case 54:t.prev=54,t.t1=t.catch(6),i=!0,o=t.t1;case 58:t.prev=58,t.prev=59,!r&&a.return&&a.return();case 61:if(t.prev=61,!i){t.next=64;break}throw o;case 64:return t.finish(61);case 65:return t.finish(58);case 66:return t.abrupt("return",n);case 67:case"end":return t.stop()}},t,this,[[6,54,58,66],[16,34,38,46],[39,,41,45],[59,,61,65]])}));return function(e){return t.apply(this,arguments)}}(),q=function(){var t=r(M.a.mark(function t(e){var n,r;return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n={},d(e,n),n.version=Object(I.d)(Object(I.e)(e,"gsc:WFSVersion")),n.typeName=Object(I.e)(e,"gsc:TypeNames/gsc:Name/#text")||Object(I.e)(e,"gsc:TypeNames/gsc:Name"),n.color=Object(I.e)(e,"gsc:Color"),n.sld={},n.sld.url=Object(I.e)(e,"gsc:SLD/gsc:OnlineResource/@xlink:href"),n.sld.styledLayerDescriptor=Object(I.e)(e,"gsc:SLD/gsc:StyledLayerDescriptor"),n.toolTipProperties=Object(I.e)(e,"gsc:ToolTipProperties"),!n.sld.url){t.next=14;break}return r={method:"GET",mode:"cors"},t.next=13,Object(B.b)(n.sld.url,r);case 13:n.sld.xmlText=t.sent;case 14:if(n.sld.xmlText){t.next=18;break}return t.next=17,W();case 17:n.sld.xmlText=t.sent;case 18:return t.abrupt("return",new L.a(n));case 19:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),W=function(){var t=r(M.a.mark(function t(){return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Y){t.next=4;break}return t.next=3,Object(B.b)(X,{method:"GET",mode:"cors"});case 3:Y=t.sent;case 4:return t.abrupt("return",Y);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),Y=void 0,X="assets/sld/default.xml",Z=function t(){i(this,t)},K=function(){var t=r(M.a.mark(function t(e){var n,r,i,o,a,s,l,u,c;return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=new Z,n.srsName=Object(I.e)(e,"gsc:SRSName"),n.initialExtent=Object(I.c)(e["gsc:InitialExtent"]),n.maxExtent=Object(I.c)(e["gsc:MaxExtent"]),n.maxResolution=parseFloat(e["gsc:MaxResolution"]),n.maxZoomLevel=parseInt(e["gsc:MaxZoomLevel"],10),n.featureZoomLevel=parseInt(e["gsc:FeatureZoomLevel"],10),isNaN(n.featureZoomLevel)&&!isNaN(n.maxZoomLevel)&&!isNaN(n.maxResolution)){for(r=.4,i=new Array(n.maxZoomLevel+1),o=n.maxResolution,a=n.maxZoomLevel,s=z.b.getResolutionForZoomLevel,l=0,u=a;l<=u;++l)i[l]=s(o,l);n.featureZoomLevel=i.indexOf(i.reduce(function(t,e){return Math.abs(e-r)<Math.abs(t-r)?e:t})),A.a.info("Set featureZoomLevel to: ",n.featureZoomLevel)}return t.next=10,H(e["gsc:BaseLayerConfigurations"]);case 10:if(n.baseLayers=t.sent,n.baseLayers&&n.baseLayers.forEach(function(t){t.isBaseLayer=!0}),!(c=e["gsc:LayerConfigurations"])){t.next=19;break}return t.next=16,H(c);case 16:n.overlays=t.sent,n.showALSLayer=Object(I.e)(c,"gsc:ShowALSLayer"),n.showEntitiesLayer=Object(I.e)(c,"gsc:ShowEntitiesLayer");case 19:return t.next=21,H(e["gsc:ObliqueLayerConfigurations"]);case 21:return n.obliqueLayers=t.sent,t.abrupt("return",n);case 23:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),Q=new g.a([["gsc:LayerGroup",G],["gsc:WFSLayer",q],["gsc:WMSLayer",o],["gsc:WMTSLayer",a],["gsc:TMSLayer",s],["gsc:OSMLayer",u],["gsc:BingLayer",c],["gsc:ArcGISRestLayer",f],["gsc:ObliqueLayer",h]]),J=["gsc:LayerGroup","gsc:WFSLayer"]},function(t,e,n){"use strict";e.a={BOTTOM_LEFT:1,TOP_LEFT:2}},function(t,e,n){t.exports={default:n(1189),__esModule:!0}},function(t,e,n){n(1190),t.exports=n(26).Math.log2},function(t,e,n){var r=n(39);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1],r=n||e+"Subscription",s=function(t){function n(r,a){i(this,n);var s=o(this,t.call(this,r,a));return s[e]=r.store,s}return a(n,t),n.prototype.getChildContext=function(){var t;return t={},t[e]=this[e],t[r]=null,t},n.prototype.render=function(){return l.Children.only(this.props.children)},n}(l.Component);return s.propTypes={store:f.storeShape.isRequired,children:c.default.element.isRequired},s.childContextTypes=(t={},t[e]=f.storeShape.isRequired,t[r]=f.subscriptionShape,t),s}e.__esModule=!0,e.createProvider=s;var l=n(0),u=n(3),c=r(u),f=n(520),h=n(352);r(h);e.default=s()},function(t,e,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,c=u&&u(Object);t.exports=function t(e,n,f){if("string"!=typeof n){if(c){var h=u(n);h&&h!==c&&t(e,h,f)}var d=a(n);s&&(d=d.concat(s(n)));for(var p=0;p<d.length;++p){var m=d[p];if(!(r[m]||i[m]||f&&f[m])){var g=l(n,m);try{o(e,m,g)}catch(t){}}}return e}return e}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(){var t=[],e=[];return{clear:function(){e=o,t=o},notify:function(){for(var n=t=e,r=0;r<n.length;r++)n[r]()},get:function(){return e},subscribe:function(n){var r=!0;return e===t&&(e=t.slice()),e.push(n),function(){r&&t!==o&&(r=!1,e===t&&(e=t.slice()),e.splice(e.indexOf(n),1))}}}}e.__esModule=!0;var o=null,a={notify:function(){}},s=function(){function t(e,n,i){r(this,t),this.store=e,this.parentSub=n,this.onStateChange=i,this.unsubscribe=null,this.listeners=a}return t.prototype.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},t.prototype.notifyNestedSubs=function(){this.listeners.notify()},t.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},t.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=i())},t.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=a)},t}();e.default=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(e,r){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function a(t,e){return t===e}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.connectHOC,n=void 0===e?c.default:e,r=t.mapStateToPropsFactories,s=void 0===r?g.default:r,u=t.mapDispatchToPropsFactories,f=void 0===u?p.default:u,d=t.mergePropsFactories,m=void 0===d?y.default:d,v=t.selectorFactory,b=void 0===v?_.default:v;return function(t,e,r){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=u.pure,d=void 0===c||c,p=u.areStatesEqual,g=void 0===p?a:p,v=u.areOwnPropsEqual,y=void 0===v?h.default:v,_=u.areStatePropsEqual,w=void 0===_?h.default:_,x=u.areMergedPropsEqual,E=void 0===x?h.default:x,M=i(u,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),S=o(t,s,"mapStateToProps"),T=o(e,f,"mapDispatchToProps"),C=o(r,m,"mergeProps");return n(b,l({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:S,initMapDispatchToProps:T,initMergeProps:C,pure:d,areStatesEqual:g,areOwnPropsEqual:y,areStatePropsEqual:w,areMergedPropsEqual:E},M))}}e.__esModule=!0;var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.createConnect=s;var u=n(521),c=r(u),f=n(1195),h=r(f),d=n(1196),p=r(d),m=n(1197),g=r(m),v=n(1198),y=r(v),b=n(1199),_=r(b);e.default=s()},function(t,e,n){"use strict";function r(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!==t&&e!==e}function i(t,e){if(r(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(e,n[a])||!r(t[n[a]],e[n[a]]))return!1;return!0}e.__esModule=!0,e.default=i;var o=Object.prototype.hasOwnProperty},function(t,e,n){"use strict";function r(t){return"function"==typeof t?(0,s.wrapMapToPropsFunc)(t,"mapDispatchToProps"):void 0}function i(t){return t?void 0:(0,s.wrapMapToPropsConstant)(function(t){return{dispatch:t}})}function o(t){return t&&"object"==typeof t?(0,s.wrapMapToPropsConstant)(function(e){return(0,a.bindActionCreators)(t,e)}):void 0}e.__esModule=!0,e.whenMapDispatchToPropsIsFunction=r,e.whenMapDispatchToPropsIsMissing=i,e.whenMapDispatchToPropsIsObject=o;var a=n(36),s=n(522);e.default=[r,i,o]},function(t,e,n){"use strict";function r(t){return"function"==typeof t?(0,o.wrapMapToPropsFunc)(t,"mapStateToProps"):void 0}function i(t){return t?void 0:(0,o.wrapMapToPropsConstant)(function(){return{}})}e.__esModule=!0,e.whenMapStateToPropsIsFunction=r,e.whenMapStateToPropsIsMissing=i;var o=n(522);e.default=[r,i]},function(t,e,n){"use strict";function r(t,e,n){return s({},n,t,e)}function i(t){return function(e,n){var r=(n.displayName,n.pure),i=n.areMergedPropsEqual,o=!1,a=void 0;return function(e,n,s){var l=t(e,n,s);return o?r&&i(l,a)||(a=l):(o=!0,a=l),a}}}function o(t){return"function"==typeof t?i(t):void 0}function a(t){return t?void 0:function(){return r}}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.defaultMergeProps=r,e.wrapMergePropsFunc=i,e.whenMergePropsIsFunction=o,e.whenMergePropsIsOmitted=a;var l=n(523);!function(t){t&&t.__esModule}(l);e.default=[o,a]},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e,n,r){return function(i,o){return n(t(i,o),e(r,o),o)}}function o(t,e,n,r,i){function o(i,o){return p=i,m=o,g=t(p,m),v=e(r,m),y=n(g,v,m),d=!0,y}function a(){return g=t(p,m),e.dependsOnOwnProps&&(v=e(r,m)),y=n(g,v,m)}function s(){return t.dependsOnOwnProps&&(g=t(p,m)),e.dependsOnOwnProps&&(v=e(r,m)),y=n(g,v,m)}function l(){var e=t(p,m),r=!h(e,g);return g=e,r&&(y=n(g,v,m)),y}function u(t,e){var n=!f(e,m),r=!c(t,p);return p=t,m=e,n&&r?a():n?s():r?l():y}var c=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1,p=void 0,m=void 0,g=void 0,v=void 0,y=void 0;return function(t,e){return d?u(t,e):o(t,e)}}function a(t,e){var n=e.initMapStateToProps,a=e.initMapDispatchToProps,s=e.initMergeProps,l=r(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),u=n(t,l),c=a(t,l),f=s(t,l);return(l.pure?o:i)(u,c,f,t,l)}e.__esModule=!0,e.impureFinalPropsSelectorFactory=i,e.pureFinalPropsSelectorFactory=o,e.default=a;var s=n(1200);!function(t){t&&t.__esModule}(s)},function(t,e,n){"use strict";function r(t,e,n){if(!t)throw new Error("Unexpected value for "+e+" in "+n+".");"mapStateToProps"!==e&&"mapDispatchToProps"!==e||t.hasOwnProperty("dependsOnOwnProps")||(0,a.default)("The selector for "+e+" of "+n+" did not specify a value for dependsOnOwnProps.")}function i(t,e,n,i){r(t,"mapStateToProps",i),r(e,"mapDispatchToProps",i),r(n,"mergeProps",i)}e.__esModule=!0,e.default=i;var o=n(352),a=function(t){return t&&t.__esModule?t:{default:t}}(o)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(4),m=n.n(p),g=n(253),v=n.n(g),y=n(18),b=n.n(y),_=n(3),w=n.n(_),x=n(0),E=n.n(x),M=n(24),S=(n.n(M),n(28)),T=(n.n(S),n(36)),C=(n.n(T),n(31)),O=n(79),A=n(62),I=n(362),R=n(363),P=n(364),L=n(112),N=n(266),k=n(80),D=n(208),F=n(113),j=n(53),U=n(48),z=n(91),B=n(220),V=n(275),G=n(41),H=m.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),W=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var l=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return l.copyLinkToClipboard=l.copyLinkToClipboard.bind(l),l.saveImage=l.saveImage.bind(l),l.zoomIn=l.zoomIn.bind(l),l.zoomOut=l.zoomOut.bind(l),l.onWindowClick=l.onWindowClick.bind(l),l.enableMeasurements=l.enableMeasurements.bind(l),l}return o(e,t),q(e,[{key:"componentDidMount",value:function(){window.addEventListener("pointerdown",this.onWindowClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("pointerdown",this.onWindowClick)}},{key:"onWindowClick",value:function(t){var e=this.props.mapviewer.activePanel,n=v()(t.target);e!==F.a.NONE&&0===n.closest(".cmtViewerPanel").length&&0===n.closest(".cmtViewerPanelButton").length&&e!==F.a.ATTRIBUTE_INFO&&this.props.actions.setActivePanel(this.props.id,F.a.NONE)}},{key:"setActivePanel",value:function(t){var e=this.props.mapviewer.activePanel,n=this.props.actions,r=n.setActivePanel,i=n.logClickControl;e===t?r(this.props.id,F.a.NONE):(r(this.props.id,t),t===F.a.COMPASS&&i("map_compass"))}},{key:"zoomIn",value:function(){Object(P.d)(this.props.map)}},{key:"zoomOut",value:function(){Object(P.e)(this.props.map)}},{key:"saveImage",value:function(){var t=this;this.props.map.once("postcompose",function(e){Object(R.a)(e.context.canvas,"map.png"),t.props.actions.logSaveImage("map")},this),this.props.map.renderSync()}},{key:"copyLinkToClipboard",value:function(){var t=this.context.intl.formatMessage,e=this.props,n=e.map,r=e.actions,i=r.mapLinkToClipboard,o=r.logCopyLink,a=r.showFlashMessage,s=n.getView();i(s.calculateExtent(n.getSize()),s.getProjection().getCode()).then(function(e){o(e.payload),a(t(B.a.copied),{delay:1e3})})}},{key:"enableMeasurements",value:function(){var t=this.props.actions;t.setMeasurementDimension(2),t.showTypeSelectionModal()}},{key:"render",value:function(){var t=this,e=this.props,n=(e.id,e.onExpand),r=e.expanded,i=e.viewerMode,o=e.measurements,a=e.unitAllowsToMeasure,s=e.config,l=e.mapviewer.activePanel,u=e.compassRotation,c=e.resetRotation,f=a?V.a.startMeasurement:V.a.notPossibleCurrentSrs,h={onExpand:n,expanded:r},d=s.services.obliqueLocation,p=s.map.obliqueLayers,m=d&&p&&0!==p.length,g=r?"-expanded":"-contracted";return E.a.createElement(I.a,H({},h,{className:"viewer-navbar"+g+" cmt-navbar",leftSize:4,left:E.a.createElement(M.ButtonGroup,null,E.a.createElement(O.a,H({placement:"top"},z.a.basemap),E.a.createElement(M.Button,{className:"cmtViewerPanelButton",onClick:function(){return t.setActivePanel(F.a.BASE_LAYERS)}},E.a.createElement(A.b.Map,null))),E.a.createElement(O.a,H({placement:"top"},z.a.overlays),E.a.createElement(M.Button,{className:"cmtViewerPanelButton",onClick:function(){return t.setActivePanel(F.a.OVERLAYS)}},E.a.createElement(A.b.Layers,null))),E.a.createElement(O.a,H({placement:"top"},z.a.display),E.a.createElement(M.Button,{className:"cmtViewerPanelButton",onClick:function(){return t.setActivePanel(F.a.IMAGE_CONTROLS)}},E.a.createElement(A.b.Display,null))),E.a.createElement(O.a,H({placement:"top"},z.a.attributeinfo),E.a.createElement(M.Button,{className:"cmtViewerPanelButton",onClick:function(){return t.setActivePanel(F.a.ATTRIBUTE_INFO)}},E.a.createElement(A.b.AttributeInfo,null)))),right:E.a.createElement(M.ButtonGroup,null,m&&i!==j.ViewerMode.MEASUREMENT&&E.a.createElement("div",{style:{float:"left",position:"relative"}},E.a.createElement(O.a,H({placement:"top"},z.a.oblique),E.a.createElement(M.Button,{onClick:function(){return t.setActivePanel(F.a.OBLIQUE)},ref:function(e){t.obliqueButton=e}},E.a.createElement(A.b.Oblique,null))),E.a.createElement(M.Overlay,{placement:"top",target:this.obliqueButton,show:l===F.a.OBLIQUE},E.a.createElement(O.b,z.a.openOblique))),i!==j.ViewerMode.MEASUREMENT&&o.allowedToMeasure&&E.a.createElement(O.a,H({placement:"top"},f),E.a.createElement("div",{className:"fix-disabled-child-tooltip"},E.a.createElement(M.Button,{disabled:!a,onClick:this.enableMeasurements},E.a.createElement(A.b.Measure,null)))),(i===j.ViewerMode.VIEWER||i===j.ViewerMode.MEASUREMENT&&2===o.dimension)&&E.a.createElement(O.a,H({placement:"top"},z.a.copyMapLink),E.a.createElement(M.Button,{onClick:this.copyLinkToClipboard},E.a.createElement(A.b.ToClipboard,null))),(i===j.ViewerMode.VIEWER||i===j.ViewerMode.MEASUREMENT&&2===o.dimension)&&E.a.createElement(O.a,H({placement:"top"},z.a.mapImage),E.a.createElement(M.Button,{onClick:this.saveImage},E.a.createElement(A.b.Download,null))),E.a.createElement(O.a,H({placement:"top"},z.a.compass),E.a.createElement(M.Button,{className:"cmtViewerPanelButton",onClick:function(){return t.setActivePanel(F.a.COMPASS)},onDoubleClick:c},E.a.createElement(A.b.Compass,{style:{transform:"rotate("+u+"rad)"}}))),E.a.createElement(O.a,H({placement:"top"},z.a.zoomInButton),E.a.createElement(M.Button,{onClick:this.zoomIn},E.a.createElement(A.b.ZoomIn,null))),E.a.createElement(O.a,H({placement:"top"},z.a.zoomOutButton),E.a.createElement(M.Button,{onClick:this.zoomOut},E.a.createElement(A.b.ZoomOut,null))))}))}}]),e}(C.a);W.propTypes={map:w.a.instanceOf(b.a.Map),onExpand:w.a.func,expanded:w.a.bool,compassRotation:w.a.number},W.defaultProps={map:null,compassRotation:0};var Y=function(t,e){var n=t.mapviewers,r=t.viewermanager,i=t.measurements,o=t.srs,a=t.config;return{mapviewer:n.byId[e.id],viewerMode:r.viewerMode,measurements:i,unitAllowsToMeasure:o.userSrsUnit!==G.d.DEGREES&&o.userSrsUnit!==G.d.UNKNOWN,config:a.config}},X=function(t){return{actions:Object(T.bindActionCreators)({mapLinkToClipboard:N.mapLinkToClipboard,showFlashMessage:L.showFlashMessage,logCopyLink:k.logCopyLink,logSaveImage:k.logSaveImage,logClickControl:k.logClickControl,logSetValue:k.logSetValue,setActivePanel:D.b.setActivePanel,setMeasurementDimension:U.setMeasurementDimension,showTypeSelectionModal:U.showTypeSelectionModal},t)}};e.a=Object(S.connect)(Y,X)(W)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(8),s=r(a),l=n(9),u=r(l),c=n(10),f=r(c),h=n(0),d=r(h),p=n(524),m=r(p),g=function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,t.apply(this,arguments))}return(0,f.default)(e,t),e.prototype.render=function(){return d.default.createElement(m.default,(0,o.default)({},this.props,{accordion:!0}),this.props.children)},e}(d.default.Component);e.default=g,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(61),o=r(i),a=n(11),s=r(a),l=n(13),u=r(l),c=n(8),f=r(c),h=n(9),d=r(h),p=n(10),m=r(p),g=n(12),v=r(g),y=n(0),b=r(y),_=n(3),w=r(_),x=n(14),E=n(56),M=n(354),S=r(M),T={onDismiss:w.default.func,closeLabel:w.default.string},C={closeLabel:"Close alert"},O=function(t){function e(){return(0,f.default)(this,e),(0,d.default)(this,t.apply(this,arguments))}return(0,m.default)(e,t),e.prototype.render=function(){var t,e=this.props,n=e.onDismiss,r=e.closeLabel,i=e.className,o=e.children,a=(0,u.default)(e,["onDismiss","closeLabel","className","children"]),l=(0,x.splitBsProps)(a),c=l[0],f=l[1],h=!!n,d=(0,s.default)({},(0,x.getClassSet)(c),(t={},t[(0,x.prefix)(c,"dismissable")]=h,t));return b.default.createElement("div",(0,s.default)({},f,{role:"alert",className:(0,v.default)(i,d)}),h&&b.default.createElement(S.default,{onClick:n,label:r}),o)},e}(b.default.Component);O.propTypes=T,O.defaultProps=C,e.default=(0,x.bsStyles)((0,o.default)(E.State),E.State.INFO,(0,x.bsClass)("alert",O)),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(14),w={pullRight:b.default.bool},x={pullRight:!1},E=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.hasContent=function(t){var e=!1;return v.default.Children.forEach(t,function(t){e||(t||0===t)&&(e=!0)}),e},e.prototype.render=function(){var t=this.props,e=t.pullRight,n=t.className,r=t.children,i=(0,s.default)(t,["pullRight","className","children"]),a=(0,_.splitBsProps)(i),l=a[0],u=a[1],c=(0,o.default)({},(0,_.getClassSet)(l),{"pull-right":e,hidden:!this.hasContent(r)});return v.default.createElement("span",(0,o.default)({},u,{className:(0,m.default)(n,c)}),r)},e}(v.default.Component);E.propTypes=w,E.defaultProps=x,e.default=(0,_.bsClass)("badge",E),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(525),b=r(y),_=n(14),w=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=(0,s.default)(t,["className"]),r=(0,_.splitBsProps)(n),i=r[0],a=r[1],l=(0,_.getClassSet)(i);return v.default.createElement("ol",(0,o.default)({},a,{role:"navigation","aria-label":"breadcrumbs",className:(0,m.default)(e,l)}))},e}(v.default.Component);w.Item=b.default,e.default=(0,_.bsClass)("breadcrumb",w),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(14),b=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=(0,s.default)(t,["className"]),r=(0,y.splitBsProps)(n),i=r[0],a=r[1],l=(0,y.getClassSet)(i);return v.default.createElement("div",(0,o.default)({},a,{role:"toolbar",className:(0,m.default)(e,l)}))},e}(v.default.Component);e.default=(0,y.bsClass)("btn-toolbar",b),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(1208),w=r(_),x=n(526),E=r(x),M=n(356),S=r(M),T=n(103),C=r(T),O=n(14),A=n(64),I=r(A),R={slide:b.default.bool,indicators:b.default.bool,interval:b.default.number,controls:b.default.bool,pauseOnHover:b.default.bool,wrap:b.default.bool,onSelect:b.default.func,onSlideEnd:b.default.func,activeIndex:b.default.number,defaultActiveIndex:b.default.number,direction:b.default.oneOf(["prev","next"]),prevIcon:b.default.node,prevLabel:b.default.string,nextIcon:b.default.node,nextLabel:b.default.string},P={slide:!0,interval:5e3,pauseOnHover:!0,wrap:!0,indicators:!0,controls:!0,prevIcon:v.default.createElement(S.default,{glyph:"chevron-left"}),prevLabel:"Previous",nextIcon:v.default.createElement(S.default,{glyph:"chevron-right"}),nextLabel:"Next"},L=function(t){function e(n,r){(0,u.default)(this,e);var i=(0,f.default)(this,t.call(this,n,r));i.handleMouseOver=i.handleMouseOver.bind(i),i.handleMouseOut=i.handleMouseOut.bind(i),i.handlePrev=i.handlePrev.bind(i),i.handleNext=i.handleNext.bind(i),i.handleItemAnimateOutEnd=i.handleItemAnimateOutEnd.bind(i);var o=n.defaultActiveIndex;return i.state={activeIndex:null!=o?o:0,previousActiveIndex:null,direction:null},i.isUnmounted=!1,i}return(0,d.default)(e,t),e.prototype.componentDidMount=function(){this.waitForNext()},e.prototype.componentWillReceiveProps=function(t){var e=this.getActiveIndex();null!=t.activeIndex&&t.activeIndex!==e&&(clearTimeout(this.timeout),this.setState({previousActiveIndex:e,direction:null!=t.direction?t.direction:this.getDirection(e,t.activeIndex)})),null==t.activeIndex&&this.state.activeIndex>=t.children.length&&this.setState({activeIndex:0,previousActiveIndex:null,direction:null})},e.prototype.componentWillUnmount=function(){clearTimeout(this.timeout),this.isUnmounted=!0},e.prototype.getActiveIndex=function(){var t=this.props.activeIndex;return null!=t?t:this.state.activeIndex},e.prototype.getDirection=function(t,e){return t===e?null:t>e?"prev":"next"},e.prototype.handleItemAnimateOutEnd=function(){var t=this;this.setState({previousActiveIndex:null,direction:null},function(){t.waitForNext(),t.props.onSlideEnd&&t.props.onSlideEnd()})},e.prototype.handleMouseOut=function(){this.isPaused&&this.play()},e.prototype.handleMouseOver=function(){this.props.pauseOnHover&&this.pause()},e.prototype.handleNext=function(t){var e=this.getActiveIndex()+1;if(e>I.default.count(this.props.children)-1){if(!this.props.wrap)return;e=0}this.select(e,t,"next")},e.prototype.handlePrev=function(t){var e=this.getActiveIndex()-1;if(e<0){if(!this.props.wrap)return;e=I.default.count(this.props.children)-1}this.select(e,t,"prev")},e.prototype.pause=function(){this.isPaused=!0,clearTimeout(this.timeout)},e.prototype.play=function(){this.isPaused=!1,this.waitForNext()},e.prototype.select=function(t,e,n){if(clearTimeout(this.timeout),!this.isUnmounted){var r=this.props.slide?this.getActiveIndex():null;n=n||this.getDirection(r,t);var i=this.props.onSelect;if(i&&(i.length>1?(e?(e.persist(),e.direction=n):e={direction:n},i(t,e)):i(t)),null==this.props.activeIndex&&t!==r){if(null!=this.state.previousActiveIndex)return;this.setState({activeIndex:t,previousActiveIndex:r,direction:n})}}},e.prototype.waitForNext=function(){var t=this.props,e=t.slide,n=t.interval,r=t.activeIndex;!this.isPaused&&e&&n&&null==r&&(this.timeout=setTimeout(this.handleNext,n))},e.prototype.renderControls=function(t){var e=t.wrap,n=t.children,r=t.activeIndex,i=t.prevIcon,o=t.nextIcon,a=t.bsProps,s=t.prevLabel,l=t.nextLabel,u=(0,O.prefix)(a,"control"),c=I.default.count(n);return[(e||0!==r)&&v.default.createElement(C.default,{key:"prev",className:(0,m.default)(u,"left"),onClick:this.handlePrev},i,s&&v.default.createElement("span",{className:"sr-only"},s)),(e||r!==c-1)&&v.default.createElement(C.default,{key:"next",className:(0,m.default)(u,"right"),onClick:this.handleNext},o,l&&v.default.createElement("span",{className:"sr-only"},l))]},e.prototype.renderIndicators=function(t,e,n){var r=this,i=[];return I.default.forEach(t,function(t,n){i.push(v.default.createElement("li",{key:n,className:n===e?"active":null,onClick:function(t){return r.select(n,t)}})," ")}),v.default.createElement("ol",{className:(0,O.prefix)(n,"indicators")},i)},e.prototype.render=function(){var t=this,e=this.props,n=e.slide,r=e.indicators,i=e.controls,a=e.wrap,l=e.prevIcon,u=e.prevLabel,c=e.nextIcon,f=e.nextLabel,h=e.className,d=e.children,p=(0,s.default)(e,["slide","indicators","controls","wrap","prevIcon","prevLabel","nextIcon","nextLabel","className","children"]),y=this.state,b=y.previousActiveIndex,_=y.direction,w=(0,O.splitBsPropsAndOmit)(p,["interval","pauseOnHover","onSelect","onSlideEnd","activeIndex","defaultActiveIndex","direction"]),x=w[0],E=w[1],M=this.getActiveIndex(),S=(0,o.default)({},(0,O.getClassSet)(x),{slide:n});return v.default.createElement("div",(0,o.default)({},E,{className:(0,m.default)(h,S),onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut}),r&&this.renderIndicators(d,M,x),v.default.createElement("div",{className:(0,O.prefix)(x,"inner")},I.default.map(d,function(e,r){var i=r===M,o=n&&r===b;return(0,g.cloneElement)(e,{active:i,index:r,animateOut:o,animateIn:i&&null!=b&&n,direction:_,onAnimateOutEnd:o?t.handleItemAnimateOutEnd:null})})),i&&this.renderControls({wrap:a,children:d,activeIndex:M,prevIcon:l,prevLabel:u,nextIcon:c,nextLabel:f,bsProps:x}))},e}(v.default.Component);L.propTypes=R,L.defaultProps=P,L.Caption=w.default,L.Item=E.default,e.default=(0,O.bsClass)("carousel",L),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(35),b=r(y),_=n(14),w={componentClass:b.default},x={componentClass:"div"},E=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,_.splitBsProps)(r),a=i[0],l=i[1],u=(0,_.getClassSet)(a);return v.default.createElement(e,(0,o.default)({},l,{className:(0,m.default)(n,u)}))},e}(v.default.Component);E.propTypes=w,E.defaultProps=x,e.default=(0,_.bsClass)("carousel-caption",E),t.exports=e.default},function(t,e,n){"use strict";function r(t,e,n){t.addEventListener(e,n,!1)}function i(t,e,n){t.removeEventListener(e,n,!1)}e.__esModule=!0;var o=!("undefined"==typeof window||!window.document||!window.document.createElement),a={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},s=[];o&&function(){var t=document.createElement("div"),e=t.style;"AnimationEvent"in window||delete a.animationend.animation,"TransitionEvent"in window||delete a.transitionend.transition;for(var n in a){var r=a[n];for(var i in r)if(i in e){s.push(r[i]);break}}}();var l={addEndEventListener:function(t,e){if(0===s.length)return void window.setTimeout(e,0);s.forEach(function(n){r(t,n,e)})},removeEndEventListener:function(t,e){0!==s.length&&s.forEach(function(n){i(t,n,e)})}};e.default=l,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(78),w=(r(_),n(14)),x={inline:b.default.bool,disabled:b.default.bool,title:b.default.string,validationState:b.default.oneOf(["success","warning","error",null]),inputRef:b.default.func},E={inline:!1,disabled:!1,title:""},M=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.inline,n=t.disabled,r=t.validationState,i=t.inputRef,a=t.className,l=t.style,u=t.title,c=t.children,f=(0,s.default)(t,["inline","disabled","validationState","inputRef","className","style","title","children"]),h=(0,w.splitBsProps)(f),d=h[0],p=h[1],g=v.default.createElement("input",(0,o.default)({},p,{ref:i,type:"checkbox",disabled:n}));if(e){var y,b=(y={},y[(0,w.prefix)(d,"inline")]=!0,y.disabled=n,y);return v.default.createElement("label",{className:(0,m.default)(a,b),style:l,title:u},g,c)}var _=(0,o.default)({},(0,w.getClassSet)(d),{disabled:n});return r&&(_["has-"+r]=!0),v.default.createElement("div",{className:(0,m.default)(a,_),style:l},v.default.createElement("label",{title:u},g,c))},e}(v.default.Component);M.propTypes=x,M.defaultProps=E,e.default=(0,w.bsClass)("checkbox",M),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(35),w=r(_),x=n(14),E=n(527),M=r(E),S=n(56),T={componentClass:w.default,visibleXsBlock:b.default.bool,visibleSmBlock:b.default.bool,visibleMdBlock:b.default.bool,visibleLgBlock:b.default.bool},C={componentClass:"div"},O=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,x.splitBsProps)(r),a=i[0],l=i[1],u=(0,x.getClassSet)(a);return S.DEVICE_SIZES.forEach(function(t){var e="visible"+(0,M.default)(t)+"Block";l[e]&&(u["visible-"+t+"-block"]=!0),delete l[e]}),v.default.createElement(e,(0,o.default)({},l,{className:(0,m.default)(n,u)}))},e}(v.default.Component);O.propTypes=T,O.defaultProps=C,e.default=(0,x.bsClass)("clearfix",O),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(78),w=(r(_),n(14)),x={htmlFor:b.default.string,srOnly:b.default.bool},E={srOnly:!1},M={$bs_formGroup:b.default.object},S=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.context.$bs_formGroup,e=t&&t.controlId,n=this.props,r=n.htmlFor,i=void 0===r?e:r,a=n.srOnly,l=n.className,u=(0,s.default)(n,["htmlFor","srOnly","className"]),c=(0,w.splitBsProps)(u),f=c[0],h=c[1],d=(0,o.default)({},(0,w.getClassSet)(f),{"sr-only":a});return v.default.createElement("label",(0,o.default)({},h,{htmlFor:i,className:(0,m.default)(l,d)}))},e}(v.default.Component);S.propTypes=x,S.defaultProps=E,S.contextTypes=M,e.default=(0,w.bsClass)("control-label",S),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(35),w=r(_),x=n(14),E=n(56),M={componentClass:w.default,xs:b.default.number,sm:b.default.number,md:b.default.number,lg:b.default.number,xsHidden:b.default.bool,smHidden:b.default.bool,mdHidden:b.default.bool,lgHidden:b.default.bool,xsOffset:b.default.number,smOffset:b.default.number,mdOffset:b.default.number,lgOffset:b.default.number,xsPush:b.default.number,smPush:b.default.number,mdPush:b.default.number,lgPush:b.default.number,xsPull:b.default.number,smPull:b.default.number,mdPull:b.default.number,lgPull:b.default.number},S={componentClass:"div"},T=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,x.splitBsProps)(r),a=i[0],l=i[1],u=[];return E.DEVICE_SIZES.forEach(function(t){function e(e,n){var r=""+t+e,i=l[r];null!=i&&u.push((0,x.prefix)(a,""+t+n+"-"+i)),delete l[r]}e("",""),e("Offset","-offset"),e("Push","-push"),e("Pull","-pull");var n=t+"Hidden";l[n]&&u.push("hidden-"+t),delete l[n]}),v.default.createElement(e,(0,o.default)({},l,{className:(0,m.default)(n,u)}))},e}(v.default.Component);T.propTypes=M,T.defaultProps=S,e.default=(0,x.bsClass)("col",T),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t.replace(i,function(t,e){return e.toUpperCase()})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=/-(.)/g;t.exports=e.default},function(t,e,n){"use strict";function r(t){return(0,o.default)(t).replace(a,"-ms-")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(1216),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=/^ms-/;t.exports=e.default},function(t,e,n){"use strict";function r(t){return t.replace(i,"-$1").toLowerCase()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=/([A-Z])/g;t.exports=e.default},function(t,e,n){"use strict";function r(t){if(!t)throw new TypeError("No Element passed to `getComputedStyle()`");var e=t.ownerDocument;return"defaultView"in e?e.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):window.getComputedStyle(t,null):{getPropertyValue:function(e){var n=t.style;"float"==(e=(0,o.default)(e))&&(e="styleFloat");var r=t.currentStyle[e]||null;if(null==r&&n&&n[e]&&(r=n[e]),s.test(r)&&!a.test(e)){var i=n.left,l=t.runtimeStyle,u=l&&l.left;u&&(l.left=t.currentStyle.left),n.left="fontSize"===e?"1em":r,r=n.pixelLeft+"px",n.left=i,u&&(l.left=u)}return r}}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(528),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=/^(top|right|bottom|left)$/,s=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;t.exports=e.default},function(t,e,n){"use strict";function r(t,e){return"removeProperty"in t.style?t.style.removeProperty(e):t.style.removeAttribute(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){return!(!t||!i.test(t))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){function n(r,s){function u(t,n){var r=p.getLinkName(t),i=this.props[s[t]];r&&f(this.props,r)&&!i&&(i=this.props[r].requestChange);for(var o=arguments.length,a=Array(o>2?o-2:0),l=2;l<o;l++)a[l-2]=arguments[l];e(this,t,i,n,a)}function f(t,e){return void 0!==t[e]}function d(t){var e={};return p.each(t,function(t,n){-1===E.indexOf(n)&&(e[n]=t)}),e}var m,g,v,y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],b=r.displayName||r.name||"Component",_=p.getType(r).propTypes,w=p.isReactComponent(r),x=Object.keys(s),E=["valueLink","checkedLink"].concat(x.map(p.defaultKey));v=p.uncontrolledPropTypes(s,_,b),(0,h.default)(w||!y.length,"[uncontrollable] stateless function components cannot pass through methods because they have no associated instances. Check component: "+b+", attempting to pass through methods: "+y.join(", ")),y=p.transform(y,function(t,e){t[e]=function(){var t;return(t=this.refs.inner)[e].apply(t,arguments)}},{});var M=(g=m=function(e){function n(){return i(this,n),o(this,e.apply(this,arguments))}return a(n,e),n.prototype.shouldComponentUpdate=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return!t.shouldComponentUpdate||t.shouldComponentUpdate.apply(this,n)},n.prototype.componentWillMount=function(){var t=this,e=this.props;this._values={},x.forEach(function(n){t._values[n]=e[p.defaultKey(n)]})},n.prototype.componentWillReceiveProps=function(e){var n=this,r=this.props;t.componentWillReceiveProps&&t.componentWillReceiveProps.call(this,e),x.forEach(function(t){void 0===p.getValue(e,t)&&void 0!==p.getValue(r,t)&&(n._values[t]=e[p.defaultKey(t)])})},n.prototype.componentWillUnmount=function(){this.unmounted=!0},n.prototype.getControlledInstance=function(){return this.refs.inner},n.prototype.render=function(){var t=this,e={},n=d(this.props);return p.each(s,function(n,r){var i=p.getLinkName(r),o=t.props[r];i&&!f(t.props,r)&&f(t.props,i)&&(o=t.props[i].value),e[r]=void 0!==o?o:t._values[r],e[n]=u.bind(t,r)}),e=l({},n,e,{ref:w?"inner":null}),c.default.createElement(r,e)},n}(c.default.Component),m.displayName="Uncontrolled("+b+")",m.propTypes=v,g);return l(M.prototype,y),M.ControlledComponent=r,M.deferControlTo=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2];return n(t,l({},s,e),r)},M}return n}e.__esModule=!0;var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=s;var u=n(0),c=r(u),f=n(90),h=r(f),d=n(1221),p=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(d);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){var r={};return r}function o(t){return y[0]>=15||0===y[0]&&y[1]>=13?t:t.type}function a(t,e){var n=l(e);return n&&!s(t,e)&&s(t,n)?t[n].value:t[e]}function s(t,e){return void 0!==t[e]}function l(t){return"value"===t?"valueLink":"checked"===t?"checkedLink":null}function u(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function c(t,e,n){return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];e&&e.call.apply(e,[t].concat(i)),n&&n.call.apply(n,[t].concat(i))}}function f(t,e,n){return h(t,e.bind(null,n=n||(Array.isArray(t)?[]:{}))),n}function h(t,e,n){if(Array.isArray(t))return t.forEach(e,n);for(var r in t)d(t,r)&&e.call(n,t[r],r,t)}function d(t,e){return!!t&&Object.prototype.hasOwnProperty.call(t,e)}function p(t){return!!(t&&t.prototype&&t.prototype.isReactComponent)}e.__esModule=!0,e.version=void 0,e.uncontrolledPropTypes=i,e.getType=o,e.getValue=a,e.getLinkName=l,e.defaultKey=u,e.chain=c,e.transform=f,e.each=h,e.has=d,e.isReactComponent=p;var m=n(0),g=r(m),v=n(90),y=(r(v),e.version=g.default.version.split(".").map(parseFloat))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(30),u=r(l),c=n(8),f=r(c),h=n(9),d=r(h),p=n(10),m=r(p),g=n(12),v=r(g),y=n(358),b=r(y),_=n(0),w=r(_),x=n(3),E=r(x),M=n(52),S=r(M),T=n(532),C=r(T),O=n(14),A=n(46),I=r(A),R=n(64),P=r(R),L={open:E.default.bool,pullRight:E.default.bool,onClose:E.default.func,labelledBy:E.default.oneOfType([E.default.string,E.default.number]),onSelect:E.default.func,rootCloseEvent:E.default.oneOf(["click","mousedown"])},N={bsRole:"menu",pullRight:!1},k=function(t){function e(n){(0,f.default)(this,e);var r=(0,d.default)(this,t.call(this,n));return r.handleRootClose=r.handleRootClose.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r}return(0,m.default)(e,t),e.prototype.getFocusableMenuItems=function(){var t=S.default.findDOMNode(this);return t?(0,u.default)(t.querySelectorAll('[tabIndex="-1"]')):[]},e.prototype.getItemsAndActiveIndex=function(){var t=this.getFocusableMenuItems();return{items:t,activeIndex:t.indexOf(document.activeElement)}},e.prototype.focusNext=function(){var t=this.getItemsAndActiveIndex(),e=t.items,n=t.activeIndex;if(0!==e.length){e[n===e.length-1?0:n+1].focus()}},e.prototype.focusPrevious=function(){var t=this.getItemsAndActiveIndex(),e=t.items,n=t.activeIndex;if(0!==e.length){e[0===n?e.length-1:n-1].focus()}},e.prototype.handleKeyDown=function(t){switch(t.keyCode){case b.default.codes.down:this.focusNext(),t.preventDefault();break;case b.default.codes.up:this.focusPrevious(),t.preventDefault();break;case b.default.codes.esc:case b.default.codes.tab:this.props.onClose(t,{source:"keydown"})}},e.prototype.handleRootClose=function(t){this.props.onClose(t,{source:"rootClose"})},e.prototype.render=function(){var t,e=this,n=this.props,r=n.open,i=n.pullRight,a=n.labelledBy,l=n.onSelect,u=n.className,c=n.rootCloseEvent,f=n.children,h=(0,s.default)(n,["open","pullRight","labelledBy","onSelect","className","rootCloseEvent","children"]),d=(0,O.splitBsPropsAndOmit)(h,["onClose"]),p=d[0],m=d[1],g=(0,o.default)({},(0,O.getClassSet)(p),(t={},t[(0,O.prefix)(p,"right")]=i,t));return w.default.createElement(C.default,{disabled:!r,onRootClose:this.handleRootClose,event:c},w.default.createElement("ul",(0,o.default)({},m,{role:"menu",className:(0,v.default)(u,g),"aria-labelledby":a}),P.default.map(f,function(t){return w.default.cloneElement(t,{onKeyDown:(0,I.default)(t.props.onKeyDown,e.handleKeyDown),onSelect:(0,I.default)(t.props.onSelect,l)})})))},e}(w.default.Component);k.propTypes=L,k.defaultProps=N,e.default=(0,O.bsClass)("dropdown-menu",k),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,s.default)(function(t,n,r){var i=void 0;return e.every(function(e){return!!u.default.some(t.children,function(t){return t.props.bsRole===e})||(i=e,!1)}),i?new Error("(children) "+r+" - Missing a required child with bsRole: "+i+". "+r+" must have at least one child of each of the following bsRoles: "+e.join(", ")):null})}function o(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,s.default)(function(t,n,r){var i=void 0;return e.every(function(e){return!(u.default.filter(t.children,function(t){return t.props.bsRole===e}).length>1&&(i=e,1))}),i?new Error("(children) "+r+" - Duplicate children detected of bsRole: "+i+". Only one child each allowed with the following bsRoles: "+e.join(", ")):null})}e.__esModule=!0,e.requiredRoles=i,e.exclusiveRoles=o;var a=n(254),s=r(a),l=n(64),u=r(l)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(13),o=r(i),a=n(8),s=r(a),l=n(9),u=r(l),c=n(10),f=r(c),h=n(11),d=r(h),p=n(0),m=r(p),g=n(3),v=r(g),y=n(258),b=r(y),_=n(260),w=r(_),x=(0,d.default)({},b.default.propTypes,{bsStyle:v.default.string,bsSize:v.default.string,title:v.default.node.isRequired,noCaret:v.default.bool,children:v.default.node}),E=function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,t.apply(this,arguments))}return(0,f.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.bsSize,n=t.bsStyle,r=t.title,i=t.children,a=(0,o.default)(t,["bsSize","bsStyle","title","children"]),s=(0,w.default)(a,b.default.ControlledComponent),l=s[0],u=s[1];return m.default.createElement(b.default,(0,d.default)({},l,{bsSize:e,bsStyle:n}),m.default.createElement(b.default.Toggle,(0,d.default)({},u,{bsSize:e,bsStyle:n}),r),m.default.createElement(b.default.Menu,null,i))},e}(m.default.Component);E.propTypes=x,e.default=E,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(35),w=r(_),x=n(14),E={horizontal:b.default.bool,inline:b.default.bool,componentClass:w.default},M={horizontal:!1,inline:!1,componentClass:"form"},S=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.horizontal,n=t.inline,r=t.componentClass,i=t.className,a=(0,s.default)(t,["horizontal","inline","componentClass","className"]),l=(0,x.splitBsProps)(a),u=l[0],c=l[1],f=[];return e&&f.push((0,x.prefix)(u,"horizontal")),n&&f.push((0,x.prefix)(u,"inline")),v.default.createElement(r,(0,o.default)({},c,{className:(0,m.default)(i,f)}))},e}(v.default.Component);S.propTypes=E,S.defaultProps=M,e.default=(0,x.bsClass)("form",S),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(35),w=r(_),x=n(78),E=(r(x),n(1227)),M=r(E),S=n(1228),T=r(S),C=n(14),O=n(56),A={componentClass:w.default,type:b.default.string,id:b.default.string,inputRef:b.default.func},I={componentClass:"input"},R={$bs_formGroup:b.default.object},P=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.context.$bs_formGroup,e=t&&t.controlId,n=this.props,r=n.componentClass,i=n.type,a=n.id,l=void 0===a?e:a,u=n.inputRef,c=n.className,f=n.bsSize,h=(0,s.default)(n,["componentClass","type","id","inputRef","className","bsSize"]),d=(0,C.splitBsProps)(h),p=d[0],g=d[1],y=void 0;if("file"!==i&&(y=(0,C.getClassSet)(p)),f){var b=O.SIZE_MAP[f]||f;y[(0,C.prefix)({bsClass:"input"},b)]=!0}return v.default.createElement(r,(0,o.default)({},g,{type:i,id:l,ref:u,className:(0,m.default)(c,y)}))},e}(v.default.Component);P.propTypes=A,P.defaultProps=I,P.contextTypes=R,P.Feedback=M.default,P.Static=T.default,e.default=(0,C.bsClass)("form-control",(0,C.bsSizes)([O.Size.SMALL,O.Size.LARGE],P)),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(13),o=r(i),a=n(11),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(356),w=r(_),x=n(14),E={bsRole:"feedback"},M={$bs_formGroup:b.default.object},S=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.getGlyph=function(t){switch(t){case"success":return"ok";case"warning":return"warning-sign";case"error":return"remove";default:return null}},e.prototype.renderDefaultFeedback=function(t,e,n,r){var i=this.getGlyph(t&&t.validationState);return i?v.default.createElement(w.default,(0,s.default)({},r,{glyph:i,className:(0,m.default)(e,n)})):null},e.prototype.render=function(){var t=this.props,e=t.className,n=t.children,r=(0,o.default)(t,["className","children"]),i=(0,x.splitBsProps)(r),a=i[0],l=i[1],u=(0,x.getClassSet)(a);if(!n)return this.renderDefaultFeedback(this.context.$bs_formGroup,e,u,l);var c=v.default.Children.only(n);return v.default.cloneElement(c,(0,s.default)({},l,{className:(0,m.default)(c.props.className,e,u)}))},e}(v.default.Component);S.defaultProps=E,S.contextTypes=M,e.default=(0,x.bsClass)("form-control-feedback",S),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(35),b=r(y),_=n(14),w={componentClass:b.default},x={componentClass:"p"},E=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,_.splitBsProps)(r),a=i[0],l=i[1],u=(0,_.getClassSet)(a);return v.default.createElement(e,(0,o.default)({},l,{className:(0,m.default)(n,u)}))},e}(v.default.Component);E.propTypes=w,E.defaultProps=x,e.default=(0,_.bsClass)("form-control-static",E),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(14),w=n(56),x=n(64),E=r(x),M={controlId:b.default.string,validationState:b.default.oneOf(["success","warning","error",null])},S={$bs_formGroup:b.default.object.isRequired},T=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.getChildContext=function(){var t=this.props;return{$bs_formGroup:{controlId:t.controlId,validationState:t.validationState}}},e.prototype.hasFeedback=function(t){var e=this;return E.default.some(t,function(t){return"feedback"===t.props.bsRole||t.props.children&&e.hasFeedback(t.props.children)})},e.prototype.render=function(){var t=this.props,e=t.validationState,n=t.className,r=t.children,i=(0,s.default)(t,["validationState","className","children"]),a=(0,_.splitBsPropsAndOmit)(i,["controlId"]),l=a[0],u=a[1],c=(0,o.default)({},(0,_.getClassSet)(l),{"has-feedback":this.hasFeedback(r)});return e&&(c["has-"+e]=!0),v.default.createElement("div",(0,o.default)({},u,{className:(0,m.default)(n,c)}),r)},e}(v.default.Component);T.propTypes=M,T.childContextTypes=S,e.default=(0,_.bsClass)("form-group",(0,_.bsSizes)([w.Size.LARGE,w.Size.SMALL],T)),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(14),b=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=(0,s.default)(t,["className"]),r=(0,y.splitBsProps)(n),i=r[0],a=r[1],l=(0,y.getClassSet)(i);return v.default.createElement("span",(0,o.default)({},a,{className:(0,m.default)(e,l)}))},e}(v.default.Component);e.default=(0,y.bsClass)("help-block",b),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(14),w={responsive:b.default.bool,rounded:b.default.bool,circle:b.default.bool,thumbnail:b.default.bool},x={responsive:!1,rounded:!1,circle:!1,thumbnail:!1},E=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t,e=this.props,n=e.responsive,r=e.rounded,i=e.circle,a=e.thumbnail,l=e.className,u=(0,s.default)(e,["responsive","rounded","circle","thumbnail","className"]),c=(0,_.splitBsProps)(u),f=c[0],h=c[1],d=(t={},t[(0,_.prefix)(f,"responsive")]=n,t[(0,_.prefix)(f,"rounded")]=r,t[(0,_.prefix)(f,"circle")]=i,t[(0,_.prefix)(f,"thumbnail")]=a,t);return v.default.createElement("img",(0,o.default)({},h,{className:(0,m.default)(l,d)}))},e}(v.default.Component);E.propTypes=w,E.defaultProps=x,e.default=(0,_.bsClass)("img",E),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(1233),b=r(y),_=n(1234),w=r(_),x=n(14),E=n(56),M=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=(0,s.default)(t,["className"]),r=(0,x.splitBsProps)(n),i=r[0],a=r[1],l=(0,x.getClassSet)(i);return v.default.createElement("span",(0,o.default)({},a,{className:(0,m.default)(e,l)}))},e}(v.default.Component);M.Addon=b.default,M.Button=w.default,e.default=(0,x.bsClass)("input-group",(0,x.bsSizes)([E.Size.LARGE,E.Size.SMALL],M)),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(14),b=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=(0,s.default)(t,["className"]),r=(0,y.splitBsProps)(n),i=r[0],a=r[1],l=(0,y.getClassSet)(i);return v.default.createElement("span",(0,o.default)({},a,{className:(0,m.default)(e,l)}))},e}(v.default.Component);e.default=(0,y.bsClass)("input-group-addon",b),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(14),b=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=(0,s.default)(t,["className"]),r=(0,y.splitBsProps)(n),i=r[0],a=r[1],l=(0,y.getClassSet)(i);return v.default.createElement("span",(0,o.default)({},a,{className:(0,m.default)(e,l)}))},e}(v.default.Component);e.default=(0,y.bsClass)("input-group-btn",b),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(0),m=r(p),g=n(12),v=r(g),y=n(35),b=r(y),_=n(14),w={componentClass:b.default},x={componentClass:"div"},E=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,_.splitBsProps)(r),a=i[0],l=i[1],u=(0,_.getClassSet)(a);return m.default.createElement(e,(0,o.default)({},l,{className:(0,v.default)(n,u)}))},e}(m.default.Component);E.propTypes=w,E.defaultProps=x,e.default=(0,_.bsClass)("jumbotron",E),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(61),o=r(i),a=n(11),s=r(a),l=n(13),u=r(l),c=n(8),f=r(c),h=n(9),d=r(h),p=n(10),m=r(p),g=n(12),v=r(g),y=n(0),b=r(y),_=n(14),w=n(56),x=function(t){function e(){return(0,f.default)(this,e),(0,d.default)(this,t.apply(this,arguments))}return(0,m.default)(e,t),e.prototype.hasContent=function(t){var e=!1;return b.default.Children.forEach(t,function(t){e||(t||0===t)&&(e=!0)}),e},e.prototype.render=function(){var t=this.props,e=t.className,n=t.children,r=(0,u.default)(t,["className","children"]),i=(0,_.splitBsProps)(r),o=i[0],a=i[1],l=(0,s.default)({},(0,_.getClassSet)(o),{hidden:!this.hasContent(n)});return b.default.createElement("span",(0,s.default)({},a,{className:(0,v.default)(e,l)}),n)},e}(b.default.Component);e.default=(0,_.bsClass)("label",(0,_.bsStyles)([].concat((0,o.default)(w.State),[w.Style.DEFAULT,w.Style.PRIMARY]),w.Style.DEFAULT,x)),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return t?S.default.some(t,function(t){return t.type!==x.default||t.props.href||t.props.onClick})?"div":"ul":"div"}e.__esModule=!0;var o=n(11),a=r(o),s=n(13),l=r(s),u=n(8),c=r(u),f=n(9),h=r(f),d=n(10),p=r(d),m=n(12),g=r(m),v=n(0),y=r(v),b=n(35),_=r(b),w=n(536),x=r(w),E=n(14),M=n(64),S=r(M),T={componentClass:_.default},C=function(t){function e(){return(0,c.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,p.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.children,n=t.componentClass,r=void 0===n?i(e):n,o=t.className,s=(0,l.default)(t,["children","componentClass","className"]),u=(0,E.splitBsProps)(s),c=u[0],f=u[1],h=(0,E.getClassSet)(c),d="ul"===r&&S.default.every(e,function(t){return t.type===x.default});return y.default.createElement(r,(0,a.default)({},f,{className:(0,g.default)(o,h)}),d?S.default.map(e,function(t){return(0,v.cloneElement)(t,{listItem:!0})}):e)},e}(y.default.Component);C.propTypes=T,e.default=(0,E.bsClass)("list-group",C),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(35),w=r(_),x=n(262),E=r(x),M=n(14),S={align:b.default.oneOf(["top","middle","bottom"]),componentClass:w.default},T={componentClass:"div"},C=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.align,r=t.className,i=(0,s.default)(t,["componentClass","align","className"]),a=(0,M.splitBsProps)(i),l=a[0],u=a[1],c=(0,M.getClassSet)(l);return n&&(c[(0,M.prefix)(E.default.defaultProps,n)]=!0),v.default.createElement(e,(0,o.default)({},u,{className:(0,m.default)(r,c)}))},e}(v.default.Component);C.propTypes=S,C.defaultProps=T,e.default=(0,M.bsClass)("media-body",C),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(35),b=r(y),_=n(14),w={componentClass:b.default},x={componentClass:"h4"},E=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,_.splitBsProps)(r),a=i[0],l=i[1],u=(0,_.getClassSet)(a);return v.default.createElement(e,(0,o.default)({},l,{className:(0,m.default)(n,u)}))},e}(v.default.Component);E.propTypes=w,E.defaultProps=x,e.default=(0,_.bsClass)("media-heading",E),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(262),w=r(_),x=n(14),E={align:b.default.oneOf(["top","middle","bottom"])},M=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.align,n=t.className,r=(0,s.default)(t,["align","className"]),i=(0,x.splitBsProps)(r),a=i[0],l=i[1],u=(0,x.getClassSet)(a);return e&&(u[(0,x.prefix)(w.default.defaultProps,e)]=!0),v.default.createElement("div",(0,o.default)({},l,{className:(0,m.default)(n,u)}))},e}(v.default.Component);M.propTypes=E,e.default=(0,x.bsClass)("media-left",M),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(14),b=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=(0,s.default)(t,["className"]),r=(0,y.splitBsProps)(n),i=r[0],a=r[1],l=(0,y.getClassSet)(i);return v.default.createElement("ul",(0,o.default)({},a,{className:(0,m.default)(e,l)}))},e}(v.default.Component);e.default=(0,y.bsClass)("media-list",b),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(14),b=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=(0,s.default)(t,["className"]),r=(0,y.splitBsProps)(n),i=r[0],a=r[1],l=(0,y.getClassSet)(i);return v.default.createElement("li",(0,o.default)({},a,{className:(0,m.default)(e,l)}))},e}(v.default.Component);e.default=(0,y.bsClass)("media",b),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(262),w=r(_),x=n(14),E={align:b.default.oneOf(["top","middle","bottom"])},M=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.align,n=t.className,r=(0,s.default)(t,["align","className"]),i=(0,x.splitBsProps)(r),a=i[0],l=i[1],u=(0,x.getClassSet)(a);return e&&(u[(0,x.prefix)(w.default.defaultProps,e)]=!0),v.default.createElement("div",(0,o.default)({},l,{className:(0,m.default)(n,u)}))},e}(v.default.Component);M.propTypes=E,e.default=(0,x.bsClass)("media-right",M),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(255),w=r(_),x=n(103),E=r(x),M=n(14),S=n(46),T=r(S),C={active:b.default.bool,disabled:b.default.bool,divider:(0,w.default)(b.default.bool,function(t){var e=t.divider,n=t.children;return e&&n?new Error("Children will not be rendered for dividers"):null}),eventKey:b.default.any,header:b.default.bool,href:b.default.string,onClick:b.default.func,onSelect:b.default.func},O={divider:!1,disabled:!1,header:!1},A=function(t){function e(n,r){(0,u.default)(this,e);var i=(0,f.default)(this,t.call(this,n,r));return i.handleClick=i.handleClick.bind(i),i}return(0,d.default)(e,t),e.prototype.handleClick=function(t){var e=this.props,n=e.href,r=e.disabled,i=e.onSelect,o=e.eventKey;n&&!r||t.preventDefault(),r||i&&i(o,t)},e.prototype.render=function(){var t=this.props,e=t.active,n=t.disabled,r=t.divider,i=t.header,a=t.onClick,l=t.className,u=t.style,c=(0,s.default)(t,["active","disabled","divider","header","onClick","className","style"]),f=(0,M.splitBsPropsAndOmit)(c,["eventKey","onSelect"]),h=f[0],d=f[1];return r?(d.children=void 0,v.default.createElement("li",(0,o.default)({},d,{role:"separator",className:(0,m.default)(l,"divider"),style:u}))):i?v.default.createElement("li",(0,o.default)({},d,{role:"heading",className:(0,m.default)(l,(0,M.prefix)(h,"header")),style:u})):v.default.createElement("li",{role:"presentation",className:(0,m.default)(l,{active:e,disabled:n}),style:u},v.default.createElement(E.default,(0,o.default)({},d,{role:"menuitem",tabIndex:"-1",onClick:(0,T.default)(a,this.handleClick)})))},e}(v.default.Component);A.propTypes=C,A.defaultProps=O,e.default=(0,M.bsClass)("dropdown",A),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(13),o=r(i),a=n(8),s=r(a),l=n(9),u=r(l),c=n(10),f=r(c),h=n(11),d=r(h),p=n(12),m=r(p),g=n(1246),v=r(g),y=n(173),b=r(y),_=n(122),w=r(_),x=n(537),E=r(x),M=n(0),S=r(M),T=n(3),C=r(T),O=n(52),A=r(O),I=n(1250),R=r(I),P=n(539),L=r(P),N=n(35),k=r(N),D=n(261),F=r(D),j=n(541),U=r(j),z=n(1260),B=r(z),V=n(542),G=r(V),H=n(543),q=r(H),W=n(544),Y=r(W),X=n(14),Z=n(46),K=r(Z),Q=n(260),J=r(Q),$=n(56),tt=(0,d.default)({},R.default.propTypes,B.default.propTypes,{backdrop:C.default.oneOf(["static",!0,!1]),backdropClassName:C.default.string,keyboard:C.default.bool,animation:C.default.bool,dialogComponentClass:k.default,autoFocus:C.default.bool,enforceFocus:C.default.bool,restoreFocus:C.default.bool,show:C.default.bool,onHide:C.default.func,onEnter:C.default.func,onEntering:C.default.func,onEntered:C.default.func,onExit:C.default.func,onExiting:C.default.func,onExited:C.default.func,container:R.default.propTypes.container}),et=(0,d.default)({},R.default.defaultProps,{animation:!0,dialogComponentClass:B.default}),nt={$bs_modal:C.default.shape({onHide:C.default.func})},rt=function(t){function e(n,r){(0,s.default)(this,e);var i=(0,u.default)(this,t.call(this,n,r));return i.handleEntering=i.handleEntering.bind(i),i.handleExited=i.handleExited.bind(i),i.handleWindowResize=i.handleWindowResize.bind(i),i.handleDialogClick=i.handleDialogClick.bind(i),i.setModalRef=i.setModalRef.bind(i),i.state={style:{}},i}return(0,f.default)(e,t),e.prototype.getChildContext=function(){return{$bs_modal:{onHide:this.props.onHide}}},e.prototype.componentWillUnmount=function(){this.handleExited()},e.prototype.setModalRef=function(t){this._modal=t},e.prototype.handleDialogClick=function(t){t.target===t.currentTarget&&this.props.onHide()},e.prototype.handleEntering=function(){v.default.on(window,"resize",this.handleWindowResize),this.updateStyle()},e.prototype.handleExited=function(){v.default.off(window,"resize",this.handleWindowResize)},e.prototype.handleWindowResize=function(){this.updateStyle()},e.prototype.updateStyle=function(){if(w.default){var t=this._modal.getDialogElement(),e=t.scrollHeight,n=(0,b.default)(t),r=(0,L.default)(A.default.findDOMNode(this.props.container||n.body)),i=e>n.documentElement.clientHeight;this.setState({style:{paddingRight:r&&!i?(0,E.default)():void 0,paddingLeft:!r&&i?(0,E.default)():void 0}})}},e.prototype.render=function(){var t=this.props,n=t.backdrop,r=t.backdropClassName,i=t.animation,a=t.show,s=t.dialogComponentClass,l=t.className,u=t.style,c=t.children,f=t.onEntering,h=t.onExited,p=(0,o.default)(t,["backdrop","backdropClassName","animation","show","dialogComponentClass","className","style","children","onEntering","onExited"]),g=(0,J.default)(p,R.default),v=g[0],y=g[1],b=a&&!i&&"in";return S.default.createElement(R.default,(0,d.default)({},v,{ref:this.setModalRef,show:a,onEntering:(0,K.default)(f,this.handleEntering),onExited:(0,K.default)(h,this.handleExited),backdrop:n,backdropClassName:(0,m.default)((0,X.prefix)(p,"backdrop"),r,b),containerClassName:(0,X.prefix)(p,"open"),transition:i?F.default:void 0,dialogTransitionTimeout:e.TRANSITION_DURATION,backdropTransitionTimeout:e.BACKDROP_TRANSITION_DURATION}),S.default.createElement(s,(0,d.default)({},y,{style:(0,d.default)({},this.state.style,u),className:(0,m.default)(l,b),onClick:!0===n?this.handleDialogClick:null}),c))},e}(S.default.Component);rt.propTypes=tt,rt.defaultProps=et,rt.childContextTypes=nt,rt.Body=U.default,rt.Header=q.default,rt.Title=Y.default,rt.Footer=G.default,rt.Dialog=B.default,rt.TRANSITION_DURATION=300,rt.BACKDROP_TRANSITION_DURATION=150,e.default=(0,X.bsClass)("modal",(0,X.bsSizes)([$.Size.LARGE,$.Size.SMALL],rt)),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.listen=e.filter=e.off=e.on=void 0;var i=n(257),o=r(i),a=n(359),s=r(a),l=n(1247),u=r(l),c=n(1249),f=r(c);e.on=o.default,e.off=s.default,e.filter=u.default,e.listen=f.default,e.default={on:o.default,off:s.default,filter:u.default,listen:f.default}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){return function(n){var r=n.currentTarget,i=n.target;(0,l.default)(r,t).some(function(t){return(0,a.default)(t,i)})&&e.call(this,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=n(174),a=r(o),s=n(1248),l=r(s);t.exports=e.default},function(t,e,n){"use strict";function r(t,e){var n,r="#"===e[0],a="."===e[0],s=r||a?e.slice(1):e,l=i.test(s);return l?r?(t=t.getElementById?t:document,(n=t.getElementById(s))?[n]:[]):o(t.getElementsByClassName&&a?t.getElementsByClassName(s):t.getElementsByTagName(e)):o(t.querySelectorAll(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=/^[\w-]*$/,o=Function.prototype.bind.call(Function.prototype.call,[].slice);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(122),o=r(i),a=n(257),s=r(a),l=n(359),u=r(l),c=function(){};o.default&&(c=function(t,e,n,r){return(0,s.default)(t,e,n,r),function(){(0,u.default)(t,e,n,r)}}),e.default=c,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=n(531),u=r(l),c=n(174),f=r(c),h=n(122),d=r(h),p=n(3),m=r(p),g=n(263),v=r(g),y=n(1251),b=r(y),_=n(35),w=r(_),x=n(0),E=r(x),M=n(52),S=r(M),T=n(78),C=r(T),O=n(1252),A=r(O),I=n(540),R=r(I),P=n(1258),L=r(P),N=n(533),k=r(N),D=n(1259),F=r(D),j=n(265),U=r(j),z=n(175),B=r(z),V=new A.default,G=function(t){function e(){var n,r,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=o(this,t.call.apply(t,[this].concat(l))),H.call(r),a=n,o(r,a)}return a(e,t),e.prototype.omitProps=function(t,e){var n=Object.keys(t),r={};return n.map(function(n){Object.prototype.hasOwnProperty.call(e,n)||(r[n]=t[n])}),r},e.prototype.render=function(){var t=this.props,n=t.show,r=t.container,i=t.children,o=t.transition,a=t.backdrop,l=t.dialogTransitionTimeout,u=t.className,c=t.style,f=t.onExit,h=t.onExiting,d=t.onEnter,p=t.onEntering,m=t.onEntered,g=E.default.Children.only(i),v=this.omitProps(this.props,e.propTypes);if(!(n||o&&!this.state.exited))return null;var y=g.props,b=y.role,_=y.tabIndex;return void 0!==b&&void 0!==_||(g=(0,x.cloneElement)(g,{role:void 0===b?"document":b,tabIndex:null==_?"-1":_})),o&&(g=E.default.createElement(o,{transitionAppear:!0,unmountOnExit:!0,in:n,timeout:l,onExit:f,onExiting:h,onExited:this.handleHidden,onEnter:d,onEntering:p,onEntered:m},g)),E.default.createElement(R.default,{ref:this.setMountNode,container:r,onRendered:this.onPortalRendered},E.default.createElement("div",s({ref:this.setModalNodeRef,role:b||"dialog"},v,{style:c,className:u}),a&&this.renderBackdrop(),E.default.createElement(L.default,{ref:this.setDialogRef},g)))},e.prototype.componentWillReceiveProps=function(t){t.show?this.setState({exited:!1}):t.transition||this.setState({exited:!0})},e.prototype.componentWillUpdate=function(t){!this.props.show&&t.show&&this.checkForFocus()},e.prototype.componentDidMount=function(){this._isMounted=!0,this.props.show&&this.onShow()},e.prototype.componentDidUpdate=function(t){var e=this.props.transition;!t.show||this.props.show||e?!t.show&&this.props.show&&this.onShow():this.onHide()},e.prototype.componentWillUnmount=function(){var t=this.props,e=t.show,n=t.transition;this._isMounted=!1,(e||n&&!this.state.exited)&&this.onHide()},e.prototype.autoFocus=function(){if(this.props.autoFocus){var t=this.getDialogElement(),e=(0,u.default)((0,B.default)(this));t&&!(0,f.default)(t,e)&&(this.lastFocus=e,t.hasAttribute("tabIndex")||((0,C.default)(!1,'The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to "-1".'),t.setAttribute("tabIndex",-1)),t.focus())}},e.prototype.restoreLastFocus=function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},e.prototype.getDialogElement=function(){return S.default.findDOMNode(this.dialog)},e.prototype.isTopModal=function(){return this.props.manager.isTopModal(this)},e}(E.default.Component);G.propTypes=s({},R.default.propTypes,{show:m.default.bool,container:m.default.oneOfType([v.default,m.default.func]),onShow:m.default.func,onHide:m.default.func,backdrop:m.default.oneOfType([m.default.bool,m.default.oneOf(["static"])]),renderBackdrop:m.default.func,onEscapeKeyDown:m.default.func,onEscapeKeyUp:(0,b.default)(m.default.func,"Please use onEscapeKeyDown instead for consistency"),onBackdropClick:m.default.func,backdropStyle:m.default.object,backdropClassName:m.default.string,containerClassName:m.default.string,keyboard:m.default.bool,transition:w.default,dialogTransitionTimeout:m.default.number,backdropTransitionTimeout:m.default.number,autoFocus:m.default.bool,enforceFocus:m.default.bool,restoreFocus:m.default.bool,onEnter:m.default.func,onEntering:m.default.func,onEntered:m.default.func,onExit:m.default.func,onExiting:m.default.func,onExited:m.default.func,manager:m.default.object.isRequired}),G.defaultProps={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:function(){},manager:V,renderBackdrop:function(t){return E.default.createElement("div",t)}};var H=function(){var t=this;this.state={exited:!this.props.show},this.renderBackdrop=function(){var e=t.props,n=e.backdropStyle,r=e.backdropClassName,i=e.renderBackdrop,o=e.transition,a=e.backdropTransitionTimeout,s=function(e){return t.backdrop=e},l=i({ref:s,style:n,className:r,onClick:t.handleBackdropClick});return o&&(l=E.default.createElement(o,{transitionAppear:!0,in:t.props.show,timeout:a},l)),l},this.onPortalRendered=function(){t.autoFocus(),t.props.onShow&&t.props.onShow()},this.onShow=function(){var e=(0,B.default)(t),n=(0,U.default)(t.props.container,e.body);t.props.manager.add(t,n,t.props.containerClassName),t._onDocumentKeydownListener=(0,k.default)(e,"keydown",t.handleDocumentKeyDown),t._onDocumentKeyupListener=(0,k.default)(e,"keyup",t.handleDocumentKeyUp),t._onFocusinListener=(0,F.default)(t.enforceFocus)},this.onHide=function(){t.props.manager.remove(t),t._onDocumentKeydownListener.remove(),t._onDocumentKeyupListener.remove(),t._onFocusinListener.remove(),t.props.restoreFocus&&t.restoreLastFocus()},this.setMountNode=function(e){t.mountNode=e?e.getMountNode():e},this.setModalNodeRef=function(e){t.modalNode=e},this.setDialogRef=function(e){t.dialog=e},this.handleHidden=function(){if(t.setState({exited:!0}),t.onHide(),t.props.onExited){var e;(e=t.props).onExited.apply(e,arguments)}},this.handleBackdropClick=function(e){e.target===e.currentTarget&&(t.props.onBackdropClick&&t.props.onBackdropClick(e),!0===t.props.backdrop&&t.props.onHide())},this.handleDocumentKeyDown=function(e){t.props.keyboard&&27===e.keyCode&&t.isTopModal()&&(t.props.onEscapeKeyDown&&t.props.onEscapeKeyDown(e),t.props.onHide())},this.handleDocumentKeyUp=function(e){t.props.keyboard&&27===e.keyCode&&t.isTopModal()&&t.props.onEscapeKeyUp&&t.props.onEscapeKeyUp(e)},this.checkForFocus=function(){d.default&&(t.lastFocus=(0,u.default)())},this.enforceFocus=function(){if(t.props.enforceFocus&&t._isMounted&&t.isTopModal()){var e=t.getDialogElement(),n=(0,u.default)((0,B.default)(t));e&&!(0,f.default)(e,n)&&e.focus()}}};G.Manager=A.default,e.default=G,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){return function(n,r,i,o,l){var u=i||"<<anonymous>>",c=l||r;if(null!=n[r]){var f=i+"."+r;(0,a.default)(s[f],"The "+o+" `"+c+"` of `"+u+"` is deprecated. "+e+"."),s[f]=!0}for(var h=arguments.length,d=Array(h>5?h-5:0),p=5;p<h;p++)d[p-5]=arguments[p];return t.apply(void 0,[n,r,i,o,l].concat(d))}}function i(){s={}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(78),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s={};r._resetWarned=i,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){var n=-1;return t.some(function(t,r){if(e(t,r))return n=r,!0}),n}function a(t,e){return o(t,function(t){return-1!==t.modals.indexOf(e)})}function s(t,e){var n={overflow:"hidden"};t.style={overflow:e.style.overflow,paddingRight:e.style.paddingRight},t.overflowing&&(n.paddingRight=parseInt((0,h.default)(e,"paddingRight")||0,10)+(0,p.default)()+"px"),(0,h.default)(e,n)}function l(t,e){var n=t.style;Object.keys(n).forEach(function(t){return e.style[t]=n[t]})}e.__esModule=!0;var u=n(1253),c=r(u),f=n(256),h=r(f),d=n(537),p=r(d),m=n(539),g=r(m),v=n(1256),y=function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.hideSiblingNodes,o=void 0===r||r,u=n.handleContainerOverflow,f=void 0===u||u;i(this,t),this.add=function(t,n,r){var i=e.modals.indexOf(t),o=e.containers.indexOf(n);if(-1!==i)return i;if(i=e.modals.length,e.modals.push(t),e.hideSiblingNodes&&(0,v.hideSiblings)(n,t.mountNode),-1!==o)return e.data[o].modals.push(t),i;var a={modals:[t],classes:r?r.split(/\s+/):[],overflowing:(0,g.default)(n)};return e.handleContainerOverflow&&s(a,n),a.classes.forEach(c.default.addClass.bind(null,n)),e.containers.push(n),e.data.push(a),i},this.remove=function(t){var n=e.modals.indexOf(t);if(-1!==n){var r=a(e.data,t),i=e.data[r],o=e.containers[r];i.modals.splice(i.modals.indexOf(t),1),e.modals.splice(n,1),0===i.modals.length?(i.classes.forEach(c.default.removeClass.bind(null,o)),e.handleContainerOverflow&&l(i,o),e.hideSiblingNodes&&(0,v.showSiblings)(o,t.mountNode),e.containers.splice(r,1),e.data.splice(r,1)):e.hideSiblingNodes&&(0,v.ariaHidden)(!1,i.modals[i.modals.length-1].mountNode)}},this.isTopModal=function(t){return!!e.modals.length&&e.modals[e.modals.length-1]===t},this.hideSiblingNodes=o,this.handleContainerOverflow=f,this.modals=[],this.containers=[],this.data=[]};e.default=y,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.hasClass=e.removeClass=e.addClass=void 0;var i=n(1254),o=r(i),a=n(1255),s=r(a),l=n(538),u=r(l);e.addClass=o.default,e.removeClass=s.default,e.hasClass=u.default,e.default={addClass:o.default,removeClass:s.default,hasClass:u.default}},function(t,e,n){"use strict";function r(t,e){t.classList?t.classList.add(e):(0,o.default)(t)||(t.className=t.className+" "+e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(538),o=function(t){return t&&t.__esModule?t:{default:t}}(i);t.exports=e.default},function(t,e,n){"use strict";t.exports=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},function(t,e,n){"use strict";function r(t,e){e&&(t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden"))}function i(t,e){l(t,e,function(t){return r(!0,t)})}function o(t,e){l(t,e,function(t){return r(!1,t)})}e.__esModule=!0,e.ariaHidden=r,e.hideSiblings=i,e.showSiblings=o;var a=["template","script","style"],s=function(t){var e=t.nodeType,n=t.tagName;return 1===e&&-1===a.indexOf(n.toLowerCase())},l=function(t,e,n){e=[].concat(e),[].forEach.call(t.children,function(t){-1===e.indexOf(t)&&s(t)&&n(t)})}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(3),l=r(s),u=n(263),c=r(u),f=n(0),h=r(f),d=n(52),p=r(d),m=n(265),g=r(m),v=n(175),y=r(v),b=function(t){function e(){var n,r,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=o(this,t.call.apply(t,[this].concat(l))),r._mountOverlayTarget=function(){r._overlayTarget||(r._overlayTarget=document.createElement("div"),r._portalContainerNode=(0,g.default)(r.props.container,(0,y.default)(r).body),r._portalContainerNode.appendChild(r._overlayTarget))},r._unmountOverlayTarget=function(){r._overlayTarget&&(r._portalContainerNode.removeChild(r._overlayTarget),r._overlayTarget=null),r._portalContainerNode=null},r._renderOverlay=function(){var t=r.props.children?h.default.Children.only(r.props.children):null;if(null!==t){r._mountOverlayTarget();var e=!r._overlayInstance;r._overlayInstance=p.default.unstable_renderSubtreeIntoContainer(r,t,r._overlayTarget,function(){e&&r.props.onRendered&&r.props.onRendered()})}else r._unrenderOverlay(),r._unmountOverlayTarget()},r._unrenderOverlay=function(){r._overlayTarget&&(p.default.unmountComponentAtNode(r._overlayTarget),r._overlayInstance=null)},r.getMountNode=function(){return r._overlayTarget},a=n,o(r,a)}return a(e,t),e.prototype.componentDidMount=function(){this._isMounted=!0,this._renderOverlay()},e.prototype.componentDidUpdate=function(){this._renderOverlay()},e.prototype.componentWillReceiveProps=function(t){this._overlayTarget&&t.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,g.default)(t.container,(0,y.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},e.prototype.componentWillUnmount=function(){this._isMounted=!1,this._unrenderOverlay(),this._unmountOverlayTarget()},e.prototype.render=function(){return null},e}(h.default.Component);b.displayName="Portal",b.propTypes={container:l.default.oneOfType([c.default,l.default.func]),onRendered:l.default.func},e.default=b,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(3),l=r(s),u=n(0),c=r(u),f={children:l.default.node},h=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return a(e,t),e.prototype.render=function(){return this.props.children},e}(c.default.Component);h.propTypes=f,e.default=h,t.exports=e.default},function(t,e,n){"use strict";function r(t){var e=!document.addEventListener,n=void 0;return e?(document.attachEvent("onfocusin",t),n=function(){return document.detachEvent("onfocusin",t)}):(document.addEventListener("focus",t,!0),n=function(){return document.removeEventListener("focus",t,!0)}),{remove:n}}e.__esModule=!0,e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(14),w=n(56),x={dialogClassName:b.default.string},E=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t,e=this.props,n=e.dialogClassName,r=e.className,i=e.style,a=e.children,l=(0,s.default)(e,["dialogClassName","className","style","children"]),u=(0,_.splitBsProps)(l),c=u[0],f=u[1],h=(0,_.prefix)(c),d=(0,o.default)({display:"block"},i),p=(0,o.default)({},(0,_.getClassSet)(c),(t={},t[h]=!1,t[(0,_.prefix)(c,"dialog")]=!0,t));return v.default.createElement("div",(0,o.default)({},f,{tabIndex:"-1",role:"dialog",style:d,className:(0,m.default)(r,h)}),v.default.createElement("div",{className:(0,m.default)(n,p)},v.default.createElement("div",{className:(0,_.prefix)(c,"content"),role:"document"},a)))},e}(v.default.Component);E.propTypes=x,e.default=(0,_.bsClass)("modal",(0,_.bsSizes)([w.Size.LARGE,w.Size.SMALL],E)),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){var r=function(t,n){var r=n.$bs_navbar,i=void 0===r?{bsClass:"navbar"}:r,o=t.componentClass,s=t.className,u=t.pullRight,c=t.pullLeft,f=(0,l.default)(t,["componentClass","className","pullRight","pullLeft"]);return y.default.createElement(o,(0,a.default)({},f,{className:(0,g.default)(s,(0,k.prefix)(i,e),u&&(0,k.prefix)(i,"right"),c&&(0,k.prefix)(i,"left"))}))};return r.displayName=n,r.propTypes={componentClass:x.default,pullRight:_.default.bool,pullLeft:_.default.bool},r.defaultProps={componentClass:t,pullRight:!1,pullLeft:!1},r.contextTypes={$bs_navbar:_.default.shape({bsClass:_.default.string})},r}e.__esModule=!0;var o=n(11),a=r(o),s=n(13),l=r(s),u=n(8),c=r(u),f=n(9),h=r(f),d=n(10),p=r(d),m=n(12),g=r(m),v=n(0),y=r(v),b=n(3),_=r(b),w=n(35),x=r(w),E=n(207),M=r(E),S=n(535),T=r(S),C=n(546),O=r(C),A=n(1262),I=r(A),R=n(1263),P=r(R),L=n(1264),N=r(L),k=n(14),D=n(56),F=n(46),j=r(F),U={fixedTop:_.default.bool,fixedBottom:_.default.bool,staticTop:_.default.bool,inverse:_.default.bool,fluid:_.default.bool,componentClass:x.default,onToggle:_.default.func,onSelect:_.default.func,collapseOnSelect:_.default.bool,expanded:_.default.bool,role:_.default.string},z={componentClass:"nav",fixedTop:!1,fixedBottom:!1,staticTop:!1,inverse:!1,fluid:!1,collapseOnSelect:!1},B={$bs_navbar:_.default.shape({bsClass:_.default.string,expanded:_.default.bool,onToggle:_.default.func.isRequired,onSelect:_.default.func})},V=function(t){function e(n,r){(0,c.default)(this,e);var i=(0,h.default)(this,t.call(this,n,r));return i.handleToggle=i.handleToggle.bind(i),i.handleCollapse=i.handleCollapse.bind(i),i}return(0,p.default)(e,t),e.prototype.getChildContext=function(){var t=this.props,e=t.bsClass,n=t.expanded,r=t.onSelect,i=t.collapseOnSelect;return{$bs_navbar:{bsClass:e,expanded:n,onToggle:this.handleToggle,onSelect:(0,j.default)(r,i?this.handleCollapse:null)}}},e.prototype.handleCollapse=function(){var t=this.props,e=t.onToggle;t.expanded&&e(!1)},e.prototype.handleToggle=function(){var t=this.props;(0,t.onToggle)(!t.expanded)},e.prototype.render=function(){var t,e=this.props,n=e.componentClass,r=e.fixedTop,i=e.fixedBottom,o=e.staticTop,s=e.inverse,u=e.fluid,c=e.className,f=e.children,h=(0,l.default)(e,["componentClass","fixedTop","fixedBottom","staticTop","inverse","fluid","className","children"]),d=(0,k.splitBsPropsAndOmit)(h,["expanded","onToggle","onSelect","collapseOnSelect"]),p=d[0],m=d[1];void 0===m.role&&"nav"!==n&&(m.role="navigation"),s&&(p.bsStyle=D.Style.INVERSE);var v=(0,a.default)({},(0,k.getClassSet)(p),(t={},t[(0,k.prefix)(p,"fixed-top")]=r,t[(0,k.prefix)(p,"fixed-bottom")]=i,t[(0,k.prefix)(p,"static-top")]=o,t));return y.default.createElement(n,(0,a.default)({},m,{className:(0,g.default)(c,v)}),y.default.createElement(T.default,{fluid:u},f))},e}(y.default.Component);V.propTypes=U,V.defaultProps=z,V.childContextTypes=B,(0,k.bsClass)("navbar",V);var G=(0,M.default)(V,{expanded:"onToggle"});G.Brand=O.default,G.Header=P.default,G.Toggle=N.default,G.Collapse=I.default,G.Form=i("div","form","NavbarForm"),G.Text=i("p","text","NavbarText"),G.Link=i("a","link","NavbarLink"),e.default=(0,k.bsStyles)([D.Style.DEFAULT,D.Style.INVERSE],D.Style.DEFAULT,G),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(0),m=r(p),g=n(3),v=r(g),y=n(357),b=r(y),_=n(14),w={$bs_navbar:v.default.shape({bsClass:v.default.string,expanded:v.default.bool})},x=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.children,n=(0,s.default)(t,["children"]),r=this.context.$bs_navbar||{bsClass:"navbar"},i=(0,_.prefix)(r,"collapse");return m.default.createElement(b.default,(0,o.default)({in:r.expanded},n),m.default.createElement("div",{className:i},e))},e}(m.default.Component);x.contextTypes=w,e.default=x,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(14),w={$bs_navbar:b.default.shape({bsClass:b.default.string})},x=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=(0,s.default)(t,["className"]),r=this.context.$bs_navbar||{bsClass:"navbar"},i=(0,_.prefix)(r,"header");return v.default.createElement("div",(0,o.default)({},n,{className:(0,m.default)(e,i)}))},e}(v.default.Component);x.contextTypes=w,e.default=x,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(14),w=n(46),x=r(w),E={onClick:b.default.func,children:b.default.node},M={$bs_navbar:b.default.shape({bsClass:b.default.string,expanded:b.default.bool,onToggle:b.default.func.isRequired})},S=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.onClick,n=t.className,r=t.children,i=(0,s.default)(t,["onClick","className","children"]),a=this.context.$bs_navbar||{bsClass:"navbar"},l=(0,o.default)({type:"button"},i,{onClick:(0,x.default)(e,a.onToggle),className:(0,m.default)(n,(0,_.prefix)(a,"toggle"),!a.expanded&&"collapsed")});return r?v.default.createElement("button",l,r):v.default.createElement("button",l,v.default.createElement("span",{className:"sr-only"},"Toggle navigation"),v.default.createElement("span",{className:"icon-bar"}),v.default.createElement("span",{className:"icon-bar"}),v.default.createElement("span",{className:"icon-bar"}))},e}(v.default.Component);S.propTypes=E,S.contextTypes=M,e.default=S,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(13),o=r(i),a=n(8),s=r(a),l=n(9),u=r(l),c=n(10),f=r(c),h=n(11),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(258),w=r(_),x=n(260),E=r(x),M=n(64),S=r(M),T=(0,d.default)({},w.default.propTypes,{title:b.default.node.isRequired,noCaret:b.default.bool,active:b.default.bool,children:b.default.node}),C=function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,t.apply(this,arguments))}return(0,f.default)(e,t),e.prototype.isActive=function(t,e,n){var r=t.props,i=this;return!!(r.active||null!=e&&r.eventKey===e||n&&r.href===n)||(!!S.default.some(r.children,function(t){return i.isActive(t,e,n)})||r.active)},e.prototype.render=function(){var t=this,e=this.props,n=e.title,r=e.activeKey,i=e.activeHref,a=e.className,s=e.style,l=e.children,u=(0,o.default)(e,["title","activeKey","activeHref","className","style","children"]),c=this.isActive(this,r,i);delete u.active,delete u.eventKey;var f=(0,E.default)(u,w.default.ControlledComponent),h=f[0],p=f[1];return v.default.createElement(w.default,(0,d.default)({},h,{componentClass:"li",className:(0,m.default)(a,{active:c}),style:s}),v.default.createElement(w.default.Toggle,(0,d.default)({},p,{useAnchor:!0}),n),v.default.createElement(w.default.Menu,null,S.default.map(l,function(e){return v.default.cloneElement(e,{active:t.isActive(e,r,i)})})))},e}(v.default.Component);C.propTypes=T,e.default=C,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(3),c=r(u),f=n(35),h=r(f),d=n(0),p=r(d),m=n(540),g=r(m),v=n(1267),y=r(v),b=n(532),_=r(b),w=function(t){function e(n,r){o(this,e);var i=a(this,t.call(this,n,r));return i.handleHidden=function(){if(i.setState({exited:!0}),i.props.onExited){var t;(t=i.props).onExited.apply(t,arguments)}},i.state={exited:!n.show},i.onHiddenListener=i.handleHidden.bind(i),i}return s(e,t),e.prototype.componentWillReceiveProps=function(t){t.show?this.setState({exited:!1}):t.transition||this.setState({exited:!0})},e.prototype.render=function(){var t=this.props,e=t.container,n=t.containerPadding,r=t.target,o=t.placement,a=t.shouldUpdatePosition,s=t.rootClose,l=t.children,u=t.transition,c=i(t,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]);if(!(c.show||u&&!this.state.exited))return null;var f=l;if(f=p.default.createElement(y.default,{container:e,containerPadding:n,target:r,placement:o,shouldUpdatePosition:a},f),u){var h=c.onExit,d=c.onExiting,m=c.onEnter,v=c.onEntering,b=c.onEntered;f=p.default.createElement(u,{in:c.show,transitionAppear:!0,onExit:h,onExiting:d,onExited:this.onHiddenListener,onEnter:m,onEntering:v,onEntered:b},f)}return s&&(f=p.default.createElement(_.default,{onRootClose:c.onHide},f)),p.default.createElement(g.default,{container:e},f)},e}(p.default.Component);w.propTypes=l({},g.default.propTypes,y.default.propTypes,{show:c.default.bool,rootClose:c.default.bool,onHide:function(t){var e=c.default.func;t.rootClose&&(e=e.isRequired);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.apply(void 0,[t].concat(r))},transition:h.default,onEnter:c.default.func,onEntering:c.default.func,onEntered:c.default.func,onExit:c.default.func,onExiting:c.default.func,onExited:c.default.func}),e.default=w,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(12),c=r(u),f=n(3),h=r(f),d=n(263),p=r(d),m=n(0),g=r(m),v=n(52),y=r(v),b=n(1268),_=r(b),w=n(265),x=r(w),E=n(175),M=r(E),S=function(t){function e(n,r){o(this,e);var i=a(this,t.call(this,n,r));return i.getTarget=function(){var t=i.props.target,e="function"==typeof t?t():t;return e&&y.default.findDOMNode(e)||null},i.maybeUpdatePosition=function(t){var e=i.getTarget();(i.props.shouldUpdatePosition||e!==i._lastTarget||t)&&i.updatePosition(e)},i.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},i._needsFlush=!1,i._lastTarget=null,i}return s(e,t),e.prototype.componentDidMount=function(){this.updatePosition(this.getTarget())},e.prototype.componentWillReceiveProps=function(){this._needsFlush=!0},e.prototype.componentDidUpdate=function(t){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==t.placement))},e.prototype.render=function(){var t=this.props,e=t.children,n=t.className,r=i(t,["children","className"]),o=this.state,a=o.positionLeft,s=o.positionTop,u=i(o,["positionLeft","positionTop"]);delete r.target,delete r.container,delete r.containerPadding,delete r.shouldUpdatePosition;var f=g.default.Children.only(e);return(0,m.cloneElement)(f,l({},r,u,{positionLeft:a,positionTop:s,className:(0,c.default)(n,f.props.className),style:l({},f.props.style,{left:a,top:s})}))},e.prototype.updatePosition=function(t){if(this._lastTarget=t,!t)return void this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null});var e=y.default.findDOMNode(this),n=(0,x.default)(this.props.container,(0,M.default)(this).body);this.setState((0,_.default)(this.props.placement,e,t,n,this.props.containerPadding))},e}(g.default.Component);S.propTypes={target:h.default.oneOfType([p.default,h.default.func]),container:h.default.oneOfType([p.default,h.default.func]),containerPadding:h.default.number,placement:h.default.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:h.default.bool},S.displayName="Position",S.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1},e.default=S,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=void 0,n=void 0,r=void 0;if("BODY"===t.tagName)e=window.innerWidth,n=window.innerHeight,r=(0,d.default)((0,m.default)(t).documentElement)||(0,d.default)(t);else{var i=(0,u.default)(t);e=i.width,n=i.height,r=(0,d.default)(t)}return{width:e,height:n,scroll:r}}function o(t,e,n,r){var o=i(n),a=o.scroll,s=o.height,l=t-r-a,u=t+r-a+e;return l<0?-l:u>s?s-u:0}function a(t,e,n,r){var o=i(n),a=o.width,s=t-r,l=t+r+e;return s<0?-s:l>a?a-l:0}function s(t,e,n,r,i){var s="BODY"===r.tagName?(0,u.default)(n):(0,f.default)(n,r),l=(0,u.default)(e),c=l.height,h=l.width,d=void 0,p=void 0,m=void 0,g=void 0;if("left"===t||"right"===t){p=s.top+(s.height-c)/2,d="left"===t?s.left-h:s.left+s.width;var v=o(p,c,r,i);p+=v,g=50*(1-2*v/c)+"%",m=void 0}else{if("top"!==t&&"bottom"!==t)throw new Error('calcOverlayPosition(): No such placement of "'+t+'" found.');d=s.left+(s.width-h)/2,p="top"===t?s.top-c:s.top+s.height;var y=a(d,h,r,i);d+=y,m=50*(1-2*y/h)+"%",g=void 0}return{positionLeft:d,positionTop:p,arrowOffsetLeft:m,arrowOffsetTop:g}}e.__esModule=!0,e.default=s;var l=n(549),u=r(l),c=n(1269),f=r(c),h=n(550),d=r(h),p=n(175),m=r(p);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return t.nodeName&&t.nodeName.toLowerCase()}function o(t,e){var n,r={top:0,left:0};return"fixed"===(0,g.default)(t,"position")?n=t.getBoundingClientRect():(e=e||(0,c.default)(t),n=(0,l.default)(t),"html"!==i(e)&&(r=(0,l.default)(e)),r.top+=parseInt((0,g.default)(e,"borderTopWidth"),10)-(0,h.default)(e)||0,r.left+=parseInt((0,g.default)(e,"borderLeftWidth"),10)-(0,p.default)(e)||0),a({},n,{top:n.top-r.top-(parseInt((0,g.default)(t,"marginTop"),10)||0),left:n.left-r.left-(parseInt((0,g.default)(t,"marginLeft"),10)||0)})}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=o;var s=n(549),l=r(s),u=n(1270),c=r(u),f=n(550),h=r(f),d=n(1271),p=r(d),m=n(256),g=r(m);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return t.nodeName&&t.nodeName.toLowerCase()}function o(t){for(var e=(0,s.default)(t),n=t&&t.offsetParent;n&&"html"!==i(t)&&"static"===(0,u.default)(n,"position");)n=n.offsetParent;return n||e.documentElement}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var a=n(173),s=r(a),l=n(256),u=r(l);t.exports=e.default},function(t,e,n){"use strict";function r(t,e){var n=(0,o.default)(t);if(void 0===e)return n?"pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft:t.scrollLeft;n?n.scrollTo(e,"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop):t.scrollLeft=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(264),o=function(t){return t&&t.__esModule?t:{default:t}}(i);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){return Array.isArray(e)?e.indexOf(t)>=0:t===e}e.__esModule=!0;var o=n(13),a=r(o),s=n(8),l=r(s),u=n(9),c=r(u),f=n(10),h=r(f),d=n(11),p=r(d),m=n(174),g=r(m),v=n(0),y=r(v),b=n(3),_=r(b),w=n(52),x=r(w),E=n(78),M=(r(E),n(548)),S=r(M),T=n(46),C=r(T),O=_.default.oneOf(["click","hover","focus"]),A=(0,p.default)({},S.default.propTypes,{trigger:_.default.oneOfType([O,_.default.arrayOf(O)]),delay:_.default.number,delayShow:_.default.number,delayHide:_.default.number,defaultOverlayShown:_.default.bool,overlay:_.default.node.isRequired,onBlur:_.default.func,onClick:_.default.func,onFocus:_.default.func,onMouseOut:_.default.func,onMouseOver:_.default.func,target:_.default.oneOf([null]),onHide:_.default.oneOf([null]),show:_.default.oneOf([null])}),I={defaultOverlayShown:!1,trigger:["hover","focus"]},R=function(t){function e(n,r){(0,l.default)(this,e);var i=(0,c.default)(this,t.call(this,n,r));return i.handleToggle=i.handleToggle.bind(i),i.handleDelayedShow=i.handleDelayedShow.bind(i),i.handleDelayedHide=i.handleDelayedHide.bind(i),i.handleHide=i.handleHide.bind(i),i.handleMouseOver=function(t){return i.handleMouseOverOut(i.handleDelayedShow,t)},i.handleMouseOut=function(t){return i.handleMouseOverOut(i.handleDelayedHide,t)},i._mountNode=null,i.state={show:n.defaultOverlayShown},i}return(0,h.default)(e,t),e.prototype.componentDidMount=function(){this._mountNode=document.createElement("div"),this.renderOverlay()},e.prototype.componentDidUpdate=function(){this.renderOverlay()},e.prototype.componentWillUnmount=function(){x.default.unmountComponentAtNode(this._mountNode),this._mountNode=null,clearTimeout(this._hoverShowDelay),clearTimeout(this._hoverHideDelay)},e.prototype.handleDelayedHide=function(){var t=this;if(null!=this._hoverShowDelay)return clearTimeout(this._hoverShowDelay),void(this._hoverShowDelay=null);if(this.state.show&&null==this._hoverHideDelay){var e=null!=this.props.delayHide?this.props.delayHide:this.props.delay;if(!e)return void this.hide();this._hoverHideDelay=setTimeout(function(){t._hoverHideDelay=null,t.hide()},e)}},e.prototype.handleDelayedShow=function(){var t=this;if(null!=this._hoverHideDelay)return clearTimeout(this._hoverHideDelay),void(this._hoverHideDelay=null);if(!this.state.show&&null==this._hoverShowDelay){var e=null!=this.props.delayShow?this.props.delayShow:this.props.delay;if(!e)return void this.show();this._hoverShowDelay=setTimeout(function(){t._hoverShowDelay=null,t.show()},e)}},e.prototype.handleHide=function(){this.hide()},e.prototype.handleMouseOverOut=function(t,e){var n=e.currentTarget,r=e.relatedTarget||e.nativeEvent.toElement;r&&r===n||(0,g.default)(n,r)||t(e)},e.prototype.handleToggle=function(){this.state.show?this.hide():this.show()},e.prototype.hide=function(){this.setState({show:!1})},e.prototype.makeOverlay=function(t,e){return y.default.createElement(S.default,(0,p.default)({},e,{show:this.state.show,onHide:this.handleHide,target:this}),t)},e.prototype.show=function(){this.setState({show:!0})},e.prototype.renderOverlay=function(){x.default.unstable_renderSubtreeIntoContainer(this,this._overlay,this._mountNode)},e.prototype.render=function(){var t=this.props,e=t.trigger,n=t.overlay,r=t.children,o=t.onBlur,s=t.onClick,l=t.onFocus,u=t.onMouseOut,c=t.onMouseOver,f=(0,a.default)(t,["trigger","overlay","children","onBlur","onClick","onFocus","onMouseOut","onMouseOver"]);delete f.delay,delete f.delayShow,delete f.delayHide,delete f.defaultOverlayShown;var h=y.default.Children.only(r),d=h.props,p={};return this.state.show&&(p["aria-describedby"]=n.props.id),p.onClick=(0,C.default)(d.onClick,s),i("click",e)&&(p.onClick=(0,C.default)(p.onClick,this.handleToggle)),i("hover",e)&&(p.onMouseOver=(0,C.default)(d.onMouseOver,c,this.handleMouseOver),p.onMouseOut=(0,C.default)(d.onMouseOut,u,this.handleMouseOut)),i("focus",e)&&(p.onFocus=(0,C.default)(d.onFocus,l,this.handleDelayedShow),p.onBlur=(0,C.default)(d.onBlur,o,this.handleDelayedHide)),this._overlay=this.makeOverlay(n,f),(0,v.cloneElement)(h,p)},e}(y.default.Component);R.propTypes=A,R.defaultProps=I,e.default=R,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(14),b=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=t.children,r=(0,s.default)(t,["className","children"]),i=(0,y.splitBsProps)(r),a=i[0],l=i[1],u=(0,y.getClassSet)(a);return v.default.createElement("div",(0,o.default)({},l,{className:(0,m.default)(e,u)}),v.default.createElement("h1",null,n))},e}(v.default.Component);e.default=(0,y.bsClass)("page-header",b),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(551),o=r(i),a=n(1275),s=r(a);e.default=s.default.wrapper(o.default,"`<PageItem>`","`<Pager.Item>`"),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){var r=void 0;"object"===(void 0===t?"undefined":(0,d.default)(t))?r=t.message:(r=t+" is deprecated. Use "+e+" instead.",n&&(r+="\nYou can read more about it at "+n)),m[r]||(m[r]=!0)}function o(){m={}}e.__esModule=!0;var a=n(8),s=r(a),l=n(9),u=r(l),c=n(10),f=r(c),h=n(353),d=r(h);e._resetWarned=o;var p=n(78),m=(r(p),{});i.wrapper=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,t.apply(this,arguments))}return(0,f.default)(e,t),e.prototype.componentWillMount=function(){if(i.apply(void 0,n),t.prototype.componentWillMount){for(var e,r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];(e=t.prototype.componentWillMount).call.apply(e,[this].concat(o))}},e}(t)},e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(551),w=r(_),x=n(14),E=n(46),M=r(E),S=n(64),T=r(S),C={onSelect:b.default.func},O=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.onSelect,n=t.className,r=t.children,i=(0,s.default)(t,["onSelect","className","children"]),a=(0,x.splitBsProps)(i),l=a[0],u=a[1],c=(0,x.getClassSet)(l);return v.default.createElement("ul",(0,o.default)({},u,{className:(0,m.default)(n,c)}),T.default.map(r,function(t){return(0,g.cloneElement)(t,{onSelect:(0,M.default)(t.props.onSelect,e)})}))},e}(v.default.Component);O.propTypes=C,O.Item=w.default,e.default=(0,x.bsClass)("pager",O),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(13),o=r(i),a=n(11),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(35),w=r(_),x=n(552),E=r(x),M=n(14),S={activePage:b.default.number,items:b.default.number,maxButtons:b.default.number,boundaryLinks:b.default.bool,ellipsis:b.default.oneOfType([b.default.bool,b.default.node]),first:b.default.oneOfType([b.default.bool,b.default.node]),last:b.default.oneOfType([b.default.bool,b.default.node]),prev:b.default.oneOfType([b.default.bool,b.default.node]),next:b.default.oneOfType([b.default.bool,b.default.node]),onSelect:b.default.func,buttonComponentClass:w.default},T={activePage:1,items:1,maxButtons:0,first:!1,last:!1,prev:!1,next:!1,ellipsis:!0,boundaryLinks:!1},C=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.renderPageButtons=function(t,e,n,r,i,o){var a=[],l=void 0,u=void 0;n&&n<e?(l=Math.max(Math.min(t-Math.floor(n/2,10),e-n+1),1),u=l+n-1):(l=1,u=e);for(var c=l;c<=u;++c)a.push(v.default.createElement(E.default,(0,s.default)({},o,{key:c,eventKey:c,active:c===t}),c));return i&&r&&l>1&&(l>2&&a.unshift(v.default.createElement(E.default,{key:"ellipsisFirst",disabled:!0,componentClass:o.componentClass},v.default.createElement("span",{"aria-label":"More"},!0===i?"â€¦":i))),a.unshift(v.default.createElement(E.default,(0,s.default)({},o,{key:1,eventKey:1,active:!1}),"1"))),i&&u<e&&((!r||u<e-1)&&a.push(v.default.createElement(E.default,{key:"ellipsis",disabled:!0,componentClass:o.componentClass},v.default.createElement("span",{"aria-label":"More"},!0===i?"â€¦":i))),r&&a.push(v.default.createElement(E.default,(0,s.default)({},o,{key:e,eventKey:e,active:!1}),e))),a},e.prototype.render=function(){var t=this.props,e=t.activePage,n=t.items,r=t.maxButtons,i=t.boundaryLinks,a=t.ellipsis,l=t.first,u=t.last,c=t.prev,f=t.next,h=t.onSelect,d=t.buttonComponentClass,p=t.className,g=(0,o.default)(t,["activePage","items","maxButtons","boundaryLinks","ellipsis","first","last","prev","next","onSelect","buttonComponentClass","className"]),y=(0,M.splitBsProps)(g),b=y[0],_=y[1],w=(0,M.getClassSet)(b),x={onSelect:h,componentClass:d};return v.default.createElement("ul",(0,s.default)({},_,{className:(0,m.default)(p,w)}),l&&v.default.createElement(E.default,(0,s.default)({},x,{eventKey:1,disabled:1===e}),v.default.createElement("span",{"aria-label":"First"},!0===l?"Â«":l)),c&&v.default.createElement(E.default,(0,s.default)({},x,{eventKey:e-1,disabled:1===e}),v.default.createElement("span",{"aria-label":"Previous"},!0===c?"â€¹":c)),this.renderPageButtons(e,n,r,i,a,x),f&&v.default.createElement(E.default,(0,s.default)({},x,{eventKey:e+1,disabled:e>=n}),v.default.createElement("span",{"aria-label":"Next"},!0===f?"â€º":f)),u&&v.default.createElement(E.default,(0,s.default)({},x,{eventKey:n,disabled:e>=n}),v.default.createElement("span",{"aria-label":"Last"},!0===u?"Â»":u)))},e}(v.default.Component);C.propTypes=S,C.defaultProps=T,e.default=(0,M.bsClass)("pagination",C),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(61),o=r(i),a=n(13),s=r(a),l=n(11),u=r(l),c=n(8),f=r(c),h=n(9),d=r(h),p=n(10),m=r(p),g=n(12),v=r(g),y=n(0),b=r(y),_=n(3),w=r(_),x=n(357),E=r(x),M=n(14),S=n(56),T={collapsible:w.default.bool,onSelect:w.default.func,header:w.default.node,id:w.default.oneOfType([w.default.string,w.default.number]),footer:w.default.node,defaultExpanded:w.default.bool,expanded:w.default.bool,eventKey:w.default.any,headerRole:w.default.string,panelRole:w.default.string,onEnter:w.default.func,onEntering:w.default.func,onEntered:w.default.func,onExit:w.default.func,onExiting:w.default.func,onExited:w.default.func},C={defaultExpanded:!1},O=function(t){function e(n,r){(0,f.default)(this,e);var i=(0,d.default)(this,t.call(this,n,r));return i.handleClickTitle=i.handleClickTitle.bind(i),i.state={expanded:i.props.defaultExpanded},i}return(0,m.default)(e,t),e.prototype.handleClickTitle=function(t){t.persist(),t.selected=!0,this.props.onSelect?this.props.onSelect(this.props.eventKey,t):t.preventDefault(),t.selected&&this.setState({expanded:!this.state.expanded})},e.prototype.renderAnchor=function(t,e,n,r){return b.default.createElement("a",{role:n,href:e&&"#"+e,onClick:this.handleClickTitle,"aria-controls":e,"aria-expanded":r,"aria-selected":r,className:r?null:"collapsed"},t)},e.prototype.renderBody=function(t,e){function n(){i.length&&(r.push(b.default.createElement("div",{key:r.length,className:o},i)),i=[])}var r=[],i=[],o=(0,M.prefix)(e,"body");return b.default.Children.toArray(t).forEach(function(t){if(b.default.isValidElement(t)&&t.props.fill)return n(),void r.push((0,y.cloneElement)(t,{fill:void 0}));i.push(t)}),n(),r},e.prototype.renderCollapsibleBody=function(t,e,n,r,i,o){return b.default.createElement(E.default,(0,u.default)({in:e},o),b.default.createElement("div",{id:t,role:n,className:(0,M.prefix)(i,"collapse"),"aria-hidden":!e},this.renderBody(r,i)))},e.prototype.renderHeader=function(t,e,n,r,i,o){var a=(0,M.prefix)(o,"title");return t?b.default.isValidElement(e)?(0,y.cloneElement)(e,{className:(0,v.default)(e.props.className,a),children:this.renderAnchor(e.props.children,n,r,i)}):b.default.createElement("h4",{role:"presentation",className:a},this.renderAnchor(e,n,r,i)):b.default.isValidElement(e)?(0,y.cloneElement)(e,{className:(0,v.default)(e.props.className,a)}):e},e.prototype.render=function(){var t=this.props,e=t.collapsible,n=t.header,r=t.id,i=t.footer,o=t.expanded,a=t.headerRole,l=t.panelRole,c=t.className,f=t.children,h=t.onEnter,d=t.onEntering,p=t.onEntered,m=t.onExit,g=t.onExiting,y=t.onExited,_=(0,s.default)(t,["collapsible","header","id","footer","expanded","headerRole","panelRole","className","children","onEnter","onEntering","onEntered","onExit","onExiting","onExited"]),w=(0,M.splitBsPropsAndOmit)(_,["defaultExpanded","eventKey","onSelect"]),x=w[0],E=w[1],S=null!=o?o:this.state.expanded,T=(0,M.getClassSet)(x);return b.default.createElement("div",(0,u.default)({},E,{className:(0,v.default)(c,T),id:e?null:r}),n&&b.default.createElement("div",{className:(0,M.prefix)(x,"heading")},this.renderHeader(e,n,r,a,S,x)),e?this.renderCollapsibleBody(r,S,l,f,x,{onEnter:h,onEntering:d,onEntered:p,onExit:m,onExiting:g,onExited:y}):this.renderBody(f,x),i&&b.default.createElement("div",{className:(0,M.prefix)(x,"footer")},i))},e}(b.default.Component);O.propTypes=T,O.defaultProps=C,e.default=(0,M.bsClass)("panel",(0,M.bsStyles)([].concat((0,o.default)(S.State),[S.Style.DEFAULT,S.Style.PRIMARY]),S.Style.DEFAULT,O)),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(259),w=r(_),x=n(14),E={id:(0,w.default)(b.default.oneOfType([b.default.string,b.default.number])),placement:b.default.oneOf(["top","right","bottom","left"]),positionTop:b.default.oneOfType([b.default.number,b.default.string]),positionLeft:b.default.oneOfType([b.default.number,b.default.string]),arrowOffsetTop:b.default.oneOfType([b.default.number,b.default.string]),arrowOffsetLeft:b.default.oneOfType([b.default.number,b.default.string]),title:b.default.node},M={placement:"right"},S=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t,e=this.props,n=e.placement,r=e.positionTop,i=e.positionLeft,a=e.arrowOffsetTop,l=e.arrowOffsetLeft,u=e.title,c=e.className,f=e.style,h=e.children,d=(0,s.default)(e,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","title","className","style","children"]),p=(0,x.splitBsProps)(d),g=p[0],y=p[1],b=(0,o.default)({},(0,x.getClassSet)(g),(t={},t[n]=!0,t)),_=(0,o.default)({display:"block",top:r,left:i},f),w={top:a,left:l};return v.default.createElement("div",(0,o.default)({},y,{role:"tooltip",className:(0,m.default)(c,b),style:_}),v.default.createElement("div",{className:"arrow",style:w}),u&&v.default.createElement("h3",{className:(0,x.prefix)(g,"title")},u),v.default.createElement("div",{className:(0,x.prefix)(g,"content")},h))},e}(v.default.Component);S.propTypes=E,S.defaultProps=M,e.default=(0,x.bsClass)("popover",S),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){var r=t[e];if(!r)return null;var i=null;return w.default.Children.forEach(r,function(t){if(!i&&t.type!==R){var e=w.default.isValidElement(t)?t.type.displayName||t.type.name||t.type:t;i=new Error("Children of "+n+" can contain only ProgressBar components. Found "+e+".")}}),i}function o(t,e,n){var r=(t-e)/(n-e)*100;return Math.round(r*O)/O}e.__esModule=!0;var a=n(61),s=r(a),l=n(11),u=r(l),c=n(13),f=r(c),h=n(8),d=r(h),p=n(9),m=r(p),g=n(10),v=r(g),y=n(12),b=r(y),_=n(0),w=r(_),x=n(3),E=r(x),M=n(14),S=n(56),T=n(64),C=r(T),O=1e3,A={min:E.default.number,now:E.default.number,max:E.default.number,label:E.default.node,srOnly:E.default.bool,striped:E.default.bool,active:E.default.bool,children:i,isChild:E.default.bool},I={min:0,max:100,active:!1,isChild:!1,srOnly:!1,striped:!1},R=function(t){function e(){return(0,d.default)(this,e),(0,m.default)(this,t.apply(this,arguments))}return(0,v.default)(e,t),e.prototype.renderProgressBar=function(t){var e,n=t.min,r=t.now,i=t.max,a=t.label,s=t.srOnly,l=t.striped,c=t.active,h=t.className,d=t.style,p=(0,f.default)(t,["min","now","max","label","srOnly","striped","active","className","style"]),m=(0,M.splitBsProps)(p),g=m[0],v=m[1],y=(0,u.default)({},(0,M.getClassSet)(g),(e={active:c},e[(0,M.prefix)(g,"striped")]=c||l,e));return w.default.createElement("div",(0,u.default)({},v,{role:"progressbar",className:(0,b.default)(h,y),style:(0,u.default)({width:o(r,n,i)+"%"},d),"aria-valuenow":r,"aria-valuemin":n,"aria-valuemax":i}),s?w.default.createElement("span",{className:"sr-only"},a):a)},e.prototype.render=function(){var t=this.props,e=t.isChild,n=(0,f.default)(t,["isChild"]);if(e)return this.renderProgressBar(n);var r=n.min,i=n.now,o=n.max,a=n.label,s=n.srOnly,l=n.striped,c=n.active,h=n.bsClass,d=n.bsStyle,p=n.className,m=n.children,g=(0,f.default)(n,["min","now","max","label","srOnly","striped","active","bsClass","bsStyle","className","children"]);return w.default.createElement("div",(0,u.default)({},g,{className:(0,b.default)(p,"progress")}),m?C.default.map(m,function(t){return(0,_.cloneElement)(t,{isChild:!0})}):this.renderProgressBar({min:r,now:i,max:o,label:a,srOnly:s,striped:l,active:c,bsClass:h,bsStyle:d}))},e}(w.default.Component);R.propTypes=A,R.defaultProps=I,e.default=(0,M.bsClass)("progress-bar",(0,M.bsStyles)((0,s.default)(S.State),R)),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(78),w=(r(_),n(14)),x={inline:b.default.bool,disabled:b.default.bool,title:b.default.string,validationState:b.default.oneOf(["success","warning","error",null]),inputRef:b.default.func},E={inline:!1,disabled:!1,title:""},M=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.inline,n=t.disabled,r=t.validationState,i=t.inputRef,a=t.className,l=t.style,u=t.title,c=t.children,f=(0,s.default)(t,["inline","disabled","validationState","inputRef","className","style","title","children"]),h=(0,w.splitBsProps)(f),d=h[0],p=h[1],g=v.default.createElement("input",(0,o.default)({},p,{ref:i,type:"radio",disabled:n}));if(e){var y,b=(y={},y[(0,w.prefix)(d,"inline")]=!0,y.disabled=n,y);return v.default.createElement("label",{className:(0,m.default)(a,b),style:l,title:u},g,c)}var _=(0,o.default)({},(0,w.getClassSet)(d),{disabled:n});return r&&(_["has-"+r]=!0),v.default.createElement("div",{className:(0,m.default)(a,_),style:l},v.default.createElement("label",{title:u},g,c))},e}(v.default.Component);M.propTypes=x,M.defaultProps=E,e.default=(0,w.bsClass)("radio",M),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(78),w=(r(_),n(14)),x={children:b.default.element.isRequired,a16by9:b.default.bool,a4by3:b.default.bool},E={a16by9:!1,a4by3:!1},M=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t,e=this.props,n=e.a16by9,r=e.a4by3,i=e.className,a=e.children,l=(0,s.default)(e,["a16by9","a4by3","className","children"]),u=(0,w.splitBsProps)(l),c=u[0],f=u[1],h=(0,o.default)({},(0,w.getClassSet)(c),(t={},t[(0,w.prefix)(c,"16by9")]=n,t[(0,w.prefix)(c,"4by3")]=r,t));return v.default.createElement("div",{className:(0,m.default)(h)},(0,g.cloneElement)(a,(0,o.default)({},f,{className:(0,m.default)(i,(0,w.prefix)(c,"item"))})))},e}(v.default.Component);M.propTypes=x,M.defaultProps=E,e.default=(0,w.bsClass)("embed-responsive",M),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(35),b=r(y),_=n(14),w={componentClass:b.default},x={componentClass:"div"},E=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,_.splitBsProps)(r),a=i[0],l=i[1],u=(0,_.getClassSet)(a);return v.default.createElement(e,(0,o.default)({},l,{className:(0,m.default)(n,u)}))},e}(v.default.Component);E.propTypes=w,E.defaultProps=x,e.default=(0,_.bsClass)("row",E),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(13),o=r(i),a=n(8),s=r(a),l=n(9),u=r(l),c=n(10),f=r(c),h=n(11),d=r(h),p=n(0),m=r(p),g=n(3),v=r(g),y=n(206),b=r(y),_=n(258),w=r(_),x=n(1285),E=r(x),M=n(260),S=r(M),T=(0,d.default)({},w.default.propTypes,{bsStyle:v.default.string,bsSize:v.default.string,href:v.default.string,onClick:v.default.func,title:v.default.node.isRequired,toggleLabel:v.default.string,children:v.default.node}),C=function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,t.apply(this,arguments))}return(0,f.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.bsSize,n=t.bsStyle,r=t.title,i=t.toggleLabel,a=t.children,s=(0,o.default)(t,["bsSize","bsStyle","title","toggleLabel","children"]),l=(0,S.default)(s,w.default.ControlledComponent),u=l[0],c=l[1];return m.default.createElement(w.default,(0,d.default)({},u,{bsSize:e,bsStyle:n}),m.default.createElement(b.default,(0,d.default)({},c,{disabled:s.disabled,bsSize:e,bsStyle:n}),r),m.default.createElement(E.default,{"aria-label":i||r,bsSize:e,bsStyle:n}),m.default.createElement(w.default.Menu,null,a))},e}(m.default.Component);C.propTypes=T,C.Toggle=E.default,e.default=C,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(8),s=r(a),l=n(9),u=r(l),c=n(10),f=r(c),h=n(0),d=r(h),p=n(534),m=r(p),g=function(t){function e(){return(0,s.default)(this,e),(0,u.default)(this,t.apply(this,arguments))}return(0,f.default)(e,t),e.prototype.render=function(){return d.default.createElement(m.default,(0,o.default)({},this.props,{useAnchor:!1,noCaret:!1}))},e}(d.default.Component);g.defaultProps=m.default.defaultProps,e.default=g,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(8),o=r(i),a=n(9),s=r(a),l=n(10),u=r(l),c=n(11),f=r(c),h=n(0),d=r(h),p=n(3),m=r(p),g=n(360),v=r(g),y=n(361),b=r(y),_=n(553),w=r(_),x=(0,f.default)({},w.default.propTypes,{disabled:m.default.bool,title:m.default.node,tabClassName:m.default.string}),E=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,t.apply(this,arguments))}return(0,u.default)(e,t),e.prototype.render=function(){var t=(0,f.default)({},this.props);return delete t.title,delete t.disabled,delete t.tabClassName,d.default.createElement(w.default,t)},e}(d.default.Component);E.propTypes=x,E.Container=v.default,E.Content=b.default,E.Pane=w.default,e.default=E,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(14),w={striped:b.default.bool,bordered:b.default.bool,condensed:b.default.bool,hover:b.default.bool,responsive:b.default.bool},x={bordered:!1,condensed:!1,hover:!1,responsive:!1,striped:!1},E=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t,e=this.props,n=e.striped,r=e.bordered,i=e.condensed,a=e.hover,l=e.responsive,u=e.className,c=(0,s.default)(e,["striped","bordered","condensed","hover","responsive","className"]),f=(0,_.splitBsProps)(c),h=f[0],d=f[1],p=(0,o.default)({},(0,_.getClassSet)(h),(t={},t[(0,_.prefix)(h,"striped")]=n,t[(0,_.prefix)(h,"bordered")]=r,t[(0,_.prefix)(h,"condensed")]=i,t[(0,_.prefix)(h,"hover")]=a,t)),g=v.default.createElement("table",(0,o.default)({},d,{className:(0,m.default)(u,p)}));return l?v.default.createElement("div",{className:(0,_.prefix)(h,"responsive")},g):g},e}(v.default.Component);E.propTypes=w,E.defaultProps=x,e.default=(0,_.bsClass)("table",E),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=void 0;return L.default.forEach(t,function(t){null==e&&(e=t.props.eventKey)}),e}e.__esModule=!0;var o=n(11),a=r(o),s=n(13),l=r(s),u=n(8),c=r(u),f=n(9),h=r(f),d=n(10),p=r(d),m=n(0),g=r(m),v=n(3),y=r(v),b=n(259),_=r(b),w=n(207),x=r(w),E=n(545),M=r(E),S=n(547),T=r(S),C=n(360),O=r(C),A=n(361),I=r(A),R=n(14),P=n(64),L=r(P),N=O.default.ControlledComponent,k={activeKey:y.default.any,bsStyle:y.default.oneOf(["tabs","pills"]),animation:y.default.bool,id:(0,_.default)(y.default.oneOfType([y.default.string,y.default.number])),onSelect:y.default.func,mountOnEnter:y.default.bool,unmountOnExit:y.default.bool},D={bsStyle:"tabs",animation:!0,mountOnEnter:!1,unmountOnExit:!1},F=function(t){function e(){return(0,c.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,p.default)(e,t),e.prototype.renderTab=function(t){var e=t.props,n=e.title,r=e.eventKey,i=e.disabled,o=e.tabClassName;return null==n?null:g.default.createElement(T.default,{eventKey:r,disabled:i,className:o},n)},e.prototype.render=function(){var t=this.props,e=t.id,n=t.onSelect,r=t.animation,o=t.mountOnEnter,s=t.unmountOnExit,u=t.bsClass,c=t.className,f=t.style,h=t.children,d=t.activeKey,p=void 0===d?i(h):d,m=(0,l.default)(t,["id","onSelect","animation","mountOnEnter","unmountOnExit","bsClass","className","style","children","activeKey"]);return g.default.createElement(N,{id:e,activeKey:p,onSelect:n,className:c,style:f},g.default.createElement("div",null,g.default.createElement(M.default,(0,a.default)({},m,{role:"tablist"}),L.default.map(h,this.renderTab)),g.default.createElement(I.default,{bsClass:u,animation:r,mountOnEnter:o,unmountOnExit:s},h)))},e}(g.default.Component);F.propTypes=k,F.defaultProps=D,(0,R.bsClass)("tab",F),e.default=(0,x.default)(F,{activeKey:"onSelect"}),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(103),w=r(_),x=n(14),E={src:b.default.string,alt:b.default.string,href:b.default.string,onError:b.default.func,onLoad:b.default.func},M=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.src,n=t.alt,r=t.onError,i=t.onLoad,a=t.className,l=t.children,u=(0,s.default)(t,["src","alt","onError","onLoad","className","children"]),c=(0,x.splitBsProps)(u),f=c[0],h=c[1],d=h.href?w.default:"div",p=(0,x.getClassSet)(f);return v.default.createElement(d,(0,o.default)({},h,{className:(0,m.default)(a,p)}),v.default.createElement("img",{src:e,alt:n,onError:r,onLoad:i}),l&&v.default.createElement("div",{className:"caption"},l))},e}(v.default.Component);M.propTypes=E,e.default=(0,x.bsClass)("thumbnail",M),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(3),m=r(p),g=n(0),v=r(g),y=n(90),b=r(y),_=n(207),w=r(_),x=n(46),E=r(x),M=n(64),S=r(M),T=n(355),C=r(T),O=n(554),A=r(O),I={name:m.default.string,value:m.default.any,onChange:m.default.func,type:m.default.oneOf(["checkbox","radio"]).isRequired},R={type:"radio"},P=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.getValues=function(){var t=this.props.value;return null==t?[]:[].concat(t)},e.prototype.handleToggle=function(t){var e=this.props,n=e.type,r=e.onChange,i=this.getValues(),o=-1!==i.indexOf(t);if("radio"===n)return void(o||r(t));r(o?i.filter(function(e){return e!==t}):[].concat(i,[t]))},e.prototype.render=function(){var t=this,e=this.props,n=e.children,r=e.type,i=e.name,a=(0,s.default)(e,["children","type","name"]),l=this.getValues();return"radio"!==r||i||(0,b.default)(!1),delete a.onChange,delete a.value,v.default.createElement(C.default,(0,o.default)({},a,{"data-toggle":"buttons"}),S.default.map(n,function(e){var n=e.props,o=n.value,a=n.onChange,s=function(){return t.handleToggle(o)};return v.default.cloneElement(e,{type:r,name:e.name||i,checked:-1!==l.indexOf(o),onChange:(0,E.default)(a,s)})}))},e}(v.default.Component);P.propTypes=I,P.defaultProps=R;var L=(0,w.default)(P,{value:"onChange"});L.Button=A.default,e.default=L,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),_=n(259),w=r(_),x=n(14),E={id:(0,w.default)(b.default.oneOfType([b.default.string,b.default.number])),placement:b.default.oneOf(["top","right","bottom","left"]),positionTop:b.default.oneOfType([b.default.number,b.default.string]),positionLeft:b.default.oneOfType([b.default.number,b.default.string]),arrowOffsetTop:b.default.oneOfType([b.default.number,b.default.string]),arrowOffsetLeft:b.default.oneOfType([b.default.number,b.default.string])},M={placement:"right"},S=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t,e=this.props,n=e.placement,r=e.positionTop,i=e.positionLeft,a=e.arrowOffsetTop,l=e.arrowOffsetLeft,u=e.className,c=e.style,f=e.children,h=(0,s.default)(e,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","className","style","children"]),d=(0,x.splitBsProps)(h),p=d[0],g=d[1],y=(0,o.default)({},(0,x.getClassSet)(p),(t={},t[n]=!0,t)),b=(0,o.default)({top:r,left:i},c),_={top:a,left:l};return v.default.createElement("div",(0,o.default)({},g,{role:"tooltip",className:(0,m.default)(u,y),style:b}),v.default.createElement("div",{className:(0,x.prefix)(p,"arrow"),style:_}),v.default.createElement("div",{className:(0,x.prefix)(p,"inner")},f))},e}(v.default.Component);S.propTypes=E,S.defaultProps=M,e.default=(0,x.bsClass)("tooltip",S),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),l=n(8),u=r(l),c=n(9),f=r(c),h=n(10),d=r(h),p=n(12),m=r(p),g=n(0),v=r(g),y=n(14),b=n(56),_=function(t){function e(){return(0,u.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=(0,s.default)(t,["className"]),r=(0,y.splitBsProps)(n),i=r[0],a=r[1],l=(0,y.getClassSet)(i);return v.default.createElement("div",(0,o.default)({},a,{className:(0,m.default)(e,l)}))},e}(v.default.Component);e.default=(0,y.bsClass)("well",(0,y.bsSizes)([b.Size.LARGE,b.Size.SMALL],_)),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.ValidComponentChildren=e.createChainedFunction=e.bootstrapUtils=void 0;var i=n(14),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),a=n(46),s=r(a),l=n(64),u=r(l);e.bootstrapUtils=o,e.createChainedFunction=s.default,e.ValidComponentChildren=u.default},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(18),m=n.n(p),g=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=function(t){function e(){return r(this,e),i(this,(e.__proto__||s()(e)).apply(this,arguments))}return o(e,t),g(e,[{key:"addClass",value:function(t){this.element.classList.add(t)}},{key:"removeClass",value:function(t){this.element.classList.remove(t)}}]),e}(m.a.control.ScaleLine);e.a=v},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(18),m=n.n(p),g=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var n=document.createElement("div");n.innerText=void 0!==t.name?t.name:"BaseLayer name";var o=void 0!==t.className?t.className:"ol-layer-name";return n.className=o+" ol-unselectable ol-control",i(this,(e.__proto__||s()(e)).call(this,{element:n,render:e.render,target:t.target}))}return o(e,t),g(e,[{key:"getSourceBaseLayerName",value:function(){var t=this.getMap(),e=t.getLayers(),n=e.getArray(),r=n.find(function(t){return t.get("isBaseLayer")&&t.get("visible")});return r?r.get("name"):null}},{key:"updateElement_",value:function(t){t&&(this.element.innerText=""+this.getSourceBaseLayerName())}}],[{key:"render",value:function(t){this.updateElement_(t.frameState)}}]),e}(m.a.control.Control);e.a=v},function(t,e,n){"use strict";function r(t){var e=document.queryCommandSupported&&document.queryCommandSupported("copy");if(e){var n=document.createElement("input");n.setAttribute("type","text"),n.value=t,n.style.position="fixed",n.style.opacity=0,document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy")}catch(t){e=!1}document.body.removeChild(n)}e||prompt("Please press Ctrl/Cmd + C to copy.",t)}e.a=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(19),o=n.n(i),a=n(76),s=n.n(a),l=n(40),u=n.n(l),c=n(1),f=n.n(c),h=n(4),d=n.n(h),p=n(23),m=n.n(p),g=n(17),v=n.n(g),y=n(1300),b=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=v()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(m()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=d.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),f()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),x=function(){function t(){r(this,t)}return w(t,null,[{key:"fetch",value:function(e){var n=_({method:"GET",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"}},e);void 0===n.data&&delete n.headers["Content-Type"];var r=t.buildUrl(n.url,n.params);return t.sendAsync(n.method,r,n.data,n.headers)}},{key:"buildUrl",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],i=!0,o=!1,a=void 0;try{for(var l,c=v()(u()(n).sort());!(i=(l=c.next()).done);i=!0){var f=l.value,h=n[f];null!==h&&void 0!==h&&(Object(h)===h&&(h=h instanceof Date?h.toISOString():s()(h)),r.push(t.encodeUriQuery(f)+"="+t.encodeUriQuery(h)))}}catch(t){o=!0,a=t}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}return r.length>0&&(e+=(e.indexOf("?")<0?"?":"&")+r.join("&")),e}},{key:"encodeUriQuery",value:function(t,e){var n=encodeURIComponent(t);return n=n.replace(/%(?:24|2C|3A|3B|40)/gi,decodeURIComponent),e||(n=n.replace(/%20/g,"+")),n}},{key:"sendAsync",value:function(e,n,r,i){var a=o.a.defer();return t.sendAsyncInternal(e,n,r,i,function(e,n,r,i){e=Math.max(e,0),r=t.parseHeaders(r),t.isSuccess(e)?a.resolve(t.defaultHttpResponseTransform(n,r)):a.reject({data:n,status:e,headers:r,statusText:i})}),a.promise}},{key:"sendAsyncInternal",value:function(t,e,n,r,i){var o=new window.XMLHttpRequest;o.open(t,e,!0);var a=!0,s=!1,l=void 0;try{for(var u,c=v()(r);!(a=(u=c.next()).done);a=!0){var f=b(u.value,2),h=f[0],d=f[1];void 0!==d&&o.setRequestHeader(h,d)}}catch(t){s=!0,l=t}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}var p=function(t,e,n,r){o=null,i(t,e,n,r)};o.onload=function(){var t=o.statusText||"",e="response"in o?o.response:o.responseText,n=1223===o.status?204:o.status;p(n,e,o.getAllResponseHeaders(),t)},o.onerror=o.onabort=function(){p(-1,null,null,"")},o.send(n||null)}},{key:"isSuccess",value:function(t){return 200<=t&&t<300}},{key:"defaultHttpResponseTransform",value:function(t,e){if("string"==typeof t){var n=Object(y.b)(t).trim();if(n){var r=e["content-type"];(r&&0===r.indexOf("application/json")||Object(y.a)(n))&&(t=JSON.parse(n))}}return t}},{key:"parseHeaders",value:function(t){var e={},n=function(t,n){t&&(t=t.trim().toLowerCase(),n=n.trim(),e[t]=e[t]?e[t]+", "+n:n)};if("string"==typeof t){var r=!0,i=!1,o=void 0;try{for(var a,s=v()(t.split("\n"));!(r=(a=s.next()).done);r=!0){var l=a.value,u=l.indexOf(":");n(l.substr(0,u),l.substr(u+1))}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}else if(Object(t)===t){var c=!0,f=!1,h=void 0;try{for(var d,p=v()(t);!(c=(d=p.next()).done);c=!0){var m=b(d.value,2),g=m[0],y=m[1];n(g,y)}}catch(t){f=!0,h=t}finally{try{!c&&p.return&&p.return()}finally{if(f)throw h}}}return e}}]),t}();e.a=x},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i});var r=function(t){return t.replace(/^\)]}',?\n/,"")},i=function(t){return/^(?:\[.*]|{.*})$/.test(t)}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return a()(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(30),a=n.n(o),s=n(1),l=n.n(s),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function(){function t(e){var n=e.size,r=void 0===n?t.DEFAULT_SIZE:n;i(this,t),this._items=[],this.size=r,this.clear()}return u(t,[{key:"append",value:function(t){this._items=[].concat(r(this._items.slice(-this._size)),[t])}},{key:"truncate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._items=this._items.slice(-t)}},{key:"clear",value:function(){this.truncate()}},{key:"size",get:function(){return this._size},set:function(t){this._size=t,this.truncate(t)}},{key:"length",get:function(){return this._items.length}},{key:"items",get:function(){return this._items}}]),t}();c.DEFAULT_SIZE=1e3,e.a=c},function(t,e,n){!function(t,n){n(e)}(0,function(t){"use strict";function e(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function n(t,n){var r=e(t);return function(e,i){return n(r(e),i,t)}}function r(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}var i={},o={},a=34,s=10,l=13,u=function(t){function u(t,r){var i,o,a=c(t,function(t,a){if(i)return i(t,a-1);o=t,i=r?n(t,r):e(t)});return a.columns=o||[],a}function c(t,e){function n(){if(d)return o;if(p)return p=!1,i;var e,n,r=f;if(t.charCodeAt(r)===a){for(;f++<c&&t.charCodeAt(f)!==a||t.charCodeAt(++f)===a;);return(e=f)>=c?d=!0:(n=t.charCodeAt(f++))===s?p=!0:n===l&&(p=!0,t.charCodeAt(f)===s&&++f),t.slice(r+1,e-1).replace(/""/g,'"')}for(;f<c;){if((n=t.charCodeAt(e=f++))===s)p=!0;else if(n===l)p=!0,t.charCodeAt(f)===s&&++f;else if(n!==g)continue;return t.slice(r,e)}return d=!0,t.slice(r,c)}var r,u=[],c=t.length,f=0,h=0,d=c<=0,p=!1;for(t.charCodeAt(c-1)===s&&--c,t.charCodeAt(c-1)===l&&--c;(r=n())!==o;){for(var m=[];r!==i&&r!==o;)m.push(r),r=n();e&&null==(m=e(m,h++))||u.push(m)}return u}function f(e,n){return null==n&&(n=r(e)),[n.map(p).join(t)].concat(e.map(function(e){return n.map(function(t){return p(e[t])}).join(t)})).join("\n")}function h(t){return t.map(d).join("\n")}function d(e){return e.map(p).join(t)}function p(t){return null==t?"":m.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var m=new RegExp('["'+t+"\n\r]"),g=t.charCodeAt(0);return{parse:u,parseRows:c,format:f,formatRows:h}},c=u(","),f=c.parse,h=c.parseRows,d=c.format,p=c.formatRows,m=u("\t"),g=m.parse,v=m.parseRows,y=m.format,b=m.formatRows;t.dsvFormat=u,t.csvParse=f,t.csvParseRows=h,t.csvFormat=d,t.csvFormatRows=p,t.tsvParse=g,t.tsvParseRows=v,t.tsvFormat=y,t.tsvFormatRows=b,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){t.exports.download=n(1304),t.exports.write=n(559),t.exports.zip=n(557)},function(t,e,n){var r=n(557);t.exports=function(t,e){var n=r(t,e);location.href="data:application/zip;base64,"+n}},function(t,e,n){t.exports.structure=n(1306)},function(t,e,n){var r=(n(560),n(1307)),i=n(1308);t.exports=function(t,e){var n=e||i.multi(t),o=32*n.length+1,a=i.bytesPer(n),s=new ArrayBuffer(o+32+a*t.length+1),l=new Date,u=new DataView(s);u.setUint8(0,3),u.setUint8(1,l.getFullYear()-1900),u.setUint8(2,l.getMonth()),u.setUint8(3,l.getDate()),u.setUint32(4,t.length,!0);var c=o+32;return u.setUint16(8,c,!0),u.setUint16(10,a,!0),u.setInt8(32+o-1,13),n.forEach(function(t,e){t.name.split("").slice(0,8).forEach(function(t,n){u.setInt8(32+32*e+n,t.charCodeAt(0))}),u.setInt8(32+32*e+11,t.type.charCodeAt(0)),u.setInt8(32+32*e+16,t.size),"N"==t.type&&u.setInt8(32+32*e+17,3)}),offset=o+32,t.forEach(function(t,e){u.setUint8(offset,32),offset++,n.forEach(function(e){var n=t[e.name];switch(null!==n&&void 0!==n||(n=""),e.type){case"L":u.setUint8(offset,n?84:70),offset++;break;case"D":offset=r.writeField(u,8,r.lpad(n.toString(),8," "),offset);break;case"N":offset=r.writeField(u,e.size,r.lpad(n.toString(),e.size," ").substr(0,18),offset);break;case"C":offset=r.writeField(u,e.size,r.rpad(n.toString(),e.size," "),offset);break;default:throw new Error("Unknown field type")}})}),u.setUint8(offset,26),u}},function(t,e){t.exports.lpad=function(t,e,n){for(;t.length<e;)t=n+t;return t},t.exports.rpad=function(t,e,n){for(;t.length<e;)t+=n;return t},t.exports.writeField=function(t,e,n,r){for(var i=0;i<e;i++)t.setUint8(r,n.charCodeAt(i)),r++;return r}},function(t,e,n){function r(t){function e(t){i(n,t)}var n={};return t.forEach(e),o(n)}function i(t,e){for(var n in e){var r=void 0!==e[n]&&null!==e[n];(void 0===t[n]||r)&&(t[n]=e[n])}return t}function o(t){var e={},n=[];for(var r in t)e[r]=null===t[r]?"null":typeof t[r];for(var i in e){var o=l[e[i]];o&&n.push({name:i,type:o,size:s[o]})}return n}function a(t){return t.reduce(function(t,e){return t+e.size},1)}var s=n(560),l={string:"C",number:"N",boolean:"L",null:"C"};t.exports.multi=r,t.exports.bytesPer=a,t.exports.obj=o},function(t,e,n){function r(t){function e(t){i(n,t.properties)}var n={};return t.forEach(e),o(n)}function i(t,e){for(var n in e)t[n]=e[n];return t}function o(t){var e={},n=[];for(var r in t)e[r]=typeof t[r];for(var i in e)n.push({name:i,type:a[e[i]]});return n}var a=n(268).jstypes;t.exports.geojson=r,t.exports.obj=o},function(t,e,n){"use strict";(function(e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function r(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function i(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}function o(t){return Object.prototype.toString.call(t)}function a(t){return!i(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}function s(t){if(_.isFunction(t)){if(E)return t.name;var e=t.toString(),n=e.match(S);return n&&n[1]}}function l(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function u(t){if(E||!_.isFunction(t))return _.inspect(t);var e=s(t);return"[Function"+(e?": "+e:"")+"]"}function c(t){return l(u(t.actual),128)+" "+t.operator+" "+l(u(t.expected),128)}function f(t,e,n,r,i){throw new M.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function h(t,e){t||f(t,!0,e,"==",M.ok)}function d(t,e,n,s){if(t===e)return!0;if(i(t)&&i(e))return 0===r(t,e);if(_.isDate(t)&&_.isDate(e))return t.getTime()===e.getTime();if(_.isRegExp(t)&&_.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(a(t)&&a(e)&&o(t)===o(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(i(t)!==i(e))return!1;s=s||{actual:[],expected:[]};var l=s.actual.indexOf(t);return-1!==l&&l===s.expected.indexOf(e)||(s.actual.push(t),s.expected.push(e),m(t,e,n,s))}return n?t===e:t==e}function p(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function m(t,e,n,r){if(null===t||void 0===t||null===e||void 0===e)return!1;if(_.isPrimitive(t)||_.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=p(t),o=p(e);if(i&&!o||!i&&o)return!1;if(i)return t=x.call(t),e=x.call(e),d(t,e,n);var a,s,l=T(t),u=T(e);if(l.length!==u.length)return!1;for(l.sort(),u.sort(),s=l.length-1;s>=0;s--)if(l[s]!==u[s])return!1;for(s=l.length-1;s>=0;s--)if(a=l[s],!d(t[a],e[a],n,r))return!1;return!0}function g(t,e,n){d(t,e,!0)&&f(t,e,n,"notDeepStrictEqual",g)}function v(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function y(t){var e;try{t()}catch(t){e=t}return e}function b(t,e,n,r){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=y(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&f(i,n,"Missing expected exception"+r);var o="string"==typeof r,a=!t&&_.isError(i),s=!t&&i&&!n;if((a&&o&&v(i,n)||s)&&f(i,n,"Got unwanted exception"+r),t&&i&&n&&!v(i,n)||!t&&i)throw i}var _=n(1311),w=Object.prototype.hasOwnProperty,x=Array.prototype.slice,E=function(){return"foo"===function(){}.name}(),M=t.exports=h,S=/\s*function\s+([^\(\s]*)\s*/;M.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=c(this),this.generatedMessage=!0);var e=t.stackStartFunction||f;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=s(e),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},_.inherits(M.AssertionError,Error),M.fail=f,M.ok=h,M.equal=function(t,e,n){t!=e&&f(t,e,n,"==",M.equal)},M.notEqual=function(t,e,n){t==e&&f(t,e,n,"!=",M.notEqual)},M.deepEqual=function(t,e,n){d(t,e,!1)||f(t,e,n,"deepEqual",M.deepEqual)},M.deepStrictEqual=function(t,e,n){d(t,e,!0)||f(t,e,n,"deepStrictEqual",M.deepStrictEqual)},M.notDeepEqual=function(t,e,n){d(t,e,!1)&&f(t,e,n,"notDeepEqual",M.notDeepEqual)},M.notDeepStrictEqual=g,M.strictEqual=function(t,e,n){t!==e&&f(t,e,n,"===",M.strictEqual)},M.notStrictEqual=function(t,e,n){t===e&&f(t,e,n,"!==",M.notStrictEqual)},M.throws=function(t,e,n){b(!0,t,e,n)},M.doesNotThrow=function(t,e,n){b(!1,t,e,n)},M.ifError=function(t){if(t)throw t};var T=Object.keys||function(t){var e=[];for(var n in t)w.call(t,n)&&e.push(n);return e}}).call(e,n(37))},function(t,e,n){(function(t,r){function i(t,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(n)?r.showHidden=n:n&&e._extend(r,n),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),l(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function l(t,n,r){if(t.customInspect&&n&&T(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return b(i)||(i=l(t,i,r)),i}var o=u(t,n);if(o)return o;var a=Object.keys(n),m=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),S(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(n);if(0===a.length){if(T(n)){var g=n.name?": "+n.name:"";return t.stylize("[Function"+g+"]","special")}if(x(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(M(n))return t.stylize(Date.prototype.toString.call(n),"date");if(S(n))return c(n)}var v="",y=!1,_=["{","}"];if(p(n)&&(y=!0,_=["[","]"]),T(n)){v=" [Function"+(n.name?": "+n.name:"")+"]"}if(x(n)&&(v=" "+RegExp.prototype.toString.call(n)),M(n)&&(v=" "+Date.prototype.toUTCString.call(n)),S(n)&&(v=" "+c(n)),0===a.length&&(!y||0==n.length))return _[0]+v+_[1];if(r<0)return x(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var w;return w=y?f(t,n,r,m,a):a.map(function(e){return h(t,n,r,m,e,y)}),t.seen.pop(),d(w,v,_)}function u(t,e){if(w(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):m(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)R(e,String(a))?o.push(h(t,e,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}function h(t,e,n,r,i,o){var a,s,u;if(u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},u.get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),R(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(u.value)<0?(s=g(n)?l(t,u.value,null):l(t,u.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function d(t,e,n){var r=0;return t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function p(t){return Array.isArray(t)}function m(t){return"boolean"==typeof t}function g(t){return null===t}function v(t){return null==t}function y(t){return"number"==typeof t}function b(t){return"string"==typeof t}function _(t){return"symbol"==typeof t}function w(t){return void 0===t}function x(t){return E(t)&&"[object RegExp]"===O(t)}function E(t){return"object"==typeof t&&null!==t}function M(t){return E(t)&&"[object Date]"===O(t)}function S(t){return E(t)&&("[object Error]"===O(t)||t instanceof Error)}function T(t){return"function"==typeof t}function C(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function O(t){return Object.prototype.toString.call(t)}function A(t){return t<10?"0"+t.toString(10):t.toString(10)}function I(){var t=new Date,e=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":");return[t.getDate(),k[t.getMonth()],e].join(" ")}function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var P=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(t).replace(P,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),s=r[n];n<o;s=r[++n])g(s)||!E(s)?a+=" "+s:a+=" "+i(s);return a},e.deprecate=function(n,i){function o(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),a=!0}return n.apply(this,arguments)}if(w(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var a=!1;return o};var L,N={};e.debuglog=function(t){if(w(L)&&(L=Object({NODE_ENV:"production",BUILD_PATH:""}).NODE_DEBUG||""),t=t.toUpperCase(),!N[t])if(new RegExp("\\b"+t+"\\b","i").test(L)){var n=r.pid;N[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else N[t]=function(){};return N[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=m,e.isNull=g,e.isNullOrUndefined=v,e.isNumber=y,e.isString=b,e.isSymbol=_,e.isUndefined=w,e.isRegExp=x,e.isObject=E,e.isDate=M,e.isError=S,e.isFunction=T,e.isPrimitive=C,e.isBuffer=n(1312);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",I(),e.format.apply(e,arguments))},e.inherits=n(1313),e._extend=function(t,e){if(!e||!E(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,n(37),n(558))},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){var r=n(365),i=n(268);t.exports.write=function(t,e,n,r){var o=100,a=0,s=0;t.forEach(function(t,e){var l=!!t[2],u=l?44:28;n.setInt32(a,e),n.setInt32(a+4,(u-8)/2),n.setInt32(a+8,l?i.geometries.POINTZ:i.geometries.POINT,!0),n.setFloat64(a+12,t[0],!0),n.setFloat64(a+20,t[1],!0),l&&(n.setFloat64(a+28,t[2],!0),n.setFloat64(a+36,Math.pow(38,-10)-1,!0)),r.setInt32(s,o/2),r.setInt32(s+4,l?18:10),s+=8,a+=u,o+=u})},t.exports.extent=function(t){return t.reduce(function(t,e){return r.enlarge(t,e)},r.blank())},t.exports.parts=function(t,e){return t.length},t.exports.shxLength=function(t){return 8*t.length},t.exports.shpLength=function(t){return t.reduce(function(t,e){return t+(3===e.length?44:28)},0)}},function(t,e,n){function r(t,e){var n=1;return e!==a.geometries.POLYGON&&e!==a.geometries.POLYGONZ&&e!==a.geometries.POLYLINE&&e!==a.geometries.POLYLINEZ||(n=t.reduce(function(t,e){return t+=e.length,Array.isArray(e[0][0][0])&&(t+=e.reduce(function(t,e){return t+e.length-1},0)),t},0)),n}function i(t,e){return void 0===e&&(e=[]),"object"==typeof t[0][0]?t.reduce(function(t,e){return t.concat(i(e))},e):t}var o=n(365),a=n(268);t.exports.write=function(t,e,n,a,s){function l(t,e){var l=i(t),h=r([t],s),d=16*l.length+48+4*(h-1),p=!!l[0][2];p&&(d+=16+8*l.length);var m=l.reduce(function(t,e){return o.enlarge(t,e)},o.blank());a.setInt32(c,f/2),a.setInt32(c+4,d/2),c+=8,f+=d+8,n.setInt32(u,e+1),n.setInt32(u+4,d/2),n.setInt32(u+8,s,!0),n.setFloat64(u+12,m.xmin,!0),n.setFloat64(u+20,m.ymin,!0),n.setFloat64(u+28,m.xmax,!0),n.setFloat64(u+36,m.ymax,!0),n.setInt32(u+44,h,!0),n.setInt32(u+48,l.length,!0),n.setInt32(u+52,0,!0);for(var g=t.reduce(function(t,e){return Array.isArray(e[0][0])?t=t.concat(e):t.push(e),t},[]),v=1;v<h;v++)n.setInt32(u+52+4*v,g.reduce(function(t,e,n){return n<v?t+e.length:t},0),!0);if(l.forEach(function(t,e){n.setFloat64(u+56+16*e+4*(h-1),t[0],!0),n.setFloat64(u+56+16*e+4*(h-1)+8,t[1],!0)}),p){var y=u+56+16*e+4*(h-1)+16*l.length;n.setFloat64(y,m.zmin,!0),n.setFloat64(y+8,m.zmax,!0),l.forEach(function(t,e){n.setFloat64(y+16+8*e,t[2],!0)})}u+=d+8}var u=0,c=0,f=100;t.forEach(l)},t.exports.shpLength=function(t){var e=i(t),n=!!e[0][2];return 56*t.length+16*e.length+(n?16+8*e.length:0)},t.exports.shxLength=function(t){return 8*t.length},t.exports.extent=function(t){return i(t).reduce(function(t,e){return o.enlarge(t,e)},o.blank())},t.exports.parts=r},function(t,e){function n(t,e,n){return function(s){var l=s.features.filter(o(t)),u=l.filter(a(e,n));return{geometries:"POLYLINE"===e||"POLYLINEZ"===e||"POLYGON"===e||"POLYGONZ"===e?[u.map(r)]:u.map(r),properties:u.map(i),type:e}}}function r(t){return void 0!==t.geometry.coordinates[0]&&void 0!==t.geometry.coordinates[0][0]&&void 0!==t.geometry.coordinates[0][0][0]?t.geometry.coordinates[0]:t.geometry.coordinates}function i(t){return t.properties}function o(t){return function(e){return e.geometry.type===t}}function a(t,e){return function(n){var r;return r="POINT"===t||"POINTZ"===t?n.geometry.coordinates:Array.isArray(n.geometry.coordinates[0][0])?n.geometry.coordinates[0][0]:n.geometry.coordinates[0],e?3===r.length:2===r.length}}t.exports.point=n("Point","POINT",!1),t.exports.pointZ=n("Point","POINTZ",!0),t.exports.line=n("LineString","POLYLINE",!1),t.exports.lineZ=n("LineString","POLYLINEZ",!0),t.exports.polygon=n("Polygon","POLYGON",!1),t.exports.polygonZ=n("Polygon","POLYGONZ",!0)},function(t,e,n){"use strict";function r(t,e){if(!(this instanceof r))return new r(t,e);this.files={},this.comment=null,this.root="",t&&this.load(t,e),this.clone=function(){var t=new r;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}var i=n(366);r.prototype=n(367),r.prototype.load=n(1332),r.support=n(210),r.defaults=n(568),r.utils=n(1336),r.base64={encode:function(t){return i.encode(t)},decode:function(t){return i.decode(t)}},r.compressions=n(368),t.exports=r},function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=n(1319);e.uncompressInputType=r?"uint8array":"array",e.compressInputType=r?"uint8array":"array",e.magic="\b\0",e.compress=function(t,e){return i.deflateRaw(t,{level:e.level||-1})},e.uncompress=function(t){return i.inflateRaw(t)}},function(t,e,n){"use strict";var r=n(124).assign,i=n(1320),o=n(1323),a=n(566),s={};r(s,i,o,a),t.exports=s},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=l.assign({level:p,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==d)throw new Error(c[n]);if(e.header&&s.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i="string"==typeof e.dictionary?u.string2buf(e.dictionary):"[object ArrayBuffer]"===h.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=s.deflateSetDictionary(this.strm,i))!==d)throw new Error(c[n]);this._dict_set=!0}}function i(t,e){var n=new r(e);if(n.push(t,!0),n.err)throw n.msg;return n.result}function o(t,e){return e=e||{},e.raw=!0,i(t,e)}function a(t,e){return e=e||{},e.gzip=!0,i(t,e)}var s=n(1321),l=n(124),u=n(564),c=n(369),f=n(565),h=Object.prototype.toString,d=0,p=-1,m=0,g=8;r.prototype.push=function(t,e){var n,r,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:!0===e?4:0,"string"==typeof t?i.input=u.string2buf(t):"[object ArrayBuffer]"===h.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new l.Buf8(o),i.next_out=0,i.avail_out=o),1!==(n=s.deflate(i,r))&&n!==d)return this.onEnd(n),this.ended=!0,!1;0!==i.avail_out&&(0!==i.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(u.buf2binstring(l.shrinkBuf(i.output,i.next_out))):this.onData(l.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&1!==n);return 4===r?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===d):2!==r||(this.onEnd(d),i.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===d&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=r,e.deflate=i,e.deflateRaw=o,e.gzip=a},function(t,e,n){"use strict";function r(t,e){return t.msg=N[e],e}function i(t){return(t<<1)-(t>4?9:0)}function o(t){for(var e=t.length;--e>=0;)t[e]=0}function a(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(I.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function s(t,e){R._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,a(t.strm)}function l(t,e){t.pending_buf[t.pending++]=e}function u(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function c(t,e,n,r){var i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,I.arraySet(e,t.input,t.next_in,i,n),1===t.state.wrap?t.adler=P(t.adler,e,i,n):2===t.state.wrap&&(t.adler=L(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)}function f(t,e){var n,r,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-ut?t.strstart-(t.w_size-ut):0,u=t.window,c=t.w_mask,f=t.prev,h=t.strstart+lt,d=u[o+a-1],p=u[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(n=e,u[n+a]===p&&u[n+a-1]===d&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<h);if(r=lt-(h-o),o=h-lt,r>a){if(t.match_start=e,a=r,r>=s)break;d=u[o+a-1],p=u[o+a]}}}while((e=f[e&c])>l&&0!=--i);return a<=t.lookahead?a:t.lookahead}function h(t){var e,n,r,i,o,a=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=a+(a-ut)){I.arraySet(t.window,t.window,a,a,0),t.match_start-=a,t.strstart-=a,t.block_start-=a,n=t.hash_size,e=n;do{r=t.head[--e],t.head[e]=r>=a?r-a:0}while(--n);n=a,e=n;do{r=t.prev[--e],t.prev[e]=r>=a?r-a:0}while(--n);i+=a}if(0===t.strm.avail_in)break;if(n=c(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=st)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+st-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<st)););}while(t.lookahead<ut&&0!==t.strm.avail_in)}function d(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(h(t),0===t.lookahead&&e===k)return yt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,s(t,!1),0===t.strm.avail_out))return yt;if(t.strstart-t.block_start>=t.w_size-ut&&(s(t,!1),0===t.strm.avail_out))return yt}return t.insert=0,e===j?(s(t,!0),0===t.strm.avail_out?_t:wt):(t.strstart>t.block_start&&(s(t,!1),t.strm.avail_out),yt)}function p(t,e){for(var n,r;;){if(t.lookahead<ut){if(h(t),t.lookahead<ut&&e===k)return yt;if(0===t.lookahead)break}if(n=0,t.lookahead>=st&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-ut&&(t.match_length=f(t,n)),t.match_length>=st)if(r=R._tr_tally(t,t.strstart-t.match_start,t.match_length-st),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=st){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=R._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(s(t,!1),0===t.strm.avail_out))return yt}return t.insert=t.strstart<st-1?t.strstart:st-1,e===j?(s(t,!0),0===t.strm.avail_out?_t:wt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?yt:bt}function m(t,e){for(var n,r,i;;){if(t.lookahead<ut){if(h(t),t.lookahead<ut&&e===k)return yt;if(0===t.lookahead)break}if(n=0,t.lookahead>=st&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=st-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-ut&&(t.match_length=f(t,n),t.match_length<=5&&(t.strategy===W||t.match_length===st&&t.strstart-t.match_start>4096)&&(t.match_length=st-1)),t.prev_length>=st&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-st,r=R._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-st),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=st-1,t.strstart++,r&&(s(t,!1),0===t.strm.avail_out))return yt}else if(t.match_available){if(r=R._tr_tally(t,0,t.window[t.strstart-1]),r&&s(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return yt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=R._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<st-1?t.strstart:st-1,e===j?(s(t,!0),0===t.strm.avail_out?_t:wt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?yt:bt}function g(t,e){for(var n,r,i,o,a=t.window;;){if(t.lookahead<=lt){if(h(t),t.lookahead<=lt&&e===k)return yt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=st&&t.strstart>0&&(i=t.strstart-1,(r=a[i])===a[++i]&&r===a[++i]&&r===a[++i])){o=t.strstart+lt;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);t.match_length=lt-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=st?(n=R._tr_tally(t,1,t.match_length-st),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=R._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(s(t,!1),0===t.strm.avail_out))return yt}return t.insert=0,e===j?(s(t,!0),0===t.strm.avail_out?_t:wt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?yt:bt}function v(t,e){for(var n;;){if(0===t.lookahead&&(h(t),0===t.lookahead)){if(e===k)return yt;break}if(t.match_length=0,n=R._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(s(t,!1),0===t.strm.avail_out))return yt}return t.insert=0,e===j?(s(t,!0),0===t.strm.avail_out?_t:wt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?yt:bt}function y(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function b(t){t.window_size=2*t.w_size,o(t.head),t.max_lazy_match=A[t.level].max_lazy,t.good_match=A[t.level].good_length,t.nice_match=A[t.level].nice_length,t.max_chain_length=A[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=st-1,t.match_available=0,t.ins_h=0}function _(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=J,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new I.Buf16(2*ot),this.dyn_dtree=new I.Buf16(2*(2*rt+1)),this.bl_tree=new I.Buf16(2*(2*it+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new I.Buf16(at+1),this.heap=new I.Buf16(2*nt+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new I.Buf16(2*nt+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=Q,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?ft:gt,t.adler=2===e.wrap?0:1,e.last_flush=k,R._tr_init(e),z):r(t,V)}function x(t){var e=w(t);return e===z&&b(t.state),e}function E(t,e){return t&&t.state?2!==t.state.wrap?V:(t.state.gzhead=e,z):V}function M(t,e,n,i,o,a){if(!t)return V;var s=1;if(e===q&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>$||n!==J||i<8||i>15||e<0||e>9||a<0||a>Z)return r(t,V);8===i&&(i=9);var l=new _;return t.state=l,l.strm=t,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+st-1)/st),l.window=new I.Buf8(2*l.w_size),l.head=new I.Buf16(l.hash_size),l.prev=new I.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new I.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=a,l.method=n,x(t)}function S(t,e){return M(t,e,J,tt,et,K)}function T(t,e){var n,s,c,f;if(!t||!t.state||e>U||e<0)return t?r(t,V):V;if(s=t.state,!t.output||!t.input&&0!==t.avail_in||s.status===vt&&e!==j)return r(t,0===t.avail_out?H:V);if(s.strm=t,n=s.last_flush,s.last_flush=e,s.status===ft)if(2===s.wrap)t.adler=0,l(s,31),l(s,139),l(s,8),s.gzhead?(l(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),l(s,255&s.gzhead.time),l(s,s.gzhead.time>>8&255),l(s,s.gzhead.time>>16&255),l(s,s.gzhead.time>>24&255),l(s,9===s.level?2:s.strategy>=Y||s.level<2?4:0),l(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(l(s,255&s.gzhead.extra.length),l(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(t.adler=L(t.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=ht):(l(s,0),l(s,0),l(s,0),l(s,0),l(s,0),l(s,9===s.level?2:s.strategy>=Y||s.level<2?4:0),l(s,xt),s.status=gt);else{var h=J+(s.w_bits-8<<4)<<8,d=-1;d=s.strategy>=Y||s.level<2?0:s.level<6?1:6===s.level?2:3,h|=d<<6,0!==s.strstart&&(h|=ct),h+=31-h%31,s.status=gt,u(s,h),0!==s.strstart&&(u(s,t.adler>>>16),u(s,65535&t.adler)),t.adler=1}if(s.status===ht)if(s.gzhead.extra){for(c=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>c&&(t.adler=L(t.adler,s.pending_buf,s.pending-c,c)),a(t),c=s.pending,s.pending!==s.pending_buf_size));)l(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>c&&(t.adler=L(t.adler,s.pending_buf,s.pending-c,c)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=dt)}else s.status=dt;if(s.status===dt)if(s.gzhead.name){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(t.adler=L(t.adler,s.pending_buf,s.pending-c,c)),a(t),c=s.pending,s.pending===s.pending_buf_size)){f=1;break}f=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,l(s,f)}while(0!==f);s.gzhead.hcrc&&s.pending>c&&(t.adler=L(t.adler,s.pending_buf,s.pending-c,c)),0===f&&(s.gzindex=0,s.status=pt)}else s.status=pt;if(s.status===pt)if(s.gzhead.comment){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(t.adler=L(t.adler,s.pending_buf,s.pending-c,c)),a(t),c=s.pending,s.pending===s.pending_buf_size)){f=1;break}f=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,l(s,f)}while(0!==f);s.gzhead.hcrc&&s.pending>c&&(t.adler=L(t.adler,s.pending_buf,s.pending-c,c)),0===f&&(s.status=mt)}else s.status=mt;if(s.status===mt&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(t),s.pending+2<=s.pending_buf_size&&(l(s,255&t.adler),l(s,t.adler>>8&255),t.adler=0,s.status=gt)):s.status=gt),0!==s.pending){if(a(t),0===t.avail_out)return s.last_flush=-1,z}else if(0===t.avail_in&&i(e)<=i(n)&&e!==j)return r(t,H);if(s.status===vt&&0!==t.avail_in)return r(t,H);if(0!==t.avail_in||0!==s.lookahead||e!==k&&s.status!==vt){var p=s.strategy===Y?v(s,e):s.strategy===X?g(s,e):A[s.level].func(s,e);if(p!==_t&&p!==wt||(s.status=vt),p===yt||p===_t)return 0===t.avail_out&&(s.last_flush=-1),z;if(p===bt&&(e===D?R._tr_align(s):e!==U&&(R._tr_stored_block(s,0,0,!1),e===F&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(t),0===t.avail_out))return s.last_flush=-1,z}return e!==j?z:s.wrap<=0?B:(2===s.wrap?(l(s,255&t.adler),l(s,t.adler>>8&255),l(s,t.adler>>16&255),l(s,t.adler>>24&255),l(s,255&t.total_in),l(s,t.total_in>>8&255),l(s,t.total_in>>16&255),l(s,t.total_in>>24&255)):(u(s,t.adler>>>16),u(s,65535&t.adler)),a(t),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?z:B)}function C(t){var e;return t&&t.state?(e=t.state.status)!==ft&&e!==ht&&e!==dt&&e!==pt&&e!==mt&&e!==gt&&e!==vt?r(t,V):(t.state=null,e===gt?r(t,G):z):V}function O(t,e){var n,r,i,a,s,l,u,c,f=e.length;if(!t||!t.state)return V;if(n=t.state,2===(a=n.wrap)||1===a&&n.status!==ft||n.lookahead)return V;for(1===a&&(t.adler=P(t.adler,e,f,0)),n.wrap=0,f>=n.w_size&&(0===a&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),c=new I.Buf8(n.w_size),I.arraySet(c,e,f-n.w_size,n.w_size,0),e=c,f=n.w_size),s=t.avail_in,l=t.next_in,u=t.input,t.avail_in=f,t.next_in=0,t.input=e,h(n);n.lookahead>=st;){r=n.strstart,i=n.lookahead-(st-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+st-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=st-1,h(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=st-1,n.match_available=0,t.next_in=l,t.input=u,t.avail_in=s,n.wrap=a,z}var A,I=n(124),R=n(1322),P=n(562),L=n(563),N=n(369),k=0,D=1,F=3,j=4,U=5,z=0,B=1,V=-2,G=-3,H=-5,q=-1,W=1,Y=2,X=3,Z=4,K=0,Q=2,J=8,$=9,tt=15,et=8,nt=286,rt=30,it=19,ot=2*nt+1,at=15,st=3,lt=258,ut=lt+st+1,ct=32,ft=42,ht=69,dt=73,pt=91,mt=103,gt=113,vt=666,yt=1,bt=2,_t=3,wt=4,xt=3;A=[new y(0,0,0,0,d),new y(4,4,8,4,p),new y(4,5,16,8,p),new y(4,6,32,32,p),new y(4,4,16,16,m),new y(8,16,32,32,m),new y(8,16,128,128,m),new y(8,32,128,256,m),new y(32,128,258,1024,m),new y(32,258,258,4096,m)],e.deflateInit=S,e.deflateInit2=M,e.deflateReset=x,e.deflateResetKeep=w,e.deflateSetHeader=E,e.deflate=T,e.deflateEnd=C,e.deflateSetDictionary=O,e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";function r(t){for(var e=t.length;--e>=0;)t[e]=0}function i(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function o(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function a(t){return t<256?ot[t]:ot[256+(t>>>7)]}function s(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function l(t,e,n){t.bi_valid>Y-n?(t.bi_buf|=e<<t.bi_valid&65535,s(t,t.bi_buf),t.bi_buf=e>>Y-t.bi_valid,t.bi_valid+=n-Y):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function u(t,e,n){l(t,n[2*e],n[2*e+1])}function c(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function f(t){16===t.bi_valid?(s(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function h(t,e){var n,r,i,o,a,s,l=e.dyn_tree,u=e.max_code,c=e.stat_desc.static_tree,f=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(o=0;o<=W;o++)t.bl_count[o]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<q;n++)r=t.heap[n],o=l[2*l[2*r+1]+1]+1,o>p&&(o=p,m++),l[2*r+1]=o,r>u||(t.bl_count[o]++,a=0,r>=d&&(a=h[r-d]),s=l[2*r],t.opt_len+=s*(o+a),f&&(t.static_len+=s*(c[2*r+1]+a)));if(0!==m){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=t.bl_count[o];0!==r;)(i=t.heap[--n])>u||(l[2*i+1]!==o&&(t.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}function d(t,e,n){var r,i,o=new Array(W+1),a=0;for(r=1;r<=W;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=c(o[s]++,s))}}function p(){var t,e,n,r,o,a=new Array(W+1);for(n=0,r=0;r<z-1;r++)for(st[r]=n,t=0;t<1<<$[r];t++)at[n++]=r;for(at[n-1]=r,o=0,r=0;r<16;r++)for(lt[r]=o,t=0;t<1<<tt[r];t++)ot[o++]=r;for(o>>=7;r<G;r++)for(lt[r]=o<<7,t=0;t<1<<tt[r]-7;t++)ot[256+o++]=r;for(e=0;e<=W;e++)a[e]=0;for(t=0;t<=143;)rt[2*t+1]=8,t++,a[8]++;for(;t<=255;)rt[2*t+1]=9,t++,a[9]++;for(;t<=279;)rt[2*t+1]=7,t++,a[7]++;for(;t<=287;)rt[2*t+1]=8,t++,a[8]++;for(d(rt,V+1,a),t=0;t<G;t++)it[2*t+1]=5,it[2*t]=c(t,5);ut=new i(rt,$,B+1,V,W),ct=new i(it,tt,0,G,W),ft=new i(new Array(0),et,0,H,X)}function m(t){var e;for(e=0;e<V;e++)t.dyn_ltree[2*e]=0;for(e=0;e<G;e++)t.dyn_dtree[2*e]=0;for(e=0;e<H;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*Z]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function g(t){t.bi_valid>8?s(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function v(t,e,n,r){g(t),r&&(s(t,n),s(t,~n)),P.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function y(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function b(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&y(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!y(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function _(t,e,n){var r,i,o,s,c=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],i=t.pending_buf[t.l_buf+c],c++,0===r?u(t,i,e):(o=at[i],u(t,o+B+1,e),s=$[o],0!==s&&(i-=st[o],l(t,i,s)),r--,o=a(r),u(t,o,n),0!==(s=tt[o])&&(r-=lt[o],l(t,r,s)))}while(c<t.last_lit);u(t,Z,e)}function w(t,e){var n,r,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=q,n=0;n<l;n++)0!==o[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)i=t.heap[++t.heap_len]=u<2?++u:0,o[2*i]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=u,n=t.heap_len>>1;n>=1;n--)b(t,o,n);i=l;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],b(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,b(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],h(t,e),d(o,u,t.bl_count)}function x(t,e,n){var r,i,o=-1,a=e[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],++s<l&&i===a||(s<u?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[2*K]++):s<=10?t.bl_tree[2*Q]++:t.bl_tree[2*J]++,s=0,o=i,0===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4))}function E(t,e,n){var r,i,o=-1,a=e[1],s=0,c=7,f=4;for(0===a&&(c=138,f=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++s<c&&i===a)){if(s<f)do{u(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(u(t,i,t.bl_tree),s--),u(t,K,t.bl_tree),l(t,s-3,2)):s<=10?(u(t,Q,t.bl_tree),l(t,s-3,3)):(u(t,J,t.bl_tree),l(t,s-11,7));s=0,o=i,0===a?(c=138,f=3):i===a?(c=6,f=3):(c=7,f=4)}}function M(t){var e;for(x(t,t.dyn_ltree,t.l_desc.max_code),x(t,t.dyn_dtree,t.d_desc.max_code),w(t,t.bl_desc),e=H-1;e>=3&&0===t.bl_tree[2*nt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function S(t,e,n,r){var i;for(l(t,e-257,5),l(t,n-1,5),l(t,r-4,4),i=0;i<r;i++)l(t,t.bl_tree[2*nt[i]+1],3);E(t,t.dyn_ltree,e-1),E(t,t.dyn_dtree,n-1)}function T(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return N;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return k;for(e=32;e<B;e++)if(0!==t.dyn_ltree[2*e])return k;return N}function C(t){ht||(p(),ht=!0),t.l_desc=new o(t.dyn_ltree,ut),t.d_desc=new o(t.dyn_dtree,ct),t.bl_desc=new o(t.bl_tree,ft),t.bi_buf=0,t.bi_valid=0,m(t)}function O(t,e,n,r){l(t,(F<<1)+(r?1:0),3),v(t,e,n,!0)}function A(t){l(t,j<<1,3),u(t,Z,rt),f(t)}function I(t,e,n,r){var i,o,a=0;t.level>0?(t.strm.data_type===D&&(t.strm.data_type=T(t)),w(t,t.l_desc),w(t,t.d_desc),a=M(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?O(t,e,n,r):t.strategy===L||o===i?(l(t,(j<<1)+(r?1:0),3),_(t,rt,it)):(l(t,(U<<1)+(r?1:0),3),S(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),_(t,t.dyn_ltree,t.dyn_dtree)),m(t),r&&g(t)}function R(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(at[n]+B+1)]++,t.dyn_dtree[2*a(e)]++),t.last_lit===t.lit_bufsize-1}var P=n(124),L=4,N=0,k=1,D=2,F=0,j=1,U=2,z=29,B=256,V=B+1+z,G=30,H=19,q=2*V+1,W=15,Y=16,X=7,Z=256,K=16,Q=17,J=18,$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],tt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],nt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],rt=new Array(2*(V+2));r(rt);var it=new Array(2*G);r(it);var ot=new Array(512);r(ot);var at=new Array(256);r(at);var st=new Array(z);r(st);var lt=new Array(G);r(lt);var ut,ct,ft,ht=!1;e._tr_init=C,e._tr_stored_block=O,e._tr_flush_block=I,e._tr_tally=R,e._tr_align=A},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var n=a.inflateInit2(this.strm,e.windowBits);if(n!==u.Z_OK)throw new Error(c[n]);this.header=new h,a.inflateGetHeader(this.strm,this.header)}function i(t,e){var n=new r(e);if(n.push(t,!0),n.err)throw n.msg;return n.result}function o(t,e){return e=e||{},e.raw=!0,i(t,e)}var a=n(1324),s=n(124),l=n(564),u=n(566),c=n(369),f=n(565),h=n(1327),d=Object.prototype.toString;r.prototype.push=function(t,e){var n,r,i,o,c,f,h=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;r=e===~~e?e:!0===e?u.Z_FINISH:u.Z_NO_FLUSH,"string"==typeof t?h.input=l.binstring2buf(t):"[object ArrayBuffer]"===d.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new s.Buf8(p),h.next_out=0,h.avail_out=p),n=a.inflate(h,u.Z_NO_FLUSH),n===u.Z_NEED_DICT&&m&&(f="string"==typeof m?l.string2buf(m):"[object ArrayBuffer]"===d.call(m)?new Uint8Array(m):m,n=a.inflateSetDictionary(this.strm,f)),n===u.Z_BUF_ERROR&&!0===g&&(n=u.Z_OK,g=!1),n!==u.Z_STREAM_END&&n!==u.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&n!==u.Z_STREAM_END&&(0!==h.avail_in||r!==u.Z_FINISH&&r!==u.Z_SYNC_FLUSH)||("string"===this.options.to?(i=l.utf8border(h.output,h.next_out),o=h.next_out-i,c=l.buf2string(h.output,i),h.next_out=o,h.avail_out=p-o,o&&s.arraySet(h.output,h.output,i,o,0),this.onData(c)):this.onData(s.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(g=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==u.Z_STREAM_END);return n===u.Z_STREAM_END&&(r=u.Z_FINISH),r===u.Z_FINISH?(n=a.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u.Z_OK):r!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),h.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===u.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=r,e.inflate=i,e.inflateRaw=o,e.ungzip=i},function(t,e,n){"use strict";function r(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new y.Buf16(320),this.work=new y.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=F,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new y.Buf32(mt),e.distcode=e.distdyn=new y.Buf32(gt),e.sane=1,e.back=-1,A):P}function a(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,o(t)):P}function s(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?P:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,a(t))):P}function l(t,e){var n,r;return t?(r=new i,t.state=r,r.window=null,n=s(t,e),n!==A&&(t.state=null),n):P}function u(t){return l(t,vt)}function c(t){if(yt){var e;for(g=new y.Buf32(512),v=new y.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(x(M,t.lens,0,288,g,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;x(S,t.lens,0,32,v,0,t.work,{bits:5}),yt=!1}t.lencode=g,t.lenbits=9,t.distcode=v,t.distbits=5}function f(t,e,n,r){var i,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new y.Buf8(o.wsize)),r>=o.wsize?(y.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),y.arraySet(o.window,e,n-r,i,o.wnext),r-=i,r?(y.arraySet(o.window,e,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function h(t,e){var n,i,o,a,s,l,u,h,d,p,m,g,v,mt,gt,vt,yt,bt,_t,wt,xt,Et,Mt,St,Tt=0,Ct=new y.Buf8(4),Ot=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return P;n=t.state,n.mode===X&&(n.mode=Z),s=t.next_out,o=t.output,u=t.avail_out,a=t.next_in,i=t.input,l=t.avail_in,h=n.hold,d=n.bits,p=l,m=u,Et=A;t:for(;;)switch(n.mode){case F:if(0===n.wrap){n.mode=Z;break}for(;d<16;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}if(2&n.wrap&&35615===h){n.check=0,Ct[0]=255&h,Ct[1]=h>>>8&255,n.check=_(n.check,Ct,2,0),h=0,d=0,n.mode=j;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",n.mode=ht;break}if((15&h)!==D){t.msg="unknown compression method",n.mode=ht;break}if(h>>>=4,d-=4,xt=8+(15&h),0===n.wbits)n.wbits=xt;else if(xt>n.wbits){t.msg="invalid window size",n.mode=ht;break}n.dmax=1<<xt,t.adler=n.check=1,n.mode=512&h?W:X,h=0,d=0;break;case j:for(;d<16;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}if(n.flags=h,(255&n.flags)!==D){t.msg="unknown compression method",n.mode=ht;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=ht;break}n.head&&(n.head.text=h>>8&1),512&n.flags&&(Ct[0]=255&h,Ct[1]=h>>>8&255,n.check=_(n.check,Ct,2,0)),h=0,d=0,n.mode=U;case U:for(;d<32;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}n.head&&(n.head.time=h),512&n.flags&&(Ct[0]=255&h,Ct[1]=h>>>8&255,Ct[2]=h>>>16&255,Ct[3]=h>>>24&255,n.check=_(n.check,Ct,4,0)),h=0,d=0,n.mode=z;case z:for(;d<16;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}n.head&&(n.head.xflags=255&h,n.head.os=h>>8),512&n.flags&&(Ct[0]=255&h,Ct[1]=h>>>8&255,n.check=_(n.check,Ct,2,0)),h=0,d=0,n.mode=B;case B:if(1024&n.flags){for(;d<16;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}n.length=h,n.head&&(n.head.extra_len=h),512&n.flags&&(Ct[0]=255&h,Ct[1]=h>>>8&255,n.check=_(n.check,Ct,2,0)),h=0,d=0}else n.head&&(n.head.extra=null);n.mode=V;case V:if(1024&n.flags&&(g=n.length,g>l&&(g=l),g&&(n.head&&(xt=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),y.arraySet(n.head.extra,i,a,g,xt)),512&n.flags&&(n.check=_(n.check,i,g,a)),l-=g,a+=g,n.length-=g),n.length))break t;n.length=0,n.mode=G;case G:if(2048&n.flags){if(0===l)break t;g=0;do{xt=i[a+g++],n.head&&xt&&n.length<65536&&(n.head.name+=String.fromCharCode(xt))}while(xt&&g<l);if(512&n.flags&&(n.check=_(n.check,i,g,a)),l-=g,a+=g,xt)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=H;case H:if(4096&n.flags){if(0===l)break t;g=0;do{xt=i[a+g++],n.head&&xt&&n.length<65536&&(n.head.comment+=String.fromCharCode(xt))}while(xt&&g<l);if(512&n.flags&&(n.check=_(n.check,i,g,a)),l-=g,a+=g,xt)break t}else n.head&&(n.head.comment=null);n.mode=q;case q:if(512&n.flags){for(;d<16;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}if(h!==(65535&n.check)){t.msg="header crc mismatch",n.mode=ht;break}h=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=X;break;case W:for(;d<32;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}t.adler=n.check=r(h),h=0,d=0,n.mode=Y;case Y:if(0===n.havedict)return t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=l,n.hold=h,n.bits=d,R;t.adler=n.check=1,n.mode=X;case X:if(e===C||e===O)break t;case Z:if(n.last){h>>>=7&d,d-=7&d,n.mode=ut;break}for(;d<3;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}switch(n.last=1&h,h>>>=1,d-=1,3&h){case 0:n.mode=K;break;case 1:if(c(n),n.mode=nt,e===O){h>>>=2,d-=2;break t}break;case 2:n.mode=$;break;case 3:t.msg="invalid block type",n.mode=ht}h>>>=2,d-=2;break;case K:for(h>>>=7&d,d-=7&d;d<32;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ht;break}if(n.length=65535&h,h=0,d=0,n.mode=Q,e===O)break t;case Q:n.mode=J;case J:if(g=n.length){if(g>l&&(g=l),g>u&&(g=u),0===g)break t;y.arraySet(o,i,a,g,s),l-=g,a+=g,u-=g,s+=g,n.length-=g;break}n.mode=X;break;case $:for(;d<14;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}if(n.nlen=257+(31&h),h>>>=5,d-=5,n.ndist=1+(31&h),h>>>=5,d-=5,n.ncode=4+(15&h),h>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ht;break}n.have=0,n.mode=tt;case tt:for(;n.have<n.ncode;){for(;d<3;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}n.lens[Ot[n.have++]]=7&h,h>>>=3,d-=3}for(;n.have<19;)n.lens[Ot[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Mt={bits:n.lenbits},Et=x(E,n.lens,0,19,n.lencode,0,n.work,Mt),n.lenbits=Mt.bits,Et){t.msg="invalid code lengths set",n.mode=ht;break}n.have=0,n.mode=et;case et:for(;n.have<n.nlen+n.ndist;){for(;Tt=n.lencode[h&(1<<n.lenbits)-1],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(gt<=d);){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}if(yt<16)h>>>=gt,d-=gt,n.lens[n.have++]=yt;else{if(16===yt){for(St=gt+2;d<St;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}if(h>>>=gt,d-=gt,0===n.have){t.msg="invalid bit length repeat",n.mode=ht;break}xt=n.lens[n.have-1],g=3+(3&h),h>>>=2,d-=2}else if(17===yt){for(St=gt+3;d<St;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}h>>>=gt,d-=gt,xt=0,g=3+(7&h),h>>>=3,d-=3}else{for(St=gt+7;d<St;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}h>>>=gt,d-=gt,xt=0,g=11+(127&h),h>>>=7,d-=7}if(n.have+g>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ht;break}for(;g--;)n.lens[n.have++]=xt}}if(n.mode===ht)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=ht;break}if(n.lenbits=9,Mt={bits:n.lenbits},Et=x(M,n.lens,0,n.nlen,n.lencode,0,n.work,Mt),n.lenbits=Mt.bits,Et){t.msg="invalid literal/lengths set",n.mode=ht;break}if(n.distbits=6,n.distcode=n.distdyn,Mt={bits:n.distbits},Et=x(S,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Mt),n.distbits=Mt.bits,Et){t.msg="invalid distances set",n.mode=ht;break}if(n.mode=nt,e===O)break t;case nt:n.mode=rt;case rt:if(l>=6&&u>=258){t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=l,n.hold=h,n.bits=d,w(t,m),s=t.next_out,o=t.output,u=t.avail_out,a=t.next_in,i=t.input,l=t.avail_in,h=n.hold,d=n.bits,n.mode===X&&(n.back=-1);break}for(n.back=0;Tt=n.lencode[h&(1<<n.lenbits)-1],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(gt<=d);){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}if(vt&&0==(240&vt)){for(bt=gt,_t=vt,wt=yt;Tt=n.lencode[wt+((h&(1<<bt+_t)-1)>>bt)],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(bt+gt<=d);){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}h>>>=bt,d-=bt,n.back+=bt}if(h>>>=gt,d-=gt,n.back+=gt,n.length=yt,0===vt){n.mode=lt;break}if(32&vt){n.back=-1,n.mode=X;break}if(64&vt){t.msg="invalid literal/length code",n.mode=ht;break}n.extra=15&vt,n.mode=it;case it:if(n.extra){for(St=n.extra;d<St;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=ot;case ot:for(;Tt=n.distcode[h&(1<<n.distbits)-1],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(gt<=d);){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}if(0==(240&vt)){for(bt=gt,_t=vt,wt=yt;Tt=n.distcode[wt+((h&(1<<bt+_t)-1)>>bt)],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(bt+gt<=d);){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}h>>>=bt,d-=bt,n.back+=bt}if(h>>>=gt,d-=gt,n.back+=gt,64&vt){t.msg="invalid distance code",n.mode=ht;break}n.offset=yt,n.extra=15&vt,n.mode=at;case at:if(n.extra){for(St=n.extra;d<St;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ht;break}n.mode=st;case st:if(0===u)break t;if(g=m-u,n.offset>g){if((g=n.offset-g)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ht;break}g>n.wnext?(g-=n.wnext,v=n.wsize-g):v=n.wnext-g,g>n.length&&(g=n.length),mt=n.window}else mt=o,v=s-n.offset,g=n.length;g>u&&(g=u),u-=g,n.length-=g;do{o[s++]=mt[v++]}while(--g);0===n.length&&(n.mode=rt);break;case lt:if(0===u)break t;o[s++]=n.length,u--,n.mode=rt;break;case ut:if(n.wrap){for(;d<32;){if(0===l)break t;l--,h|=i[a++]<<d,d+=8}if(m-=u,t.total_out+=m,n.total+=m,m&&(t.adler=n.check=n.flags?_(n.check,o,m,s-m):b(n.check,o,m,s-m)),m=u,(n.flags?h:r(h))!==n.check){t.msg="incorrect data check",n.mode=ht;break}h=0,d=0}n.mode=ct;case ct:if(n.wrap&&n.flags){for(;d<32;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}if(h!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=ht;break}h=0,d=0}n.mode=ft;case ft:Et=I;break t;case ht:Et=L;break t;case dt:return N;case pt:default:return P}return t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=l,n.hold=h,n.bits=d,(n.wsize||m!==t.avail_out&&n.mode<ht&&(n.mode<ut||e!==T))&&f(t,t.output,t.next_out,m-t.avail_out)?(n.mode=dt,N):(p-=t.avail_in,m-=t.avail_out,t.total_in+=p,t.total_out+=m,n.total+=m,n.wrap&&m&&(t.adler=n.check=n.flags?_(n.check,o,m,t.next_out-m):b(n.check,o,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===X?128:0)+(n.mode===nt||n.mode===Q?256:0),(0===p&&0===m||e===T)&&Et===A&&(Et=k),Et)}function d(t){if(!t||!t.state)return P;var e=t.state;return e.window&&(e.window=null),t.state=null,A}function p(t,e){var n;return t&&t.state?(n=t.state,0==(2&n.wrap)?P:(n.head=e,e.done=!1,A)):P}function m(t,e){var n,r,i=e.length;return t&&t.state?(n=t.state,0!==n.wrap&&n.mode!==Y?P:n.mode===Y&&(r=1,(r=b(r,e,i,0))!==n.check)?L:f(t,e,i,i)?(n.mode=dt,N):(n.havedict=1,A)):P}var g,v,y=n(124),b=n(562),_=n(563),w=n(1325),x=n(1326),E=0,M=1,S=2,T=4,C=5,O=6,A=0,I=1,R=2,P=-2,L=-3,N=-4,k=-5,D=8,F=1,j=2,U=3,z=4,B=5,V=6,G=7,H=8,q=9,W=10,Y=11,X=12,Z=13,K=14,Q=15,J=16,$=17,tt=18,et=19,nt=20,rt=21,it=22,ot=23,at=24,st=25,lt=26,ut=27,ct=28,ft=29,ht=30,dt=31,pt=32,mt=852,gt=592,vt=15,yt=!0;e.inflateReset=a,e.inflateReset2=s,e.inflateResetKeep=o,e.inflateInit=u,e.inflateInit2=l,e.inflate=h,e.inflateEnd=d,e.inflateGetHeader=p,e.inflateSetDictionary=m,e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,o,a,s,l,u,c,f,h,d,p,m,g,v,y,b,_,w,x,E,M,S,T;n=t.state,r=t.next_in,S=t.input,i=r+(t.avail_in-5),o=t.next_out,T=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,f=n.wnext,h=n.window,d=n.hold,p=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{p<15&&(d+=S[r++]<<p,p+=8,d+=S[r++]<<p,p+=8),b=m[d&v];e:for(;;){if(_=b>>>24,d>>>=_,p-=_,0===(_=b>>>16&255))T[o++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=m[(65535&b)+(d&(1<<_)-1)];continue e}if(32&_){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}w=65535&b,_&=15,_&&(p<_&&(d+=S[r++]<<p,p+=8),w+=d&(1<<_)-1,d>>>=_,p-=_),p<15&&(d+=S[r++]<<p,p+=8,d+=S[r++]<<p,p+=8),b=g[d&y];n:for(;;){if(_=b>>>24,d>>>=_,p-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=g[(65535&b)+(d&(1<<_)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(x=65535&b,_&=15,p<_&&(d+=S[r++]<<p,(p+=8)<_&&(d+=S[r++]<<p,p+=8)),(x+=d&(1<<_)-1)>l){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=_,p-=_,_=o-a,x>_){if((_=x-_)>c&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(E=0,M=h,0===f){if(E+=u-_,_<w){w-=_;do{T[o++]=h[E++]}while(--_);E=o-x,M=T}}else if(f<_){if(E+=u+f-_,(_-=f)<w){w-=_;do{T[o++]=h[E++]}while(--_);if(E=0,f<w){_=f,w-=_;do{T[o++]=h[E++]}while(--_);E=o-x,M=T}}}else if(E+=f-_,_<w){w-=_;do{T[o++]=h[E++]}while(--_);E=o-x,M=T}for(;w>2;)T[o++]=M[E++],T[o++]=M[E++],T[o++]=M[E++],w-=3;w&&(T[o++]=M[E++],w>1&&(T[o++]=M[E++]))}else{E=o-x;do{T[o++]=T[E++],T[o++]=T[E++],T[o++]=T[E++],w-=3}while(w>2);w&&(T[o++]=T[E++],w>1&&(T[o++]=T[E++]))}break}}break}}while(r<i&&o<s);w=p>>3,r-=w,p-=w<<3,d&=(1<<p)-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=o<s?s-o+257:257-(o-s),n.hold=d,n.bits=p}},function(t,e,n){"use strict";var r=n(124),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,l,u,c,f,h){var d,p,m,g,v,y,b,_,w,x=h.bits,E=0,M=0,S=0,T=0,C=0,O=0,A=0,I=0,R=0,P=0,L=null,N=0,k=new r.Buf16(16),D=new r.Buf16(16),F=null,j=0;for(E=0;E<=15;E++)k[E]=0;for(M=0;M<l;M++)k[e[n+M]]++;for(C=x,T=15;T>=1&&0===k[T];T--);if(C>T&&(C=T),0===T)return u[c++]=20971520,u[c++]=20971520,h.bits=1,0;for(S=1;S<T&&0===k[S];S++);for(C<S&&(C=S),I=1,E=1;E<=15;E++)if(I<<=1,(I-=k[E])<0)return-1;if(I>0&&(0===t||1!==T))return-1;for(D[1]=0,E=1;E<15;E++)D[E+1]=D[E]+k[E];for(M=0;M<l;M++)0!==e[n+M]&&(f[D[e[n+M]]++]=M);if(0===t?(L=F=f,y=19):1===t?(L=i,N-=257,F=o,j-=257,y=256):(L=a,F=s,y=-1),P=0,M=0,E=S,v=c,O=C,A=0,m=-1,R=1<<C,g=R-1,1===t&&R>852||2===t&&R>592)return 1;for(var U=0;;){U++,b=E-A,f[M]<y?(_=0,w=f[M]):f[M]>y?(_=F[j+f[M]],w=L[N+f[M]]):(_=96,w=0),d=1<<E-A,p=1<<O,S=p;do{p-=d,u[v+(P>>A)+p]=b<<24|_<<16|w|0}while(0!==p);for(d=1<<E-1;P&d;)d>>=1;if(0!==d?(P&=d-1,P+=d):P=0,M++,0==--k[E]){if(E===T)break;E=e[n+f[M]]}if(E>C&&(P&g)!==m){for(0===A&&(A=C),v+=S,O=E-A,I=1<<O;O+A<T&&!((I-=k[O+A])<=0);)O++,I<<=1;if(R+=1<<O,1===t&&R>852||2===t&&R>592)return 1;m=P&g,u[m]=C<<24|O<<16|v-c|0}}return 0!==P&&(u[v+P]=E-A<<24|64<<16|0),h.bits=C,0}},function(t,e,n){"use strict";function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=r},function(t,e,n){"use strict";var r=n(104),i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];t.exports=function(t,e){if(void 0===t||!t.length)return 0;var n="string"!==r.getTypeOf(t);void 0===e&&(e=0);var o=0,a=0,s=0;e^=-1;for(var l=0,u=t.length;l<u;l++)s=n?t[l]:t.charCodeAt(l),a=255&(e^s),o=i[a],e=e>>>8^o;return-1^e}},function(t,e,n){"use strict";for(var r=n(104),i=n(210),o=n(370),a=new Array(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;a[254]=a[254]=1;var l=function(t){var e,n,r,o,a,s=t.length,l=0;for(o=0;o<s;o++)n=t.charCodeAt(o),55296==(64512&n)&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=i.uint8array?new Uint8Array(l):new Array(l),a=0,o=0;a<l;o++)n=t.charCodeAt(o),55296==(64512&n)&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},u=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+a[t[n]]>e?n:e},c=function(t){var e,n,i,o,s=t.length,l=new Array(2*s);for(n=0,e=0;e<s;)if((i=t[e++])<128)l[n++]=i;else if((o=a[i])>4)l[n++]=65533,e+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&e<s;)i=i<<6|63&t[e++],o--;o>1?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),r.applyFromCharCode(l)};e.utf8encode=function(t){return i.nodebuffer?o(t,"utf-8"):l(t)},e.utf8decode=function(t){if(i.nodebuffer)return r.transformTo("nodebuffer",t).toString("utf-8");t=r.transformTo(i.uint8array?"uint8array":"array",t);for(var e=[],n=0,o=t.length;n<o;){var a=u(t,Math.min(n+65536,o));i.uint8array?e.push(c(t.subarray(n,a))):e.push(c(t.slice(n,a))),n=a}return e.join("")}},function(t,e,n){"use strict";var r=n(104),i=function(){this.data=[]};i.prototype={append:function(t){t=r.transformTo("string",t),this.data.push(t)},finalize:function(){return this.data.join("")}},t.exports=i},function(t,e,n){"use strict";var r=n(104),i=function(t){this.data=new Uint8Array(t),this.index=0};i.prototype={append:function(t){0!==t.length&&(t=r.transformTo("uint8array",t),this.data.set(t,this.index),this.index+=t.length)},finalize:function(){return this.data}},t.exports=i},function(t,e,n){"use strict";var r=n(366),i=n(1333);t.exports=function(t,e){var n,o,a,s;for(e=e||{},e.base64&&(t=r.decode(t)),o=new i(t,e),n=o.files,a=0;a<n.length;a++)s=n[a],this.file(s.fileName,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileComment.length?s.fileComment:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders});return o.zipComment.length&&(this.comment=o.zipComment),this}},function(t,e,n){"use strict";function r(t,e){this.files=[],this.loadOptions=e,t&&this.load(t)}var i=n(570),o=n(1334),a=n(572),s=n(104),l=n(567),u=n(1335),c=n(210),f=n(367);r.prototype={checkSignature:function(t){var e=this.reader.readString(4);if(e!==t)throw new Error("Corrupted zip or bug : unexpected signature ("+s.pretty(e)+", expected "+s.pretty(t)+")")},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2),this.zipComment=this.reader.readString(this.zipCommentLength),this.zipComment=f.utf8decode(this.zipComment)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,r=this.zip64EndOfCentralSize-44;0<r;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readString(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===l.CENTRAL_FILE_HEADER;)t=new u({zip64:this.zip64},this.loadOptions),t.readCentralPart(this.reader),this.files.push(t)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(-1===t){var e=!0;try{this.reader.setIndex(0),this.checkSignature(l.LOCAL_FILE_HEADER),e=!1}catch(t){}throw e?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}if(this.reader.setIndex(t),this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,-1===(t=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR)))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");this.reader.setIndex(t),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}},prepareReader:function(t){var e=s.getTypeOf(t);"string"!==e||c.uint8array?this.reader="nodebuffer"===e?new o(t):new a(s.transformTo("uint8array",t)):this.reader=new i(t,this.loadOptions.optimizedBinaryString)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=r},function(t,e,n){"use strict";function r(t){this.data=t,this.length=this.data.length,this.index=0}var i=n(572);r.prototype=new i,r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.index,this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";function r(t,e){this.options=t,this.loadOptions=e}var i=n(570),o=n(104),a=n(569),s=n(367);r.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},prepareCompressedContent:function(t,e,n){return function(){var r=t.index;t.setIndex(e);var i=t.readData(n);return t.setIndex(r),i}},prepareContent:function(t,e,n,r,i){return function(){var t=o.transformTo(r.uncompressInputType,this.getCompressedContent()),e=r.uncompress(t);if(e.length!==i)throw new Error("Bug : uncompressed data size mismatch");return e}},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readString(this.fileNameLength),t.skip(n),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(null===(e=o.findCompression(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+this.fileName+")");if(this.decompressed=new a,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(t,t.index,this.compressedSize,e),this.decompressed.getContent=this.prepareContent(t,t.index,this.compressedSize,e,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=o.transformTo("string",this.decompressed.getContent()),s.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(t){if(this.versionMadeBy=t.readInt(2),this.versionNeeded=t.readInt(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4),this.fileNameLength=t.readInt(2),this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=t.readString(this.fileNameLength),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readString(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileName.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=new i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,r,i=t.index;for(this.extraFields=this.extraFields||{};t.index<i+this.extraFieldsLength;)e=t.readInt(2),n=t.readInt(2),r=t.readString(n),this.extraFields[e]={id:e,length:n,value:r}},handleUTF8:function(){if(this.useUTF8())this.fileName=s.utf8decode(this.fileName),this.fileComment=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();null!==t&&(this.fileName=t);var e=this.findExtraFieldUnicodeComment();null!==e&&(this.fileComment=e)}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=new i(t.value);return 1!==e.readInt(1)?null:s.crc32(this.fileName)!==e.readInt(4)?null:s.utf8decode(e.readString(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=new i(t.value);return 1!==e.readInt(1)?null:s.crc32(this.fileComment)!==e.readInt(4)?null:s.utf8decode(e.readString(t.length-5))}return null}},t.exports=r},function(t,e,n){"use strict";var r=n(104);e.string2binary=function(t){return r.string2binary(t)},e.string2Uint8Array=function(t){return r.transformTo("uint8array",t)},e.uint8Array2String=function(t){return r.transformTo("string",t)},e.string2Blob=function(t){var e=r.transformTo("arraybuffer",t);return r.arrayBuffer2Blob(e)},e.arrayBuffer2Blob=function(t){return r.arrayBuffer2Blob(t)},e.transformTo=function(t,e){return r.transformTo(t,e)},e.getTypeOf=function(t){return r.getTypeOf(t)},e.checkSupport=function(t){return r.checkSupport(t)},e.MAX_VALUE_16BITS=r.MAX_VALUE_16BITS,e.MAX_VALUE_32BITS=r.MAX_VALUE_32BITS,e.pretty=function(t){return r.pretty(t)},e.findCompression=function(t){return r.findCompression(t)},e.isRegExp=function(t){return r.isRegExp(t)}},function(t,e,n){"use strict";function r(t,e){e=e||"";for(var n=atob(t),r=n.length,i=Math.ceil(r/1024),o=new Array(i),a=0;a<i;++a){for(var s=1024*a,l=Math.min(s+1024,r),u=new Array(l-s),c=s,f=0;c<l;++f,++c)u[f]=n[c].charCodeAt(0);o[a]=new Uint8Array(u)}return new Blob(o,{type:e})}e.a=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(177),s=n(371),l=n(212),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();!function(){function t(){r(this,t)}u(t,null,[{key:"readCameraExtrinsics",value:function(t){return a.a.fromJson(t)}},{key:"writeCameraExtrinsics",value:function(t){return t.toJson()}},{key:"readObliqueIntrinsics",value:function(t){return s.a.fromJson(t)}},{key:"writeObliqueIntrinsics",value:function(t){return t.toJson()}},{key:"readObservation",value:function(t){return l.a.fromJson(t)}},{key:"writeObservation",value:function(t){return t.toJson()}}])}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(213),d=n(215);!function(t){function e(){return r(this,e),i(this,(e.__proto__||s()(e)).call(this,h.a.MANUAL))}o(e,t)}(d.default)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=u()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(s.a?s()(t,e):t.__proto__=e)}var a=n(6),s=n.n(a),l=n(5),u=n.n(l),c=n(7),f=n.n(c),h=n(51),d=n.n(h),p=n(1),m=n.n(p),g=n(4),v=n.n(g),y=n(100),b=(n.n(y),n(177)),_=n(213),w=n(215),x=v.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),m()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),M=function t(e,n,r){null===e&&(e=Function.prototype);var i=d()(e,n);if(void 0===i){var o=f()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)};!function(t){function e(t,n,o,a,s,l){r(this,e);var u=i(this,(e.__proto__||f()(e)).call(this,_.a.MEASURE_SMART,t,n,o,a));return u.depth=s,u.depthStdev=l,u}o(e,t),E(e,[{key:"toJson",value:function(){return x({},M(e.prototype.__proto__||f()(e.prototype),"toJson",this).call(this),{depth:{value:this.depth,stdev:this.depthStdev}})}}],[{key:"fromJson",value:function(t){return new e(t.imageId,b.a.fromJson(t.extrinsics),t.groundLevelOffset,t.direction,t.depth.value,t.depth.stdev)}}])}(w.default)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(100),d=(n.n(h),n(177),n(213)),p=n(215),m=function(t){function e(t,n,o,a,l){r(this,e);var u=i(this,(e.__proto__||s()(e)).call(this,d.a.SMART_CLICK,t,n,o,a));return u.image=l,u}return o(e,t),e}(p.default);e.a=m},function(t,e,n){!function(){"use strict";function e(t,n){return this.type=Float64Array,this.shape=[],t&&t.buffer&&t.buffer instanceof ArrayBuffer?e.fromTypedArray(t,n&&n.shape):t instanceof Array?e.fromArray(t):t instanceof r?e.fromVector(t,n&&n.shape):t instanceof e?e.fromMatrix(t):"number"==typeof t&&"number"==typeof n?e.fromShape([t,n]):t&&!t.buffer&&t.shape?e.fromShape(t.shape):void 0}var r=n(576);e.fromTypedArray=function(t,n){if(t.length!==n[0]*n[1])throw new Error("Shape does not match typed array dimensions.");var r=Object.create(e.prototype);return r.shape=n,r.data=t,r.type=t.constructor,r},e.fromArray=function(t){var n,r,i=t.length,o=t[0].length,a=new Float64Array(i*o);for(n=0;n<i;++n)for(r=0;r<o;++r)a[n*o+r]=t[n][r];return e.fromTypedArray(a,[i,o])},e.fromMatrix=function(t){var n=Object.create(e.prototype);return n.shape=[t.shape[0],t.shape[1]],n.data=new t.type(t.data),n.type=t.type,n},e.fromVector=function(t,n){if(n&&t.length!==n[0]*n[1])throw new Error("Shape does not match vector dimensions.");var r=Object.create(e.prototype);return r.shape=n||[t.length,1],r.data=new t.type(t.data),r.type=t.type,r},e.fromShape=function(t){var n=t[0],r=t[1];return e.fromTypedArray(new Float64Array(n*r),t)},e.binOp=function(t,n,r){return new e(t).binOp(n,r)},e.prototype.binOp=function(t,e){var n=this.shape[0],r=this.shape[1],i=n*r,o=this.data,a=t.data;if(n!==t.shape[0]||r!==t.shape[1])throw new Error("sizes do not match!");var s;for(s=0;s<i;s++)o[s]=e(o[s],a[s],s);return this},e.add=function(t,n){return new e(t).add(n)},e.prototype.add=function(t){return this.binOp(t,function(t,e){return t+e})},e.subtract=function(t,n){return new e(t).subtract(n)},e.prototype.subtract=function(t){return this.binOp(t,function(t,e){return t-e})},e.product=function(t,n){return new e(t).product(n)},e.prototype.product=function(t){return this.binOp(t,function(t,e){return t*e})},e.scale=function(t,n){return new e(t).scale(n)},e.prototype.scale=function(t){var e,n=this.shape[0],r=this.shape[1],i=n*r,o=this.data;for(e=0;e<i;e++)o[e]*=t;return this},e.fill=function(t,n,r,i){if(t<=0||n<=0)throw new Error("invalid size");r=r||0,i=i||Float64Array;var o,a,s=t*n,l=new i(s),u="function"==typeof r,c=0;for(o=0;o<t;o++)for(a=0;a<n;a++,c++)l[c]=u?r(o,a):r;return e.fromTypedArray(l,[t,n])},e.zeros=function(t,n,r){return e.fill(t,n,0,r)},e.ones=function(t,n,r){return e.fill(t,n,1,r)},e.random=function(t,n,r,i,o){return r=r||1,i=i||0,e.fill(t,n,function(){return r*Math.random()+i},o)},e.multiply=function(t,e){return t.multiply(e)},e.prototype.multiply=function(t){var n=this.shape[0],r=this.shape[1],i=t.shape[0],o=t.shape[1],a=this.data,s=t.data;if(r!==i)throw new Error("sizes do not match");var l,u,c,f,h=new this.type(n*o);for(l=0;l<n;l++)for(u=0;u<o;u++){for(f=0,c=0;c<r;c++)f+=a[l*r+c]*s[u+c*o];h[l*o+u]=f}return e.fromTypedArray(h,[n,o])},Object.defineProperty(e.prototype,"T",{get:function(){return this.transpose()}}),e.prototype.transpose=function(){var t,n,r=this.shape[0],i=this.shape[1],o=new this.type(i*r);for(t=0;t<r;t++)for(n=0;n<i;n++)o[n*r+t]=this.data[t*i+n];return e.fromTypedArray(o,[i,r])},e.prototype.inverse=function(){var t=this.shape[0],n=this.shape[1];if(t!==n)throw new Error("invalid dimensions");var r,i,o=e.identity(t),a=e.augment(this,o),s=a.gauss(),l=e.zeros(t,n),u=e.zeros(t,n),c=s.shape[1];for(r=0;r<t;r++)for(i=0;i<c;i++)i<n?l.set(r,i,s.get(r,i)):u.set(r,i-t,s.get(r,i));if(!l.equals(e.identity(t)))throw new Error("matrix is not invertible");return u},e.prototype.gauss=function(){var t,n,r,i,o,a=this.shape[0],s=this.shape[1],l=new e(this),u=0;for(n=0;n<a;n++){if(s<=u)return new Error("matrix is singular");for(r=n;0===l.data[r*s+u];)if(r++,a===r&&(r=n,u++,s===u))return new Error("matrix is singular");if(l.swap(n,r),0!==(t=l.data[n*s+u]))for(i=0;i<s;i++)l.data[n*s+i]=l.data[n*s+i]/t;for(r=0;r<a;r++)if(o=l.data[r*s+u],r!==n)for(i=0;i<s;i++)l.data[r*s+i]=l.data[r*s+i]-l.data[n*s+i]*o;u++}for(n=0;n<a;n++){for(t=0,r=0;r<s;r++)t||(t=l.data[n*s+r]);if(t)for(i=0;i<s;i++)l.data[n*s+i]=l.data[n*s+i]/t}return l},e.prototype.lu=function(){var t,n,r=this.shape[0],i=this.shape[1],o=e.plu(this),a=o[1],s=(e.identity(r),new e(o[0])),l=new e(o[0]);for(t=0;t<r;t++)for(n=t;n<i;n++)s.data[t*i+n]=t===n?1:0;for(t=0;t<r;t++)for(n=0;n<t&&n<i;n++)l.data[t*i+n]=0;return[s,l,a]},e.plu=function(t){return new e(t).plu()},e.prototype.plu=function(){var t,e,n,r,i,o,a,s=this.data,l=this.shape[0],u=new Int32Array(l);for(a=0;a<l;++a){for(r=a,t=Math.abs(s[a*l+a]),o=a+1;o<l;++o)e=Math.abs(s[o*l+a]),t<e&&(t=e,r=o);for(u[a]=r,r!==a&&this.swap(a,r),n=s[a*l+a],i=a+1;i<l;++i)s[i*l+a]/=n;for(i=a+1;i<l;++i){for(o=a+1;o<l-1;++o)s[i*l+o]-=s[i*l+a]*s[a*l+o],++o,s[i*l+o]-=s[i*l+a]*s[a*l+o];o===l-1&&(s[i*l+o]-=s[i*l+a]*s[a*l+o])}}return[this,u]},e.prototype.lusolve=function(t,e){var n,r,i,o=this.data,a=t.shape[0],s=t.shape[1],l=t.data;for(n=0;n<e.length;n++)n!==e[n]&&t.swap(n,e[n]);for(i=0;i<s;i++){for(n=0;n<a;n++)for(r=0;r<n;r++)l[n*s+i]-=o[n*a+r]*l[r*s+i];for(n=a-1;n>=0;n--){for(r=n+1;r<a;r++)l[n*s+i]-=o[n*a+r]*l[r*s+i];l[n*s+i]/=o[n*a+n]}}return t},e.prototype.solve=function(t){var n=e.plu(this),r=n[0],i=n[1];return r.lusolve(new e(t),i)},e.augment=function(t,n){return new e(t).augment(n)},e.prototype.augment=function(t){if(0===t.shape.length)return this;var e,n,r=this.shape[0],i=this.shape[1],o=t.shape[0],a=t.shape[1],s=this.data,l=t.data;if(r!==o)throw new Error("Rows do not match.");var u=i+a,c=new this.type(u*r);for(e=0;e<r;e++)for(n=0;n<i;n++)c[e*u+n]=s[e*i+n];for(e=0;e<o;e++)for(n=0;n<a;n++)c[e*u+n+i]=l[e*a+n];return this.shape=[r,u],this.data=c,this},e.identity=function(t,n){return e.fill(t,t,function(t,e){return t===e?1:0})},e.magic=function(t,n){function r(t,e,n){return(e+2*n+1)%t}if(t<0)throw new Error("invalid size");n=n||Float64Array;var i,o,a=new n(t*t);for(i=0;i<t;i++)for(o=0;o<t;o++)a[(t-i-1)*t+(t-o-1)]=r(t,t-o-1,i)*t+r(t,o,i)+1;return e.fromTypedArray(a,[t,t])},e.prototype.diag=function(){var t,e=this.shape[0],n=this.shape[1],i=new this.type(Math.min(e,n));for(t=0;t<e&&t<n;t++)i[t]=this.data[t*n+t];return new r(i)},e.prototype.determinant=function(){if(this.shape[0]!==this.shape[1])throw new Error("matrix is not square");var t,n=e.plu(this),r=n.pop(),i=n.pop(),o=this.shape[0],a=this.shape[1],s=1,l=1;for(t=0;t<o;t++)t!==r[t]&&(l*=-1);for(t=0;t<o;t++)s*=i.data[t*a+t];return l*s},e.prototype.trace=function(){var t,e,n=this.diag(),r=0;for(t=0,e=n.length;t<e;t++)r+=n.get(t);return r},e.equals=function(t,e){return t.equals(e)},e.prototype.equals=function(t){var e=this.shape[0],n=this.shape[1],r=e*n,i=this.data,o=t.data;if(e!==t.shape[0]||n!==t.shape[1]||this.type!==t.type)return!1;var a;for(a=0;a<r;a++)if(i[a]!==o[a])return!1;return!0},e.prototype.get=function(t,e){if(t<0||e<0||t>this.shape[0]-1||e>this.shape[1]-1)throw new Error("index out of bounds");return this.data[t*this.shape[1]+e]},e.prototype.set=function(t,e,n){if(t<0||e<0||t>this.shape[0]-1||e>this.shape[1]-1)throw new Error("index out of bounds");return this.data[t*this.shape[1]+e]=n,this},e.prototype.swap=function(t,e){if(t<0||e<0||t>this.shape[0]-1||e>this.shape[0]-1)throw new Error("index out of bounds");var n=this.shape[1],r=this.data.slice(t*n,(t+1)*n);return this.data.copyWithin(t*n,e*n,(e+1)*n),this.data.set(r,e*n),this},e.prototype.map=function(t){var n,r=this.shape[0],i=this.shape[1],o=r*i,a=new e(this),s=a.data;for(n=0;n<o;n++)s[n]=t.call(a,s[n],n/i|0,n%i,s);return a},e.prototype.each=function(t){var e,n=this.shape[0],r=this.shape[1],i=n*r;for(e=0;e<i;e++)t.call(this,this.data[e],e/r|0,e%r);return this},e.prototype.reduce=function(t,e){var n=this.shape[0],r=this.shape[1],i=n*r;if(0===i&&!e)throw new Error("Reduce of empty matrix with no initial value.");for(var o=0,a=e||this.data[o++];o<i;o++)a=t.call(this,a,this.data[o],o/r|0,o%r);return a},e.prototype.rank=function(){var t,e,n,i,o,a,s=this.toArray().map(function(t){return new r(t)}),l=this.shape[0],u=this.shape[1],c=0;for(t=0;t<l-1;t++){for(i=null,e=t;e<l;e++)if(s[t].get(t)){t!==e&&(n=s[t],s[t]=s[e],s[e]=n),i=s[t];break}if(i)for(e=t+1;e<l;e++)o=s[e],a=o.get(t)/i.get(t),s[e]=o.subtract(i.scale(a))}for(t=0;t<l;t++)for(e=0;e<u;e++)if(s[t].get(e)){c++;break}return c},e.rank=function(t){return new e(t).rank()},e.prototype.toString=function(){var t,e=[],n=this.shape[0],r=this.shape[1];for(t=0;t<n;t++)e.push("["+this.data.subarray(t*r,(t+1)*r).toString()+"]");return"["+e.join(", \n")+"]"},e.prototype.toArray=function(){var t,e=[],n=this.shape[0],r=this.shape[1];for(t=0;t<n;t++)e.push(Array.prototype.slice.call(this.data.subarray(t*r,(t+1)*r)));return e},t.exports=e;try{window.Matrix=e}catch(t){}}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(100),s=(n.n(a),function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()),l=function(){function t(e,n,i){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;r(this,t),this.value=e,this.stdev=n,this.ref=i,this.success=o,this.message=a}return s(t,null,[{key:"succeed",value:function(e,n,r){return new t(e,n,r,!0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}},{key:"fail",value:function(){return new t(null,null,NaN,!1,arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)}}]),t}();e.a=l},function(t,e,n){"use strict";n.d(e,"b",function(){return m}),n.d(e,"c",function(){return g}),n.d(e,"d",function(){return v}),n.d(e,"a",function(){return y});var r=n(23),i=n.n(r),o=n(17),a=n.n(o),s=n(100),l=(n.n(s),n(20)),u=(n.n(l),n(125)),c=(n.n(u),n(33)),f=n(211),h=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,l=a()(t);!(r=(s=l.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(i()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12;return Object(l.padStart)(t.toFixed(e),n)},p=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.length,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=new Array(i),s=r,l=0;l<i;s+=o,++l)a[l]=d(t[s],e,n);return a},m=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=h(t.shape,2),i=r[0],o=r[1],a=[],s=0;s<i;++s)a.push(p(t.data,e,n,s*o,o).join(" "));return a.join("\n")},g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=t.shape[0],i=r+1;return p(t.data,e,n,0,r,i).join(" ")},v=function(t,e,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:12,o=e.length,a=0,s=[],l=0;l<o;++l){var u=e[l].type,h=u===f.c.OBLIQUE;s.push("Location "+l+" ("+u+")"),s.push(["  Position   :",d(t.get(a++,0)+n[0],r,i),d(t.get(a++,0)+n[1],r,i),d(t.get(a++,0)+n[2],r,i)].join(" ")),s.push(["  Orientation:",d(Object(c.d)(t.get(a++,0)),r,i),h?d(Object(c.d)(t.get(a++,0)),r,i):"",h?d(Object(c.d)(t.get(a++,0)),r,i):""].join(" "))}return s.push(["Estimate:",d(t.get(a++,0)+n[0],r,i),d(t.get(a++,0)+n[1],r,i),d(t.get(a++,0)+n[2],r,i)].join(" ")),s.join("\n")},y=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12,i=e.length,o=0,a=[],s=0;s<i;++s){var l=e[s].type,u=l===f.c.OBLIQUE;a.push("Location "+s+" ("+l+")"),a.push(["  Position   :",d(t.get(o++,0),n,r),d(t.get(o++,0),n,r),d(t.get(o++,0),n,r)].join(" ")),a.push(["  Orientation:",d(Object(c.d)(t.get(o++,0)),n,r),u?d(Object(c.d)(t.get(o++,0)),n,r):"",u?d(Object(c.d)(t.get(o++,0)),n,r):""].join(" ")),a.push(["  Observation:",d(Object(c.d)(t.get(o++,0)),n,r),d(Object(c.d)(t.get(o++,0)),n,r)].join(" "))}return a.join("\n")}},function(t,e,n){"use strict";function r(t,e,n){return e in t?m()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=d()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(f.a?f()(t,e):t.__proto__=e)}n.d(e,"b",function(){return w}),n.d(e,"a",function(){return x});var s,l=n(7),u=n.n(l),c=n(6),f=n.n(c),h=n(5),d=n.n(h),p=n(1),m=n.n(p),g=n(15),v=(n.n(g),Object(g.defineMessages)({noMethodAvailable:{id:"Measure.error.noMethodAvailable",description:"No valid measure method available",defaultMessage:"No valid measure method available"}})),y=Object(g.defineMessages)({notPermitted:{id:"Measure.smartClick.error.notPermitted",description:"Smart Click not permitted",defaultMessage:"Smart Click not permitted"},clientNotInitialized:{id:"Measure.smartClick.error.clientNotInitialized",description:"Smart Click client not initialized",defaultMessage:"Smart Click client not initialized"},requestError:{id:"Measure.smartClick.error.requestError",description:"Smart Click request error",defaultMessage:"Error while performing SmartClick request: {error}"},noResult:{id:"Measure.smartClick.error.noResult",description:"Smart Click did not return a result",defaultMessage:"Smart Click did not return a result"}}),b=Object(g.defineMessages)({notPermitted:{id:"Measure.depthMap.error.notPermitted",description:"Measure Smart not permitted",defaultMessage:"Measure Smart not permitted"},clientNotInitialized:{id:"Measure.depthMap.error.clientNotInitialized",description:"Measure Smart client not initialized",defaultMessage:"Measure Smart client not initialized"},requestError:{id:"Measure.depthMap.error.requestError",description:"Measure Smart request error",defaultMessage:"Error while performing Measure Smart request: {error}"},noResult:{id:"Measure.depthMap.error.noResult",description:"Measure Smart did not return a result",defaultMessage:"Measure Smart did not return a result"}}),_=function(t){function e(t,n,r){i(this,e);var a=o(this,(e.__proto__||u()(e)).call(this,n||M(t)));return a.name="MeasureError",a.type=t,a.detail=r,a}return a(e,t),e}(Error);_.NO_METHOD_AVAILABLE="NO_METHOD_AVAILABLE",_.MODIFYING_CLOSED_MEASUREMENT="MODIFYING_CLOSED_MEASUREMENT",e.c=_;var w=function(t){function e(t,n,r){i(this,e);var a=o(this,(e.__proto__||u()(e)).call(this,t,n,r));return a.name="SmartClickError",a}return a(e,t),e}(_);w.NOT_PERMITTED="SMART_CLICK_NOT_PERMITTED",w.CLIENT_NOT_INITIALIZED="SMART_CLICK_CLIENT_NOT_INITIALIZED",w.REQUEST_ERROR="SMART_CLICK_REQUEST_ERROR",w.NO_RESULT="SMART_CLICK_NO_RESULT",w.NO_RELIABLE_RESULT="SMART_CLICK_NO_RELIABLE_RESULT";var x=function(t){function e(t,n,r){i(this,e);var a=o(this,(e.__proto__||u()(e)).call(this,t,n,r));return a.name="MeasureSmartError",a}return a(e,t),e}(_);x.NOT_PERMITTED="MEASURE_SMART_NOT_PERMITTED",x.CLIENT_NOT_INITIALIZED="MEASURE_SMART_CLIENT_NOT_INITIALIZED",x.REQUEST_ERROR="MEASURE_SMART_REQUEST_ERROR",x.NO_RESULT="MEASURE_SMART_NO_RESULT";var E=(s={},r(s,_.NO_METHOD_AVAILABLE,v.noMethodAvailable),r(s,w.NOT_PERMITTED,y.notPermitted),r(s,w.CLIENT_NOT_INITIALIZED,y.clientNotInitialized),r(s,w.REQUEST_ERROR,y.requestError),r(s,w.NO_RESULT,y.noResult),r(s,x.NOT_PERMITTED,b.notPermitted),r(s,x.CLIENT_NOT_INITIALIZED,b.clientNotInitialized),r(s,x.REQUEST_ERROR,b.requestError),r(s,x.NO_RESULT,b.noResult),s),M=function(t){return t in E?E[t].message:"Measure error: "+t}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return s()(t)}n.d(e,"a",function(){return b});var i=n(70),o=n.n(i),a=n(30),s=n.n(a),l=n(23),u=n.n(l),c=n(17),f=n.n(c),h=n(125),d=(n.n(h),n(271)),p=n(178),m=n(88),g=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=f()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(u()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(t,e){e[0]=m.k.Heron([t[0],t[1],t[2]],[t[3],t[4],t[5]],[t[6],t[7],t[8]])},y=function(t,e,n,r,i,o,a,s,l,u,c,f,m,g,y,b,_,w){var x=new Float64Array([t,e,n,r,i,o,a,s,l]),E=u instanceof h.Matrix?u:new Float64Array([u,c,f,m,g,y,b,_,w]),M=new Float64Array([p.b,p.b,p.b,p.b,p.b,p.b,p.b,p.b,p.b]),S=Object(d.a)(v,x,E,M,1);return{value:S.value[0],stdev:S.stdev[0],Q:S.Q}},b=function(t,e,n){if(!t||0===t.length)return NaN;var i=t.map(function(t){var r=g(t,3),i=r[0],o=r[1],a=r[2],s=g(e[i],3),l=s[0],u=s[1],c=s[2],f=g(e[o],3),h=f[0],d=f[1],p=f[2],m=g(e[a],3),v=m[0],b=m[1],_=m[2];if([i,o,a].map(function(t){return n[t]}).includes(void 0))return NaN;var w=g(n[i],3),x=w[0],E=w[1],M=w[2],S=g(n[o],3),T=S[0],C=S[1],O=S[2],A=g(n[a],3),I=A[0],R=A[1],P=A[2];return y(l,u,c,h,d,p,v,b,_,x,E,M,T,C,O,I,R,P).stdev});return o.a.apply(Math,r(i))}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=1e-10},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return s()(t)}n.d(e,"a",function(){return p}),n.d(e,"b",function(){return m});var i=n(70),o=n.n(i),a=n(30),s=n.n(a),l=n(125),u=(n.n(l),n(49)),c=(n.n(u),n(578)),f=n(271),h=n(178),d=function(t,e){e[0]=o()(t[3]-t[0],t[4]-t[1],t[5]-t[2])},p=function(t,e,n,r,i,o,a,s,u,c,p,m){var g=new Float64Array([t,e,n,r,i,o]),v=a instanceof l.Matrix?a:new Float64Array([a,s,u,c,p,m]),y=new Float64Array([h.b,h.b,h.b,h.b,h.b,h.b]),b=Object(f.a)(d,g,v,y,1);return{value:b.value[0],stdev:b.stdev[0],Q:b.Q}},m=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length-1,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(i>0){for(var s=new Array(i),l=new Array(i),f=new Array(i),h=new Array(i),d=new Array(i),m=new Array(i),g=new Array(i),v=new Array(i),y=new Array(i),b=new Array(i),_=0,w=0,x=void 0,E=void 0,M=void 0,S=void 0,T=void 0,C=void 0,O=void 0,A=void 0,I=void 0,R=void 0,P=void 0,L=void 0,N=void 0,k=0;k<i;++k)if(x=t[k],E=t[k+1],x.includes(null)||E.includes(null))s[k]=void 0,f[k]=void 0,d[k]=void 0;else{if(S=e[k],T=e[k+1],O=E[0]-x[0],A=E[1]-x[1],I=E[2]-x[2],P=o()(O,A,I),L=u.vec2.distance(x,E),N=I,R=1/P,s[k]=P,f[k]=L,d[k]=N,S&&T){var D=Object(c.e)(x[0],x[1],x[2],E[0],E[1],E[2],S[0],S[1],S[2],T[0],T[1],T[2]);g[k]=D.value,v[k]=D.stdev;var F=Object(c.d)(x[0],x[1],x[2],E[0],E[1],E[2],S[0],S[1],S[2],T[0],T[1],T[2]);y[k]=F.value,b[k]=F.stdev,l[k]=o()(O*R*S[0],A*R*S[1],I*R*S[2],-O*R*T[0],-A*R*T[1],-I*R*T[2]),h[k]=p(x[0],x[1],0,E[0],E[1],0,S[0],S[1],0,T[0],T[1],0).stdev,m[k]=p(0,0,x[2],0,0,E[2],0,0,S[2],0,0,T[2]).stdev}_+=P}if(1===i)_=s[0],w=l[0];else{w=[];var j=void 0,U=void 0,z=void 0,B=void 0,V=void 0,G=void 0,H=void 0,q=void 0;if(n)for(var W=0;W<i;++W)x=t[(W-1+i)%i],E=t[W],M=t[W+1],T=e[W],j=E[0]-x[0],U=E[1]-x[1],z=E[2]-x[2],B=M[0]-E[0],V=M[1]-E[1],G=M[2]-E[2],H=1/o()(j,U,z),q=1/o()(B,V,G),T?w.push((-j*H+B*q)*T[0],(-U*H+V*q)*T[1],(-z*H+G*q)*T[2]):w.push(null);else{for(var Y=1;Y<i-1;++Y)x=t[Y-1],E=t[Y],M=t[Y+1],T=e[Y],j=E[0]-x[0],U=E[1]-x[1],z=E[2]-x[2],B=M[0]-E[0],V=M[1]-E[1],G=M[2]-E[2],H=1/o()(j,U,z),q=1/o()(B,V,G),T?w.push((-j*H+B*q)*T[0],(-U*H+V*q)*T[1],(-z*H+G*q)*T[2]):w.push(null);E=t[0],M=t[1],T=e[0],B=M[0]-E[0],V=M[1]-E[1],G=M[2]-E[2],q=1/o()(B,V,G),T?w.push(B*q*T[0],V*q*T[1],G*q*T[2]):w.push(null),x=t[i-1],E=t[i],T=e[i],T?(j=E[0]-x[0],U=E[1]-x[1],z=E[2]-x[2],H=1/o()(j,U,z),w.push(-j*H*T[0],-U*H*T[1],-z*H*T[2])):w.push(null)}w=o.a.apply(Math,r(w)),a&&(x=t[i-1],E=t[i],O=E[0]-x[0],A=E[1]-x[1],I=E[2]-x[2],R=1/o()(O,A,I),S=e[0],T=e[1],C=e[3],l[2]=void 0===S||void 0===T||void 0===C?null:o()(O*R*((S[0]+T[0])/2),A*R*((S[0]+T[0])/2),I*R*((S[0]+T[0])/2),-O*R*C[0],-A*R*C[1],-I*R*C[2]))}return{value:_,stdev:w,segments:{value:s,stdev:l},segmentsDeltaXY:{value:f,stdev:h},segmentsDeltaZ:{value:d,stdev:m},segmentsSlopePercentage:{value:g,stdev:v},segmentsSlopeAngle:{value:y,stdev:b}}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(23),i=n.n(r),o=n(17),a=n.n(o),s=n(49),l=(n.n(s),n(271)),u=n(178),c=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,l=a()(t);!(r=(s=l.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(i()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(t,e){var n=t.data||t,r=c(n,6),i=r[0],o=r[1],a=r[2],l=r[3],u=r[4],f=r[5];s.glMatrix.setMatrixArrayType(Float64Array);var h=Math.sin(o),d=Math.cos(o),p=Math.sin(a),m=Math.cos(a),g=s.vec3.fromValues(i*h*m,i*d*m,i*p),v=s.vec3.add(s.vec3.create(),s.vec3.fromValues(l,u,f),g);e[0]=v[0],e[1]=v[1],e[2]=v[2]},h=function(t,e,n,r,i,o,a,s,c,h,d,p){var m=[t,e,n,r,i,o],g=[a,s,c,h,d,p],v=new Float64Array([u.b,u.b,u.b,u.b,u.b,u.b]);return Object(l.a)(f,m,g,v,3)}},function(t,e,n){"use strict";n.d(e,"a",function(){return h}),n.d(e,"b",function(){return d});var r=n(70),i=n.n(r),o=n(125),a=(n.n(o),n(271)),s=n(178),l=n(165),u=function(t,e){e[0]=Object(l.a)(Math.atan2(Math.abs(t[5]-t[2]),i()(t[3]-t[0],t[4]-t[1])))},c=function(t,e){e[0]=Math.abs(t[5]-t[2])/i()(t[3]-t[0],t[4]-t[1])*100},f=function(t,e,n,r,i,l,f,h,d,p,m,g,v){var y=new Float64Array([e,n,r,i,l,f]),b=h instanceof o.Matrix?h:new Float64Array([h,d,p,m,g,v]),_=new Float64Array([s.b,s.b,s.b,s.b,s.b,s.b]),w=Object(a.a)(t?u:c,y,b,_,1);return{value:w.value[0],stdev:w.stdev[0],Q:w.Q}},h=f.bind(null,!0),d=f.bind(null,!1)},function(t,e,n){"use strict";function r(t){var e=[];return t.forEach(function(t){var n=t.stdDev,r=[];n.forEach(function(t){r.push(Math.max(t,.05))}),e.push(v({},t,{stdDev:r}))}),e}function i(t,e){var n=[],r=[];if(t.length===e.length)for(var i=0;i<t.length-1;i++)for(var o=i+1;o<t.length;o++){var a=e[i],s=a.theta,l=a.beta,u=e[o].theta,c=t[i],f=c.coordinate,h=c.stdDev,d=t[o],p=d.coordinate,m=d.stdDev,v=f[0],y=f[1],b=f[2],_=p[0],w=p[1],x=Object(g.a)(s),E=Object(g.a)(u),M=Math.tan(s),S=Math.tan(u),T=(v*x-_*E-y+w)/(x-E),C=(y*M-w*S-v+_)/(M-S),O=Math.sqrt(Math.pow(T-v,2)+Math.pow(C-y,2)),A=Math.tan(l)*O+b,I=(h[0]+m[0])/2,R=(h[1]+m[1])/2,P=(h[2]+m[2])/2;n.push([T,C,A]),r.push([I,R,P])}return{p:Object(g.d)(n),q:Object(g.d)(r)}}function o(t){for(var e=.2,n=0;n<t.length-1;n++)for(var r=n+1;r<t.length;r++){var i=t[n].recordedAt,o=t[r].recordedAt;if(!i||!o)return 59.99;var a=Object(g.e)(i,o);e=Math.max(e,a),e=Math.min(e,59.99)}return e}function a(t,e){var n=void 0;return t>=0&&e>=0?n=Math.atan(t/e):t<=0&&e<=0?n=Math.PI+Math.atan(Math.abs(t)/Math.abs(e)):t>=0&&e<=0?n=Math.PI/2+Math.atan(Math.abs(e)/t):t<=0&&e>=0&&(n=3*Math.PI/2+Math.atan(e/Math.abs(t))),n}function s(t,e,n,r){var i=e.p,o=(e.q,t.length),s=new m.Vector(i),l=void 0,u=void 0,c=void 0;if(t.length===n.length){for(var f=m.Matrix.zeros(3*o,3*o),h=m.Matrix.zeros(o,o),d=m.Matrix.zeros(o,o),p=1/Math.pow(810,2),v=0;v<o;v++){h.set(v,v,p),d.set(v,v,p);for(var y=n[v].stdDev,b=0;b<3;b++){var _=Math.pow(y[b],2),w=3*v+b;f.set(w,w,_)}}for(var x=-.016667*r+1,E=m.Matrix.zeros(3*o,3*o),M=0;M<3*o;M++)for(var S=0;S<3*o;S++)if(M!==S){var T=x*Math.sqrt(f.get(M,M))*Math.sqrt(f.get(S,S));E.set(M,S,T)}f=m.Matrix.add(f,E),f=f.inverse();for(var C=m.Matrix.zeros(5*o,5*o),O=0;O<o;O++)for(var A=0;A<5;A++)for(var I=0;I<o;I++)for(var R=0;R<5;R++)if(0===R&&0===A){var P=h.get(I,O);C.set(I,O,P)}else if(1===R&&1===A){var L=d.get(I,O);C.set(I+o,O+o,L)}else if(R>=2&&A>=2){var N=f.get(3*I+R-2,3*O+A-2);C.set(3*I+2*o+R-2,3*O+2*o+A-2,N)}for(var k=0,D=206265,F=m.Matrix.ones(3,1),j=!0,U=void 0;Object(g.c)(F)>1e-5&&j&&k++<5;){for(var z=m.Vector.zeros(o),B=m.Vector.zeros(o),V=m.Vector.zeros(o),G=m.Vector.zeros(o),H=m.Vector.zeros(o),q=m.Vector.zeros(o),W=m.Vector.zeros(o),Y=m.Vector.zeros(o),X=m.Matrix.zeros(o,3*o),Z=m.Matrix.zeros(o,3*o),K=m.Matrix.zeros(o,3),Q=m.Matrix.zeros(o,3),J=0;J<o;J++){var $=n[J].coordinate,tt=t[J],et=tt.theta,nt=tt.beta,rt=s.get(0)-$[0],it=s.get(1)-$[1],ot=s.get(2)-$[2],at=Math.sqrt(Math.pow(rt,2)+Math.pow(it,2)),st=Math.sqrt(Math.pow(rt,2)+Math.pow(it,2)+Math.pow(ot,2)),lt=Math.atan(ot/Math.sqrt(Math.pow(rt,2)+Math.pow(it,2))),ut=a(rt,it);z.set(J,D*(et-ut)),B.set(J,D*(it/Math.pow(at,2))),V.set(J,-D*(rt/Math.pow(at,2))),G.set(J,0),H.set(J,D*(nt-lt)),q.set(J,-D*(Math.sin(ut)*Math.sin(lt)/st)),W.set(J,-D*(Math.cos(ut)*Math.sin(lt)/st)),Y.set(J,D*(Math.cos(lt)/st)),X.set(J,3*J,-B.get(J)),X.set(J,3*J+1,-V.get(J)),X.set(J,3*J+2,-G.get(J)),Z.set(J,3*J,-q.get(J)),Z.set(J,3*J+1,-W.get(J)),Z.set(J,3*J+2,-Y.get(J)),K.set(J,0,B.get(J)),K.set(J,1,V.get(J)),K.set(J,2,G.get(J)),Q.set(J,0,q.get(J)),Q.set(J,1,W.get(J)),Q.set(J,2,Y.get(J))}var ct=new m.Matrix(X.toArray().concat(Z.toArray()));X=m.Matrix.identity(2*o).augment(ct);var ft=new m.Matrix(K.toArray().concat(Q.toArray())),ht=new m.Vector(z.toArray().concat(H.toArray())),dt=X.transpose(),pt=C.inverse(),mt=m.Matrix.multiply(X,m.Matrix.multiply(pt,dt)),gt=mt.inverse(),vt=ft.transpose(),yt=new m.Matrix(ht),bt=m.Matrix.multiply(vt,m.Matrix.multiply(gt,ft)),_t=m.Matrix.multiply(vt,m.Matrix.multiply(gt,yt)),wt=bt.inverse();if(F=m.Matrix.multiply(wt,_t),U){var xt=Math.pow(F.get(0,0),2)+Math.pow(F.get(1,0),2)+Math.pow(F.get(2,0),2);Math.pow(U.get(0,0),2)+Math.pow(U.get(1,0),2)+Math.pow(U.get(2,0),2)<xt&&(j=!1)}U=F;var Et=m.Matrix.multiply(pt,m.Matrix.multiply(dt,m.Matrix.multiply(gt,m.Matrix.add(m.Matrix.multiply(m.Matrix.scale(ft,-1),F),yt)))),Mt=1/(2*o-3),St=m.Matrix.scale(m.Matrix.multiply(Et.transpose(),m.Matrix.multiply(C,Et)),Mt),Tt=St.get(0,0);u=m.Matrix.scale(wt,Tt);var Ct=bt.inverse(),Ot=m.Matrix.multiply(ft,m.Matrix.multiply(Ct,vt)),At=m.Matrix.subtract(gt,m.Matrix.multiply(gt,m.Matrix.multiply(Ot,gt))),It=m.Matrix.multiply(pt,m.Matrix.multiply(dt,m.Matrix.multiply(At,m.Matrix.multiply(X,pt)))),Rt=m.Matrix.scale(m.Matrix.subtract(pt,It),Tt);l=!0;for(var Pt=0;Pt<2*o;Pt++){Math.sqrt(Rt.get(Pt,Pt))/810>=.8&&(l=!1)}s.set(2,s.get(2)+F.get(2,0)),s.set(1,s.get(1)+F.get(1,0)),s.set(0,s.get(0)+F.get(0,0)),c=[Math.sqrt(u.get(0,0)),Math.sqrt(u.get(1,1)),Math.sqrt(u.get(2,2))]}if(!j)throw Error("Invalid forward intersection measurement detected")}return{p:s.toArray(),q:c,reliability:l,covariance:u}}function l(t,e){for(var n=new m.Matrix(e.length,3),r=0;r<e.length;r++)n.set(r,0,e[r].coordinate[0]),n.set(r,1,e[r].coordinate[1]),n.set(r,2,e[r].coordinate[2]);var i=[],o=[];t.forEach(function(t){var e=t.theta,n=t.beta;i.push(e),o.push(n)});for(var a=new m.Matrix(e.length,3),s=0;s<n.shape[0];s++){a.set(s,0,n.get(s,0)+40*Math.sin(i[s])),a.set(s,1,n.get(s,1)+40*Math.cos(i[s]));var l=a.get(s,0)-n.get(s,0),u=a.get(s,1)-n.get(s,1);a.set(s,2,n.get(s,2)+Math.sqrt(Math.pow(l,2)+Math.pow(u,2))*Math.tan(o[s]))}for(var c=m.Matrix.subtract(a,n),f=new m.Matrix(c),h=0;h<c.shape[0];h++){for(var d=0,p=0;p<c.shape[1];p++)d+=Math.pow(c.get(h,p),2);for(var g=0;g<c.shape[1];g++)f.set(h,g,c.get(h,g)/Math.sqrt(d))}for(var v=0,y=0,b=0,_=0,w=0,x=0,E=m.Vector.zeros(f.shape[0]),M=m.Vector.zeros(f.shape[0]),S=m.Vector.zeros(f.shape[0]),T=m.Vector.zeros(f.shape[0]),C=m.Vector.zeros(f.shape[0]),O=m.Vector.zeros(f.shape[0]),A=0;A<f.shape[0];A++)v+=Math.pow(f.get(A,0),2)-1,y+=Math.pow(f.get(A,1),2)-1,b+=Math.pow(f.get(A,2),2)-1,E.set(A,Math.pow(f.get(A,0),2)-1),M.set(A,Math.pow(f.get(A,1),2)-1),S.set(A,Math.pow(f.get(A,2),2)-1),T.set(A,f.get(A,0)*f.get(A,1)),C.set(A,f.get(A,0)*f.get(A,2)),O.set(A,f.get(A,1)*f.get(A,2)),_+=f.get(A,0)*f.get(A,1),w+=f.get(A,0)*f.get(A,2),x+=f.get(A,1)*f.get(A,2);for(var I=new m.Matrix([[v,_,w],[_,y,x],[w,x,b]]),R=0,P=0,L=0,N=0;N<n.shape[0];N++)R+=n.get(N,0)*E.get(N)+n.get(N,1)*T.get(N)+n.get(N,2)*C.get(N),P+=n.get(N,0)*T.get(N)+n.get(N,1)*M.get(N)+n.get(N,2)*O.get(N),L+=n.get(N,0)*C.get(N)+n.get(N,1)*O.get(N)+n.get(N,2)*S.get(N);for(var k=new m.Matrix([[R],[P],[L]]),D=I.inverse(),F=m.Matrix.multiply(D,k),j=F.transpose(),U=m.Vector.zeros(n.shape[0]),z=0;z<n.shape[0];z++){for(var B=m.Matrix.zeros(1,n.shape[1]),V=m.Matrix.zeros(1,c.shape[1]),G=0;G<n.shape[1];G++)B.set(0,G,n.get(z,G)),V.set(0,G,c.get(z,G));for(var H=V.transpose(),q=m.Matrix.multiply(V,H),W=m.Matrix.multiply(m.Matrix.subtract(j,B),H),Y=W.get(0,0)/q.get(0,0),X=m.Matrix.subtract(m.Matrix.subtract(j,B),m.Matrix.scale(V,Y)),Z=0,K=0;K<X.shape[1];K++)Z+=Math.pow(X.get(0,K),2);U.set(z,Math.sqrt(Z))}for(var Q=!0,J=0;J<n.shape[0];J++){Math.sqrt(Math.pow(F.get(0,0)-n.get(J,0),2)+Math.pow(F.get(1,0)-n.get(J,1),2)+Math.pow(F.get(2,0)-n.get(J,2),2))/U.get(J)<=100&&(Q=!1)}return{p:F.toArray(),distances:U.toArray(),reliability:Q}}function u(t,e,n){var r=Math.atan(n/h()(t,e));return{theta:a(t,e),beta:r}}function c(t){var e=t.map(function(t){return u(t.DirectionX,t.DirectionY,t.DirectionZ)}),n=t.map(function(t){return{coordinate:[t.PositionX,t.PositionY,t.PositionZ],stdDev:[t.StdX,t.StdY,t.StdZ],recordedAt:t.RecordedAt}}),a=r(n),c=i(a,e),f=o(a),h=s(e,c,a,f),d=h.reliability,p=l(e,a),m=p.reliability;return v({},h,e,{timeDiff:f,reliability:d&&m})}e.a=c;var f=n(70),h=n.n(f),d=n(4),p=n.n(d),m=n(125),g=(n.n(m),n(1352)),v=p.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return l});var r=n(125),i=(n.n(r),function(t){return 1/Math.tan(t)}),o=function(t,e){return Math.abs((t.getTime()-e.getTime())/1e3)},a=function(t){return t.reduce(function(t,e){return Math.max(Math.abs(t),Math.abs(e))})},s=function(t){return t*(Math.PI/180)},l=function(t){var e=[];if(t.length>=1){t[0].forEach(function(){e.push(0)}),t.forEach(function(t){for(var n=0;n<t.length;n++)e[n]+=t[n]});for(var n=0;n<e.length;n++)e[n]/=t.length}return e}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(4),d=n.n(h),p=n(346),m=d.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g={radius:8,fillColor:[0,255,0,0],strokeColor:[0,255,0,1],strokeWidth:2},v=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,e),i(this,(e.__proto__||s()(e)).call(this,m({},g,t)))}return o(e,t),e}(p.a);e.a=v},function(t,e,n){n(1355),t.exports=n(26).Number.isNaN},function(t,e,n){var r=n(39);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){"use strict";function r(t,e,n){var r=n.toLowerCase();e[r]=e[r]||[];var i={};h(t,i),e[r].push(i)}function i(t,e,n){var r=n.toLowerCase();e[r]={},h(t,e[r])}function o(t,e,n){if(!t.children||2!==t.children.length)throw new Error(n+" operator should have exactly two operands");var r=n.toLowerCase();e[r]=[],a(t.children[0],e,r),a(t.children[1],e,r)}function a(t,e,n){var i=n.toLowerCase(),o={},a=t.localName.toLowerCase();o[a]=[],r(t,o,a),e[i].push(o)}function s(t,e,n){e[n.toLowerCase()]=t.textContent}function l(t,e,n){e[n.toLowerCase()]=t.textContent.trim()}function u(t,e){var n=t.getElementsByTagName(e);return n.length?n.item(0).textContent:""}function c(t,e){var n=t.getElementsByTagName(e);return!!n.length&&Boolean(n.item(0).textContent)}function f(t){for(var e=t.textContent.trim(),n=t.childNodes,r=[],i=0,o=0;o<n.length;o++)if("ogc:PropertyName"===n[o].tagName){var a=n[o].textContent;r.push(a),e=e.replace(a,"{"+i+++"}")}return{text:e,propertyNames:r}}function h(t,e){for(var n=t.firstElementChild;n;n=n.nextElementSibling)p[n.localName]&&p[n.localName](n,e,n.localName)}function d(t){for(var e={},n=new DOMParser,r=n.parseFromString(t,"application/xml"),i=r.firstChild;i;i=i.nextSibling)e.version=i.getAttribute("version"),h(i,e);return e}e.a=d;var p={NamedLayer:function(t,e){e.layers=e.layers||[];var n={styles:[]};h(t,n),e.layers.push(n)},UserStyle:function(t,e){var n={default:c(t,"sld:IsDefault"),featuretypestyles:[]};h(t,n),e.styles.push(n)},FeatureTypeStyle:function(t,e){var n={featuretypename:u(t,"FeatureTypeName"),rules:[]};h(t,n),e.featuretypestyles.push(n)},Rule:function(t,e){var n={linesymbolizers:[]};h(t,n),e.rules.push(n)},Filter:function(t,e){e.filter={},h(t,e.filter)},ElseFilter:function(t,e){e.elsefilter=!0},Or:o,And:o,Not:i,PropertyIsEqualTo:r,PropertyIsNotEqualTo:r,PropertyIsLessThan:r,PropertyIsLessThanOrEqualTo:r,PropertyIsGreaterThan:r,PropertyIsGreaterThanOrEqualTo:r,PropertyIsBetween:i,PropertyName:function(t,e){e.propertyname=t.textContent},Literal:s,LowerBoundary:i,UpperBoundary:i,FeatureId:function(t,e){e.featureid=e.featureid||[],e.featureid.push(t.getAttribute("fid"))},Name:s,MaxScaleDenominator:l,PolygonSymbolizer:i,LineSymbolizer:function(t,e){var n={};h(t,n),e.linesymbolizers.push(n)},PointSymbolizer:i,TextSymbolizer:i,Rotation:l,Fill:i,Stroke:i,Mark:i,WellKnownName:l,Graphic:i,ExternalGraphic:i,Size:l,OnlineResource:function(t,e){e.onlineresource=t.getAttribute("xlink:href")},Format:l,CssParameter:function(t,e){e.css=e.css||[],e.css.push({name:t.getAttribute("name"),value:t.textContent.trim()})},Label:i,Font:i,Halo:i,Radius:l,LabelPlacement:i,PointPlacement:i,AnchorPoint:i,AnchorPointX:l,AnchorPointY:l,Displacement:i,DisplacementX:l,DisplacementY:l,VendorOption:function(t,e){var n=t.getAttribute("name");if("tooltipProperties"===n){var r=t.textContent.trim();e.tooltip=e.tooltip||[],e.tooltip.push(r)}else if("attributeInfo"===n){var i=t.textContent.trim();e.attributeInfo=e.attributeInfo||[],e.attributeInfo.push(i)}else"excludeFromCyclorama"===n?e.excludeFromCyclorama=!0:"excludeFromMap"===n?e.excludeFromMap=!0:"dynamicOnlineResource"===n?e.dynamicOnlineResource=f(t):"navigateToURLOnClick"===n&&(e.navigateToURLOnClick=f(t))}};p.UserLayer=p.NamedLayer,p.SvgParameter=p.CssParameter},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(18),d=n.n(h),p=n(150),m=function(t){var e=t.hFov,n=t.scale,r=e/2,i=Math.sin(r),o=Math.sqrt(1-i*i),a=i*o,s=n/Math.sqrt(a);return[[0,0],[s*i*2,0],[s*i,s*o],[0,0]]},g=function(t){function e(t){var n=t.hFov,o=t.yaw,a=t.color,l=t.scale,u=void 0===l?50:l;r(this,e);var c=m({hFov:n,scale:u}),f=[c[1][0]+.5,c[2][1]+.5],h=Object(p.a)(f),g=d.a.render.toContext(h,{size:f,pixelRatio:1});return g.setStyle(a.style),g.drawGeometry(new d.a.geom.Polygon([c])),i(this,(e.__proto__||s()(e)).call(this,{image:new d.a.style.Icon({img:h.canvas,rotation:o,anchor:[.5,1],imgSize:f,rotateWithView:!0})}))}return o(e,t),e}(d.a.style.Style);e.a=g},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(18),d=n.n(h),p=n(150),m=function(t){function e(t){var n=t.text,o=t.fontSize,a=void 0===o?10:o,l=t.textColor,u=void 0===l?"#333":l,c=t.fillColor,f=void 0===c?"#ffcc00":c,h=t.strokeColor,m=void 0===h?"#ff9900":h,g=t.strokeWidth,v=void 0===g?1:g,y=t.padding,b=void 0===y?3:y;r(this,e);var _="Arial "+a+"px bold",w=Object(p.a)(1,1);w.font=_;var x=w.measureText(n),E=x.width+2*(v+b),M=a+2*(v+b),S=[E,M];w=Object(p.a)(E,M);var T=d.a.render.toContext(w,{size:S,pixelRatio:1});return T.setStyle(new d.a.style.Style({fill:new d.a.style.Fill({color:f}),stroke:new d.a.style.Stroke({color:m,width:v})})),T.drawGeometry(new d.a.geom.Polygon([[[.5,.5],[.5,M-.5],[E-.5,M-.5],[E-.5,.5],[.5,.5]]])),i(this,(e.__proto__||s()(e)).call(this,{image:new d.a.style.Icon({img:w.canvas,imgSize:S}),text:new d.a.style.Text({text:n,font:_,fill:new d.a.style.Fill({color:u})})}))}return o(e,t),e}(d.a.style.Style);e.a=m},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(7),l=n.n(s),u=n(6),c=n.n(u),f=n(5),h=n.n(f),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(23),y=n.n(v),b=n(17),_=n.n(b),w=n(18),x=n.n(w),E=n(588),M=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=_()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(y()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),S=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),C=function(t){function e(t){var n=t.id,a=t.color,s=t.recording,u=r(t,["id","color","recording"]);i(this,e);var c=o(this,(e.__proto__||l()(e)).call(this,S({style:new E.a({fillColor:null,strokeColor:a})},u)));return c.setId("footprint_"+n),c.set("type","footprint"),c.set("recording",s),c.set("viewport",s.feature.get("footprint").clone()),c.set("footprintCentre",s.feature.get("footprintCentre").clone()),c.set("footprint",s.feature.get("footprint").clone()),c.setGeometryName("geometry"),c.setGeometry(new x.a.geom.GeometryCollection([c.get("footprint"),c.get("viewport")])),c}return a(e,t),T(e,[{key:"update",value:function(t){var e=t.center,n=t.size,r=t.resolution,i=void 0===r?1:r,o=t.rotation,a=t.recording,s=t.color,l=M(e,3),u=l[0],c=l[1],f=l[2],h=void 0===f?a.avgFootprintHeight:f,d=n[0]*i/2,p=n[1]*i/2,m=Math.cos(o),g=Math.sin(o),v=[[-d,-p],[-d,+p],[+d,+p],[+d,-p]].map(function(t){var e=M(t,2),n=e[0],r=e[1];return a.pixelToWorldVector(u+n*m-r*g,c+n*g+r*m,h,!1)});v.push(v[0]),this.get("viewport").setCoordinates([v],"XYZ"),s&&this.setStyle(new E.a({fillColor:null,strokeColor:s})),this.get("recording")!==a&&(this.set("recording",a),this.get("footprint").setCoordinates(a.feature.get("footprint").getCoordinates(),"XYZ"),this.get("footprintCentre").setCoordinates(a.feature.get("footprintCentre").getCoordinates(),"XYZ")),this.changed()}},{key:"updateFromMap",value:function(t){var e=t.getView();this.update({center:e.getCenter(),size:t.getSize(),resolution:e.getResolution(),rotation:e.getRotation()})}}]),e}(x.a.Feature);e.a=C},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return p()(t)}function o(){return{fill:new x.a.style.Fill({color:F.text.color}),stroke:new x.a.style.Stroke({color:F.text.outlineColor,width:F.text.outlineWidth})}}function a(t,e,n,r){var i=void 0;return t&&t.value&&e===S.b.POLYGON&&(i=new x.a.style.Text(D({text:Object(C.c)(t.value,n)+" "+Object(C.b)(O.a[r+"2"])},o()))),new x.a.style.Style({fill:new x.a.style.Fill({color:F.geometry.fillColor}),text:i,stroke:new x.a.style.Stroke({color:F.geometry.strokeColor,width:F.geometry.strokeWidth})})}function s(t,e){return new x.a.style.Style({geometry:new x.a.geom.Point(t),image:new R.a,text:new x.a.style.Text(D({text:""+e,scale:1.2,offsetX:10,offsetY:-10},o()))})}function l(t,e){return new x.a.style.Style({geometry:new x.a.geom.LineString(t),text:new x.a.style.Text(D({text:e},o()))})}function u(t,e,n,r){var i=Object(T.d)(t[0],t[1]),a=new x.a.style.Stroke({color:F.geometry.strokeColor,width:F.geometry.strokeWidth}),s=.5*E.vec2.distance(t[0],t[1]),l=void 0;return e&&e.value&&(l=new x.a.style.Text(D({},o(),{text:Object(C.c)(e.value,n)+" "+Object(C.b)(O.a[r+"2"]),offsetX:10,offsetY:10}))),new x.a.style.Style({geometry:new x.a.geom.Circle(i,s),stroke:a,fill:new x.a.style.Fill({color:F.geometry.fillColor}),text:l})}function c(t,e,n,r){var i=M.e.lightGray;return t&&(i=M.g[M.c[r]],e.recordingId===n&&(i=[e.color[0],e.color[1],e.color[2]])),i}function f(t,e,n,r){var i=e.PositionX,o=e.PositionY,a=e.PositionZ,s=N()(n,r,[i,o,a]),l="?"===Object(A.n)(n).xyUnits?"m":Object(A.n)(n).xyUnits,u=void 0,c=void 0,f=void 0;if([t[0],t[1],t[2]].includes(null)){var h=Object(A.h)(A.d.METERS,l,150);u=s[0]+h*e.DirectionX,c=s[1]+h*e.DirectionY,f=s[2]+h*e.DirectionZ}else{var d=Object(A.h)(A.d.METERS,l,2);u=t[0]+(t[0]-s[0])/d,c=t[1]+(t[1]-s[1])/d,f=t[2]+(t[2]-s[2])/d}return[[u,c,f],s]}function h(t,e,n,r,i,o){for(var a=[],s=0;s<e.length;s++){var l=c(o,n,e[s].Id,Object(P.f)(s,0,M.c.length)),u=f(t,e[s],i,r);a.push(new x.a.style.Style({geometry:new x.a.geom.LineString(u),stroke:new x.a.style.Stroke({color:l,width:F.geometry.strokeWidth})}))}return a}var d=n(30),p=n.n(d),m=n(4),g=n.n(m),v=n(1),y=n.n(v),b=n(20),_=n.n(b),w=n(18),x=n.n(w),E=n(49),M=(n.n(E),n(110)),S=n(92),T=n(88),C=n(71),O=n(217),A=n(41),I=n(48),R=n(1362),P=n(33),L=n(69),N=n.n(L),k=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),y()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),D=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F={geometry:{fillColor:[].concat(i(M.e.orange),[.5]),strokeColor:M.e.orange,strokeWidth:2},text:{color:[255,255,255,1],outlineColor:[0,0,0,1],outlineWidth:4}},j=function(){function t(){r(this,t)}return k(t,null,[{key:"getFeatureStyle",value:function(t){var e=t.getGeometry(),n=e.getType(),r=Object(S.l)(n,e.getCoordinates()),o=t.getProperties(),c=o.observationLines,f=o.featureProjection,d=o.preciseCRS,p=o.measureDetails,m=o.customGeometryType,g=o.derivedData,v=g.segmentLengths,y=g.unit,b=g.precision,w=g.area,x={minimumFractionDigits:b,maximumFractionDigits:b},E=[];n!==S.b.POINT&&r.length>1&&E.push(a(w,n,x,y)),m&&m===S.a.CIRCLE&&2===r.length&&E.push(u(r,w,x,y));var M=r.filter(function(t,e){if(!t.includes(null)){if(n===S.b.POLYGON&&r.length===e+1||E.push(s(t,e+1)),v&&v.value[e]){var o=Object(C.c)(v.value[e],x)+" "+y;m===S.a.ORTHOGONAL&&e<v.value.length-1&&(o=null),null!==o&&E.push(l([t,r[e+1]],o))}}if(p&&p[e]&&(p[e].measureMethod===I.MeasureMethod.FORWARD_INTERSECTION||p[e].measureMethod===I.MeasureMethod.SMART_CLICK)&&c){var a=c.activeObservation===e;(a||c.selectedMeasureMethod===I.MeasureMethod.FORWARD_INTERSECTION)&&E.push.apply(E,i(h(t,p[e].details.ResultDirections.ResultDirection,c,f,d,a)))}return!t.includes(null)});if(p&&p[0]&&M.length<1){var T=p[0].details.ResultDirections.ResultDirection[0],O=T.PositionX,A=T.PositionY,R=T.PositionZ,P=N()(d,f,[O,A,R]);M.push(P),e.extent_=[P[0],P[1],P[0],P[1]]}n===S.b.POLYGON&&r[0].includes(null)&&M.push(M[0]),e.flatCoordinates=_.a.flatten(M),t.setStyle(E)}}]),t}();e.a=j},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return u()(t)}function i(t,e,n){return e in t?s()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"b",function(){return F}),n.d(e,"e",function(){return B}),n.d(e,"h",function(){return V}),n.d(e,"d",function(){return G}),n.d(e,"c",function(){return H}),n.d(e,"a",function(){return q}),n.d(e,"g",function(){return W}),n.d(e,"f",function(){return Y});var o,a=n(1),s=n.n(a),l=n(30),u=n.n(l),c=n(4),f=n.n(c),h=n(20),d=n.n(h),p=n(102),m=n.n(p),g=n(69),v=n.n(g),y=n(145),b=n(590),_=n(577),w=n(41),x=n(88),E=(n(48),f.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),M=(o={},i(o,y.a.CIRCLE,y.b.LINESTRING),i(o,y.a.ORTHOGONAL,y.b.LINESTRING),i(o,y.a.HEIGHT,y.b.LINESTRING),o),S=function(t){return t.slice(0,-1)},T=function(t){return 0===t.length?t:[].concat(r(t),[t[0]])},C=function(t,e,n){var i=S(t);return i.splice(n,0,[].concat(r(e))),T(i)},O=function(t,e){var n=S(t),r=Object(b.a)(n,e,1);return T(r)},A=function(t,e){return v()(e,"WGS84",t)},I=function(t,e,n,i){var o=t.geometry,a=t.properties;o.coordinates=[].concat(r(e)),a.preciseGeometry.coordinates=[].concat(r(n)),a.measureDetails=[E({},i)]},R=function(t,e){var n=e.geometry,i=e.properties,o=void 0,a=void 0;t[0].includes(null)||t[1].includes(null)||!t[3]||t[3].includes(null)?(o=[null,null,null],a=[null,null,null]):(o=Object(x.h)(t[0],t[1],t[3]),a=A([].concat(r(o)),e.properties.preciseCRS)),t.length>2&&(n.coordinates[2]=[].concat(r(a)),i.preciseGeometry.coordinates[2]=[].concat(r(o)),i.measureDetails[2]={})},P=function(t,e,n,i,o){var a=t.geometry,s=t.properties;s.customGeometryType===y.a.CIRCLE&&2===a.coordinates.length?(a.coordinates[1]=[].concat(r(e)),s.preciseGeometry.coordinates[1]=[].concat(r(n)),s.measureDetails[1]=i&&E({},i)||{}):s.customGeometryType===y.a.ORTHOGONAL&&a.coordinates.length>=2?(s.preciseGeometry.coordinates[3]=[].concat(r(n)),R(s.preciseGeometry.coordinates,t),a.coordinates[3]=[].concat(r(e)),s.measureDetails[3]=i&&E({},i)||{}):s.customGeometryType===y.a.HEIGHT&&2===a.coordinates.length?(a.coordinates[1]=[].concat(r(e)),s.preciseGeometry.coordinates[1]=[].concat(r(n)),s.measureDetails[1]=i&&E({},i)||{}):(a.coordinates.splice(o,0,[].concat(r(e))),s.preciseGeometry.coordinates.splice(o,0,[].concat(r(n))),s.measureDetails.splice(o,0,E({},i)))},L=function(t,e,n,r,i){var o=t.geometry,a=t.properties;o.coordinates[0]=C(o.coordinates[0],e,i),a.preciseGeometry.coordinates[0]=C(a.preciseGeometry.coordinates[0],n,i),a.measureDetails.splice(i,0,E({},r))},N=function(t,e,n){var i=t.geometry,o=t.properties;i.coordinates=[].concat(r(e)),o.preciseGeometry.coordinates=[].concat(r(n))},k=function(t,e,n,r){var i=t.geometry,o=t.properties;i.coordinates[r]=e,o.preciseGeometry.coordinates[r]=n,o.customGeometryType===y.a.ORTHOGONAL&&i.coordinates.length>=2&&R(o.preciseGeometry.coordinates,t)},D=function(t,e,n,r){var i=t.geometry,o=t.properties;if(0===r){var a=i.coordinates[0].length-1;i.coordinates[0][a]=e,o.preciseGeometry.coordinates[0][a]=n}i.coordinates[0][r]=e,o.preciseGeometry.coordinates[0][r]=n},F=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3],o=d.a.cloneDeep(t),a=t.properties.preciseCRS,s=Object(_.a)(e,a,n.measureDetails),l=A([].concat(r(e)),a);switch(t.geometry.type){case y.b.POINT:I(o,l,e,s);break;case y.b.LINESTRING:P(o,l,e,s,i);break;case y.b.POLYGON:L(o,l,e,s,i)}return Object(_.b)(o)},j=function(t){var e=t.geometry,n=t.properties;e.coordinates=null,n.preciseGeometry.coordinates=null,n.measureDetails=[]},U=function(t,e){var n=t.geometry,r=t.properties;if(r.customGeometryType===y.a.HEIGHT||r.customGeometryType===y.a.ORTHOGONAL){var i=Math.min(e,2),o=n.coordinates.length-i;n.coordinates=Object(b.a)(n.coordinates,i,o),r.preciseGeometry.coordinates=Object(b.a)(r.preciseGeometry.coordinates,i,o),r.measureDetails=Object(b.a)(r.measureDetails,i,o)}else n.coordinates=Object(b.a)(n.coordinates,e,1),r.preciseGeometry.coordinates=Object(b.a)(r.preciseGeometry.coordinates,e,1),r.measureDetails=Object(b.a)(r.measureDetails,e,1)},z=function(t,e){var n=t.geometry,r=t.properties;n.coordinates[0]=O(n.coordinates[0],e),r.preciseGeometry.coordinates[0]=O(r.preciseGeometry.coordinates[0],e),r.measureDetails=Object(b.a)(r.measureDetails,e,1)},B=function(t,e){var n=d.a.cloneDeep(t);switch(t.geometry.type){case y.b.POINT:j(n);break;case y.b.LINESTRING:U(n,e);break;case y.b.POLYGON:z(n,e)}return Object(_.b)(n)},V=function(t,e,n,i){var o=d.a.cloneDeep(t),a=t.properties.preciseCRS,s=Object(_.a)(e,a,n.measureDetails);o.properties.measureDetails[i]=s;var l=A([].concat(r(e)),a);switch(t.geometry.type){case y.b.POINT:N(o,l,e);break;case y.b.LINESTRING:k(o,l,e,i);break;case y.b.POLYGON:D(o,l,e,i)}return Object(_.b)(o)},G=function(t){var e=void 0,n=t.preciseCRS,r=t.dimension,i=t.type,o=M[i]||i;switch(o){case y.b.POINT:e=null;break;case y.b.LINESTRING:e=[];break;case y.b.POLYGON:e=[[]]}var a=o+"-feature-"+m()();return Object(_.b)({type:"Feature",geometry:{type:o,coordinates:d.a.cloneDeep(e)},properties:{id:a,name:a,group:"active-measurements",measureDetails:[],preciseGeometry:{type:o,coordinates:d.a.cloneDeep(e)},preciseCRS:n,dimension:r,customGeometryType:o!==i?i:void 0}})},H=function(t){var e={type:"FeatureCollection",features:[]};return t&&(e.crs=Object(w.k)(t)),e},q=function(t,e){return t.features.push(e),t},W=function(t,e,n){return t.features[n]=e,t},Y=function(t){var e=t.properties.preciseCRS,n=d.a.cloneDeep(t.properties.preciseGeometry),r=d.a.cloneDeep(t);r.geometry=n,delete r.properties.preciseCRS,delete r.properties.preciseGeometry;var i=H(e);return q(i,r),i}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(18),d=n.n(h),p=n(150),m=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.color,o=void 0===n?"#000000":n;r(this,e);var a=[9,9],l=Object(p.a)(a),u=d.a.render.toContext(l,{size:a,pixelRatio:1});return u.setStyle(new d.a.style.Style({stroke:new d.a.style.Stroke({color:o,width:2})})),u.drawGeometry(new d.a.geom.MultiLineString([[[4.5,.5],[4.5,2.5]],[[4.5,6.5],[4.5,8.5]],[[.5,4.5],[2.5,4.5]],[[6.5,4.5],[8.5,4.5]]])),i(this,(e.__proto__||s()(e)).call(this,{img:l.canvas,imgSize:a}))}return o(e,t),e}(d.a.style.Icon);e.a=m},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return y()(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=g()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(p.a?p()(t,e):t.__proto__=e)}function s(t,e,n){return e in t?_()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l,u=n(70),c=n.n(u),f=n(7),h=n.n(f),d=n(6),p=n.n(d),m=n(5),g=n.n(m),v=n(30),y=n.n(v),b=n(1),_=n.n(b),w=n(4),x=n.n(w),E=n(3),M=n.n(E),S=n(0),T=n.n(S),C=n(48),O=n(380),A=n(110),I=n(62),R=n(92),P=n(381),L=n(24),N=(n.n(L),n(79)),k=n(597),D=n(91),F=n(15),j=(n.n(F),n(20)),U=(n.n(j),x.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),z=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),_()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),B=(l={},s(l,C.MeasureMethod.SMART_CLICK,I.b.SmartClickSmall),s(l,C.MeasureMethod.DEPTH_MAP,I.b.DepthMapSmall),s(l,C.MeasureMethod.FORWARD_INTERSECTION,I.b.ManualMeasurementSmall),l),V=Object(F.defineMessages)({addObservation:{id:"observationHints.addObservation",defaultMessage:"Click to add an observation"},changeObservation:{id:"observationHints.changeObservation",defaultMessage:"Click to change the observation"}}),G=function(t){function e(){return i(this,e),o(this,(e.__proto__||h()(e)).apply(this,arguments))}return a(e,t),z(e,[{key:"observations",value:function(){var t=this.props.pointData;return t&&t.measureMethod&&[C.MeasureMethod.SMART_CLICK,C.MeasureMethod.FORWARD_INTERSECTION].includes(t.measureMethod)&&t.details&&t.details.ResultDirections.ResultDirection}},{key:"renderInlineHint",value:function(){var t=this.props,e=t.currentRecording;return t.pointData.measureMethod!==C.MeasureMethod.FORWARD_INTERSECTION?null:this.observations().map(function(t){return t.Id}).includes(e)?null:T.a.createElement(k.a,null,T.a.createElement(F.FormattedMessage,V.addObservation))}},{key:"renderInsertHint",value:function(){var t=this.props.cancelInsertPointToMeasurement;return T.a.createElement(k.b,{insert:!0,buttons:T.a.createElement(N.a,U({placement:"top"},D.a.cancelMeasurementPoint),T.a.createElement(L.Button,{onClick:function(e){e.stopPropagation(),t()}},T.a.createElement(I.b.Close,null)))})}},{key:"render",value:function(){var t=this,e=this.props,n=e.index,i=e.pointData,o=e.coordinateStdevs,a=e.lastItem,s=e.actions,l=e.temporary,u=e.measurements,f=e.viewObservation,h=e.onDeletePoint,d=e.renderTooltipData,p=e.insertPointToMeasurement,m=e.renderPointMeasureErrors,g=e.currentRecording,v=void 0,y=void 0,b=void 0,_=void 0,w=void 0,x=void 0;if(i){if(v=i.measureMethod,i.details){var E=i.details,M=E.PositionX,S=E.PositionY,C=E.PositionZ;x=[M,S,C]}y=this.observations(),b=Object(O.b)(i.pointReliability),o&&(_=c()(o[0],o[1]).toFixed(2),w=o[2].toFixed(2))}else v=void 0,y=null;if(i&&i.type&&"insert"===i.type)return this.renderInsertHint();var k=B[v],F=u.activeMeasurement.properties.customGeometryType,z=u.activeMeasurement.geometry.type,V=!1,G=[];if(y)for(var H=!1,q=0;q<3;q++){(function(e){var i=[].concat(r(A.g[A.c[e]]),[.5]);if(y[e]&&g===y[e].Id&&(V=!0,i=t.props.color),H)return G.push(T.a.createElement("div",{key:e,className:"flexItem"},T.a.createElement("div",{className:"relative"}))),"continue";G.push(T.a.createElement("div",{key:e,className:"flexItem"},y[e]?T.a.createElement("div",{className:"relative observation-item",role:"button",onClick:function(){return f(x,y[e])}},T.a.createElement("div",{className:"observation-image-overlay"},T.a.createElement(N.a,U({placement:"left"},D.a.removeObservation),T.a.createElement(L.Button,{onClick:function(t){t.stopPropagation(),s.removeObservation(n,e)}},T.a.createElement(I.b.Delete,null)))),T.a.createElement(P.a,{color:i}),T.a.createElement("div",{className:"observation-image-crosshair"}),T.a.createElement("div",{className:g===y[e].Id?"observation-image-highlight":"",style:{borderColor:"rgba("+i.join(",")+")"}}),T.a.createElement(L.Image,{className:"observation-image",src:"data:image/jpeg;base64,"+y[e].MatchImage})):T.a.createElement("div",{className:"relative"},!V&&T.a.createElement(P.a,{color:t.props.color}),T.a.createElement("div",{className:V?"":"observation-image-highlight",style:{borderColor:"rgba("+t.props.color.join(",")+")"}}),T.a.createElement(I.b.QuestionMark,{className:"observation-image"})))),y[e]||(H=!0)})(q)}var W=null,Y=void 0;l||(W=d(n),Y={id:"tooltip.measurementDerivedData",defaultMessage:W});var X=!1;l&&u[n+1]&&u[n+1].type&&(X="insert"===u[n+1].type);var Z=Object(j.pick)(this.props,"eventKey","expanded","collapsible","headerRole","panelRole","onSelect");return T.a.createElement(L.Panel,U({key:"point-"+n},Z,{className:"measurement-point-panel",header:T.a.createElement("div",{className:"measurement-point-panel-header flexRow"},n!==a&&!1===X&&!l&&W&&T.a.createElement(N.a,U({placement:"left"},Y,{formatted:!0}),T.a.createElement("div",{className:"measurement-delta-between-points"})),T.a.createElement("div",{className:"measurement-point-number"},n+1),T.a.createElement("div",{className:"flexItem measurement-point-name"},i&&o&&T.a.createElement("span",null,"(Ïƒ",T.a.createElement("sub",null,"XY"),": ",_,", Ïƒ",T.a.createElement("sub",null,"Z"),":",w,")"),k&&T.a.createElement(k,null)),T.a.createElement("div",{className:"flexItem measurement-point-actions"},T.a.createElement(N.a,U({placement:"left"},D.a.wrongMeasurementPoint),T.a.createElement(L.Button,null,b)),i&&T.a.createElement(N.a,U({placement:"top"},D.a.removeMeasurementPoint),T.a.createElement(L.Button,{onClick:function(t){return h(t,n)}},T.a.createElement(I.b.Delete,null))),i&&n!==a&&"Circle"!==F&&"Point"!==z&&T.a.createElement(N.a,U({placement:"left"},D.a.insertAbove),T.a.createElement(L.Button,{disabled:l,onClick:function(t){t.stopPropagation(),p(n),s.setInsertPointIndex(n)}},T.a.createElement(I.b.AddRowUp,null)))))}),i&&i.pointReliability!==R.f.GOOD&&m(i.pointProblems),G&&G.length>1&&T.a.createElement("div",{key:"observations",className:"measurement-point-observations flexRow"},G),this.renderInlineHint())}}]),e}(S.Component);G.propTypes={index:M.a.number.isRequired,pointData:M.a.object.isRequired,coordinateStdevs:M.a.object,lastItem:M.a.number.isRequired,temporary:M.a.bool.isRequired,viewObservation:M.a.func.isRequired,renderTooltipData:M.a.func.isRequired,cancelInsertPointToMeasurement:M.a.func.isRequired,renderPointMeasureErrors:M.a.func.isRequired,insertPointToMeasurement:M.a.func.isRequired,onDeletePoint:M.a.func.isRequired,actions:M.a.any,currentRecording:M.a.any,measurements:M.a.any,color:M.a.any},e.a=G},function(t,e,n){"use strict";(function(t){function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function i(t){return t.replace(b,"-$1").toLowerCase()}function o(t){return w(t).replace(x,"-ms-")}function a(t){return"function"==typeof t&&"string"==typeof t.styledComponentId}function s(){}function l(t){return"string"==typeof t}function u(t){return t.displayName||t.name||"Component"}function c(t){return t.replace(Ot,"-").replace(At,"")}function f(t){for(var e,n=0|t.length,r=0|n,i=0;n>=4;)e=255&t.charCodeAt(i)|(255&t.charCodeAt(++i))<<8|(255&t.charCodeAt(++i))<<16|(255&t.charCodeAt(++i))<<24,e=1540483477*(65535&e)+((1540483477*(e>>>16)&65535)<<16),e^=e>>>24,e=1540483477*(65535&e)+((1540483477*(e>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^e,n-=4,++i;switch(n){case 3:r^=(255&t.charCodeAt(i+2))<<16;case 2:r^=(255&t.charCodeAt(i+1))<<8;case 1:r^=255&t.charCodeAt(i),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)}return r^=r>>>13,r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0}Object.defineProperty(e,"__esModule",{value:!0});var h=r(n(1365)),d=r(n(1367)),p=r(n(1368)),m=n(0),g=r(m),v=r(n(3)),y=r(n(1369)),b=/([A-Z])/g,_=i,w=_,x=/^ms-/,E=o,M=function t(e,n){var r=Object.keys(e).filter(function(t){var n=e[t];return void 0!==n&&null!==n&&!1!==n&&""!==n}).map(function(n){return h(e[n])?t(e[n],n):E(n)+": "+e[n]+";"}).join(" ");return n?n+" {\n  "+r+"\n}":r},S=function t(e,n){return e.reduce(function(e,r){return void 0===r||null===r||!1===r||""===r?e:Array.isArray(r)?[].concat(e,t(r,n)):r.hasOwnProperty("styledComponentId")?[].concat(e,["."+r.styledComponentId]):"function"==typeof r?n?e.concat.apply(e,t([r(n)],n)):e.concat(r):e.concat(h(r)?M(r):r.toString())},[])},T=new d({global:!1,cascade:!1,keyframe:!1,prefix:!1,compress:!1,semicolon:!0}),C=new d({global:!1,cascade:!0,keyframe:!1,prefix:!0,compress:!1,semicolon:!1}),O=[],A=function(t){if(-2===t){var e=O;return O=[],e}},I=p(function(t){O.push(t)});C.use([I,A]),T.use([I,A]);var R=function(t,e,n){var r=t.join("").replace(/^\s*\/\/.*$/gm,""),i=e&&n?n+" "+e+" { "+r+" }":r;return C(n||!e?"":e,i)},P=function(t){return T("",t)},L=function(t){return String.fromCharCode(t+(t>25?39:97))},N=function(t){var e="",n=void 0;for(n=t;n>52;n=Math.floor(n/52))e=L(n%52)+e;return L(n%52)+e},k=function(t,e){return e.reduce(function(e,n,r){return e.concat(n,t[r+1])},[t[0]])},D=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return S(k(t,n))},F="data-styled-components",j="__styled-components-stylesheet__",U="undefined"!=typeof window,z=/^[^\S\n]*?\/\* sc-component-id:\s*(\S+)\s+\*\//gm,B=function(t){var e=""+(t||""),n=[];return e.replace(z,function(t,e,r){return n.push({componentId:e,matchIndex:r}),t}),n.map(function(t,r){var i=t.componentId,o=t.matchIndex,a=n[r+1];return{componentId:i,cssFromDOM:a?e.slice(o,a.matchIndex):e.slice(o)}})},V=function(){return n.nc},G=function(t){var e=!1;return function(){e||(e=!0,t())}},H=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},q=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),W=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},X=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Z=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},K=function(t,e,n){if(n){(t[e]||(t[e]=Object.create(null)))[n]=!0}},Q=function(t,e){t[e]=Object.create(null)},J=function(t){return function(e,n){return void 0!==t[e]&&t[e][n]}},$=function(t){var e="";for(var n in t)e+=Object.keys(t[n]).join(" ")+" ";return e.trim()},tt=function(t){var e=Object.create(null);for(var n in t)e[n]=W({},t[n]);return e},et=function(t){if(t.sheet)return t.sheet;for(var e=document.styleSheets.length,n=0;n<e;n+=1){var r=document.styleSheets[n];if(r.ownerNode===t)return r}throw new Error},nt=function(t,e,n){if(!e)return!1;var r=t.cssRules.length;try{t.insertRule(e,n<=r?n:r)}catch(t){return!1}return!0},rt=function(t,e,n){for(var r=e-n,i=e;i>=r;i-=1)t.deleteRule(i)},it=function(){throw new Error("")},ot=function(t){return"\n/* sc-component-id: "+t+" */\n"},at=function(t,e){for(var n=0,r=0;r<=e;r+=1)n+=t[r];return n},st=function(t,e,n){var r=document.createElement("style");r.setAttribute(F,"");var i=V();if(i&&r.setAttribute("nonce",i),r.appendChild(document.createTextNode("")),t&&!e)t.appendChild(r);else{if(!e||!t||!e.parentNode)throw new Error("");e.parentNode.insertBefore(r,n?e:e.nextSibling)}return r},lt=function(t,e){return function(n){var r=V();return"<style "+[r&&'nonce="'+r+'"',F+'="'+$(e)+'"',n].filter(Boolean).join(" ")+">"+t()+"</style>"}},ut=function(t,e){return function(){var n,r=(n={},n[F]=$(e),n),i=V();return i&&(r.nonce=i),g.createElement("style",W({},r,{dangerouslySetInnerHTML:{__html:t()}}))}},ct=function(t){return function(){return Object.keys(t)}},ft=function(t,e){var n=Object.create(null),r=Object.create(null),i=[],o=void 0!==e,a=!1,s=function(t){var e=r[t];if(void 0!==e)return e;var o=r[t]=i.length;return i.push(0),Q(n,t),o},l=function(r,l,u){for(var c=s(r),f=et(t),h=at(i,c),d=0,p=[],m=l.length,g=0;g<m;g+=1){var v=l[g],y=o;y&&-1!==v.indexOf("@import")?p.push(v):nt(f,v,h+d)&&(y=!1,d+=1)}o&&p.length>0&&(a=!0,e().insertRules(r+"-import",p)),i[c]+=d,K(n,r,u)},u=function(s){var l=r[s];if(void 0!==l){var u=i[l],c=et(t),f=at(i,l);rt(c,f,u),i[l]=0,Q(n,s),o&&a&&e().removeRules(s+"-import")}},c=function(){var e=et(t),n=e.cssRules,i="",o=0;for(var a in r){i+=ot(a);for(var s=r[a]+o;o<s;o+=1)i+=n[o].cssText}return i};return{styleTag:t,getIds:ct(r),hasNameForId:J(n),insertMarker:s,insertRules:l,removeRules:u,css:c,toHTML:lt(c,n),toElement:ut(c,n),clone:it}},ht=function(){var t=Object.create(null),e=Object.create(null),n=function(t){var n=e[t];return void 0!==n?n:e[t]=[""]},r=function(e,r,i){n(e)[0]+=r.join(" "),K(t,e,i)},i=function(n){var r=e[n];void 0!==r&&(r[0]="",Q(t,n))},o=function(){var t="";for(var n in e){var r=e[n][0];r&&(t+=ot(n)+r)}return t},a={styleTag:null,getIds:ct(e),hasNameForId:J(t),insertMarker:n,insertRules:r,removeRules:i,css:o,toHTML:lt(o,t),toElement:ut(o,t),clone:function(){return W({},a,{names:tt(t),markers:W({},e)})}};return a},dt=function(t,e,n,r,i){if(U&&!n){var o=st(t,e,r);return ft(o,i)}return ht()},pt=function(t,e,n,r,i){var o=G(function(){for(var r=0;r<n.length;r+=1){var i=n[r],o=i.componentId,a=i.cssFromDOM,s=P(a);t.insertRules(o,s)}for(var l=0;l<e.length;l+=1){var u=e[l];u.parentNode&&u.parentNode.removeChild(u)}});return i&&o(),W({},t,{insertMarker:function(e){return o(),t.insertMarker(e)},insertRules:function(e,n,r){return o(),t.insertRules(e,n,r)}})},mt=void 0;mt=U?1e3:-1;var gt,vt=0,yt=void 0,bt=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U?document.head:null,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];H(this,t),this.getImportRuleTag=function(){var t=e.importRuleTag;if(void 0!==t)return t;var n=e.tags[0];return e.importRuleTag=dt(e.target,n?n.styleTag:null,e.forceServer,!0)},this.id=vt+=1,this.sealed=!1,this.forceServer=r,this.target=r?null:n,this.tagMap={},this.deferred={},this.rehydratedNames={},this.ignoreRehydratedNames={},this.tags=[],this.capacity=1,this.clones=[]}return t.prototype.rehydrate=function(){if(!U||this.forceServer)return this;var t=[],e=[],n=[],r=!1,i=document.querySelectorAll("style["+F+"]"),o=i.length;if(0===o)return this;for(var a=0;a<o;a+=1){var s=i[a];r=!!s.getAttribute("data-styled-streamed")||r;for(var l=(s.getAttribute(F)||"").trim().split(/\s+/),u=l.length,c=0;c<u;c+=1){var f=l[c];this.rehydratedNames[f]=!0,e.push(f)}n=n.concat(B(s.textContent)),t.push(s)}var h=n.length;if(0===h)return this;var d=this.makeTag(null),p=pt(d,t,n,0,r);this.capacity=Math.max(1,mt-h),this.tags.push(p);for(var m=0;m<h;m+=1)this.tagMap[n[m].componentId]=p;return this},t.reset=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];yt=new t(void 0,e).rehydrate()},t.prototype.clone=function(){var e=new t(this.target,this.forceServer);return this.clones.push(e),e.tags=this.tags.map(function(t){for(var n=t.getIds(),r=t.clone(),i=0;i<n.length;i+=1)e.tagMap[n[i]]=r;return r}),e.rehydratedNames=W({},this.rehydratedNames),e.deferred=W({},this.deferred),e},t.prototype.sealAllTags=function(){this.capacity=1,this.sealed=!0},t.prototype.makeTag=function(t){var e=t?t.styleTag:null;return dt(this.target,e,this.forceServer,!1,this.getImportRuleTag)},t.prototype.getTagForId=function(t){var e=this.tagMap[t];if(void 0!==e&&!this.sealed)return e;var n=this.tags[this.tags.length-1];return this.capacity-=1,0===this.capacity&&(this.capacity=mt,this.sealed=!1,n=this.makeTag(n),this.tags.push(n)),this.tagMap[t]=n},t.prototype.hasId=function(t){return void 0!==this.tagMap[t]},t.prototype.hasNameForId=function(t,e){if(void 0===this.ignoreRehydratedNames[t]&&this.rehydratedNames[e])return!0;var n=this.tagMap[t];return void 0!==n&&n.hasNameForId(t,e)},t.prototype.deferredInject=function(t,e){if(void 0===this.tagMap[t]){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].deferredInject(t,e);this.getTagForId(t).insertMarker(t),this.deferred[t]=e}},t.prototype.inject=function(t,e,n){for(var r=this.clones,i=0;i<r.length;i+=1)r[i].inject(t,e,n);var o=e,a=this.deferred[t];void 0!==a&&(o=a.concat(o),delete this.deferred[t]),this.getTagForId(t).insertRules(t,o,n)},t.prototype.remove=function(t){var e=this.tagMap[t];if(void 0!==e){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].remove(t);e.removeRules(t),this.ignoreRehydratedNames[t]=!0,delete this.deferred[t]}},t.prototype.toHTML=function(){return this.tags.map(function(t){return t.toHTML()}).join("")},t.prototype.toReactElements=function(){var t=this.id;return this.tags.map(function(e,n){var r="sc-"+t+"-"+n;return m.cloneElement(e.toElement(),{key:r})})},q(t,null,[{key:"master",get:function(){return yt||(yt=(new t).rehydrate())}},{key:"instance",get:function(){return t.master}}]),t}(),_t=function(t){function e(){return H(this,e),Z(this,t.apply(this,arguments))}return Y(e,t),e.prototype.getChildContext=function(){var t;return t={},t[j]=this.sheetInstance,t},e.prototype.componentWillMount=function(){if(this.props.sheet)this.sheetInstance=this.props.sheet;else{if(!this.props.target)throw new Error("");this.sheetInstance=new bt(this.props.target)}},e.prototype.render=function(){return g.Children.only(this.props.children)},e}(m.Component);_t.childContextTypes=(gt={},gt[j]=v.oneOfType([v.instanceOf(bt),v.instanceOf(Et)]).isRequired,gt);var wt,xt,Et=function(){function t(){H(this,t),this.instance=bt.master.clone(),this.closed=!1}return t.prototype.collectStyles=function(t){if(this.closed)throw new Error("");return g.createElement(_t,{sheet:this.instance},t)},t.prototype.getStyleTags=function(){return this.closed||(this.closed=!0),this.instance.toHTML()},t.prototype.getStyleElement=function(){return this.closed||(this.closed=!0),this.instance.toReactElements()},t.prototype.interleaveWithNodeStream=function(t){throw new Error("")},t}(),Mt=/^((?:s(?:uppressContentEditableWarn|croll|pac)|(?:shape|image|text)Render|(?:letter|word)Spac|vHang|hang)ing|(?:on(?:AnimationIteration|C(?:o(?:mposition(?:Update|Start|End)|ntextMenu|py)|anPlayThrough|anPlay|hange|lick|ut)|(?:(?:Duration|Volume|Rate)Chang|(?:MouseLea|(?:Touch|Mouse)Mo|DragLea)v|Paus)e|Loaded(?:Metad|D)ata|(?:Animation|Touch|Load|Drag)Start|(?:(?:T(?:ransition|ouch)|Animation)E|Suspe)nd|DoubleClick|(?:TouchCanc|Whe)el|(?:Mouse(?:Ent|Ov)e|Drag(?:Ent|Ov)e|Erro)r|TimeUpdate|(?:E(?:n(?:crypt|d)|mpti)|S(?:tall|eek))ed|MouseDown|P(?:rogress|laying)|(?:MouseOu|DragExi|S(?:elec|ubmi)|Rese|Inpu)t|KeyPress|DragEnd|Key(?:Down|Up)|(?:Wait|Seek)ing|(?:MouseU|Dro)p|Scroll|Paste|Focus|Abort|Drag|Play|Load|Blur)Captur|alignmentBaselin|(?:limitingConeAng|xlink(?:(?:Arcr|R)o|Tit)|s(?:urfaceSca|ty|ca)|unselectab|baseProfi|fontSty|(?:focus|dragg)ab|multip|profi|tit)l|d(?:ominantBaselin|efaultValu)|a(?:uto(?:Capitaliz|Revers|Sav)|dditiv)|(?:(?:formNoValid|xlinkActu|noValid|accumul|rot)a|autoComple|decelera)t|(?:(?:attribute|item)T|datat)yp|(?:attribute|glyph)Nam|playsInlin|(?:formE|e)ncTyp|(?:writing|input|edge)Mod|(?:xlinkTy|itemSco|keyTy|slo)p|(?:amplitu|mo)d|(?:xmlSpa|non)c|fillRul|(?:dateTi|na)m|r(?:esourc|ol)|xmlBas|wmod)e|(?:glyphOrientationHorizont|loc)al|(?:externalResourcesRequir|select|revers|mut)ed|c(?:o(?:lorInterpolationFilter|ord)s|o(?:lor(?:Interpolation)?|nt(?:rols|ent))|(?:ontentS(?:cript|tyle)Typ|o(?:ntentEditab|lorProfi)l|l(?:assNam|ipRul)|a(?:lcMod|ptur)|it)e|olorRendering|l(?:ipPathUnits|assID)|(?:ontrolsLis|apHeigh)t|h(?:eckedLink|a(?:llenge|rSet)|ildren|ecked)|ell(?:Spac|Padd)ing|o(?:ntextMenu|ls)|(?:rossOrigi|olSpa)n|lip(?:Path)?|ursor|[xy])|glyphOrientationVertical|d(?:angerouslySetInnerHTML|efaultChecked|ownload|isabled|isplay|[xy])|(?:s(?:trikethroughThickn|eaml)es|(?:und|ov)erlineThicknes|r(?:equiredExtension|adiu)|(?:requiredFeatur|tableValu|stitchTil|numOctav|filterR)e|key(?:(?:Splin|Tim)e|Param)|autoFocu|header|bia)s|(?:(?:st(?:rikethroughPosi|dDevia)|(?:und|ov)erlinePosi|(?:textDecor|elev)a|orienta)tio|(?:strokeLinejo|orig)i|formActio|zoomAndPa|onFocusI|directio|(?:vers|act)io|rowSpa|begi|ico)n|o(?:n(?:AnimationIteration|C(?:o(?:mposition(?:Update|Start|End)|ntextMenu|py)|anPlayThrough|anPlay|hange|lick|ut)|(?:(?:Duration|Volume|Rate)Chang|(?:MouseLea|(?:Touch|Mouse)Mo|DragLea)v|Paus)e|Loaded(?:Metad|D)ata|(?:Animation|Touch|Load|Drag)Start|(?:(?:T(?:ransition|ouch)|Animation)E|Suspe)nd|DoubleClick|(?:TouchCanc|Whe)el|(?:Mouse(?:Ent|Ov)e|Drag(?:Ent|Ov)e|Erro)r|TimeUpdate|(?:E(?:n(?:crypt|d)|mpti)|S(?:tall|eek))ed|MouseDown|P(?:rogress|laying)|(?:MouseOu|DragExi|S(?:elec|ubmi)|Rese|Inpu)t|KeyPress|DragEnd|Key(?:Down|Up)|(?:Wait|Seek)ing|(?:MouseU|Dro)p|Scroll|Paste|Focus|Abort|Drag|Play|Load|Blur)|rient)|p(?:reserveA(?:spectRatio|lpha)|ointsAt[X-Z]|anose1)|(?:patternContent|ma(?:sk(?:Content)?|rker)|primitive|gradient|pattern|filter)Units|(?:gradientT|patternT|t)ransform|(?:(?:allowTranspar|baseFrequ)enc|re(?:ferrerPolic|adOnl)|(?:(?:st(?:roke|op)O|floodO|fillO|o)pac|integr|secur)it|visibilit|fontFamil|accessKe|propert|summar)y|(?:strokeMiterlimi|(?:specularConsta|repeatCou|fontVaria)n|(?:(?:specularE|e)xpon|renderingInt|asc)en|d(?:iffuseConsta|esce)n|(?:fontSizeAdju|lengthAdju|manife)s|baselineShif|vectorEffec|(?:(?:mar(?:ker|gin)|x)H|accentH|fontW)eigh|a(?:utoCorrec|bou)|markerStar|onFocusOu|intercep|restar|forma|inlis|heigh|lis)t|(?:(?:st(?:rokeDasho|artO)|o)ffs|acceptChars|formTarg|viewTarg|srcS)et|(?:(?:enableBackgrou|markerE)n|s(?:p(?:readMetho|ee)|ee)|formMetho|m(?:arkerMi|etho)|preloa|kin)d|k(?:ernel(?:UnitLength|Matrix)|[1-4])|(?:[xy]ChannelSelect|lightingCol|textAnch|floodCol|stopCol|operat|htmlF)or|(?:allowFullScre|hidd)en|strokeDasharray|systemLanguage|(?:strokeLineca|itemPro|useMa|wra|loo)p|v(?:Mathematical|ert(?:Origin[XY]|AdvY)|alues|ocab)|(?:pointerEve|keyPoi)nts|unicodeRange|(?:(?:allowReord|placehold|frameBord|paintOrd|post|ord)e|repeatDu|d(?:efe|u))r|mathematical|(?:vI|i)deographic|h(?:oriz(?:Origin|Adv)X|ttpEquiv)|u(?:nicodeBidi|[12])|(?:fontStretc|hig)h|(?:(?:mar(?:ker|gin)W|strokeW)id|azimu)th|vAlphabetic|mediaGroup|spellCheck|(?:unitsPerE|optimu|fro)m|r(?:adioGroup|e(?:sults|f[XY]|l)|ows|[xy])|(?:xmlnsXl|valueL)ink|a(?:rabicForm|l(?:phabetic|t)|sync)|pathLength|(?:text|m(?:in|ax))Length|innerHTML|xlinkShow|(?:xlinkHr|glyphR)ef|r(?:e(?:quired|sult|f))?|o(?:verflow|pen)|(?:tabInde|(?:sand|b)bo|viewBo)x|(?:(?:href|xml|src)La|kerni)ng|f(?:o(?:ntSize|rm)|il(?:ter|l))|autoPlay|unicode|p(?:attern|oints)|t(?:arget[XY]|o)|i(?:temRef|n2|s)|divisor|d(?:efault|ata|ir)?|srcDoc|s(?:coped|te(?:m[hv]|p)|pan)|(?:width|size)s|(?:stri|la)ng|prefix|itemID|s(?:t(?:roke|art)|hape|cope|rc)|a(?:ccept|s)|t(?:arget|ype)|typeof|width|value|x(?:mlns)?|label|m(?:edia|a(?:sk|x)|in)|size|href|k(?:ey)?|end|low|x[12]|i[dn]|y[12]|g[12]|by|f[xy]|[yz])$/,St=RegExp.prototype.test.bind(new RegExp("^(data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),Tt=function(t){return Mt.test(t)||St(t.toLowerCase())},Ct=function(t,e,n){var r=n&&t.theme===n.theme;return t.theme&&!r?t.theme:e},Ot=/[[\].#*$><+~=|^:(),"'`-]+/g,At=/(^-|-$)/g,It=function(t){function e(t){a=t;for(var e in i){var n=i[e];void 0!==n&&n(a)}}function n(t){var e=o;return i[e]=t,o+=1,t(a),e}function r(t){i[t]=void 0}var i={},o=0,a=t;return{publish:e,subscribe:n,unsubscribe:r}},Rt="__styled-components__",Pt=Rt+"next__",Lt=v.shape({getTheme:v.func,subscribe:v.func,unsubscribe:v.func}),Nt=function(t){return"function"==typeof t},kt=function(t){function e(){H(this,e);var n=Z(this,t.call(this));return n.unsubscribeToOuterId=-1,n.getTheme=n.getTheme.bind(n),n}return Y(e,t),e.prototype.componentWillMount=function(){var t=this,e=this.context[Pt];void 0!==e&&(this.unsubscribeToOuterId=e.subscribe(function(e){t.outerTheme=e,void 0!==t.broadcast&&t.publish(t.props.theme)})),this.broadcast=It(this.getTheme())},e.prototype.getChildContext=function(){var t,e=this;return W({},this.context,(t={},t[Pt]={getTheme:this.getTheme,subscribe:this.broadcast.subscribe,unsubscribe:this.broadcast.unsubscribe},t[Rt]=function(t){var n=e.broadcast.subscribe(t);return function(){return e.broadcast.unsubscribe(n)}},t))},e.prototype.componentWillReceiveProps=function(t){this.props.theme!==t.theme&&this.publish(t.theme)},e.prototype.componentWillUnmount=function(){-1!==this.unsubscribeToOuterId&&this.context[Pt].unsubscribe(this.unsubscribeToOuterId)},e.prototype.getTheme=function(t){var e=t||this.props.theme;if(Nt(e)){return e(this.outerTheme)}if(!h(e))throw new Error("");return W({},this.outerTheme,e)},e.prototype.publish=function(t){this.broadcast.publish(this.getTheme(t))},e.prototype.render=function(){return this.props.children?g.Children.only(this.props.children):null},e}(m.Component);kt.childContextTypes=(wt={},wt[Rt]=v.func,wt[Pt]=Lt,wt),kt.contextTypes=(xt={},xt[Pt]=Lt,xt);var Dt={},Ft=U,jt=function t(e,n){for(var r=0;r<e.length;r+=1){var i=e[r];if(Array.isArray(i)&&!t(i))return!1;if("function"==typeof i&&!a(i))return!1}if(void 0!==n)for(var o in n){var s=n[o];if("function"==typeof s)return!1}return!0},Ut=void 0!==t&&t.hot&&!1,zt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Bt=function(t){return t.replace(/\s|\\n/g,"")},Vt=function(t){var e,n=t.displayName||t.name||"Component",r="function"==typeof t&&!(t.prototype&&"isReactComponent"in t.prototype),i=a(t)||r,o=function(e){function n(){var t,r,i;H(this,n);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return t=r=Z(this,e.call.apply(e,[this].concat(a))),r.state={},r.unsubscribeId=-1,i=t,Z(r,i)}return Y(n,e),n.prototype.componentWillMount=function(){var t=this,e=this.constructor.defaultProps,n=this.context[Pt],r=Ct(this.props,void 0,e);if(void 0===n&&void 0!==r)this.setState({theme:r});else{var i=n.subscribe;this.unsubscribeId=i(function(n){var r=Ct(t.props,n,e);t.setState({theme:r})})}},n.prototype.componentWillReceiveProps=function(t){var e=this.constructor.defaultProps;this.setState(function(n){return{theme:Ct(t,n.theme,e)}})},n.prototype.componentWillUnmount=function(){-1!==this.unsubscribeId&&this.context[Pt].unsubscribe(this.unsubscribeId)},n.prototype.render=function(){var e=W({theme:this.state.theme},this.props);return i||(e.ref=e.innerRef,delete e.innerRef),g.createElement(t,e)},n}(g.Component);return o.displayName="WithTheme("+n+")",o.styledComponentId="withTheme",o.contextTypes=(e={},e[Rt]=v.func,e[Pt]=Lt,e),y(o,t)},Gt={StyleSheet:bt},Ht=function(t,e,n){var r=function(e){return t(f(e))};return function(){function t(e,n,r){if(H(this,t),this.rules=e,this.isStatic=!Ut&&jt(e,n),this.componentId=r,!bt.master.hasId(r)){var i=[];bt.master.deferredInject(r,i)}}return t.prototype.generateAndInjectStyles=function(t,i){var o=this.isStatic,a=this.componentId,s=this.lastClassName;if(Ft&&o&&void 0!==s)return s;var l=e(this.rules,t),u=r(this.componentId+l.join(""));if(!i.hasNameForId(a,u)){var c=n(l,"."+u);i.inject(this.componentId,c,u)}return this.lastClassName=u,u},t.generateName=function(t){return r(t)},t}()}(N,S,R),qt=function(t){return function e(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"!=typeof r&&"function"!=typeof r)throw new Error("");var o=function(){return n(r,i,t.apply(void 0,arguments))};return o.withConfig=function(t){return e(n,r,W({},i,t))},o.attrs=function(t){return e(n,r,W({},i,{attrs:W({},i.attrs||{},t)}))},o}}(D),Wt=function(t,e){var n={},r=function(e,r){var i="string"!=typeof e?"sc":c(e),o=void 0;if(e)o=i+"-"+t.generateName(i);else{var a=(n[i]||0)+1;n[i]=a,o=i+"-"+t.generateName(i+a)}return void 0!==r?r+"-"+o:o},i=function(t){function e(){var n,r,i;H(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Z(this,t.call.apply(t,[this].concat(a))),r.attrs={},r.state={theme:null,generatedClassName:""},r.unsubscribeId=-1,i=n,Z(r,i)}return Y(e,t),e.prototype.unsubscribeFromContext=function(){-1!==this.unsubscribeId&&this.context[Pt].unsubscribe(this.unsubscribeId)},e.prototype.buildExecutionContext=function(t,e){var n=this.constructor.attrs,r=W({},e,{theme:t});return void 0===n?r:(this.attrs=Object.keys(n).reduce(function(t,e){var i=n[e];return t[e]="function"==typeof i?i(r):i,t},{}),W({},r,this.attrs))},e.prototype.generateAndInjectStyles=function(t,e){var n=this.constructor,r=n.attrs,i=n.componentStyle,o=(n.warnTooManyClasses,this.context[j]||bt.master);if(i.isStatic&&void 0===r)return i.generateAndInjectStyles(Dt,o);var a=this.buildExecutionContext(t,e),s=i.generateAndInjectStyles(a,o);return s},e.prototype.componentWillMount=function(){var t=this,e=this.constructor.componentStyle,n=this.context[Pt];if(e.isStatic){var r=this.generateAndInjectStyles(Dt,this.props);this.setState({generatedClassName:r})}else if(void 0!==n){var i=n.subscribe;this.unsubscribeId=i(function(e){var n=Ct(t.props,e,t.constructor.defaultProps),r=t.generateAndInjectStyles(n,t.props);t.setState({theme:n,generatedClassName:r})})}else{var o=this.props.theme||{},a=this.generateAndInjectStyles(o,this.props);this.setState({theme:o,generatedClassName:a})}},e.prototype.componentWillReceiveProps=function(t){var e=this;this.constructor.componentStyle.isStatic||this.setState(function(n){var r=Ct(t,n.theme,e.constructor.defaultProps);return{theme:r,generatedClassName:e.generateAndInjectStyles(r,t)}})},e.prototype.componentWillUnmount=function(){this.unsubscribeFromContext()},e.prototype.render=function(){var t=this,e=this.props.innerRef,n=this.state.generatedClassName,r=this.constructor,i=r.styledComponentId,o=r.target,s=l(o),u=[this.props.className,i,this.attrs.className,n].filter(Boolean).join(" "),c=W({},this.attrs,{className:u});a(o)?c.innerRef=e:c.ref=e;var f=Object.keys(this.props).reduce(function(e,n){return"innerRef"===n||"className"===n||s&&!Tt(n)||(e[n]=t.props[n]),e},c);return m.createElement(o,f)},e}(m.Component);return function n(o,a,s){var f,h=a.displayName,d=void 0===h?l(o)?"styled."+o:"Styled("+u(o)+")":h,p=a.componentId,m=void 0===p?r(a.displayName,a.parentComponentId):p,g=a.ParentComponent,y=void 0===g?i:g,b=a.rules,_=a.attrs,w=a.displayName&&a.componentId?c(a.displayName)+"-"+a.componentId:m,x=new t(void 0===b?s:b.concat(s),_,w),E=function(t){function r(){return H(this,r),Z(this,t.apply(this,arguments))}return Y(r,t),r.withComponent=function(t){var e=a.componentId,i=X(a,["componentId"]),o=e&&e+"-"+(l(t)?t:c(u(t))),f=W({},i,{componentId:o,ParentComponent:r});return n(t,f,s)},q(r,null,[{key:"extend",get:function(){var t=a.rules,i=a.componentId,l=X(a,["rules","componentId"]),u=void 0===t?s:t.concat(s),c=W({},l,{rules:u,parentComponentId:i,ParentComponent:r});return e(n,o,c)}}]),r}(y);return E.contextTypes=(f={},f[Rt]=v.func,f[Pt]=Lt,f[j]=v.oneOfType([v.instanceOf(bt),v.instanceOf(Et)]),f),E.displayName=d,E.styledComponentId=w,E.attrs=_,E.componentStyle=x,E.target=o,E}}(Ht,qt),Yt=function(t,e,n){return function(){var r=bt.master,i=n.apply(void 0,arguments),o=t(f(Bt(JSON.stringify(i)))),a="sc-keyframes-"+o;return r.hasNameForId(a,o)||r.inject(a,e(i,o,"@keyframes"),o),o}}(N,R,D),Xt=function(t,e){return function(){var n=bt.master,r=e.apply(void 0,arguments),i=f(JSON.stringify(r)),o="sc-global-"+i;n.hasId(o)||n.inject(o,t(r))}}(R,D),Zt=function(t,e){var n=function(n){return e(t,n)};return zt.forEach(function(t){n[t]=n(t)}),n}(Wt,qt);e.default=Zt,e.css=D,e.keyframes=Yt,e.injectGlobal=Xt,e.isStyledComponent=a,e.consolidateStreamedStyles=s,e.ThemeProvider=kt,e.withTheme=Vt,e.ServerStyleSheet=Et,e.StyleSheetManager=_t,e.__DO_NOT_USE_OR_YOU_WILL_BE_HAUNTED_BY_SPOOKY_GHOSTS=Gt}).call(e,n(120)(t))},function(t,e,n){"use strict";function r(t){return!0===i(t)&&"[object Object]"===Object.prototype.toString.call(t)}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var i=n(1366);t.exports=function(t){var e,n;return!1!==r(t)&&("function"==typeof(e=t.constructor)&&(n=e.prototype,!1!==r(n)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},function(t,e,n){"use strict";/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
t.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},function(t,e,n){!function(e){t.exports=e(null)}(function t(e){"use strict";function n(t,e,i,l,f){for(var h,d,p=0,v=0,y=0,b=0,_=0,w=0,x=0,E=0,M=0,S=0,T=0,I=0,R=0,P=0,L=0,N=0,k=0,F=0,j=0,U=i.length,z=U-1,it="",Rt="",Pt="",Dt="",jt="",Ut="";L<U;){if(x=i.charCodeAt(L),L===z&&v+b+y+p!==0&&(0!==v&&(x=v===ct?Q:ct),b=y=p=0,U++,z++),v+b+y+p===0){if(L===z&&(N>0&&(Rt=Rt.replace(g,"")),Rt.trim().length>0)){switch(x){case et:case $:case H:case J:case Q:break;default:Rt+=i.charAt(L)}x=H}if(1===k)switch(x){case W:case q:case H:case ut:case lt:case Y:case X:case at:k=0;case $:case J:case Q:case et:break;default:for(k=0,j=L,_=x,L--,x=H;j<U;)switch(i.charCodeAt(j++)){case Q:case J:case H:++L,x=_,j=U;break;case st:N>0&&(++L,x=_);case W:j=U}}switch(x){case W:for(Rt=Rt.trim(),_=Rt.charCodeAt(0),T=1,j=++L;L<U;){switch(x=i.charCodeAt(L)){case W:T++;break;case q:T--}if(0===T)break;L++}switch(Pt=i.substring(j,L),_===pt&&(_=(Rt=Rt.replace(m,"").trim()).charCodeAt(0)),_){case tt:switch(N>0&&(Rt=Rt.replace(g,"")),w=Rt.charCodeAt(1)){case Mt:case yt:case bt:case rt:h=e;break;default:h=kt}if(Pt=n(e,h,Pt,w,f+1),j=Pt.length,Nt>0&&0===j&&(j=Rt.length),Ft>0&&(h=r(kt,Rt,F),d=c(Ht,Pt,h,e,Ct,Tt,j,w,f,l),Rt=h.join(""),void 0!==d&&0===(j=(Pt=d.trim()).length)&&(w=0,Pt="")),j>0)switch(w){case bt:Rt=Rt.replace(D,s);case Mt:case yt:case rt:Pt=Rt+"{"+Pt+"}";break;case vt:Rt=Rt.replace(C,"$1 $2"+(Wt>0?Yt:"")),Pt=Rt+"{"+Pt+"}",Pt=1===It||2===It&&a("@"+Pt,3)?"@"+B+Pt+"@"+Pt:"@"+Pt;break;default:Pt=Rt+Pt,l===St&&(Dt+=Pt,Pt="")}else Pt="";break;default:Pt=n(e,r(e,Rt,F),Pt,l,f+1)}jt+=Pt,I=0,k=0,P=0,N=0,F=0,R=0,Rt="",Pt="",x=i.charCodeAt(++L);break;case q:case H:if(Rt=(N>0?Rt.replace(g,""):Rt).trim(),(j=Rt.length)>1)switch(0===P&&((_=Rt.charCodeAt(0))===rt||_>96&&_<123)&&(j=(Rt=Rt.replace(" ",":")).length),Ft>0&&void 0!==(d=c(Vt,Rt,e,t,Ct,Tt,Dt.length,l,f,l))&&0===(j=(Rt=d.trim()).length)&&(Rt="\0\0"),_=Rt.charCodeAt(0),w=Rt.charCodeAt(1),_+w){case pt:break;case xt:case Et:Ut+=Rt+i.charAt(L);break;default:if(Rt.charCodeAt(j-1)===st)break;Dt+=o(Rt,_,w,Rt.charCodeAt(2))}I=0,k=0,P=0,N=0,F=0,Rt="",x=i.charCodeAt(++L)}}switch(x){case J:case Q:if(v+b+y+p+Lt===0)switch(S){case X:case lt:case ut:case tt:case dt:case ft:case ot:case ht:case ct:case rt:case st:case at:case H:case W:case q:break;default:P>0&&(k=1)}v===ct?v=0:At+I===0&&(N=1,Rt+="\0"),Ft*qt>0&&c(Bt,Rt,e,t,Ct,Tt,Dt.length,l,f,l),Tt=1,Ct++;break;case H:case q:if(v+b+y+p===0){Tt++;break}default:switch(Tt++,it=i.charAt(L),x){case $:case et:if(b+p+v===0)switch(E){case at:case st:case $:case et:it="";break;default:x!==et&&(it=" ")}break;case pt:it="\\0";break;case mt:it="\\f";break;case gt:it="\\v";break;case nt:b+v+p===0&&At>0&&(F=1,N=1,it="\f"+it);break;case 108:if(b+v+p+Ot===0&&P>0)switch(L-P){case 2:E===_t&&i.charCodeAt(L-3)===st&&(Ot=E);case 8:M===wt&&(Ot=M)}break;case st:b+v+p===0&&(P=L);break;case at:v+y+b+p===0&&(N=1,it+="\r");break;case ut:case lt:0===v&&(b=b===x?0:0===b?x:b);break;case Z:b+v+y===0&&p++;break;case K:b+v+y===0&&p--;break;case X:b+v+p===0&&y--;break;case Y:if(b+v+p===0){if(0===I)switch(2*E+3*M){case 533:break;default:T=0,I=1}y++}break;case tt:v+y+b+p+P+R===0&&(R=1);break;case ot:case ct:if(b+p+y>0)break;switch(v){case 0:switch(2*x+3*i.charCodeAt(L+1)){case 235:v=ct;break;case 220:j=L,v=ot}break;case ot:x===ct&&E===ot&&(33===i.charCodeAt(j+2)&&(Dt+=i.substring(j,L+1)),it="",v=0)}}if(0===v){if(At+b+p+R===0&&l!==vt&&x!==H)switch(x){case at:case dt:case ft:case ht:case X:case Y:if(0===I){switch(E){case $:case et:case Q:case J:it+="\0";break;default:it="\0"+it+(x===at?"":"\0")}N=1}else switch(x){case Y:I=++T;break;case X:0==(I=--T)&&(N=1,it+="\0")}break;case $:case et:switch(E){case pt:case W:case q:case H:case at:case mt:case $:case et:case Q:case J:break;default:0===I&&(N=1,it+="\0")}}Rt+=it,x!==et&&x!==$&&(S=x)}}M=E,E=x,L++}if(j=Dt.length,Nt>0&&0===j&&0===jt.length&&0===e[0].length==!1&&(l!==yt||1===e.length&&(At>0?Xt:Zt)===e[0])&&(j=e.join(",").length+2),j>0){if(h=0===At&&l!==vt?u(e):e,Ft>0&&void 0!==(d=c(Gt,Dt,h,t,Ct,Tt,j,l,f,l))&&0===(Dt=d).length)return Ut+Dt+jt;if(Dt=h.join(",")+"{"+Dt+"}",It*Ot!=0){switch(2!==It||a(Dt,2)||(Ot=0),Ot){case wt:Dt=Dt.replace(A,":"+V+"$1")+Dt;break;case _t:Dt=Dt.replace(O,"::"+B+"input-$1")+Dt.replace(O,"::"+V+"$1")+Dt.replace(O,":"+G+"input-$1")+Dt}Ot=0}}return Ut+Dt+jt}function r(t,e,n){var r=e.trim().split(E),o=r,a=r.length,s=t.length;switch(s){case 0:case 1:for(var l=0,u=0===s?"":t[0]+" ";l<a;++l)o[l]=i(u,o[l],n,s).trim();break;default:for(var l=0,c=0,o=[];l<a;++l)for(var f=0;f<s;++f)o[c++]=i(t[f]+" ",r[l],n,s).trim()}return o}function i(t,e,n,r){var i=e,o=i.charCodeAt(0);switch(o<33&&(o=(i=i.trim()).charCodeAt(0)),o){case nt:switch(At+r){case 0:case 1:if(0===t.trim().length)break;default:return i.replace(M,"$1"+t.trim())}break;case st:switch(i.charCodeAt(1)){case 103:if(Rt>0&&At>0)return i.replace(S,"$1").replace(M,"$1"+Zt);break;default:return t.trim()+i.replace(M,"$1"+t.trim())}default:if(n*At>0&&i.indexOf("\f")>0)return i.replace(M,(t.charCodeAt(0)===st?"":"$1")+t.trim())}return t+i}function o(t,e,n,r){var i,s=0,u=t+";",c=2*e+3*n+4*r;if(944===c)return l(u);if(0===It||2===It&&!a(u,1))return u;switch(c){case 1015:return 97===u.charCodeAt(10)?B+u+u:u;case 951:return 116===u.charCodeAt(3)?B+u+u:u;case 963:return 110===u.charCodeAt(5)?B+u+u:u;case 1009:if(100!==u.charCodeAt(4))break;case 969:case 942:return B+u+u;case 978:return B+u+V+u+u;case 1019:case 983:return B+u+V+u+G+u+u;case 883:return u.charCodeAt(8)===rt?B+u+u:u;case 932:if(u.charCodeAt(4)===rt)switch(u.charCodeAt(5)){case 103:return B+"box-"+u.replace("-grow","")+B+u+G+u.replace("grow","positive")+u;case 115:return B+u+G+u.replace("shrink","negative")+u;case 98:return B+u+G+u.replace("basis","preferred-size")+u}return B+u+G+u+u;case 964:return B+u+G+"flex-"+u+u;case 1023:if(99!==u.charCodeAt(8))break;return i=u.substring(u.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),B+"box-pack"+i+B+u+G+"flex-pack"+i+u;case 1005:return y.test(u)?u.replace(v,":"+B)+u.replace(v,":"+V)+u:u;case 1e3:switch(i=u.substring(13).trim(),s=i.indexOf("-")+1,i.charCodeAt(0)+i.charCodeAt(s)){case 226:i=u.replace(k,"tb");break;case 232:i=u.replace(k,"tb-rl");break;case 220:i=u.replace(k,"lr");break;default:return u}return B+u+G+i+u;case 1017:if(-1===u.indexOf("sticky",9))return u;case 975:switch(s=(u=t).length-10,i=(33===u.charCodeAt(s)?u.substring(0,s):u).substring(t.indexOf(":",7)+1).trim(),c=i.charCodeAt(0)+(0|i.charCodeAt(7))){case 203:if(i.charCodeAt(8)<111)break;case 115:u=u.replace(i,B+i)+";"+u;break;case 207:case 102:u=u.replace(i,B+(c>102?"inline-":"")+"box")+";"+u.replace(i,B+i)+";"+u.replace(i,G+i+"box")+";"+u}return u+";";case 938:if(u.charCodeAt(5)===rt)switch(u.charCodeAt(6)){case 105:return i=u.replace("-items",""),B+u+B+"box-"+i+G+"flex-"+i+u;case 115:return B+u+G+"flex-item-"+u.replace(j,"")+u;default:return B+u+G+"flex-line-pack"+u.replace("align-content","").replace(j,"")+u}break;case 973:case 989:if(u.charCodeAt(3)!==rt||122===u.charCodeAt(4))break;case 931:case 953:if(!0===z.test(t))return 115===(i=t.substring(t.indexOf(":")+1)).charCodeAt(0)?o(t.replace("stretch","fill-available"),e,n,r).replace(":fill-available",":stretch"):u.replace(i,B+i)+u.replace(i,V+i.replace("fill-",""))+u;break;case 962:if(u=B+u+(102===u.charCodeAt(5)?G+u:"")+u,n+r===211&&105===u.charCodeAt(13)&&u.indexOf("transform",10)>0)return u.substring(0,u.indexOf(";",27)+1).replace(b,"$1"+B+"$2")+u}return u}function a(t,e){var n=t.indexOf(1===e?":":"{"),r=t.substring(0,3!==e?n:10),i=t.substring(n+1,t.length-1);return jt(2!==e?r:r.replace(U,"$1"),i,e)}function s(t,e){var n=o(e,e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2));return n!==e+";"?n.replace(F," or ($1)").substring(4):"("+e+")"}function l(t){var e=t.length,n=t.indexOf(":",9)+1,r=t.substring(0,n).trim(),i=t.substring(n,e-1).trim();switch(t.charCodeAt(9)*Wt){case 0:break;case rt:if(110!==t.charCodeAt(10))break;default:for(var o=i.split((i="",_)),s=0,n=0,e=o.length;s<e;n=0,++s){for(var l=o[s],u=l.split(w);l=u[n];){var c=l.charCodeAt(0);if(1===Wt&&(c>tt&&c<90||c>96&&c<123||c===it||c===rt&&l.charCodeAt(1)!==rt))switch(isNaN(parseFloat(l))+(-1!==l.indexOf("("))){case 1:switch(l){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:l+=Yt}}u[n++]=l}i+=(0===s?"":",")+u.join(" ")}}return i=r+i+";",1===It||2===It&&a(i,1)?B+i+i:i}function u(t){for(var e,n,r=0,i=t.length,o=Array(i);r<i;++r){for(var a=t[r].split(x),s="",l=0,u=0,c=0,f=0,h=a.length;l<h;++l)if(!(0===(u=(n=a[l]).length)&&h>1)){if(c=s.charCodeAt(s.length-1),f=n.charCodeAt(0),e="",0!==l)switch(c){case ot:case dt:case ft:case ht:case et:case Y:break;default:e=" "}switch(f){case nt:n=e+Xt;case dt:case ft:case ht:case et:case X:case Y:break;case Z:n=e+n+Xt;break;case st:switch(2*n.charCodeAt(1)+3*n.charCodeAt(2)){case 530:if(Rt>0){n=e+n.substring(8,u-1);break}default:(l<1||a[l-1].length<1)&&(n=e+Xt+n)}break;case at:e="";default:n=u>1&&n.indexOf(":")>0?e+n.replace(N,"$1"+Xt+"$2"):e+n+Xt}s+=n}o[r]=s.replace(g,"").trim()}return o}function c(t,e,n,r,i,o,a,s,l,u){for(var c,f=0,h=e;f<Ft;++f)switch(c=Dt[f].call(p,t,h,n,r,i,o,a,s,l,u)){case void 0:case!1:case!0:case null:break;default:h=c}switch(h){case void 0:case!1:case!0:case null:case e:break;default:return h}}function f(t){return t.replace(g,"").replace(I,"").replace(R,"$1").replace(P,"$1").replace(L," ")}function h(t){switch(t){case void 0:case null:Ft=Dt.length=0;break;default:switch(t.constructor){case Array:for(var e=0,n=t.length;e<n;++e)h(t[e]);break;case Function:Dt[Ft++]=t;break;case Boolean:qt=0|!!t}}return h}function d(t){for(var e in t){var n=t[e];switch(e){case"keyframe":Wt=0|n;break;case"global":Rt=0|n;break;case"cascade":At=0|n;break;case"compress":Pt=0|n;break;case"semicolon":Lt=0|n;break;case"preserve":Nt=0|n;break;case"prefix":jt=null,n?"function"!=typeof n?It=1:(It=2,jt=n):It=0}}return d}function p(e,r){if(void 0!==this&&this.constructor===p)return t(e);var i=e,o=i.charCodeAt(0);o<33&&(o=(i=i.trim()).charCodeAt(0)),Wt>0&&(Yt=i.replace(T,o===Z?"":"-")),o=1,1===At?Zt=i:Xt=i;var a,s=[Zt];Ft>0&&void 0!==(a=c(zt,r,s,s,Ct,Tt,0,0,0,0))&&"string"==typeof a&&(r=a);var l=n(kt,s,r,0,0);return Ft>0&&void 0!==(a=c(Ut,l,s,s,Ct,Tt,l.length,0,0,0))&&"string"!=typeof(l=a)&&(o=0),Yt="",Zt="",Xt="",Ot=0,Ct=1,Tt=1,Pt*o==0?l:f(l)}var m=/^\0+/g,g=/[\0\r\f]/g,v=/: */g,y=/zoo|gra/,b=/([,: ])(transform)/g,_=/,+\s*(?![^(]*[)])/g,w=/ +\s*(?![^(]*[)])/g,x=/ *[\0] */g,E=/,\r+?/g,M=/([\t\r\n ])*\f?&/g,S=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,T=/\W+/g,C=/@(k\w+)\s*(\S*)\s*/,O=/::(place)/g,A=/:(read-only)/g,I=/\s+(?=[{\];=:>])/g,R=/([[}=:>])\s+/g,P=/(\{[^{]+?);(?=\})/g,L=/\s{2,}/g,N=/([^\(])(:+) */g,k=/[svh]\w+-[tblr]{2}/,D=/\(\s*(.*)\s*\)/g,F=/([\s\S]*?);/g,j=/-self|flex-/g,U=/[^]*?(:[rp][el]a[\w-]+)[^]*/,z=/stretch|:\s*\w+\-(?:conte|avail)/,B="-webkit-",V="-moz-",G="-ms-",H=59,q=125,W=123,Y=40,X=41,Z=91,K=93,Q=10,J=13,$=9,tt=64,et=32,nt=38,rt=45,it=95,ot=42,at=44,st=58,lt=39,ut=34,ct=47,ft=62,ht=43,dt=126,pt=0,mt=12,gt=11,vt=107,yt=109,bt=115,_t=112,wt=111,xt=169,Et=163,Mt=100,St=112,Tt=1,Ct=1,Ot=0,At=1,It=1,Rt=1,Pt=0,Lt=0,Nt=0,kt=[],Dt=[],Ft=0,jt=null,Ut=-2,zt=-1,Bt=0,Vt=1,Gt=2,Ht=3,qt=0,Wt=1,Yt="",Xt="",Zt="";return p.use=h,p.set=d,void 0!==e&&d(e),p})},function(t,e,n){!function(e){t.exports=e()}(function(){"use strict";return function(t){function e(e){if(e)try{t(e+"}")}catch(t){}}return function(n,r,i,o,a,s,l,u,c){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return t(r+";"),"";break;case 2:if(0===u)return r+"/*|*/";break;case 3:switch(u){case 102:case 112:return t(i[0]+r),"";default:return r+(0===c?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(e)}}}})},function(t,e,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"==typeof Object.getOwnPropertySymbols;t.exports=function(t,e,n){if("string"!=typeof e){var a=Object.getOwnPropertyNames(e);o&&(a=a.concat(Object.getOwnPropertySymbols(e)));for(var s=0;s<a.length;++s)if(!(r[a[s]]||i[a[s]]||n&&n[a[s]]))try{t[a[s]]=e[a[s]]}catch(t){}}return t}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(0),m=n.n(p),g=n(3),v=n.n(g),y=n(28),b=(n.n(y),n(15)),_=(n.n(b),n(145)),w=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),x=Object(b.defineMessages)({point:{id:"measurementHints.point",defaultMessage:"Click to add a point"},changePoint:{id:"measurementHints.changePoint",defaultMessage:"Click to change the point location"},addFirstPoint:{id:"measurementHints.addFirstPoint",defaultMessage:"Click to add the first point"},addSecondPoint:{id:"measurementHints.addSecondPoint",defaultMessage:"Click to add the second point"},addThirdPoint:{id:"measurementHints.addThirdPoint",defaultMessage:"Click to add the third point"},addNextPoint:{id:"measurementHints.addNextPoint",defaultMessage:"Click to add the next point"},addDiameterPoint:{id:"measurementHints.addDiameterPoint",defaultMessage:"Click to add a diameter point"},changeDiameterPoint:{id:"measurementHints.changeDiameterPoint",defaultMessage:"Click to change the diameter point"},addPerpendicularPoint:{id:"measurementHints.addPerpendicularPoint",defaultMessage:"Click to add a perpendicular point"},changePerpendicularPoint:{id:"measurementHints.addSecondPerpendicularPoint",defaultMessage:"Click to change the point of perpendicular line"},addHeightBasePoint:{id:"measurementHints.addHeightBasePoint",defaultMessage:"Click to add a height measurement base point"},addHeightPoint:{id:"measurementHints.addHeightPoint",defaultMessage:"Click to add a height point"},changeHeightPoint:{id:"measurementHints.changeHeightPoint",defaultMessage:"Remove second point to change the height point"},insertOnTheMap:{id:"MeasurementInformation.clickOnTheMap",defaultMessage:"Click on the map to add a point"},insertOnTheCyclorama:{id:"MeasurementInformation.clickOnTheCyclorama",defaultMessage:"Click on the Cyclorama to add a point"}}),E=function(t){function e(){return r(this,e),i(this,(e.__proto__||s()(e)).apply(this,arguments))}return o(e,t),w(e,[{key:"getHintPoint",value:function(t){switch(t){case 0:return m.a.createElement(b.FormattedMessage,x.point);default:return m.a.createElement(b.FormattedMessage,x.changePoint)}}},{key:"getHintLine",value:function(t){switch(t){case 0:return m.a.createElement(b.FormattedMessage,x.addFirstPoint);case 1:return m.a.createElement(b.FormattedMessage,x.addSecondPoint);default:return m.a.createElement(b.FormattedMessage,x.addNextPoint)}}},{key:"getHintPolygon",value:function(t){switch(t){case 0:return m.a.createElement(b.FormattedMessage,x.addFirstPoint);case 1:return m.a.createElement(b.FormattedMessage,x.addSecondPoint);case 2:return m.a.createElement(b.FormattedMessage,x.addThirdPoint);default:return m.a.createElement(b.FormattedMessage,x.addNextPoint)}}},{key:"getHintCircle",value:function(t){switch(t){case 0:return m.a.createElement(b.FormattedMessage,x.addFirstPoint);case 1:return m.a.createElement(b.FormattedMessage,x.addDiameterPoint);default:return m.a.createElement(b.FormattedMessage,x.changeDiameterPoint)}}},{key:"getHintOrthogonal",value:function(t){switch(t){case 0:return m.a.createElement(b.FormattedMessage,x.addFirstPoint);case 1:return m.a.createElement(b.FormattedMessage,x.addSecondPoint);case 2:return m.a.createElement(b.FormattedMessage,x.addPerpendicularPoint);default:return m.a.createElement(b.FormattedMessage,x.changePerpendicularPoint)}}},{key:"getHintHeight",value:function(t){switch(t){case 0:return m.a.createElement(b.FormattedMessage,x.addHeightBasePoint);case 1:return m.a.createElement(b.FormattedMessage,x.addHeightPoint);default:return m.a.createElement(b.FormattedMessage,x.changeHeightPoint)}}},{key:"getAddPointHint",value:function(t){var e=this.props.activeMeasurement,n=e.geometry.type,r=e.properties.customGeometryType;if(r){switch(r){case _.a.CIRCLE:return this.getHintCircle(t);case _.a.ORTHOGONAL:return this.getHintOrthogonal(t);case _.a.HEIGHT:return this.getHintHeight(t)}return this.getHintCircle(t)}if(n)switch(n){case _.b.POINT:return this.getHintPoint(t);case _.b.LINESTRING:return this.getHintLine(t);case _.b.POLYGON:return this.getHintPolygon(t)}return!1}},{key:"getInsertPointHint",value:function(){return 2===this.props.activeMeasurement.properties.dimension?m.a.createElement(b.FormattedMessage,x.insertOnTheMap):m.a.createElement(b.FormattedMessage,x.insertOnTheCyclorama)}},{key:"render",value:function(){var t=this.props,e=t.insert,n=t.pointIndex;return e?this.getInsertPointHint():this.getAddPointHint(n)}}]),e}(p.Component);E.propTypes={activeMeasurement:v.a.object.isRequired,pointIndex:v.a.number,insert:v.a.bool},E.defaultProps={pointIndex:null,insert:!1};var M=function(t){return t.measurements};e.a=Object(y.connect)(M)(E)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(4),m=n.n(p),g=n(0),v=n.n(g),y=n(28),b=(n.n(y),n(36)),_=(n.n(b),n(269)),w=m.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=function(t){function e(){return r(this,e),i(this,(e.__proto__||s()(e)).apply(this,arguments))}return o(e,t),x(e,[{key:"componentDidUpdate",value:function(){var t=this.props;clearTimeout(this.timer),this.timer=null,t.visible&&(this.timer=setTimeout(function(){t.actions.hideMeasurementFeedbackMessage()},t.duration))}},{key:"componentWillUnmount",value:function(){var t=this.props;clearTimeout(this.timer),this.timer=null,t.actions.hideMeasurementFeedbackMessage()}},{key:"render",value:function(){var t=this.props;return!!t.visible&&v.a.createElement("div",{className:t.class},v.a.createElement("span",{onClick:t.actions.hideMeasurementFeedbackMessage,className:"glyphicon novaicon-close close"}),v.a.createElement("div",null,"success"!==t.class&&v.a.createElement("span",{className:"glyphicon novaicon-interface-alert-circle feedback-icon"}),v.a.createElement("span",null,t.content)))}}]),e}(v.a.PureComponent),M=function(t){var e=t.measurementfeedback;return w({},e)},S=function(t){return{actions:Object(b.bindActionCreators)(w({},_.b),t)}};e.a=Object(y.connect)(M,S)(E)},function(t,e,n){"use strict";function r(t,e,n){return e in t?p()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(7),l=n.n(s),u=n(6),c=n.n(u),f=n(5),h=n.n(f),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(0),y=n.n(v),b=n(28),_=(n.n(b),n(15)),w=(n.n(_),n(36)),x=(n.n(w),n(24)),E=(n.n(x),n(3)),M=n.n(E),S=n(62),T=n(31),C=n(48),O=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),I=Object(_.defineMessages)({Attributes:{id:"MeasurementInformation.attributes",defaultMessage:"Attributes"},NoAttributes:{id:"MeasurementInformation.noAttributes",defaultMessage:"No attributes"}}),R=function(t){function e(){var t;i(this,e);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=o(this,(t=e.__proto__||l()(e)).call.apply(t,[this].concat(r)));s.toggleMinimized=s.toggleMinimized.bind(s);var u=s.props,c=u.measurementattribute.attributes,f=u.measurements.activeMeasurement.properties.measurementAttributes,h={};return f&&c.forEach(function(t){h[t.uid]=f[t.uid]}),s.state={values:h},s}return a(e,t),A(e,[{key:"componentWillReceiveProps",value:function(t){var e=this.focusAttribute;if(!t.loseFocus&&e){var n=this.state.values;e.value="",e.focus(),e.value=n[e.id]}}},{key:"toggleMinimized",value:function(){this.props.updateMinimizedState()}},{key:"updateAttributeName",value:function(t){var e=this.state.values,n=t.target;this.props.actions.updateMeasurementAttribute(n.id,n.value),this.setState({values:O({},e,r({},n.id,n.value))})}},{key:"createHeader",value:function(){var t=this.props.minimized;return y.a.createElement("div",{className:"attributes-floating-panel-header"},y.a.createElement(_.FormattedMessage,I.Attributes),y.a.createElement("div",{className:"attributes-floating-panel-controls"},t?y.a.createElement(x.Button,{onClick:this.toggleMinimized},y.a.createElement(S.b.Expand,null)):y.a.createElement(x.Button,{onClick:this.toggleMinimized},y.a.createElement(S.b.Collapse,null))))}},{key:"renderAttributeTable",value:function(){var t=this,e=this.props.measurementattribute.attributes;return y.a.createElement("div",null,e&&e.length>0?y.a.createElement(x.Table,{striped:!0,hover:!0,responsive:!0,className:"locationstable",cellPadding:0,cellSpacing:0},y.a.createElement("tbody",{className:"measurement-attributes-table"},e.map(function(e){return y.a.createElement("tr",{className:"measurement-attributes_source_attributes"},y.a.createElement("td",null,y.a.createElement("div",{className:"attributes-propertyName"},e.name),y.a.createElement("input",{key:e.id,className:"attributes-inputProperty",maxLength:100,value:t.state.values[e.uid],onChange:function(e){return t.updateAttributeName(e)},id:e.uid})))}))):y.a.createElement("div",null,y.a.createElement(_.FormattedMessage,I.NoAttributes)))}},{key:"render",value:function(){var t=this.props.minimized;return y.a.createElement("div",null,y.a.createElement(x.Panel,{className:"attribute-panel-body",header:this.createHeader()},!t&&this.renderAttributeTable()))}}]),e}(T.a);R.propTypes={loseFocus:M.a.bool};var P=function(t){return{measurementattribute:t.measurementattribute,measurements:t.measurements}},L=function(t){return{actions:Object(w.bindActionCreators)(O({},C.default),t)}};e.a=Object(b.connect)(P,L)(R)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(0),m=n.n(p),g=n(15),v=(n.n(g),n(24)),y=(n.n(v),n(62)),b=n(31),_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),w=Object(g.defineMessages)({Measurements:{id:"MeasurementInformation.measurements",defaultMessage:"Measurements"},NoMeasurements:{id:"MeasurementInformation.noMeasurements",defaultMessage:"No measurements"}}),x=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var l=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return l.toggleMinimized=l.toggleMinimized.bind(l),l}return o(e,t),_(e,[{key:"toggleMinimized",value:function(){this.props.updateMinimizedState()}},{key:"createHeader",value:function(){var t=this.props.minimized;return m.a.createElement("div",{className:"attributes-floating-panel-header"},m.a.createElement(g.FormattedMessage,w.Measurements),m.a.createElement("div",{className:"attributes-floating-panel-controls"},t?m.a.createElement(v.Button,{onClick:this.toggleMinimized},m.a.createElement(y.b.Expand,null)):m.a.createElement(v.Button,{onClick:this.toggleMinimized},m.a.createElement(y.b.Collapse,null))))}},{key:"render",value:function(){var t=this.props.minimized;return m.a.createElement("div",null,m.a.createElement(v.Panel,{className:"measurement-panel-body",header:this.createHeader()},!t&&this.props.children))}}]),e}(b.a);e.a=x},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(3),m=n.n(p),g=n(0),v=n.n(g),y=n(24),b=(n.n(y),n(15)),_=(n.n(b),n(28)),w=(n.n(_),n(36)),x=(n.n(w),n(31)),E=n(382),M=n(252),S=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),T=Object(b.defineMessages)({header:{id:"BaseLayerPanel.header",defaultMessage:"Maps"}}),C=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var l=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return l.selectBaseLayer=function(t){var e=l.props.onSelectBaseLayer;e&&e(t)},l.state={panelHeight:0,initialPanelHeight:0,navbarOffset:46},l.handleResize=l.handleResize.bind(l),l}return o(e,t),S(e,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize);var t=document.getElementsByClassName("baselayerpanel")[0].offsetHeight+this.state.navbarOffset;this.setState({initialPanelHeight:t})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"handleResize",value:function(){this.forceUpdate()}},{key:"render",value:function(){var t=this,e=this.context.intl.formatMessage,n=this.props.layers,r=null,i=n.map(function(t,e){var n=Object(M.b)(t),i={key:n.id,label:n.name,value:n};return n.visible&&(r=i),i}),o={},a=document.getElementsByClassName("viewer")[0];return a&&(o.maxHeight=a.offsetHeight-this.state.navbarOffset),v.a.createElement(y.Panel,{className:"baselayerpanel cmtNavBarPanel",header:e(T.header),style:o},v.a.createElement(E.c,{multiple:!1,WrapperComponent:E.a,ItemComponent:E.b,items:i,value:r,onChange:function(e){var n=e.value;return t.selectBaseLayer(n)}}))}}]),e}(x.a);C.propTypes={layers:m.a.array,onSelectBaseLayer:m.a.func},C.defaultProps={layers:[]};var O=function(t){return{panoramaviewer:t.panoramaviewer}},A=function(t){return{actions:Object(w.bindActionCreators)({},t)}};e.a=Object(_.connect)(O,A,null,{withRef:!0})(C)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(3),a=n.n(o),s=function(t){var e=t.optionName,n=t.itemChecked,r=t.action;return!!t.show&&i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("div",{className:"form-group"},i.a.createElement("div",{className:"checkbox"},i.a.createElement("label",{htmlFor:e,onClick:r},i.a.createElement("input",{id:"#"+e,type:"checkbox",checked:n,onChange:function(){}}),i.a.createElement("span",null,e))))))};s.propTypes={optionName:a.a.string.isRequired,itemChecked:a.a.bool.isRequired,action:a.a.func.isRequired,show:a.a.bool.isRequired},e.a=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(3),m=n.n(p),g=n(0),v=n.n(g),y=n(28),b=(n.n(y),n(24)),_=(n.n(b),n(36)),w=(n.n(_),n(31)),x=n(252),E=n(382),M=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),S=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var l=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return l.state={panelHeight:0,initialPanelHeight:0,navbarOffset:69},l.handleResize=l.handleResize.bind(l),l}return o(e,t),M(e,[{key:"toggleLayer",value:function(t){var e=this.props.onToggleLayer;e&&e(t)}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize);var t=document.getElementsByClassName("layerpanel")[0].offsetHeight+this.state.navbarOffset;this.setState({initialPanelHeight:t})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"handleResize",value:function(){this.forceUpdate()}},{key:"render",value:function(){var t=this,e=this.props.layers,n=[],r=e.map(function(t){var e=Object(x.b)(t),r={key:e.id,label:e.name,value:e,customOverlay:e.customOverlayExtent,srs:e.customOverlayExtent?e.mapProjection:e.projection,locateByExtent:e.locateByExtent};return e.visible&&n.push(r),r}),i={},o=document.getElementsByClassName("viewer")[0];return o&&(i.maxHeight=o.offsetHeight-this.state.navbarOffset),v.a.createElement(b.Panel,{className:"layerpanel panel-overlays",style:i},v.a.createElement(E.c,{multiple:!0,WrapperComponent:E.a,ItemComponent:E.b,items:r,value:n,onChange:function(e){var n=e.value;return t.toggleLayer(n)}}))}}]),e}(w.a);S.propTypes={layers:m.a.array,onToggleLayer:m.a.func},S.defaultProps={layers:[]};var T=function(t){return{panoramaviewer:t.panoramaviewer}},C=function(t){return{actions:Object(_.bindActionCreators)({},t)}};e.a=Object(y.connect)(T,C,null,{withRef:!0})(S)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(3),m=n.n(p),g=n(0),v=n.n(g),y=n(28),b=(n.n(y),n(36)),_=(n.n(b),n(24)),w=(n.n(_),n(15)),x=(n.n(w),n(382)),E=n(31),M=n(80),S=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),T=Object(w.defineMessages)({scaleBarToggle:{id:"ViewerPanel.scaleBarToggle",description:"Text by the checkbox for toggling the scalebar.",defaultMessage:"Show Scalebar"},zoomSliderToggle:{id:"ViewerPanel.zoomSliderToggle",description:"Text by the checkbox for toggling the zoom slider.",defaultMessage:"Show Zoom slider"}}),C=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var l=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return l._toggleControl=l._toggleControl.bind(l),l}return o(e,t),S(e,[{key:"_toggleControl",value:function(t){var n=t.control,r=this.props,i=r.setScaleBarVisibility,o=r.setZoomSliderVisibility,a=r.showScaleBar,s=r.showZoomSlider,l=r.actions.logToggleControl,u=void 0;switch(n){case e.SCALE_BAR:u=!a,i(u);break;case e.ZOOM_SLIDER:u=!s,o(u)}l(n,u)}},{key:"render",value:function(){var t=this.context.intl.formatMessage,n=this.props,r=this._toggleControl,i=[{key:"showScaleBar",label:t(T.scaleBarToggle),control:e.SCALE_BAR},{key:"showZoomSlider",label:t(T.zoomSliderToggle),control:e.ZOOM_SLIDER}],o=[];return i.forEach(function(t){n[t.key]&&o.push(t)},this),v.a.createElement(_.Panel,{className:"layerpanel"},v.a.createElement(x.c,{multiple:!0,WrapperComponent:x.a,ItemComponent:x.b,items:i,value:o,onChange:r}))}}]),e}(E.a);C.SCALE_BAR="scaleBar",C.ZOOM_SLIDER="zoomSlider",C.propTypes={showScaleBar:m.a.bool,showZoomSlider:m.a.bool,setScaleBarVisibility:m.a.func,setZoomSliderVisibility:m.a.func};var O=function(t){return{actions:Object(b.bindActionCreators)({logToggleControl:M.logToggleControl},t)}};e.a=Object(y.connect)(null,O)(C)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=u()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(s.a?s()(t,e):t.__proto__=e)}var a=n(6),s=n.n(a),l=n(5),u=n.n(l),c=n(7),f=n.n(c),h=n(51),d=n.n(h),p=n(1),m=n.n(p),g=n(4),v=n.n(g),y=n(3),b=n.n(y),_=n(0),w=n.n(_),x=n(1379),E=n(599),M=v.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),m()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),T=function t(e,n,r){null===e&&(e=Function.prototype);var i=d()(e,n);if(void 0===i){var o=f()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},C=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=i(this,(t=e.__proto__||f()(e)).call.apply(t,[this].concat(o)));return s._onSlideHandler=s._onSlideHandler.bind(s),s}return o(e,t),S(e,[{key:"_getOnSlideProps",value:function(){return this.props.liveChange||this.props.onSlide?{onSlide:this._onSlideHandler,onChange:this._onSlideHandler}:null}},{key:"_onSlideHandler",value:function(){this.props.liveChange&&this.props.updatePPData&&this.props.updatePPData(this.value),this.props.onSlide&&this.props.onSlide(this.value)}},{key:"renderComponent",value:function(){return w.a.createElement(E.a,M({ref:"slider"},this.buildProps))}},{key:"value",get:function(){return this.refs.slider.getValue()}},{key:"buildProps",get:function(){return M({},T(e.prototype.__proto__||f()(e.prototype),"buildProps",this),this._getOnSlideProps())}}]),e}(x.a);C.propTypes=M({},x.a.propTypes,{onSlide:b.a.func,liveChange:b.a.bool}),C.defaultProps=M({},x.a.defaultProps,{liveChange:!1}),e.a=C},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=c()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var s=n(6),l=n.n(s),u=n(5),c=n.n(u),f=n(7),h=n.n(f),d=n(51),p=n.n(d),m=n(1),g=n.n(m),v=n(3),y=(n.n(v),n(0)),b=n.n(y),_=n(24),w=(n.n(_),n(1380)),x=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),g()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=function t(e,n,r){null===e&&(e=Function.prototype);var i=p()(e,n);if(void 0===i){var o=h()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},M=function(t){function e(){return i(this,e),o(this,(e.__proto__||h()(e)).apply(this,arguments))}return a(e,t),x(e,[{key:"_getClassNameProps",value:function(){return null}},{key:"renderComponent",value:function(){return null}},{key:"render",value:function(){var t={className:"wrapperproperty"};return b.a.createElement(_.FormGroup,t,b.a.createElement(_.Col,{xs:4},b.a.createElement(_.ControlLabel,null,this.props.label)),b.a.createElement(_.Col,{xs:8},this.renderComponent()))}},{key:"buildProps",get:function(){var t=E(e.prototype.__proto__||h()(e.prototype),"buildProps",this);t.label;return r(t,["label"])}}]),e}(w.a);e.a=M},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(7),l=n.n(s),u=n(6),c=n.n(u),f=n(5),h=n.n(f),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(3),y=n.n(v),b=n(0),_=(n.n(b),g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),w=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),x=function(t){function e(){var t;i(this,e);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=o(this,(t=e.__proto__||l()(e)).call.apply(t,[this].concat(r)));return s._onChangeHandler=s._onChangeHandler.bind(s),s}return a(e,t),w(e,[{key:"_getOnChangeProps",value:function(){var t={};return this.props.addOnChangeProps&&(t.onChange=this._onChangeHandler),t}},{key:"_onChangeHandler",value:function(){this.props.updatePPData&&this.props.updatePPData(this.value),this.props.onChange&&this.props.onChange(this.value)}},{key:"render",value:function(){return!1}},{key:"buildProps",get:function(){var t=_({},this.props),e=(t.toolTip,t.labelColumnSize,t.componentColumnSize,t.editable,t.onChange,t.updatePPData,t.addOnChangeProps,t.useNoLabelClass,r(t,["toolTip","labelColumnSize","componentColumnSize","editable","onChange","updatePPData","addOnChangeProps","useNoLabelClass"]));return e=_({},e,this._getOnChangeProps())}}]),e}(b.Component);x.propTypes={label:y.a.oneOfType([y.a.string,y.a.object]),toolTip:y.a.string,labelColumnSize:y.a.number,componentColumnSize:y.a.number,useNoLabelClass:y.a.bool,editable:y.a.bool,updatePPData:y.a.func,addOnChangeProps:y.a.bool,onChange:y.a.func},x.defaultProps={useNoLabelClass:!1,editable:!0,addOnChangeProps:!0,labelColumnSize:void 0,onChange:void 0,toolTip:void 0},e.a=x},function(t,e,n){"use strict";var r,i,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s="object"===("undefined"==typeof window?"undefined":a(window));!function(a){i=[n(253)],r=a,void 0!==(o="function"==typeof r?r.apply(e,i):r)&&(t.exports=o)}(function(t){s&&!window.console&&(window.console={}),s&&!window.console.log&&(window.console.log=function(){}),s&&!window.console.warn&&(window.console.warn=function(){});var e;return function(t){function e(){}var n=Array.prototype.slice;!function(t){function r(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function i(e,r){t.fn[e]=function(i){if("string"==typeof i){for(var a=n.call(arguments,1),s=0,l=this.length;s<l;s++){var u=this[s],c=t.data(u,e);if(c)if(t.isFunction(c[i])&&"_"!==i.charAt(0)){var f=c[i].apply(c,a);if(void 0!==f&&f!==c)return f}else o("no such method '"+i+"' for "+e+" instance");else o("cannot call methods on "+e+" prior to initialization; attempted to call '"+i+"'")}return this}var h=this.map(function(){var n=t.data(this,e);return n?(n.option(i),n._init()):(n=new r(this,i),t.data(this,e,n)),t(this)});return!h||h.length>1?h:h[0]}}if(t){var o="undefined"==typeof console?e:function(t){console.error(t)};t.bridget=function(t,e){r(e),i(t,e)},t.bridget}}(t)}(t),function(t){function n(e,n){this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1},this.ticksCallbackMap={},this.handleCallbackMap={},"string"==typeof e?this.element=document.querySelector(e):e instanceof HTMLElement&&(this.element=e),n=n||{};for(var r=Object.keys(this.defaultOptions),o=0;o<r.length;o++){var a=r[o],s=n[a];s=void 0!==s?s:function(t,e){var n="data-slider-"+e.replace(/_/g,"-"),r=t.getAttribute(n);try{return JSON.parse(r)}catch(t){return r}}(this.element,a),s=null!==s?s:this.defaultOptions[a],this.options||(this.options={}),this.options[a]=s}"auto"===this.options.rtl&&(this.options.rtl="rtl"===window.getComputedStyle(this.element).direction),"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.rtl?this.options.tooltip_position="left":this.options.tooltip_position="right";var l,u,c,f,h,d=this.element.style.width,p=!1,m=this.element.parentNode;if(this.sliderElem)p=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var g=document.createElement("div");g.className="slider-track",u=document.createElement("div"),u.className="slider-track-low",l=document.createElement("div"),l.className="slider-selection",c=document.createElement("div"),c.className="slider-track-high",f=document.createElement("div"),f.className="slider-handle min-slider-handle",f.setAttribute("role","slider"),f.setAttribute("aria-valuemin",this.options.min),f.setAttribute("aria-valuemax",this.options.max),h=document.createElement("div"),h.className="slider-handle max-slider-handle",h.setAttribute("role","slider"),h.setAttribute("aria-valuemin",this.options.min),h.setAttribute("aria-valuemax",this.options.max),g.appendChild(u),g.appendChild(l),g.appendChild(c),this.rangeHighlightElements=[];var v=this.options.rangeHighlights;if(Array.isArray(v)&&v.length>0)for(var y=0;y<v.length;y++){var b=document.createElement("div"),_=v[y].class||"";b.className="slider-rangeHighlight slider-selection "+_,this.rangeHighlightElements.push(b),g.appendChild(b)}var w=Array.isArray(this.options.labelledby);if(w&&this.options.labelledby[0]&&f.setAttribute("aria-labelledby",this.options.labelledby[0]),w&&this.options.labelledby[1]&&h.setAttribute("aria-labelledby",this.options.labelledby[1]),!w&&this.options.labelledby&&(f.setAttribute("aria-labelledby",this.options.labelledby),h.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(this.ticksContainer=document.createElement("div"),this.ticksContainer.className="slider-tick-container",o=0;o<this.options.ticks.length;o++){var x=document.createElement("div");if(x.className="slider-tick",this.options.ticks_tooltip){var E=this._addTickListener(),M=E.addMouseEnter(this,x,o),S=E.addMouseLeave(this,x);this.ticksCallbackMap[o]={mouseEnter:M,mouseLeave:S}}this.ticks.push(x),this.ticksContainer.appendChild(x)}l.className+=" tick-slider-selection"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",o=0;o<this.options.ticks_labels.length;o++){var T=document.createElement("div"),C=0===this.options.ticks_positions.length,O=this.options.reversed&&C?this.options.ticks_labels.length-(o+1):o;T.className="slider-tick-label",T.innerHTML=this.options.ticks_labels[O],this.tickLabels.push(T),this.tickLabelContainer.appendChild(T)}var A=function(t){var e=document.createElement("div");e.className="tooltip-arrow";var n=document.createElement("div");n.className="tooltip-inner",t.appendChild(e),t.appendChild(n)},I=document.createElement("div");I.className="tooltip tooltip-main",I.setAttribute("role","presentation"),A(I);var R=document.createElement("div");R.className="tooltip tooltip-min",R.setAttribute("role","presentation"),A(R);var P=document.createElement("div");P.className="tooltip tooltip-max",P.setAttribute("role","presentation"),A(P),this.sliderElem.appendChild(g),this.sliderElem.appendChild(I),this.sliderElem.appendChild(R),this.sliderElem.appendChild(P),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer),this.sliderElem.appendChild(f),this.sliderElem.appendChild(h),m.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(t&&(this.$element=t(this.element),this.$sliderElem=t(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),i[this.options.scale]&&(this.options.scale=i[this.options.scale]),!0===p&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.sliderElem,"slider-rtl"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","right","top","width","height"].forEach(function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)},this),[this.handle1,this.handle2].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top"),this._removeProperty(t,"margin-left"),this._removeProperty(t,"margin-right"),this._removeProperty(t,"margin-top"),this._removeClass(t,"right"),this._removeClass(t,"left"),this._removeClass(t,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=d,this.options.orientation="horizontal",this.options.rtl?this.stylePos="right":this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"),this.options.rtl&&this._addClass(this.sliderElem,"slider-rtl"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=u||this.trackLow,this.trackSelection=l||this.trackSelection,this.trackHigh=c||this.trackHigh,"none"===this.options.selection?(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")):"after"!==this.options.selection&&"before"!==this.options.selection||(this._removeClass(this.trackLow,"hide"),this._removeClass(this.trackSelection,"hide"),this._removeClass(this.trackHigh,"hide")),this.handle1=f||this.handle1,this.handle2=h||this.handle2,!0===p)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),o=0;o<this.ticks.length;o++)this._removeClass(this.ticks[o],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),o=0;o<this.ticks.length;o++)this._addClass(this.ticks[o],this.options.handle);if(this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable){var L=!1;try{var N=Object.defineProperty({},"passive",{get:function(){L=!0}});window.addEventListener("test",null,N)}catch(t){}var k=!!L&&{passive:!0};this.sliderElem.addEventListener("touchstart",this.touchstart,k),this.sliderElem.addEventListener("touchmove",this.touchmove,k)}if(this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip)this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide");else if("always"===this.options.tooltip)this._showTooltip(),this._alwaysShowTooltip=!0;else{if(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.options.ticks_tooltip){var D=this._addTickListener(),F=D.addMouseEnter(this,this.handle1),j=D.addMouseLeave(this,this.handle1);this.handleCallbackMap.handle1={mouseEnter:F,mouseLeave:j},F=D.addMouseEnter(this,this.handle2),j=D.addMouseLeave(this,this.handle2),this.handleCallbackMap.handle2={mouseEnter:F,mouseLeave:j}}else this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1);this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)}this.options.enabled?this.enable():this.disable()}var r={formatInvalidInputErrorMsg:function(t){return"Invalid input value '"+t+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},i={linear:{toValue:function(t){var e=t/100*(this.options.max-this.options.min),n=!0;if(this.options.ticks_positions.length>0){for(var r,i,o,a=0,s=1;s<this.options.ticks_positions.length;s++)if(t<=this.options.ticks_positions[s]){r=this.options.ticks[s-1],o=this.options.ticks_positions[s-1],i=this.options.ticks[s],a=this.options.ticks_positions[s];break}e=r+(t-o)/(a-o)*(i-r),n=!1}var l=n?this.options.min:0,u=l+Math.round(e/this.options.step)*this.options.step;return u<this.options.min?this.options.min:u>this.options.max?this.options.max:u},toPercentage:function(t){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var e,n,r,i=0,o=0;o<this.options.ticks.length;o++)if(t<=this.options.ticks[o]){e=o>0?this.options.ticks[o-1]:0,r=o>0?this.options.ticks_positions[o-1]:0,n=this.options.ticks[o],i=this.options.ticks_positions[o];break}if(o>0){return r+(t-e)/(n-e)*(i-r)}}return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(t){var e=0===this.options.min?0:Math.log(this.options.min),n=Math.log(this.options.max),r=Math.exp(e+(n-e)*t/100);return Math.round(r)===this.options.max?this.options.max:(r=this.options.min+Math.round((r-this.options.min)/this.options.step)*this.options.step,r<this.options.min?this.options.min:r>this.options.max?this.options.max:r)},toPercentage:function(t){if(this.options.max===this.options.min)return 0;var e=Math.log(this.options.max),n=0===this.options.min?0:Math.log(this.options.min);return 100*((0===t?0:Math.log(t))-n)/(e-n)}}};if(e=function(t,e){return n.call(this,t,e),this},e.prototype={_init:function(){},constructor:e,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,rtl:"auto",enabled:!0,formatter:function(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,ticks_tooltip:!1,scale:"linear",focus:!1,tooltip_position:null,labelledby:null,rangeHighlights:[]},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(t,e,n){t||(t=0);var r=this.getValue();this._state.value=this._validateInputValue(t);var i=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=i(this._state.value[0]),this._state.value[1]=i(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=i(this._state.value),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var o=this.options.range?this._state.value:this._state.value[0];return this._setDataVal(o),!0===e&&this._trigger("slide",o),r!==o&&!0===n&&this._trigger("change",{oldValue:r,newValue:o}),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),t&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(t,e){return this._bindNonQueryEventHandler(t,e),this},off:function(e,n){t?(this.$element.off(e,n),this.$sliderElem.off(e,n)):this._unbindNonQueryEventHandler(e,n)},getAttribute:function(t){return t?this.options[t]:this.options},setAttribute:function(t,e){return this.options[t]=e,this},refresh:function(){return this._removeSliderEventHandlers(),n.call(this,this.element,this.options),t&&t.data(this.element,"slider",this),this},relayout:function(){return this._resize(),this._layout(),this},_removeSliderEventHandlers:function(){if(this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.options.ticks_tooltip){for(var t=this.ticksContainer.getElementsByClassName("slider-tick"),e=0;e<t.length;e++)t[e].removeEventListener("mouseenter",this.ticksCallbackMap[e].mouseEnter,!1),t[e].removeEventListener("mouseleave",this.ticksCallbackMap[e].mouseLeave,!1);this.handle1.removeEventListener("mouseenter",this.handleCallbackMap.handle1.mouseEnter,!1),this.handle2.removeEventListener("mouseenter",this.handleCallbackMap.handle2.mouseEnter,!1),this.handle1.removeEventListener("mouseleave",this.handleCallbackMap.handle1.mouseLeave,!1),this.handle2.removeEventListener("mouseleave",this.handleCallbackMap.handle2.mouseLeave,!1)}this.handleCallbackMap=null,this.ticksCallbackMap=null,this.showTooltip&&(this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle2.removeEventListener("focus",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("blur",this.hideTooltip,!1)),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.touchstart,!1),this.sliderElem.removeEventListener("touchmove",this.touchmove,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(t,e){void 0===this.eventToCallbackMap[t]&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(e)},_unbindNonQueryEventHandler:function(t,e){var n=this.eventToCallbackMap[t];if(void 0!==n)for(var r=0;r<n.length;r++)if(n[r]===e){n.splice(r,1);break}},_cleanUpEventCallbacksMap:function(){for(var t=Object.keys(this.eventToCallbackMap),e=0;e<t.length;e++){var n=t[e];delete this.eventToCallbackMap[n]}},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){!1===this._state.inDrag&&!0!==this.alwaysShowTooltip&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_setToolTipOnMouseOver:function(t){function e(t,e){return e?[100-t.percentage[0],this.options.range?100-t.percentage[1]:t.percentage[1]]:[t.percentage[0],t.percentage[1]]}var n=this.options.formatter(t?t.value[0]:this._state.value[0]),r=t?e(t,this.options.reversed):e(this._state,this.options.reversed);this._setText(this.tooltipInner,n),this.tooltip.style[this.stylePos]=r[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px")},_addTickListener:function(){return{addMouseEnter:function(t,e,n){var r=function(){var e=t._state,r=n>=0?n:this.attributes["aria-valuenow"].value,i=parseInt(r,10);e.value[0]=i,e.percentage[0]=t.options.ticks_positions[i],t._setToolTipOnMouseOver(e),t._showTooltip()};return e.addEventListener("mouseenter",r,!1),r},addMouseLeave:function(t,e){var n=function(){t._hideTooltip()};return e.addEventListener("mouseleave",n,!1),n}}},_layout:function(){var t;if(t=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),isNaN(this.options.formatter(this._state.value[0]))&&this.handle1.setAttribute("aria-valuetext",this.options.formatter(this._state.value[0])),this.handle2.style[this.stylePos]=t[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),isNaN(this.options.formatter(this._state.value[1]))&&this.handle2.setAttribute("aria-valuetext",this.options.formatter(this._state.value[1])),this.rangeHighlightElements.length>0&&Array.isArray(this.options.rangeHighlights)&&this.options.rangeHighlights.length>0)for(var e=0;e<this.options.rangeHighlights.length;e++){var n=this._toPercentage(this.options.rangeHighlights[e].start),r=this._toPercentage(this.options.rangeHighlights[e].end);if(this.options.reversed){var i=100-r;r=100-n,n=i}var o=this._createHighlightRange(n,r);o?"vertical"===this.options.orientation?(this.rangeHighlightElements[e].style.top=o.start+"%",this.rangeHighlightElements[e].style.height=o.size+"%"):(this.options.rtl?this.rangeHighlightElements[e].style.right=o.start+"%":this.rangeHighlightElements[e].style.left=o.start+"%",this.rangeHighlightElements[e].style.width=o.size+"%"):this.rangeHighlightElements[e].style.display="none"}if(Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var a,s="vertical"===this.options.orientation?"height":"width";a="vertical"===this.options.orientation?"marginTop":this.options.rtl?"marginRight":"marginLeft";var l=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var u=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[a]=-l/2+"px"),u=this.tickLabelContainer.offsetHeight;else for(c=0;c<this.tickLabelContainer.childNodes.length;c++)this.tickLabelContainer.childNodes[c].offsetHeight>u&&(u=this.tickLabelContainer.childNodes[c].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=u+"px")}for(var c=0;c<this.options.ticks.length;c++){var f=this.options.ticks_positions[c]||this._toPercentage(this.options.ticks[c]);this.options.reversed&&(f=100-f),this.ticks[c].style[this.stylePos]=f+"%",this._removeClass(this.ticks[c],"in-selection"),this.options.range?f>=t[0]&&f<=t[1]&&this._addClass(this.ticks[c],"in-selection"):"after"===this.options.selection&&f>=t[0]?this._addClass(this.ticks[c],"in-selection"):"before"===this.options.selection&&f<=t[0]&&this._addClass(this.ticks[c],"in-selection"),this.tickLabels[c]&&(this.tickLabels[c].style[s]=l+"px","vertical"!==this.options.orientation&&void 0!==this.options.ticks_positions[c]?(this.tickLabels[c].style.position="absolute",this.tickLabels[c].style[this.stylePos]=f+"%",this.tickLabels[c].style[a]=-l/2+"px"):"vertical"===this.options.orientation&&(this.options.rtl?this.tickLabels[c].style.marginRight=this.sliderElem.offsetWidth+"px":this.tickLabels[c].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style[a]=this.sliderElem.offsetWidth/2*-1+"px"))}}var h;if(this.options.range){h=this.options.formatter(this._state.value),this._setText(this.tooltipInner,h),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px");var d=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,d);var p=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,p),this.tooltip_min.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-"+this.stylePos,-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-"+this.stylePos,-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=t[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-"+this.stylePos,-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-"+this.stylePos,-this.tooltip_max.offsetWidth/2+"px")}else h=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,h),this.tooltip.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px");if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{"right"===this.stylePos?this.trackLow.style.right="0":this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%","right"===this.stylePos?this.trackSelection.style.right=Math.min(t[0],t[1])+"%":this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%","right"===this.stylePos?this.trackHigh.style.left="0":this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var m=this.tooltip_min.getBoundingClientRect(),g=this.tooltip_max.getBoundingClientRect();"bottom"===this.options.tooltip_position?m.right>g.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):m.right>g.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_createHighlightRange:function(t,e){return this._isHighlightRange(t,e)?t>e?{start:e,size:t-e}:{start:t,size:e-t}:null},_isHighlightRange:function(t,e){return 0<=t&&t<=100&&0<=e&&e<=100},_resize:function(t){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},_mousedown:function(t){if(!this._state.enabled)return!1;this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var e=this._getPercentage(t);if(this.options.range){var n=Math.abs(this._state.percentage[0]-e),r=Math.abs(this._state.percentage[1]-e);this._state.dragged=n<r?0:1,this._adjustPercentageForRangeSliders(e)}else this._state.dragged=0;this._state.percentage[this._state.dragged]=e,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var i=this._calculateValue();return this._trigger("slideStart",i),this._setDataVal(i),this.setValue(i,!1,!0),t.returnValue=!1,this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function(t){if(void 0===t.changedTouches)return void this._mousedown(t);var e=t.changedTouches[0];this.touchX=e.pageX,this.touchY=e.pageY},_triggerFocusOnHandle:function(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function(t,e){if(!this._state.enabled)return!1;var n;switch(e.keyCode){case 37:case 40:n=-1;break;case 39:case 38:n=1}if(n){if(this.options.natural_arrow_keys){var r="vertical"===this.options.orientation&&!this.options.reversed,i="horizontal"===this.options.orientation&&this.options.reversed;(r||i)&&(n=-n)}var o=this._state.value[t]+n*this.options.step,a=o/this.options.max*100;if(this._state.keyCtrl=t,this.options.range){this._adjustPercentageForRangeSliders(a);o=[this._state.keyCtrl?this._state.value[0]:o,this._state.keyCtrl?o:this._state.value[1]]}return this._trigger("slideStart",o),this._setDataVal(o),this.setValue(o,!0,!0),this._setDataVal(o),this._trigger("slideStop",o),this._layout(),this._pauseEvent(e),delete this._state.keyCtrl,!1}},_pauseEvent:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function(t){if(!this._state.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e,this._layout();var n=this._calculateValue(!0);return this.setValue(n,!0,!0),!1},_touchmove:function(t){if(void 0!==t.changedTouches){var e=t.changedTouches[0],n=e.pageX-this.touchX,r=e.pageY-this.touchY;this._state.inDrag||("vertical"===this.options.orientation&&n<=5&&n>=-5&&(r>=15||r<=-15)?this._mousedown(t):r<=5&&r>=-5&&(n>=15||n<=-15)&&this._mousedown(t))}},_adjustPercentageForRangeSliders:function(t){if(this.options.range){var e=this._getNumDigitsAfterDecimalPlace(t);e=e?e-1:0;var n=this._applyToFixedAndParseFloat(t,e);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],e)<n?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],e)>n?(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0):0===this._state.keyCtrl&&this._state.value[1]/this.options.max*100<t?(this._state.percentage[0]=this._state.percentage[1],this._state.keyCtrl=1,this.handle2.focus()):1===this._state.keyCtrl&&this._state.value[0]/this.options.max*100>t&&(this._state.percentage[1]=this._state.percentage[0],this._state.keyCtrl=0,this.handle1.focus())}},_mouseup:function(){if(!this._state.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!1,!1===this._state.over&&this._hideTooltip();var t=this._calculateValue(!0);return this._layout(),this._setDataVal(t),this._trigger("slideStop",t),!1},_calculateValue:function(t){var e;if(this.options.range?(e=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(e[0]=this._toValue(this._state.percentage[0]),e[0]=this._applyPrecision(e[0])),100!==this._state.percentage[1]&&(e[1]=this._toValue(this._state.percentage[1]),e[1]=this._applyPrecision(e[1]))):(e=this._toValue(this._state.percentage[0]),e=parseFloat(e),e=this._applyPrecision(e)),t){for(var n=[e,1/0],r=0;r<this.options.ticks.length;r++){var i=Math.abs(this.options.ticks[r]-e);i<=n[1]&&(n=[this.options.ticks[r],i])}if(n[1]<=this.options.ticks_snap_bounds)return n[0]}return e},_applyPrecision:function(t){var e=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,e)},_getNumDigitsAfterDecimalPlace:function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_applyToFixedAndParseFloat:function(t,e){var n=t.toFixed(e);return parseFloat(n)},_getPercentage:function(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type||(t=t.touches[0]);var e=t[this.mousePos],n=this._state.offset[this.stylePos],r=e-n;"right"===this.stylePos&&(r=-r);var i=r/this._state.size*100;return i=Math.round(i/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(i=100-i),Math.max(0,Math.min(100,i))},_validateInputValue:function(t){if(isNaN(+t)){if(Array.isArray(t))return this._validateArray(t),t;throw new Error(r.formatInvalidInputErrorMsg(t))}return+t},_validateArray:function(t){for(var e=0;e<t.length;e++){var n=t[e];if("number"!=typeof n)throw new Error(r.formatInvalidInputErrorMsg(n))}},_setDataVal:function(t){this.element.setAttribute("data-value",t),this.element.setAttribute("value",t),this.element.value=t},_trigger:function(e,n){n=n||0===n?n:void 0;var r=this.eventToCallbackMap[e];if(r&&r.length)for(var i=0;i<r.length;i++){var o=r[i];o(n)}t&&this._triggerJQueryEvent(e,n)},_triggerJQueryEvent:function(t,e){var n={type:t,value:e};this.$element.trigger(n),this.$sliderElem.trigger(n)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(t,e){void 0!==t.textContent?t.textContent=e:void 0!==t.innerText&&(t.innerText=e)},_removeClass:function(t,e){for(var n=e.split(" "),r=t.className,i=0;i<n.length;i++){var o=n[i],a=new RegExp("(?:\\s|^)"+o+"(?:\\s|$)");r=r.replace(a," ")}t.className=r.trim()},_addClass:function(t,e){for(var n=e.split(" "),r=t.className,i=0;i<n.length;i++){var o=n[i];new RegExp("(?:\\s|^)"+o+"(?:\\s|$)").test(r)||(r+=" "+o)}t.className=r.trim()},_offsetLeft:function(t){return t.getBoundingClientRect().left},_offsetRight:function(t){return t.getBoundingClientRect().right},_offsetTop:function(t){for(var e=t.offsetTop;(t=t.offsetParent)&&!isNaN(t.offsetTop);)e+=t.offsetTop,"BODY"!==t.tagName&&(e-=t.scrollTop);return e},_offset:function(t){return{left:this._offsetLeft(t),right:this._offsetRight(t),top:this._offsetTop(t)}},_css:function(e,n,r){if(t)t.style(e,n,r);else{var i=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()});e.style[i]=r}},_toValue:function(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function(t){return this.options.scale.toPercentage.apply(this,[t])},_setTooltipPosition:function(){var t=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var e;e=this.options.tooltip_position?this.options.tooltip_position:this.options.rtl?"left":"right";var n="left"===e?"right":"left";t.forEach(function(t){this._addClass(t,e),t.style[n]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?t.forEach(function(t){this._addClass(t,"bottom"),t.style.top="22px"}.bind(this)):t.forEach(function(t){this._addClass(t,"top"),t.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},t&&t.fn){var o=void 0;t.fn.slider?(s&&window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead."),o="bootstrapSlider"):(t.bridget("slider",e),o="slider"),t.bridget("bootstrapSlider",e),t(function(){t("input[data-provide=slider]")[o]()})}}(t),e})},function(t,e,n){"use strict";var r=n(15);n.n(r);e.a=Object(r.defineMessages)({left:{id:"view.left",defaultMessage:"Left"},right:{id:"view.right",defaultMessage:"Right"},up:{id:"view.up",defaultMessage:"Up"},down:{id:"view.down",defaultMessage:"Down"},north:{id:"view.north",defaultMessage:"North"},east:{id:"view.east",defaultMessage:"East"},south:{id:"view.south",defaultMessage:"South"},west:{id:"view.west",defaultMessage:"West"},heading:{id:"view.heading",defaultMessage:"Heading"},yaw:{id:"view.yaw",defaultMessage:"Yaw"},pitch:{id:"view.pitch",defaultMessage:"Pitch"},roll:{id:"view.roll",defaultMessage:"Roll"},focalLength:{id:"view.focalLength",defaultMessage:"Focal length"},fov:{id:"view.fov",defaultMessage:"Field of view"},move:{id:"view.move",defaultMessage:"Move"},moveUp:{id:"view.moveUp",description:"Move up (in film terms: pedestal up)",defaultMessage:"Move up"},moveDown:{id:"view.moveDown",description:"Move down (in film terms: pedestal down)",defaultMessage:"Move down"},moveLeft:{id:"view.moveLeft",description:"Move left (in film terms: truck left)",defaultMessage:"Move left"},moveRight:{id:"view.moveRight",description:"Move right (in film terms: truck right)",defaultMessage:"Move right"},moveForward:{id:"view.moveForward",description:"Move forward (in film terms: dolly forward)",defaultMessage:"Move forward"},moveBackward:{id:"view.moveBackward",description:"Move backward (in film terms: dolly backward)",defaultMessage:"Move backward"},drag:{id:"view.drag",defaultMessage:"Drag"},rotate:{id:"view.rotate",description:"2D Rotation (e.g. on a map)",defaultMessage:"Rotate"},rotateLeft:{id:"view.rotateLeft",defaultMessage:"Rotate left"},rotateRight:{id:"view.rotateRight",defaultMessage:"Rotate right"},pan:{id:"view.pan",description:"3D Rotation around the Z (vertical) axis",defaultMessage:"Pan"},panLeft:{id:"view.panLeft",defaultMessage:"Pan left"},panRight:{id:"view.panRight",defaultMessage:"Pan right"},tilt:{id:"view.tilt",description:"3D Rotation around the X (horizontal) axis",defaultMessage:"Tilt"},tiltUp:{id:"view.tiltUp",defaultMessage:"Tilt up"},tiltDown:{id:"view.tiltDown",defaultMessage:"Tilt down"},zoom:{id:"view.zoom",defaultMessage:"Zoom"},zoomIn:{id:"view.zoomIn",defaultMessage:"Zoom in"},zoomOut:{id:"view.zoomOut",defaultMessage:"Zoom out"},brightness:{id:"view.brightness",defaultMessage:"Brightness"},contrast:{id:"view.contrast",defaultMessage:"Contrast"},transparency:{id:"view.transparency",defaultMessage:"Transparency"}})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var e=new a;return e.defaultSrsName=Object(o.e)(t,"gsc:DefaultSRSName"),e}e.a=i;var o=n(121),a=function t(){r(this,t)}},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=_()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(y.a?y()(t,e):t.__proto__=e)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){e.name=Object(C.e)(t,"gsc:Name"),e.description=Object(C.e)(t,"gsc:Description");var n=Object(C.a)(Object(C.e)(t,"gsc:OnlineResource")).map(function(t){return Object(C.e)(t,"@xlink:href")}),r=/^(.+){(.)-(.)}(.+)$/;Object(C.a)(Object(C.e)(t,"gsc:OnlineResourcePattern")).map(function(t){return Object(C.e)(t,"@xlink:href")}).forEach(function(t){var e=r.exec(t);if(e)for(var i=e[1],o=e[4],a=e[2].charCodeAt(0),s=e[3].charCodeAt(0),l=a;l<=s;++l)n.push(i+String.fromCharCode(l)+o);else n.push(t)}),e.onlineResources=n,1===n.length&&(e.onlineResource=n[0])}function s(t){var e=new A;return a(t,e),e}function l(t){var e=new I;return a(t,e),e.code=Object(C.e)(t,"gsc:Code","NL"),e.databaseResource=Object(C.e)(t,"gsc:DatabaseResource","CMDatabase"),e.srsName=Object(C.e)(t,"gsc:SRSName"),e}function u(t){var e=new A;return e.name="Proxy service",e.description="Proxy service",e.url=Object(C.e)(t,"@xlink:href"),e}function c(t){var e=new R,n=!0,r=!1,i=void 0;try{for(var o,a=M()(h()(t));!(n=(o=a.next()).done);n=!0){var s=o.value,l=t[s];if(P.has(s)){var u=P.get(s),c=O(u,2),f=c[0],d=c[1];e[f]=d.call(this,l)}else T.a.warn("Unknown child: "+s)}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return e}e.a=c;var f=n(40),h=n.n(f),d=n(87),p=n.n(d),m=n(7),g=n.n(m),v=n(6),y=n.n(v),b=n(5),_=n.n(b),w=n(23),x=n.n(w),E=n(17),M=n.n(E),S=n(34),T=n.n(S),C=n(121),O=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=M()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(x()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),A=function t(){o(this,t)},I=function(t){function e(){return o(this,e),r(this,(e.__proto__||g()(e)).apply(this,arguments))}return i(e,t),e}(A),R=function t(){o(this,t)},P=new p.a([["gsc:AddressService",["address",l]],["gsc:ConfigurationService",["configuration",s]],["gsc:UserGeneratedContentService",["contentCollaboration",s]],["gsc:PanoramaService",["panorama",s]],["gsc:PanoramaTilesService",["panoramaTile",s]],["gsc:DepthTilesService",["depthTile",s]],["gsc:RecordingLocationService",["recording",s]],["gsc:SmartClickMeasurementService",["smartClick",s]],["gsc:UsageLoggingService",["usageLogging",s]],["gsc:PanoramaRenderingService",["panoramaRendering",s]],["gsc:ObliqueLocationService",["obliqueLocation",s]],["gsc:ObliqueTilesService",["obliqueTile",s]],["gsc:ProxyService",["proxy",u]],["gsc:UserProfileService",["userProfile",s]]])},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var e=new a;return e.interactionLevel=parseInt(Object(o.e)(t,"gsc:InteractionLevel",-1),10),e.viewStateLevel=parseInt(Object(o.e)(t,"gsc:ViewStateLevel",-1),10),e.settingsLevel=parseInt(Object(o.e)(t,"gsc:SettingsLevel",-1),10),e.managerLevel=parseInt(Object(o.e)(t,"gsc:ManagersLevel",-1),10),e.errorLevel=parseInt(Object(o.e)(t,"gsc:ErrorsLevel",-1),10),e.processInitialEvents=parseInt(Object(o.e)(t,"gsc:ProcessInitialEvents")),e}e.a=i;var o=n(121),a=function t(){r(this,t)}},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(4),a=n.n(o),s=n(16),l=(n.n(s),n(610)),u=n(105),c=a.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f={customerLogo:null};e.a=Object(s.handleActions)(function(t,e,n){return e in t?i()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},l.ActionTypes.LOAD_CUSTOMER_LOGO,{next:function(t,e){return c({},t,{customerLogo:e.payload})},throw:u.b}),f)},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(4),a=n.n(o),s=n(16),l=(n.n(s),n(385)),u=a.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c={elevationLvl:0};e.a=Object(s.handleActions)(function(t,e,n){return e in t?i()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},l.ActionTypes.UPDATE,function(t,e){return u({},t,e.payload)}),c)},function(t,e,n){"use strict";function r(t,e,n){return e in t?a()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i,o=n(1),a=n.n(o),s=n(4),l=n.n(s),u=n(16),c=(n.n(u),n(112)),f=l.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h={content:null,style:"info",delay:5e3,dismiss:!0,visible:!1};e.a=Object(u.handleActions)((i={},r(i,c.ActionTypes.SHOW_FLASH_MESSAGE,function(t,e){return f({},h,e.payload,{visible:!0})}),r(i,c.ActionTypes.HIDE_FLASH_MESSAGE,function(){return{visible:!1}}),i),h)},function(t,e,n){"use strict";function r(t,e,n){return e in t?a()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i,o=n(1),a=n.n(o),s=n(4),l=n.n(s),u=n(16),c=(n.n(u),n(105)),f=n(27),h=n(276),d=n(1390),p=n(204),m=n(209),g=l.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v=/^([a-z]{2,})-?/,y={en:"en-GB",pt:"pt-BR"},b=navigator.language,_=void 0,w=v.exec(b);if(w&&w[1]&&(_=w[1]),b in d.a||(b=y[_]&&y[_]in d.a?y[_]:_ in d.a?_:"en-GB"),p.a.getLocalStorageEnabled()){var x=m.a.getItem(f.UserProfileGlobalKeys.LOCALE);x&&x in d.a&&(b=x)}var E={locale:b,messages:null,formats:void 0,dev:!1};e.a=Object(u.handleActions)((i={},r(i,f.ActionTypes.LOAD_USER_PROFILE,function(t,e){var n=e.payload,r=b;return f.UserProfileGlobalKeys.LOCALE in n?r=n[f.UserProfileGlobalKeys.LOCALE]:t.locale&&(r=t.locale),"dev"===r?g({},t,{dev:!0}):g({},t,{locale:r,dev:!1})}),r(i,h.ActionTypes.SET_LOCALE,{next:function(t,e){return g({},t,{locale:e.payload.locale,messages:e.payload.messages})},throw:c.b}),i),E)},function(t,e,n){"use strict";var r=n(15);n.n(r);e.a=Object(r.defineMessages)({de:{id:"lang.de",defaultMessage:"German"},"en-GB":{id:"lang.en_gb",defaultMessage:"English (GB)"},"en-US":{id:"lang.en_us",defaultMessage:"English (US)"},fi:{id:"lang.fi",defaultMessage:"Finnish"},fr:{id:"lang.fr",defaultMessage:"French"},nl:{id:"lang.nl",defaultMessage:"Dutch"},tr:{id:"lang.tr",defaultMessage:"Turkish"}})},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e,n){return e in t?p()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return h()(t)}var a,s=n(40),l=n.n(s),u=n(17),c=n.n(u),f=n(30),h=n.n(f),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(16),y=(n.n(v),n(34)),b=n.n(y),_=n(179),w=n(27),x=n(179),E=n(71),M=n(351),S=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T={baseLayers:{all:[]},overlays:{all:[]},layerSettings:{}},C=function(t){if(!t)throw new Error(Object(E.b)(M.a.invalidKey,{type:t}));if(t!==_.LayerType.BASELAYER&&t!==_.LayerType.OVERLAY)throw new Error(Object(E.b)(M.a.unknownKey,{type:t}))},O=function(t,e,n){if(e in t&&t[e].some(function(t){return t.id===n.id}))throw new Error(Object(E.b)(M.a.duplicateKey,{key:n.id}))},A=function(t,e,n){O(t,e,n);var r=t[e]||[],a=r.length,s=n.sortOrder,l=a;if(s>=0)for(l=0;l<a;++l){var u=r[l].sortOrder;if(u<0)break;if(s<u)break}return S({},t,i({},e,[].concat(o(r.slice(0,l)),[n],o(r.slice(l)))))},I=function(t,e,n){var r=t;try{if("*"===e){var i=!0,o=!1,a=void 0;try{for(var s,u=c()(l()(t));!(i=(s=u.next()).done);i=!0){var f=s.value;r=A(r,f,n)}}catch(t){o=!0,a=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}}else if("string"==typeof e||e instanceof String)r=A(r,e,n);else if(e instanceof Array)for(var h=0;h<e.length;h++)r=A(r,e[h],n);return r}catch(e){return b.a.warn("[ADD_LAYER] "+e.message),t}},R=function(t,e,n){try{var r=n.reduce(function(t,n){return I(t,e,n)},t);return"*"===e||r[e]||(r[e]=[]),r}catch(e){return b.a.warn("[ADD_LAYERS] "+e.message),t}},P=function(t,e,n,r,a,s){var l=t[e]||[],u=l.findIndex(function(t){return t.id===s}),c=l[u].layers.findIndex(function(t){return t.id===n.id});return S({},t,i({},e,[].concat(o(l.slice(0,u).concat([S({},l[u],{layers:[].concat(o(l[u].layers.slice(0,c).concat([S({},l[u].layers[c],n)]).concat(l[u].layers.slice(c+1))))})]).concat(l.slice(u+1))))))},L=function(t,e,n){var r=t[e]||[],a=r.findIndex(function(t){return t.id===n.id});return S({},t,i({},e,[].concat(o(r.slice(0,a).concat([S({},r[a],n)]).concat(r.slice(a+1))))))},N=function(t,e,n,r,i,o){var a=t;try{if("*"===n){var s=!0,u=!1,f=void 0;try{for(var h,d=c()(l()(t));!(s=(h=d.next()).done);s=!0){var p=h.value;a=P(a,p,e,0,0,o)}}catch(t){u=!0,f=t}finally{try{!s&&d.return&&d.return()}finally{if(u)throw f}}}else if("string"==typeof n||n instanceof String)a=P(a,n,e,0,0,o);else if(n instanceof Array)for(var m=0;m<n.length;m++)a=P(a,n[m],e,0,0,o);return a}catch(e){return b.a.warn("[UPDATE_SUB_LAYER] "+e.message),t}},k=function(t,e,n){var r=t;try{if("*"===n){var i=!0,o=!1,a=void 0;try{for(var s,u=c()(l()(t));!(i=(s=u.next()).done);i=!0){var f=s.value;r=L(r,f,e)}}catch(t){o=!0,a=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}}else if("string"==typeof n||n instanceof String)r=L(r,n,e);else if(n instanceof Array)for(var h=0;h<n.length;h++)r=L(r,n[h],e);return r}catch(e){return b.a.warn("[UPDATE_LAYER] "+e.message),t}},D=function(t,e){return t.map(function(t){var n=t.id===e;return n!==t.visible?S({},t,{visible:n}):t})},F=function(t,e,n){return t.map(function(t){return t.id===e&&t.visible!==n?S({},t,{visible:n}):t})};e.a=Object(v.handleActions)((a={},i(a,w.LOAD_USER_PROFILE,function(t,e){var n=S({},t),r=e.payload;if(w.UserProfileConfigKeys.LAYER_SETTINGS in r){var i=JSON.parse(r[w.UserProfileConfigKeys.LAYER_SETTINGS]),o=n.overlays.all,a={};o.forEach(function(t){t.id in i&&(a[t.id]=i[t.id])}),n.layerSettings=0===o.length?i:a}if(w.UserProfileConfigKeys.BASE_LAYER in r&&(n.baseLayer=r[w.UserProfileConfigKeys.BASE_LAYER]),x.LAYER_INDEX in r){var s=r[x.LAYER_INDEX];s=s&&0!==s.length&&""!==s?JSON.parse(r[x.LAYER_INDEX]):[];var l=[];s.forEach(function(t){if(t in r){var e=JSON.parse(r[t]);l.push(e)}}),l.length>=1&&(n.customLayers=l)}return n}),i(a,_.ADD_LAYER,function(t,e){var n=e.payload,r=n.type,o=n.storeId,a=n.layer;try{return C(r),S({},t,i({},r,I(t[r],o,a)))}catch(e){return b.a.warn("[ADD_LAYER] "+e.message),t}}),i(a,_.ADD_LAYERS,function(t,e){var n=e.payload,r=n.type,o=n.storeId,a=n.layers;try{return C(r),S({},t,i({},r,R(t[r],o,a)))}catch(e){return b.a.warn("[ADD_LAYERS] "+e.message),t}}),i(a,_.UPDATE_LAYER,function(t,e){var n=e.payload,r=n.type,o=n.storeId,a=n.layer;try{return C(r),S({},t,i({},r,k(t[r],a,o)))}catch(e){return b.a.warn("[UPDATE_LAYER] "+e.message),t}}),i(a,_.UPDATE_SUB_LAYER,function(t,e){var n=e.payload,r=n.type,o=n.storeId,a=n.layer,s=(n.mainLayerType,n.subLayerId,n.mainLayerId);try{return C(r),S({},t,i({},r,N(t[r],a,o,0,0,s)))}catch(e){return b.a.warn("[UPDATE_LAYER] "+e.message),t}}),i(a,_.TOGGLE_OVERLAY,function(t,e){var n=e.payload,r=n.type,o=n.storeId,a=n.layerId,s=n.visible;try{C(r);var u=S({},t[r]);if("*"===o){var f=!0,h=!1,d=void 0;try{for(var p,m=c()(l()(u));!(f=(p=m.next()).done);f=!0){var g=p.value;u[g]=F(u[g],a,s)}}catch(t){h=!0,d=t}finally{try{!f&&m.return&&m.return()}finally{if(h)throw d}}}else("string"==typeof o||o instanceof String)&&(u[o]=F(u[o],a,s));return S({},t,i({},r,u))}catch(e){return b.a.warn("[TOGGLE_OVERLAY] "+e.message),t}}),i(a,_.SELECT_BASE_LAYER,function(t,e){var n=e.payload,r=n.type,o=n.storeId,a=n.layerId;try{C(r);var s=S({},t[r]);if("*"===o){var u=!0,f=!1,h=void 0;try{for(var d,p=c()(l()(s));!(u=(d=p.next()).done);u=!0){var m=d.value;s[m]=D(s[m],a)}}catch(t){f=!0,h=t}finally{try{!u&&p.return&&p.return()}finally{if(f)throw h}}}else("string"==typeof o||o instanceof String)&&(s[o]=D(s[o],a));return S({},t,i({},r,s))}catch(e){return b.a.warn("[SELECT_BASE_LAYER] "+e.message),t}}),i(a,_.COPY_LAYER_VISIBILITY,function(t,e){var n=e.payload,r=n.toStoreId,o=n.fromStoreId,a=t.baseLayers,s=t.overlays,l={};return a[o]&&(l.baseLayers=S({},a,i({},r,a[o].map(function(t){return{id:t.id,visible:t.visible}})))),s[o]&&(l.overlays=S({},s,i({},r,s[o].map(function(t){return{id:t.id,visible:t.visible}})))),S({},t,l)}),i(a,_.RESTORE_COPIED_LAYER_VISIBILITY,function(t,e){var n=e.payload,r=n.toStoreId,o=n.fromStoreId,a=t.baseLayers,s=t.overlays,l={};return a[o]&&(l.baseLayers=S({},a,i({},r,a[r].map(function(t){for(var e=!1,n=0;n<a[o].length;n++)t.id===a[o][n].id&&(e=a[o][n].visible);return S({},t,{visible:e})})))),s[o]&&(l.overlays=S({},s,i({},r,s[r].map(function(t){for(var e=!1,n=0;n<s[o].length;n++)t.id===s[o][n].id&&(e=s[o][n].visible);return S({},t,{visible:e})})))),S({},t,l)}),i(a,_.REMOVE_LAYER_STORE,function(t,e){var n=e.payload.storeId,i=t.baseLayers,o=(i[n],r(i,[n])),a=t.overlays,s=(a[n],r(a,[n]));return S({},t,{baseLayers:o,overlays:s})}),i(a,_.REMOVE_LAYER,function(t,e){var n=t.overlays[e.payload.layerList],r=e.payload.id,a=n.findIndex(function(t){return r===t.id});return-1===a?t:S({},t,{overlays:S({},t.overlays,i({},e.payload.layerList,[].concat(o(n.slice(0,a)),o(n.slice(a+1)))))})}),i(a,_.SET_LAYER_VISIBILITY,function(t,e){var n=t.layerSettings,r=e.payload,o=r.layerId,a=r.visible;return S({},t,{layerSettings:S({},n,i({},o,S({},n[o],{visible:a})))})}),a),T)},function(t,e,n){"use strict";function r(t,e,n){return e in t?a()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i,o=n(1),a=n.n(o),s=n(4),l=n.n(s),u=n(16),c=(n.n(u),n(611)),f=l.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h={typeSelect:"",layerName:"",styling:{fillTransparency:.2,strokeTransparency:1,lineWidth:1,fillColor:"#F17013",strokeColor:"#8C6E14",pointSymbolizerSize:10},filtering:{minZoomLvl:10},useProxy:!1,authRequired:!1,credentials:{username:"",password:""},versionWFS:"1.1.0",versionWMS:"1.1.1",background:{transparent:!0,color:"#33FF33"},loadAsTiles:!0,WMSGetFeatureInfo:!1};e.a=Object(u.handleActions)((i={},r(i,c.ActionTypes.UPDATE_FORM,function(t,e){return f({},t,e.payload.form)}),r(i,c.ActionTypes.CLEAR_FORM,function(){return h}),i),h)},function(t,e,n){"use strict";function r(t,e,n){return e in t?a()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i,o=n(1),a=n.n(o),s=n(4),l=n.n(s),u=n(16),c=(n.n(u),n(80)),f=n(556),h=l.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d={client:null,logSuccess:0,logFailed:0};e.a=Object(u.handleActions)((i={},r(i,c.ActionTypes.INIT_CLIENT,function(t,e){return h({},t,{client:new f.a(e.payload)})}),r(i,c.ActionTypes.DESTROY_CLIENT,function(t){return h({},t,{client:null})}),r(i,c.ActionTypes.LOG,function(t,e){return e.error?h({},t,{logFailed:t.logFailed+1}):h({},t,{logSuccess:t.logSuccess+1})}),i),d)},function(t,e,n){"use strict";function r(t,e,n){return e in t?u()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){b.a.setCurrentUser(t),b.a.setItem(g.LOCALSTORAGE_TOKEN_KEY,e)}function o(){b.a.removeItem(g.LOCALSTORAGE_TOKEN_KEY),b.a.removeCurrentUser()}var a,s,l=n(1),u=n.n(l),c=n(4),f=n.n(c),h=n(16),d=(n.n(h),n(15)),p=(n.n(d),n(34)),m=n.n(p),g=n(180),v=n(609),y=n(204),b=n(209),_=f.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w=Object(d.defineMessages)({errorNoCredentials:{id:"Login.error.noCredentials",description:"Message for when no user name or password was provided",defaultMessage:"Please enter your user name and/or password."},errorNotAgreed:{id:"Login.error.notAgreed",description:"Message for when the user did not accept the user agreement",defaultMessage:"The terms and conditions must be accepted"},errorServerUnreachable:{id:"Login.error.serverUnreachable",description:"Message for when the server cannot be reached",defaultMessage:"The server could not be reached."},errorServerResponseNotFound:{id:"Login.error.serverResponseNotFound",description:"Message for when the server responds with 404, not found.",defaultMessage:"An error has occurred, contact CycloMedia or your admin."},errorCredentialsInvalid:{id:"Login.error.credentialsInvalid",description:"Message for when credentials are incorrect(500).",defaultMessage:"Your credentials were invalid."},errorOther:{id:"Login.error.other",description:"Message for other errors",defaultMessage:"Something went wrong, please try again"}}),x=(a={},r(a,v.a.UNAUTHORIZED,w.errorCredentialsInvalid),r(a,v.a.CREDENTIALS_EMPTY,w.errorNoCredentials),r(a,v.a.NOT_AGREED,w.errorNotAgreed),r(a,v.a.SERVER_UNREACHABLE,w.errorServerUnreachable),r(a,v.a.NOT_FOUND,w.errorServerResponseNotFound),r(a,v.a.UNKNOWN_ERROR,w.errorOther),a),E=y.a.getLocalStorageEnabled()?b.a.getItem(g.LOCALSTORAGE_TOKEN_KEY):void 0,M={formattedErrorMessage:void 0,basicToken:E,loggedIn:!1};e.a=Object(h.handleActions)((s={},r(s,g.ActionTypes.LOGIN,{next:function(t,e){var n=e.payload,r=n.username,o=n.basicToken,a=n.tidToken,s=n.bearerToken;return i(r,e.payload.basicToken),_({},t,{loggedIn:!0,basicToken:o,tidToken:a,bearerToken:s,formattedErrorMessage:null})},throw:function(t,e){o();var n=e.payload,r=null;return n.type!==v.a.AUTO_LOGIN_FAILED&&(m.a.error(n.message),r=x[n.type]||w.errorOther),_({},t,{basicToken:null,loggedIn:!1,formattedErrorMessage:r})}}),r(s,g.ActionTypes.LOGOUT,function(t,e){return o(),window.location.reload(),_({},t,{loggedIn:!1,basicToken:null,formattedErrorMessage:null})}),s),M)},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e,n){return e in t?s()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o,a=n(1),s=n.n(a),l=n(4),u=n.n(l),c=n(16),f=(n.n(c),n(208)),h=n(180),d=n(27),p=n(105),m=n(121),g=u.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v={byId:{},startupExtent:void 0,opacity:1,mapShowZoomSlider:!0,mapShowScaleBar:!0},y=function(t,e,n){var r=e.byId;return g({},e,{byId:g({},r,i({},t,g({},r[t],n)))})};e.a=Object(c.handleActions)((o={},i(o,d.ActionTypes.LOAD_USER_PROFILE,function(t,e){var n=g({},t),r=e.payload;return d.UserProfileConfigKeys.STARTUP_EXTENT in r&&(n.startupExtent=JSON.parse(r[d.UserProfileConfigKeys.STARTUP_EXTENT])),d.UserProfileGlobalKeys.OPACITY in r&&(n.opacity=parseFloat(r[d.UserProfileGlobalKeys.OPACITY])),d.UserProfileGlobalKeys.MAP_SHOW_ZOOM_SLIDER in r&&(n.mapShowZoomSlider=Object(m.b)(r[d.UserProfileGlobalKeys.MAP_SHOW_ZOOM_SLIDER])),d.UserProfileGlobalKeys.MAP_SHOW_SCALE_BAR in r&&(n.mapShowScaleBar=Object(m.b)(r[d.UserProfileGlobalKeys.MAP_SHOW_SCALE_BAR])),n}),i(o,f.a.ADD_MAP_VIEWER,function(t,e){var n=e.payload,r=n.wid,o=n.options;return g({},t,{byId:g({},t.byId,i({},r,g({},o)))})}),i(o,f.a.CLONE_MAP_VIEWER,function(t,e){var n=t.byId,r=e.payload,o=r.toId,a=r.fromId;return g({},t,{byId:g({},n,i({},o,g({},n[a])))})}),i(o,f.a.REMOVE_MAP_VIEWER,function(t,e){var n=t.byId,i=(n[e.payload.id],r(n,[e.payload.id]));return g({},t,{byId:i})}),i(o,f.a.UPDATE_MAP_VIEWER_PARAMS,function(t,e){var n=e.payload,r=n.wid,o=n.options,a=g({},t.byId),s=g({},a[r]),l=g({},s,o);return g({},t,{byId:g({},t.byId,i({},r,g({},l)))})}),i(o,f.a.SET_MAP_CENTER,function(t,e){var n=e.payload,r=n.wid,i=n.center;return y(r,t,{center:i,extent:void 0})}),i(o,f.a.SET_MAP_RESOLUTION,function(t,e){var n=e.payload,r=n.wid,i=n.resolution;return y(r,t,{resolution:i})}),i(o,f.a.SET_MAP_ZOOM_SLIDER_VISIBILITY,function(t,e){var n=e.payload,r=n.wid,i=n.showZoomSlider;return y(r,t,{showZoomSlider:i})}),i(o,f.a.SET_MAP_SCALE_BAR_VISIBILITY,function(t,e){var n=e.payload,r=n.wid,i=n.showScaleBar;return y(r,t,{showScaleBar:i})}),i(o,f.a.SET_ACTIVE_PANEL,function(t,e){var n=e.payload,r=n.wid,i=n.panel;return y(r,t,{activePanel:i})}),i(o,f.a.SET_STARTUP_MAP_EXTENT,{next:function(t,e){var n=e.payload,r=n.extent,i=n.srs;return g({},t,{startupExtent:{extent:r,srs:i}})},throw:p.b}),i(o,f.a.SET_OPACITY,{next:function(t,e){var n=e.payload.opacity;return g({},t,{opacity:n})},throw:p.b}),i(o,h.ActionTypes.LOGOUT,function(t,e){return g({},t,{byId:{}})}),o),v)},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return c()(t)}function i(t,e,n){return e in t?l()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var a,s=n(1),l=n.n(s),u=n(30),c=n.n(u),f=n(4),h=n.n(f),d=n(16),p=(n.n(d),n(149)),m=n(48),g=n(27),v=n(53),y=n(81),b=n(148),w=n(92),x=n(105),E=h.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M={typeSelectionModalVisible:!1,measurementChanged:!1,activeMeasurement:null,recording:null,measurementCollection:w.i(),geometryType:null,measureMethod:null,selectedMeasureMethod:null,allowedMeasureMethods:null,allowedToMeasure:!1,pendingCount:0,dimension:null,measurementList:[],activeMeasurementId:"",insertPointIndex:0,heightSlider:null},S=function(t,e,n){if(!t||!n)return null;var r=e||n[0]||null;return r!==m.MeasureMethod.DEPTH_MAP||t.hasDepthMap||(r=n[n.indexOf(r)+1]),r};e.a=Object(d.handleActions)((a={},i(a,g.ActionTypes.LOAD_USER_PROFILE,function(t,e){var n=E({},t),r=e.payload;if(m.MEASUREMENT_INDEX in r){var i=r[m.MEASUREMENT_INDEX];i=i&&0!==i.length&&""!==i?JSON.parse(r[m.MEASUREMENT_INDEX]):[],n.measurementList=i;var o=w.i();n.measurementList.forEach(function(t){if(t.id in r){var e=JSON.parse(r[t.id]);w.g(o,e)}}),n.measurementCollection=o}var a=t.activeMeasurementId;return a in r&&(n.activeMeasurement=JSON.parse(r[a])),n}),i(a,m.ActionTypes.SHOW_TYPE_SELECTION_MODAL,function(t,e){return E({},t,{typeSelectionModalVisible:!0})}),i(a,m.ActionTypes.HIDE_TYPE_SELECTION_MODAL,function(t,e){return E({},t,{typeSelectionModalVisible:!1})}),i(a,m.ActionTypes.SET_MEASUREMENT_CHANGED,function(t,e){return E({},t,{measurementChanged:!!e.payload})}),i(a,m.ActionTypes.SET_MEASURE_METHOD,function(t,e){var n=e.payload;return E({},t,{selectedMeasureMethod:n,measureMethod:n,HeightSlider:null})}),i(a,m.ActionTypes.SELECT_BEST_MEASURE_METHOD,function(t,e){var n=t.recording,r=t.allowedMeasureMethods,i=r[0],o=S(n,i,r);return E({},t,{selectedMeasureMethod:i,measureMethod:o})}),i(a,m.ActionTypes.ADD_MEASUREMENT,function(t,e){var n=e.payload,r=n.measurementId,i=n.activeMeasurement,a=o(n,["measurementId","activeMeasurement"]),s=a.type,l=void 0,u=void 0;return l=i||w.j(E({},a,{dimension:t.dimension})),u="Point"===s?0:"LineString"===s?l.geometry.coordinates.length:"Polygon"===s?l.geometry.coordinates[0].length:0,E({},t,{activeMeasurement:l,geometryType:s,measurementId:r,pendingCount:0,insertPointIndex:u,heightSlider:null})}),i(a,m.ActionTypes.UPDATE_MEASUREMENT_ATTRIBUTE,function(t,e){var n=e.payload,r=n.uid,o=n.value;return E({},t,{activeMeasurement:E({},t.activeMeasurement,{properties:E({},t.activeMeasurement.properties,{measurementAttributes:E({},t.activeMeasurement.properties.measurementAttributes,i({},r,o))})})})}),i(a,m.ActionTypes.REMOVE_MEASUREMENT_ATTRIBUTE,function(t,e){var n=e.payload,r=t.activeMeasurement.properties.measurementAttributes;return delete r[n],E({},t,{activeMeasurement:E({},t.activeMeasurement,{properties:E({},t.activeMeasurement.properties,{measurementAttributes:r})})})}),i(a,m.ActionTypes.INCREASE_PENDING_MEASUREMENTS_COUNT,function(t,e){return E({},t,{pendingCount:t.pendingCount+1})}),i(a,m.ActionTypes.DECREASE_PENDING_MEASUREMENTS_COUNT,function(t,e){return E({},t,{pendingCount:t.pendingCount-1})}),i(a,m.ActionTypes.ADD_MEASUREMENT_POINT,function(t,e){var n=e.payload,r=n.coord,i=n.props,o=t.activeMeasurement,a=t.insertPointIndex,s=void 0,l=w.h(o,r,i,a);return s="Polygon"===l.geometry.type?l.geometry.coordinates[0].length:l.geometry.coordinates.length,E({},t,{activeMeasurement:l,insertPointIndex:s,heightSlider:null})}),i(a,m.ActionTypes.UPDATE_MEASUREMENT_POINT,function(t,e){var n=e.payload,r=n.coord,i=n.props,o=n.pointIndex,a=t.activeMeasurement,s=w.p(a,r,i,o);return E({},t,{activeMeasurement:s})}),i(a,m.ActionTypes.SET_INSERT_POINT_INDEX,function(t,e){var n=e.payload;return E({},t,{insertPointIndex:n})}),i(a,m.ActionTypes.REMOVE_MEASUREMENT_POINT,function(t,e){var n=e.payload,r=t.activeMeasurement,i=t.insertPointIndex,o=w.m(r,n);return E({},t,{activeMeasurement:o,insertPointIndex:i-1,heightSlider:null})}),i(a,m.ActionTypes.REMOVE_MEASUREMENT_ITEM,function(t,e){var n=t.measurementList,i=t.measurementCollection,o=e.payload,a=n.findIndex(function(t){return o===t.id}),s=i.features.findIndex(function(t){return o===t.properties.id});return-1===a?t:E({},t,{measurementList:[].concat(r(n.slice(0,a)),r(n.slice(a+1))),measurementCollection:E({},i,{features:[].concat(r(i.features.slice(0,s)),r(i.features.slice(s+1)))})})}),i(a,m.ActionTypes.UPDATE_MEASUREMENT_NAME,function(t,e){var n=t.activeMeasurement;return E({},t,{activeMeasurement:E({},n,{properties:E({},n.properties,{name:e.payload.name})})})}),i(a,m.ActionTypes.UPDATE_MEASUREMENT_OBSERVATION_LINES,function(t,e){var n=t.activeMeasurement;return E({},t,{activeMeasurement:E({},n,{properties:E({},n.properties,{observationLines:{activeObservation:e.payload.activeObservation,recordingId:e.payload.recordingId,color:e.payload.color,selectedMeasureMethod:e.payload.selectedMeasureMethod}})})})}),i(a,m.ActionTypes.UPDATE_MEASUREMENT_ACTIVE_OBSERVATION,function(t,e){var n=t.activeMeasurement;return E({},t,{activeMeasurement:E({},n,{properties:E({},n.properties,{observationLines:{activeObservation:e.payload.activeObservation}})})})}),i(a,m.ActionTypes.SAVE_MEASUREMENT,function(t,e){for(var n=t.activeMeasurement,r=t.measurementCollection,i=t.measurementList,o=void 0,a=0;a<r.features.length;a++)r.features[a].properties.id===n.properties.id&&(o=a);var s=void 0;s=void 0===o?w.g(r,n):w.o(r,n,o);var l=_.cloneDeep(i);return s.features.forEach(function(t){for(var e=new Date,r=e.getDate()+"."+(e.getMonth()+1)+"."+e.getFullYear(),o=!1,a=0;a<i.length;a++)i[a].id===t.properties.id&&(o=!0);if(!o){var s=void 0,u=void 0,c=n.properties.preciseGeometry.coordinates;2===n.properties.dimension?s=c[0][0]&&2===c[0][0].length?c[0][0]:c[0]&&2===c[0].length?c[0]:c&&2===c.length?c:null:u=n.properties.measureDetails[0].details.ResultDirections?n.properties.measureDetails[0].details.ResultDirections.ResultDirection[0].Id:n.properties.measureDetails[0].details.recordingInfo.id,l.push({id:t.properties.id,name:n.properties.name,type:n.properties.dimension,cyclorama_id:u||null,map_coordinates_x:s?s[0]:null,map_coordinates_y:s?s[1]:null,time:r})}}),E({},t,{measurementCollection:s,measurementList:l})}),i(a,m.ActionTypes.IMPORT_MEASUREMENT,function(t,e){var n=e.payload,r=t.measurementCollection,i=t.measurementList,o=w.g(r,n),a=_.cloneDeep(i),s=new Date,l=s.getDate()+"."+(s.getMonth()+1)+"."+s.getFullYear(),u=void 0,c=void 0,f=n.properties.preciseGeometry.coordinates,h=n.properties.measureDetails[0].details;return 2===n.properties.dimension?u=f[0][0]&&2===f[0][0].length?f[0][0]:f[0]&&2===f[0].length?f[0]:f&&2===f.length?f:null:c=h&&h.ResultDirections?h.ResultDirections.ResultDirection[0].Id:h.recordingInfo.id,a.push({id:n.properties.id,name:n.properties.name,type:n.properties.dimension,cyclorama_id:c||null,map_coordinates_x:u?u[0]:null,map_coordinates_y:u?u[1]:null,time:l}),E({},t,{measurementCollection:o,measurementList:a})}),i(a,m.ActionTypes.SET_ACTIVE_MEASUREMENT_ID,function(t,e){return E({},t,{activeMeasurementId:e.payload})}),i(a,m.ActionTypes.SET_MEASUREMENT_DIMENSION,function(t,e){return E({},t,{dimension:e.payload})}),i(a,m.ActionTypes.UPDATE_HEIGHT_SLIDER,function(t,e){return E({},t,{heightSlider:e.payload})}),i(a,v.ActionTypes.SET_VIEWER_MODE,function(t,e){return e.payload===v.ViewerMode.MEASUREMENT?t:E({},t,{typeSelectionModalVisible:!1,activeMeasurement:null,recording:null,geometryType:null,measureMethod:null,pendingCount:0,dimension:null})}),i(a,y.ActionTypes.UPDATE_RECORDING,function(t,e){if(!t.activeMeasurement)return t;var n=e.payload.recording,r=t.selectedMeasureMethod,i=t.allowedMeasureMethods,o=S(n,r,i);return E({},t,{measureMethod:o,recording:e.payload.recording})}),i(a,b.ActionTypes.LOAD_USER_CONFIG,{next:function(t,e){var n=e.payload.config,r=n.application,i=n&&r&&r.functionalities,o={MeasurePoint:!!i&&i.includes(p.a.MeasurePoint),MeasureLine:!!i&&i.includes(p.a.MeasureLine),MeasurePolygon:!!i&&i.includes(p.a.MeasurePolygon),measureAdvanced:!!i&&i.includes(p.a.MeasureAdvanced),MeasureSmartClick:!!i&&i.includes(p.a.MeasureSmartClick),MeasureDepthMap:!!i&&i.includes(p.a.MeasureSmart),ForwardIntersection:!!i&&i.includes(p.a.MeasureSmartClick)},a=o.MeasurePoint||o.MeasureLine||o.MeasurePolygon||o.measureAdvanced,s=[];return o.MeasureDepthMap&&s.push(m.MeasureMethod.DEPTH_MAP),o.MeasureSmartClick&&s.push(m.MeasureMethod.SMART_CLICK),o.ForwardIntersection&&s.push(m.MeasureMethod.FORWARD_INTERSECTION),E({},t,{allowedMeasureMethods:s,allowedToMeasure:a})},throw:x.b}),a),M)},function(t,e,n){"use strict";function r(t,e,n){return e in t?a()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i,o=n(1),a=n.n(o),s=n(4),l=n.n(s),u=n(16),c=(n.n(u),n(269)),f=l.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h={content:null,class:"success",duration:4e3,visible:!1};e.a=Object(u.handleActions)((i={},r(i,c.a.SHOW_MEASUREMENT_FEEDBACK_MESSAGE,function(t,e){return f({},h,e.payload,{visible:!0})}),r(i,c.a.HIDE_MEASUREMENT_FEEDBACK_MESSAGE,function(){return{visible:!1}}),i),h)},function(t,e,n){"use strict";function r(t,e,n){return e in t?u()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return s()(t)}var o,a=n(30),s=n.n(a),l=n(1),u=n.n(l),c=n(4),f=n.n(c),h=n(16),d=(n.n(h),n(386)),p=n(27),m=f.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g={attributes:[]};e.a=Object(h.handleActions)((o={},r(o,p.ActionTypes.LOAD_USER_PROFILE,function(t,e){var n=e.payload,r=t.attributes;if(d.MEASUREMENT_ATTRIBUTE_NAMES in n){var i=n[d.MEASUREMENT_ATTRIBUTE_NAMES];i&&""!==i&&(r=JSON.parse(i))}return m({},t,{attributes:r})}),r(o,d.ActionTypes.ADD_MEASUREMENT_ATTRIBUTE,function(t,e){var n=e.payload,r=n.uid,i=n.name,o=t.attributes;return o.splice(o.length,0,{uid:r,name:i}),m({},t,{attributes:o})}),r(o,d.ActionTypes.REMOVE_MEASUREMENT_ATTRIBUTE,function(t,e){for(var n=e.payload.uid,r=t.attributes,o=r.length,a=0;a<r.length;a++)o=r[a].uid===n?a:o;return m({},t,{attributes:[].concat(i(r.slice(0,o)),i(r.slice(o+1)))})}),r(o,d.ActionTypes.RENAME_MEASUREMENT_ATTRIBUTE,function(t,e){for(var n=e.payload,r=n.uid,i=n.name,o=t.attributes,a=0;a<o.length;a++)o[a].uid===r&&(o[a].name=i);return m({},t,{attributes:o})}),o),g)},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e,n){return e in t?h()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o,a,s=n(40),l=n.n(s),u=n(61),c=n.n(u),f=n(1),h=n.n(f),d=n(4),p=n.n(d),m=n(16),g=(n.n(m),n(20)),v=n.n(g),y=n(81),b=n(113),_=n(379),w=n(153),x=n(201),E=n(105),M=p.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S={recording:void 0,previousRecording:void 0,surfaceCursorPosition:{depth:void 0,direction:void 0,position:void 0},orientation:{xyz:[0,0,0],yawOffset:0,yaw:0,pitch:0,hFov:_.a},ui:M({},Object(E.a)(c()(w.a.buttons),{enabled:!0}),(o={},i(o,w.a.NAVBAR,{visible:!0,expanded:!0}),i(o,w.a.TIME_TRAVEL,{visible:!0}),i(o,w.a.RECORDINGS,{visible:!0}),i(o,w.a.MEASUREMENTS,{visible:!0}),i(o,w.a.ADDRESSES,{visible:!0}),o)),cubeProgram:x.a.SURFACE_CURSOR,activePanel:b.a.NONE},T=l()(S.orientation),C={byId:{}},O=Object(m.handleActions)((a={},i(a,y.ActionTypes.ADD_PANORAMA_VIEWER,function(t,e){return M({},S,e.payload.newEntry)}),i(a,y.ActionTypes.UPDATE_PANORAMA_VIEWER,function(t,e){return M({},t,e.payload.newState)}),i(a,y.ActionTypes.UPDATE_RECORDING,function(t,e){var n=e.payload.recording;return M({},t,{previousRecording:t.recording,recording:n,orientation:M({},t.orientation,{yawOffset:n?-n.orientation:S.orientation.yawOffset})})}),i(a,y.ActionTypes.UPDATE_PANORAMA_ORIENTATION,function(t,e){return M({},t,{orientation:v.a.defaults(v.a.pick(e.payload,T),t.orientation,S.orientation)})}),i(a,y.ActionTypes.TOGGLE_UI_STATE,E.c),i(a,y.ActionTypes.SET_ACTIVE_PANEL,function(t,e){var n=e.payload.panel;return M({},t,{activePanel:n})}),i(a,y.ActionTypes.SET_CUBE_PROGRAM,function(t,e){var n=e.payload.value;return M({},t,{cubeProgram:n})}),a),C);e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=arguments[1];switch(e.type){case y.ActionTypes.REMOVE_PANORAMA_VIEWER:var n=t.byId,o=(n[e.payload.id],r(n,[e.payload.id]));return M({},t,{byId:o});case y.ActionTypes.UPDATE_PANORAMA_VIEWER_PARAMS:var a=e.payload,s=a.wid,l=a.options,u=M({},t.byId),c=M({},u[s]),f=M({},c,l);return M({},t,{byId:M({},t.byId,i({},s,M({},f)))});case y.ActionTypes.CLONE_PANORAMA_VIEWER:var h=e.payload,d=h.toId,p=h.fromId,m=t.byId;return M({},t,{byId:M({},m,i({},d,M({},m[p])))});case y.ActionTypes.ADD_PANORAMA_VIEWER:case y.ActionTypes.UPDATE_PANORAMA_VIEWER:case y.ActionTypes.UPDATE_RECORDING:case y.ActionTypes.UPDATE_PANORAMA_ORIENTATION:case y.ActionTypes.TOGGLE_UI_STATE:case y.ActionTypes.SET_ACTIVE_PANEL:case y.ActionTypes.SET_CUBE_PROGRAM:var g=e.payload.id;return M({},t,{byId:M({},t.byId,i({},g,O(t.byId[g],e)))});default:return t}}},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(4),a=n.n(o),s=n(16),l=(n.n(s),n(387)),u=a.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c={reportBlurringInfo:{imageId:"",imageParams:""}};e.a=Object(s.handleActions)(function(t,e,n){return e in t?i()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},l.ActionTypes.UPDATE_REPORT_BLURRING,function(t,e){return u({},t,{reportBlurringInfo:u({},t.reportBlurringInfo,e.payload)})}),c)},function(t,e,n){"use strict";var r=n(612);n.n(r);n.o(r,"routerReducer")&&n.d(e,"a",function(){return r.routerReducer})},function(t,e,n){"use strict";function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.selectLocationState,s=void 0===r?a:r,l=n.adjustUrlOnReplay,u=void 0===l||l;if(void 0===s(e.getState()))throw new Error("Expected the routing state to be available either as `state.routing` or as the custom expression you can specify as `selectLocationState` in the `syncHistoryWithStore()` options. Ensure you have added the `routerReducer` to your store's reducers via `combineReducers` or whatever method you use to isolate your reducers.");var c=void 0,f=void 0,h=void 0,d=void 0,p=void 0,m=function(t){return s(e.getState()).locationBeforeTransitions||(t?c:void 0)};if(c=m(),u){var g=function(){var e=m(!0);p!==e&&c!==e&&(f=!0,p=e,t.transitionTo(i({},e,{action:"PUSH"})),f=!1)};h=e.subscribe(g),g()}var v=function(t){f||(p=t,!c&&(c=t,m())||e.dispatch({type:o.LOCATION_CHANGE,payload:t}))};return d=t.listen(v),t.getCurrentLocation&&v(t.getCurrentLocation()),i({},t,{listen:function(n){var r=m(!0),i=!1,o=e.subscribe(function(){var t=m(!0);t!==r&&(r=t,i||n(r))});return t.getCurrentLocation||n(r),function(){i=!0,o()}},unsubscribe:function(){u&&h(),d()}})}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=r;var o=n(613),a=function(t){return t.routing}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t){return function(){return function(e){return function(n){if(n.type!==o.CALL_HISTORY_METHOD)return e(n);var i=n.payload,a=i.method,s=i.args;t[a].apply(t,r(s))}}}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=n(614)},function(t,e,n){"use strict";function r(t,e,n){return e in t?u()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return s()(t)}var o,a=n(30),s=n.n(a),l=n(1),u=n.n(l),c=n(4),f=n.n(c),h=n(16),d=(n.n(h),n(1405)),p=n(27),m=f.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g={searchHistory:[]};e.a=Object(h.handleActions)((o={},r(o,p.ActionTypes.LOAD_USER_PROFILE,function(t,e){var n=m({},t),r=e.payload;return p.UserProfileConfigKeys.SEARCH_HISTORY in r&&(n.searchHistory=JSON.parse(r[p.UserProfileConfigKeys.SEARCH_HISTORY])),n}),r(o,d.a.ADD_SEARCH_HISTORY_ITEM,function(t,e){var n=t.searchHistory,r=e.payload,o=n.findIndex(function(t){return r.name===t.name});return-1===o&&(o=n.length),m({},t,{searchHistory:[r].concat(i(n.slice(0,o)),i(n.slice(o+1))).slice(0,10)})}),r(o,d.a.REMOVE_SEARCH_HISTORY_ITEM,function(t,e){var n=t.searchHistory,r=e.payload,o=n.findIndex(function(t){return r.name===t.name});return-1===o?t:m({},t,{searchHistory:[].concat(i(n.slice(0,o)),i(n.slice(o+1)))})}),r(o,d.a.CLEAR_SEARCH_HISTORY,function(t,e){return m({},t,{searchHistory:[]})}),o),g)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(21),i=(n.n(r),n(76)),o=(n.n(i),n(19)),a=(n.n(o),n(16)),s=(n.n(a),n(27),{ADD_SEARCH_HISTORY_ITEM:"@@searchhistory/ADD_SEARCH_HISTORY_ITEM",REMOVE_SEARCH_HISTORY_ITEM:"@@searchhistory/REMOVE_SEARCH_HISTORY_ITEM",CLEAR_SEARCH_HISTORY:"@@searchhistory/CLEAR_SEARCH_HISTORY"})},function(t,e,n){"use strict";function r(t,e,n){return e in t?u()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return s()(t)}var o,a=n(30),s=n.n(a),l=n(1),u=n.n(l),c=n(4),f=n.n(c),h=n(16),d=(n.n(h),n(1407)),p=n(27),m=f.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g={WMSrecentUrls:[],WFSrecentUrls:[]};e.a=Object(h.handleActions)((o={},r(o,p.ActionTypes.LOAD_USER_PROFILE,function(t,e){var n=m({},t),r=e.payload;if(p.UserProfileConfigKeys.RECENT_URLS in r){var i=JSON.parse(r[p.UserProfileConfigKeys.RECENT_URLS]),o=i.WMSrecentUrls,a=void 0===o?[]:o,s=i.WFSrecentUrls;n={WMSrecentUrls:a,WFSrecentUrls:void 0===s?[]:s}}return n}),r(o,d.a.ADD_RECENT_URLS_WMS,function(t,e){var n=e.payload,r=t.WMSrecentUrls,o=r.findIndex(function(t){return n===t});return-1===o&&(o=r.length),m({},t,{WMSrecentUrls:[n].concat(i(r.slice(0,o)),i(r.slice(o+1))).slice(0,10)})}),r(o,d.a.ADD_RECENT_URLS_WFS,function(t,e){var n=e.payload,r=t.WFSrecentUrls,o=r.findIndex(function(t){return n===t});return-1===o&&(o=r.length),m({},t,{WFSrecentUrls:[n].concat(i(r.slice(0,o)),i(r.slice(o+1))).slice(0,10)})}),o),g)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(21),i=(n.n(r),n(76)),o=(n.n(i),n(19)),a=(n.n(o),n(16)),s=(n.n(a),n(27),{ADD_RECENT_URLS_WMS:"@@searchhistory/ADD_RECENT_URLS_WMS ",ADD_RECENT_URLS_WFS:"@@searchhistory/ADD_RECENT_URLS_WFS"})},function(t,e,n){"use strict";function r(t,e,n){return e in t?a()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i,o=n(1),a=n.n(o),s=n(4),l=n.n(s),u=n(16),c=(n.n(u),n(388)),f=n(27),h=n(148),d=n(41),p=n(105),m=l.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g={userSrs:void 0,userSrsUnit:void 0};e.a=Object(u.handleActions)((i={},r(i,f.LOAD_USER_PROFILE,function(t,e){var n=m({},t),r=e.payload;return f.UserProfileConfigKeys.USER_SRS in r&&(n.userSrs=r[f.UserProfileConfigKeys.USER_SRS],n.userSrsUnit=d.i.getUnitsForSrs(n.userSrs).xyUnits),n}),r(i,h.LOAD_USER_CONFIG,{next:function(t,e){var n=t.userSrs||e.payload.config.viewer.defaultSrsName,r=d.i.getUnitsForSrs(n).xyUnits;return m({},t,{userSrs:n,userSrsUnit:r})},throw:p.b}),r(i,c.LOAD_SRS_LIST,function(t,e){return m({},e.payload)}),r(i,c.USER_SRS,function(t,e){var n=e.payload.userSrs,r=d.i.getUnitsForSrs(n).xyUnits;return m({},t,{userSrs:n,userSrsUnit:r})}),i),g)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return[parseFloat(t.MinX),parseFloat(t.MinY),parseFloat(t.MaxX),parseFloat(t.MaxY)]}var o=n(1),a=n.n(o),s=n(18),l=n.n(s),u=n(34),c=n.n(u),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),a()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=function(){function t(){r(this,t)}return f(t,[{key:"getBySRSName",value:function(t){return this.srs.filter(function(e){return e.SRSName===t})}},{key:"getByWGSCoord",value:function(t,e){return this.srs.filter(function(n){return t>=n.WGSBounds[0]&&t<=n.WGSBounds[2]&&e>=n.WGSBounds[1]&&e<=n.WGSBounds[3]})}}]),t}(),d=function(){function t(){r(this,t)}return f(t,[{key:"origin",get:function(){return l.a.extent.getTopLeft(this.NativeBounds)}}]),t}(),p=function(){function t(){r(this,t)}return f(t,[{key:"parseSRS",value:function(t){var e=t.SpatialReferences.SpatialReference,n=new h;n.srs=[];for(var r=0;r<e.length;r++)if("string"!=typeof e[r].Proj4)c.a.warn(e[r].SRSName+" has no Proj4 provided!");else{var o=new d;o.Name=e[r].Name,o.SRSName=e[r].SRSName,o.SRSDimension=e[r].SRSDimension,o.Units=e[r].Units,o.Proj4=e[r].Proj4,o.ESRICompatibleName=e[r].ESRICompatibleName,o.NativeBounds=i(e[r].NativeBounds),o.WGSBounds=i(e[r].WGSBounds),n.srs.push(o)}return n}}]),t}();e.a=p},function(t,e,n){"use strict";function r(t,e,n){return e in t?u()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(t.stage>=b.StageState.READY)return t;var n=w({},t,{partsLoaded:t.partsLoaded+1});return n[E[e.type]]=!0,n.srsLoaded&&n.configLoaded&&n.userInfoLoaded&&n.localeLoaded&&(!n.userProfileEnabled||n.userProfileLoaded)&&(n.stage=b.StageState.READY),n}function o(t,e){p.a.error("Stage load error: "+e.type+" / "+e.payload)}var a,s,l=n(1),u=n.n(l),c=n(4),f=n.n(c),h=n(16),d=(n.n(h),n(34)),p=n.n(d),m=n(148),g=n(388),v=n(276),y=n(180),b=n(615),_=n(27),w=f.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x={stage:b.StageState.START_UP,appInitComplete:!1,userInfoLoaded:!1,configLoaded:!1,srsLoaded:!1,localeLoaded:!1,userProfileLoaded:!1,userProfileEnabled:!0,partsLoaded:0,partsToLoad:99},E=(a={},r(a,m.ActionTypes.LOAD_USER_CONFIG,"configLoaded"),r(a,m.ActionTypes.LOAD_USER_INFO,"userInfoLoaded"),r(a,v.ActionTypes.SET_LOCALE,"localeLoaded"),r(a,g.ActionTypes.LOAD_SRS_LIST,"srsLoaded"),r(a,_.ActionTypes.LOAD_USER_PROFILE,"userProfileLoaded"),a),M={next:i,throw:o};e.a=Object(h.handleActions)((s={},r(s,v.ActionTypes.SET_LOCALE,M),r(s,m.ActionTypes.LOAD_USER_INFO,M),r(s,m.ActionTypes.LOAD_USER_CONFIG,M),r(s,g.ActionTypes.LOAD_SRS_LIST,M),r(s,_.ActionTypes.LOAD_USER_PROFILE,M),r(s,b.ActionTypes.APP_INIT_START,function(t,e){var n=e.payload.isApi;return w({},t,{appInitComplete:!1,userProfileEnabled:!n,partsToLoad:n?4:5})}),r(s,b.ActionTypes.APP_INIT_COMPLETE,function(t,e){return w({},t,{appInitComplete:!0})}),r(s,b.ActionTypes.SET_STAGE_STATE,function(t,e){return w({},t,{stage:e.payload.stage,detail:e.payload.detail})}),r(s,y.ActionTypes.LOGOUT,function(t,e){return w({},t,{configLoaded:!1,userInfoLoaded:!1,stage:b.StageState.START_UP})}),s),x)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}n.d(e,"a",function(){return P});var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(4),m=n.n(p),g=n(0),v=n.n(g),y=n(28),b=(n.n(y),n(15)),_=(n.n(b),n(3)),w=n.n(_),x=n(36),E=(n.n(x),n(1412)),M=n.n(E),S=n(31),T=n(277),C=m.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),A=function(t){function e(){var t,n,o,a;r(this,e);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=o=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(u))),o.callback=function(t){"close"===t.action&&"finished"===t.type&&o.props.actions.dismiss()},a=n,i(o,a)}return o(e,t),O(e,[{key:"render",value:function(){var t=this,e=this.props.tour,n=e.run,r=e.dismissed,i=e.steps;return v.a.createElement(M.a,{autostart:!0,run:!r&&n,ref:function(e){t.joyrideRef=e},steps:i,callback:this.callback})}}]),e}(S.a),I=function(t){return{tour:t.tour}},R=function(t){return{actions:Object(x.bindActionCreators)(C({},T.c),t)}},P=(Object(y.connect)(I,R)(A),function(t){function e(){var t,n,o,a;r(this,e);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=o=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(u))),o._localeMapping={de:"de","en-GB":"en","en-US":"us",fi:"en",fr:"fr",nl:"nl","pt-BR":"en",tr:"en"},a=n,i(o,a)}return o(e,t),O(e,[{key:"render",value:function(){var t=this.props,e=this.context,n=e.intl,r=n.locale,i=n.formatMessage,o=t.url,a=void 0,s=void 0;if(o){var l=this._localeMapping[r];l&&o&&(a=i(o,{locale:l})),""!==a&&(s=v.a.createElement("a",{href:a,target:"_blank"},a))}return v.a.createElement("span",null,v.a.createElement(b.FormattedMessage,t.children),s&&v.a.createElement("a",{href:s},s))}}]),e}(S.a));P.propTypes={url:w.a.string,children:w.a.element}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(0),f=r(c),h=n(3),d=r(h),p=n(1413),m=r(p),g=n(1416),v=r(g),y=n(390),b=n(1417),_=r(b),w=n(1418),x=r(w),E={action:"",index:0,isRunning:!1,isTourSkipped:!1,shouldRedraw:!0,shouldRenderTooltip:!1,shouldRun:!1,standaloneData:!1,xPos:-1e3,yPos:-1e3},M={STEP_BEFORE:"step:before",BEACON_BEFORE:"beacon:before",BEACON_TRIGGER:"beacon:trigger",TOOLTIP_BEFORE:"tooltip:before",STEP_AFTER:"step:after",STANDALONE_BEFORE:"standalone:before",STANDALONE_AFTER:"standalone:after",OVERLAY:"overlay:click",HOLE:"hole:click",FINISHED:"finished",TARGET_NOT_FOUND:"error:target_not_found"},S={position:"top",minWidth:290},T=!1,C=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handleKeyboardNavigation=function(t){var e=n.state,r=e.index,i=e.shouldRenderTooltip,o=n.props.steps,a=window.Event?t.which:t.keyCode,s=void 0;i&&([32,38,40].includes(a)&&t.preventDefault(),27===a?n.toggleTooltip({show:!1,index:r+1,action:"esc"}):[13,32].includes(a)&&(s=Boolean(o[r+1]),n.toggleTooltip({show:s,index:r+1,action:"next"})))},n.handleClickStandaloneTrigger=function(t){t.preventDefault();var e=n.state,r=e.isRunning,i=e.standaloneData,o=t.currentTarget.dataset.tooltip;["mouseenter","mouseleave"].includes(t.type)&&T||o&&(o=JSON.parse(o),i&&i.selector===o.selector?document.querySelector(".joyride-tooltip__close").click():n.setState({isRunning:!1,shouldRenderTooltip:!1,shouldRun:r,standaloneData:o,xPos:-1e3,yPos:-1e3}))},n.handleClickBeacon=function(t){t.preventDefault();var e=n.state.index,r=n.props.steps;n.triggerCallback({action:t.type,index:e,type:M.BEACON_TRIGGER,step:r[e]}),n.toggleTooltip({show:!0,index:e,action:"beacon:"+t.type})},n.handleClickTooltip=function(t){var e=n.state,r=e.index,i=e.shouldRun,o=n.props,a=o.steps,s=o.type,l=t.currentTarget.className.includes("joyride-")&&["A","BUTTON"].includes(t.currentTarget.tagName)?t.currentTarget:t.target,u=l.dataset.type;if("string"==typeof l.className&&l.className.startsWith("joyride-")){t.preventDefault(),t.stopPropagation();var c=document.querySelector(".joyride-tooltip"),f=r+("back"===u?-1:1);if("skip"===u&&(n.setState({isTourSkipped:!0}),f=a.length+1),c.classList.contains("joyride-tooltip--standalone"))n.setState({isRunning:i,shouldRedraw:!0,shouldRun:!1,standaloneData:!1});else if(u){var h=["continuous","guided"].includes(s)&&!["close","skip"].includes(u)&&Boolean(a[f]);n.toggleTooltip({show:h,index:f,action:u})}"joyride-overlay"===t.target.className&&n.triggerCallback({action:"click",type:M.OVERLAY,step:a[r]}),t.target.classList.contains("joyride-hole")&&n.triggerCallback({action:"click",type:M.HOLE,step:a[r]})}},n.handleRenderTooltip=function(){n.calcPlacement()},n.state=l({},E),n.listeners={tooltips:{}},n}return a(e,t),u(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.autoStart,r=e.keyboardNavigation,i=e.resizeDebounce,o=e.resizeDebounceDelay,a=e.run,s=e.steps,l=e.type;(0,y.logger)({type:"joyride:initialized",msg:[this.props],debug:this.props.debug});var u=this.checkStepsValidity(s);if(s&&u&&a&&this.start(n),i){var c=void 0;this.listeners.resize=function(){clearTimeout(c),c=setTimeout(function(){c=null,t.calcPlacement()},o)}}else this.listeners.resize=function(){t.calcPlacement()};window.addEventListener("resize",this.listeners.resize),r&&"continuous"===l&&(this.listeners.keyboard=this.handleKeyboardNavigation,document.body.addEventListener("keydown",this.listeners.keyboard)),window.addEventListener("touchstart",function t(){T=!0,window.removeEventListener("touchstart",t)},!1)}},{key:"componentWillReceiveProps",value:function(t){(0,y.logger)({type:"joyride:willReceiveProps",msg:[t],debug:t.debug});var e=this.state,n=e.isRunning,r=e.shouldRun,i=e.standaloneData,o=this.props,a=o.keyboardNavigation,s=o.run,l=o.steps,u=o.stepIndex,c=t.steps!==l,f=t.stepIndex!==u&&t.stepIndex!==this.state.index,h=t.run!==s,d=!1,p=!1;if(c&&this.checkStepsValidity(t.steps)&&(t.steps&&t.steps.length?!l.length&&t.run&&(d=!0):this.reset()),h&&(s&&!t.run?(this.stop(),p=!0):!s&&t.run?d=!0:n||!r||i||(d=!0)),f){var m=t.steps[t.stepIndex],g=m&&t.autoStart;h&&d?this.start(t.autoStart,t.steps,t.stepIndex):t.run&&!n?this.start(t.autoStart,t.steps,t.stepIndex):p||this.toggleTooltip({show:g,index:t.stepIndex,steps:t.steps,action:"jump"})}else d&&this.start(t.autoStart,t.steps);!this.listeners.keyboard&&(!a&&t.keyboardNavigation||a)&&"continuous"===t.type?(this.listeners.keyboard=this.handleKeyboardNavigation,document.body.addEventListener("keydown",this.listeners.keyboard)):!this.listeners.keyboard||!a||t.keyboardNavigation&&"continuous"===t.type||(document.body.removeEventListener("keydown",this.listeners.keyboard),delete this.listeners.keyboard)}},{key:"componentWillUpdate",value:function(t,e){var n=this.state,r=n.index,i=n.isRunning,o=n.shouldRenderTooltip,a=n.standaloneData,s=this.props.steps,l=t.steps,u=s[r],c=l[e.index],f=Boolean(this.getStepTargetElement(c));!a&&e.standaloneData?this.triggerCallback({type:M.STANDALONE_BEFORE,step:e.standaloneData}):a&&!e.standaloneData&&this.triggerCallback({type:M.STANDALONE_AFTER,step:a}),"start"!==e.action||e.isRunning||c&&!f&&(console.warn("Target not mounted",c,e.action),this.triggerCallback({action:"start",index:e.index,type:M.TARGET_NOT_FOUND,step:c})),!i&&e.isRunning&&0===e.index&&(this.triggerCallback({action:"start",index:e.index,type:M.STEP_BEFORE,step:c}),e.shouldRenderTooltip||this.triggerCallback({action:"start",index:e.index,type:M.BEACON_BEFORE,step:c})),i&&e.index!==r&&(this.triggerCallback({action:e.action,index:r,type:M.STEP_AFTER,step:u}),c&&!f?(console.warn("Target not mounted",c,e.action),this.triggerCallback({action:e.action,index:e.index,type:M.TARGET_NOT_FOUND,step:c})):c&&e.index&&this.triggerCallback({action:e.action,index:e.index,type:M.STEP_BEFORE,step:c})),!e.isRunning||o===e.shouldRenderTooltip&&e.index===r||(e.shouldRenderTooltip?this.triggerCallback({action:e.action||(0===e.index?"autostart":""),index:e.index,type:M.TOOLTIP_BEFORE,step:c}):this.triggerCallback({action:e.action,index:e.index,type:M.BEACON_BEFORE,step:c})),e.isRunning||!l.length||r===e.index||c||this.triggerCallback({action:e.action,type:M.FINISHED,steps:l,isTourSkipped:e.isTourSkipped})}},{key:"componentDidUpdate",value:function(t,e){var n=this.state,r=n.index,i=n.shouldRedraw,o=n.isRunning,a=n.shouldRun,s=n.standaloneData,l=this.props,u=l.scrollToFirstStep,c=l.scrollToSteps,f=l.steps,h=f[r],d=this.getScrollTop(),p=(u||r>0||e.index>r)&&h&&!h.isFixed;i&&h&&this.calcPlacement(),o&&c&&p&&d>=0&&m.default.top((0,y.getRootEl)(),this.getScrollTop()),f.length&&!o&&a&&!s&&this.start()}},{key:"componentWillUnmount",value:function(){var t=this;window.removeEventListener("resize",this.listeners.resize),this.listeners.keyboard&&document.body.removeEventListener("keydown",this.listeners.keyboard),Object.keys(this.listeners.tooltips).length&&Object.keys(this.listeners.tooltips).map(function(e){return{el:document.querySelector(e),event:t.listeners.tooltips[e].event,cb:t.listeners.tooltips[e].cb,key:e}}).filter(function(t){return!!t.el}).forEach(function(e){var n=e.el,r=e.event,i=e.cb,o=e.key;n.removeEventListener(r,i),delete t.listeners.tooltips[o]})}},{key:"start",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.steps,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.index,r=Boolean(this.getStepTargetElement(e[n])),i=!0===t&&r;(0,y.logger)({type:"joyride:start",msg:["autorun:",!0===t],debug:this.props.debug}),this.setState({action:"start",index:n,isRunning:Boolean(e.length)&&r,shouldRenderTooltip:i,shouldRun:!e.length})}},{key:"stop",value:function(){(0,y.logger)({type:"joyride:stop",debug:this.props.debug}),this.setState({isRunning:!1,shouldRenderTooltip:!1})}},{key:"next",value:function(){var t=this.state,e=t.index,n=t.shouldRenderTooltip,r=this.props.steps,i=e+1,o=Boolean(r[i])&&n;(0,y.logger)({type:"joyride:next",msg:["new index:",i],debug:this.props.debug}),this.toggleTooltip({show:o,index:i,action:"next"})}},{key:"back",value:function(){var t=this.state,e=t.index,n=t.shouldRenderTooltip,r=this.props.steps,i=e-1,o=Boolean(r[i])&&n;(0,y.logger)({type:"joyride:back",msg:["new index:",i],debug:this.props.debug}),this.toggleTooltip({show:o,index:i,action:"next"})}},{key:"reset",value:function(t){var e=this.state,n=e.index,r=e.isRunning,i=!0===t,o=l({},E,{isRunning:i,shouldRenderTooltip:this.props.autoStart});(0,y.logger)({type:"joyride:reset",msg:["restart:",i],debug:this.props.debug}),i&&r===i&&0===n&&this.forceUpdate(),this.setState(o)}},{key:"getProgress",value:function(){var t=this.state.index,e=this.props.steps;return(0,y.logger)({type:"joyride:getProgress",msg:["steps:",e],debug:this.props.debug}),{index:t,percentageComplete:parseFloat((t/e.length*100).toFixed(2).replace(".00","")),step:e[t]}}},{key:"addTooltip",value:function(t){if(!this.checkStepValidity(t))return void(0,y.logger)({type:"joyride:addTooltip:FAIL",msg:["data:",t],debug:this.props.debug});(0,y.logger)({type:"joyride:addTooltip",msg:["data:",t],debug:this.props.debug});var e=t.trigger||(0,y.sanitizeSelector)(t.selector),n=document.querySelector(e);if(n){n.setAttribute("data-tooltip",JSON.stringify(t));"hover"===(t.event||"click")&&(this.listeners.tooltips[e+"mouseenter"]={event:"mouseenter",cb:this.handleClickStandaloneTrigger},this.listeners.tooltips[e+"mouseleave"]={event:"mouseleave",cb:this.handleClickStandaloneTrigger},n.addEventListener("mouseenter",this.listeners.tooltips[e+"mouseenter"].cb),n.addEventListener("mouseleave",this.listeners.tooltips[e+"mouseleave"].cb)),this.listeners.tooltips[e+"click"]={event:"click",cb:this.handleClickStandaloneTrigger},n.addEventListener("click",this.listeners.tooltips[e+"click"].cb)}}},{key:"parseSteps",value:function(t){return console.warn("joyride.parseSteps() is deprecated.  It is no longer necessary to parse steps before providing them to Joyride"),t}},{key:"checkStepValidity",value:function(t){var e=this;if(!t||"object"!==(void 0===t?"undefined":s(t))||Array.isArray(t))return(0,y.logger)({type:"joyride:checkStepValidity",msg:"Did not provide a step object.",warn:!0,debug:this.props.debug}),!1;var n=["selector"],r=function(n){var r=Boolean(t[n]);return r||(0,y.logger)({type:"joyride:checkStepValidity",msg:["Provided a step without the required "+n+" property.","Step:",t],warn:!0,debug:e.props.debug}),r};return n.every(r)}},{key:"checkStepsValidity",value:function(t){return Array.isArray(t)||"object"!==(void 0===t?"undefined":s(t))?t.length>0&&t.every(this.checkStepValidity):this.checkStepValidity(t)}},{key:"getStepTargetElement",value:function(t){if(!this.checkStepValidity(t))return null;var e=document.querySelector((0,y.sanitizeSelector)(t.selector));return e||((0,y.logger)({type:"joyride:getStepTargetElement",msg:"Target not rendered. For best results only add steps after they are mounted.",warn:!0,debug:this.props.debug}),null)}},{key:"getElementDimensions",value:function(){var t=this.state,e=t.shouldRenderTooltip,n=t.standaloneData,r=!!n||e,i=document.querySelector(r?".joyride-tooltip":".joyride-beacon"),o=0,a=0;if(i){var s=window.getComputedStyle(i);o=i.clientHeight+parseInt(s.marginTop||0,10)+parseInt(s.marginBottom||0,10),a=i.clientWidth+parseInt(s.marginLeft||0,10)+parseInt(s.marginRight||0,10)}return{height:o,width:a}}},{key:"getScrollTop",value:function(){var t=this.state,e=t.index,n=t.yPos,r=this.props,i=r.offsetParentSelector,o=r.scrollOffset,a=r.steps,s=a[e],l=this.getStepTargetElement(s),u=document.querySelector((0,y.sanitizeSelector)(i));if(!l)return 0;var c=(0,y.getOffsetBoundingClientRect)(l,u),f=c.top+(window.pageYOffset||document.documentElement.scrollTop),h=this.calcPosition(s),d=0;return/^top/.test(h)?d=Math.floor(n-o):/^bottom|^left|^right/.test(h)&&(d=Math.floor(f-o)),d}},{key:"triggerCallback",value:function(t){var e=this.props.callback;"function"==typeof e&&((0,y.logger)({type:"joyride:triggerCallback",msg:[t],debug:this.props.debug}),e(t))}},{key:"toggleTooltip",value:function(t){var e=t.show,n=t.index,r=void 0===n?this.state.index:n,i=t.action,o=t.steps,a=void 0===o?this.props.steps:o,s=a[r],l=Boolean(this.getStepTargetElement(s));this.setState({action:i,index:r,isRunning:!(!s||!l)&&this.state.isRunning,shouldRedraw:!e||!l,shouldRenderTooltip:e&&l,xPos:-1e3,yPos:-1e3})}},{key:"calcPlacement",value:function(){var t=this.state,e=t.index,n=t.isRunning,r=t.standaloneData,i=t.shouldRenderTooltip,o=this.props,a=o.offsetParentSelector,s=o.steps,l=o.tooltipOffset,u=r||s[e]||{},c=!!r||i,f=this.getStepTargetElement(u),h=document.querySelector((0,y.sanitizeSelector)(a));if((0,y.logger)({type:"joyride:calcPlacement"+this.getRenderStage(),msg:["step:",u],debug:this.props.debug}),f){var d={x:-1e3,y:-1e3};if(u&&(r||n&&s[e])){var p=v.default.get(u,"style.beacon.offsetX")||0,m=v.default.get(u,"style.beacon.offsetY")||0,g=this.calcPosition(u),b=(0,y.getRootEl)().getBoundingClientRect(),_=!0===u.isFixed?0:b.top,w=this.getElementDimensions(),x=(0,y.getOffsetBoundingClientRect)(f,h);/^left/.test(g)?d.x=x.left-(c?w.width+l:w.width/2+p):/^right/.test(g)?d.x=x.left+x.width-(c?-l:w.width/2-p):d.x=x.left+(x.width/2-w.width/2),/^top/.test(g)?d.y=x.top-_-(c?w.height+l:w.height/2+m):/^bottom/.test(g)?d.y=x.top-_+(x.height-(c?-l:w.height/2-m)):d.y=x.top-_,/^bottom|^top/.test(g)&&(/left/.test(g)?d.x=x.left-(c?l:w.width/2):/right/.test(g)&&(d.x=x.left+(x.width-(c?w.width-l:w.width/2)))),this.setState({shouldRedraw:!1,xPos:this.preventWindowOverflow(Math.ceil(d.x),"x",w.width,w.height),yPos:this.preventWindowOverflow(Math.ceil(d.y),"y",w.width,w.height)})}}}},{key:"calcPosition",value:function(t){var e=this.props,n=e.offsetParentSelector,r=e.tooltipOffset,i=(0,y.getRootEl)(),o=i.getBoundingClientRect(),a=this.getStepTargetElement(t),s=document.querySelector((0,y.sanitizeSelector)(n)),l=(0,y.getOffsetBoundingClientRect)(a,s),u=this.getElementDimensions(),c=u.height,f=u.width,h=void 0===f?S.minWidth:f,d=t.position||S.position;return/^left/.test(d)&&l.left-(h+r)<0?d="top":/^right/.test(d)&&l.left+l.width+(h+r)>o.width&&(d="bottom"),/^top/.test(d)&&(l.top+i.scrollTop-(c+r)<0||t.isFixed&&l.top-c<0)?d="bottom":/^bottom/.test(d)&&(l.top+i.scrollTop+(c+r)>(0,y.getDocHeight)()||t.isFixed&&l.top+l.height+c>o.height)&&(d="top"),d}},{key:"getRenderStage",value:function(){var t=this.state,e=t.shouldRedraw,n=t.xPos;return e?":redraw":n<0?":pre-render":""}},{key:"preventWindowOverflow",value:function(t,e,n,r){var i=window.innerWidth,o=(0,y.getDocHeight)(),a=t;return"x"===e?t+n>=i?a=i-n-15:t<15&&(a=15):"y"===e&&(t+r>=o?a=o-r-15:t<15&&(a=15)),a}},{key:"createComponent",value:function(){var t=this.state,e=t.index,n=t.shouldRedraw,r=t.shouldRenderTooltip,i=t.standaloneData,o=t.xPos,a=t.yPos,s=this.props,u=s.disableOverlay,c=s.holePadding,h=s.locale,d=s.offsetParentSelector,p=s.showBackButton,m=s.showOverlay,g=s.showSkipButton,v=s.showStepsProgress,b=s.steps,w=s.type,E=i||b[e],M=l({},E),S=this.getStepTargetElement(M),T=void 0,C=M&&M.allowClicksThruHole||this.props.allowClicksThruHole,O=!i&&m,A={primary:h.close};if((0,y.logger)({type:"joyride:createComponent"+this.getRenderStage(),msg:["component:",r||i?"Tooltip":"Beacon","animate:",o>-1&&!n,"step:",M],debug:this.props.debug,warn:!S}),!S)return!1;if(r||i){var I=this.calcPosition(M);if(!i){if(["continuous","guided"].includes(w)){if(A.primary=h.last,b[e+1])if(v){var R=h.next;"string"==typeof h.next&&(R=f.default.createElement("span",null,h.next)),A.primary=f.default.createElement("span",null,R," ",f.default.createElement("span",null,e+1+"/"+b.length))}else A.primary=h.next;p&&e>0&&(A.secondary=h.back)}g&&(A.skip=h.skip)}T=f.default.createElement(x.default,{allowClicksThruHole:C,animate:o>-1&&!n,buttons:A,disableOverlay:u,holePadding:c,offsetParentSelector:d,position:I,selector:(0,y.sanitizeSelector)(M.selector),showOverlay:O,step:M,standalone:Boolean(i),target:S,type:w,xPos:o,yPos:a,onClick:this.handleClickTooltip,onRender:this.handleRenderTooltip})}else T=f.default.createElement(_.default,{step:M,xPos:o,yPos:a,onTrigger:this.handleClickBeacon,eventType:M.type||"click"});return T}},{key:"render",value:function(){var t=this.state,e=t.index,n=t.isRunning,r=t.standaloneData,i=this.props.steps,o=Boolean(i[e]),a=void 0,s=void 0;return n&&o?(0,y.logger)({type:"joyride:render"+this.getRenderStage(),msg:["step:",i[e]],debug:this.props.debug}):!n&&r&&(0,y.logger)({type:"joyride:render",msg:["tooltip:",r],debug:this.props.debug}),r?s=this.createComponent():n&&o&&(a=this.createComponent()),f.default.createElement("div",{className:"joyride"},a,s)}}]),e}(f.default.Component);C.propTypes={allowClicksThruHole:d.default.bool,autoStart:d.default.bool,callback:d.default.func,debug:d.default.bool,disableOverlay:d.default.bool,holePadding:d.default.number,keyboardNavigation:d.default.bool,locale:d.default.object,offsetParentSelector:d.default.string,resizeDebounce:d.default.bool,resizeDebounceDelay:d.default.number,run:d.default.bool,scrollOffset:d.default.number,scrollToFirstStep:d.default.bool,scrollToSteps:d.default.bool,showBackButton:d.default.bool,showOverlay:d.default.bool,showSkipButton:d.default.bool,showStepsProgress:d.default.bool,stepIndex:d.default.number,steps:d.default.array,tooltipOffset:d.default.number,type:d.default.string},C.defaultProps={allowClicksThruHole:!1,autoStart:!1,debug:!1,disableOverlay:!1,holePadding:5,keyboardNavigation:!0,locale:{back:"Back",close:"Close",last:"Last",next:"Next",skip:"Skip"},offsetParentSelector:"body",resizeDebounce:!1,resizeDebounceDelay:200,run:!1,scrollOffset:20,scrollToFirstStep:!1,scrollToSteps:!0,showBackButton:!0,showOverlay:!0,showSkipButton:!1,showStepsProgress:!1,stepIndex:0,steps:[],tooltipOffset:15,type:"single"},e.default=C},function(t,e,n){function r(t){return function(e,n,r,c){function f(){v=!0}function h(r){if(v)return c(l,e[t]);var i=+new Date,o=u(1,(i-d)/g),s=m(o);e[t]=s*(n-p)+p,a(o<1?h:function(){c(null,e[t])})}r=r||{},"function"==typeof r&&(c=r,r={}),"function"!=typeof c&&(c=o);var d=+new Date,p=e[t],m=r.ease||i,g=isNaN(r.duration)?350:+r.duration,v=!1;return p===n?c(s,e[t]):a(h),f}}function i(t){return.5*(1-Math.cos(Math.PI*t))}function o(){}var a=n(1414),s=new Error("Element already at target scroll position"),l=new Error("Scroll cancelled"),u=Math.min;t.exports={left:r("scrollLeft"),top:r("scrollTop")}},function(t,e,n){function r(t){var e=+new Date,n=Math.max(0,16-(e-a)),r=setTimeout(t,n);return a=e,r}var i=n(1415),o=i.requestAnimationFrame||i.webkitRequestAnimationFrame||i.mozRequestAnimationFrame||r,a=+new Date,s=i.cancelAnimationFrame||i.webkitCancelAnimationFrame||i.mozCancelAnimationFrame||clearTimeout;Function.prototype.bind&&(o=o.bind(i),s=s.bind(i)),e=t.exports=o,e.cancel=s},function(t,e,n){(function(e){var n;n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=n}).call(e,n(37))},function(t,e,n){"use strict";function r(t,e){if(t&&"object"==typeof t){if("string"==typeof e&&""!==e){return e.split(".").reduce(function(t,e){return t&&t[e]},t)}return"number"==typeof e?t[e]:t}return t}function i(t,e,n){if(n=n||{},t&&"object"==typeof t){if("string"==typeof e&&""!==e){return e.split(".").reduce(function(t,e,r,i){return r==i.length-1?n.own?!(!t||!t.hasOwnProperty(e)):!!(null!==t&&"object"==typeof t&&e in t):t&&t[e]},t)}return"number"==typeof e&&e in t}return!1}function o(t,e,n){if(t&&"object"==typeof t){if("string"==typeof e&&""!==e){var r=e.split(".");return r.reduce(function(t,e,i){return t[e]=t[e]||{},r.length==i+1&&(t[e]=n),t[e]},t)}return"number"==typeof e?(t[e]=n,t[e]):t}return t}function a(t,e,n,r){if(r=r||{},t&&"object"==typeof t){if("string"==typeof e&&""!==e){var i,o=e.split("."),a=!1;return i=!!o.reduce(function(t,e){return a=a||t===n||!!t&&t[e]===n,t&&t[e]},t),r.validPath?a&&i:a}return!1}return!1}/**
* @license nested-property https://github.com/cosmosio/nested-property
*
* The MIT License (MIT)
*
* Copyright (c) 2014-2015 Olivier Scherrer <pode.fr@gmail.com>
*/
t.exports={set:o,get:r,has:i,hasOwn:function(t,e,n){return this.has(t,e,n||{own:!0})},isIn:a}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(0),u=r(l),c=n(3),f=r(c),h=n(390),d=!1;"undefined"!=typeof window&&(d="ontouchstart"in window||navigator.msMaxTouchPoints);var p=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){var t=this.props,e=t.eventType,n=t.onTrigger,r=t.step,i=t.xPos,o=t.yPos,a={beacon:{left:i,position:!0===r.isFixed?"fixed":"absolute",top:o},inner:{},outer:{}},s=r.style||{},l=void 0;return s.beacon&&("string"==typeof s.beacon?(l=(0,h.hexToRGB)(s.beacon),a.inner.backgroundColor=s.beacon,a.outer={backgroundColor:"rgba("+l.r+", "+l.g+", "+l.b+", 0.2)",borderColor:s.beacon}):(s.beacon.inner&&(a.inner.backgroundColor=s.beacon.inner),s.beacon.outer&&(l=(0,h.hexToRGB)(s.beacon.outer),a.outer={backgroundColor:"rgba("+l.r+", "+l.g+", "+l.b+", 0.4)",borderColor:s.beacon.outer}))),u.default.createElement("button",{className:"joyride-beacon",style:a.beacon,onClick:"click"===e||d?n:null,onMouseEnter:"hover"!==e||d?null:n},u.default.createElement("span",{className:"joyride-beacon__inner",style:a.inner}),u.default.createElement("span",{className:"joyride-beacon__outer",style:a.outer}))}}]),e}(u.default.Component);p.propTypes={eventType:f.default.string.isRequired,onTrigger:f.default.func.isRequired,step:f.default.object.isRequired,xPos:f.default.oneOfType([f.default.number,f.default.string]).isRequired,yPos:f.default.oneOfType([f.default.number,f.default.string]).isRequired},p.defaultProps={xPos:-1e3,yPos:-1e3},e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(0),c=r(u),f=n(3),h=r(f),d=n(390),p=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handleMouseMove=function(t){var e=t||window.e,r=n.state.styles.hole,i="fixed"===r.position?e.clientY:e.pageY,o="fixed"===r.position?e.clientX:e.pageX,a=i>=r.top&&i<=r.top+r.height,s=o>=r.left&&o<=r.left+r.width,l=s&&a;l&&!n.state.mouseOverHole&&n.setState({mouseOverHole:!0}),!l&&n.state.mouseOverHole&&n.setState({mouseOverHole:!1})},n.state={},n}return a(e,t),l(e,[{key:"componentWillMount",value:function(){var t=this.setOpts(),e=this.setStyles(this.props.step.style,t,this.props);this.setState({styles:e,opts:t})}},{key:"componentDidMount",value:function(){var t=this.props,e=t.allowClicksThruHole,n=t.onRender,r=t.showOverlay;this.forceUpdate(),n(),r&&e&&document.addEventListener("mousemove",this.handleMouseMove,!1)}},{key:"componentWillReceiveProps",value:function(t){var e=t.allowClicksThruHole,n=t.animate,r=t.standalone,i=t.step,o=t.holePadding,a=t.position,s=t.xPos,l=t.yPos,u=t.showOverlay,c=this.props,f=c.allowClicksThruHole,h=c.animate,d=c.standalone,p=c.step,m=c.holePadding,g=c.position,v=c.xPos,y=c.yPos,b=c.showOverlay;if(n!==h||r!==d||i!==p||o!==m||a!==g||s!==v||l!==y){var _=this.setOpts(t),w=this.setStyles(t.step.style,_,t);this.setState({styles:w,opts:_})}u!==b&&(u&&e?document.addEventListener("mousemove",this.handleMouseMove,!1):document.removeEventListener("mousemove",this.handleMouseMove,!1)),e!==f&&(e?document.addEventListener("mousemove",this.handleMouseMove,!1):document.removeEventListener("mousemove",this.handleMouseMove,!1))}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.onRender,r=e.selector;t.selector!==r&&(this.forceUpdate(),n())}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.handleMouseMove,!1)}},{key:"getArrowPosition",value:function(t){var e=t;return window.innerWidth<480?t<8?e=8:t>92&&(e=92):window.innerWidth<1024?t<6?e=6:t>94&&(e=94):t<5?e=5:t>95&&(e=95),e}},{key:"generateArrow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.location=t.location||"top",t.color=t.color||"#f04",t.color=t.color.replace("#","%23"),t.width=t.width||36,t.height=t.width/2,t.scale=t.width/16,t.rotate="0";var e=t.height,n=t.rotate,r=t.width;return"bottom"===t.location?n="180 8 4":"left"===t.location?(e=t.width,r=t.height,n="270 8 8"):"right"===t.location&&(e=t.width,r=t.height,n="90 4 4"),"data:image/svg+xml,%3Csvg%20width%3D%22"+r+"%22%20height%3D%22"+e+"%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpolygon%20points%3D%220%2C%200%208%2C%208%2016%2C0%22%20fill%3D%22"+t.color+"%22%20transform%3D%22scale%28"+t.scale+"%29%20rotate%28"+n+"%29%22%3E%3C%2Fpolygon%3E%3C%2Fsvg%3E"}},{key:"setStyles",value:function(t,e,n){var r=n.holePadding,i=n.step,o=n.xPos,a=n.yPos,l=!0===i.isFixed,u={arrow:{left:e.arrowPosition},buttons:{},header:{},main:{},footer:{},hole:{},tooltip:{position:l?"fixed":"absolute",top:Math.round(a),left:Math.round(o)}};return u.hole={top:Math.round(e.rect.top-(l?0:document.body.getBoundingClientRect().top)-r),left:Math.round(e.rect.left-r),width:Math.round(e.rect.width+2*r),height:Math.round(e.rect.height+2*r)},l&&(u.hole.position="fixed"),u.buttons={back:{},close:{},primary:{},skip:{}},t&&(t.backgroundColor&&(u.arrow.backgroundImage='url("'+this.generateArrow({location:e.positonBaseClass,color:t.backgroundColor})+'")',u.tooltip.backgroundColor=t.backgroundColor),t.borderRadius&&(u.tooltip.borderRadius=t.borderRadius),t.color&&(u.buttons.primary.color=t.color,u.buttons.close.color=t.color,u.buttons.skip.color=t.color,u.header.color=t.color,u.tooltip.color=t.color,t.mainColor&&t.mainColor===t.color&&(u.buttons.primary.color=t.backgroundColor)),t.mainColor&&(u.buttons.primary.backgroundColor=t.mainColor,u.buttons.back.color=t.mainColor,u.header.borderColor=t.mainColor),t.textAlign&&(u.tooltip.textAlign=t.textAlign),t.width&&(u.tooltip.width=t.width),t.header&&(u.header=s({},u.header,t.header)),t.main&&(u.main=s({},u.main,t.main)),t.footer&&(u.footer=s({},u.footer,t.footer)),t.back&&(u.buttons.back=s({},u.buttons.back,t.back)),t.arrow&&(u.arrow=s({},u.arrow,t.arrow)),t.button&&(u.buttons.primary=s({},u.buttons.primary,t.button)),t.close&&(u.buttons.close=s({},u.buttons.close,t.close)),t.skip&&(u.buttons.skip=s({},u.buttons.skip,t.skip)),t.hole&&(u.hole=s({},t.hole,u.hole))),u}},{key:"setOpts",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e=t.animate,n=t.offsetParentSelector,r=t.position,i=t.standalone,o=t.target,a=t.xPos,s=document.querySelector((0,d.sanitizeSelector)(n)),l=document.querySelector(".joyride-tooltip"),u={classes:["joyride-tooltip"],rect:(0,d.getOffsetBoundingClientRect)(o,s),positionClass:r};return u.positonBaseClass=u.positionClass.match(/-/)?u.positionClass.split("-")[0]:u.positionClass,(/^bottom$/.test(u.positionClass)||/^top$/.test(u.positionClass))&&a>-1&&(u.tooltip={width:450},l&&(u.tooltip=(0,d.getOffsetBoundingClientRect)(l,s)),u.targetMiddle=u.rect.left+u.rect.width/2,u.arrowPosition=((u.targetMiddle-a)/u.tooltip.width*100).toFixed(2),u.arrowPosition=this.getArrowPosition(u.arrowPosition)+"%"),i&&u.classes.push("joyride-tooltip--standalone"),u.positonBaseClass!==u.positionClass&&u.classes.push(u.positonBaseClass),u.classes.push(u.positionClass),e&&u.classes.push("joyride-tooltip--animate"),u}},{key:"render",value:function(){var t=this.props,e=t.buttons,n=t.disableOverlay,r=t.onClick,i=t.selector,o=t.showOverlay,a=t.step,s=t.target,l=t.type;if(s){var u=this.state,f=u.opts,h=u.styles,p={};if(a.title&&(p.header=c.default.createElement("div",{className:"joyride-tooltip__header",style:h.header},a.title)),e.skip&&(p.skip=c.default.createElement("button",{className:"joyride-tooltip__button joyride-tooltip__button--skip",style:h.buttons.skip,"data-type":"skip",onClick:r},e.skip)),a.text&&"string"!=typeof a.text?p.main=c.default.createElement("div",{className:"joyride-tooltip__main",style:h.main},a.text):p.main=c.default.createElement("div",{className:"joyride-tooltip__main",style:h.main,dangerouslySetInnerHTML:{__html:a.text||""}}),e.secondary&&(p.secondary=c.default.createElement("button",{className:"joyride-tooltip__button joyride-tooltip__button--secondary",style:h.buttons.back,"data-type":"back",onClick:r},e.secondary)),"hover"===a.event&&(h.buttons.close.opacity=0),p.tooltipComponent=c.default.createElement("div",{className:f.classes.join(" "),style:h.tooltip,"data-target":i},c.default.createElement("div",{className:"joyride-tooltip__triangle joyride-tooltip__triangle-"+f.positionClass,style:h.arrow}),c.default.createElement("button",{className:"joyride-tooltip__close"+(p.header?" joyride-tooltip__close--header":""),style:h.buttons.close,"data-type":"close",onClick:r}),p.header,p.main,c.default.createElement("div",{className:"joyride-tooltip__footer",style:h.footer},p.skip,p.secondary,c.default.createElement("button",{className:"joyride-tooltip__button joyride-tooltip__button--primary",style:h.buttons.primary,"data-type":["single","casual"].includes(l)?"close":"next",onClick:r},e.primary))),o&&(p.hole=c.default.createElement("div",{className:"joyride-hole "+d.browser,style:h.hole,onClick:function(){}})),!o)return p.tooltipComponent;var m={cursor:n?"default":"pointer",height:document.body.clientHeight,pointerEvents:this.state.mouseOverHole?"none":"auto"};return c.default.createElement("div",{className:"joyride-overlay",style:m,"data-type":"close",onClick:n?void 0:r},p.hole,p.tooltipComponent)}}}]),e}(c.default.Component);p.propTypes={allowClicksThruHole:h.default.bool.isRequired,animate:h.default.bool.isRequired,buttons:h.default.object.isRequired,disableOverlay:h.default.bool,holePadding:h.default.number,offsetParentSelector:h.default.string,onClick:h.default.func.isRequired,onRender:h.default.func.isRequired,position:h.default.oneOf(["top","top-left","top-right","bottom","bottom-left","bottom-right","right","left"]).isRequired,selector:h.default.string.isRequired,showOverlay:h.default.bool.isRequired,standalone:h.default.bool,step:h.default.object.isRequired,target:h.default.object.isRequired,type:h.default.string.isRequired,xPos:h.default.oneOfType([h.default.number,h.default.string]).isRequired,yPos:h.default.oneOfType([h.default.number,h.default.string]).isRequired},p.defaultProps={buttons:{primary:"Close"},step:{},xPos:-1e3,yPos:-1e3},e.default=p},function(t,e,n){"use strict";var r=n(15);n.n(r);e.a=Object(r.defineMessages)({title:{id:"tour.title",defaultMessage:"New: Forward Intersection"},text:{id:"tour.text",defaultMessage:"Enhance Smart Click results or manually create new points by combining observations from multiple recordings."},url:{id:"tour.url",defaultMessage:"url"}})},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e,n){return e in t?l()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o,a,s=n(1),l=n.n(s),u=n(4),c=n.n(u),f=n(126),h=n(278),d=n(279),p=n(1421),m=n(1422),g=c.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v={visible:!1,times:[],timesValues:{},time:Date.now(),thumbnailUrl:null,viewerType:null},y={byId:{},serviceUrls:{panoramaTilesUrls:null,obliqueTileUrl:null}},b=(o={},i(o,f.TimeTravelType.PANORAMA,p.a),i(o,f.TimeTravelType.OBLIQUE,m.a),o),_=(a={},i(a,f.TimeTravelType.PANORAMA,g({},v,p.b)),i(a,f.TimeTravelType.OBLIQUE,g({},v,m.b)),i(a,void 0,v),a),w=function(t,e){switch(e.type){case f.ActionTypes.ADD_TIMETRAVEL:var n=e.payload.viewerType;return g({},_[n],{viewerType:n});case f.ActionTypes.TOGGLE_TIMETRAVEL:var r=e.payload.visible;return g({},t,{visible:void 0===r?!t.visible:!!r});case f.ActionTypes.SET_TIME:var i=e.payload.time;return g({},t,{time:i});case f.ActionTypes.SET_TIMES_VALUES:var o=e.payload,a=o.times,s=o.timesValues;return g({},t,{times:a,timesValues:s});case f.ActionTypes.LOAD_THUMBNAIL:var l=e.payload.url;return g({},t,{thumbnailUrl:l});default:var u=b[t&&t.viewerType];return u?u(t,e):t}};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments[1];switch(e.type){case f.ActionTypes.SETUP:var n=e.payload,o=n.panoramaTilesUrls,a=n.obliqueTileUrl;return g({},t,{serviceUrls:{panoramaTilesUrls:o,obliqueTileUrl:a}});case f.ActionTypes.REMOVE_TIMETRAVEL:var s=t.byId,l=(s[e.payload.id],r(s,[e.payload.id]));return g({},t,{byId:l});case f.ActionTypes.ADD_TIMETRAVEL:case f.ActionTypes.TOGGLE_TIMETRAVEL:case f.ActionTypes.SET_TIME:case f.ActionTypes.SET_TIMES_VALUES:case h.a.SET_YAW_OFFSET:case d.a.SET_HISTORY_RECORDINGS:case d.a.SET_THUMBNAIL_STYLE:case f.ActionTypes.LOAD_THUMBNAIL:var u=e.payload.id;return g({},t,{byId:g({},t.byId,i({},u,w(t.byId[u],e)))});default:return t}}},function(t,e,n){"use strict";n.d(e,"b",function(){return c});var r=n(1),i=n.n(r),o=n(4),a=n.n(o),s=n(16),l=(n.n(s),n(278)),u=a.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c={yawOffset:0};e.a=Object(s.handleActions)(function(t,e,n){return e in t?i()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},l.a.SET_YAW_OFFSET,function(t,e){return u({},t,{yawOffset:e.payload.yawOffset||0})}),c)},function(t,e,n){"use strict";function r(t,e,n){return e in t?a()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"b",function(){return d});var i,o=n(1),a=n.n(o),s=n(4),l=n.n(s),u=n(16),c=(n.n(u),n(279)),f=n(280),h=l.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d={historyRecordings:[],thumbnailStyle:{height:f.a,width:f.a,left:void 0,top:void 0,right:void 0,bottom:void 0}};e.a=Object(u.handleActions)((i={},r(i,c.a.SET_HISTORY_RECORDINGS,function(t,e){var n=e.payload.historyRecordings;return h({},t,{historyRecordings:n})}),r(i,c.a.SET_THUMBNAIL_STYLE,function(t,e){var n=e.payload.style;return h({},t,{thumbnailStyle:n})}),i),d)},function(t,e,n){"use strict";function r(t,e,n){return e in t?a()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i,o=n(1),a=n.n(o),s=n(4),l=n.n(s),u=n(16),c=(n.n(u),n(147)),f=n(277),h=n(27),d=l.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p={steps:[],type:"single",run:!1,dismissed:!0};e.a=Object(u.handleActions)((i={},r(i,h.ActionTypes.LOAD_USER_PROFILE,function(t,e){var n=d({},t),r=e.payload;if(f.b in r){var i=r[f.b],o=!1;i&&(i=JSON.parse(i),o=i.lastDismissedTour===c.a.version),n.dismissed=o}return n}),r(i,f.a.ADD_TOUR_STEP,function(t,e){return d({},t,{steps:[e.payload]})}),r(i,f.a.RUN_TOUR,function(t){return d({},t,{run:!0})}),r(i,f.a.STOP_TOUR,function(t){return d({},t,{run:!1})}),r(i,f.a.DISMISS_TOUR,function(t){return d({},t,{dismissed:!0})}),i),p)},function(t,e,n){"use strict";function r(t,e,n){return e in t?a()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i,o=n(1),a=n.n(o),s=n(4),l=n.n(s),u=n(16),c=(n.n(u),n(27)),f=n(105),h=l.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d=function(t,e){var n=e.payload,i=n.key,o=n.value;return h({},t,r({},i,o))};e.a=Object(u.handleActions)((i={},r(i,c.ActionTypes.LOAD_USER_PROFILE,{next:function(t,e){return h({},t,e.payload)},throw:f.b}),r(i,c.ActionTypes.SET_PROFILE_CONFIG,d),r(i,c.ActionTypes.SET_PROFILE_GLOBAL,d),r(i,c.ActionTypes.REMOVE_PROFILE_CONFIG,function(t,e){var n=h({},t),r=e.payload.key;return r in n&&delete n[r],n}),i),null)},function(t,e,n){"use strict";function r(t,e,n){return e in t?a()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i,o=n(1),a=n.n(o),s=n(4),l=n.n(s),u=n(16),c=(n.n(u),n(53)),f=l.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h={viewerMode:c.ViewerMode.VIEWER,currentPanoramaWID:null,helpVisible:!1,reportBlurringVisible:!1};e.a=Object(u.handleActions)((i={},r(i,c.ActionTypes.SET_VIEWER_MODE,function(t,e){return f({},t,{viewerMode:e.payload})}),r(i,c.ActionTypes.SET_CURRENT_PANORAMA_WID,function(t,e){return f({},t,{currentPanoramaWID:e.payload})}),r(i,c.ActionTypes.TOGGLE_HELP,function(t,e){var n=e.payload;return f({},t,{helpVisible:void 0!==n?!!n:!t.helpVisible})}),r(i,c.ActionTypes.TOGGLE_REPORT_BLURRING,function(t,e){var n=e.payload;return f({},t,{reportBlurringVisible:void 0!==n?!!n:!t.reportBlurringVisible})}),i),h)},function(t,e,n){"use strict";var r=n(148),i=n(610),o=n(385),a=n(112),s=n(276),l=n(179),u=n(611),c=n(266),f=n(80),h=n(180),d=n(48),p=n(386),m=n(123),g=n(81),v=n(387),y=n(389),b=n(376),_=n(388),w=n(615),x=n(1427),E=n(126),M=n(27),S=n(53),T=n(176);e.a={config:r,customerlogo:i,elevation:o,flash:a,intl:s,layer:l,layerwizard:u,link:c,logging:f,login:h,measurements:d,measurementattribute:p,obliqueviewer:m,panoramaviewer:g,reportblurring:v,routing:y,search:b,srs:_,stage:w,systeminfo:x,timetravel:E,userprofile:M,viewermanager:S,windowmanager:T}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function r(t){return function(){var e=t.apply(this,arguments);return new s.a(function(t,n){function r(i,o){try{var a=e[i](o),l=a.value}catch(t){return void n(t)}if(!a.done)return s.a.resolve(l).then(function(t){r("next",t)},function(t){r("throw",t)});t(l)}return r("next")})}}n.d(e,"LOAD_SYSTEM_INFO",function(){return h}),n.d(e,"loadSystemInfo",function(){return p}),n.d(e,"getSystemInfo",function(){return g});var i=n(21),o=n.n(i),a=n(19),s=n.n(a),l=n(16),u=(n.n(l),n(20)),c=n.n(u),f=this,h="@@systeminfo/LOAD_SYSTEM_INFO",d=function(){var e=t,n=e.navigator,r={};if(["userAgent","appName","appVersion","appMinorVersion","appCodeName","language","browserLanguage","userLanguage","platform","product","productSub","vendor","vendorSub","cookieEnabled","doNotTrack"].forEach(function(t){r[t]=t in n&&""!==n[t]?String(n[t]):"-"}),n.plugins){for(var i=n.plugins,o=[],a=0,s=i.length;a<s;a++){var l=i[a];o.push(l.name),""!==l.description&&o.push("  "+l.description)}r.plugins=o.join("\n")}return r},p=Object(l.createAction)(h,r(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=d(),!c.a.isEmpty(e)){t.next=3;break}throw new Error("Could not load system info!");case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}))),m=void 0,g=function(){return function(){var t=r(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(m){t.next=7;break}return t.next=3,e(p());case 3:if(n=t.sent,!n.error){t.next=6;break}throw n.payload;case 6:m=n.payload;case 7:return t.abrupt("return",m);case 8:case"end":return t.stop()}},t,f)}));return function(e){return t.apply(this,arguments)}}()}}.call(e,n(37))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=m()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(d.a?d()(t,e):t.__proto__=e)}n.d(e,"a",function(){return L});var a=n(61),s=n.n(a),l=n(40),u=n.n(l),c=n(7),f=n.n(c),h=n(6),d=n.n(h),p=n(5),m=n.n(p),g=n(1),v=n.n(g),y=n(34),b=n.n(y),_=n(3),w=n.n(_),x=n(0),E=n.n(x),M=n(28),S=(n.n(M),n(1429)),T=n(1430),C=n(1431),O=n(1457),A=n(71),I=n(630),R=n(347),P=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),v()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),L=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=i(this,(t=e.__proto__||f()(e)).call.apply(t,[this].concat(o)));return s.getCmtNode=s.getCmtNode.bind(s),s}return o(e,t),P(e,[{key:"getChildContext",value:function(){return{rootElement:this.node}}},{key:"componentDidMount",value:function(){var t=this,e=this.props.store;e||b.a.error("No store available"),this.unsubscribe=e.subscribe(function(){return t.forceUpdate()})}},{key:"getCmtNode",value:function(t){this.node=t,this.forceUpdate()}},{key:"render",value:function(){var t=this.props,e=t.store,n=t.style;if(!e)return null;var r=e.getState(),i=r.measurements,o=r.panoramaviewer,a=r.obliqueviewer,l=u()(o.byId),c=s()(o.byId),f=u()(a.byId);return f.length>=1&&this.currentObliqueViewerId!==f[0]&&(this.currentObliqueViewerId=f[0]),0===f.length&&void 0!==this.currentObliqueViewerId&&(R.viewerRemoved(this.currentObliqueViewerId),this.currentObliqueViewerId=void 0),l.length>=1&&this.currentPanoramaViewerId!==l[0]&&(this.currentPanoramaViewerId=l[0]),0===l.length&&void 0!==this.currentPanoramaViewerId&&(R.viewerRemoved(this.currentPanoramaViewerId),this.currentPanoramaViewerId=void 0),i&&l.length>=1&&(this.activeMeasurement!==i.activeMeasurement&&(R.measurementChanged(i.activeMeasurement,l[0]),this.currentPanoramaviewer=c[0]),null===this.activeMeasurement&&void 0!==this.currentPanoramaviewer&&this.currentPanoramaviewer!==c[0]&&(R.measurementChanged(i.activeMeasurement,l[0]),this.currentPanoramaviewer=void 0),this.activeMeasurement=i.activeMeasurement),E.a.createElement("div",{ref:this.getCmtNode,className:"cmt"},E.a.createElement(M.Provider,{store:e},E.a.createElement(T.a,{defaultLocale:"en-GB"},E.a.createElement("div",{id:"streetSmartApi",style:n},E.a.createElement(S.a,null),E.a.createElement(A.a,null),this.props.children||E.a.createElement(C.a,{setComponentRef:I.d}),i.typeSelectionModalVisible&&E.a.createElement(O.a,null)))))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}}]),e}(x.Component);L.propTypes={store:w.a.object,style:w.a.object,children:w.a.object},L.childContextTypes={rootElement:w.a.object}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(4),m=n.n(p),g=n(0),v=n.n(g),y=n(28),b=(n.n(y),n(24)),_=(n.n(b),m.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),w=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),x=function(t){function e(){return r(this,e),i(this,(e.__proto__||s()(e)).apply(this,arguments))}return o(e,t),w(e,[{key:"render",value:function(){var t=this.props;return!!t.visible&&v.a.createElement(b.Alert,{bsStyle:t.style,onDismiss:t.onDismiss},t.content)}}]),e}(g.Component),E=function(t){var e=t.flash;return _({},e)};e.a=Object(y.connect)(E)(x)},function(t,e,n){"use strict";var r=n(4),i=n.n(r),o=n(15),a=(n.n(o),n(28)),s=(n.n(a),i.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),l=function(t){var e=t.intl;return s({},e,{key:e.locale})};e.a=Object(a.connect)(l)(o.IntlProvider)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(4),m=n.n(p),g=n(3),v=n.n(g),y=n(0),b=n.n(y),_=n(24),w=(n.n(_),n(28)),x=(n.n(w),n(36)),E=(n.n(x),n(31)),M=n(252),S=n(618),T=n(621),C=n(1448),O=n(1452),A=n(1454),I=n(149),R=n(628),P=n(176),L=n(81),N=n(123),k=n(53),D=n(267),F=n(1456),j=n(89),U=m.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),B=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var l=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return l.colorManager=new R.a,l.state={helpLoaded:!1},l.onHelpLoaded=l.onHelpLoaded.bind(l),l.closeNode=l.closeNode.bind(l),l.onClosePanorama=l.onClosePanorama.bind(l),l.onCloseOblique=l.onCloseOblique.bind(l),l.onCloseHelp=l.onCloseHelp.bind(l),l.onCloseReportBlurring=l.onCloseReportBlurring.bind(l),l.onReportBlurringLoaded=l.onReportBlurringLoaded.bind(l),l}return o(e,t),z(e,[{key:"componentWillReceiveProps",value:function(t){var e=this.props,n=e.viewermanager.helpVisible,r=e.windowmanager,i=(r.layout,r.maxLengthWindows,t.viewermanager.helpVisible),o=t.windowmanager,a=o.layout,s=o.maxLengthWindows;n!==i&&this.setState({helpLoaded:!1});var l=a[D.b.PANORAMAS];if(l&&l.children.length>s)for(var u=this.props.actions,c=u.removeNode,f=u.removePanoramaViewer,h=l.children.length;--h>=s;){var d=l.children[h];c(d),f(d)}}},{key:"onHelpLoaded",value:function(){this.setState({helpLoaded:!0})}},{key:"onReportBlurringLoaded",value:function(){this.setState({reportBlurringLoaded:!0})}},{key:"onClosePanorama",value:function(t){this.closeNode(t),this.props.actions.removePanoramaViewer(t)}},{key:"onCloseOblique",value:function(t){this.closeNode(t),this.props.actions.removeObliqueViewer(t)}},{key:"onCloseHelp",value:function(){this.props.actions.toggleHelp(!1)}},{key:"onCloseReportBlurring",value:function(){this.props.actions.toggleReportBlurring(!1)}},{key:"closeNode",value:function(t){this.props.actions.removeNode(t)}},{key:"createMapViewer",value:function(t){var e=this.props,n=e.windowmanager.windowLoadingCount,r=e.viewermanager.viewerMode,i={id:t,openViewer:this.props.openViewer,openObliqueViewer:this.props.openObliqueViewer},o=r===k.ViewerMode.VIEWER;return b.a.createElement(S.a,{key:t,wid:t,className:"flexItem",maximizable:o,closable:!1,isLoading:n.get(t)},b.a.createElement(M.a,U({ref:t},i)))}},{key:"createPanoramaViewer",value:function(t){var e=this,n=this.props.config.config,r=n.application,i=n&&r&&r.functionalities,o=this.props,a=o.config.config.services,s=a.recording.onlineResource,l=a.panoramaTile.onlineResources,u=a.depthTile,c=o.windowmanager,f=c.layout,h=c.windowLoadingCount,d=o.viewermanager.viewerMode,p=i&&i.includes(I.a.MeasureSmart)&&u?u.onlineResources:void 0,m={id:t,recordingsUrl:s,panoramaTilesUrls:l,depthTilesUrls:p,colorManager:this.colorManager,onPanoramaChange:this.props.onPanoramaChange,isLoading:!!h.get(t)};this.props.config.isApi&&this.props.setComponentRef&&(m.ref=function(n){n&&n.getWrappedInstance&&e.props.setComponentRef(t,{component:n.getWrappedInstance()})});var g=d===k.ViewerMode.VIEWER,v=f[t],y=v.maximizable,_=v.closable;return b.a.createElement(S.a,{className:"viewer flexItem",key:t,wid:t,maximizable:g&&y,closable:g&&_,onClose:this.onClosePanorama,isLoading:!!h.get(t)},b.a.createElement(T.a,m))}},{key:"createObliqueViewer",value:function(t){var e=this,n=this.props,r=n.config.config.services.obliqueTile.onlineResource,i=n.windowmanager,o=i.layout,a=i.windowLoadingCount,s={id:t,colorManager:this.colorManager,obliqueTilesUrl:r};this.props.config.isApi&&this.props.setComponentRef&&(s.ref=function(n){n&&n.getWrappedInstance&&e.props.setComponentRef(t,{component:n.getWrappedInstance()})});var l=this.props.viewermanager.viewerMode===k.ViewerMode.VIEWER,u=o[t],c=u.maximizable,f=u.closable;return b.a.createElement(S.a,{key:t,wid:t,className:"viewer flexItem",maximizable:l&&c,closable:l&&f,onClose:this.onCloseOblique,isLoading:!!a.get(t)},b.a.createElement(C.a,s))}},{key:"createHelpPanel",value:function(t){var e=this.props.windowmanager.layout,n=this.context.intl.locale,r=this.props.config.config.application.helpUrl,i=F.a[n];return""!==i&&(r+="/"+i),b.a.createElement(S.a,{key:t,wid:t,maximizable:!0,onClose:this.onCloseHelp,className:"flexItem help-window",style:Object(D.f)(e[t].weight)},b.a.createElement(_.Panel,{className:"help"},!this.state.helpLoaded&&b.a.createElement("img",{className:"loadImg",src:Object(j.a)("./assets/img/loading.gif"),alt:""}),b.a.createElement("iframe",{src:r,onLoad:this.onHelpLoaded})))}},{key:"createReportBlurringPanel",value:function(t){var e=this.props.windowmanager.layout;return b.a.createElement(S.a,{key:t,wid:t,onClose:this.onCloseReportBlurring,className:"flexItem help-window",style:Object(D.f)(e[t].weight)},b.a.createElement(_.Panel,{className:"help"},b.a.createElement(A.a,null)))}},{key:"createMeasurementNavBar",value:function(t){return b.a.createElement(O.a,{key:t})}},{key:"renderNode",value:function(t,e){var n=this,r=this.props.windowmanager.layout[t];if(r.type===D.c.CONTAINER&&0===r.children.length)return null;var i=r.direction||e;switch(r.type){case D.c.MAP_VIEWER:return this.createMapViewer(t);case D.c.PANORAMA_VIEWER:return this.createPanoramaViewer(t);case D.c.OBLIQUE_VIEWER:return this.createObliqueViewer(t);case D.c.HELP:return this.createHelpPanel(t);case D.c.REPORT_BLURRING:return this.createReportBlurringPanel(t);case D.c.MEASUREMENT_NAVBAR:return this.createMeasurementNavBar(t);case D.c.CONTAINER:return b.a.createElement("div",{key:t,className:Object(D.e)(i),style:Object(D.f)(r.weight)},r.children.map(function(t){return n.renderNode(t,Object(D.d)(i))}))}return null}},{key:"render",value:function(){var t=D.b.ROOT,e=this.props.windowmanager.layout[t].direction;return b.a.createElement("div",{className:"flexItem window-manager-container "+Object(D.e)(Object(D.d)(e))},this.renderNode(t,e))}}]),e}(E.a);B.propTypes={openViewer:v.a.func,openObliqueViewer:v.a.func,onPanoramaChange:v.a.func,viewermanager:v.a.object,windowmanager:v.a.object,actions:v.a.object,config:v.a.object,setComponentRef:v.a.func};var V=function(t){return{windowmanager:t.windowmanager,config:t.config,viewermanager:t.viewermanager}},G=function(t){return{actions:Object(x.bindActionCreators)(U({},P.default,L.default,N.default,k.default),t)}};e.a=Object(w.connect)(V,G)(B)},function(t,e){/*!
* screenfull
* v3.3.2 - 2017-10-27
* (c) Sindre Sorhus; MIT License
*/
!function(){"use strict";var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=void 0!==t&&t.exports,r="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,o={};r<i;r++)if((t=n[r])&&t[1]in e){for(r=0;r<t.length;r++)o[n[0][r]]=t[r];return o}return!1}(),o={change:i.fullscreenchange,error:i.fullscreenerror},a={request:function(t){var n=i.requestFullscreen;t=t||e.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?t[n]():t[n](r&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){e[i.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,n){var r=o[t];r&&e.addEventListener(r,n,!1)},off:function(t,n){var r=o[t];r&&e.removeEventListener(r,n,!1)},raw:i};if(!i)return void(n?t.exports=!1:window.screenfull=!1);Object.defineProperties(a,{isFullscreen:{get:function(){return Boolean(e[i.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(e[i.fullscreenEnabled])}}}),n?t.exports=a:window.screenfull=a}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}n.d(e,"a",function(){return C});var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(4),m=n.n(p),g=n(3),v=n.n(g),y=n(0),b=n.n(y),_=n(28),w=(n.n(_),n(24)),x=(n.n(w),n(31),n(79)),E=n(62),M=n(620),S=m.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),C={Close:1,Maximize:4,Restore:8},O=function(t){function e(){return r(this,e),i(this,(e.__proto__||s()(e)).apply(this,arguments))}return o(e,t),T(e,[{key:"renderButton",value:function(t){var e=t.key,n=t.glyph,r=t.onClick,i=void 0===r?void 0:r,o=t.tooltip,a=void 0===o?void 0:o,s=t.container,l=void 0===s?void 0:s,u=b.a.createElement(w.Button,{key:e,onClick:i,className:"btn-"+e},b.a.createElement(E.c,{glyph:n}));return a?b.a.createElement(x.a,S({key:e,placement:"bottom",container:l},a),u):u}},{key:"renderMaximizeButton",value:function(){return this.renderButton({key:"maximize",glyph:E.a.Maximize,tooltip:M.a.maximize,container:this.props.tooltipContainer,onClick:this.props.onMaximize})}},{key:"renderRestoreButton",value:function(){return this.renderButton({key:"restore",glyph:E.a.Restore,tooltip:M.a.restore,container:this.props.tooltipContainer,onClick:this.props.onRestore})}},{key:"renderCloseButton",value:function(){return this.renderButton({key:"close",glyph:E.a.Close,tooltip:M.a.close,container:this.props.tooltipContainer,onClick:this.props.onClose})}},{key:"render",value:function(){var t=this.props,e=t.controls||0,n=[];return t.isApi?e&C.Maximize&&(n.push(this.renderMaximizeButton()),n.push(this.renderRestoreButton())):(n.push(this.renderMaximizeButton()),n.push(this.renderRestoreButton())),e&C.Close&&n.push(this.renderCloseButton()),b.a.createElement(w.ButtonToolbar,{className:"windowcontrols"},b.a.createElement(w.ButtonGroup,null,n))}}]),e}(b.a.PureComponent);O.propTypes={maximized:v.a.bool},O.defaultProps={maximized:!1};var A=function(t){return{isApi:t.config.isApi}};e.b=Object(_.connect)(A)(O)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=d()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(f.a?f()(t,e):t.__proto__=e)}var a=n(55),s=n.n(a),l=n(7),u=n.n(l),c=n(6),f=n.n(c),h=n(5),d=n.n(h),p=n(1),m=n.n(p),g=n(23),v=n.n(g),y=n(17),b=n.n(y),_=n(0),w=n.n(_),x=n(24),E=(n.n(x),n(15)),M=(n.n(E),n(28)),S=(n.n(M),n(31)),T=n(391),C=n(220),O=n(217),A=n(33),I=n(41),R=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=b()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(v()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),P=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),m()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),L=Object(E.defineMessages)({panelHeader:{id:"ImageInformation.panelHeader",description:"Header for the image information panel",defaultMessage:"Image Information"},generalTab:{id:"ImageInformation.generalTab",description:"Header for general tab",defaultMessage:"General"},locationTab:{id:"ImageInformation.locationTab",description:"Header for location tab",defaultMessage:"Location"},precisionTab:{id:"ImageInformation.precisionTab",description:"Header for precision tab",defaultMessage:"Precision"},propertyColumn:{id:"ImageInformation.propertyColumn",description:"Property column header",defaultMessage:"Property"},valueColumn:{id:"ImageInformation.valueColumn",description:"Value column header",defaultMessage:"Value"},imageId:{id:"ImageInformation.imageId",description:"Image id",defaultMessage:"ID"},recordingType:{id:"ImageInformation.recordingType",description:"Recording type",defaultMessage:"Recording Type"},recordingDate:{id:"ImageInformation.recordingDate",description:"Recording date",defaultMessage:"Recording Date"},expiryDate:{id:"ImageInformation.expiryDate",description:"Expiry date",defaultMessage:"Expiry Date"},srs:{id:"ImageInformation.srs",description:"Coordinate system",defaultMessage:"Coordinate System"},heightSystem:{id:"ImageInformation.heightSystem",description:"Height system",defaultMessage:"Height System"},groundLevelOffset:{id:"ImageInformation.groundLevelOffset",description:"Ground level offset (camera height above ground)",defaultMessage:"Camera height ({units})"},x:{id:"ImageInformation.x",description:"X (in coordinate system)",defaultMessage:"X ({units})"},y:{id:"ImageInformation.y",description:"Y (in coordinate system)",defaultMessage:"Y ({units})"},height:{id:"ImageInformation.height",description:"Height or Z (in coordinate system)",defaultMessage:"Height ({units})"},yaw:{id:"ImageInformation.yaw",description:"Yaw",defaultMessage:"Yaw ({units})"},recorderDirection:{id:"ImageInformation.recorderDirection",description:"Recorder direction",defaultMessage:"Recorder Direction ({units})"},xPrecision:{id:"ImageInformation.xPrecision",description:"X Precision",defaultMessage:"X Precision ({units})"},yPrecision:{id:"ImageInformation.yPrecision",description:"Y Precision",defaultMessage:"Y Precision ({units})"},heightPrecision:{id:"ImageInformation.heightPrecision",description:"Height (Z) precision",defaultMessage:"Height Precision ({units})"},yawPrecision:{id:"ImageInformation.yawPrecision",description:"Yaw precision",defaultMessage:"Yaw Precision ({units})"},depthMapPrecision:{id:"ImageInformation.depthMapPrecision",description:"Measure Smart precision",defaultMessage:"Measure Smart Precision ({units})"}}),N=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=i(this,(t=e.__proto__||u()(e)).call.apply(t,[this].concat(o)));return s.state={activeTab:1},s}return o(e,t),P(e,[{key:"render",value:function(){var t=this,e=this.context.intl.formatMessage,n=this.props.recording,r=void 0,i=void 0;return n&&(r=I.i.getPrecision(n.srs),i=I.i.getUnitsForSrs(n.srs)),w.a.createElement(x.Panel,{className:"cmtImageInformationPanel cmtNavBarPanel",header:e(L.panelHeader)},w.a.createElement(x.Tab.Container,{id:1,position:"left",defaultActiveKey:1,activeKey:this.state.activeTab,onSelect:function(e){t.setState({activeTab:e})}},w.a.createElement(x.Row,{className:"clearfix fix-bootstrap-row"},w.a.createElement(x.Col,{xs:3,className:"fix-bootstrap-col"},w.a.createElement(x.Nav,{bsStyle:"pills",stacked:!0},w.a.createElement(x.NavItem,{eventKey:1},e(L.generalTab)),w.a.createElement(x.NavItem,{eventKey:2},e(L.locationTab)),w.a.createElement(x.NavItem,{eventKey:3},e(L.precisionTab)),!1)),w.a.createElement(x.Col,{xs:9,className:"fix-bootstrap-col"},w.a.createElement(x.Tab.Content,null,w.a.createElement(x.Tab.Pane,{eventKey:1},this.renderGeneralInfo(n)),w.a.createElement(x.Tab.Pane,{eventKey:2},this.renderLocationInfo(n,r,i)),w.a.createElement(x.Tab.Pane,{eventKey:3},this.renderPrecisionInfo(n,i)),!1)))))}},{key:"renderGeneralInfo",value:function(t){if(!t)return null;var e=this.context.intl.formatMessage;return w.a.createElement(x.Table,{striped:!0,bordered:!0,condensed:!0},w.a.createElement("thead",null,w.a.createElement("tr",null,w.a.createElement("th",null,e(L.propertyColumn)),w.a.createElement("th",null,e(L.valueColumn)))),w.a.createElement("tbody",null,w.a.createElement("tr",null,w.a.createElement("td",null,e(L.imageId)),w.a.createElement("td",null,t.id)),w.a.createElement("tr",null,w.a.createElement("td",null,e(L.recordingType)),w.a.createElement("td",null,t.productType)),w.a.createElement("tr",null,w.a.createElement("td",null,e(L.recordingDate)),w.a.createElement("td",null,w.a.createElement(T.a,{value:t.recordedAt,showTime:!0})))))}},{key:"renderLocationInfo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.xyUnits,i=n.heightUnits;if(!t)return null;var o=this.context.intl.formatMessage,a=I.i.METRIC_PRECISION,s=I.i.DEGREE_PRECISION,l=I.i.Units,u=I.i.formatSrsName,c=o(O.a[r]),f=o(O.a[i]),h=o(O.a[l.DEGREES]),d=t.srs;return w.a.createElement(x.Table,{striped:!0,bordered:!0,condensed:!0},w.a.createElement("thead",null,w.a.createElement("tr",null,w.a.createElement("th",null,o(L.propertyColumn)),w.a.createElement("th",null,o(L.valueColumn)))),w.a.createElement("tbody",null,w.a.createElement("tr",null,w.a.createElement("td",null,o(L.x,{units:c})),w.a.createElement("td",null,w.a.createElement(E.FormattedNumber,{value:t.xyz[0],minimumFractionDigits:e,maximumFractionDigits:e,useGrouping:!1}))),w.a.createElement("tr",null,w.a.createElement("td",null,o(L.y,{units:c})),w.a.createElement("td",null,w.a.createElement(E.FormattedNumber,{value:t.xyz[1],minimumFractionDigits:e,maximumFractionDigits:e,useGrouping:!1}))),w.a.createElement("tr",null,w.a.createElement("td",null,o(L.height,{units:f})),w.a.createElement("td",null,w.a.createElement(E.FormattedNumber,{value:t.xyz[2],minimumFractionDigits:a,maximumFractionDigits:a,useGrouping:!1}))),w.a.createElement("tr",null,w.a.createElement("td",null,o(L.yaw,{units:h})),w.a.createElement("td",null,w.a.createElement(E.FormattedNumber,{value:Object(A.f)(Object(A.d)(t.orientation),-180,180),minimumFractionDigits:s,maximumFractionDigits:s}))),w.a.createElement("tr",null,w.a.createElement("td",null,o(L.recorderDirection,{units:h})),w.a.createElement("td",null,w.a.createElement(E.FormattedNumber,{value:Object(A.f)(Object(A.d)(t.recorderDirection),-180,180),minimumFractionDigits:s,maximumFractionDigits:s}))),w.a.createElement("tr",null,w.a.createElement("td",null,o(L.srs)),w.a.createElement("td",null,u(this.props.srs.srs.find(function(t){return t.SRSName===d})))),w.a.createElement("tr",null,w.a.createElement("td",null,o(L.heightSystem)),w.a.createElement("td",null,t.heightSystem||o(C.a.na))),w.a.createElement("tr",null,w.a.createElement("td",null,o(L.groundLevelOffset,{units:f})),w.a.createElement("td",null,w.a.createElement(E.FormattedNumber,{value:t.groundLevelOffset,minimumFractionDigits:a,maximumFractionDigits:a})))))}},{key:"renderPrecisionInfo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.precisionUnits;if(!t)return null;var r=this.context.intl.formatMessage,i=I.i.METRIC_PRECISION,o=I.i.DEGREE_PRECISION,a=I.i.Units,s=r(O.a[n]),l=r(O.a[a.DEGREES]),u=r(O.a[a.METERS]);return w.a.createElement(x.Table,{striped:!0,bordered:!0,condensed:!0},w.a.createElement("thead",null,w.a.createElement("tr",null,w.a.createElement("th",null,r(L.propertyColumn)),w.a.createElement("th",null,r(L.valueColumn)))),w.a.createElement("tbody",null,w.a.createElement("tr",null,w.a.createElement("td",null,r(L.xPrecision,{units:s})),w.a.createElement("td",null,w.a.createElement(E.FormattedNumber,{value:t.latitudePrecision,minimumFractionDigits:i,maximumFractionDigits:i}))),w.a.createElement("tr",null,w.a.createElement("td",null,r(L.yPrecision,{units:s})),w.a.createElement("td",null,w.a.createElement(E.FormattedNumber,{value:t.longitudePrecision,minimumFractionDigits:i,maximumFractionDigits:i}))),w.a.createElement("tr",null,w.a.createElement("td",null,r(L.heightPrecision,{units:s})),w.a.createElement("td",null,w.a.createElement(E.FormattedNumber,{value:t.heightPrecision,minimumFractionDigits:i,maximumFractionDigits:i}))),w.a.createElement("tr",null,w.a.createElement("td",null,r(L.yawPrecision,{units:l})),w.a.createElement("td",null,w.a.createElement(E.FormattedNumber,{value:t.orientationPrecision,minimumFractionDigits:o,maximumFractionDigits:o}))),t.hasDepthMap&&w.a.createElement("tr",null,w.a.createElement("td",null,r(L.depthMapPrecision,{units:u})),w.a.createElement("td",null,w.a.createElement(E.FormattedNumber,{value:t.depthMapPrecision,minimumFractionDigits:i,maximumFractionDigits:i})))))}},{key:"renderRawInfo",value:function(t){var e=this.context.intl.formatMessage;return w.a.createElement(x.Table,{striped:!0,bordered:!0,condensed:!0},w.a.createElement("thead",null,w.a.createElement("tr",null,w.a.createElement("th",null,e(L.propertyColumn)),w.a.createElement("th",null,e(L.valueColumn)))),w.a.createElement("tbody",null,t&&s()(t).map(function(t,e){var n=R(t,2),r=n[0],i=n[1];return w.a.createElement("tr",{key:e},w.a.createElement("td",null,r),w.a.createElement("td",null,""+i))})))}}]),e}(S.a),k=function(t){return{srs:t.srs}};e.a=Object(M.connect)(k)(N)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(4),m=n.n(p),g=n(0),v=n.n(g),y=n(15),b=(n.n(y),n(36)),_=(n.n(b),n(28)),w=(n.n(_),n(24)),x=(n.n(w),n(1436)),E=n(31),M=n(217),S=n(385),T=n(41),C=m.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),A=Object(y.defineMessages)({elevationPanelHeader:{id:"ElevationPanel.elevationPanelHeader",description:"Header text for the elevation panel",defaultMessage:"Elevation"},elevationPanelElevationTab:{id:"ElevationPanel.elevationPanelElevationTab",description:"Tab text for the elevation tab in the elevation panel",defaultMessage:"Elevation"},elevationCustomTooltipElevation:{id:"ElevationPanel.elevationCustomTooltipElevation",description:"Text for the custom tooltip of the elevation slider",defaultMessage:"Elevation"},elevationCustomTooltipDifference:{id:"ElevationPanel.elevationCustomTooltipDifference",description:"Text for the custom tooltip of the elevation slider",defaultMessage:"Difference"},elevationStreetLevel:{id:"ElevationPanel.elevationStreetLevel",description:"Text for the elevation ground level label",defaultMessage:"Ground level"}}),I=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var l=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return l.selectTab=function(t){l.setState({activeTab:t})},l.calculateElevationValues=function(t){if(t){var n=Object(T.n)(t.srs).heightUnits,r=Object(T.h)(T.d.METERS,n,e.MIN_RANGE),i=Object(T.h)(T.d.METERS,n,e.MAX_RANGE),o=t.xyz[2];return{minElevation:parseFloat((t.xyz[2]-t.groundLevelOffset-r).toFixed(2)),maxElevation:parseFloat((t.xyz[2]-t.groundLevelOffset+i).toFixed(2)),carElevation:o}}return null},l.constructLabels=function(t,e,n,r){var i=l.context.intl.formatMessage,o=i(M.a[r]),a=t+" "+o,s=e+" "+o;return[{tick:t,label:a},{tick:n,label:i(A.elevationStreetLevel)+": "+n+" "+o},{tick:e,label:s}]},l.update=l.update.bind(l),l.constructLabels=l.constructLabels.bind(l),l.state={activeTab:1},l}return o(e,t),O(e,[{key:"componentDidMount",value:function(){var t=this.props.recording;this.update(t.xyz[2]-t.groundLevelOffset)}},{key:"shouldComponentUpdate",value:function(t){var e=this.props,n=e.elevationLvl,r=e.recording,i=t.elevationLvl,o=t.recording;return i!==n||o.id!==r.id}},{key:"convertElevationUnits",value:function(t,e){var n=Object(T.n)(t).heightUnits,r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=Object(T.h)(n,T.d.METERS,e[i]));return r}},{key:"componentWillReceiveProps",value:function(t){var e=this.props,n=e.elevationLvl,r=e.sliderChangeCb,i=e.recording,o=t.elevationLvl,a=t.recording;if(o!==n||a.id!==i.id){var s=this.calculateElevationValues(a),l=s.minElevation,u=s.maxElevation,c=s.carElevation;r(this.convertElevationUnits(a.srs,{elevationLvl:o,minElevation:l,maxElevation:u,carElevation:c}))}}},{key:"update",value:function(t){var e=parseFloat(t),n=this.props,r=n.recording,i=n.sliderChangeCb,o=n.actions,a=this.calculateElevationValues(r),s=a.minElevation,l=a.maxElevation,u=a.carElevation,c=parseFloat(e.toFixed(2));o.updateElevation({elevationLvl:c}),i(this.convertElevationUnits(r.srs,{elevationLvl:c,minElevation:s,maxElevation:l,carElevation:u}))}},{key:"render",value:function(){var t=this,e=this.context.intl.formatMessage,n=this.props,r=n.recording,i=n.elevationLvl,o=n.step,a=this.calculateElevationValues(r),s=a.minElevation,l=a.maxElevation,u=a.carElevation,c=Object(T.n)(r.srs),f=c.heightUnits,h=e(M.a[f]),d=parseFloat(u-r.groundLevelOffset).toFixed(2),p=this.constructLabels(s,l,d,f),m={};return m[""+e(A.elevationCustomTooltipElevation)]=i+" "+h,m[""+e(A.elevationCustomTooltipDifference)]=parseFloat(i-d).toFixed(2)+" "+h,v.a.createElement(w.Panel,{header:e(A.elevationPanelHeader),className:"cmtOverlayPanel cmtNavBarPanel"},v.a.createElement(w.Tab.Container,{id:1,position:"left",defaultActiveKey:1,activeKey:this.state.activeTab,onSelect:this.selectTab},v.a.createElement(w.Row,{className:"clearfix fix-bootstrap-row"},v.a.createElement(w.Col,{xs:3,className:"fix-bootstrap-col"},v.a.createElement(w.Nav,{bsStyle:"pills",stacked:!0},v.a.createElement(w.NavItem,{eventKey:1},e(A.elevationPanelElevationTab)))),v.a.createElement(w.Col,{xs:9,className:"fix-bootstrap-col"},v.a.createElement(w.Tab.Content,null,v.a.createElement(w.Tab.Pane,{eventKey:1},v.a.createElement("div",{className:"elevation-slider"},v.a.createElement(x.a,{value:i,min:s,max:l,step:o,tooltip:!0,customTooltip:m,defaultValue:i,ticksLabels:p,action:function(e){t.update(e)}}))))))))}}]),e}(E.a);I.MIN_RANGE=5,I.MAX_RANGE=5,I.defaultProps={step:.05};var R=function(t){return{elevationLvl:t.elevation.elevationLvl}},P=function(t){return{actions:Object(b.bindActionCreators)(C({},S.default),t)}};e.a=Object(_.connect)(R,P)(I)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(0),m=n.n(p),g=n(3),v=n.n(g),y=n(20),b=(n.n(y),function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()),_=function(t){function e(){var t,n,o,a;r(this,e);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=o=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(u))),o.defaultProps={customTooltip:""},o.state={min:o.props.min,max:o.props.max,step:o.props.step,value:o.props.defaultValue,ticksLabels:o.props.ticksLabels,tooltipLeft:0},a=n,i(o,a)}return o(e,t),b(e,[{key:"componentDidMount",value:function(){!0===this.props.tooltip&&this.updateTooltip()}},{key:"componentWillReceiveProps",value:function(t){this.setState({value:t.value,min:t.min,max:t.max,step:t.step,ticksLabels:t.ticksLabels}),this.updateTooltip(t.value)}},{key:"updateTooltip",value:function(t){var e=this.state.min,n=this.state.max,r=t||this.props.defaultValue,i=this.rangeRef.offsetWidth,o=n-e,a=(r-e)/o*100,s=i/100*a,l=(s-.5*this.rangeTooltipRef.offsetWidth).toFixed();this.setState({tooltipLeft:l})}},{key:"update",value:function(t){this.props.tooltip&&this.updateTooltip(t),this.setState({value:t}),this.props.action(t)}},{key:"renderLabels",value:function(t,e,n){var r=this;return t.map(function(t){var i=(t.tick-n)/e*100,o="calc("+i+"% - 5px)";return m.a.createElement("li",{key:t.label,style:{marginLeft:o},onClick:function(){return r.update(t.tick)}},t.label)})}},{key:"renderCustomTooltip",value:function(t){if(Object(y.isObject)(t)&&!Object(y.isEmpty)(t)){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(m.a.createElement("span",{id:n},n+": "+t[n]));return e}return Object(y.isEmpty)(t)?this.state.value:t}},{key:"render",value:function(){var t=this,e=this.props,n=e.ticksLabels,r=e.customTooltip,i=e.tooltip,o=this.state.max-this.state.min,a=this.state.tooltipLeft+"px";return m.a.createElement("div",{className:"custom-slider"},m.a.createElement("div",{className:"range",ref:function(e){t.rangeRef=e}},m.a.createElement("input",{type:"range",min:this.state.min,max:this.state.max,step:this.state.step,onChange:function(e){return t.update(parseFloat(e.target.value))},value:this.state.value}),m.a.createElement("div",{ref:function(e){t.rangeTooltipRef=e},className:"range-tooltip",style:{left:a}},i&&r&&this.renderCustomTooltip(r)),m.a.createElement("div",{className:"range-track"})),m.a.createElement("ul",{className:"range-labels"},this.renderLabels(n,o,this.state.min)))}}]),e}(p.Component);_.propTypes={value:v.a.number.isRequired,min:v.a.number.isRequired,max:v.a.number.isRequired,step:v.a.number.isRequired,defaultValue:v.a.number.isRequired,tooltip:v.a.bool.isRequired,customTooltip:v.a.oneOfType([v.a.object,v.a.string,v.a.number]),ticksLabels:v.a.arrayOf(v.a.object).isRequired,action:v.a.func.isRequired},e.a=_},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=d()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(f.a?f()(t,e):t.__proto__=e)}var a=n(40),s=n.n(a),l=n(7),u=n.n(l),c=n(6),f=n.n(c),h=n(5),d=n.n(h),p=n(1),m=n.n(p),g=n(4),v=n.n(g),y=n(253),b=n.n(y),_=n(34),w=n.n(_),x=n(3),E=n.n(x),M=n(0),S=n.n(M),T=n(24),C=(n.n(T),n(28)),O=(n.n(C),n(36)),A=(n.n(O),n(91)),I=n(275),R=n(220),P=n(31),L=n(79),N=n(62),k=n(362),D=n(363),F=n(112),j=n(266),U=n(80),z=n(81),B=n(387),V=n(153),G=n(113),H=n(53),q=n(48),W=n(41),Y=n(33),X=n(149),Z=v.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),m()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Q=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=i(this,(t=e.__proto__||u()(e)).call.apply(t,[this].concat(o)));return s.centerMap=s.centerMap.bind(s),s.measurementsButtonOnClick=s.measurementsButtonOnClick.bind(s),s.onWindowClick=s.onWindowClick.bind(s),s.obliqueButtonOnClick=s.obliqueButtonOnClick.bind(s),s.reportBlurringOnClick=s.reportBlurringOnClick.bind(s),s}return o(e,t),K(e,[{key:"componentDidMount",value:function(){window.addEventListener("pointerdown",this.onWindowClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("pointerdown",this.onWindowClick)}},{key:"componentWillReceiveProps",value:function(t){var e=this.props.expanded;e!==t.expanded&&e&&this.setActivePanel(G.a.NONE)}},{key:"onWindowClick",value:function(t){var e=this.props.panoramaviewer.activePanel,n=b()(t.target);e!==G.a.NONE&&e!==G.a.IMAGE_INFORMATION&&e!==G.a.ELEVATION&&e!==G.a.ATTRIBUTE_INFO&&0===n.closest(".cmtViewerPanel").length&&0===n.closest(".cmtViewerPanelButton").length&&this.props.actions.setActivePanel(this.props.id,G.a.NONE)}},{key:"setActivePanel",value:function(t){var e=this.props.panoramaviewer.activePanel,n=this.props.actions.setActivePanel;e===t?n(this.props.id,G.a.NONE):n(this.props.id,t)}},{key:"reportBlurringOnClick",value:function(t){var e=this.props,n=e.actions,r=e.panoramaviewer,i=e.userSrs,o=r.recording,a=r.orientation,s=a.yaw,l=a.pitch,u=a.hFov;n.toggleReportBlurring(),n.generateCycloramaLink(o.id,[s,l,u],i).then(function(t){n.updateReportBlurring({imageId:o.id,imageParams:encodeURIComponent(t.payload)})})}},{key:"obliqueButtonOnClick",value:function(t){var e=this.props.panoramaviewer,n=e.recording,r=e.orientation.yaw,i=n.xyz,o=n.srs,a=!t.shiftKey,l=t.ctrlKey,u=!0,c=this.props.obliqueviewer.byId[s()(this.props.obliqueviewer.byId)[0]];c&&(u=c.recording.isOblique);var f=Object(Y.d)(r),h=n.xyz,d=[h[0]-H.PANORAMA_EXTENT_SIZE,h[1]-H.PANORAMA_EXTENT_SIZE,h[0]+H.PANORAMA_EXTENT_SIZE,h[1]+H.PANORAMA_EXTENT_SIZE],p={brightness:100,contrast:100,opacity:1};this.props.actions.openObliqueViewerByCoordinate(i,o,{direction:f,isOblique:u,viewExtent:d,replace:a,multiple:l,viewerSettings:p}).catch(function(t){Object(F.showFlashMessage)(t.message,{style:"danger"}),w.a.warn(t.message)})}},{key:"render",value:function(){var t=this,e=this.props,n=e.onExpand,r=e.expanded,i=e.panoramaviewer,o=i.recording,a=i.ui,s=e.measurements,l=e.viewerMode,u=e.unitAllowsToMeasure,c=e.config,f=c.services,h=c.map,d=c.application,p=d&&d.functionalities,m=h&&h.obliqueLayers,g=f&&f.obliqueLocation,v=g&&m&&0!==m.length,y=o&&o.isBlurred,b=!!p&&p.includes(X.a.Elevation)&&o.hasDepthMap,_=u?I.a.startMeasurement:I.a.notPossibleCurrentSrs,w=u?A.a.elevation:A.a.elevationNotPossibleCurrentSrs,x=r?"-expanded":"-contracted";return S.a.createElement(k.a,{expanded:r,onExpand:n,className:"viewer-navbar"+x+" cmt-navbar",leftSize:3,left:S.a.createElement(T.ButtonGroup,{className:"nav navbar-nav"},a[V.a.buttons.OVERLAYS].enabled&&S.a.createElement(L.a,Z({placement:"top"},A.a.overlays),S.a.createElement(T.Button,{className:"cmtViewerPanelButton",onClick:function(){return t.setActivePanel(G.a.OVERLAYS)}},S.a.createElement(N.b.Layers,null))),!document.documentMode&&S.a.createElement(L.a,Z({placement:"top"},A.a.display),S.a.createElement(T.Button,{className:"cmtViewerPanelButton",onClick:function(){return t.setActivePanel(G.a.IMAGE_CONTROLS)}},S.a.createElement(N.b.Display,null))),S.a.createElement(L.a,Z({placement:"top"},A.a.attributeinfo),S.a.createElement(T.Button,{className:"cmtViewerPanelButton",onClick:function(){return t.setActivePanel(G.a.ATTRIBUTE_INFO)}},S.a.createElement(N.b.AttributeInfo,null)))),right:S.a.createElement(T.ButtonGroup,{className:"nav navbar-nav"},a[V.a.buttons.ELEVATION].enabled&&b&&l!==H.ViewerMode.MEASUREMENT&&S.a.createElement(L.a,Z({placement:"top"},w),S.a.createElement("div",{className:"fix-disabled-child-tooltip"},S.a.createElement(T.Button,{className:"cmtViewerPanelButton",onClick:function(){return t.setActivePanel(G.a.ELEVATION)},disabled:!o||!u},S.a.createElement(N.b.Elevation,null)))),a[V.a.buttons.REPORT_BLURRING].enabled&&y&&l!==H.ViewerMode.MEASUREMENT&&S.a.createElement(L.a,Z({placement:"top"},A.a.reportBlurring),S.a.createElement(T.Button,{onClick:this.reportBlurringOnClick,disabled:!o},S.a.createElement(N.b.ReportBlurring,null))),a[V.a.buttons.OPEN_OBLIQUE].enabled&&v&&l!==H.ViewerMode.MEASUREMENT&&S.a.createElement(L.a,Z({placement:"top"},A.a.oblique),S.a.createElement(T.Button,{onClick:this.obliqueButtonOnClick,disabled:!o},S.a.createElement(N.b.Oblique,null))),a[V.a.buttons.MEASURE].enabled&&l!==H.ViewerMode.MEASUREMENT&&s.allowedToMeasure&&S.a.createElement(L.a,Z({placement:"top"},_),S.a.createElement("div",{className:"fix-disabled-child-tooltip"},S.a.createElement(T.Button,{onClick:this.measurementsButtonOnClick,disabled:!o||!u},S.a.createElement(N.b.Measure,null)))),a[V.a.buttons.CENTER_MAP].enabled&&!this.props.isApi&&S.a.createElement(L.a,Z({placement:"top"},A.a.mapLocation),S.a.createElement(T.Button,{onClick:this.centerMap,disabled:!o},S.a.createElement(N.b.Locate,null))),a[V.a.buttons.IMAGE_INFORMATION].enabled&&S.a.createElement(L.a,Z({placement:"top"},A.a.imageInfo),S.a.createElement(T.Button,{className:"cmtViewerPanelButton",onClick:function(){return t.setActivePanel(G.a.IMAGE_INFORMATION)}},S.a.createElement(N.b.Information,null))),a[V.a.buttons.COPY_LINK].enabled&&!this.props.isApi&&S.a.createElement(L.a,Z({placement:"top"},A.a.copyCycloramaLink),S.a.createElement(T.Button,{onClick:function(){return t.copyLinkToClipboard()},disabled:!o},S.a.createElement(N.b.ToClipboard,null))),a[V.a.buttons.SAVE_IMAGE].enabled&&S.a.createElement(L.a,Z({placement:"top"},A.a.cycloramaImage),S.a.createElement(T.Button,{onClick:function(){return t.saveImage()},disabled:!o},S.a.createElement(N.b.Download,null))),a[V.a.buttons.ZOOM_IN].enabled&&S.a.createElement(L.a,Z({placement:"top"},A.a.zoomInButton),S.a.createElement(T.Button,{onClick:this.props.zoomIn},S.a.createElement(N.b.ZoomIn,null))),a[V.a.buttons.ZOOM_OUT].enabled&&S.a.createElement(L.a,Z({placement:"top"},A.a.zoomOutButton),S.a.createElement(T.Button,{onClick:this.props.zoomOut},S.a.createElement(N.b.ZoomOut,null))))})}},{key:"centerMap",value:function(){var t=this.props.panoramaviewer.recording,e=t.xyz,n=t.srs;this.props.actions.centerMap(e,n,!0)}},{key:"measurementsButtonOnClick",value:function(){var t=this.props,e=t.id,n=t.actions;n.setMeasurementDimension(3),n.setCurrentPanoramaWid(e),n.showTypeSelectionModal()}},{key:"copyLinkToClipboard",value:function(){var t=this.context.intl.formatMessage,e=this.props,n=e.panoramaviewer,r=e.userSrs,i=n.recording,o=n.orientation,a=o.yaw,s=o.pitch,l=o.hFov,u=this.props.actions,c=u.cycloramaLinkToClipboard,f=u.logCopyLink,h=u.showFlashMessage;c(i.id,[a,s,l],r).then(function(e){f(e.payload),h(t(R.a.copied),{delay:1e3})})}},{key:"saveImage",value:function(){var t=document.getElementById(this.props.id).firstElementChild;Object(D.a)(Object(D.b)(t.getElementsByTagName("canvas")),"panorama.png"),this.props.actions.logSaveImage("panorama")}}]),e}(P.a);Q.propTypes={onExpand:E.a.func,expanded:E.a.bool};var J=function(t,e){var n=t.panoramaviewer,r=t.viewermanager,i=t.obliqueviewer,o=t.measurements,a=t.srs,s=t.config;return{panoramaviewer:n.byId[e.id],viewerMode:r.viewerMode,obliqueviewer:i,measurements:o,userSrs:a.userSrs,unitAllowsToMeasure:a.userSrsUnit!==W.d.DEGREES&&a.userSrsUnit!==W.d.UNKNOWN,config:s.config}},$=function(t){return{actions:Object(O.bindActionCreators)(Z({cycloramaLinkToClipboard:j.cycloramaLinkToClipboard,generateCycloramaLink:j.generateCycloramaLink,showFlashMessage:F.showFlashMessage,logCopyLink:U.logCopyLink,logSaveImage:U.logSaveImage},H.default,q.default,z.default,B.default),t)}};e.a=Object(C.connect)(J,$)(Q)},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var i=n(4),o=n.n(i),a=n(12),s=n.n(a),l=n(3),u=n.n(l),c=n(0),f=n.n(c),h=n(391),d=o.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p=function(t){var e=t.recording,n=t.className,i=r(t,["recording","className"]);return f.a.createElement(h.a,d({value:e?e.recordedAt:void 0,className:s()(n,"recordingTimestamp")},i))};p.propTypes={recording:u.a.object,className:u.a.string},e.a=p},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=u()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(s.a?s()(t,e):t.__proto__=e)}var a=n(6),s=n.n(a),l=n(5),u=n.n(l),c=n(7),f=n.n(c),h=n(51),d=n.n(h),p=n(1),m=n.n(p),g=n(4),v=n.n(g),y=n(0),b=n.n(y),_=n(36),w=(n.n(_),n(28)),x=(n.n(w),n(280)),E=n(278),M=n(81),S=n(33),T=v.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),m()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),O=function t(e,n,r){null===e&&(e=Function.prototype);var i=d()(e,n);if(void 0===i){var o=f()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},A=function(t){function e(){return r(this,e),i(this,(e.__proto__||f()(e)).apply(this,arguments))}return o(e,t),C(e,[{key:"componentDidMount",value:function(){this._loadRecordings(this.props.recording)}},{key:"componentWillReceiveProps",value:function(t){var e=t.recording;e!==this.props.recording&&this._loadRecordings(e)}},{key:"_loadRecordings",value:function(t){this.props.actions.updateByRecording(t)}},{key:"onSelection",value:function(){O(e.prototype.__proto__||f()(e.prototype),"onSelection",this).call(this);var t=this.props,n=t.time,r=t.timesValues,i=t.onChange,o=this.props.actions.updateRecording,a=r[n];a&&(o(a),i(n))}},{key:"timeChange",value:function(t){this.props.actions.updateTime(t)}},{key:"renderImage",value:function(){var t=this.props,e=t.yaw,n=t.yawOffset,r=Object(S.f)(Object(S.g)(n+e),0,4)*x.a,i={left:-r+"px"};return b.a.createElement("img",{alt:"",src:this.props.thumbnailUrl,style:i,className:"panorama"})}}]),e}(x.b),I=function(t,e){var n=M.default.updateRecording,r=E.b.updateByRecording,i=E.b.updateTime,o=function(t){return t.bind(null,e.id)};return{actions:T({},Object(x.c)(t,e).actions,Object(_.bindActionCreators)({updateRecording:o(n),updateByRecording:o(r),updateTime:o(i)},t))}};e.a=Object(w.connect)(x.d,I,null,{withRef:!0})(A)},function(t,e,n){"use strict";var r=n(70),i=n.n(r),o=n(20),a=(n.n(o),n(15)),s=(n.n(a),n(1441)),l=n(92),u=n(41),c=n(88),f=n(71),h=n(110),d=n(33),p=n(48),m=Object(a.defineMessages)({criticalError:{id:"measurements.drawError",description:"Message to show to user in flash message when adding a point fails",defaultMessage:"Invalid point added. \n Remove the point and try again."}}),g=function(t,e,n){for(var r=Object(o.cloneDeep)(t),i=0;i<t.length;i++)for(var a=0;a<t[i].length;a++)r[i][a]=t[i][a]-e[a];return{geometry:{coordinates:r,type:"LineString"},properties:{id:n,group:"active-measurements"},type:"Feature"}},v=function(t,e){for(var n=t.properties.preciseGeometry.coordinates,r=Object(o.cloneDeep)(n),i=Object(o.cloneDeep)(t),a=0;a<n.length;a++)for(var s=0;s<n[a].length;s++)r[a][s]=n[a][s]-e.xyz[s];return i.geometry.coordinates=r,i},y=function(t,e){for(var n=t.properties.preciseGeometry.coordinates,r=[],i=Object(o.cloneDeep)(t),a=0;a<n.length;a++)r[a]=n[a]-e.xyz[a];return i.geometry.coordinates=r,i},b=function(t,e){for(var n=t.properties.preciseGeometry.coordinates,r=Object(o.cloneDeep)(n),i=Object(o.cloneDeep)(t),a=0,s=n.length;a<s;++a)for(var l=0,u=n[a].length;l<u;++l)for(var c=0,f=n[a][l].length;c<f;++c)r[a][l][c]=n[a][l][c]-e.xyz[c];return i.geometry.coordinates=r,i},_=function(t,e,n){var r=t._viewer._viewer.overlayManager;r&&r.create(e,n)},w=function(t,e,n,r){var i=s.a.constructFeatureLabel(r,e,n);_(t,i)},x=function(t,e){var n=t.context.intl.formatNumber,r=e.geometry,o=r.type,a=r.coordinates,s=e.properties,f=s.customGeometryType,h=s.derivedData;h=void 0===h?{}:h;var d=h.segmentLengths,p=h.unit,m=s.group;d&&d.value&&d.value.length>0&&function(){var e=Object(u.m)(p),r={maximumFractionDigits:e,minimumFractionDigits:e},s=Object(l.l)(o,a),h=s.length-1;if(o===l.b.POLYGON&&2===h&&h--,o===l.b.LINESTRING&&f===l.a.ORTHOGONAL)w(t,Object(c.e)(s[h-1],s[h]),n(d.value[h-1],r)+" "+p,m);else for(var g=0,v=h;g<v;g++)!function(e,o){var a=[0,1,2].map(function(t){return s[e][t]-s[e+1][t]}),l=i()(a[0],a[1],a[2]);w(t,Object(c.e)(s[e],s[e+1]),n(l,r)+" "+p,m)}(g)}()},E=function(t,e,n){var r=v(e,n),i=r.geometry.coordinates.length,o=s.a.constructHeightFeatureStyle(r);i>1&&(_(t,r,o),x(t,r))},M=function(t,e){var n=t._viewer._viewer.overlayManager;if(n&&n.disposeGroup("height-slider"),e){var r=s.a.constructHeightFeatureStyle(e);_(t,e,r);var i=t.context.intl.formatNumber,o=e.geometry,a=o.type,f=o.coordinates,h=e.properties,d=h.derivedData;d=void 0===d?{}:d;var p=d.unit,m=h.group,g=Object(u.m)(p),v={maximumFractionDigits:g,minimumFractionDigits:g},y=Object(l.l)(a,f);if(y.length>=2&&y[0].length>=3&&y[1].length>=3){var b=y[1][2]-y[0][2],x=Object(c.e)(y[0],y[1]),E=t._viewer.getHFov();x[0]-=E/2,w(t,x,i(b,v)+" "+p,m)}}},S=function(t,e,n){var r=void 0,i=void 0,o=void 0;if([t.PositionX,t.PositionY,t.PositionZ].includes(null)){var a=Object(u.h)(u.d.METERS,n,50);r=e.PositionX+a*e.DirectionX,i=e.PositionY+a*e.DirectionY,o=e.PositionZ+a*e.DirectionZ}else{var s=Object(u.h)(u.d.METERS,n,2);r=t.PositionX+(t.PositionX-e.PositionX)/s,i=t.PositionY+(t.PositionY-e.PositionY)/s,o=t.PositionZ+(t.PositionZ-e.PositionZ)/s}return[[r,i,o],[e.PositionX,e.PositionY,e.PositionZ]]},T=function(t,e,n){for(var r=s.a.constructPointFeatureStyle(Object(o.cloneDeep)(e)),i=0;i<e.properties.measureDetails.length;i++){var a=e.properties.measureDetails[i],l=a.details;if(a.measureMethod===p.MeasureMethod.FORWARD_INTERSECTION)for(var u=l.ResultDirections.ResultDirection,c=0;c<u.length;c++){var f=u[c];if(f.Id===n.id&&[l.PositionX,l.PositionY,l.PositionZ].includes(null)){var h=[f.DirectionX,f.DirectionY,f.DirectionZ],d=s.a.constructPointFeature(h,r),m=s.a.constructFeatureLabel("active-measurements",h,i+1);_(t,d),_(t,m)}}}},C=function(t,e,n){for(var r=e.properties.observationLines,i=e.properties.preciseCRS,o=0;o<e.properties.measureDetails.length;o++){var a=e.properties.measureDetails[o],l=a.details,c=a.measureMethod,f=r.selectedMeasureMethod===p.MeasureMethod.FORWARD_INTERSECTION,m=h.b.lightGray;if(c===p.MeasureMethod.SMART_CLICK||c===p.MeasureMethod.FORWARD_INTERSECTION)for(var v=l.ResultDirections.ResultDirection,y=0;y<v.length;y++){var b=e.properties.id+"-"+y;if(r.activeObservation===o){f=!0;var w=Object(d.f)(y,0,h.c.length);m=h.a[h.c[w]]}if(f&&v[y].Id!==n.id){var x=v[y],E="?"===Object(u.n)(i).xyUnits?"m":Object(u.n)(i).xyUnits,M=S(l,x,E),T=[[x.PositionX,x.PositionY,x.PositionZ],[x.PositionX,x.PositionY,x.PositionZ-n.groundLevelOffset]],C=g(M,n.xyz,b),O=s.a.constructLineFeatureStyle(C,m);_(t,C,O);var A=g(T,n.xyz,b+"-camera"),I=s.a.constructLineFeatureStyle(A,h.b.black);_(t,A,I)}}}},O=function(t,e,n){var r=v(e,n),i=r.geometry.coordinates.length,o=s.a.constructLineFeatureStyle(r,h.b.orange),a=s.a.constructPointFeatureStyle(r);i>1&&(_(t,r,o),x(t,r));for(var l=0;l<i;l++){var u=r.geometry.coordinates[l],c=s.a.constructPointFeature(u,a),f=l;r.properties.preciseGeometry.coordinateIndex&&(f=r.properties.preciseGeometry.coordinateIndex[l]);var d=s.a.constructFeatureLabel(r.properties.group,u,f+1);_(t,c),_(t,d)}},A=function(t,e,n){var r=y(e,n),i=s.a.constructPointFeatureStyle(r),o=s.a.constructFeatureLabel(r.properties.group,r.geometry.coordinates,1);_(t,r,i),_(t,o)},I=function(t){var e=[],n=t.filter(function(t,n){var r=!t.includes(null);return r&&e.push(n),r});return{coordinateIndex:e,completedCoords:n}},R=function(t){var e=Object(o.cloneDeep)(t);if(e.geometry.type===l.b.POINT)return e;if(e.geometry.type===l.b.POLYGON){var n=I(e.properties.preciseGeometry.coordinates[0]),r=n.coordinateIndex,i=n.completedCoords;e.properties.preciseGeometry.coordinates[0]=i,e.properties.preciseGeometry.coordinateIndex=r}else{var a=I(e.properties.preciseGeometry.coordinates),s=a.coordinateIndex,u=a.completedCoords;e.properties.preciseGeometry.coordinates=u,e.properties.preciseGeometry.coordinateIndex=s}return e},P=function(t,e,n){var r=b(e,n);r.properties.preciseGeometry.coordinateIndex&&0!==r.properties.preciseGeometry.coordinateIndex[0]&&r.geometry.coordinates[0].push(r.geometry.coordinates[0][0]);var i=r.geometry.coordinates[0].length-1,o=s.a.constructPolygonFeatureStyle(r),a=s.a.constructPointFeatureStyle(r),l=void 0;if(i>1){try{_(t,r,o)}catch(t){l=t}l||x(t,r)}for(var u=0;u<i;u++){var c=r.geometry.coordinates[0][u],f=s.a.constructPointFeature(c,a),h=u;r.properties.preciseGeometry.coordinateIndex&&(h=r.properties.preciseGeometry.coordinateIndex[u]);var d=s.a.constructFeatureLabel(r.properties.group,c,h+1);_(t,f),_(t,d)}if(l)throw l},L=function(t,e,n){var r=t._viewer._viewer.overlayManager;if(r&&r.disposeGroup("active-measurements"),e){var i=R(e),o=i.properties.observationLines;!o||-1===o.activeObservation&&o.selectedMeasureMethod!==p.MeasureMethod.FORWARD_INTERSECTION||C(t,i,n),o&&o.selectedMeasureMethod===p.MeasureMethod.FORWARD_INTERSECTION&&T(t,i,n);var a=i.properties.preciseGeometry.coordinates;if(a)if(i.geometry.type===l.b.POINT)a.length>0&&A(t,i,n);else if(i.geometry.type===l.b.LINESTRING)a.length>0&&i.properties&&i.properties.customGeometryType===l.a.HEIGHT?E(t,i,n):a.length>0&&O(t,i,n);else if(i.geometry.type===l.b.POLYGON&&a[0]&&a[0].length>0)try{P(t,i,n)}catch(e){t.props.actions.showMeasurementFeedbackMessage(Object(f.b)(m.criticalError),{class:"danger"})}}};e.a={drawHeightSlider:M,drawMeasurement:L}},function(t,e,n){"use strict";var r=n(4),i=n.n(r),o=n(170),a=n(110),s=i.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(t){return{name:"rel-"+t.properties.id,type:o.a.CROSSHAIR,group:t.properties.group}},u=function(t,e){return{name:"rel-"+t.properties.id,type:o.a.LINE,group:t.properties.group,color:e,lineWidth:1,opacity:1}},c=function(t){return{name:"rel-"+t.properties.id,type:o.a.CYLINDER,group:t.properties.group,color:t.properties.accurate?a.b.green:a.b.orange,lineWidth:1,opacity:1}},f=function(t){return{name:"rel-"+t.properties.id,type:o.a.POLYGON_SHAPE,group:t.properties.group,outlineColor:a.b.orange,color:a.b.orange,lineWidth:2,opacity:1,fillOpacity:.2,wireframeOpacity:.4}},h=function(t,e){return s({x:t[0],y:t[2],z:-t[1]},e)},d=function(t,e,n){return h(e,{type:o.a.TEXT_2D,text:" "+n+" ",group:t,fontsize:11,padding:.125,borderThickness:1,depthTest:!1})};e.a={constructPointFeatureStyle:l,constructLineFeatureStyle:u,constructPolygonFeatureStyle:f,constructPointFeature:h,constructFeatureLabel:d,constructHeightFeatureStyle:c}},function(t,e,n){"use strict";function r(t){return Array.isArray(t)?t:s()(t)}var i=n(17),o=n.n(i),a=n(30),s=n.n(a),l=n(50),u=n.n(l),c=n(54),f=n.n(c),h=n(18),d=n.n(h),p=n(624),m=(n.n(p),n(20)),g=(n.n(m),n(1443)),v=n(1444),y=n(593),b=n(92),_=n(384),w=n(41),x=n(153),E=n(1445),M=n(1446),S="function"==typeof f.a&&"symbol"==typeof u.a?function(t){return typeof t}:function(t){return t&&"function"==typeof f.a&&t.constructor===f.a&&t!==f.a.prototype?"symbol":typeof t},T=function(t,e){var n=r(e),i=n[0],a=n.slice(1),s=t.createLinearRing(i),l=[],u=!0,c=!1,f=void 0;try{for(var h,d=o()(a);!(u=(h=d.next()).done);u=!0){var p=h.value;l.push(t.createLinearRing(p))}}catch(t){c=!0,f=t}finally{try{!u&&d.return&&d.return()}finally{if(c)throw f}}return l.length>0?t.createPolygon(s,l):t.createPolygon(s)},C=function(t,e){var n=t._panoramaOverlays,r={},i="",o="";if(e.typeName){var a=e.typeName.split(":");a.length>=2?i=a[1]:1===a.length&&(i=a[0]),o=a.length>=2&&a[0]}if(r.wfsClient=new y.a({uri:e.useProxy?""+e.proxyUrl+e.url:e.url,authRequired:e.authRequired,credentials:e.credentials,defaultFeatureType:i,defaultGeometryName:"",featurePrefix:o}),r.projection=e.projection,r.events={onmousedown:function(n){return t._onMouseDownAttributeInfo(n,e._name)}},e.sld&&e.sld.xmlText){var s=new g.a;s.read(e.sld.xmlText.trim());var l=function(t){return s.styleFunction(t,.21)};r.style={styleFunction:l},s.style.attributeInfo&&(r.attributeInfo=s.style.attributeInfo[0]),s.style.tooltip&&(r.tooltipprops=s.style.tooltip[0],r.events.onmouseover=t._onMouseOverTooltip,r.events.onmouseout=t._onMouseOutTooltip)}e.color&&(r.color=e.color),r.id=e.id,r.type=e.type,r.visible=e.visible,n.push(r)},O=function(t,e){var n=t._panoramaOverlays,r={};if(r.projection=e.projection,r.events={onmousedown:function(n){return t._onMouseDownAttributeInfo(n,e._name)}},e.sld&&e.sld.xmlText){var i=new g.a;i.read(e.sld.xmlText);var o=function(t){return i.styleFunction(t,.21)};r.style={styleFunction:o},i.style.attributeInfo&&(r.attributeInfo=i.style.attributeInfo[0]),i.style.tooltip&&(r.tooltipprops=i.style.tooltip[0],r.events.onmouseover=t._onMouseOverTooltip,r.events.onmouseout=t._onMouseOutTooltip)}e.color&&(r.color=e.color),r.id=e.id,r.type=e.type,r.visible=e.visible,n.push(r)},A=function(t,e){var n=t._panoramaOverlays,r={};r.id=e.id,r.type=e.type,r.visible=e.visible,n.push(r)},I=function(t,e){var n=t._panoramaOverlays,r={},i="",o="";if(e.typeName){var a=e.typeName.split(":");a.length>=2?i=a[1]:1===a.length&&(i=a[0]),o=a.length>=2&&a[0]}r.wfsClient=new y.a({uri:e.useProxy?""+e.proxyUrl+e.url:e.url,authRequired:e.authRequired,credentials:e.credentials,defaultFeatureType:i,defaultGeometryName:"",featurePrefix:o}),r.projection=e.projection,r.events={onmousedown:function(n){return t._onMouseDownAttributeInfo(n,e._name)}};var s=new v.a,l=function(t){return s.styleFunction(t)};r.style={styleFunction:l},e.color&&(r.color=e.color),r.id=e.id,r.type=e.type,r.visible=e.visible,n.push(r)},R=function(t,e){var n=t._panoramaOverlays,r=t._viewer;if(t.props.overlays){var i=r._viewer.overlayManager,a=t.props.proj;i&&i.removeAllFeatures();var s=t.props.actions;s.toggleUiState(x.a.RECORDINGS,"visible",!1),s.toggleUiState(x.a.MEASUREMENTS,"visible",!1),s.toggleUiState(x.a.ADDRESSES,"visible",!1),r._viewer.setCubeProgram(t.props.cubeProgram,!1);var l=[e.xyz[0],e.xyz[1],e.xyz[2],e.groundLevelOffset],u=Object(w.n)(e.srs).xyUnits,c=Object(w.h)(w.d.METERS,u,M.a);n.forEach(function(n){var u=n.type,f=n.color,h=n.events,g=n.tooltipprops,v=n.attributeInfo,y=n.style;y||(y={}),!y.color&&f&&(y.color=f);var M={offset:l,style:y,events:h,tooltipprops:g,attributeInfo:v};if(i)switch(u){case"WFSLayer":var C=n.wfsClient;C&&C.requestWithRadius(e.xyz,C.projection||e.srs||a,c).then(function(t){var e=!0,n=!1,a=void 0;try{for(var s,l=o()(t);!(e=(s=l.next()).done);e=!0){var u=s.value,c=void 0,f=u.getProperties();for(var h in f)if(!c){var p=f[h]&&"object"===S(f[h])&&f[h].getType;if(p)switch(f[h].constructor){case d.a.geom.Point:case d.a.geom.LineString:case d.a.geom.LinearRing:case d.a.geom.Polygon:case d.a.geom.MultiPoint:case d.a.geom.MultiLineString:case d.a.geom.MultiPolygon:case d.a.geom.GeometryCollection:case d.a.geom.Circle:c=h;break;default:c=void 0}}c&&u.setGeometryName(c)}}catch(t){n=!0,a=t}finally{try{!e&&l.return&&l.return()}finally{if(n)throw a}}i.drawFeatures(t,M),r._viewer._render()});break;case"SHPLayer":var O=_.a.get(n.id),A=new p.geom.PrecisionModel,I=new p.geom.GeometryFactory(A,t.props.srs.userSrs),R=new p.geom.Coordinate(e.xyz[0],e.xyz[1],e.xyz[2]),L=I.createPoint(R),N=L.buffer(c),k=Object(b.i)(),D=t.props.srs.userSrs,F=D;if(O.crs){var j=Object(w.f)(O.crs,D);F=Object(w.j)(j)}O.features.forEach(function(e){var n=void 0,r=[],i=e.geometry,a=i.type,s=i.coordinates;switch(a){case b.b.POINT:var l=E.a.convertCoordinate(s,F,t),u=l.dstCoord,c=l.jstsCoord;c&&(n=I.createPoint(c)),u&&(r=u);break;case b.b.MULTIPOINT:var f=E.a.convertMultiPoint(s,F,t),h=f.dstPoints,d=f.jstsPoints;if(d){var p=[],g=!0,v=!1,y=void 0;try{for(var _,w=o()(d);!(g=(_=w.next()).done);g=!0){var x=_.value;p.push(I.createPoint(x))}}catch(t){v=!0,y=t}finally{try{!g&&w.return&&w.return()}finally{if(v)throw y}}n=I.createMultiPoint(p)}h&&(r=h);break;case b.b.LINESTRING:var M=E.a.convertLine(s,F,t),S=M.jstsRing,C=M.dstRing;S&&(n=I.createLineString(S)),C&&(r=C);break;case b.b.MULTILINESTRING:var O=E.a.convertMultiLine(s,F,t),A=O.jstsLines,R=O.dstLines;if(A){var P=[],L=!0,D=!1,j=void 0;try{for(var U,z=o()(A);!(L=(U=z.next()).done);L=!0){var B=U.value;P.push(I.createLineString(B))}}catch(t){D=!0,j=t}finally{try{!L&&z.return&&z.return()}finally{if(D)throw j}}n=I.createMultiLineString(P)}R&&(r=R);break;case b.b.POLYGON:var V=E.a.convertPolygon(s,F,t),G=V.jstsRings,H=V.dstRings;G&&(n=T(I,G)),H&&(r=H);break;case b.b.MULTIPOLYGON:var q=E.a.convertMultiPolygon(s,F,t),W=q.dstPolygons,Y=q.jstsPolygons;if(Y){var X=[],Z=!0,K=!1,Q=void 0;try{for(var J,$=o()(Y);!(Z=(J=$.next()).done);Z=!0){var tt=J.value;tt.length>=1&&X.push(T(I,tt))}}catch(t){K=!0,Q=t}finally{try{!Z&&$.return&&$.return()}finally{if(K)throw Q}}n=I.createMultiPolygon(X)}W&&(r=W)}if(n&&N.intersects(n)){var et=Object(m.cloneDeep)(e);et.geometry.coordinates=r,Object(b.g)(k,et)}});var U=(new d.a.format.GeoJSON).readFeatures(k,{dataProjection:t.props.srs.userSrs});i.drawFeatures(U,M);break;case"RecordingLayer":s.toggleUiState(x.a.RECORDINGS,"visible",!t.props.tidEnabled&&!0);break;case"AddressLayer":var z=n.wfsClient;z&&z.requestWithRadius(e.xyz,e.srs,c,{outputFormat:"text/xml; subtype=gml/3.1.1"}).then(function(t){var n=P(e.xyz,t);i.drawFeatures(n,M),r._viewer._render()}),s.toggleUiState(x.a.ADDRESSES,"visible",!t.props.tidEnabled&&!0);break;case"MeasurementLayer":s.toggleUiState(x.a.MEASUREMENTS,"visible",!0);break;case"SurfaceCursorLayer":r._viewer.setCubeProgram(t.props.cubeProgram,!0)}})}},P=function(t,e){return e.forEach(function(e){e.setGeometryName("Location");var n=e.getGeometry(),r=n.getCoordinates();r[2]=t[2]-1,n.setCoordinates(r),e.setGeometry(n)}),e},L=function(t){t._panoramaOverlays=[];var e=t.props.overlays;Array.isArray(e)&&e.forEach(function(e){if(e.visible)switch(e.type){case"LayerGroup":e.layers.forEach(function(e){"WFSLayer"===e.type&&C(t,e)});break;case"WFSLayer":C(t,e);break;case"MeasurementLayer":case"SHPLayer":case"RecordingLayer":O(t,e);break;case"SurfaceCursorLayer":A(t,e);break;case"AddressLayer":I(t,e)}})};e.a={_getOverlays:L,_drawWfsOverlays:R}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=d()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(f.a?f()(t,e):t.__proto__=e)}var a=n(40),s=n.n(a),l=n(7),u=n.n(l),c=n(6),f=n.n(c),h=n(5),d=n.n(h),p=n(1),m=n.n(p),g=n(4),v=n.n(g),y=n(372),b=n(582),_=n(583),w=v.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),m()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||u()(e)).call(this));return t.styleFunction=t.styleFunction.bind(t),t}return o(e,t),x(e,[{key:"styleFunction",value:function(t,e){var n=t.getProperties();n.fid=t.getId();var r=this.getRules(n,e),i=Object(b.b)(r,b.a.PANORAMA_VIEWER),o=Object(_.a)(t,r,"navigateToURLOnClick");o&&t.setProperties({navigateToURLOnClick:o});var a={};i.forEach(function(t){a=w({},a,t)});var l={};if(0===s()(a).length)return null;var u=a,c=u.strokeColor,f=u.strokeOpacity,h=u.strokeWidth,d=u.fillColor,p=u.fillOpacity,m=u.size,g=u.symbol,v=u.externalgraphic;if(l.color=d||(c||"#000000"),l.outlineColor=c||"#000000",l.lineWidth=h||"0",l.opacity=f||"1.0",l.fillOpacity=p||"1.0",m?(l.radius=.05*m,l.size=m):(l.radius=0,l.size="0"),v&&v.onlineresource&&(l.type="billboard",l.skin=v.onlineresource,l.uniformScale=!1),v&&v.dynamicOnlineResource){for(var y=v.dynamicOnlineResource,x=y.propertyNames,E=y.text,M=!0,S=E,T=0;T<x.length;T++){var C=n[x[T]],O=x[T]in n;M=M&&O,O&&(S=S.replace("{"+T+"}",C))}M&&(l.type="billboard",l.skin=S,l.uniformScale=!1)}if(g&&(l.type=g),a.label){for(var A=a.label.fieldname.split(","),I="",R=0;R<A.length;R++)void 0!==n[A[R]]&&(R===A.length?I+=n[A[R]]:I+=n[A[R]]+" ");l.text=I,l.label=a.label}return l}}]),e}(y.a);e.a=E},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(372),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||s()(e)).call(this));return t.styleFunction=t.styleFunction.bind(t),t}return o(e,t),m(e,[{key:"styleFunction",value:function(t){return t.getProperties().fid=t.getId(),{type:"text2D",text:t.get("AddressString").split(";")[2],fontface:"Arial",fontsize:12,padding:.1,borderThickness:1,borderColor:{r:255,g:153,b:0,a:1},backgroundColor:{r:255,g:204,b:0,a:1},textColor:{r:0,g:0,b:0,a:1},straight:!0}}}]),e}(p.a);e.a=g},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return s()(t)}var i=n(17),o=n.n(i),a=n(30),s=n.n(a),l=n(69),u=n.n(l),c=n(624),f=(n.n(c),function(t){var e=t;if(Array.isArray(t[2])){var n;e=(n=[]).concat.apply(n,r(t)),e.length=3}return e}),h=function(t,e,n){var r=f(t),i=e===n.props.srs.userSrs?r:u()(e,n.props.srs.userSrs,r);return{jstsCoord:new c.geom.Coordinate(i[0],i[1],i[2]),dstCoord:i}},d=function(t,e,n){var r=[],i=[],a=!0,s=!1,l=void 0;try{for(var u,c=o()(t);!(a=(u=c.next()).done);a=!0){var f=u.value,d=h(f,e,n),p=d.jstsCoord,m=d.dstCoord;r.push(m),i.push(p)}}catch(t){s=!0,l=t}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}return{jstsRing:i,dstRing:r}},p=function(t,e,n){var r=[],i=[],a=!0,s=!1,l=void 0;try{for(var u,c=o()(t);!(a=(u=c.next()).done);a=!0){var f=u.value,d=h(f,e,n),p=d.jstsCoord,m=d.dstCoord;r.push(m),i.push(p)}}catch(t){s=!0,l=t}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}return{jstsRing:i,dstRing:r}},m=function(t,e,n){var r=[],i=[],a=!0,s=!1,l=void 0;try{for(var u,c=o()(t);!(a=(u=c.next()).done);a=!0){var f=u.value,d=h(f,e,n),p=d.jstsCoord,m=d.dstCoord;r.push(p),i.push(m)}}catch(t){s=!0,l=t}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}return{jstsPoints:r,dstPoints:i}},g=function(t,e,n){var r=[],i=[],a=!0,s=!1,l=void 0;try{for(var u,c=o()(t);!(a=(u=c.next()).done);a=!0){var f=u.value,h=d(f,e,n),p=h.jstsRing,m=h.dstRing;r.push(m),i.push(p)}}catch(t){s=!0,l=t}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}return{dstRings:r,jstsRings:i}},v=function(t,e,n){var r=[],i=[],a=!0,s=!1,l=void 0;try{for(var u,c=o()(t);!(a=(u=c.next()).done);a=!0){var f=u.value,h=g(f,e,n),d=h.jstsRings,p=h.dstRings;r.push(p),i.push(d)}}catch(t){s=!0,l=t}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}return{dstPolygons:r,jstsPolygons:i}};e.a={convertCoordinate:h,convertLine:d,convertMultiLine:p,convertMultiPoint:m,convertMultiPolygon:v,convertPolygon:g,handleXYZMCoord:f}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=30},function(t,e,n){"use strict";var r=n(70),i=n.n(r),o=n(20),a=(n.n(o),n(41)),s=n(392),l=n(393),u=n(48),c=n(88),f=n(53),h=n(92),d=function(t,e){var n=t.props,r=n.surfaceCursorPosition,i=n.srs,o=n.recording;if(r.depth=void 0,r.direction=void 0,r.position=void 0,e){var u=t.getSmartMeasurePointDetails(t._pixelToWorldVector(e));if(u){r.depth=u.depth,r.position=u.position,r.direction=u.direction;var c=s.SURFACE_CURSOR_CHANGE,f={depth:u.depth,depthInMeters:u.depthInMeters,xyz:u.position,srs:i.userSrs};o&&o.hasDepthMap&&i.userSrsUnit!==a.d.DEGREES&&i.userSrsUnit!==a.d.UNKNOWN&&t.trigger(c,new l.a(c,f))}}t.props.actions.updatePanoramaViewerParams(r)},p=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.props.activeMeasurement,i=r.properties,a=i.observationLines,s=i.preciseGeometry,l=i.measureDetails,c=Object(o.cloneDeep)(r);if(c.geometry.coordinates=e,c.properties.group="height-slider",n.yaw&&(c.updateOrientation={yaw:n.yaw}),c.properties.accurate=n.accurate,l&&l[0].measureMethod!==u.MeasureMethod.DEPTH_MAP){var f=Object(u.determineNewPointNeeded)(r,a.recordingId);(s.coordinates[0].includes(null)||!f&&a.selectedMeasureMethod===u.MeasureMethod.FORWARD_INTERSECTION)&&(c=null)}t.props.actions.updateHeightSlider(c)},m=function(t,e){var n=t.props.activeMeasurement.properties.preciseGeometry.coordinates,r=Object(o.cloneDeep)(n),i=Object(o.cloneDeep)(r[0]);r.push(i);for(var a=Object(o.cloneDeep)(r),s=0;s<r.length;s++)for(var l=0;l<r[s].length;l++)a[s][l]=r[s][l]-e[l];var u=Object(c.m)(e,n[0]);p(t,a,{yaw:u})},g=function(t){var e=t._viewer.getRecording(),n=t.props.heightSlider.geometry.coordinates[1],r=Object(o.cloneDeep)(n);r[0]+=e.xyz[0],r[1]+=e.xyz[1],r[2]+=e.xyz[2],t.props.actions.addMeasurementPoint({coord:r})},v=function(t,e){var n=t.props,r=n.viewerMode,s=n.heightSlider,l=n.activeMeasurement,c=n.measureMethod,d=n.recording,g=n.surfaceCursorPosition.position,v=n.srs,y=l.properties,b=y.customGeometryType,_=y.preciseGeometry.coordinates;if(r===f.ViewerMode.MEASUREMENT&&b===h.a.HEIGHT&&1===_.length)if(s){if(_[0].length>=3){var w=t._viewer.worldCoordToImage(_[0][0],_[0][1],_[0][2]),x=Object(o.cloneDeep)(s.geometry.coordinates);if(x.length>=2&&x[0].length>=3&&x[1].length>=3&&w){if(c===u.MeasureMethod.DEPTH_MAP&&!g)return;var E={},M=void 0,S=v.userSrsUnit===a.d.USFEET||v.userSrsUnit===a.d.FEET,T=S?Object(a.h)(a.d.METERS,a.d.FEET,.2):.2,C=S?Object(a.h)(a.d.METERS,a.d.FEET,.05):.05;if(c===u.MeasureMethod.DEPTH_MAP&&g){var O=[0,1,2].map(function(t){return g[t]-d.xyz[t]});M=O[2];var A=x[0][0]-O[0],I=x[0][1]-O[1],R=i()(A,I);R<T&&(E.accurate=!0)}else{var P=t._pixelToWorldVectorXY(w[0],w[1]).direction,L=t._pixelToWorldVector(e).direction,N=Math.sqrt(Math.pow(x[0][0],2)+Math.pow(x[0][1],2)+Math.pow(x[0][2],2)),k=P[2]/Math.sqrt(Math.pow(P[0],2)+Math.pow(P[1],2)),D=L[2]/Math.sqrt(Math.pow(L[0],2)+Math.pow(L[1],2)),F=Math.atan(k),j=Math.cos(F)*N;M=D*j;var U=d.groundLevelOffset,z=Math.abs(M+U);z<C&&(E.accurate=!0)}x[1][2]=M,p(t,x,E)}}}else m(t,d.xyz)};e.a={_updateSurfaceCursorPosition:d,addHeightSliderToMeasurementPoint:g,calculateInitialHeightSlider:m,shouldHeightSliderUpdate:v,updateHeightSlider:p}},function(t,e,n){"use strict";(function(t){function r(t,e,n){return e in t?x()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return _()(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=y()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(g.a?g()(t,e):t.__proto__=e)}var l,u=n(40),c=n.n(u),f=n(77),h=n.n(f),d=n(7),p=n.n(d),m=n(6),g=n.n(m),v=n(5),y=n.n(v),b=n(30),_=n.n(b),w=n(1),x=n.n(w),E=n(23),M=n.n(E),S=n(17),T=n.n(S),C=n(4),O=n.n(C),A=n(12),I=n.n(A),R=n(20),P=(n.n(R),n(18)),L=n.n(P),N=n(3),k=n.n(N),D=n(0),F=n.n(D),j=n(28),U=(n.n(j),n(36)),z=(n.n(U),n(24)),B=(n.n(z),n(147)),V=n(31),G=n(79),H=n(383),q=n(601),W=n(62),Y=n(91),X=n(112),Z=n(123),K=n(279),Q=n(126),J=n(80),$=n(53),tt=n(219),et=n(1449),nt=n(617),rt=n(364),it=n(1450),ot=n(1451),at=n(623),st=n(622),lt=n(381),ut=n(625),ct=n(111),ft=n(33),ht=n(113),dt=n(270),pt=n(589),mt=O.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gt=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=T()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(M()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),vt=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),x()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),yt=function(e){function n(){var t;o(this,n);for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];var s=a(this,(t=n.__proto__||p()(n)).call.apply(t,[this].concat(r)));s.olEventListenerIds=[];var l=s.props,u=l.showScaleBar,c=l.showZoomSlider;return s._mapControls=new rt.c({showScaleBar:u,showZoomSlider:c,showLayerName:!1,showMousePosition:!1}),s.colorManager=s.props.colorManager,s.colorStyle=s.colorManager.getColorStyle(3),s.toggleNavbarExpanded=s.toggleNavbarExpanded.bind(s),s.getNavbarExpanded=s.getNavbarExpanded.bind(s),s.toggleNavbarVisible=s.toggleNavbarVisible.bind(s),s.getNavbarVisible=s.getNavbarVisible.bind(s),s.zoomIn=s.zoomIn.bind(s),s.zoomOut=s.zoomOut.bind(s),s.centerMap=s.centerMap.bind(s),s.onPointerUp=s.onPointerUp.bind(s),s.onViewChange=s.onViewChange.bind(s),s.onToggleNadir=s.onToggleNadir.bind(s),s.resetRotation=s.resetRotation.bind(s),s.setRotation=s.setRotation.bind(s),s.updateTimeTravel=Object(R.throttle)(s.updateTimeTravel.bind(s),500),s}return s(n,e),vt(n,[{key:"getType",value:function(){return $.ViewerType.OBLIQUE}},{key:"componentWillMount",value:function(){this.props.actions.addTimeTravel()}},{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.id,r=e.recording,i=e.viewCenter,o=e.viewRotation,a=e.viewResolution,s=e.viewExtent,l=e.ui,u=l[tt.a.NAVBAR].expanded,c=l[tt.a.TIME_TRAVEL].expanded,f={target:n,logo:!1,controls:this._mapControls.controlPackage};this.map=new L.a.Map(f);var h=this.map;this.props.actions.updateObliqueViewer({color:this.colorStyle.color}),this.createViewer({recording:r,viewCenter:i,viewRotation:o,viewResolution:a,viewExtent:s}),"boolean"==typeof c&&c&&this.toggleTimeTravelExpanded(c),"boolean"==typeof u&&u&&this.toggleNavbarExpanded(u),this.olEventListenerIds.push(h.on("pointerup",this.onPointerUp),h.on("pointerup",function(e){var n=e.map.getView(),r=n.getCenter(),i=gt(r,2),o=i[0],a=i[1];dispatchEvent(new CustomEvent("ObliqueViewerDragged",{detail:{center:[o,a],recording:t.props.recording}}))}),h.on(["moveend","pointerdrag"],this.onViewChange)),this.onPointerUp()}},{key:"componentWillUnmount",value:function(){dispatchEvent(new CustomEvent(pt.a.OBLIQUE_DELETED,{detail:{id:this.props.id}})),this.olEventListenerIds.forEach(L.a.Observable.unByKey),this.map.setTarget(null),this.props.actions.removeTimeTravel(),this.colorManager.releaseColor(this.colorStyle.name)}},{key:"componentWillReceiveProps",value:function(t){var e=t.viewCenter,n=t.viewRotation,r=void 0===n?0:n,i=t.viewExtent,o=t.recording,a=t.ui,s=a[tt.a.NAVBAR],l=s.visible,u=s.expanded,c=a[tt.a.TIME_TRAVEL],f=c.visible,h=c.expanded,d=o.imageId,p=o.isOblique,m=o.preferredImageRotation,g=o.width,v=o.height,y=o.zoomlevels,b=gt(e,2),_=b[0],w=b[1],x=this.props,E=x.id,M=gt(x.viewCenter,2),S=M[0],T=M[1],C=x.viewRotation,O=void 0===C?0:C,A=x.viewExtent,I=x.recording,R=x.ui,P=R[tt.a.NAVBAR],L=P.visible,N=P.expanded,k=R[tt.a.TIME_TRAVEL],D=k.visible,F=k.expanded,j=I.imageId,U=I.isOblique,z=I.preferredImageRotation,B=I.width,V=I.height,G=I.zoomlevels,H=this.map,q=this.mapLayer,W=this.obliqueTileLayer,Y=H.getView(),X=!1;if(d!==j){var Z=void 0;if(p===U){Z=m+(O-z)}else if(p)Z=m;else{var K=I.imageRotationToHeading(O);Z=o.headingToImageRotation(K)}g!==B||v!==V||y!==G?(H.removeLayer(q),this.createViewer({recording:o,viewRotation:Z,viewResolution:Y.getResolution(),viewCenter:e,viewExtent:i})):(W.imageId=d,q.getSource().refresh(),X=!0,Y.setCenter(e),Y.setRotation(Z))}else X=!0,_===S&&w===T||Y.setCenter(e),r!==O&&Y.setRotation(r);X&&i&&i!==A&&(this.setExtent(i,{recording:o}),Y.setCenter(e)),l!==L&&l!==this.getNavbarVisible()&&this.toggleNavbarVisible(l),u!==N&&u!==this.getNavbarExpanded()&&(this.toggleNavbarExpanded(u),setTimeout(function(){return H.updateSize()},0)),f!==D&&f!==this.getTimeTravelVisible()&&this.toggleTimeTravelVisible(f),h!==F&&h!==this.getTimeTravelExpanded()&&this.toggleTimeTravelExpanded(h),dispatchEvent(new CustomEvent(pt.a.OBLIQUE_UPDATED,{detail:{id:E,center:e,size:H.getSize(),resolution:Y.getResolution(),rotation:r,recording:o,color:this.colorStyle.color}}))}},{key:"updateTimeTravel",value:function(){this.props.actions.updateObliqueTimes()}},{key:"componentDidUpdate",value:function(t){this.applyViewingFilter(),t.windowmanagerRevision!==this.props.windowmanagerRevision&&this.map.updateSize()}},{key:"applyViewingFilter",value:function(){var t="contrast("+this.props.viewerSettings.contrast+"%) brightness("+this.props.viewerSettings.brightness+"%)";this.obliqueViewerRef.getElementsByTagName("canvas")[0].style.filter=t}},{key:"createViewer",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.recording,i=n.viewRotation,o=n.viewCenter,a=n.viewResolution,s=n.viewExtent,l=this.props,u=l.id,c=l.obliqueTilesUrl,f=r.imageId,d=r.imageWidth,p=r.imageHeight,m=r.zoomlevels;this.obliqueTileLayer=new nt.b({id:u,imageId:f,imageSize:[d,p],maxZoomLevel:m,url:c}),this.mapLayer=this.obliqueTileLayer.toMapLayer(),this.map.addLayer(this.mapLayer);var g=this.mapLayer.getSource(),v=g.getProjection(),y=m,b=1*Math.pow(2,y-1),_=y+1,w=1*Math.pow(2,-1),x=b*Math.pow(2,0),E=void 0!==o?o:[d/2,p/2],M=h()(a)?a:4,S=i,T={projection:v,extent:v.getExtent(),center:E,minZoom:1,maxZoom:_,minResolution:w,maxResolution:x,resolution:M,constrainRotation:!1,rotation:S},C=new L.a.View(T);this.map.setView(C),s&&t.setTimeout(function(){e.setExtent(s,{recording:r}),C.setCenter(E)},0);var O=this.map.getSize();this.props.actions.updateObliqueViewer({viewSize:O}),dispatchEvent(new CustomEvent(pt.a.OBLIQUE_CREATED,{detail:{id:u,center:E,size:O,resolution:M,rotation:S,recording:r,color:this.colorStyle.color}}))}},{key:"setExtent",value:function(t,e){var n=e.recording,r=void 0===n?this.props.recording:n,i=this.map.getView(),o=r.avgFootprintHeight,a=new L.a.geom.Polygon([[r.worldVectorToPixel(t[0],t[1],o),r.worldVectorToPixel(t[0],t[3],o),r.worldVectorToPixel(t[2],t[3],o),r.worldVectorToPixel(t[2],t[1],o),r.worldVectorToPixel(t[0],t[1],o)]]);i.fit(a)}},{key:"toggleNavbarVisible",value:function(t){void 0!==t&&"boolean"!=typeof t&&Object(ct.b)("toggleNavbarVisible");var e=this.props.actions,n=this.props.ui[tt.a.NAVBAR].visible;e.toggleUiState(tt.a.NAVBAR,"visible",void 0!==t?t:!n)}},{key:"getNavbarVisible",value:function(){return this.props.ui[tt.a.NAVBAR].visible}},{key:"toggleNavbarExpanded",value:function(t){void 0!==t&&"boolean"!=typeof t&&Object(ct.b)("toggleNavbarExpanded");var e=this.props.actions,n=this.props.ui[tt.a.NAVBAR].expanded;e.toggleUiState(tt.a.NAVBAR,"expanded",void 0!==t?t:!n)}},{key:"getNavbarExpanded",value:function(){return this.props.ui[tt.a.NAVBAR].expanded}},{key:"toggleButtonEnabled",value:function(t,e){this.props.actions.toggleUiState(t,"enabled",e)}},{key:"getButtonEnabled",value:function(t){var e=this.props.ui;return"*"===t?[].concat(i(e)):e[t].enabled}},{key:"toggleTimeTravelVisible",value:function(t){this.props.tidEnabled&&Object(ct.c)("toggleTimeTravelVisible"),void 0!==t&&"boolean"!=typeof t&&Object(ct.b)("toggleTimeTravelVisible");var e=this.props.actions,n=this.props.ui[tt.a.TIME_TRAVEL].visible;e.toggleUiState(tt.a.TIME_TRAVEL,"visible",void 0!==t?t:!n)}},{key:"getTimeTravelVisible",value:function(){return this.props.ui[tt.a.TIME_TRAVEL]&&this.props.ui[tt.a.TIME_TRAVEL].visible}},{key:"toggleTimeTravelExpanded",value:function(t){this.props.tidEnabled&&Object(ct.c)("toggleTimeTravelExpanded"),void 0!==t&&"boolean"!=typeof t&&Object(ct.b)("toggleTimeTravelExpanded");var e=this.props,n=e.actions,r=e.timetravel;n.toggleTimeTravel(void 0!==t?t:!r.visible)}},{key:"getTimeTravelExpanded",value:function(){return this.props.timetravel&&this.props.timetravel.visible}},{key:"setBrightness",value:function(t){this.props.tidEnabled&&Object(ct.c)("setBrightness"),(!t&&0!==t||t<0||"number"!=typeof t&&"string"!=typeof t)&&Object(ct.b)("setBrightness");var e={viewerSettings:mt({},this.props.viewerSettings)};e.viewerSettings.brightness=t,this.props.actions.updateObliqueViewerParams(e)}},{key:"setContrast",value:function(t){this.props.tidEnabled&&Object(ct.c)("setContrast"),(!t&&0!==t||t<0||"number"!=typeof t&&"string"!=typeof t)&&Object(ct.b)("setContrast");var e={viewerSettings:mt({},this.props.viewerSettings)};e.viewerSettings.contrast=t,this.props.actions.updateObliqueViewerParams(e)}},{key:"updateZoom",value:function(t){var e=this.map.getView(),n=e.getZoom();e.setZoom(n+t)}},{key:"switchViewingDirection",value:function(t){var e=this.props,n=e.recording,r=e.viewHeading,i=void 0===r?0:r,o=e.openNearestFromPixel;if(o){var a=this.map.getView().getCenter(),s=gt(a,2);o(n,s[0],s[1],n?n.avgFootprintHeight:0,{viewHeading:Object(ft.f)(i+Object(ft.e)(t),0,ft.b)})}}},{key:"zoomIn",value:function(){this.updateZoom(1)}},{key:"zoomOut",value:function(){this.updateZoom(-1)}},{key:"centerMap",value:function(){var t=this.props.recording,e=this.map.getView(),n=t.srs,r=e.getCenter(),i=gt(r,2),o=i[0],a=i[1],s=t.avgFootprintHeight,l=this.props.recording.pixelToWorldVector(o,a,s);this.props.actions.centerMap(l,n,!0)}},{key:"onPointerUp",value:function(){var t=this.props,e=t.recording,n=t.viewHeading,r=t.openNearestFromPixel,i=e.width,o=e.height,a=this.map,s=a.getView(),l=s.getCenter(),u=gt(l,2),c=u[0],f=u[1],h=s.getResolution(),d=s.getProjection().getExtent(),p=Math.min(100*h,d[2]/h/4,d[3]/h/4);(c<=p||c>=i-p||f<=p||f>=o-p)&&r&&(this.updateTimeTravel.cancel(),r(e,c,f,e.avgFootprintHeight,{viewHeading:n,isOblique:e.isOblique}))}},{key:"onViewChange",value:function(){var t=this.props,e=t.viewCenter,n=t.viewSize,r=t.viewResolution,i=t.viewRotation,o=t.actions,a=t.timetravel,s=this.map,l=s.getView(),u=l.getCenter(),c=s.getSize(),f=l.getResolution(),h=l.getRotation();(Math.abs(h-i)<1e-8||f!==r||!Object(R.isEqual)(u,e)||!Object(R.isEqual)(c,n))&&(l.setRotation(h),o.updateObliqueViewer({viewCenter:u,viewSize:c,viewResolution:f,viewRotation:h}),a&&a.visible&&0!==a.historyRecordings.length&&this.updateTimeTravel())}},{key:"onToggleNadir",value:function(){var t=this.props,e=t.recording,n=t.viewHeading,r=t.openNearestFromPixel;if(r){var i=this.map.getView(),o=i.getCenter(),a=gt(o,2);r(e,a[0],a[1],e?e.avgFootprintHeight:0,{isOblique:!e.isOblique,viewHeading:n})}}},{key:"setRotation",value:function(t){var e=this.props,n=e.id,r=e.recording,i=e.viewRotation,o=e.actions,a=r.headingToImageRotation(t);a!==i&&o.updateObliqueViewer({id:n,viewRotation:a})}},{key:"resetRotation",value:function(){this.setRotation(this.props.recording.preferredHeading)}},{key:"render",value:function(){var t=this,e=this.props,n=e.id,r=e.className,i=e.isApi,o=e.recording,a=e.timetravel,s=e.actions,l=(e.viewRotation,e.viewHeading),u=e.ui,c=u[tt.a.buttons.SWITCH_DIRECTION].enabled,f=u[tt.a.buttons.TOGGLE_NADIR].enabled,h=u[tt.a.NAVBAR],d=h.visible,p=h.expanded,m=u[tt.a.TIME_TRAVEL].visible,g=-l,v=a&&m&&!!o,y=void 0;switch(this.props.activePanel){case ht.a.NONE:y=null;break;case ht.a.IMAGE_CONTROLS:y=F.a.createElement(H.a,{className:"cmtNavBarPanel",obliqueId:this.props.id,showTransparency:!1});break;case ht.a.COMPASS:y=F.a.createElement(q.a,{rotation:g,resetRotation:this.resetRotation,setRotation:function(e){return t.setRotation(-e)}});break;case ht.a.IMAGE_INFORMATION:y=F.a.createElement(it.a,{recording:this.props.recording});break;default:y=null}var b=void 0;if(i){var _=this.context.rootElement,w=F.a.createElement(z.Tooltip,{id:"tooltip-"+n},B.a.version);b=F.a.createElement(z.OverlayTrigger,{placement:"top",container:_,overlay:w},F.a.createElement(st.a,null))}else b=F.a.createElement(st.a,null);return F.a.createElement("div",{className:I()("obliqueviewer","viewer","flexColumn",r)},F.a.createElement("div",{className:"flexColumn ob-relative-pos"},F.a.createElement("div",{className:"flexColumn flexItem"},F.a.createElement("div",{id:n,className:"openLayers flexItem",ref:function(e){t.obliqueViewerRef=e}}),o.isOblique&&c&&F.a.createElement("div",{className:"obliquecontrols"},F.a.createElement(G.a,mt({placement:"bottom"},Y.a.obliqueRotateView),F.a.createElement(z.Button,{className:"btn btn-top",onClick:function(){return t.switchViewingDirection(180)}},F.a.createElement(W.b.ObliqueDirection,null))),F.a.createElement(G.a,mt({placement:"right"},Y.a.obliqueRotateView),F.a.createElement(z.Button,{className:"btn btn-left",onClick:function(){return t.switchViewingDirection(90)}},F.a.createElement(W.b.ObliqueDirection,null))),F.a.createElement(G.a,mt({placement:"left"},Y.a.obliqueRotateView),F.a.createElement(z.Button,{className:"btn btn-right",onClick:function(){return t.switchViewingDirection(-90)}},F.a.createElement(W.b.ObliqueDirection,null)))),f&&F.a.createElement("div",{className:"nadircontrols"},F.a.createElement(G.a,mt({placement:"top"},Y.a.obliqueNadirSwitch),F.a.createElement("div",null,F.a.createElement(ut.a,{labelOn:F.a.createElement(W.b.Nadir,null),labelOff:F.a.createElement(W.b.Oblique,null),onToggleButton:this.onToggleNadir,value:!o.isOblique,disabled:!1}))))),b,F.a.createElement(lt.a,{color:this.colorStyle.color}),F.a.createElement(at.a,{visible:m,recording:o,onClick:function(){s.logClickControl("time_travel_toggle"),a.visible||s.updateObliqueTimes(),s.toggleTimeTravel()}}),v&&F.a.createElement(ot.a,{id:n,recording:o}),F.a.createElement("div",{className:"cmtViewerPanel"},y),!1),d&&F.a.createElement(et.a,{id:n,expanded:p,onExpand:this.toggleNavbarExpanded,zoomIn:this.zoomIn,zoomOut:this.zoomOut,centerMap:this.centerMap,map:this.map,compassRotation:g,resetRotation:this.resetRotation,isApi:i}))}}]),n}(V.a);yt.contextTypes={intl:k.a.object.isRequired,rootElement:k.a.object},yt.propTypes={recording:k.a.instanceOf(dt.b),showScaleBar:k.a.bool,showZoomSlider:k.a.bool,ui:k.a.object,viewerSettings:k.a.shape({brightness:k.a.number,contrast:k.a.number,opacity:k.a.number})},yt.defaultProps={navbarVisible:!0,id:"oblique",showScaleBar:!1,showZoomSlider:!1,ui:(l={},r(l,tt.a.NAVBAR,{visible:!0,expanded:!0}),r(l,tt.a.TIME_TRAVEL,{visible:!0,expanded:!1}),l),viewerSettings:{brightness:100,contrast:100,opacity:1}};var bt=function(t,e){var n=t.obliqueviewer,r=t.config,i=t.timetravel,o=t.windowmanager;return mt({},n.byId[e.id]||{},{obliqueViewerCount:c()(n.byId).length,isApi:r.isApi,timetravel:i.byId[e.id]||null,windowmanagerRevision:o.revision})},_t=function(t,e){var n=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.bind.apply(t,[null,e.id].concat(r))};return{actions:Object(U.bindActionCreators)({updateObliqueViewer:n(Z.updateObliqueViewer),updateObliqueViewerParams:n(Z.updateObliqueViewerParams),toggleUiState:n(Z.toggleUiState),addTimeTravel:Q.addTimeTravel.bind(null,e.id,Q.TimeTravelType.OBLIQUE),removeTimeTravel:n(Q.removeTimeTravel),toggleTimeTravel:n(Q.toggleTimeTravel),showFlashMessage:X.showFlashMessage,centerMap:$.centerMap,updateObliqueTimes:n(K.c),logClickControl:J.logClickControl},t)}};e.a=Object(j.connect)(bt,_t,null,{withRef:!0})(yt)}).call(e,n(37))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(4),m=n.n(p),g=n(253),v=n.n(g),y=n(3),b=n.n(y),_=n(0),w=n.n(_),x=n(24),E=(n.n(x),n(28)),M=(n.n(E),n(36)),S=(n.n(M),n(91)),T=n(31),C=n(79),O=n(62),A=n(362),I=n(363),R=n(113),P=n(112),L=n(266),N=n(80),k=n(123),D=n(219),F=n(53),j=n(220),U=m.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),B=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var l=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return l.onWindowClick=l.onWindowClick.bind(l),l}return o(e,t),z(e,[{key:"componentDidMount",value:function(){window.addEventListener("pointerdown",this.onWindowClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("pointerdown",this.onWindowClick)}},{key:"componentWillReceiveProps",value:function(t){var e=this.props.expanded;e!==t.expanded&&e&&this.setActivePanel(R.a.NONE)}},{key:"onWindowClick",value:function(t){var e=this.props.activePanel,n=v()(t.target);e!==R.a.NONE&&e!==R.a.IMAGE_INFORMATION&&0===n.closest(".cmtViewerPanel").length&&0===n.closest(".cmtViewerPanelButton").length&&this.props.actions.setActivePanel(this.props.id,R.a.NONE)}},{key:"setActivePanel",value:function(t){var e=this.props.activePanel,n=this.props.actions.setActivePanel;e===t?n(this.props.id,R.a.NONE):n(this.props.id,t)}},{key:"render",value:function(){var t=this,e=this.props,n=e.onExpand,r=e.expanded,i=e.compassRotation,o=e.ui,a={onExpand:n,expanded:r},s=r?"-expanded":"-contracted";return w.a.createElement(A.a,U({},a,{className:"viewer-navbar"+s+" cmt-navbar",left:w.a.createElement(x.ButtonGroup,null,!document.documentMode&&w.a.createElement(C.a,U({placement:"top"},S.a.display),w.a.createElement(x.Button,{className:"cmtViewerPanelButton",onClick:function(){return t.setActivePanel(R.a.IMAGE_CONTROLS)}},w.a.createElement(O.b.Display,null)))),right:w.a.createElement(x.ButtonGroup,{className:"nav navbar-nav"},o[D.a.buttons.CENTER_MAP]&&o[D.a.buttons.CENTER_MAP].enabled&&!this.props.isApi&&w.a.createElement(C.a,U({placement:"top"},S.a.mapLocation),w.a.createElement(x.Button,{onClick:this.props.centerMap},w.a.createElement(O.b.Locate,null))),o[D.a.buttons.IMAGE_INFORMATION]&&o[D.a.buttons.IMAGE_INFORMATION].enabled&&w.a.createElement(C.a,U({placement:"top"},S.a.imageInfo),w.a.createElement(x.Button,{className:"cmtViewerPanelButton",onClick:function(){return t.setActivePanel(R.a.IMAGE_INFORMATION)}},w.a.createElement(O.b.Information,null))),!this.props.isApi&&o[D.a.buttons.COPY_LINK]&&o[D.a.buttons.COPY_LINK].enabled&&w.a.createElement(C.a,U({placement:"top"},S.a.copyObliqueLink),w.a.createElement(x.Button,{onClick:function(){return t.copyLinkToClipboard()}},w.a.createElement(O.b.ToClipboard,null))),o[D.a.buttons.SAVE_IMAGE]&&o[D.a.buttons.SAVE_IMAGE].enabled&&w.a.createElement(C.a,U({placement:"top"},S.a.obliqueImage),w.a.createElement(x.Button,{onClick:function(){return t.saveImage()}},w.a.createElement(O.b.Download,null))),o[D.a.buttons.COMPASS]&&o[D.a.buttons.COMPASS].enabled&&w.a.createElement(C.a,U({placement:"top"},S.a.compass),w.a.createElement(x.Button,{className:"cmtViewerPanelButton",onClick:function(){return t.setActivePanel(R.a.COMPASS)},onDoubleClick:this.props.resetRotation},w.a.createElement(O.b.Compass,{style:{transform:"rotate("+i+"rad)"}}))),o[D.a.buttons.ZOOM_IN]&&o[D.a.buttons.ZOOM_IN].enabled&&w.a.createElement(C.a,U({placement:"top"},S.a.zoomInButton),w.a.createElement(x.Button,{onClick:this.props.zoomIn},w.a.createElement(O.b.ZoomIn,null))),o[D.a.buttons.ZOOM_OUT]&&o[D.a.buttons.ZOOM_OUT].enabled&&w.a.createElement(C.a,U({placement:"top"},S.a.zoomOutButton),w.a.createElement(x.Button,{onClick:this.props.zoomOut},w.a.createElement(O.b.ZoomOut,null))))}))}},{key:"copyLinkToClipboard",value:function(){var t=this.context.intl.formatMessage,e=this.props.recording,n=this.props.actions,r=n.obliqueLinkToClipboard,i=n.logCopyLink,o=n.showFlashMessage;r(e.imageId).then(function(e){i(e.payload),o(t(j.a.copied),{delay:1e3})})}},{key:"saveImage",value:function(){var t=this,e=this.props.map;e.once("postcompose",function(e){var n=e.context.canvas;Object(I.a)(n,"oblique.png"),t.props.actions.logSaveImage("oblique")}),e.renderSync()}}]),e}(T.a);B.propTypes={onExpand:b.a.func,expanded:b.a.bool,compassRotation:b.a.number},B.defaultProps={compassRotation:0};var V=function(t,e){var n=(t.srs,t.obliqueviewer),r=t.viewermanager;return U({},n.byId[e.id],{viewerManagerViewerMode:r.viewerMode})},G=function(t){return{actions:Object(M.bindActionCreators)(U({obliqueLinkToClipboard:L.obliqueLinkToClipboard,showFlashMessage:P.showFlashMessage,logCopyLink:N.logCopyLink,logSaveImage:N.logSaveImage},F.default,{setActivePanel:k.default.setActivePanel}),t)}};e.a=Object(E.connect)(V,G)(B)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=m()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(d.a?d()(t,e):t.__proto__=e)}var a=n(55),s=n.n(a),l=n(581),u=n.n(l),c=n(7),f=n.n(c),h=n(6),d=n.n(h),p=n(5),m=n.n(p),g=n(1),v=n.n(g),y=n(23),b=n.n(y),_=n(17),w=n.n(_),x=n(0),E=n.n(x),M=n(24),S=(n.n(M),n(15)),T=(n.n(S),n(28)),C=(n.n(T),n(31)),O=n(391),A=n(220),I=n(217),R=n(33),P=n(41),L=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=w()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(b()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),N=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),v()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),k=Object(S.defineMessages)({panelHeader:{id:"ObliqueImageInformation.panelHeader",description:"Header for the image information panel",defaultMessage:"Image Information"},generalTab:{id:"ObliqueImageInformation.generalTab",description:"Header for general tab",defaultMessage:"General"},locationTab:{id:"ObliqueImageInformation.locationTab",description:"Header for location tab",defaultMessage:"Location"},precisionTab:{id:"ObliqueImageInformation.precisionTab",description:"Header for precision tab",defaultMessage:"Precision"},propertyColumn:{id:"ObliqueImageInformation.propertyColumn",description:"Property column header",defaultMessage:"Property"},valueColumn:{id:"ObliqueImageInformation.valueColumn",description:"Value column header",defaultMessage:"Value"},imageId:{id:"ObliqueImageInformation.imageId",description:"Image id",defaultMessage:"ID"},recordingType:{id:"ObliqueImageInformation.recordingType",description:"Recording type",defaultMessage:"Recording Type"},recordingDate:{id:"ObliqueImageInformation.recordingDate",description:"Recording date",defaultMessage:"Recording Date"},srs:{id:"ObliqueImageInformation.srs",description:"Coordinate system",defaultMessage:"Coordinate System"},heightSystem:{id:"ObliqueImageInformation.heightSystem",description:"Height system",defaultMessage:"Height System"},viewingDirection:{id:"ObliqueImageInformation.viewingDirection",description:"Viewing direction",defaultMessage:"Viewing direction"},x:{id:"ObliqueImageInformation.x",description:"X (in coordinate system)",defaultMessage:"X ({units})"},y:{id:"ObliqueImageInformation.y",description:"Y (in coordinate system)",defaultMessage:"Y ({units})"},height:{id:"ObliqueImageInformation.height",description:"Height or Z (in coordinate system)",defaultMessage:"Height ({units})"},heading:{id:"ObliqueImageInformation.heading",description:"Heading",defaultMessage:"Heading ({units})"},pitch:{id:"ObliqueImageInformation.pitch",description:"Pitch",defaultMessage:"Pitch ({units})"},roll:{id:"ObliqueImageInformation.roll",description:"Roll",defaultMessage:"Roll ({units})"},footprintX:{id:"ObliqueImageInformation.footprintX",description:"Footprint center X",defaultMessage:"Footprint center X ({units})"},footprintY:{id:"ObliqueImageInformation.footprintY",description:"Footprint center Y",defaultMessage:"Footprint center Y ({units})"},xPrecision:{id:"ObliqueImageInformation.xPrecision",description:"X Precision",defaultMessage:"X Precision ({units})"},yPrecision:{id:"ObliqueImageInformation.yPrecision",description:"Y Precision",defaultMessage:"Y Precision ({units})"},heightPrecision:{id:"ObliqueImageInformation.heightPrecision",description:"Height (Z) precision",defaultMessage:"Height Precision ({units})"},groundPrecisionX:{id:"ObliqueImageInformation.groundPrecisionX",description:"Ground precision X",defaultMessage:"Ground precision X ({units})"},groundPrecisionY:{id:"ObliqueImageInformation.groundPrecisionY",description:"Ground precision Y",defaultMessage:"Ground precision Y ({units})"},groundPrecisionZ:{id:"ObliqueImageInformation.groundPrecisionZ",description:"Ground precision Z",defaultMessage:"Ground precision Z ({units})"},headingPrecision:{id:"ObliqueImageInformation.headingPrecision",description:"Heading precision",defaultMessage:"Heading Precision ({units})"},pitchPrecision:{id:"ObliqueImageInformation.pitchPrecision",description:"Pitch precision",defaultMessage:"Pitch Precision ({units})"},rollPrecision:{id:"ObliqueImageInformation.rollPrecision",description:"Roll precision",defaultMessage:"Roll Precision ({units})"}}),D=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=i(this,(t=e.__proto__||f()(e)).call.apply(t,[this].concat(o)));return s.state={activeTab:1},s}return o(e,t),N(e,[{key:"render",value:function(){var t=this,e=this.context.intl.formatMessage,n=this.props.recording,r=void 0,i=void 0;return n&&(r=P.i.getPrecision(n.srs),i=P.i.getUnitsForSrs(n.srs)),E.a.createElement(M.Panel,{className:"cmtImageInformationPanel cmtNavBarPanel",header:e(k.panelHeader)},E.a.createElement(M.Tab.Container,{id:1,position:"left",defaultActiveKey:1,activeKey:this.state.activeTab,onSelect:function(e){t.setState({activeTab:e})}},E.a.createElement(M.Row,{className:"clearfix fix-bootstrap-row"},E.a.createElement(M.Col,{xs:3,className:"fix-bootstrap-col"},E.a.createElement(M.Nav,{bsStyle:"pills",stacked:!0},E.a.createElement(M.NavItem,{eventKey:1},e(k.generalTab)),E.a.createElement(M.NavItem,{eventKey:2},e(k.locationTab)),E.a.createElement(M.NavItem,{eventKey:3},e(k.precisionTab)),!1)),E.a.createElement(M.Col,{xs:9,className:"fix-bootstrap-col"},E.a.createElement(M.Tab.Content,null,E.a.createElement(M.Tab.Pane,{eventKey:1},this.renderGeneralInfo(n)),E.a.createElement(M.Tab.Pane,{eventKey:2},this.renderLocationInfo(n,r,i)),E.a.createElement(M.Tab.Pane,{eventKey:3},this.renderPrecisionInfo(n,i)),!1)))))}},{key:"renderGeneralInfo",value:function(t){if(!t)return null;var e=this.context.intl.formatMessage;return E.a.createElement(M.Table,{striped:!0,bordered:!0,condensed:!0},E.a.createElement("thead",null,E.a.createElement("tr",null,E.a.createElement("th",null,e(k.propertyColumn)),E.a.createElement("th",null,e(k.valueColumn)))),E.a.createElement("tbody",null,E.a.createElement("tr",null,E.a.createElement("td",null,e(k.imageId)),E.a.createElement("td",null,t.imageId)),E.a.createElement("tr",null,E.a.createElement("td",null,e(k.recordingType)),E.a.createElement("td",null,t.productType)),E.a.createElement("tr",null,E.a.createElement("td",null,e(k.recordingDate)),E.a.createElement("td",null,E.a.createElement(O.a,{value:t.recordedAt,showTime:!0}))),E.a.createElement("tr",null,E.a.createElement("td",null,e(k.viewingDirection)),E.a.createElement("td",null,t.viewDirection))))}},{key:"renderLocationInfo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.xyUnits,i=n.heightUnits;if(!t)return null;var o=this.context.intl.formatMessage,a=P.i.METRIC_PRECISION,s=P.i.DEGREE_PRECISION,l=P.i.Units,u=P.i.formatSrsName,c=o(I.a[r]),f=o(I.a[i]),h=o(I.a[l.DEGREES]),d=t.footprintCentre.getCoordinates(),p=t.srs;return E.a.createElement(M.Table,{striped:!0,bordered:!0,condensed:!0},E.a.createElement("thead",null,E.a.createElement("tr",null,E.a.createElement("th",null,o(k.propertyColumn)),E.a.createElement("th",null,o(k.valueColumn)))),E.a.createElement("tbody",null,E.a.createElement("tr",null,E.a.createElement("td",null,o(k.x,{units:c})),E.a.createElement("td",null,E.a.createElement(S.FormattedNumber,{value:t.camX,minimumFractionDigits:e,maximumFractionDigits:e,useGrouping:!1}))),E.a.createElement("tr",null,E.a.createElement("td",null,o(k.y,{units:c})),E.a.createElement("td",null,E.a.createElement(S.FormattedNumber,{value:t.camY,minimumFractionDigits:e,maximumFractionDigits:e,useGrouping:!1}))),E.a.createElement("tr",null,E.a.createElement("td",null,o(k.height,{units:f})),E.a.createElement("td",null,E.a.createElement(S.FormattedNumber,{value:t.camZ,minimumFractionDigits:a,maximumFractionDigits:a,useGrouping:!1}))),E.a.createElement("tr",null,E.a.createElement("td",null,o(k.heading,{units:h})),E.a.createElement("td",null,E.a.createElement(S.FormattedNumber,{value:Object(R.f)(Object(R.d)(t.heading),-180,180),minimumFractionDigits:s,maximumFractionDigits:s}))),E.a.createElement("tr",null,E.a.createElement("td",null,o(k.pitch,{units:h})),E.a.createElement("td",null,E.a.createElement(S.FormattedNumber,{value:Object(R.f)(Object(R.d)(t.pitch),-180,180),minimumFractionDigits:s,maximumFractionDigits:s}))),E.a.createElement("tr",null,E.a.createElement("td",null,o(k.roll,{units:h})),E.a.createElement("td",null,E.a.createElement(S.FormattedNumber,{value:Object(R.f)(Object(R.d)(t.roll),-180,180),minimumFractionDigits:s,maximumFractionDigits:s}))),E.a.createElement("tr",null,E.a.createElement("td",null,o(k.footprintX,{units:c})),E.a.createElement("td",null,E.a.createElement(S.FormattedNumber,{value:d[0],minimumFractionDigits:e,maximumFractionDigits:e,useGrouping:!1}))),E.a.createElement("tr",null,E.a.createElement("td",null,o(k.footprintY,{units:c})),E.a.createElement("td",null,E.a.createElement(S.FormattedNumber,{value:d[1],minimumFractionDigits:e,maximumFractionDigits:e,useGrouping:!1}))),E.a.createElement("tr",null,E.a.createElement("td",null,o(k.srs)),E.a.createElement("td",null,u(this.props.srs.srs.find(function(t){return t.SRSName===p}))))))}},{key:"renderFormattedNumber",value:function(t,e){var n=this.context.intl.formatMessage;return"number"!=typeof t||u()(t)?n(A.a.na):E.a.createElement(S.FormattedNumber,{value:t,minimumFractionDigits:e,maximumFractionDigits:e})}},{key:"renderPrecisionInfo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.precisionUnits;if(!t)return null;var r=this.context.intl.formatMessage,i=P.i.METRIC_PRECISION,o=P.i.DEGREE_PRECISION,a=P.i.Units,s=r(I.a[n]),l=r(I.a[a.DEGREES]);return E.a.createElement(M.Table,{striped:!0,bordered:!0,condensed:!0},E.a.createElement("thead",null,E.a.createElement("tr",null,E.a.createElement("th",null,r(k.propertyColumn)),E.a.createElement("th",null,r(k.valueColumn)))),E.a.createElement("tbody",null,E.a.createElement("tr",null,E.a.createElement("td",null,r(k.xPrecision,{units:s})),E.a.createElement("td",null,this.renderFormattedNumber(t.latitudePrecision,i))),E.a.createElement("tr",null,E.a.createElement("td",null,r(k.yPrecision,{units:s})),E.a.createElement("td",null,this.renderFormattedNumber(t.longitudePrecision,i))),E.a.createElement("tr",null,E.a.createElement("td",null,r(k.heightPrecision,{units:s})),E.a.createElement("td",null,this.renderFormattedNumber(t.heightPrecision,i))),E.a.createElement("tr",null,E.a.createElement("td",null,r(k.groundPrecisionX,{units:s})),E.a.createElement("td",null,this.renderFormattedNumber(t.groundPrecisionX,i))),E.a.createElement("tr",null,E.a.createElement("td",null,r(k.groundPrecisionY,{units:s})),E.a.createElement("td",null,this.renderFormattedNumber(t.groundPrecisionY,i))),E.a.createElement("tr",null,E.a.createElement("td",null,r(k.groundPrecisionZ,{units:s})),E.a.createElement("td",null,this.renderFormattedNumber(t.groundPrecisionZ,i))),E.a.createElement("tr",null,E.a.createElement("td",null,r(k.headingPrecision,{units:l})),E.a.createElement("td",null,this.renderFormattedNumber(t.headingPrecision,o))),E.a.createElement("tr",null,E.a.createElement("td",null,r(k.pitchPrecision,{units:l})),E.a.createElement("td",null,this.renderFormattedNumber(t.pitchPrecision,o))),E.a.createElement("tr",null,E.a.createElement("td",null,r(k.rollPrecision,{units:l})),E.a.createElement("td",null,this.renderFormattedNumber(t.rollPrecision,o)))))}},{key:"renderRawInfo",value:function(t){var e=this.context.intl.formatMessage;return E.a.createElement(M.Table,{striped:!0,bordered:!0,condensed:!0},E.a.createElement("thead",null,E.a.createElement("tr",null,E.a.createElement("th",null,e(k.propertyColumn)),E.a.createElement("th",null,e(k.valueColumn)))),E.a.createElement("tbody",null,s()(t).map(function(t,e){var n=L(t,2),r=n[0],i=n[1];return E.a.createElement("tr",{key:e},E.a.createElement("td",null,r),E.a.createElement("td",null,""+i))})))}}]),e}(C.a),F=function(t){return{srs:t.srs}};e.a=Object(T.connect)(F)(D)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=u()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(s.a?s()(t,e):t.__proto__=e)}var a=n(6),s=n.n(a),l=n(5),u=n.n(l),c=n(7),f=n.n(c),h=n(51),d=n.n(h),p=n(1),m=n.n(p),g=n(4),v=n.n(g),y=n(0),b=n.n(y),_=n(36),w=(n.n(_),n(28)),x=(n.n(w),n(280)),E=n(279),M=n(123),S=v.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),m()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),C=function t(e,n,r){null===e&&(e=Function.prototype);var i=d()(e,n);if(void 0===i){var o=f()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},O=function(t){function e(){return r(this,e),i(this,(e.__proto__||f()(e)).apply(this,arguments))}return o(e,t),T(e,[{key:"componentDidMount",value:function(){this._loadRecordings(this.props.recording)}},{key:"componentWillReceiveProps",value:function(t){var e=t.recording;e!==this.props.recording&&this._loadRecordings(e)}},{key:"timeChange",value:function(t){this.props.actions.updateTime(t)}},{key:"_loadRecordings",value:function(t){this.props.actions.updateByRecording(t)}},{key:"onSelection",value:function(){C(e.prototype.__proto__||f()(e.prototype),"onSelection",this).call(this);var t=this.props,n=t.time,r=t.timesValues,i=t.recording.imageId,o=r[n];o&&o.imageId!==i&&this.props.actions.updateObliqueRecording(o)}},{key:"renderImage",value:function(){var t=this.props.thumbnailStyle,e=t.imageStyle,n=t.rotateDivStyle;return b.a.createElement("div",{style:n,className:"oblique"},b.a.createElement("img",{alt:"",src:this.props.thumbnailUrl,style:e}))}}]),e}(x.b),A=function(t,e){var n=t.obliqueviewer.byId[e.id].recording;return S({},Object(x.d)(t,e),{recording:n})},I=function(t,e){var n=E.b.updateByRecording,r=E.b.updateTime,i=M.default.updateObliqueRecording,o=function(t){return t.bind(null,e.id)};return{actions:S({},Object(x.c)(t,e).actions,Object(_.bindActionCreators)({updateByRecording:o(n),updateObliqueRecording:o(i),updateTime:o(r)},t))}};e.a=Object(w.connect)(A,I,null,{withRef:!0})(O)},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new g.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return g.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=p()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(h.a?h()(t,e):t.__proto__=e)}var s=n(21),l=n.n(s),u=n(7),c=n.n(u),f=n(6),h=n.n(f),d=n(5),p=n.n(d),m=n(19),g=n.n(m),v=n(1),y=n.n(v),b=n(4),_=n.n(b),w=n(0),x=n.n(w),E=n(3),M=n.n(E),S=n(52),T=n.n(S),C=n(36),O=(n.n(C),n(28)),A=(n.n(O),n(24)),I=(n.n(A),n(12)),R=n.n(I),P=n(15),L=(n.n(P),n(34)),N=n.n(L),k=n(201),D=n(389),F=n(277),j=n(53),U=n(48),z=n(81),B=n(62),V=n(79),G=n(625),H=n(626),q=n(1453),W=n(275),Y=n(91),X=_.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),y()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),K=Object(P.defineMessages)({locations:{id:"Dashboard.locations",defaultMessage:"Locations"},locationsEmpty:{id:"Dashboard.locationsEmpty",defaultMessage:"No recent locations available."},measurementsEmpty:{id:"Dashboard.measurementsEmpty",defaultMessage:"No measurements available."},locationsNumber:{id:"Dashboard.locationsNumber",defaultMessage:"#"},locationsDescription:{id:"Dashboard.locationsDescription",defaultMessage:"Description"},locationsAction:{id:"Dashboard.locationsAction",defaultMessage:"Action"},measurements:{id:"Dashboard.measurements",defaultMessage:"Measurements"},annotations:{id:"Dashboard.annotations",defaultMessage:"Annotations"},confirmDeleteTitle:{id:"Dashboard.confirmDeleteTitle",defaultMessage:"Are you sure?"},confirmDeleteMessage:{id:"Dashboard.confirmDeleteMessage",defaultMessage:"Are you sure you want to remove \n {name} ?"}}),Q=function(t){function e(){var t,n,a,s,u=this;i(this,e);for(var f=arguments.length,h=Array(f),d=0;d<f;d++)h[d]=arguments[d];return n=a=o(this,(t=e.__proto__||c()(e)).call.apply(t,[this].concat(h))),a.state={showUnsavedDialog:!1,measurementListShow:!1},a.onToggleMeasureMethod=function(t){var e=a.props,n=e.depthMapAvailable,r=e.actions,i=a.props.activeMeasurement.properties.observationLines,o=i.activeObservation,s=i.recordingId,l=i.color;n?r.setCubeProgram(k.a.PLAIN_DEPTH):r.setCubeProgram(k.a.PLAIN_COLOR),r.setMeasureMethod(t),r.updateMeasurementObservationLines({activeObservation:o,recordingId:s,color:l,selectedMeasureMethod:t}),N.a.info("switching measure method to "+t)},a.onToggleDepthMap=function(t){var e=t?k.a.HV_MAP:k.a.SURFACE_CURSOR;a.props.actions.setCubeProgram(e),N.a.info("switching cube shader program to "+e)},a.onHideMeasurementList=function(){a.setState({measurementListShow:!1})},a.onToggleMeasurementList=function(){a.setState(function(t){return{measurementListShow:!t.measurementListShow}})},a.onAcceptUnsavedMeasurements=function(){a.props.actions.setMeasurementChanged(!1),a.setState({showUnsavedDialog:!1}),a.disableMeasurementMode()},a.onCancelUnsavedMeasurements=function(){a.setState({showUnsavedDialog:!1})},a.measurementSaveCheck=function(){var t=a.props.measurementChanged;return!a.props.isApi&&t?(a.props.actions.setMeasurementChanged(!0),a.setState({showUnsavedDialog:!0}),t):(a.props.actions.disableMeasurementMode(),!0)},a.disableMeasurementMode=function(){a.props.actions.disableMeasurementMode()},a.handleClickOutside=function(t){T.a.findDOMNode(a).contains(t.target)||a.onHideMeasurementList()},a.locateMeasurement=function(){var t=r(l.a.mark(function t(e){var n,r,i,o,s,c,f,h,d,p,m,g,v,y;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.props.actions,2!==(r=e.type)){t.next=16;break}return n.setMeasurementDimension(r),t.next=6,n.readMeasurementById(e.id);case 6:i=a.props.activeMeasurement,n.addMeasurement(i.geometry.type,i),n.enableMeasurementMode(),o=i.geometry.type,s=i.properties.preciseGeometry.coordinates,c=i.properties.customGeometryType,f=i.properties.preciseCRS,"Point"===o?n.openViewerByCoordinate(s,f):"LineString"===o||"Circle"===c?n.openViewerByCoordinate(s[0],f):"Polygon"===o&&n.openViewerByCoordinate(s[0][0],f),t.next=21;break;case 16:return h=a.props.viewerID,t.next=19,n.readMeasurementById(e.id);case 19:d=a.props.activeMeasurement,d.lastPosition?(p=d.lastPosition.recordingId,m=X({replace:!0},d.lastPosition.orientation),n.openPanoramaViewerByImageId(p,m).then(function(){n.addMeasurement(d.geometry.type,d),n.updatePanoramaOrientation(h,m)})):(g=d.geometry.type,v=d.properties.preciseGeometry.coordinates,y=void 0,"Point"===g?y=v:"LineString"===g||"Circle"===g?y=v[0]:"Polygon"===g&&(y=v[0][0]),n.openViewer(y[0]+" "+y[1],{srs:d.properties.preciseCRS,viewerType:j.ViewerType.PANORAMA}).then(function(){n.addMeasurement(d.geometry.type,d)}));case 21:case"end":return t.stop()}},t,u)}));return function(e){return t.apply(this,arguments)}}(),a.showDialog=function(t){a.setState({showDialog:!0,locationItemToDelete:t})},a.onMeasurementTypeSelect=function(t){var e=a.props.actions,n=e.addMeasurement,r=e.enableMeasurementMode;n(t),r()},a._confirmDelete=function(t){var e=a.props.actions,n=a.state.locationItemToDelete;t===H.a.OK&&e.removeMeasurement(n.id),a.setState({showDialog:!1,locationItemToDelete:void 0})},a.newMeasurement=function(){var t=a.props.actions,e=t.addMeasurement,n=t.enableMeasurementMode;e(a.props.currentMeasurementType),n()},a.renderMenuItem=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return x.a.createElement(A.MenuItem,{onClick:r},x.a.createElement(B.c,{glyph:e}),x.a.createElement(P.FormattedMessage,n))},s=n,o(a,s)}return a(e,t),Z(e,[{key:"componentWillMount",value:function(){document.addEventListener("click",this.handleClickOutside,!1),this.props.actions.runTour()}},{key:"componentWillReceiveProps",value:function(t){t.smartClickMethod||t.forwardIntersectionMethod?this.props.actions.setCubeProgram(k.a.PLAIN_COLOR):t.isDepthCubeProgram&&t.measureSmartMethod||this.props.actions.setCubeProgram(k.a.SURFACE_CURSOR)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside,!1),this.props.actions.stopTour()}},{key:"render",value:function(){var t=this,e=this.context.intl.formatMessage,n=this.props,r=n.hasMeasureSmartFunctionality,i=n.hasSmartClickFunctionality,o=n.dimension,a=n.depthMapAvailable,s=n.measureSmartMethod,l=n.smartClickMethod,u=n.forwardIntersectionMethod,c=n.isDepthCubeProgram,f=this.state,h=f.locationItemToDelete,d=f.showDialog,p=d&&("all"===h?h:h.name),m=R()("measurement-list",{"measurement-list--show":this.state.measurementListShow}),g={Point:W.a.point,LineString:W.a.line,Polygon:W.a.polygon,Circle:W.a.circle,Orthogonal:W.a.orthogonal,Height:W.a.height},v={Point:x.a.createElement(B.c,{glyph:B.a.MeasurePoint}),LineString:x.a.createElement(B.c,{glyph:B.a.MeasureLine}),Polygon:x.a.createElement(B.c,{glyph:B.a.MeasurePolygon}),Circle:x.a.createElement(B.c,{glyph:B.a.MeasureCircle}),Orthogonal:x.a.createElement(B.c,{glyph:B.a.MeasureOrthogonal}),Height:x.a.createElement(B.c,{glyph:B.a.MeasureHeight})},y=this.props.measurementList,b=y.filter(function(t){return t.type===o}),_=b.map(function(e){return x.a.createElement("div",{key:e.id,className:"measurement-list__item"},x.a.createElement("div",{className:"measurement-list__item__container"},x.a.createElement("div",{className:"measurement-list__item__title"},e.name?e.name:e.id,x.a.createElement("p",{className:"measurement-list__item__date"},e.time)),x.a.createElement("div",{className:"measurement-list__item__actions"},x.a.createElement(B.b.Locate,{onClick:function(){return t.locateMeasurement(e)}}),x.a.createElement(B.b.Delete,{onClick:function(){return t.showDialog(e)}}))))}),w=this.props,E=w.activeMeasurement.properties.customGeometryType;E||(E=w.currentMeasurementType);var M=e(g[E]),S=v[E];return x.a.createElement(A.Navbar,{fluid:!0,className:"cmt-navbar measurement-navbar"},this.state.showUnsavedDialog&&x.a.createElement(q.a,{onAccept:this.onAcceptUnsavedMeasurements,onCancel:this.onCancelUnsavedMeasurements}),d&&x.a.createElement(H.a,{ok:!0,cancel:!0,callback:this._confirmDelete,title:e(K.confirmDeleteTitle),message:e(K.confirmDeleteMessage,{name:p})}),x.a.createElement(A.Navbar.Header,null,x.a.createElement(A.Navbar.Brand,null,e(W.a.navbarTitle))),x.a.createElement(A.Nav,{pullRight:!0},x.a.createElement(A.ButtonGroup,{className:"nav navbar-nav"},x.a.createElement(V.a,X({placement:"bottom"},Y.a.newMeasurement),x.a.createElement(A.Dropdown,{className:"measurement-dropdown"},x.a.createElement(A.Button,{onClick:this.newMeasurement},S,M),x.a.createElement(A.Dropdown.Toggle,null),x.a.createElement(A.Dropdown.Menu,{onSelect:this.onMeasurementTypeSelect},x.a.createElement(A.MenuItem,{eventKey:"Point"},x.a.createElement(B.c,{glyph:B.a.MeasurePoint}),x.a.createElement(P.FormattedMessage,W.a.point)),x.a.createElement(A.MenuItem,{eventKey:"LineString"},x.a.createElement(B.c,{glyph:B.a.MeasureLine}),x.a.createElement(P.FormattedMessage,W.a.line)),x.a.createElement(A.MenuItem,{eventKey:"Polygon"},x.a.createElement(B.c,{glyph:B.a.MeasurePolygon}),x.a.createElement(P.FormattedMessage,W.a.polygon)),2===this.props.dimension&&x.a.createElement(A.MenuItem,{eventKey:"Circle"},x.a.createElement(B.c,{glyph:B.a.MeasureCircle}),x.a.createElement(P.FormattedMessage,W.a.circle)),3===this.props.dimension&&x.a.createElement(A.MenuItem,{eventKey:"Orthogonal"},x.a.createElement(B.c,{glyph:B.a.MeasureOrthogonal}),x.a.createElement(P.FormattedMessage,W.a.orthogonal)),3===this.props.dimension&&x.a.createElement(A.MenuItem,{eventKey:"Height"},x.a.createElement(B.c,{glyph:B.a.MeasureHeight}),x.a.createElement(P.FormattedMessage,W.a.height))))),!this.props.isApi&&x.a.createElement(V.a,X({placement:"bottom"},W.a.showMeasurementList),x.a.createElement(A.Button,{onClick:this.onToggleMeasurementList},x.a.createElement(B.b.Load,null))),x.a.createElement(V.a,X({placement:"bottom"},W.a.stopMeasurement),x.a.createElement(A.Button,{onClick:this.measurementSaveCheck},x.a.createElement(B.b.Close,null))))),(r||i)&&3===o&&x.a.createElement(A.Nav,{pullRight:!0},x.a.createElement(A.ButtonGroup,{className:"nav navbar-nav measure-method"},x.a.createElement(V.a,X({placement:"bottom"},Y.a.toggleMeasureMethodDepthMap),x.a.createElement(A.Button,{onClick:function(){return t.onToggleMeasureMethod(U.MeasureMethod.DEPTH_MAP)},disabled:!(r&&a),active:s},x.a.createElement(B.b.DepthMapSmall,null))),x.a.createElement(V.a,X({placement:"bottom"},Y.a.toggleMeasureMethodSmartClick),x.a.createElement(A.Button,{onClick:function(){return t.onToggleMeasureMethod(U.MeasureMethod.SMART_CLICK)},disabled:!i,active:l},x.a.createElement(B.b.SmartClickSmall,null))),x.a.createElement(V.a,X({placement:"bottom"},Y.a.toggleMeasureMethodManual),x.a.createElement(A.Button,{onClick:function(){return t.onToggleMeasureMethod(U.MeasureMethod.FORWARD_INTERSECTION)},className:"_tour-step-0",disabled:!i,active:u},x.a.createElement(B.b.ManualMeasurementSmall,null)))),x.a.createElement(A.ButtonGroup,{className:"nav navbar-nav"},x.a.createElement(G.a,{labelOn:x.a.createElement(V.a,X({placement:"bottom"},Y.a.toggleDepthMapWithDepth),x.a.createElement(B.b.WithDepth,null)),labelOff:x.a.createElement(V.a,X({placement:"bottom"},Y.a.toggleDepthMapWithoutDepth),x.a.createElement(B.b.WithoutDepth,null)),onToggleButton:this.onToggleDepthMap,value:c&&s,disabled:!a||!s}))),x.a.createElement("div",{className:m},x.a.createElement("div",{className:"panel-heading"},x.a.createElement("div",{className:"measurement-floating-panel-header panel-title"},x.a.createElement("span",null,x.a.createElement(P.FormattedMessage,W.a.measurementList)),x.a.createElement("button",{className:"measurement-floating-panel-controls",onClick:this.onHideMeasurementList},x.a.createElement("span",{className:"glyphicon novaicon-close"})))),x.a.createElement("div",{className:"measurement-list__items"},_)))}}]),e}(x.a.PureComponent);Q.contextTypes={intl:M.a.object.isRequired};var J=function(t){var e=t.config,n=t.measurements,r=t.panoramaviewer,i=t.viewermanager;return{config:e.config,viewerID:i.currentPanoramaWID,measureSmartMethod:n.measureMethod===U.MeasureMethod.DEPTH_MAP,smartClickMethod:n.measureMethod===U.MeasureMethod.SMART_CLICK,forwardIntersectionMethod:n.measureMethod===U.MeasureMethod.FORWARD_INTERSECTION,depthMapAvailable:n.recording&&n.recording.hasDepthMap,hasMeasureSmartFunctionality:n.allowedMeasureMethods&&n.allowedMeasureMethods.includes(U.MeasureMethod.DEPTH_MAP),hasSmartClickFunctionality:n.allowedMeasureMethods&&n.allowedMeasureMethods.includes(U.MeasureMethod.SMART_CLICK),isDepthCubeProgram:r.byId[i.currentPanoramaWID]&&r.byId[i.currentPanoramaWID].cubeProgram===k.a.HV_MAP,dimension:n.dimension,measurementList:n.measurementList,activeMeasurement:n.activeMeasurement,measurementChanged:n.measurementChanged,currentMeasurementType:n.geometryType,isApi:e.isApi}},$=function(t){return{actions:Object(C.bindActionCreators)(X({},j.default,U.default,z.default,F.c,D.default),t)}},tt=function(t,e){var n=function(e){return e.bind(null,t.viewerID)};return X({},t,{actions:X({},e.actions,{setCubeProgram:n(e.actions.setCubeProgram),toggleUiState:n(e.actions.toggleUiState)})})};e.a=Object(P.injectIntl)(Object(O.connect)(J,$,tt)(Q))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(3),m=n.n(p),g=n(0),v=n.n(g),y=n(15),b=(n.n(y),n(31)),_=n(626),w=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),x=Object(y.defineMessages)({headerRoute:{id:"UnsavedMeasurementsModal.headerRoute",defaultMessage:"You are navigating from the page."},header:{id:"UnsavedMeasurementsModal.header",defaultMessage:"You are leaving measurement mode."},bodyRoute:{id:"UnsavedMeasurementsModal.bodyRoute",defaultMessage:"If you leave this page, all your current measurements will be lost. Are you sure you want to?"},body:{id:"UnsavedMeasurementsModal.body",defaultMessage:"If you leave without saving, all your current measurements will be lost. Are you sure you want to?"}}),E=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var l=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return l.modalCallback=l.modalCallback.bind(l),l}return o(e,t),w(e,[{key:"modalCallback",value:function(t){var e=this.props,n=e.onAccept,r=e.onCancel;switch(t){case _.a.YES:n&&n();break;case _.a.NO:r&&r()}}},{key:"render",value:function(){var t=this.context.intl.formatMessage;return v.a.createElement(_.a,{title:t(this.props.routeAction?x.headerRoute:x.header),message:t(this.props.routeAction?x.bodyRoute:x.body),callback:this.modalCallback,yes:!0,no:!0})}}]),e}(b.a);E.propTypes={onAccept:m.a.func,onCancel:m.a.func,routeAction:m.a.bool},e.a=E},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(3),m=n.n(p),g=n(0),v=n.n(g),y=n(28),b=(n.n(y),n(15)),_=(n.n(b),n(31)),w=n(89),x=n(1455),E=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),M=Object(b.defineMessages)({defaultSubject:{id:"ReportBlurring.subject",description:"Subject line to use to report blurring",defaultMessage:"Report a blurring issue - Image: {imageId}"}}),S=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var l=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return l.onReportBlurringLoaded=l.onReportBlurringLoaded.bind(l),l.state={reportBlurringLoaded:!1},l}return o(e,t),E(e,[{key:"onReportBlurringLoaded",value:function(){this.setState({reportBlurringLoaded:!0})}},{key:"render",value:function(){var t=this.context.intl,e=t.locale,n=t.formatMessage,r=this.props,i=r.reportblurring,o=r.config.userInfo,a=i.reportBlurringInfo,s={username:o.username,name:o.userFullName,subject:n(M.defaultSubject,{imageId:a.imageId}),organization:o.customerName,customerid:o.crmAccountID,imageid:a.imageId,imageparams:a.imageParams,shortlang:x.a[e],type:"",message:"",email:""},l="https://www.cyclomedia.com/"+s.shortlang+"/blurring/?naam="+s.name+"&gebruikersnaam="+s.username+"&onderwerp="+s.subject+"&organisatie="+s.organization+"&klantnummer="+s.customerid+"&imageid="+s.imageid+"&imageparams="+s.imageparams+"&email="+s.username;return v.a.createElement("div",null,!this.state.reportBlurringLoaded&&v.a.createElement("img",{className:"loadImg",src:Object(w.a)("./assets/img/loading.gif"),alt:""}),v.a.createElement("iframe",{src:l,onLoad:this.onReportBlurringLoaded}))}}]),e}(_.a);S.propTypes={show:m.a.bool},S.defaultProps={show:!0};var T=function(t){return{config:t.config,reportblurring:t.reportblurring}};e.a=Object(y.connect)(T)(S)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={de:"de","en-GB":"en","en-US":"us",fi:"en",fr:"en",nl:"nl","pt-BR":"en",tr:"en"}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}n.d(e,"a",function(){return w});var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(0),m=n.n(p),g=n(28),v=(n.n(g),n(24)),y=(n.n(v),n(31)),b=n(89),_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),w={de:"de","en-GB":"","en-US":"us",fi:"",fr:"fr",nl:"nl","pt-BR":"",tr:""},x=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var l=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return l.onLoad=l.onLoad.bind(l),l}return o(e,t),_(e,[{key:"onLoad",value:function(){this.loadImg.style.display="none"}},{key:"render",value:function(){var t=this,e=this.context.intl.locale,n=w[e],r=this.props.config.config.application.helpUrl;return""!==n&&(r=r+"/"+n),m.a.createElement(v.Panel,{className:"panel-dashboard panel-help flexItem"},m.a.createElement("img",{ref:function(e){t.loadImg=e},className:"loadImg",src:Object(b.a)("./assets/img/loading.gif"),alt:""}),m.a.createElement("iframe",{src:r,onLoad:this.onLoad}))}}]),e}(y.a),E=function(t){return{config:t.config}};Object(g.connect)(E)(x)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var a=n(7),s=n.n(a),l=n(6),u=n.n(l),c=n(5),f=n.n(c),h=n(1),d=n.n(h),p=n(4),m=n.n(p),g=n(0),v=n.n(g),y=n(3),b=n.n(y),_=n(24),w=(n.n(_),n(15)),x=(n.n(w),n(36)),E=(n.n(x),n(28)),M=(n.n(E),n(48)),S=n(53),T=n(62),C=n(627),O=n(149),A=n(92),I=n(275),R=m.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),L=Object(w.defineMessages)({title:{id:"MeasurementTypeSelectorModal.title",defaultMessage:"Measurement method"}}),N=function(t){function e(){var t,n,o,a;r(this,e);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=o=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(u))),o.startMeasurement=function(t){var e=o.props.actions,n=e.addMeasurement,r=e.enableMeasurementMode;n(t.currentTarget.name),r(),o.hide()},o.cancel=function(){o.hide(),o.props.viewermanager.viewerMode!==S.ViewerMode.MEASUREMENT&&o.props.actions.setMeasurementDimension(null)},a=n,i(o,a)}return o(e,t),P(e,[{key:"hide",value:function(){this.props.actions.hideTypeSelectionModal()}},{key:"renderButton",value:function(t){var e=null,n=null;return t===A.b.POINT?(e=v.a.createElement(T.b.MeasurePoint,null),n=I.a.point):t===A.b.LINESTRING?(e=v.a.createElement(T.b.MeasureLine,null),n=I.a.line):t===A.b.POLYGON?(e=v.a.createElement(T.b.MeasurePolygon,null),n=I.a.polygon):t===A.a.CIRCLE?(e=v.a.createElement(T.b.MeasureCircle,null),n=I.a.circle):t===A.a.ORTHOGONAL?(e=v.a.createElement(T.b.MeasureOrthogonal,null),n=I.a.orthogonal):t===A.a.HEIGHT&&(e=v.a.createElement(T.b.MeasureHeight,null),n=I.a.height),v.a.createElement("div",null,v.a.createElement(_.Button,{key:t,name:t,onClick:this.startMeasurement},e),v.a.createElement(w.FormattedMessage,n))}},{key:"render",value:function(){var t=this.props,e=t.functionalities,n=t.is2D,r={point:e.includes(O.a.MeasurePoint),line:e.includes(O.a.MeasureLine),polygon:e.includes(O.a.MeasurePolygon),circle:e.includes(O.a.MeasurePolygon)&&n,orthogonal:e.includes(O.a.MeasureLine)&&!n,height:e.includes(O.a.MeasureLine)&&!n};return v.a.createElement(C.a,{className:"measurement-select-modal",show:!0,onHide:this.cancel},v.a.createElement(C.a.Header,{closeButton:!0},v.a.createElement(C.a.Title,null,v.a.createElement(w.FormattedMessage,L.title))),v.a.createElement(C.a.Body,null,v.a.createElement("div",{className:"toolbar-row"},v.a.createElement(_.ButtonToolbar,null,r.point?this.renderButton(A.b.POINT):null,r.line?this.renderButton(A.b.LINESTRING):null,r.polygon?this.renderButton(A.b.POLYGON):null,r.circle?this.renderButton(A.a.CIRCLE):null,r.orthogonal?this.renderButton(A.a.ORTHOGONAL):null,r.height?this.renderButton(A.a.HEIGHT):null))))}}]),e}(v.a.PureComponent);N.contextTypes={intl:b.a.object.isRequired};var k=function(t){var e=t.config,n=t.viewermanager,r=t.measurements;return{functionalities:e.config.application.functionalities,viewermanager:n,is2D:2===r.dimension}},D=function(t){return{actions:Object(x.bindActionCreators)(R({},M.default,S.default),t)}};e.a=Object(w.injectIntl)(Object(E.connect)(k,D)(N))},function(t,e,n){var r=n(1459);"string"==typeof r&&(r=[[t.i,r,""]]);n(1465)(r,{hmr:!1});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(631)(void 0),e.push([t.i,"@import url(https://fonts.googleapis.com/css?family=Lato:400,700,400italic);",""]),e.i(n(1460),""),e.push([t.i,'.cmt{width:100%;height:100%;position:relative/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css *//*! Source: https://github.com/h5bp/html5-boilerplate/blob/master/src/css/main.css *//*! =======================================================\n                      VERSION  9.10.0              \n========================================================= *//*! =========================================================\n * bootstrap-slider.js\n *\n * Maintainers:\n *\t\tKyle Kemp\n *\t\t\t- Twitter: @seiyria\n *\t\t\t- Github:  seiyria\n *\t\tRohit Kalkur\n *\t\t\t- Twitter: @Rovolutionary\n *\t\t\t- Github:  rovolution\n *\n * =========================================================\n  *\n * bootstrap-slider is released under the MIT License\n * Copyright (c) 2017 Kyle Kemp, Rohit Kalkur, and contributors\n * \n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the "Software"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n * \n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n *\n * ========================================================= */}.cmt .ol-box{box-sizing:border-box;border-radius:2px;border:2px solid #00f}.cmt .ol-mouse-position{top:8px;right:8px;position:absolute}.cmt .ol-scale-line{background:rgba(0,60,136,.3);border-radius:4px;bottom:8px;left:8px;padding:2px;position:absolute}.cmt .ol-scale-line-inner{border:1px solid #eee;border-top:none;color:#eee;font-size:10px;text-align:center;margin:1px;will-change:contents,width}.cmt .ol-overlay-container{will-change:left,right,top,bottom}.cmt .ol-unsupported{display:none}.cmt .ol-unselectable,.cmt .ol-viewport{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.cmt .ol-selectable{-webkit-touch-callout:default;-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.cmt .ol-grabbing{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.cmt .ol-grab{cursor:move;cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.cmt .ol-control{position:absolute;background-color:hsla(0,0%,100%,.4);border-radius:4px;padding:2px}.cmt .ol-control:hover{background-color:hsla(0,0%,100%,.6)}.cmt .ol-zoom{top:.5em;left:.5em}.cmt .ol-rotate{top:.5em;right:.5em;transition:opacity .25s linear,visibility 0s linear}.cmt .ol-rotate.ol-hidden{opacity:0;visibility:hidden;transition:opacity .25s linear,visibility 0s linear .25s}.cmt .ol-zoom-extent{top:4.643em;left:.5em}.cmt .ol-full-screen{right:.5em;top:.5em}@media print{.cmt .ol-control{display:none}}.cmt .ol-control button{display:block;margin:1px;padding:0;color:#fff;font-size:1.14em;font-weight:700;text-decoration:none;text-align:center;height:1.375em;width:1.375em;line-height:.4em;background-color:rgba(0,60,136,.5);border:none;border-radius:2px}.cmt .ol-control button::-moz-focus-inner{border:none;padding:0}.cmt .ol-zoom-extent button{line-height:1.4em}.cmt .ol-compass{display:block;font-weight:400;font-size:1.2em;will-change:transform}.cmt .ol-touch .ol-control button{font-size:1.5em}.cmt .ol-touch .ol-zoom-extent{top:5.5em}.cmt .ol-control button:focus,.cmt .ol-control button:hover{text-decoration:none;background-color:rgba(0,60,136,.7)}.cmt .ol-zoom .ol-zoom-in{border-radius:2px 2px 0 0}.cmt .ol-zoom .ol-zoom-out{border-radius:0 0 2px 2px}.cmt .ol-attribution{text-align:right;bottom:.5em;right:.5em;max-width:98.7%}.cmt .ol-attribution ul{margin:0;padding:0 .5em;font-size:.7rem;line-height:1.375em;color:#000;text-shadow:0 0 2px #fff}.cmt .ol-attribution li{display:inline;list-style:none;line-height:inherit}.cmt .ol-attribution li:not(:last-child):after{content:" "}.cmt .ol-attribution img{max-height:2em;max-width:inherit;vertical-align:middle}.cmt .ol-attribution button,.cmt .ol-attribution ul{display:inline-block}.cmt .ol-attribution.ol-collapsed ul{display:none}.cmt .ol-attribution.ol-logo-only ul{display:block}.cmt .ol-attribution:not(.ol-collapsed){background:hsla(0,0%,100%,.8)}.cmt .ol-attribution.ol-uncollapsible{bottom:0;right:0;border-radius:4px 0 0;height:1.1em;line-height:1em}.cmt .ol-attribution.ol-logo-only{background:0 0;bottom:.4em;height:1.1em;line-height:1em}.cmt .ol-attribution.ol-uncollapsible img{margin-top:-.2em;max-height:1.6em}.cmt .ol-attribution.ol-logo-only button,.cmt .ol-attribution.ol-uncollapsible button{display:none}.cmt .ol-zoomslider{top:4.5em;left:.5em;height:200px}.cmt .ol-zoomslider button{position:relative;height:10px}.cmt .ol-touch .ol-zoomslider{top:5.5em}.cmt .ol-overviewmap{left:.5em;bottom:.5em}.cmt .ol-overviewmap.ol-uncollapsible{bottom:0;left:0;border-radius:0 4px 0 0}.cmt .ol-overviewmap .ol-overviewmap-map,.cmt .ol-overviewmap button{display:inline-block}.cmt .ol-overviewmap .ol-overviewmap-map{border:1px solid #7b98bc;height:150px;margin:2px;width:150px}.cmt .ol-overviewmap:not(.ol-collapsed) button{bottom:1px;left:2px;position:absolute}.cmt .ol-overviewmap.ol-collapsed .ol-overviewmap-map,.cmt .ol-overviewmap.ol-uncollapsible button{display:none}.cmt .ol-overviewmap:not(.ol-collapsed){background:hsla(0,0%,100%,.8)}.cmt .ol-overviewmap-box{border:2px dotted rgba(0,60,136,.7)}.cmt .ol-overviewmap .ol-overviewmap-box:hover{cursor:move}.cmt,.cmt html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}.cmt,.cmt body{margin:0}.cmt article,.cmt aside,.cmt details,.cmt figcaption,.cmt figure,.cmt footer,.cmt header,.cmt hgroup,.cmt main,.cmt menu,.cmt nav,.cmt section,.cmt summary{display:block}.cmt audio,.cmt canvas,.cmt progress,.cmt video{display:inline-block;vertical-align:baseline}.cmt audio:not([controls]){display:none;height:0}.cmt [hidden],.cmt template{display:none}.cmt a{background-color:transparent}.cmt a:active,.cmt a:hover{outline:0}.cmt abbr[title]{border-bottom:1px dotted}.cmt b,.cmt strong{font-weight:700}.cmt dfn{font-style:italic}.cmt h1{font-size:2em;margin:.67em 0}.cmt mark{background:#ff0;color:#000}.cmt small{font-size:80%}.cmt sub,.cmt sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.cmt sup{top:-.5em}.cmt sub{bottom:-.25em}.cmt img{border:0}.cmt svg:not(:root){overflow:hidden}.cmt figure{margin:1em 40px}.cmt hr{box-sizing:content-box;height:0}.cmt pre{overflow:auto}.cmt code,.cmt kbd,.cmt pre,.cmt samp{font-family:monospace,monospace;font-size:1em}.cmt button,.cmt input,.cmt optgroup,.cmt select,.cmt textarea{color:inherit;font:inherit;margin:0}.cmt button{overflow:visible}.cmt button,.cmt select{text-transform:none}.cmt button,.cmt html input[type=button],.cmt input[type=reset],.cmt input[type=submit]{-webkit-appearance:button;cursor:pointer}.cmt button[disabled],.cmt html input[disabled]{cursor:default}.cmt button::-moz-focus-inner,.cmt input::-moz-focus-inner{border:0;padding:0}.cmt input{line-height:normal}.cmt input[type=checkbox],.cmt input[type=radio]{box-sizing:border-box;padding:0}.cmt input[type=number]::-webkit-inner-spin-button,.cmt input[type=number]::-webkit-outer-spin-button{height:auto}.cmt input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}.cmt input[type=search]::-webkit-search-cancel-button,.cmt input[type=search]::-webkit-search-decoration{-webkit-appearance:none}.cmt fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}.cmt textarea{overflow:auto}.cmt optgroup{font-weight:700}.cmt table{border-collapse:collapse;border-spacing:0}.cmt td,.cmt th{padding:0}@media print{.cmt *,.cmt :after,.cmt :before{background:transparent!important;color:#000!important;box-shadow:none!important;text-shadow:none!important}.cmt a,.cmt a:visited{text-decoration:underline}.cmt a[href]:after{content:" (" attr(href) ")"}.cmt abbr[title]:after{content:" (" attr(title) ")"}.cmt a[href^="#"]:after,.cmt a[href^="javascript:"]:after{content:""}.cmt blockquote,.cmt pre{border:1px solid #999;page-break-inside:avoid}.cmt thead{display:table-header-group}.cmt img,.cmt tr{page-break-inside:avoid}.cmt img{max-width:100%!important}.cmt h2,.cmt h3,.cmt p{orphans:3;widows:3}.cmt h2,.cmt h3{page-break-after:avoid}.cmt .navbar{display:none}.cmt .btn>.caret,.cmt .dropup>.btn>.caret{border-top-color:#000!important}.cmt .label{border:1px solid #000}.cmt .table{border-collapse:collapse!important}.cmt .table td,.cmt .table th{background-color:#fff!important}.cmt .table-bordered td,.cmt .table-bordered th{border:1px solid #ddd!important}}.cmt *,.cmt :after,.cmt :before{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.cmt,.cmt html{font-size:10px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.cmt,.cmt body{font-family:Lato,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:15px;line-height:1.42857143;color:#2c3e50;background-color:#fff}.cmt button,.cmt input,.cmt select,.cmt textarea{font-family:inherit;font-size:inherit;line-height:inherit}.cmt a{color:#18bc9c;text-decoration:none}.cmt a:focus,.cmt a:hover{color:#18bc9c;text-decoration:underline}.cmt a:focus{outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.cmt figure{margin:0}.cmt img{vertical-align:middle}.cmt .img-responsive{display:block;max-width:100%;height:auto}.cmt .img-rounded{border-radius:6px}.cmt .img-thumbnail{padding:4px;line-height:1.42857143;background-color:#fff;border:1px solid #ecf0f1;border-radius:4px;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;display:inline-block;max-width:100%;height:auto}.cmt .img-circle{border-radius:50%}.cmt hr{margin-top:21px;margin-bottom:21px;border:0;border-top:1px solid #ecf0f1}.cmt .sr-only{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);border:0}.cmt .sr-only-focusable:active,.cmt .sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}.cmt [role=button]{cursor:pointer}.cmt .h1,.cmt .h2,.cmt .h3,.cmt .h4,.cmt .h5,.cmt .h6,.cmt h1,.cmt h2,.cmt h3,.cmt h4,.cmt h5,.cmt h6{font-family:Lato,Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.1;color:inherit}.cmt .h1 .small,.cmt .h1 small,.cmt .h2 .small,.cmt .h2 small,.cmt .h3 .small,.cmt .h3 small,.cmt .h4 .small,.cmt .h4 small,.cmt .h5 .small,.cmt .h5 small,.cmt .h6 .small,.cmt .h6 small,.cmt h1 .small,.cmt h1 small,.cmt h2 .small,.cmt h2 small,.cmt h3 .small,.cmt h3 small,.cmt h4 .small,.cmt h4 small,.cmt h5 .small,.cmt h5 small,.cmt h6 .small,.cmt h6 small{font-weight:400;line-height:1;color:#b4bcc2}.cmt .h1,.cmt .h2,.cmt .h3,.cmt h1,.cmt h2,.cmt h3{margin-top:21px;margin-bottom:10.5px}.cmt .h1 .small,.cmt .h1 small,.cmt .h2 .small,.cmt .h2 small,.cmt .h3 .small,.cmt .h3 small,.cmt h1 .small,.cmt h1 small,.cmt h2 .small,.cmt h2 small,.cmt h3 .small,.cmt h3 small{font-size:65%}.cmt .h4,.cmt .h5,.cmt .h6,.cmt h4,.cmt h5,.cmt h6{margin-top:10.5px;margin-bottom:10.5px}.cmt .h4 .small,.cmt .h4 small,.cmt .h5 .small,.cmt .h5 small,.cmt .h6 .small,.cmt .h6 small,.cmt h4 .small,.cmt h4 small,.cmt h5 .small,.cmt h5 small,.cmt h6 .small,.cmt h6 small{font-size:75%}.cmt .h1,.cmt h1{font-size:39px}.cmt .h2,.cmt h2{font-size:32px}.cmt .h3,.cmt h3{font-size:26px}.cmt .h4,.cmt h4{font-size:19px}.cmt .h5,.cmt h5{font-size:15px}.cmt .h6,.cmt h6{font-size:13px}.cmt p{margin:0 0 10.5px}.cmt .lead{margin-bottom:21px;font-size:17px;font-weight:300;line-height:1.4}@media (min-width:768px){.cmt .lead{font-size:22.5px}}.cmt .small,.cmt small{font-size:86%}.cmt .mark,.cmt mark{background-color:#f39c12;padding:.2em}.cmt .text-left{text-align:left}.cmt .text-right{text-align:right}.cmt .text-center{text-align:center}.cmt .text-justify{text-align:justify}.cmt .text-nowrap{white-space:nowrap}.cmt .text-lowercase{text-transform:lowercase}.cmt .text-uppercase{text-transform:uppercase}.cmt .text-capitalize{text-transform:capitalize}.cmt .text-muted{color:#b4bcc2}.cmt .text-primary{color:#2c3e50}a.cmt .text-primary:focus,a.cmt .text-primary:hover{color:#1a242f}.cmt .text-success{color:#fff}a.cmt .text-success:focus,a.cmt .text-success:hover{color:#e6e6e6}.cmt .text-info{color:#fff}a.cmt .text-info:focus,a.cmt .text-info:hover{color:#e6e6e6}.cmt .text-warning{color:#fff}a.cmt .text-warning:focus,a.cmt .text-warning:hover{color:#e6e6e6}.cmt .text-danger{color:#fff}a.cmt .text-danger:focus,a.cmt .text-danger:hover{color:#e6e6e6}.cmt .bg-primary{color:#fff;background-color:#2c3e50}a.cmt .bg-primary:focus,a.cmt .bg-primary:hover{background-color:#1a242f}.cmt .bg-success{background-color:#18bc9c}a.cmt .bg-success:focus,a.cmt .bg-success:hover{background-color:#128f76}.cmt .bg-info{background-color:#3498db}a.cmt .bg-info:focus,a.cmt .bg-info:hover{background-color:#217dbb}.cmt .bg-warning{background-color:#f39c12}a.cmt .bg-warning:focus,a.cmt .bg-warning:hover{background-color:#c87f0a}.cmt .bg-danger{background-color:#e74c3c}a.cmt .bg-danger:focus,a.cmt .bg-danger:hover{background-color:#d62c1a}.cmt .page-header{padding-bottom:9.5px;margin:42px 0 21px;border-bottom:1px solid transparent}.cmt ol,.cmt ul{margin-top:0;margin-bottom:10.5px}.cmt ol ol,.cmt ol ul,.cmt ul ol,.cmt ul ul{margin-bottom:0}.cmt .list-inline,.cmt .list-unstyled{padding-left:0;list-style:none}.cmt .list-inline{margin-left:-5px}.cmt .list-inline>li{display:inline-block;padding-left:5px;padding-right:5px}.cmt dl{margin-top:0;margin-bottom:21px}.cmt dd,.cmt dt{line-height:1.42857143}.cmt dt{font-weight:700}.cmt dd{margin-left:0}@media (min-width:768px){.cmt .dl-horizontal dt{float:left;width:160px;clear:left;text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cmt .dl-horizontal dd{margin-left:180px}}.cmt abbr[data-original-title],.cmt abbr[title]{cursor:help;border-bottom:1px dotted #b4bcc2}.cmt .initialism{font-size:90%;text-transform:uppercase}.cmt blockquote{padding:10.5px 21px;margin:0 0 21px;font-size:18.75px;border-left:5px solid #ecf0f1}.cmt blockquote ol:last-child,.cmt blockquote p:last-child,.cmt blockquote ul:last-child{margin-bottom:0}.cmt blockquote .small,.cmt blockquote footer,.cmt blockquote small{display:block;font-size:80%;line-height:1.42857143;color:#b4bcc2}.cmt blockquote .small:before,.cmt blockquote footer:before,.cmt blockquote small:before{content:"\\2014   \\A0"}.cmt .blockquote-reverse,.cmt blockquote.pull-right{padding-right:15px;padding-left:0;border-right:5px solid #ecf0f1;border-left:0;text-align:right}.cmt .blockquote-reverse .small:before,.cmt .blockquote-reverse footer:before,.cmt .blockquote-reverse small:before,.cmt blockquote.pull-right .small:before,.cmt blockquote.pull-right footer:before,.cmt blockquote.pull-right small:before{content:""}.cmt .blockquote-reverse .small:after,.cmt .blockquote-reverse footer:after,.cmt .blockquote-reverse small:after,.cmt blockquote.pull-right .small:after,.cmt blockquote.pull-right footer:after,.cmt blockquote.pull-right small:after{content:"\\A0   \\2014"}.cmt address{margin-bottom:21px;font-style:normal;line-height:1.42857143}.cmt code,.cmt kbd,.cmt pre,.cmt samp{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.cmt code{color:#c7254e;background-color:#f9f2f4;border-radius:4px}.cmt code,.cmt kbd{padding:2px 4px;font-size:90%}.cmt kbd{color:#fff;background-color:#333;border-radius:3px;box-shadow:inset 0 -1px 0 rgba(0,0,0,.25)}.cmt kbd kbd{padding:0;font-size:100%;font-weight:700;box-shadow:none}.cmt pre{display:block;padding:10px;margin:0 0 10.5px;font-size:14px;line-height:1.42857143;word-break:break-all;word-wrap:break-word;color:#7b8a8b;background-color:#ecf0f1;border:1px solid #ccc;border-radius:4px}.cmt pre code{padding:0;font-size:inherit;color:inherit;white-space:pre-wrap;background-color:transparent;border-radius:0}.cmt .pre-scrollable{max-height:340px;overflow-y:scroll}.cmt .container{margin-right:auto;margin-left:auto;padding-left:15px;padding-right:15px}@media (min-width:768px){.cmt .container{width:750px}}@media (min-width:992px){.cmt .container{width:970px}}@media (min-width:1200px){.cmt .container{width:1170px}}.cmt .container-fluid{margin-right:auto;margin-left:auto;padding-left:15px;padding-right:15px}.cmt .row{margin-left:-15px;margin-right:-15px}.cmt .col-xs-1,.col-lg-1,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-10,.col-lg-11,.col-lg-12,.col-md-1,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-10,.col-md-11,.col-md-12,.col-sm-1,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-10,.col-sm-11,.col-sm-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9,.col-xs-10,.col-xs-11,.col-xs-12{position:relative;min-height:1px;padding-left:15px;padding-right:15px}.cmt .col-xs-1,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9,.col-xs-10,.col-xs-11,.col-xs-12{float:left}.cmt .col-xs-12{width:100%}.cmt .col-xs-11{width:91.66666667%}.cmt .col-xs-10{width:83.33333333%}.cmt .col-xs-9{width:75%}.cmt .col-xs-8{width:66.66666667%}.cmt .col-xs-7{width:58.33333333%}.cmt .col-xs-6{width:50%}.cmt .col-xs-5{width:41.66666667%}.cmt .col-xs-4{width:33.33333333%}.cmt .col-xs-3{width:25%}.cmt .col-xs-2{width:16.66666667%}.cmt .col-xs-1{width:8.33333333%}.cmt .col-xs-pull-12{right:100%}.cmt .col-xs-pull-11{right:91.66666667%}.cmt .col-xs-pull-10{right:83.33333333%}.cmt .col-xs-pull-9{right:75%}.cmt .col-xs-pull-8{right:66.66666667%}.cmt .col-xs-pull-7{right:58.33333333%}.cmt .col-xs-pull-6{right:50%}.cmt .col-xs-pull-5{right:41.66666667%}.cmt .col-xs-pull-4{right:33.33333333%}.cmt .col-xs-pull-3{right:25%}.cmt .col-xs-pull-2{right:16.66666667%}.cmt .col-xs-pull-1{right:8.33333333%}.cmt .col-xs-pull-0{right:auto}.cmt .col-xs-push-12{left:100%}.cmt .col-xs-push-11{left:91.66666667%}.cmt .col-xs-push-10{left:83.33333333%}.cmt .col-xs-push-9{left:75%}.cmt .col-xs-push-8{left:66.66666667%}.cmt .col-xs-push-7{left:58.33333333%}.cmt .col-xs-push-6{left:50%}.cmt .col-xs-push-5{left:41.66666667%}.cmt .col-xs-push-4{left:33.33333333%}.cmt .col-xs-push-3{left:25%}.cmt .col-xs-push-2{left:16.66666667%}.cmt .col-xs-push-1{left:8.33333333%}.cmt .col-xs-push-0{left:auto}.cmt .col-xs-offset-12{margin-left:100%}.cmt .col-xs-offset-11{margin-left:91.66666667%}.cmt .col-xs-offset-10{margin-left:83.33333333%}.cmt .col-xs-offset-9{margin-left:75%}.cmt .col-xs-offset-8{margin-left:66.66666667%}.cmt .col-xs-offset-7{margin-left:58.33333333%}.cmt .col-xs-offset-6{margin-left:50%}.cmt .col-xs-offset-5{margin-left:41.66666667%}.cmt .col-xs-offset-4{margin-left:33.33333333%}.cmt .col-xs-offset-3{margin-left:25%}.cmt .col-xs-offset-2{margin-left:16.66666667%}.cmt .col-xs-offset-1{margin-left:8.33333333%}.cmt .col-xs-offset-0{margin-left:0}@media (min-width:768px){.cmt .col-sm-1,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-10,.col-sm-11,.col-sm-12{float:left}.cmt .col-sm-12{width:100%}.cmt .col-sm-11{width:91.66666667%}.cmt .col-sm-10{width:83.33333333%}.cmt .col-sm-9{width:75%}.cmt .col-sm-8{width:66.66666667%}.cmt .col-sm-7{width:58.33333333%}.cmt .col-sm-6{width:50%}.cmt .col-sm-5{width:41.66666667%}.cmt .col-sm-4{width:33.33333333%}.cmt .col-sm-3{width:25%}.cmt .col-sm-2{width:16.66666667%}.cmt .col-sm-1{width:8.33333333%}.cmt .col-sm-pull-12{right:100%}.cmt .col-sm-pull-11{right:91.66666667%}.cmt .col-sm-pull-10{right:83.33333333%}.cmt .col-sm-pull-9{right:75%}.cmt .col-sm-pull-8{right:66.66666667%}.cmt .col-sm-pull-7{right:58.33333333%}.cmt .col-sm-pull-6{right:50%}.cmt .col-sm-pull-5{right:41.66666667%}.cmt .col-sm-pull-4{right:33.33333333%}.cmt .col-sm-pull-3{right:25%}.cmt .col-sm-pull-2{right:16.66666667%}.cmt .col-sm-pull-1{right:8.33333333%}.cmt .col-sm-pull-0{right:auto}.cmt .col-sm-push-12{left:100%}.cmt .col-sm-push-11{left:91.66666667%}.cmt .col-sm-push-10{left:83.33333333%}.cmt .col-sm-push-9{left:75%}.cmt .col-sm-push-8{left:66.66666667%}.cmt .col-sm-push-7{left:58.33333333%}.cmt .col-sm-push-6{left:50%}.cmt .col-sm-push-5{left:41.66666667%}.cmt .col-sm-push-4{left:33.33333333%}.cmt .col-sm-push-3{left:25%}.cmt .col-sm-push-2{left:16.66666667%}.cmt .col-sm-push-1{left:8.33333333%}.cmt .col-sm-push-0{left:auto}.cmt .col-sm-offset-12{margin-left:100%}.cmt .col-sm-offset-11{margin-left:91.66666667%}.cmt .col-sm-offset-10{margin-left:83.33333333%}.cmt .col-sm-offset-9{margin-left:75%}.cmt .col-sm-offset-8{margin-left:66.66666667%}.cmt .col-sm-offset-7{margin-left:58.33333333%}.cmt .col-sm-offset-6{margin-left:50%}.cmt .col-sm-offset-5{margin-left:41.66666667%}.cmt .col-sm-offset-4{margin-left:33.33333333%}.cmt .col-sm-offset-3{margin-left:25%}.cmt .col-sm-offset-2{margin-left:16.66666667%}.cmt .col-sm-offset-1{margin-left:8.33333333%}.cmt .col-sm-offset-0{margin-left:0}}@media (min-width:992px){.cmt .col-md-1,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-10,.col-md-11,.col-md-12{float:left}.cmt .col-md-12{width:100%}.cmt .col-md-11{width:91.66666667%}.cmt .col-md-10{width:83.33333333%}.cmt .col-md-9{width:75%}.cmt .col-md-8{width:66.66666667%}.cmt .col-md-7{width:58.33333333%}.cmt .col-md-6{width:50%}.cmt .col-md-5{width:41.66666667%}.cmt .col-md-4{width:33.33333333%}.cmt .col-md-3{width:25%}.cmt .col-md-2{width:16.66666667%}.cmt .col-md-1{width:8.33333333%}.cmt .col-md-pull-12{right:100%}.cmt .col-md-pull-11{right:91.66666667%}.cmt .col-md-pull-10{right:83.33333333%}.cmt .col-md-pull-9{right:75%}.cmt .col-md-pull-8{right:66.66666667%}.cmt .col-md-pull-7{right:58.33333333%}.cmt .col-md-pull-6{right:50%}.cmt .col-md-pull-5{right:41.66666667%}.cmt .col-md-pull-4{right:33.33333333%}.cmt .col-md-pull-3{right:25%}.cmt .col-md-pull-2{right:16.66666667%}.cmt .col-md-pull-1{right:8.33333333%}.cmt .col-md-pull-0{right:auto}.cmt .col-md-push-12{left:100%}.cmt .col-md-push-11{left:91.66666667%}.cmt .col-md-push-10{left:83.33333333%}.cmt .col-md-push-9{left:75%}.cmt .col-md-push-8{left:66.66666667%}.cmt .col-md-push-7{left:58.33333333%}.cmt .col-md-push-6{left:50%}.cmt .col-md-push-5{left:41.66666667%}.cmt .col-md-push-4{left:33.33333333%}.cmt .col-md-push-3{left:25%}.cmt .col-md-push-2{left:16.66666667%}.cmt .col-md-push-1{left:8.33333333%}.cmt .col-md-push-0{left:auto}.cmt .col-md-offset-12{margin-left:100%}.cmt .col-md-offset-11{margin-left:91.66666667%}.cmt .col-md-offset-10{margin-left:83.33333333%}.cmt .col-md-offset-9{margin-left:75%}.cmt .col-md-offset-8{margin-left:66.66666667%}.cmt .col-md-offset-7{margin-left:58.33333333%}.cmt .col-md-offset-6{margin-left:50%}.cmt .col-md-offset-5{margin-left:41.66666667%}.cmt .col-md-offset-4{margin-left:33.33333333%}.cmt .col-md-offset-3{margin-left:25%}.cmt .col-md-offset-2{margin-left:16.66666667%}.cmt .col-md-offset-1{margin-left:8.33333333%}.cmt .col-md-offset-0{margin-left:0}}@media (min-width:1200px){.cmt .col-lg-1,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-10,.col-lg-11,.col-lg-12{float:left}.cmt .col-lg-12{width:100%}.cmt .col-lg-11{width:91.66666667%}.cmt .col-lg-10{width:83.33333333%}.cmt .col-lg-9{width:75%}.cmt .col-lg-8{width:66.66666667%}.cmt .col-lg-7{width:58.33333333%}.cmt .col-lg-6{width:50%}.cmt .col-lg-5{width:41.66666667%}.cmt .col-lg-4{width:33.33333333%}.cmt .col-lg-3{width:25%}.cmt .col-lg-2{width:16.66666667%}.cmt .col-lg-1{width:8.33333333%}.cmt .col-lg-pull-12{right:100%}.cmt .col-lg-pull-11{right:91.66666667%}.cmt .col-lg-pull-10{right:83.33333333%}.cmt .col-lg-pull-9{right:75%}.cmt .col-lg-pull-8{right:66.66666667%}.cmt .col-lg-pull-7{right:58.33333333%}.cmt .col-lg-pull-6{right:50%}.cmt .col-lg-pull-5{right:41.66666667%}.cmt .col-lg-pull-4{right:33.33333333%}.cmt .col-lg-pull-3{right:25%}.cmt .col-lg-pull-2{right:16.66666667%}.cmt .col-lg-pull-1{right:8.33333333%}.cmt .col-lg-pull-0{right:auto}.cmt .col-lg-push-12{left:100%}.cmt .col-lg-push-11{left:91.66666667%}.cmt .col-lg-push-10{left:83.33333333%}.cmt .col-lg-push-9{left:75%}.cmt .col-lg-push-8{left:66.66666667%}.cmt .col-lg-push-7{left:58.33333333%}.cmt .col-lg-push-6{left:50%}.cmt .col-lg-push-5{left:41.66666667%}.cmt .col-lg-push-4{left:33.33333333%}.cmt .col-lg-push-3{left:25%}.cmt .col-lg-push-2{left:16.66666667%}.cmt .col-lg-push-1{left:8.33333333%}.cmt .col-lg-push-0{left:auto}.cmt .col-lg-offset-12{margin-left:100%}.cmt .col-lg-offset-11{margin-left:91.66666667%}.cmt .col-lg-offset-10{margin-left:83.33333333%}.cmt .col-lg-offset-9{margin-left:75%}.cmt .col-lg-offset-8{margin-left:66.66666667%}.cmt .col-lg-offset-7{margin-left:58.33333333%}.cmt .col-lg-offset-6{margin-left:50%}.cmt .col-lg-offset-5{margin-left:41.66666667%}.cmt .col-lg-offset-4{margin-left:33.33333333%}.cmt .col-lg-offset-3{margin-left:25%}.cmt .col-lg-offset-2{margin-left:16.66666667%}.cmt .col-lg-offset-1{margin-left:8.33333333%}.cmt .col-lg-offset-0{margin-left:0}}.cmt table{background-color:transparent}.cmt caption{padding-top:8px;padding-bottom:8px;color:#b4bcc2}.cmt caption,.cmt th{text-align:left}.cmt .table{width:100%;max-width:100%;margin-bottom:21px}.cmt .table>tbody>tr>td,.cmt .table>tbody>tr>th,.cmt .table>tfoot>tr>td,.cmt .table>tfoot>tr>th,.cmt .table>thead>tr>td,.cmt .table>thead>tr>th{padding:8px;line-height:1.42857143;vertical-align:top;border-top:1px solid #ecf0f1}.cmt .table>thead>tr>th{vertical-align:bottom;border-bottom:2px solid #ecf0f1}.cmt .table>caption+thead>tr:first-child>td,.cmt .table>caption+thead>tr:first-child>th,.cmt .table>colgroup+thead>tr:first-child>td,.cmt .table>colgroup+thead>tr:first-child>th,.cmt .table>thead:first-child>tr:first-child>td,.cmt .table>thead:first-child>tr:first-child>th{border-top:0}.cmt .table>tbody+tbody{border-top:2px solid #ecf0f1}.cmt .table .table{background-color:#fff}.cmt .table-condensed>tbody>tr>td,.cmt .table-condensed>tbody>tr>th,.cmt .table-condensed>tfoot>tr>td,.cmt .table-condensed>tfoot>tr>th,.cmt .table-condensed>thead>tr>td,.cmt .table-condensed>thead>tr>th{padding:5px}.cmt .table-bordered,.cmt .table-bordered>tbody>tr>td,.cmt .table-bordered>tbody>tr>th,.cmt .table-bordered>tfoot>tr>td,.cmt .table-bordered>tfoot>tr>th,.cmt .table-bordered>thead>tr>td,.cmt .table-bordered>thead>tr>th{border:1px solid #ecf0f1}.cmt .table-bordered>thead>tr>td,.cmt .table-bordered>thead>tr>th{border-bottom-width:2px}.cmt .table-striped>tbody>tr:nth-of-type(odd){background-color:#f9f9f9}.cmt .table-hover>tbody>tr:hover{background-color:#ecf0f1}.cmt table col[class*=col-]{position:static;float:none;display:table-column}.cmt table td[class*=col-],.cmt table th[class*=col-]{position:static;float:none;display:table-cell}.cmt .table>tbody>tr.active>td,.cmt .table>tbody>tr.active>th,.cmt .table>tbody>tr>td.active,.cmt .table>tbody>tr>th.active,.cmt .table>tfoot>tr.active>td,.cmt .table>tfoot>tr.active>th,.cmt .table>tfoot>tr>td.active,.cmt .table>tfoot>tr>th.active,.cmt .table>thead>tr.active>td,.cmt .table>thead>tr.active>th,.cmt .table>thead>tr>td.active,.cmt .table>thead>tr>th.active{background-color:#ecf0f1}.cmt .table-hover>tbody>tr.active:hover>td,.cmt .table-hover>tbody>tr.active:hover>th,.cmt .table-hover>tbody>tr:hover>.active,.cmt .table-hover>tbody>tr>td.active:hover,.cmt .table-hover>tbody>tr>th.active:hover{background-color:#dde4e6}.cmt .table>tbody>tr.success>td,.cmt .table>tbody>tr.success>th,.cmt .table>tbody>tr>td.success,.cmt .table>tbody>tr>th.success,.cmt .table>tfoot>tr.success>td,.cmt .table>tfoot>tr.success>th,.cmt .table>tfoot>tr>td.success,.cmt .table>tfoot>tr>th.success,.cmt .table>thead>tr.success>td,.cmt .table>thead>tr.success>th,.cmt .table>thead>tr>td.success,.cmt .table>thead>tr>th.success{background-color:#18bc9c}.cmt .table-hover>tbody>tr.success:hover>td,.cmt .table-hover>tbody>tr.success:hover>th,.cmt .table-hover>tbody>tr:hover>.success,.cmt .table-hover>tbody>tr>td.success:hover,.cmt .table-hover>tbody>tr>th.success:hover{background-color:#15a589}.cmt .table>tbody>tr.info>td,.cmt .table>tbody>tr.info>th,.cmt .table>tbody>tr>td.info,.cmt .table>tbody>tr>th.info,.cmt .table>tfoot>tr.info>td,.cmt .table>tfoot>tr.info>th,.cmt .table>tfoot>tr>td.info,.cmt .table>tfoot>tr>th.info,.cmt .table>thead>tr.info>td,.cmt .table>thead>tr.info>th,.cmt .table>thead>tr>td.info,.cmt .table>thead>tr>th.info{background-color:#3498db}.cmt .table-hover>tbody>tr.info:hover>td,.cmt .table-hover>tbody>tr.info:hover>th,.cmt .table-hover>tbody>tr:hover>.info,.cmt .table-hover>tbody>tr>td.info:hover,.cmt .table-hover>tbody>tr>th.info:hover{background-color:#258cd1}.cmt .table>tbody>tr.warning>td,.cmt .table>tbody>tr.warning>th,.cmt .table>tbody>tr>td.warning,.cmt .table>tbody>tr>th.warning,.cmt .table>tfoot>tr.warning>td,.cmt .table>tfoot>tr.warning>th,.cmt .table>tfoot>tr>td.warning,.cmt .table>tfoot>tr>th.warning,.cmt .table>thead>tr.warning>td,.cmt .table>thead>tr.warning>th,.cmt .table>thead>tr>td.warning,.cmt .table>thead>tr>th.warning{background-color:#f39c12}.cmt .table-hover>tbody>tr.warning:hover>td,.cmt .table-hover>tbody>tr.warning:hover>th,.cmt .table-hover>tbody>tr:hover>.warning,.cmt .table-hover>tbody>tr>td.warning:hover,.cmt .table-hover>tbody>tr>th.warning:hover{background-color:#e08e0b}.cmt .table>tbody>tr.danger>td,.cmt .table>tbody>tr.danger>th,.cmt .table>tbody>tr>td.danger,.cmt .table>tbody>tr>th.danger,.cmt .table>tfoot>tr.danger>td,.cmt .table>tfoot>tr.danger>th,.cmt .table>tfoot>tr>td.danger,.cmt .table>tfoot>tr>th.danger,.cmt .table>thead>tr.danger>td,.cmt .table>thead>tr.danger>th,.cmt .table>thead>tr>td.danger,.cmt .table>thead>tr>th.danger{background-color:#e74c3c}.cmt .table-hover>tbody>tr.danger:hover>td,.cmt .table-hover>tbody>tr.danger:hover>th,.cmt .table-hover>tbody>tr:hover>.danger,.cmt .table-hover>tbody>tr>td.danger:hover,.cmt .table-hover>tbody>tr>th.danger:hover{background-color:#e43725}.cmt .table-responsive{overflow-x:auto;min-height:.01%}@media screen and (max-width:767px){.cmt .table-responsive{width:100%;margin-bottom:15.75px;overflow-y:hidden;-ms-overflow-style:-ms-autohiding-scrollbar;border:1px solid #ecf0f1}.cmt .table-responsive>.table{margin-bottom:0}.cmt .table-responsive>.table>tbody>tr>td,.cmt .table-responsive>.table>tbody>tr>th,.cmt .table-responsive>.table>tfoot>tr>td,.cmt .table-responsive>.table>tfoot>tr>th,.cmt .table-responsive>.table>thead>tr>td,.cmt .table-responsive>.table>thead>tr>th{white-space:nowrap}.cmt .table-responsive>.table-bordered{border:0}.cmt .table-responsive>.table-bordered>tbody>tr>td:first-child,.cmt .table-responsive>.table-bordered>tbody>tr>th:first-child,.cmt .table-responsive>.table-bordered>tfoot>tr>td:first-child,.cmt .table-responsive>.table-bordered>tfoot>tr>th:first-child,.cmt .table-responsive>.table-bordered>thead>tr>td:first-child,.cmt .table-responsive>.table-bordered>thead>tr>th:first-child{border-left:0}.cmt .table-responsive>.table-bordered>tbody>tr>td:last-child,.cmt .table-responsive>.table-bordered>tbody>tr>th:last-child,.cmt .table-responsive>.table-bordered>tfoot>tr>td:last-child,.cmt .table-responsive>.table-bordered>tfoot>tr>th:last-child,.cmt .table-responsive>.table-bordered>thead>tr>td:last-child,.cmt .table-responsive>.table-bordered>thead>tr>th:last-child{border-right:0}.cmt .table-responsive>.table-bordered>tbody>tr:last-child>td,.cmt .table-responsive>.table-bordered>tbody>tr:last-child>th,.cmt .table-responsive>.table-bordered>tfoot>tr:last-child>td,.cmt .table-responsive>.table-bordered>tfoot>tr:last-child>th{border-bottom:0}}.cmt fieldset{padding:0;margin:0;border:0;min-width:0}.cmt legend{display:block;width:100%;padding:0;margin-bottom:21px;font-size:22.5px;line-height:inherit;color:#2c3e50;border:0;border-bottom:1px solid transparent}.cmt label{display:inline-block;max-width:100%;margin-bottom:5px;font-weight:700}.cmt input[type=search]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.cmt input[type=checkbox],.cmt input[type=radio]{margin:4px 0 0;margin-top:1px\\9;line-height:normal}.cmt input[type=file]{display:block}.cmt input[type=range]{display:block;width:100%}.cmt select[multiple],.cmt select[size]{height:auto}.cmt input[type=checkbox]:focus,.cmt input[type=file]:focus,.cmt input[type=radio]:focus{outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.cmt output{padding-top:11px}.cmt .form-control,.cmt output{display:block;font-size:15px;line-height:1.42857143;color:#2c3e50}.cmt .form-control{width:100%;height:45px;padding:10px 15px;background-color:#fff;background-image:none;border:1px solid #dce4ec;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-webkit-transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;-o-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.cmt .form-control:focus{border-color:#2c3e50;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(44,62,80,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(44,62,80,.6)}.cmt .form-control::-moz-placeholder{color:#acb6c0;opacity:1}.cmt .form-control:-ms-input-placeholder{color:#acb6c0}.cmt .form-control::-webkit-input-placeholder{color:#acb6c0}.cmt .form-control::-ms-expand{border:0;background-color:transparent}.cmt .form-control[disabled],.cmt .form-control[readonly],fieldset[disabled] .cmt .form-control{background-color:#ecf0f1;opacity:1}.cmt .form-control[disabled],fieldset[disabled] .cmt .form-control{cursor:not-allowed}textarea.cmt .form-control{height:auto}.cmt input[type=search]{-webkit-appearance:none}@media screen and (-webkit-min-device-pixel-ratio:0){.cmt input[type=date].form-control,.cmt input[type=datetime-local].form-control,.cmt input[type=month].form-control,.cmt input[type=time].form-control{line-height:45px}.cmt input[type=date].input-sm,.cmt input[type=datetime-local].input-sm,.cmt input[type=month].input-sm,.cmt input[type=time].input-sm,.input-group-sm .cmt input[type=date],.input-group-sm .cmt input[type=datetime-local],.input-group-sm .cmt input[type=month],.input-group-sm .cmt input[type=time]{line-height:35px}.cmt input[type=date].input-lg,.cmt input[type=datetime-local].input-lg,.cmt input[type=month].input-lg,.cmt input[type=time].input-lg,.input-group-lg .cmt input[type=date],.input-group-lg .cmt input[type=datetime-local],.input-group-lg .cmt input[type=month],.input-group-lg .cmt input[type=time]{line-height:66px}}.cmt .form-group{margin-bottom:15px}.cmt .checkbox,.cmt .radio{position:relative;display:block;margin-top:10px;margin-bottom:10px}.cmt .checkbox label,.cmt .radio label{min-height:21px;padding-left:20px;margin-bottom:0;font-weight:400;cursor:pointer}.cmt .checkbox-inline input[type=checkbox],.cmt .checkbox input[type=checkbox],.cmt .radio-inline input[type=radio],.cmt .radio input[type=radio]{position:absolute;margin-left:-20px;margin-top:4px\\9}.cmt .checkbox+.checkbox,.cmt .radio+.radio{margin-top:-5px}.cmt .checkbox-inline,.cmt .radio-inline{position:relative;display:inline-block;padding-left:20px;margin-bottom:0;vertical-align:middle;font-weight:400;cursor:pointer}.cmt .checkbox-inline+.checkbox-inline,.cmt .radio-inline+.radio-inline{margin-top:0;margin-left:10px}.cmt .checkbox-inline.disabled,.cmt .checkbox.disabled label,.cmt .radio-inline.disabled,.cmt .radio.disabled label,.cmt input[type=checkbox].disabled,.cmt input[type=checkbox][disabled],.cmt input[type=radio].disabled,.cmt input[type=radio][disabled],fieldset[disabled] .cmt .checkbox-inline,fieldset[disabled] .cmt .checkbox label,fieldset[disabled] .cmt .radio-inline,fieldset[disabled] .cmt .radio label,fieldset[disabled] .cmt input[type=checkbox],fieldset[disabled] .cmt input[type=radio]{cursor:not-allowed}.cmt .form-control-static{padding-top:11px;padding-bottom:11px;margin-bottom:0;min-height:36px}.cmt .form-control-static.input-lg,.cmt .form-control-static.input-sm{padding-left:0;padding-right:0}.cmt .input-sm{height:35px;padding:6px 9px;font-size:13px;line-height:1.5;border-radius:3px}select.cmt .input-sm{height:35px;line-height:35px}select[multiple].cmt .input-sm,textarea.cmt .input-sm{height:auto}.cmt .form-group-sm .form-control{height:35px;padding:6px 9px;font-size:13px;line-height:1.5;border-radius:3px}.cmt .form-group-sm select.form-control{height:35px;line-height:35px}.cmt .form-group-sm select[multiple].form-control,.cmt .form-group-sm textarea.form-control{height:auto}.cmt .form-group-sm .form-control-static{height:35px;min-height:34px;padding:7px 9px;font-size:13px;line-height:1.5}.cmt .input-lg{height:66px;padding:18px 27px;font-size:19px;line-height:1.3333333;border-radius:6px}select.cmt .input-lg{height:66px;line-height:66px}select[multiple].cmt .input-lg,textarea.cmt .input-lg{height:auto}.cmt .form-group-lg .form-control{height:66px;padding:18px 27px;font-size:19px;line-height:1.3333333;border-radius:6px}.cmt .form-group-lg select.form-control{height:66px;line-height:66px}.cmt .form-group-lg select[multiple].form-control,.cmt .form-group-lg textarea.form-control{height:auto}.cmt .form-group-lg .form-control-static{height:66px;min-height:40px;padding:19px 27px;font-size:19px;line-height:1.3333333}.cmt .has-feedback{position:relative}.cmt .has-feedback .form-control{padding-right:56.25px}.cmt .form-control-feedback{position:absolute;top:0;right:0;z-index:2;display:block;width:45px;height:45px;line-height:45px;text-align:center;pointer-events:none}.cmt .form-group-lg .form-control+.form-control-feedback,.cmt .input-group-lg+.form-control-feedback,.cmt .input-lg+.form-control-feedback{width:66px;height:66px;line-height:66px}.cmt .form-group-sm .form-control+.form-control-feedback,.cmt .input-group-sm+.form-control-feedback,.cmt .input-sm+.form-control-feedback{width:35px;height:35px;line-height:35px}.cmt .has-success .checkbox,.cmt .has-success .checkbox-inline,.cmt .has-success.checkbox-inline label,.cmt .has-success.checkbox label,.cmt .has-success .control-label,.cmt .has-success .help-block,.cmt .has-success .radio,.cmt .has-success .radio-inline,.cmt .has-success.radio-inline label,.cmt .has-success.radio label{color:#fff}.cmt .has-success .form-control{border-color:#fff;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.cmt .has-success .form-control:focus{border-color:#e6e6e6;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #fff;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #fff}.cmt .has-success .input-group-addon{color:#fff;border-color:#fff;background-color:#18bc9c}.cmt .has-success .form-control-feedback,.cmt .has-warning .checkbox,.cmt .has-warning .checkbox-inline,.cmt .has-warning.checkbox-inline label,.cmt .has-warning.checkbox label,.cmt .has-warning .control-label,.cmt .has-warning .help-block,.cmt .has-warning .radio,.cmt .has-warning .radio-inline,.cmt .has-warning.radio-inline label,.cmt .has-warning.radio label{color:#fff}.cmt .has-warning .form-control{border-color:#fff;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.cmt .has-warning .form-control:focus{border-color:#e6e6e6;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #fff;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #fff}.cmt .has-warning .input-group-addon{color:#fff;border-color:#fff;background-color:#f39c12}.cmt .has-error .checkbox,.cmt .has-error .checkbox-inline,.cmt .has-error.checkbox-inline label,.cmt .has-error.checkbox label,.cmt .has-error .control-label,.cmt .has-error .help-block,.cmt .has-error .radio,.cmt .has-error .radio-inline,.cmt .has-error.radio-inline label,.cmt .has-error.radio label,.cmt .has-warning .form-control-feedback{color:#fff}.cmt .has-error .form-control{border-color:#fff;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.cmt .has-error .form-control:focus{border-color:#e6e6e6;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #fff;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #fff}.cmt .has-error .input-group-addon{color:#fff;border-color:#fff;background-color:#e74c3c}.cmt .has-error .form-control-feedback{color:#fff}.cmt .has-feedback label~.form-control-feedback{top:26px}.cmt .has-feedback label.sr-only~.form-control-feedback{top:0}.cmt .help-block{display:block;margin-top:5px;margin-bottom:10px;color:#597ea2}@media (min-width:768px){.cmt .form-inline .form-group{display:inline-block;margin-bottom:0;vertical-align:middle}.cmt .form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.cmt .form-inline .form-control-static{display:inline-block}.cmt .form-inline .input-group{display:inline-table;vertical-align:middle}.cmt .form-inline .input-group .form-control,.cmt .form-inline .input-group .input-group-addon,.cmt .form-inline .input-group .input-group-btn{width:auto}.cmt .form-inline .input-group>.form-control{width:100%}.cmt .form-inline .control-label{margin-bottom:0;vertical-align:middle}.cmt .form-inline .checkbox,.cmt .form-inline .radio{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.cmt .form-inline .checkbox label,.cmt .form-inline .radio label{padding-left:0}.cmt .form-inline .checkbox input[type=checkbox],.cmt .form-inline .radio input[type=radio]{position:relative;margin-left:0}.cmt .form-inline .has-feedback .form-control-feedback{top:0}}.cmt .form-horizontal .checkbox,.cmt .form-horizontal .checkbox-inline,.cmt .form-horizontal .radio,.cmt .form-horizontal .radio-inline{margin-top:0;margin-bottom:0;padding-top:11px}.cmt .form-horizontal .checkbox,.cmt .form-horizontal .radio{min-height:32px}.cmt .form-horizontal .form-group{margin-left:-15px;margin-right:-15px}@media (min-width:768px){.cmt .form-horizontal .control-label{text-align:right;margin-bottom:0;padding-top:11px}}.cmt .form-horizontal .has-feedback .form-control-feedback{right:15px}@media (min-width:768px){.cmt .form-horizontal .form-group-lg .control-label{padding-top:19px;font-size:19px}}@media (min-width:768px){.cmt .form-horizontal .form-group-sm .control-label{padding-top:7px;font-size:13px}}.cmt .btn{display:inline-block;margin-bottom:0;font-weight:400;text-align:center;vertical-align:middle;touch-action:manipulation;cursor:pointer;background-image:none;border:1px solid transparent;white-space:nowrap;padding:10px 15px;font-size:15px;line-height:1.42857143;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cmt .btn.active.focus,.cmt .btn.active:focus,.cmt .btn.focus,.cmt .btn:active.focus,.cmt .btn:active:focus,.cmt .btn:focus{outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.cmt .btn.focus,.cmt .btn:focus,.cmt .btn:hover{color:#fff;text-decoration:none}.cmt .btn.active,.cmt .btn:active{outline:0;background-image:none;-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.cmt .btn.disabled,.cmt .btn[disabled],fieldset[disabled] .cmt .btn{cursor:not-allowed;opacity:.65;filter:alpha(opacity=65);-webkit-box-shadow:none;box-shadow:none}a.cmt .btn.disabled,fieldset[disabled] a.cmt .btn{pointer-events:none}.cmt .btn-default{color:#fff;background-color:#95a5a6;border-color:#95a5a6}.cmt .btn-default.focus,.cmt .btn-default:focus{color:#fff;background-color:#798d8f;border-color:#566566}.cmt .btn-default.active,.cmt .btn-default:active,.cmt .btn-default:hover,.open>.dropdown-toggle.cmt .btn-default{color:#fff;background-color:#798d8f;border-color:#74898a}.cmt .btn-default.active.focus,.cmt .btn-default.active:focus,.cmt .btn-default.active:hover,.cmt .btn-default:active.focus,.cmt .btn-default:active:focus,.cmt .btn-default:active:hover,.open>.dropdown-toggle.cmt .btn-default.focus,.open>.dropdown-toggle.cmt .btn-default:focus,.open>.dropdown-toggle.cmt .btn-default:hover{color:#fff;background-color:#687b7c;border-color:#566566}.cmt .btn-default.active,.cmt .btn-default:active,.open>.dropdown-toggle.cmt .btn-default{background-image:none}.cmt .btn-default.disabled.focus,.cmt .btn-default.disabled:focus,.cmt .btn-default.disabled:hover,.cmt .btn-default[disabled].focus,.cmt .btn-default[disabled]:focus,.cmt .btn-default[disabled]:hover,fieldset[disabled] .cmt .btn-default.focus,fieldset[disabled] .cmt .btn-default:focus,fieldset[disabled] .cmt .btn-default:hover{background-color:#95a5a6;border-color:#95a5a6}.cmt .btn-default .badge{color:#95a5a6;background-color:#fff}.cmt .btn-primary{color:#fff;background-color:#2c3e50;border-color:#2c3e50}.cmt .btn-primary.focus,.cmt .btn-primary:focus{color:#fff;background-color:#1a242f;border-color:#000}.cmt .btn-primary.active,.cmt .btn-primary:active,.cmt .btn-primary:hover,.open>.dropdown-toggle.cmt .btn-primary{color:#fff;background-color:#1a242f;border-color:#161f29}.cmt .btn-primary.active.focus,.cmt .btn-primary.active:focus,.cmt .btn-primary.active:hover,.cmt .btn-primary:active.focus,.cmt .btn-primary:active:focus,.cmt .btn-primary:active:hover,.open>.dropdown-toggle.cmt .btn-primary.focus,.open>.dropdown-toggle.cmt .btn-primary:focus,.open>.dropdown-toggle.cmt .btn-primary:hover{color:#fff;background-color:#0d1318;border-color:#000}.cmt .btn-primary.active,.cmt .btn-primary:active,.open>.dropdown-toggle.cmt .btn-primary{background-image:none}.cmt .btn-primary.disabled.focus,.cmt .btn-primary.disabled:focus,.cmt .btn-primary.disabled:hover,.cmt .btn-primary[disabled].focus,.cmt .btn-primary[disabled]:focus,.cmt .btn-primary[disabled]:hover,fieldset[disabled] .cmt .btn-primary.focus,fieldset[disabled] .cmt .btn-primary:focus,fieldset[disabled] .cmt .btn-primary:hover{background-color:#2c3e50;border-color:#2c3e50}.cmt .btn-primary .badge{color:#2c3e50;background-color:#fff}.cmt .btn-success{color:#fff;background-color:#18bc9c;border-color:#18bc9c}.cmt .btn-success.focus,.cmt .btn-success:focus{color:#fff;background-color:#128f76;border-color:#0a4b3e}.cmt .btn-success.active,.cmt .btn-success:active,.cmt .btn-success:hover,.open>.dropdown-toggle.cmt .btn-success{color:#fff;background-color:#128f76;border-color:#11866f}.cmt .btn-success.active.focus,.cmt .btn-success.active:focus,.cmt .btn-success.active:hover,.cmt .btn-success:active.focus,.cmt .btn-success:active:focus,.cmt .btn-success:active:hover,.open>.dropdown-toggle.cmt .btn-success.focus,.open>.dropdown-toggle.cmt .btn-success:focus,.open>.dropdown-toggle.cmt .btn-success:hover{color:#fff;background-color:#0e6f5c;border-color:#0a4b3e}.cmt .btn-success.active,.cmt .btn-success:active,.open>.dropdown-toggle.cmt .btn-success{background-image:none}.cmt .btn-success.disabled.focus,.cmt .btn-success.disabled:focus,.cmt .btn-success.disabled:hover,.cmt .btn-success[disabled].focus,.cmt .btn-success[disabled]:focus,.cmt .btn-success[disabled]:hover,fieldset[disabled] .cmt .btn-success.focus,fieldset[disabled] .cmt .btn-success:focus,fieldset[disabled] .cmt .btn-success:hover{background-color:#18bc9c;border-color:#18bc9c}.cmt .btn-success .badge{color:#18bc9c;background-color:#fff}.cmt .btn-info{color:#fff;background-color:#3498db;border-color:#3498db}.cmt .btn-info.focus,.cmt .btn-info:focus{color:#fff;background-color:#217dbb;border-color:#16527a}.cmt .btn-info.active,.cmt .btn-info:active,.cmt .btn-info:hover,.open>.dropdown-toggle.cmt .btn-info{color:#fff;background-color:#217dbb;border-color:#2077b2}.cmt .btn-info.active.focus,.cmt .btn-info.active:focus,.cmt .btn-info.active:hover,.cmt .btn-info:active.focus,.cmt .btn-info:active:focus,.cmt .btn-info:active:hover,.open>.dropdown-toggle.cmt .btn-info.focus,.open>.dropdown-toggle.cmt .btn-info:focus,.open>.dropdown-toggle.cmt .btn-info:hover{color:#fff;background-color:#1c699d;border-color:#16527a}.cmt .btn-info.active,.cmt .btn-info:active,.open>.dropdown-toggle.cmt .btn-info{background-image:none}.cmt .btn-info.disabled.focus,.cmt .btn-info.disabled:focus,.cmt .btn-info.disabled:hover,.cmt .btn-info[disabled].focus,.cmt .btn-info[disabled]:focus,.cmt .btn-info[disabled]:hover,fieldset[disabled] .cmt .btn-info.focus,fieldset[disabled] .cmt .btn-info:focus,fieldset[disabled] .cmt .btn-info:hover{background-color:#3498db;border-color:#3498db}.cmt .btn-info .badge{color:#3498db;background-color:#fff}.cmt .btn-warning{color:#fff;background-color:#f39c12;border-color:#f39c12}.cmt .btn-warning.focus,.cmt .btn-warning:focus{color:#fff;background-color:#c87f0a;border-color:#7f5006}.cmt .btn-warning.active,.cmt .btn-warning:active,.cmt .btn-warning:hover,.open>.dropdown-toggle.cmt .btn-warning{color:#fff;background-color:#c87f0a;border-color:#be780a}.cmt .btn-warning.active.focus,.cmt .btn-warning.active:focus,.cmt .btn-warning.active:hover,.cmt .btn-warning:active.focus,.cmt .btn-warning:active:focus,.cmt .btn-warning:active:hover,.open>.dropdown-toggle.cmt .btn-warning.focus,.open>.dropdown-toggle.cmt .btn-warning:focus,.open>.dropdown-toggle.cmt .btn-warning:hover{color:#fff;background-color:#a66908;border-color:#7f5006}.cmt .btn-warning.active,.cmt .btn-warning:active,.open>.dropdown-toggle.cmt .btn-warning{background-image:none}.cmt .btn-warning.disabled.focus,.cmt .btn-warning.disabled:focus,.cmt .btn-warning.disabled:hover,.cmt .btn-warning[disabled].focus,.cmt .btn-warning[disabled]:focus,.cmt .btn-warning[disabled]:hover,fieldset[disabled] .cmt .btn-warning.focus,fieldset[disabled] .cmt .btn-warning:focus,fieldset[disabled] .cmt .btn-warning:hover{background-color:#f39c12;border-color:#f39c12}.cmt .btn-warning .badge{color:#f39c12;background-color:#fff}.cmt .btn-danger{color:#fff;background-color:#e74c3c;border-color:#e74c3c}.cmt .btn-danger.focus,.cmt .btn-danger:focus{color:#fff;background-color:#d62c1a;border-color:#921e12}.cmt .btn-danger.active,.cmt .btn-danger:active,.cmt .btn-danger:hover,.open>.dropdown-toggle.cmt .btn-danger{color:#fff;background-color:#d62c1a;border-color:#cd2a19}.cmt .btn-danger.active.focus,.cmt .btn-danger.active:focus,.cmt .btn-danger.active:hover,.cmt .btn-danger:active.focus,.cmt .btn-danger:active:focus,.cmt .btn-danger:active:hover,.open>.dropdown-toggle.cmt .btn-danger.focus,.open>.dropdown-toggle.cmt .btn-danger:focus,.open>.dropdown-toggle.cmt .btn-danger:hover{color:#fff;background-color:#b62516;border-color:#921e12}.cmt .btn-danger.active,.cmt .btn-danger:active,.open>.dropdown-toggle.cmt .btn-danger{background-image:none}.cmt .btn-danger.disabled.focus,.cmt .btn-danger.disabled:focus,.cmt .btn-danger.disabled:hover,.cmt .btn-danger[disabled].focus,.cmt .btn-danger[disabled]:focus,.cmt .btn-danger[disabled]:hover,fieldset[disabled] .cmt .btn-danger.focus,fieldset[disabled] .cmt .btn-danger:focus,fieldset[disabled] .cmt .btn-danger:hover{background-color:#e74c3c;border-color:#e74c3c}.cmt .btn-danger .badge{color:#e74c3c;background-color:#fff}.cmt .btn-link{color:#18bc9c;font-weight:400;border-radius:0}.cmt .btn-link,.cmt .btn-link.active,.cmt .btn-link:active,.cmt .btn-link[disabled],fieldset[disabled] .cmt .btn-link{background-color:transparent;-webkit-box-shadow:none;box-shadow:none}.cmt .btn-link,.cmt .btn-link:active,.cmt .btn-link:focus,.cmt .btn-link:hover{border-color:transparent}.cmt .btn-link:focus,.cmt .btn-link:hover{color:#18bc9c;text-decoration:underline;background-color:transparent}.cmt .btn-link[disabled]:focus,.cmt .btn-link[disabled]:hover,fieldset[disabled] .cmt .btn-link:focus,fieldset[disabled] .cmt .btn-link:hover{color:#b4bcc2;text-decoration:none}.cmt .btn-lg{padding:18px 27px;font-size:19px;line-height:1.3333333;border-radius:6px}.cmt .btn-sm{padding:6px 9px}.cmt .btn-sm,.cmt .btn-xs{font-size:13px;line-height:1.5;border-radius:3px}.cmt .btn-xs{padding:1px 5px}.cmt .btn-block{display:block;width:100%}.cmt .btn-block+.btn-block{margin-top:5px}.cmt input[type=button].btn-block,.cmt input[type=reset].btn-block,.cmt input[type=submit].btn-block{width:100%}.cmt .fade{opacity:0;-webkit-transition:opacity .15s linear;-o-transition:opacity .15s linear;transition:opacity .15s linear}.cmt .fade.in{opacity:1}.cmt .collapse{display:none}.cmt .collapse.in{display:block}tr.cmt .collapse.in{display:table-row}tbody.cmt .collapse.in{display:table-row-group}.cmt .collapsing{position:relative;height:0;overflow:hidden;-webkit-transition-property:height,visibility;transition-property:height,visibility;-webkit-transition-duration:.35s;transition-duration:.35s;-webkit-transition-timing-function:ease;transition-timing-function:ease}.cmt .caret{display:inline-block;width:0;height:0;margin-left:2px;vertical-align:middle;border-top:4px dashed;border-top:4px solid\\9;border-right:4px solid transparent;border-left:4px solid transparent}.cmt .dropdown,.cmt .dropup{position:relative}.cmt .dropdown-toggle:focus{outline:0}.cmt .dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:160px;padding:5px 0;margin:2px 0 0;list-style:none;font-size:15px;text-align:left;background-color:#fff;border:1px solid #ccc;border:1px solid rgba(0,0,0,.15);border-radius:4px;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175);background-clip:padding-box}.cmt .dropdown-menu.pull-right{right:0;left:auto}.cmt .dropdown-menu .divider{height:1px;margin:9.5px 0;overflow:hidden;background-color:#e5e5e5}.cmt .dropdown-menu>li>a{display:block;padding:3px 20px;clear:both;font-weight:400;line-height:1.42857143;color:#7b8a8b;white-space:nowrap}.cmt .dropdown-menu>li>a:focus,.cmt .dropdown-menu>li>a:hover{text-decoration:none;color:#fff;background-color:#2c3e50}.cmt .dropdown-menu>.active>a,.cmt .dropdown-menu>.active>a:focus,.cmt .dropdown-menu>.active>a:hover{color:#fff;text-decoration:none;outline:0;background-color:#2c3e50}.cmt .dropdown-menu>.disabled>a,.cmt .dropdown-menu>.disabled>a:focus,.cmt .dropdown-menu>.disabled>a:hover{color:#b4bcc2}.cmt .dropdown-menu>.disabled>a:focus,.cmt .dropdown-menu>.disabled>a:hover{text-decoration:none;background-color:transparent;background-image:none;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);cursor:not-allowed}.cmt .open>.dropdown-menu{display:block}.cmt .open>a{outline:0}.cmt .dropdown-menu-right{left:auto;right:0}.cmt .dropdown-menu-left{left:0;right:auto}.cmt .dropdown-header{display:block;padding:3px 20px;font-size:13px;line-height:1.42857143;color:#b4bcc2;white-space:nowrap}.cmt .dropdown-backdrop{position:fixed;left:0;right:0;bottom:0;top:0;z-index:990}.cmt .pull-right>.dropdown-menu{right:0;left:auto}.cmt .dropup .caret,.cmt .navbar-fixed-bottom .dropdown .caret{border-top:0;border-bottom:4px dashed;border-bottom:4px solid\\9;content:""}.cmt .dropup .dropdown-menu,.cmt .navbar-fixed-bottom .dropdown .dropdown-menu{top:auto;bottom:100%;margin-bottom:2px}@media (min-width:768px){.cmt .navbar-right .dropdown-menu{left:auto;right:0}.cmt .navbar-right .dropdown-menu-left{left:0;right:auto}}.cmt .btn-group,.cmt .btn-group-vertical,.cmt .fix-disabled-child-tooltip{position:relative;display:inline-block;vertical-align:middle}.cmt .btn-group-vertical>.btn,.cmt .btn-group>.btn,.cmt .fix-disabled-child-tooltip{position:relative;float:left}.cmt .btn-group-vertical>.btn.active,.cmt .btn-group-vertical>.btn:active,.cmt .btn-group-vertical>.btn:focus,.cmt .btn-group-vertical>.btn:hover,.cmt .btn-group>.btn.active,.cmt .btn-group>.btn:active,.cmt .btn-group>.btn:focus,.cmt .btn-group>.btn:hover{z-index:2}.cmt .btn-group .btn+.btn,.cmt .btn-group .btn+.btn-group,.cmt .btn-group .btn-group+.btn,.cmt .btn-group .btn-group+.btn-group{margin-left:-1px}.cmt .btn-toolbar{margin-left:-5px}.cmt .btn-toolbar .btn,.cmt .btn-toolbar .btn-group,.cmt .btn-toolbar .input-group{float:left}.cmt .btn-toolbar>.btn,.cmt .btn-toolbar>.btn-group,.cmt .btn-toolbar>.input-group{margin-left:5px}.cmt .btn-group>.btn:not(:first-child):not(:last-child):not(.dropdown-toggle){border-radius:0}.cmt .btn-group>.btn:first-child{margin-left:0}.cmt .btn-group>.btn:first-child:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-top-right-radius:0}.cmt .btn-group>.btn:last-child:not(:first-child),.cmt .btn-group>.dropdown-toggle:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}.cmt .btn-group>.btn-group{float:left}.cmt .btn-group>.btn-group:not(:first-child):not(:last-child)>.btn{border-radius:0}.cmt .btn-group>.btn-group:first-child:not(:last-child)>.btn:last-child,.cmt .btn-group>.btn-group:first-child:not(:last-child)>.dropdown-toggle{border-bottom-right-radius:0;border-top-right-radius:0}.cmt .btn-group>.btn-group:last-child:not(:first-child)>.btn:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.cmt .btn-group .dropdown-toggle:active,.cmt .btn-group.open .dropdown-toggle{outline:0}.cmt .btn-group>.btn+.dropdown-toggle{padding-left:8px;padding-right:8px}.cmt .btn-group>.btn-lg+.dropdown-toggle{padding-left:12px;padding-right:12px}.cmt .btn-group.open .dropdown-toggle{-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.cmt .btn-group.open .dropdown-toggle.btn-link{-webkit-box-shadow:none;box-shadow:none}.cmt .btn .caret{margin-left:0}.cmt .btn-lg .caret{border-width:5px 5px 0;border-bottom-width:0}.cmt .dropup .btn-lg .caret{border-width:0 5px 5px}.cmt .btn-group-vertical>.btn,.cmt .btn-group-vertical>.btn-group,.cmt .btn-group-vertical>.btn-group>.btn{display:block;float:none;width:100%;max-width:100%}.cmt .btn-group-vertical>.btn-group>.btn{float:none}.cmt .btn-group-vertical>.btn+.btn,.cmt .btn-group-vertical>.btn+.btn-group,.cmt .btn-group-vertical>.btn-group+.btn,.cmt .btn-group-vertical>.btn-group+.btn-group{margin-top:-1px;margin-left:0}.cmt .btn-group-vertical>.btn:not(:first-child):not(:last-child){border-radius:0}.cmt .btn-group-vertical>.btn:first-child:not(:last-child){border-top-right-radius:4px;border-top-left-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.cmt .btn-group-vertical>.btn:last-child:not(:first-child){border-top-right-radius:0;border-top-left-radius:0;border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cmt .btn-group-vertical>.btn-group:not(:first-child):not(:last-child)>.btn{border-radius:0}.cmt .btn-group-vertical>.btn-group:first-child:not(:last-child)>.btn:last-child,.cmt .btn-group-vertical>.btn-group:first-child:not(:last-child)>.dropdown-toggle{border-bottom-right-radius:0;border-bottom-left-radius:0}.cmt .btn-group-vertical>.btn-group:last-child:not(:first-child)>.btn:first-child{border-top-right-radius:0;border-top-left-radius:0}.cmt .btn-group-justified{display:table;width:100%;table-layout:fixed;border-collapse:separate}.cmt .btn-group-justified>.btn,.cmt .btn-group-justified>.btn-group{float:none;display:table-cell;width:1%}.cmt .btn-group-justified>.btn-group .btn{width:100%}.cmt .btn-group-justified>.btn-group .dropdown-menu{left:auto}.cmt [data-toggle=buttons]>.btn-group>.btn input[type=checkbox],.cmt [data-toggle=buttons]>.btn-group>.btn input[type=radio],.cmt [data-toggle=buttons]>.btn input[type=checkbox],.cmt [data-toggle=buttons]>.btn input[type=radio]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.cmt .input-group{position:relative;display:table;border-collapse:separate}.cmt .input-group[class*=col-]{float:none;padding-left:0;padding-right:0}.cmt .input-group .form-control{position:relative;z-index:2;float:left;width:100%;margin-bottom:0}.cmt .input-group .form-control:focus{z-index:3}.cmt .input-group-lg>.form-control,.cmt .input-group-lg>.input-group-addon,.cmt .input-group-lg>.input-group-btn>.btn{height:66px;padding:18px 27px;font-size:19px;line-height:1.3333333;border-radius:6px}select.cmt .input-group-lg>.form-control,select.cmt .input-group-lg>.input-group-addon,select.cmt .input-group-lg>.input-group-btn>.btn{height:66px;line-height:66px}select[multiple].cmt .input-group-lg>.form-control,select[multiple].cmt .input-group-lg>.input-group-addon,select[multiple].cmt .input-group-lg>.input-group-btn>.btn,textarea.cmt .input-group-lg>.form-control,textarea.cmt .input-group-lg>.input-group-addon,textarea.cmt .input-group-lg>.input-group-btn>.btn{height:auto}.cmt .input-group-sm>.form-control,.cmt .input-group-sm>.input-group-addon,.cmt .input-group-sm>.input-group-btn>.btn{height:35px;padding:6px 9px;font-size:13px;line-height:1.5;border-radius:3px}select.cmt .input-group-sm>.form-control,select.cmt .input-group-sm>.input-group-addon,select.cmt .input-group-sm>.input-group-btn>.btn{height:35px;line-height:35px}select[multiple].cmt .input-group-sm>.form-control,select[multiple].cmt .input-group-sm>.input-group-addon,select[multiple].cmt .input-group-sm>.input-group-btn>.btn,textarea.cmt .input-group-sm>.form-control,textarea.cmt .input-group-sm>.input-group-addon,textarea.cmt .input-group-sm>.input-group-btn>.btn{height:auto}.cmt .input-group-addon,.cmt .input-group-btn,.cmt .input-group .form-control{display:table-cell}.cmt .input-group-addon:not(:first-child):not(:last-child),.cmt .input-group-btn:not(:first-child):not(:last-child),.cmt .input-group .form-control:not(:first-child):not(:last-child){border-radius:0}.cmt .input-group-addon,.cmt .input-group-btn{width:1%;white-space:nowrap;vertical-align:middle}.cmt .input-group-addon{padding:10px 15px;font-size:15px;font-weight:400;line-height:1;color:#2c3e50;text-align:center;background-color:#ecf0f1;border:1px solid #dce4ec;border-radius:4px}.cmt .input-group-addon.input-sm{padding:6px 9px;font-size:13px;border-radius:3px}.cmt .input-group-addon.input-lg{padding:18px 27px;font-size:19px;border-radius:6px}.cmt .input-group-addon input[type=checkbox],.cmt .input-group-addon input[type=radio]{margin-top:0}.cmt .input-group-addon:first-child,.cmt .input-group-btn:first-child>.btn,.cmt .input-group-btn:first-child>.btn-group>.btn,.cmt .input-group-btn:first-child>.dropdown-toggle,.cmt .input-group-btn:last-child>.btn-group:not(:last-child)>.btn,.cmt .input-group-btn:last-child>.btn:not(:last-child):not(.dropdown-toggle),.cmt .input-group .form-control:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.cmt .input-group-addon:first-child{border-right:0}.cmt .input-group-addon:last-child,.cmt .input-group-btn:first-child>.btn-group:not(:first-child)>.btn,.cmt .input-group-btn:first-child>.btn:not(:first-child),.cmt .input-group-btn:last-child>.btn,.cmt .input-group-btn:last-child>.btn-group>.btn,.cmt .input-group-btn:last-child>.dropdown-toggle,.cmt .input-group .form-control:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.cmt .input-group-addon:last-child{border-left:0}.cmt .input-group-btn{position:relative;font-size:0;white-space:nowrap}.cmt .input-group-btn>.btn{position:relative}.cmt .input-group-btn>.btn+.btn{margin-left:-1px}.cmt .input-group-btn>.btn:active,.cmt .input-group-btn>.btn:focus,.cmt .input-group-btn>.btn:hover{z-index:2}.cmt .input-group-btn:first-child>.btn,.cmt .input-group-btn:first-child>.btn-group{margin-right:-1px}.cmt .input-group-btn:last-child>.btn,.cmt .input-group-btn:last-child>.btn-group{z-index:2;margin-left:-1px}.cmt .nav{margin-bottom:0;padding-left:0;list-style:none}.cmt .nav>li,.cmt .nav>li>a{position:relative;display:block}.cmt .nav>li>a{padding:10px 15px}.cmt .nav>li>a:focus,.cmt .nav>li>a:hover{text-decoration:none;background-color:#ecf0f1}.cmt .nav>li.disabled>a{color:#b4bcc2}.cmt .nav>li.disabled>a:focus,.cmt .nav>li.disabled>a:hover{color:#b4bcc2;text-decoration:none;background-color:transparent;cursor:not-allowed}.cmt .nav .open>a,.cmt .nav .open>a:focus,.cmt .nav .open>a:hover{background-color:#ecf0f1;border-color:#18bc9c}.cmt .nav .nav-divider{height:1px;margin:9.5px 0;overflow:hidden;background-color:#e5e5e5}.cmt .nav>li>a>img{max-width:none}.cmt .nav-tabs{border-bottom:1px solid #ecf0f1}.cmt .nav-tabs>li{float:left;margin-bottom:-1px}.cmt .nav-tabs>li>a{margin-right:2px;line-height:1.42857143;border:1px solid transparent;border-radius:4px 4px 0 0}.cmt .nav-tabs>li>a:hover{border-color:#ecf0f1}.cmt .nav-tabs>li.active>a,.cmt .nav-tabs>li.active>a:focus,.cmt .nav-tabs>li.active>a:hover{color:#2c3e50;background-color:#fff;border:1px solid #ecf0f1;border-bottom-color:transparent;cursor:default}.cmt .nav-tabs.nav-justified{width:100%;border-bottom:0}.cmt .nav-tabs.nav-justified>li{float:none}.cmt .nav-tabs.nav-justified>li>a{text-align:center;margin-bottom:5px}.cmt .nav-tabs.nav-justified>.dropdown .dropdown-menu{top:auto;left:auto}@media (min-width:768px){.cmt .nav-tabs.nav-justified>li{display:table-cell;width:1%}.cmt .nav-tabs.nav-justified>li>a{margin-bottom:0}}.cmt .nav-tabs.nav-justified>li>a{margin-right:0;border-radius:4px}.cmt .nav-tabs.nav-justified>.active>a,.cmt .nav-tabs.nav-justified>.active>a:focus,.cmt .nav-tabs.nav-justified>.active>a:hover{border:1px solid #ecf0f1}@media (min-width:768px){.cmt .nav-tabs.nav-justified>li>a{border-bottom:1px solid #ecf0f1;border-radius:4px 4px 0 0}.cmt .nav-tabs.nav-justified>.active>a,.cmt .nav-tabs.nav-justified>.active>a:focus,.cmt .nav-tabs.nav-justified>.active>a:hover{border-bottom-color:#fff}}.cmt .nav-pills>li{float:left}.cmt .nav-pills>li>a{border-radius:4px}.cmt .nav-pills>li+li{margin-left:2px}.cmt .nav-pills>li.active>a,.cmt .nav-pills>li.active>a:focus,.cmt .nav-pills>li.active>a:hover{color:#fff;background-color:#2c3e50}.cmt .nav-stacked>li{float:none}.cmt .nav-stacked>li+li{margin-top:2px;margin-left:0}.cmt .nav-justified{width:100%}.cmt .nav-justified>li{float:none}.cmt .nav-justified>li>a{text-align:center;margin-bottom:5px}.cmt .nav-justified>.dropdown .dropdown-menu{top:auto;left:auto}@media (min-width:768px){.cmt .nav-justified>li{display:table-cell;width:1%}.cmt .nav-justified>li>a{margin-bottom:0}}.cmt .nav-tabs-justified{border-bottom:0}.cmt .nav-tabs-justified>li>a{margin-right:0;border-radius:4px}.cmt .nav-tabs-justified>.active>a,.cmt .nav-tabs-justified>.active>a:focus,.cmt .nav-tabs-justified>.active>a:hover{border:1px solid #ecf0f1}@media (min-width:768px){.cmt .nav-tabs-justified>li>a{border-bottom:1px solid #ecf0f1;border-radius:4px 4px 0 0}.cmt .nav-tabs-justified>.active>a,.cmt .nav-tabs-justified>.active>a:focus,.cmt .nav-tabs-justified>.active>a:hover{border-bottom-color:#fff}}.cmt .tab-content>.tab-pane{display:none}.cmt .tab-content>.active{display:block}.cmt .nav-tabs .dropdown-menu{margin-top:-1px;border-top-right-radius:0;border-top-left-radius:0}.cmt .navbar{position:relative;min-height:60px;margin-bottom:21px;border:1px solid transparent}@media (min-width:768px){.cmt .navbar{border-radius:4px}}@media (min-width:768px){.cmt .navbar-header{float:left}}.cmt .navbar-collapse{overflow-x:visible;padding-right:15px;padding-left:15px;border-top:1px solid transparent;box-shadow:inset 0 1px 0 hsla(0,0%,100%,.1);-webkit-overflow-scrolling:touch}.cmt .navbar-collapse.in{overflow-y:auto}@media (min-width:768px){.cmt .navbar-collapse{width:auto;border-top:0;box-shadow:none}.cmt .navbar-collapse.collapse{display:block!important;height:auto!important;padding-bottom:0;overflow:visible!important}.cmt .navbar-collapse.in{overflow-y:visible}.navbar-fixed-bottom .cmt .navbar-collapse,.navbar-fixed-top .cmt .navbar-collapse,.navbar-static-top .cmt .navbar-collapse{padding-left:0;padding-right:0}}.cmt .navbar-fixed-bottom .navbar-collapse,.cmt .navbar-fixed-top .navbar-collapse{max-height:340px}@media (max-device-width:480px) and (orientation:landscape){.cmt .navbar-fixed-bottom .navbar-collapse,.cmt .navbar-fixed-top .navbar-collapse{max-height:200px}}.cmt .container-fluid>.navbar-collapse,.cmt .container-fluid>.navbar-header,.cmt .container>.navbar-collapse,.cmt .container>.navbar-header{margin-right:-15px;margin-left:-15px}@media (min-width:768px){.cmt .container-fluid>.navbar-collapse,.cmt .container-fluid>.navbar-header,.cmt .container>.navbar-collapse,.cmt .container>.navbar-header{margin-right:0;margin-left:0}}.cmt .navbar-static-top{z-index:1000;border-width:0 0 1px}@media (min-width:768px){.cmt .navbar-static-top{border-radius:0}}.cmt .navbar-fixed-bottom,.cmt .navbar-fixed-top{position:fixed;right:0;left:0;z-index:1030}@media (min-width:768px){.cmt .navbar-fixed-bottom,.cmt .navbar-fixed-top{border-radius:0}}.cmt .navbar-fixed-top{top:0;border-width:0 0 1px}.cmt .navbar-fixed-bottom{bottom:0;margin-bottom:0;border-width:1px 0 0}.cmt .navbar-brand{float:left;padding:19.5px 15px;font-size:19px;line-height:21px;height:60px}.cmt .navbar-brand:focus,.cmt .navbar-brand:hover{text-decoration:none}.cmt .navbar-brand>img{display:block}@media (min-width:768px){.navbar>.container-fluid .cmt .navbar-brand,.navbar>.container .cmt .navbar-brand{margin-left:-15px}}.cmt .navbar-toggle{position:relative;float:right;margin-right:15px;padding:9px 10px;margin-top:13px;margin-bottom:13px;background-color:transparent;background-image:none;border:1px solid transparent;border-radius:4px}.cmt .navbar-toggle:focus{outline:0}.cmt .navbar-toggle .icon-bar{display:block;width:22px;height:2px;border-radius:1px}.cmt .navbar-toggle .icon-bar+.icon-bar{margin-top:4px}@media (min-width:768px){.cmt .navbar-toggle{display:none}}.cmt .navbar-nav{margin:9.75px -15px}.cmt .navbar-nav>li>a{padding-top:10px;padding-bottom:10px;line-height:21px}@media (max-width:767px){.cmt .navbar-nav .open .dropdown-menu{position:static;float:none;width:auto;margin-top:0;background-color:transparent;border:0;box-shadow:none}.cmt .navbar-nav .open .dropdown-menu .dropdown-header,.cmt .navbar-nav .open .dropdown-menu>li>a{padding:5px 15px 5px 25px}.cmt .navbar-nav .open .dropdown-menu>li>a{line-height:21px}.cmt .navbar-nav .open .dropdown-menu>li>a:focus,.cmt .navbar-nav .open .dropdown-menu>li>a:hover{background-image:none}}@media (min-width:768px){.cmt .navbar-nav{float:left;margin:0}.cmt .navbar-nav>li{float:left}.cmt .navbar-nav>li>a{padding-top:19.5px;padding-bottom:19.5px}}.cmt .navbar-form{margin:7.5px -15px;padding:10px 15px;border-top:1px solid transparent;border-bottom:1px solid transparent;-webkit-box-shadow:inset 0 1px 0 hsla(0,0%,100%,.1),0 1px 0 hsla(0,0%,100%,.1);box-shadow:inset 0 1px 0 hsla(0,0%,100%,.1),0 1px 0 hsla(0,0%,100%,.1)}@media (min-width:768px){.cmt .navbar-form .form-group{display:inline-block;margin-bottom:0;vertical-align:middle}.cmt .navbar-form .form-control{display:inline-block;width:auto;vertical-align:middle}.cmt .navbar-form .form-control-static{display:inline-block}.cmt .navbar-form .input-group{display:inline-table;vertical-align:middle}.cmt .navbar-form .input-group .form-control,.cmt .navbar-form .input-group .input-group-addon,.cmt .navbar-form .input-group .input-group-btn{width:auto}.cmt .navbar-form .input-group>.form-control{width:100%}.cmt .navbar-form .control-label{margin-bottom:0;vertical-align:middle}.cmt .navbar-form .checkbox,.cmt .navbar-form .radio{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.cmt .navbar-form .checkbox label,.cmt .navbar-form .radio label{padding-left:0}.cmt .navbar-form .checkbox input[type=checkbox],.cmt .navbar-form .radio input[type=radio]{position:relative;margin-left:0}.cmt .navbar-form .has-feedback .form-control-feedback{top:0}}@media (max-width:767px){.cmt .navbar-form .form-group{margin-bottom:5px}.cmt .navbar-form .form-group:last-child{margin-bottom:0}}@media (min-width:768px){.cmt .navbar-form{width:auto;border:0;margin-left:0;margin-right:0;padding-top:0;padding-bottom:0;-webkit-box-shadow:none;box-shadow:none}}.cmt .navbar-nav>li>.dropdown-menu{margin-top:0;border-top-right-radius:0;border-top-left-radius:0}.cmt .navbar-fixed-bottom .navbar-nav>li>.dropdown-menu{margin-bottom:0;border-top-right-radius:4px;border-top-left-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.cmt .navbar-btn{margin-top:7.5px;margin-bottom:7.5px}.cmt .navbar-btn.btn-sm{margin-top:12.5px;margin-bottom:12.5px}.cmt .navbar-btn.btn-xs{margin-top:19px;margin-bottom:19px}.cmt .navbar-text{margin-top:19.5px;margin-bottom:19.5px}@media (min-width:768px){.cmt .navbar-text{float:left;margin-left:15px;margin-right:15px}}@media (min-width:768px){.cmt .navbar-left{float:left!important}.cmt .navbar-right{float:right!important;margin-right:-15px}.cmt .navbar-right~.navbar-right{margin-right:0}}.cmt .navbar-default{background-color:#2c3e50;border-color:transparent}.cmt .navbar-default .navbar-brand{color:#fff}.cmt .navbar-default .navbar-brand:focus,.cmt .navbar-default .navbar-brand:hover{color:#18bc9c;background-color:transparent}.cmt .navbar-default .navbar-nav>li>a,.cmt .navbar-default .navbar-text{color:#fff}.cmt .navbar-default .navbar-nav>li>a:focus,.cmt .navbar-default .navbar-nav>li>a:hover{color:#18bc9c;background-color:transparent}.cmt .navbar-default .navbar-nav>.active>a,.cmt .navbar-default .navbar-nav>.active>a:focus,.cmt .navbar-default .navbar-nav>.active>a:hover{color:#fff;background-color:#1a242f}.cmt .navbar-default .navbar-nav>.disabled>a,.cmt .navbar-default .navbar-nav>.disabled>a:focus,.cmt .navbar-default .navbar-nav>.disabled>a:hover{color:#ccc;background-color:transparent}.cmt .navbar-default .navbar-toggle{border-color:#1a242f}.cmt .navbar-default .navbar-toggle:focus,.cmt .navbar-default .navbar-toggle:hover{background-color:#1a242f}.cmt .navbar-default .navbar-toggle .icon-bar{background-color:#fff}.cmt .navbar-default .navbar-collapse,.cmt .navbar-default .navbar-form{border-color:transparent}.cmt .navbar-default .navbar-nav>.open>a,.cmt .navbar-default .navbar-nav>.open>a:focus,.cmt .navbar-default .navbar-nav>.open>a:hover{background-color:#1a242f;color:#fff}@media (max-width:767px){.cmt .navbar-default .navbar-nav .open .dropdown-menu>li>a{color:#fff}.cmt .navbar-default .navbar-nav .open .dropdown-menu>li>a:focus,.cmt .navbar-default .navbar-nav .open .dropdown-menu>li>a:hover{color:#18bc9c;background-color:transparent}.cmt .navbar-default .navbar-nav .open .dropdown-menu>.active>a,.cmt .navbar-default .navbar-nav .open .dropdown-menu>.active>a:focus,.cmt .navbar-default .navbar-nav .open .dropdown-menu>.active>a:hover{color:#fff;background-color:#1a242f}.cmt .navbar-default .navbar-nav .open .dropdown-menu>.disabled>a,.cmt .navbar-default .navbar-nav .open .dropdown-menu>.disabled>a:focus,.cmt .navbar-default .navbar-nav .open .dropdown-menu>.disabled>a:hover{color:#ccc;background-color:transparent}}.cmt .navbar-default .navbar-link{color:#fff}.cmt .navbar-default .navbar-link:hover{color:#18bc9c}.cmt .navbar-default .btn-link{color:#fff}.cmt .navbar-default .btn-link:focus,.cmt .navbar-default .btn-link:hover{color:#18bc9c}.cmt .navbar-default .btn-link[disabled]:focus,.cmt .navbar-default .btn-link[disabled]:hover,fieldset[disabled] .cmt .navbar-default .btn-link:focus,fieldset[disabled] .cmt .navbar-default .btn-link:hover{color:#ccc}.cmt .navbar-inverse{background-color:#18bc9c;border-color:transparent}.cmt .navbar-inverse .navbar-brand{color:#fff}.cmt .navbar-inverse .navbar-brand:focus,.cmt .navbar-inverse .navbar-brand:hover{color:#2c3e50;background-color:transparent}.cmt .navbar-inverse .navbar-nav>li>a,.cmt .navbar-inverse .navbar-text{color:#fff}.cmt .navbar-inverse .navbar-nav>li>a:focus,.cmt .navbar-inverse .navbar-nav>li>a:hover{color:#2c3e50;background-color:transparent}.cmt .navbar-inverse .navbar-nav>.active>a,.cmt .navbar-inverse .navbar-nav>.active>a:focus,.cmt .navbar-inverse .navbar-nav>.active>a:hover{color:#fff;background-color:#15a589}.cmt .navbar-inverse .navbar-nav>.disabled>a,.cmt .navbar-inverse .navbar-nav>.disabled>a:focus,.cmt .navbar-inverse .navbar-nav>.disabled>a:hover{color:#ccc;background-color:transparent}.cmt .navbar-inverse .navbar-toggle{border-color:#128f76}.cmt .navbar-inverse .navbar-toggle:focus,.cmt .navbar-inverse .navbar-toggle:hover{background-color:#128f76}.cmt .navbar-inverse .navbar-toggle .icon-bar{background-color:#fff}.cmt .navbar-inverse .navbar-collapse,.cmt .navbar-inverse .navbar-form{border-color:#149c82}.cmt .navbar-inverse .navbar-nav>.open>a,.cmt .navbar-inverse .navbar-nav>.open>a:focus,.cmt .navbar-inverse .navbar-nav>.open>a:hover{background-color:#15a589;color:#fff}@media (max-width:767px){.cmt .navbar-inverse .navbar-nav .open .dropdown-menu>.dropdown-header{border-color:transparent}.cmt .navbar-inverse .navbar-nav .open .dropdown-menu .divider{background-color:transparent}.cmt .navbar-inverse .navbar-nav .open .dropdown-menu>li>a{color:#fff}.cmt .navbar-inverse .navbar-nav .open .dropdown-menu>li>a:focus,.cmt .navbar-inverse .navbar-nav .open .dropdown-menu>li>a:hover{color:#2c3e50;background-color:transparent}.cmt .navbar-inverse .navbar-nav .open .dropdown-menu>.active>a,.cmt .navbar-inverse .navbar-nav .open .dropdown-menu>.active>a:focus,.cmt .navbar-inverse .navbar-nav .open .dropdown-menu>.active>a:hover{color:#fff;background-color:#15a589}.cmt .navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a,.cmt .navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a:focus,.cmt .navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a:hover{color:#ccc;background-color:transparent}}.cmt .navbar-inverse .navbar-link{color:#fff}.cmt .navbar-inverse .navbar-link:hover{color:#2c3e50}.cmt .navbar-inverse .btn-link{color:#fff}.cmt .navbar-inverse .btn-link:focus,.cmt .navbar-inverse .btn-link:hover{color:#2c3e50}.cmt .navbar-inverse .btn-link[disabled]:focus,.cmt .navbar-inverse .btn-link[disabled]:hover,fieldset[disabled] .cmt .navbar-inverse .btn-link:focus,fieldset[disabled] .cmt .navbar-inverse .btn-link:hover{color:#ccc}.cmt .breadcrumb{padding:8px 15px;margin-bottom:21px;list-style:none;background-color:#ecf0f1;border-radius:4px}.cmt .breadcrumb>li{display:inline-block}.cmt .breadcrumb>li+li:before{content:"/\\A0";padding:0 5px;color:#ccc}.cmt .breadcrumb>.active{color:#95a5a6}.cmt .pagination{display:inline-block;padding-left:0;margin:21px 0;border-radius:4px}.cmt .pagination>li{display:inline}.cmt .pagination>li>a,.cmt .pagination>li>span{position:relative;float:left;padding:10px 15px;line-height:1.42857143;text-decoration:none;color:#fff;background-color:#18bc9c;border:1px solid transparent;margin-left:-1px}.cmt .pagination>li:first-child>a,.cmt .pagination>li:first-child>span{margin-left:0;border-bottom-left-radius:4px;border-top-left-radius:4px}.cmt .pagination>li:last-child>a,.cmt .pagination>li:last-child>span{border-bottom-right-radius:4px;border-top-right-radius:4px}.cmt .pagination>li>a:focus,.cmt .pagination>li>a:hover,.cmt .pagination>li>span:focus,.cmt .pagination>li>span:hover{z-index:2;color:#fff;background-color:#0f7864;border-color:transparent}.cmt .pagination>.active>a,.cmt .pagination>.active>a:focus,.cmt .pagination>.active>a:hover,.cmt .pagination>.active>span,.cmt .pagination>.active>span:focus,.cmt .pagination>.active>span:hover{z-index:3;color:#fff;background-color:#0f7864;border-color:transparent;cursor:default}.cmt .pagination>.disabled>a,.cmt .pagination>.disabled>a:focus,.cmt .pagination>.disabled>a:hover,.cmt .pagination>.disabled>span,.cmt .pagination>.disabled>span:focus,.cmt .pagination>.disabled>span:hover{color:#ecf0f1;background-color:#3be6c4;border-color:transparent;cursor:not-allowed}.cmt .pagination-lg>li>a,.cmt .pagination-lg>li>span{padding:18px 27px;font-size:19px;line-height:1.3333333}.cmt .pagination-lg>li:first-child>a,.cmt .pagination-lg>li:first-child>span{border-bottom-left-radius:6px;border-top-left-radius:6px}.cmt .pagination-lg>li:last-child>a,.cmt .pagination-lg>li:last-child>span{border-bottom-right-radius:6px;border-top-right-radius:6px}.cmt .pagination-sm>li>a,.cmt .pagination-sm>li>span{padding:6px 9px;font-size:13px;line-height:1.5}.cmt .pagination-sm>li:first-child>a,.cmt .pagination-sm>li:first-child>span{border-bottom-left-radius:3px;border-top-left-radius:3px}.cmt .pagination-sm>li:last-child>a,.cmt .pagination-sm>li:last-child>span{border-bottom-right-radius:3px;border-top-right-radius:3px}.cmt .pager{padding-left:0;margin:21px 0;list-style:none;text-align:center}.cmt .pager li{display:inline}.cmt .pager li>a,.cmt .pager li>span{display:inline-block;padding:5px 14px;background-color:#18bc9c;border:1px solid transparent;border-radius:15px}.cmt .pager li>a:focus,.cmt .pager li>a:hover{text-decoration:none;background-color:#0f7864}.cmt .pager .next>a,.cmt .pager .next>span{float:right}.cmt .pager .previous>a,.cmt .pager .previous>span{float:left}.cmt .pager .disabled>a,.cmt .pager .disabled>a:focus,.cmt .pager .disabled>a:hover,.cmt .pager .disabled>span{color:#fff;background-color:#18bc9c;cursor:not-allowed}.cmt .label{display:inline;padding:.2em .6em .3em;font-size:75%;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25em}a.cmt .label:focus,a.cmt .label:hover{color:#fff;text-decoration:none;cursor:pointer}.cmt .label:empty{display:none}.btn .cmt .label{position:relative;top:-1px}.cmt .label-default{background-color:#95a5a6}.cmt .label-default[href]:focus,.cmt .label-default[href]:hover{background-color:#798d8f}.cmt .label-primary{background-color:#2c3e50}.cmt .label-primary[href]:focus,.cmt .label-primary[href]:hover{background-color:#1a242f}.cmt .label-success{background-color:#18bc9c}.cmt .label-success[href]:focus,.cmt .label-success[href]:hover{background-color:#128f76}.cmt .label-info{background-color:#3498db}.cmt .label-info[href]:focus,.cmt .label-info[href]:hover{background-color:#217dbb}.cmt .label-warning{background-color:#f39c12}.cmt .label-warning[href]:focus,.cmt .label-warning[href]:hover{background-color:#c87f0a}.cmt .label-danger{background-color:#e74c3c}.cmt .label-danger[href]:focus,.cmt .label-danger[href]:hover{background-color:#d62c1a}.cmt .badge{display:inline-block;min-width:10px;padding:3px 7px;font-size:13px;font-weight:700;color:#fff;line-height:1;vertical-align:middle;white-space:nowrap;text-align:center;background-color:#2c3e50;border-radius:10px}.cmt .badge:empty{display:none}.btn .cmt .badge{position:relative;top:-1px}.btn-group-xs>.btn .cmt .badge,.btn-xs .cmt .badge{top:0;padding:1px 5px}a.cmt .badge:focus,a.cmt .badge:hover{color:#fff;text-decoration:none;cursor:pointer}.list-group-item.active>.cmt .badge,.nav-pills>.active>a>.cmt .badge{color:#2c3e50;background-color:#fff}.list-group-item>.cmt .badge{float:right}.list-group-item>.cmt .badge+.cmt .badge{margin-right:5px}.nav-pills>li>a>.cmt .badge{margin-left:3px}.cmt .jumbotron{padding-top:30px;padding-bottom:30px;margin-bottom:30px;color:inherit;background-color:#ecf0f1}.cmt .jumbotron .h1,.cmt .jumbotron h1{color:inherit}.cmt .jumbotron p{margin-bottom:15px;font-size:23px;font-weight:200}.cmt .jumbotron>hr{border-top-color:#cfd9db}.container-fluid .cmt .jumbotron,.container .cmt .jumbotron{border-radius:6px;padding-left:15px;padding-right:15px}.cmt .jumbotron .container{max-width:100%}@media screen and (min-width:768px){.cmt .jumbotron{padding-top:48px;padding-bottom:48px}.container-fluid .cmt .jumbotron,.container .cmt .jumbotron{padding-left:60px;padding-right:60px}.cmt .jumbotron .h1,.cmt .jumbotron h1{font-size:68px}}.cmt .thumbnail{display:block;padding:4px;margin-bottom:21px;line-height:1.42857143;background-color:#fff;border:1px solid #ecf0f1;border-radius:4px;-webkit-transition:border .2s ease-in-out;-o-transition:border .2s ease-in-out;transition:border .2s ease-in-out}.cmt .thumbnail>img,.cmt .thumbnail a>img{margin-left:auto;margin-right:auto}a.cmt .thumbnail.active,a.cmt .thumbnail:focus,a.cmt .thumbnail:hover{border-color:#18bc9c}.cmt .thumbnail .caption{padding:9px;color:#2c3e50}.cmt .alert{margin-bottom:21px;border-radius:4px}.cmt .alert-success{background-color:#18bc9c;border-color:#18bc9c;color:#fff}.cmt .alert-success hr{border-top-color:#15a589}.cmt .alert-success .alert-link{color:#e6e6e6}.cmt .alert-info{background-color:#3498db;border-color:#3498db;color:#fff}.cmt .alert-info hr{border-top-color:#258cd1}.cmt .alert-info .alert-link{color:#e6e6e6}.cmt .alert-warning{background-color:#f39c12;border-color:#f39c12;color:#fff}.cmt .alert-warning hr{border-top-color:#e08e0b}.cmt .alert-warning .alert-link{color:#e6e6e6}.cmt .alert-danger{background-color:#e74c3c;border-color:#e74c3c;color:#fff}.cmt .alert-danger hr{border-top-color:#e43725}.cmt .alert-danger .alert-link{color:#e6e6e6}@-webkit-keyframes progress-bar-stripes{0%{background-position:40px 0}to{background-position:0 0}}@keyframes progress-bar-stripes{0%{background-position:40px 0}to{background-position:0 0}}.cmt .progress{overflow:hidden;height:21px;margin-bottom:21px;background-color:#ecf0f1;border-radius:4px;-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);box-shadow:inset 0 1px 2px rgba(0,0,0,.1)}.cmt .progress-bar{float:left;width:0;height:100%;font-size:13px;line-height:21px;color:#fff;text-align:center;background-color:#2c3e50;-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);-webkit-transition:width .6s ease;-o-transition:width .6s ease;transition:width .6s ease}.cmt .progress-bar-striped,.cmt .progress-striped .progress-bar{background-image:-webkit-linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent);background-image:-o-linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 25%,transparent 50%,hsla(0,0%,100%,.15) 50%,hsla(0,0%,100%,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent);background-size:40px 40px}.cmt .progress-bar.active,.cmt .progress.active .progress-bar{-webkit-animation:progress-bar-stripes 2s linear infinite;-o-animation:progress-bar-stripes 2s linear infinite;animation:progress-bar-stripes 2s linear infinite}.cmt .progress-bar-success{background-color:#18bc9c}.progress-striped .cmt .progress-bar-success{background-image:-webkit-linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent);background-image:-o-linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 25%,transparent 50%,hsla(0,0%,100%,.15) 50%,hsla(0,0%,100%,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent)}.cmt .progress-bar-info{background-color:#3498db}.progress-striped .cmt .progress-bar-info{background-image:-webkit-linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent);background-image:-o-linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 25%,transparent 50%,hsla(0,0%,100%,.15) 50%,hsla(0,0%,100%,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent)}.cmt .progress-bar-warning{background-color:#f39c12}.progress-striped .cmt .progress-bar-warning{background-image:-webkit-linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent);background-image:-o-linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 25%,transparent 50%,hsla(0,0%,100%,.15) 50%,hsla(0,0%,100%,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent)}.cmt .progress-bar-danger{background-color:#e74c3c}.progress-striped .cmt .progress-bar-danger{background-image:-webkit-linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent);background-image:-o-linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 25%,transparent 50%,hsla(0,0%,100%,.15) 50%,hsla(0,0%,100%,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent)}.cmt .media{margin-top:15px}.cmt .media:first-child{margin-top:0}.cmt .media,.cmt .media-body{zoom:1;overflow:hidden}.cmt .media-body{width:10000px}.cmt .media-object{display:block}.cmt .media-object.img-thumbnail{max-width:none}.cmt .media-right,.cmt .media>.pull-right{padding-left:10px}.cmt .media-left,.cmt .media>.pull-left{padding-right:10px}.cmt .media-body,.cmt .media-left,.cmt .media-right{display:table-cell;vertical-align:top}.cmt .media-middle{vertical-align:middle}.cmt .media-bottom{vertical-align:bottom}.cmt .media-heading{margin-top:0;margin-bottom:5px}.cmt .media-list{padding-left:0;list-style:none}.cmt .list-group{margin-bottom:20px;padding-left:0}.cmt .list-group-item{position:relative;display:block;padding:10px 15px;margin-bottom:-1px;background-color:#fff;border:1px solid #ecf0f1}.cmt .list-group-item:first-child{border-top-right-radius:4px;border-top-left-radius:4px}.cmt .list-group-item:last-child{margin-bottom:0;border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cmt a.list-group-item,.cmt button.list-group-item{color:#555}.cmt a.list-group-item .list-group-item-heading,.cmt button.list-group-item .list-group-item-heading{color:#333}.cmt a.list-group-item:focus,.cmt a.list-group-item:hover,.cmt button.list-group-item:focus,.cmt button.list-group-item:hover{text-decoration:none;color:#555;background-color:#ecf0f1}.cmt button.list-group-item{width:100%;text-align:left}.cmt .list-group-item.disabled,.cmt .list-group-item.disabled:focus,.cmt .list-group-item.disabled:hover{background-color:#ecf0f1;color:#b4bcc2;cursor:not-allowed}.cmt .list-group-item.disabled .list-group-item-heading,.cmt .list-group-item.disabled:focus .list-group-item-heading,.cmt .list-group-item.disabled:hover .list-group-item-heading{color:inherit}.cmt .list-group-item.disabled .list-group-item-text,.cmt .list-group-item.disabled:focus .list-group-item-text,.cmt .list-group-item.disabled:hover .list-group-item-text{color:#b4bcc2}.cmt .list-group-item.active,.cmt .list-group-item.active:focus,.cmt .list-group-item.active:hover{z-index:2;color:#fff;background-color:#2c3e50;border-color:#2c3e50}.cmt .list-group-item.active .list-group-item-heading,.cmt .list-group-item.active .list-group-item-heading>.small,.cmt .list-group-item.active .list-group-item-heading>small,.cmt .list-group-item.active:focus .list-group-item-heading,.cmt .list-group-item.active:focus .list-group-item-heading>.small,.cmt .list-group-item.active:focus .list-group-item-heading>small,.cmt .list-group-item.active:hover .list-group-item-heading,.cmt .list-group-item.active:hover .list-group-item-heading>.small,.cmt .list-group-item.active:hover .list-group-item-heading>small{color:inherit}.cmt .list-group-item.active .list-group-item-text,.cmt .list-group-item.active:focus .list-group-item-text,.cmt .list-group-item.active:hover .list-group-item-text{color:#8aa4be}.cmt .list-group-item-success{color:#fff;background-color:#18bc9c}a.cmt .list-group-item-success,button.cmt .list-group-item-success{color:#fff}a.cmt .list-group-item-success .list-group-item-heading,button.cmt .list-group-item-success .list-group-item-heading{color:inherit}a.cmt .list-group-item-success:focus,a.cmt .list-group-item-success:hover,button.cmt .list-group-item-success:focus,button.cmt .list-group-item-success:hover{color:#fff;background-color:#15a589}a.cmt .list-group-item-success.active,a.cmt .list-group-item-success.active:focus,a.cmt .list-group-item-success.active:hover,button.cmt .list-group-item-success.active,button.cmt .list-group-item-success.active:focus,button.cmt .list-group-item-success.active:hover{color:#fff;background-color:#fff;border-color:#fff}.cmt .list-group-item-info{color:#fff;background-color:#3498db}a.cmt .list-group-item-info,button.cmt .list-group-item-info{color:#fff}a.cmt .list-group-item-info .list-group-item-heading,button.cmt .list-group-item-info .list-group-item-heading{color:inherit}a.cmt .list-group-item-info:focus,a.cmt .list-group-item-info:hover,button.cmt .list-group-item-info:focus,button.cmt .list-group-item-info:hover{color:#fff;background-color:#258cd1}a.cmt .list-group-item-info.active,a.cmt .list-group-item-info.active:focus,a.cmt .list-group-item-info.active:hover,button.cmt .list-group-item-info.active,button.cmt .list-group-item-info.active:focus,button.cmt .list-group-item-info.active:hover{color:#fff;background-color:#fff;border-color:#fff}.cmt .list-group-item-warning{color:#fff;background-color:#f39c12}a.cmt .list-group-item-warning,button.cmt .list-group-item-warning{color:#fff}a.cmt .list-group-item-warning .list-group-item-heading,button.cmt .list-group-item-warning .list-group-item-heading{color:inherit}a.cmt .list-group-item-warning:focus,a.cmt .list-group-item-warning:hover,button.cmt .list-group-item-warning:focus,button.cmt .list-group-item-warning:hover{color:#fff;background-color:#e08e0b}a.cmt .list-group-item-warning.active,a.cmt .list-group-item-warning.active:focus,a.cmt .list-group-item-warning.active:hover,button.cmt .list-group-item-warning.active,button.cmt .list-group-item-warning.active:focus,button.cmt .list-group-item-warning.active:hover{color:#fff;background-color:#fff;border-color:#fff}.cmt .list-group-item-danger{color:#fff;background-color:#e74c3c}a.cmt .list-group-item-danger,button.cmt .list-group-item-danger{color:#fff}a.cmt .list-group-item-danger .list-group-item-heading,button.cmt .list-group-item-danger .list-group-item-heading{color:inherit}a.cmt .list-group-item-danger:focus,a.cmt .list-group-item-danger:hover,button.cmt .list-group-item-danger:focus,button.cmt .list-group-item-danger:hover{color:#fff;background-color:#e43725}a.cmt .list-group-item-danger.active,a.cmt .list-group-item-danger.active:focus,a.cmt .list-group-item-danger.active:hover,button.cmt .list-group-item-danger.active,button.cmt .list-group-item-danger.active:focus,button.cmt .list-group-item-danger.active:hover{color:#fff;background-color:#fff;border-color:#fff}.cmt .list-group-item-heading{margin-top:0;margin-bottom:5px}.cmt .list-group-item-text{margin-bottom:0;line-height:1.3}.cmt .panel{margin-bottom:21px;background-color:#fff;border:1px solid transparent;border-radius:4px;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.05);box-shadow:0 1px 1px rgba(0,0,0,.05)}.cmt .panel-body{padding:15px}.cmt .panel-heading{padding:10px 15px;border-bottom:1px solid transparent;border-top-right-radius:3px;border-top-left-radius:3px}.cmt .panel-heading>.dropdown .dropdown-toggle{color:inherit}.cmt .panel-title{margin-top:0;margin-bottom:0;font-size:17px;color:inherit}.cmt .panel-title>.small,.cmt .panel-title>.small>a,.cmt .panel-title>a,.cmt .panel-title>small,.cmt .panel-title>small>a{color:inherit}.cmt .panel-footer{padding:10px 15px;background-color:#ecf0f1;border-top:1px solid #ecf0f1;border-bottom-right-radius:3px;border-bottom-left-radius:3px}.cmt .panel>.list-group,.cmt .panel>.panel-collapse>.list-group{margin-bottom:0}.cmt .panel>.list-group .list-group-item,.cmt .panel>.panel-collapse>.list-group .list-group-item{border-width:1px 0;border-radius:0}.cmt .panel>.list-group:first-child .list-group-item:first-child,.cmt .panel>.panel-collapse>.list-group:first-child .list-group-item:first-child{border-top:0;border-top-right-radius:3px;border-top-left-radius:3px}.cmt .panel>.list-group:last-child .list-group-item:last-child,.cmt .panel>.panel-collapse>.list-group:last-child .list-group-item:last-child{border-bottom:0;border-bottom-right-radius:3px;border-bottom-left-radius:3px}.cmt .panel>.panel-heading+.panel-collapse>.list-group .list-group-item:first-child{border-top-right-radius:0;border-top-left-radius:0}.cmt .list-group+.panel-footer,.cmt .panel-heading+.list-group .list-group-item:first-child{border-top-width:0}.cmt .panel>.panel-collapse>.table,.cmt .panel>.table,.cmt .panel>.table-responsive>.table{margin-bottom:0}.cmt .panel>.panel-collapse>.table caption,.cmt .panel>.table-responsive>.table caption,.cmt .panel>.table caption{padding-left:15px;padding-right:15px}.cmt .panel>.table-responsive:first-child>.table:first-child,.cmt .panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child,.cmt .panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child,.cmt .panel>.table:first-child,.cmt .panel>.table:first-child>tbody:first-child>tr:first-child,.cmt .panel>.table:first-child>thead:first-child>tr:first-child{border-top-right-radius:3px;border-top-left-radius:3px}.cmt .panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child td:first-child,.cmt .panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child th:first-child,.cmt .panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child td:first-child,.cmt .panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child th:first-child,.cmt .panel>.table:first-child>tbody:first-child>tr:first-child td:first-child,.cmt .panel>.table:first-child>tbody:first-child>tr:first-child th:first-child,.cmt .panel>.table:first-child>thead:first-child>tr:first-child td:first-child,.cmt .panel>.table:first-child>thead:first-child>tr:first-child th:first-child{border-top-left-radius:3px}.cmt .panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child td:last-child,.cmt .panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child th:last-child,.cmt .panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child td:last-child,.cmt .panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child th:last-child,.cmt .panel>.table:first-child>tbody:first-child>tr:first-child td:last-child,.cmt .panel>.table:first-child>tbody:first-child>tr:first-child th:last-child,.cmt .panel>.table:first-child>thead:first-child>tr:first-child td:last-child,.cmt .panel>.table:first-child>thead:first-child>tr:first-child th:last-child{border-top-right-radius:3px}.cmt .panel>.table-responsive:last-child>.table:last-child,.cmt .panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child,.cmt .panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child,.cmt .panel>.table:last-child,.cmt .panel>.table:last-child>tbody:last-child>tr:last-child,.cmt .panel>.table:last-child>tfoot:last-child>tr:last-child{border-bottom-right-radius:3px;border-bottom-left-radius:3px}.cmt .panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child td:first-child,.cmt .panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child th:first-child,.cmt .panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child td:first-child,.cmt .panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child th:first-child,.cmt .panel>.table:last-child>tbody:last-child>tr:last-child td:first-child,.cmt .panel>.table:last-child>tbody:last-child>tr:last-child th:first-child,.cmt .panel>.table:last-child>tfoot:last-child>tr:last-child td:first-child,.cmt .panel>.table:last-child>tfoot:last-child>tr:last-child th:first-child{border-bottom-left-radius:3px}.cmt .panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child td:last-child,.cmt .panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child th:last-child,.cmt .panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child td:last-child,.cmt .panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child th:last-child,.cmt .panel>.table:last-child>tbody:last-child>tr:last-child td:last-child,.cmt .panel>.table:last-child>tbody:last-child>tr:last-child th:last-child,.cmt .panel>.table:last-child>tfoot:last-child>tr:last-child td:last-child,.cmt .panel>.table:last-child>tfoot:last-child>tr:last-child th:last-child{border-bottom-right-radius:3px}.cmt .panel>.panel-body+.table,.cmt .panel>.panel-body+.table-responsive,.cmt .panel>.table+.panel-body,.cmt .panel>.table-responsive+.panel-body{border-top:1px solid #ecf0f1}.cmt .panel>.table>tbody:first-child>tr:first-child td,.cmt .panel>.table>tbody:first-child>tr:first-child th{border-top:0}.cmt .panel>.table-bordered,.cmt .panel>.table-responsive>.table-bordered{border:0}.cmt .panel>.table-bordered>tbody>tr>td:first-child,.cmt .panel>.table-bordered>tbody>tr>th:first-child,.cmt .panel>.table-bordered>tfoot>tr>td:first-child,.cmt .panel>.table-bordered>tfoot>tr>th:first-child,.cmt .panel>.table-bordered>thead>tr>td:first-child,.cmt .panel>.table-bordered>thead>tr>th:first-child,.cmt .panel>.table-responsive>.table-bordered>tbody>tr>td:first-child,.cmt .panel>.table-responsive>.table-bordered>tbody>tr>th:first-child,.cmt .panel>.table-responsive>.table-bordered>tfoot>tr>td:first-child,.cmt .panel>.table-responsive>.table-bordered>tfoot>tr>th:first-child,.cmt .panel>.table-responsive>.table-bordered>thead>tr>td:first-child,.cmt .panel>.table-responsive>.table-bordered>thead>tr>th:first-child{border-left:0}.cmt .panel>.table-bordered>tbody>tr>td:last-child,.cmt .panel>.table-bordered>tbody>tr>th:last-child,.cmt .panel>.table-bordered>tfoot>tr>td:last-child,.cmt .panel>.table-bordered>tfoot>tr>th:last-child,.cmt .panel>.table-bordered>thead>tr>td:last-child,.cmt .panel>.table-bordered>thead>tr>th:last-child,.cmt .panel>.table-responsive>.table-bordered>tbody>tr>td:last-child,.cmt .panel>.table-responsive>.table-bordered>tbody>tr>th:last-child,.cmt .panel>.table-responsive>.table-bordered>tfoot>tr>td:last-child,.cmt .panel>.table-responsive>.table-bordered>tfoot>tr>th:last-child,.cmt .panel>.table-responsive>.table-bordered>thead>tr>td:last-child,.cmt .panel>.table-responsive>.table-bordered>thead>tr>th:last-child{border-right:0}.cmt .panel>.table-bordered>tbody>tr:first-child>td,.cmt .panel>.table-bordered>tbody>tr:first-child>th,.cmt .panel>.table-bordered>tbody>tr:last-child>td,.cmt .panel>.table-bordered>tbody>tr:last-child>th,.cmt .panel>.table-bordered>tfoot>tr:last-child>td,.cmt .panel>.table-bordered>tfoot>tr:last-child>th,.cmt .panel>.table-bordered>thead>tr:first-child>td,.cmt .panel>.table-bordered>thead>tr:first-child>th,.cmt .panel>.table-responsive>.table-bordered>tbody>tr:first-child>td,.cmt .panel>.table-responsive>.table-bordered>tbody>tr:first-child>th,.cmt .panel>.table-responsive>.table-bordered>tbody>tr:last-child>td,.cmt .panel>.table-responsive>.table-bordered>tbody>tr:last-child>th,.cmt .panel>.table-responsive>.table-bordered>tfoot>tr:last-child>td,.cmt .panel>.table-responsive>.table-bordered>tfoot>tr:last-child>th,.cmt .panel>.table-responsive>.table-bordered>thead>tr:first-child>td,.cmt .panel>.table-responsive>.table-bordered>thead>tr:first-child>th{border-bottom:0}.cmt .panel>.table-responsive{border:0;margin-bottom:0}.cmt .panel-group{margin-bottom:21px}.cmt .panel-group .panel{margin-bottom:0;border-radius:4px}.cmt .panel-group .panel+.panel{margin-top:5px}.cmt .panel-group .panel-heading{border-bottom:0}.cmt .panel-group .panel-heading+.panel-collapse>.list-group,.cmt .panel-group .panel-heading+.panel-collapse>.panel-body{border-top:1px solid #ecf0f1}.cmt .panel-group .panel-footer{border-top:0}.cmt .panel-group .panel-footer+.panel-collapse .panel-body{border-bottom:1px solid #ecf0f1}.cmt .panel-default{border-color:#ecf0f1}.cmt .panel-default>.panel-heading{color:#2c3e50;background-color:#ecf0f1;border-color:#ecf0f1}.cmt .panel-default>.panel-heading+.panel-collapse>.panel-body{border-top-color:#ecf0f1}.cmt .panel-default>.panel-heading .badge{color:#ecf0f1;background-color:#2c3e50}.cmt .panel-default>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#ecf0f1}.cmt .panel-primary{border-color:#2c3e50}.cmt .panel-primary>.panel-heading{color:#fff;background-color:#2c3e50;border-color:#2c3e50}.cmt .panel-primary>.panel-heading+.panel-collapse>.panel-body{border-top-color:#2c3e50}.cmt .panel-primary>.panel-heading .badge{color:#2c3e50;background-color:#fff}.cmt .panel-primary>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#2c3e50}.cmt .panel-success{border-color:#18bc9c}.cmt .panel-success>.panel-heading{color:#fff;background-color:#18bc9c;border-color:#18bc9c}.cmt .panel-success>.panel-heading+.panel-collapse>.panel-body{border-top-color:#18bc9c}.cmt .panel-success>.panel-heading .badge{color:#18bc9c;background-color:#fff}.cmt .panel-success>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#18bc9c}.cmt .panel-info{border-color:#3498db}.cmt .panel-info>.panel-heading{color:#fff;background-color:#3498db;border-color:#3498db}.cmt .panel-info>.panel-heading+.panel-collapse>.panel-body{border-top-color:#3498db}.cmt .panel-info>.panel-heading .badge{color:#3498db;background-color:#fff}.cmt .panel-info>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#3498db}.cmt .panel-warning{border-color:#f39c12}.cmt .panel-warning>.panel-heading{color:#fff;background-color:#f39c12;border-color:#f39c12}.cmt .panel-warning>.panel-heading+.panel-collapse>.panel-body{border-top-color:#f39c12}.cmt .panel-warning>.panel-heading .badge{color:#f39c12;background-color:#fff}.cmt .panel-warning>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#f39c12}.cmt .panel-danger{border-color:#e74c3c}.cmt .panel-danger>.panel-heading{color:#fff;background-color:#e74c3c;border-color:#e74c3c}.cmt .panel-danger>.panel-heading+.panel-collapse>.panel-body{border-top-color:#e74c3c}.cmt .panel-danger>.panel-heading .badge{color:#e74c3c;background-color:#fff}.cmt .panel-danger>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#e74c3c}.cmt .embed-responsive{position:relative;display:block;height:0;padding:0;overflow:hidden}.cmt .embed-responsive .embed-responsive-item,.cmt .embed-responsive embed,.cmt .embed-responsive iframe,.cmt .embed-responsive object,.cmt .embed-responsive video{position:absolute;top:0;left:0;bottom:0;height:100%;width:100%;border:0}.cmt .embed-responsive-16by9{padding-bottom:56.25%}.cmt .embed-responsive-4by3{padding-bottom:75%}.cmt .well{min-height:20px;padding:19px;margin-bottom:20px;background-color:#ecf0f1;border:1px solid transparent;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.05);box-shadow:inset 0 1px 1px rgba(0,0,0,.05)}.cmt .well blockquote{border-color:#ddd;border-color:rgba(0,0,0,.15)}.cmt .well-lg{padding:24px;border-radius:6px}.cmt .well-sm{padding:9px;border-radius:3px}.cmt .close{float:right;font-size:22.5px;font-weight:700;line-height:1;color:#000;text-shadow:none;opacity:.2;filter:alpha(opacity=20)}.cmt .close:focus,.cmt .close:hover{color:#000;text-decoration:none;cursor:pointer;opacity:.5;filter:alpha(opacity=50)}button.cmt .close{padding:0;cursor:pointer;background:transparent;border:0;-webkit-appearance:none}.cmt .modal-open{overflow:hidden}.cmt .modal{display:none;z-index:1050;-webkit-overflow-scrolling:touch;outline:0}.cmt .modal.fade .modal-dialog{-webkit-transform:translateY(-25%);-ms-transform:translateY(-25%);-o-transform:translateY(-25%);transform:translateY(-25%);-webkit-transition:-webkit-transform .3s ease-out;-moz-transition:-moz-transform .3s ease-out;-o-transition:-o-transform .3s ease-out;transition:transform .3s ease-out}.cmt .modal.in .modal-dialog{-webkit-transform:translate(0);-ms-transform:translate(0);-o-transform:translate(0);transform:translate(0)}.cmt .modal-open .modal{overflow-x:hidden;overflow-y:auto}.cmt .modal-dialog{position:relative;width:auto;margin:10px}.cmt .modal-content{position:relative;background-color:#fff;border:1px solid #999;border:1px solid rgba(0,0,0,.2);border-radius:6px;-webkit-box-shadow:0 3px 9px rgba(0,0,0,.5);box-shadow:0 3px 9px rgba(0,0,0,.5);background-clip:padding-box;outline:0}.cmt .modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1040;background-color:#000}.cmt .modal-backdrop.fade{opacity:0;filter:alpha(opacity=0)}.cmt .modal-backdrop.in{opacity:.5;filter:alpha(opacity=50)}.cmt .modal-header{padding:15px;border-bottom:1px solid #e5e5e5}.cmt .modal-header .close{margin-top:-2px}.cmt .modal-title{margin:0;line-height:1.42857143}.cmt .modal-body{position:relative;padding:20px}.cmt .modal-footer{padding:20px;text-align:right;border-top:1px solid #e5e5e5}.cmt .modal-footer .btn+.btn{margin-left:5px;margin-bottom:0}.cmt .modal-footer .btn-group .btn+.btn{margin-left:-1px}.cmt .modal-footer .btn-block+.btn-block{margin-left:0}.cmt .modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}@media (min-width:768px){.cmt .modal-dialog{width:600px;margin:30px auto}.cmt .modal-content{-webkit-box-shadow:0 5px 15px rgba(0,0,0,.5);box-shadow:0 5px 15px rgba(0,0,0,.5)}.cmt .modal-sm{width:300px}}@media (min-width:992px){.cmt .modal-lg{width:900px}}.cmt .tooltip{position:absolute;z-index:1070;display:block;font-family:Lato,Helvetica Neue,Helvetica,Arial,sans-serif;font-style:normal;font-weight:400;letter-spacing:normal;line-break:auto;line-height:1.42857143;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;white-space:normal;word-break:normal;word-spacing:normal;word-wrap:normal;font-size:13px;opacity:0;filter:alpha(opacity=0)}.cmt .tooltip.in{opacity:.9;filter:alpha(opacity=90)}.cmt .tooltip.top{margin-top:-3px;padding:5px 0}.cmt .tooltip.right{margin-left:3px;padding:0 5px}.cmt .tooltip.bottom{margin-top:3px;padding:5px 0}.cmt .tooltip.left{margin-left:-3px;padding:0 5px}.cmt .tooltip-inner{max-width:300px;padding:3px 8px;color:#fff;text-align:center;background-color:#000;border-radius:4px}.cmt .tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.cmt .tooltip.top .tooltip-arrow{bottom:0;left:50%;margin-left:-5px;border-width:5px 5px 0;border-top-color:#000}.cmt .tooltip.top-left .tooltip-arrow{bottom:0;right:5px;margin-bottom:-5px;border-width:5px 5px 0;border-top-color:#000}.cmt .tooltip.top-right .tooltip-arrow{bottom:0;left:5px;margin-bottom:-5px;border-width:5px 5px 0;border-top-color:#000}.cmt .tooltip.right .tooltip-arrow{top:50%;left:0;margin-top:-5px;border-width:5px 5px 5px 0;border-right-color:#000}.cmt .tooltip.left .tooltip-arrow{top:50%;right:0;margin-top:-5px;border-width:5px 0 5px 5px;border-left-color:#000}.cmt .tooltip.bottom .tooltip-arrow{top:0;left:50%;margin-left:-5px;border-width:0 5px 5px;border-bottom-color:#000}.cmt .tooltip.bottom-left .tooltip-arrow{top:0;right:5px;margin-top:-5px;border-width:0 5px 5px;border-bottom-color:#000}.cmt .tooltip.bottom-right .tooltip-arrow{top:0;left:5px;margin-top:-5px;border-width:0 5px 5px;border-bottom-color:#000}.cmt .popover{position:absolute;top:0;left:0;z-index:1060;display:none;max-width:276px;padding:1px;font-family:Lato,Helvetica Neue,Helvetica,Arial,sans-serif;font-style:normal;font-weight:400;letter-spacing:normal;line-break:auto;line-height:1.42857143;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;white-space:normal;word-break:normal;word-spacing:normal;word-wrap:normal;font-size:15px;background-color:#fff;background-clip:padding-box;border:1px solid #ccc;border:1px solid rgba(0,0,0,.2);border-radius:6px;-webkit-box-shadow:0 5px 10px rgba(0,0,0,.2);box-shadow:0 5px 10px rgba(0,0,0,.2)}.cmt .popover.top{margin-top:-10px}.cmt .popover.right{margin-left:10px}.cmt .popover.bottom{margin-top:10px}.cmt .popover.left{margin-left:-10px}.cmt .popover-title{margin:0;padding:8px 14px;font-size:15px;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;border-radius:5px 5px 0 0}.cmt .popover-content{padding:9px 14px}.cmt .popover>.arrow,.cmt .popover>.arrow:after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid}.cmt .popover>.arrow{border-width:11px}.cmt .popover>.arrow:after{border-width:10px;content:""}.cmt .popover.top>.arrow{left:50%;margin-left:-11px;border-bottom-width:0;border-top-color:#999;border-top-color:rgba(0,0,0,.25);bottom:-11px}.cmt .popover.top>.arrow:after{content:" ";bottom:1px;margin-left:-10px;border-bottom-width:0;border-top-color:#fff}.cmt .popover.right>.arrow{top:50%;left:-11px;margin-top:-11px;border-left-width:0;border-right-color:#999;border-right-color:rgba(0,0,0,.25)}.cmt .popover.right>.arrow:after{content:" ";left:1px;bottom:-10px;border-left-width:0;border-right-color:#fff}.cmt .popover.bottom>.arrow{left:50%;margin-left:-11px;border-top-width:0;border-bottom-color:#999;border-bottom-color:rgba(0,0,0,.25);top:-11px}.cmt .popover.bottom>.arrow:after{content:" ";top:1px;margin-left:-10px;border-top-width:0;border-bottom-color:#fff}.cmt .popover.left>.arrow{top:50%;right:-11px;margin-top:-11px;border-right-width:0;border-left-color:#999;border-left-color:rgba(0,0,0,.25)}.cmt .popover.left>.arrow:after{content:" ";right:1px;border-right-width:0;border-left-color:#fff;bottom:-10px}.cmt .carousel{position:relative}.cmt .carousel-inner{position:relative;overflow:hidden;width:100%}.cmt .carousel-inner>.item{display:none;position:relative;-webkit-transition:left .6s ease-in-out;-o-transition:.6s ease-in-out left;transition:left .6s ease-in-out}.cmt .carousel-inner>.item>a>img,.cmt .carousel-inner>.item>img{line-height:1}@media (-webkit-transform-3d),(transform-3d){.cmt .carousel-inner>.item{-webkit-transition:-webkit-transform .6s ease-in-out;-moz-transition:-moz-transform .6s ease-in-out;-o-transition:-o-transform .6s ease-in-out;transition:transform .6s ease-in-out;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;backface-visibility:hidden;-webkit-perspective:1000px;-moz-perspective:1000px;perspective:1000px}.cmt .carousel-inner>.item.active.right,.cmt .carousel-inner>.item.next{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);left:0}.cmt .carousel-inner>.item.active.left,.cmt .carousel-inner>.item.prev{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);left:0}.cmt .carousel-inner>.item.active,.cmt .carousel-inner>.item.next.left,.cmt .carousel-inner>.item.prev.right{-webkit-transform:translateZ(0);transform:translateZ(0);left:0}}.cmt .carousel-inner>.active,.cmt .carousel-inner>.next,.cmt .carousel-inner>.prev{display:block}.cmt .carousel-inner>.active{left:0}.cmt .carousel-inner>.next,.cmt .carousel-inner>.prev{position:absolute;top:0;width:100%}.cmt .carousel-inner>.next{left:100%}.cmt .carousel-inner>.prev{left:-100%}.cmt .carousel-inner>.next.left,.cmt .carousel-inner>.prev.right{left:0}.cmt .carousel-inner>.active.left{left:-100%}.cmt .carousel-inner>.active.right{left:100%}.cmt .carousel-control{position:absolute;top:0;left:0;bottom:0;width:15%;opacity:.5;filter:alpha(opacity=50);font-size:20px;color:#fff;text-align:center;text-shadow:0 1px 2px rgba(0,0,0,.6);background-color:transparent}.cmt .carousel-control.left{background-image:-webkit-linear-gradient(left,rgba(0,0,0,.5),rgba(0,0,0,.0001));background-image:-o-linear-gradient(left,rgba(0,0,0,.5) 0,rgba(0,0,0,.0001) 100%);background-image:linear-gradient(90deg,rgba(0,0,0,.5) 0,rgba(0,0,0,.0001));background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#80000000",endColorstr="#00000000",GradientType=1)}.cmt .carousel-control.right{left:auto;right:0;background-image:-webkit-linear-gradient(left,rgba(0,0,0,.0001),rgba(0,0,0,.5));background-image:-o-linear-gradient(left,rgba(0,0,0,.0001) 0,rgba(0,0,0,.5) 100%);background-image:linear-gradient(90deg,rgba(0,0,0,.0001) 0,rgba(0,0,0,.5));background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00000000",endColorstr="#80000000",GradientType=1)}.cmt .carousel-control:focus,.cmt .carousel-control:hover{outline:0;color:#fff;text-decoration:none;opacity:.9;filter:alpha(opacity=90)}.cmt .carousel-control .glyphicon-chevron-left,.cmt .carousel-control .glyphicon-chevron-right,.cmt .carousel-control .icon-next,.cmt .carousel-control .icon-prev{position:absolute;top:50%;margin-top:-10px;z-index:5;display:inline-block}.cmt .carousel-control .glyphicon-chevron-left,.cmt .carousel-control .icon-prev{left:50%;margin-left:-10px}.cmt .carousel-control .glyphicon-chevron-right,.cmt .carousel-control .icon-next{right:50%;margin-right:-10px}.cmt .carousel-control .icon-next,.cmt .carousel-control .icon-prev{width:20px;height:20px;line-height:1;font-family:serif}.cmt .carousel-control .icon-prev:before{content:"\\2039"}.cmt .carousel-control .icon-next:before{content:"\\203A"}.cmt .carousel-indicators{position:absolute;bottom:10px;left:50%;z-index:15;width:60%;margin-left:-30%;padding-left:0;list-style:none;text-align:center}.cmt .carousel-indicators li{display:inline-block;width:10px;height:10px;margin:1px;text-indent:-999px;border:1px solid #fff;border-radius:10px;cursor:pointer;background-color:#000\\9;background-color:transparent}.cmt .carousel-indicators .active{margin:0;width:12px;height:12px;background-color:#fff}.cmt .carousel-caption{position:absolute;left:15%;right:15%;bottom:20px;z-index:10;padding-top:20px;padding-bottom:20px;color:#fff;text-align:center;text-shadow:0 1px 2px rgba(0,0,0,.6)}.cmt .carousel-caption .btn{text-shadow:none}@media screen and (min-width:768px){.cmt .carousel-control .glyphicon-chevron-left,.cmt .carousel-control .glyphicon-chevron-right,.cmt .carousel-control .icon-next,.cmt .carousel-control .icon-prev{width:30px;height:30px;margin-top:-10px;font-size:30px}.cmt .carousel-control .glyphicon-chevron-left,.cmt .carousel-control .icon-prev{margin-left:-10px}.cmt .carousel-control .glyphicon-chevron-right,.cmt .carousel-control .icon-next{margin-right:-10px}.cmt .carousel-caption{left:20%;right:20%;padding-bottom:30px}.cmt .carousel-indicators{bottom:20px}}.cmt .clearfix:after,.cmt .clearfix:before,.cmt .cmt .btn-group-vertical>.btn-group:after,.cmt .cmt .btn-group-vertical>.btn-group:before,.cmt .cmt .btn-toolbar:after,.cmt .cmt .btn-toolbar:before,.cmt .cmt .container-fluid:after,.cmt .cmt .container-fluid:before,.cmt .cmt .container:after,.cmt .cmt .container:before,.cmt .cmt .dl-horizontal dd:after,.cmt .cmt .dl-horizontal dd:before,.cmt .cmt .form-horizontal .form-group:after,.cmt .cmt .form-horizontal .form-group:before,.cmt .cmt .modal-footer:after,.cmt .cmt .modal-footer:before,.cmt .cmt .modal-header:after,.cmt .cmt .modal-header:before,.cmt .cmt .nav:after,.cmt .cmt .nav:before,.cmt .cmt .navbar-collapse:after,.cmt .cmt .navbar-collapse:before,.cmt .cmt .navbar-header:after,.cmt .cmt .navbar-header:before,.cmt .cmt .navbar:after,.cmt .cmt .navbar:before,.cmt .cmt .pager:after,.cmt .cmt .pager:before,.cmt .cmt .panel-body:after,.cmt .cmt .panel-body:before,.cmt .cmt .row:after,.cmt .cmt .row:before{content:" ";display:table}.cmt .clearfix:after,.cmt .cmt .btn-group-vertical>.btn-group:after,.cmt .cmt .btn-toolbar:after,.cmt .cmt .container-fluid:after,.cmt .cmt .container:after,.cmt .cmt .dl-horizontal dd:after,.cmt .cmt .form-horizontal .form-group:after,.cmt .cmt .modal-footer:after,.cmt .cmt .modal-header:after,.cmt .cmt .nav:after,.cmt .cmt .navbar-collapse:after,.cmt .cmt .navbar-header:after,.cmt .cmt .navbar:after,.cmt .cmt .pager:after,.cmt .cmt .panel-body:after,.cmt .cmt .row:after{clear:both}.cmt .center-block{display:block;margin-left:auto;margin-right:auto}.cmt .pull-right{float:right!important}.cmt .pull-left{float:left!important}.cmt .hide{display:none!important}.cmt .show{display:block!important}.cmt .invisible{visibility:hidden}.cmt .text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.cmt .hidden{display:none!important}.cmt .affix{position:fixed}@-ms-viewport{width:device-width}.cmt .visible-lg,.cmt .visible-lg-block,.cmt .visible-lg-inline,.cmt .visible-lg-inline-block,.cmt .visible-md,.cmt .visible-md-block,.cmt .visible-md-inline,.cmt .visible-md-inline-block,.cmt .visible-sm,.cmt .visible-sm-block,.cmt .visible-sm-inline,.cmt .visible-sm-inline-block,.cmt .visible-xs,.cmt .visible-xs-block,.cmt .visible-xs-inline,.cmt .visible-xs-inline-block{display:none!important}@media (max-width:767px){.cmt .visible-xs{display:block!important}table.cmt .visible-xs{display:table!important}tr.cmt .visible-xs{display:table-row!important}td.cmt .visible-xs,th.cmt .visible-xs{display:table-cell!important}}@media (max-width:767px){.cmt .visible-xs-block{display:block!important}}@media (max-width:767px){.cmt .visible-xs-inline{display:inline!important}}@media (max-width:767px){.cmt .visible-xs-inline-block{display:inline-block!important}}@media (min-width:768px) and (max-width:991px){.cmt .visible-sm{display:block!important}table.cmt .visible-sm{display:table!important}tr.cmt .visible-sm{display:table-row!important}td.cmt .visible-sm,th.cmt .visible-sm{display:table-cell!important}}@media (min-width:768px) and (max-width:991px){.cmt .visible-sm-block{display:block!important}}@media (min-width:768px) and (max-width:991px){.cmt .visible-sm-inline{display:inline!important}}@media (min-width:768px) and (max-width:991px){.cmt .visible-sm-inline-block{display:inline-block!important}}@media (min-width:992px) and (max-width:1199px){.cmt .visible-md{display:block!important}table.cmt .visible-md{display:table!important}tr.cmt .visible-md{display:table-row!important}td.cmt .visible-md,th.cmt .visible-md{display:table-cell!important}}@media (min-width:992px) and (max-width:1199px){.cmt .visible-md-block{display:block!important}}@media (min-width:992px) and (max-width:1199px){.cmt .visible-md-inline{display:inline!important}}@media (min-width:992px) and (max-width:1199px){.cmt .visible-md-inline-block{display:inline-block!important}}@media (min-width:1200px){.cmt .visible-lg{display:block!important}table.cmt .visible-lg{display:table!important}tr.cmt .visible-lg{display:table-row!important}td.cmt .visible-lg,th.cmt .visible-lg{display:table-cell!important}}@media (min-width:1200px){.cmt .visible-lg-block{display:block!important}}@media (min-width:1200px){.cmt .visible-lg-inline{display:inline!important}}@media (min-width:1200px){.cmt .visible-lg-inline-block{display:inline-block!important}}@media (max-width:767px){.cmt .hidden-xs{display:none!important}}@media (min-width:768px) and (max-width:991px){.cmt .hidden-sm{display:none!important}}@media (min-width:992px) and (max-width:1199px){.cmt .hidden-md{display:none!important}}@media (min-width:1200px){.cmt .hidden-lg{display:none!important}}.cmt .visible-print{display:none!important}@media print{.cmt .visible-print{display:block!important}table.cmt .visible-print{display:table!important}tr.cmt .visible-print{display:table-row!important}td.cmt .visible-print,th.cmt .visible-print{display:table-cell!important}}.cmt .visible-print-block{display:none!important}@media print{.cmt .visible-print-block{display:block!important}}.cmt .visible-print-inline{display:none!important}@media print{.cmt .visible-print-inline{display:inline!important}}.cmt .visible-print-inline-block{display:none!important}@media print{.cmt .visible-print-inline-block{display:inline-block!important}}@media print{.cmt .hidden-print{display:none!important}}.cmt .navbar{border-width:0}.cmt .navbar-default .badge{background-color:#fff;color:#2c3e50}.cmt .navbar-inverse .badge{background-color:#fff;color:#18bc9c}.cmt .navbar-brand{line-height:1}.cmt .btn{border-width:2px}.cmt .btn-group.open .dropdown-toggle,.cmt .btn:active{-webkit-box-shadow:none;box-shadow:none}.cmt .text-primary,.cmt .text-primary:hover{color:#2c3e50}.cmt .text-success,.cmt .text-success:hover{color:#18bc9c}.cmt .text-danger,.cmt .text-danger:hover{color:#e74c3c}.cmt .text-warning,.cmt .text-warning:hover{color:#f39c12}.cmt .text-info,.cmt .text-info:hover{color:#3498db}.cmt .table a:not(.btn),.cmt table a:not(.btn){text-decoration:underline}.cmt .table .dropdown-menu a,.cmt table .dropdown-menu a{text-decoration:none}.cmt .table .danger,.cmt .table .danger>a,.cmt .table .danger>td>a,.cmt .table .danger>th>a,.cmt .table .info,.cmt .table .info>a,.cmt .table .info>td>a,.cmt .table .info>th>a,.cmt .table .success,.cmt .table .success>a,.cmt .table .success>td>a,.cmt .table .success>th>a,.cmt .table .warning,.cmt .table .warning>a,.cmt .table .warning>td>a,.cmt .table .warning>th>a,.cmt table .danger,.cmt table .danger>a,.cmt table .danger>td>a,.cmt table .danger>th>a,.cmt table .info,.cmt table .info>a,.cmt table .info>td>a,.cmt table .info>th>a,.cmt table .success,.cmt table .success>a,.cmt table .success>td>a,.cmt table .success>th>a,.cmt table .warning,.cmt table .warning>a,.cmt table .warning>td>a,.cmt table .warning>th>a{color:#fff}.cmt .table>tbody>tr>td,.cmt .table>tbody>tr>th,.cmt .table>tfoot>tr>td,.cmt .table>tfoot>tr>th,.cmt .table>thead>tr>td,.cmt .table>thead>tr>th,.cmt table>tbody>tr>td,.cmt table>tbody>tr>th,.cmt table>tfoot>tr>td,.cmt table>tfoot>tr>th,.cmt table>thead>tr>td,.cmt table>thead>tr>th{border:none}.cmt .table-bordered>tbody>tr>td,.cmt .table-bordered>tbody>tr>th,.cmt .table-bordered>tfoot>tr>td,.cmt .table-bordered>tfoot>tr>th,.cmt .table-bordered>thead>tr>td,.cmt .table-bordered>thead>tr>th,.cmt table-bordered>tbody>tr>td,.cmt table-bordered>tbody>tr>th,.cmt table-bordered>tfoot>tr>td,.cmt table-bordered>tfoot>tr>th,.cmt table-bordered>thead>tr>td,.cmt table-bordered>thead>tr>th{border:1px solid #ecf0f1}.cmt .form-control,.cmt input{border-width:2px}.cmt .form-control,.cmt .form-control:focus,.cmt input,.cmt input:focus{-webkit-box-shadow:none;box-shadow:none}.cmt .has-warning .checkbox,.cmt .has-warning .checkbox-inline,.cmt .has-warning.checkbox-inline label,.cmt .has-warning.checkbox label,.cmt .has-warning .control-label,.cmt .has-warning .form-control-feedback,.cmt .has-warning .help-block,.cmt .has-warning .radio,.cmt .has-warning .radio-inline,.cmt .has-warning.radio-inline label,.cmt .has-warning.radio label{color:#f39c12}.cmt .has-warning .form-control,.cmt .has-warning .form-control:focus{border:2px solid #f39c12}.cmt .has-warning .input-group-addon{border-color:#f39c12}.cmt .has-error .checkbox,.cmt .has-error .checkbox-inline,.cmt .has-error.checkbox-inline label,.cmt .has-error.checkbox label,.cmt .has-error .control-label,.cmt .has-error .form-control-feedback,.cmt .has-error .help-block,.cmt .has-error .radio,.cmt .has-error .radio-inline,.cmt .has-error.radio-inline label,.cmt .has-error.radio label{color:#e74c3c}.cmt .has-error .form-control,.cmt .has-error .form-control:focus{border:2px solid #e74c3c}.cmt .has-error .input-group-addon{border-color:#e74c3c}.cmt .has-success .checkbox,.cmt .has-success .checkbox-inline,.cmt .has-success.checkbox-inline label,.cmt .has-success.checkbox label,.cmt .has-success .control-label,.cmt .has-success .form-control-feedback,.cmt .has-success .help-block,.cmt .has-success .radio,.cmt .has-success .radio-inline,.cmt .has-success.radio-inline label,.cmt .has-success.radio label{color:#18bc9c}.cmt .has-success .form-control,.cmt .has-success .form-control:focus{border:2px solid #18bc9c}.cmt .has-success .input-group-addon{border-color:#18bc9c}.cmt .nav .open>a,.cmt .nav .open>a:focus,.cmt .nav .open>a:hover{border-color:transparent}.cmt .pager a,.cmt .pager a:hover{color:#fff}.cmt .pager .disabled>a,.cmt .pager .disabled>a:focus,.cmt .pager .disabled>a:hover,.cmt .pager .disabled>span{background-color:#3be6c4}.cmt .close{color:#fff;text-decoration:none;opacity:.4}.cmt .close:focus,.cmt .close:hover{color:#fff;opacity:1}.cmt .alert .alert-link{color:#fff;text-decoration:underline}.cmt .progress{height:10px;-webkit-box-shadow:none;box-shadow:none}.cmt .progress .progress-bar{font-size:10px;line-height:10px}.cmt .well{-webkit-box-shadow:none;box-shadow:none}.cmt a.list-group-item.active,.cmt a.list-group-item.active:focus,.cmt a.list-group-item.active:hover{border-color:#ecf0f1}.cmt a.list-group-item-success.active{background-color:#18bc9c}.cmt a.list-group-item-success.active:focus,.cmt a.list-group-item-success.active:hover{background-color:#15a589}.cmt a.list-group-item-warning.active{background-color:#f39c12}.cmt a.list-group-item-warning.active:focus,.cmt a.list-group-item-warning.active:hover{background-color:#e08e0b}.cmt a.list-group-item-danger.active{background-color:#e74c3c}.cmt a.list-group-item-danger.active:focus,.cmt a.list-group-item-danger.active:hover{background-color:#e43725}.cmt .modal .close,.cmt .panel-default .close,.cmt .popover{color:#2c3e50}.cmt .slider{display:inline-block;vertical-align:middle;position:relative}.cmt .slider.slider-horizontal{width:210px;height:20px}.cmt .slider.slider-horizontal .slider-track{height:10px;width:100%;margin-top:-5px;top:50%;left:0}.cmt .slider.slider-horizontal .slider-selection,.cmt .slider.slider-horizontal .slider-track-high,.cmt .slider.slider-horizontal .slider-track-low{height:100%;top:0;bottom:0}.cmt .slider.slider-horizontal .slider-handle,.cmt .slider.slider-horizontal .slider-tick{margin-left:-10px}.cmt .slider.slider-horizontal .slider-handle.triangle,.cmt .slider.slider-horizontal .slider-tick.triangle{position:relative;top:50%;transform:translateY(-50%);border-width:0 10px 10px;width:0;height:0;border-bottom-color:#2e6da4;margin-top:0}.cmt .slider.slider-horizontal .slider-tick-container{white-space:nowrap;position:absolute;top:0;left:0;width:100%}.cmt .slider.slider-horizontal .slider-tick-label-container{white-space:nowrap;margin-top:20px}.cmt .slider.slider-horizontal .slider-tick-label-container .slider-tick-label{padding-top:4px;display:inline-block;text-align:center}.cmt .slider.slider-horizontal.slider-rtl .slider-track{left:auto;right:0}.cmt .slider.slider-horizontal.slider-rtl .slider-handle,.cmt .slider.slider-horizontal.slider-rtl .slider-tick{margin-left:0;margin-right:-10px}.cmt .slider.slider-horizontal.slider-rtl .slider-tick-container{left:auto;right:0}.cmt .slider.slider-vertical{height:210px;width:20px}.cmt .slider.slider-vertical .slider-track{width:10px;height:100%;left:25%;top:0}.cmt .slider.slider-vertical .slider-selection{width:100%;left:0;top:0;bottom:0}.cmt .slider.slider-vertical .slider-track-high,.cmt .slider.slider-vertical .slider-track-low{width:100%;left:0;right:0}.cmt .slider.slider-vertical .slider-handle,.cmt .slider.slider-vertical .slider-tick{margin-top:-10px}.cmt .slider.slider-vertical .slider-handle.triangle,.cmt .slider.slider-vertical .slider-tick.triangle{border-width:10px 0 10px 10px;width:1px;height:1px;border-left-color:#2e6da4;border-right-color:#2e6da4;margin-left:0;margin-right:0}.cmt .slider.slider-vertical .slider-tick-label-container{white-space:nowrap}.cmt .slider.slider-vertical .slider-tick-label-container .slider-tick-label{padding-left:4px}.cmt .slider.slider-vertical.slider-rtl .slider-track{left:auto;right:25%}.cmt .slider.slider-vertical.slider-rtl .slider-selection{left:auto;right:0}.cmt .slider.slider-vertical.slider-rtl .slider-handle.triangle,.cmt .slider.slider-vertical.slider-rtl .slider-tick.triangle{border-width:10px 10px 10px 0}.cmt .slider.slider-vertical.slider-rtl .slider-tick-label-container .slider-tick-label{padding-left:0;padding-right:4px}.cmt .slider.slider-disabled .slider-handle{background-image:-webkit-linear-gradient(top,#dfdfdf,#bebebe);background-image:-o-linear-gradient(top,#dfdfdf 0,#bebebe 100%);background-image:linear-gradient(180deg,#dfdfdf 0,#bebebe);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#ffdfdfdf",endColorstr="#ffbebebe",GradientType=0)}.cmt .slider.slider-disabled .slider-track{background-image:-webkit-linear-gradient(top,#e5e5e5,#e9e9e9);background-image:-o-linear-gradient(top,#e5e5e5 0,#e9e9e9 100%);background-image:linear-gradient(180deg,#e5e5e5 0,#e9e9e9);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#ffe5e5e5",endColorstr="#ffe9e9e9",GradientType=0);cursor:not-allowed}.cmt .slider input{display:none}.cmt .slider .tooltip.top{margin-top:-36px}.cmt .slider .tooltip-inner{white-space:nowrap;max-width:none}.cmt .slider .hide{display:none}.cmt .slider-track{cursor:pointer;background-image:-webkit-linear-gradient(top,#f5f5f5,#f9f9f9);background-image:-o-linear-gradient(top,#f5f5f5 0,#f9f9f9 100%);background-image:linear-gradient(180deg,#f5f5f5 0,#f9f9f9);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#fff5f5f5",endColorstr="#fff9f9f9",GradientType=0);-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);box-shadow:inset 0 1px 2px rgba(0,0,0,.1)}.cmt .slider-selection,.cmt .slider-track{position:absolute;background-repeat:repeat-x;border-radius:4px}.cmt .slider-selection{background-image:-webkit-linear-gradient(top,#f9f9f9,#f5f5f5);background-image:-o-linear-gradient(top,#f9f9f9 0,#f5f5f5 100%);background-image:linear-gradient(180deg,#f9f9f9 0,#f5f5f5);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#fff9f9f9",endColorstr="#fff5f5f5",GradientType=0);-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.cmt .slider-selection.tick-slider-selection{background-image:-webkit-linear-gradient(top,#8ac1ef,#82b3de);background-image:-o-linear-gradient(top,#8ac1ef 0,#82b3de 100%);background-image:linear-gradient(180deg,#8ac1ef 0,#82b3de);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#ff8ac1ef",endColorstr="#ff82b3de",GradientType=0)}.cmt .slider-track-high,.cmt .slider-track-low{position:absolute;background:transparent;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border-radius:4px}.cmt .slider-handle{position:absolute;top:0;width:20px;height:20px;background-color:#337ab7;background-image:-webkit-linear-gradient(top,#337ab7,#2e6da4);background-image:-o-linear-gradient(top,#337ab7 0,#2e6da4 100%);background-image:linear-gradient(180deg,#337ab7 0,#2e6da4);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#ff337ab7",endColorstr="#ff2e6da4",GradientType=0);filter:none;-webkit-box-shadow:inset 0 1px 0 hsla(0,0%,100%,.2),0 1px 2px rgba(0,0,0,.05);box-shadow:inset 0 1px 0 hsla(0,0%,100%,.2),0 1px 2px rgba(0,0,0,.05);border:0 solid transparent}.cmt .slider-handle.round{border-radius:50%}.cmt .slider-handle.custom,.cmt .slider-handle.triangle{background:transparent none}.cmt .slider-handle.custom:before{line-height:20px;font-size:20px;content:"\\2605";color:#726204}.cmt .slider-tick{position:absolute;width:20px;height:20px;background-image:-webkit-linear-gradient(top,#f9f9f9,#f5f5f5);background-image:-o-linear-gradient(top,#f9f9f9 0,#f5f5f5 100%);background-image:linear-gradient(180deg,#f9f9f9 0,#f5f5f5);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#fff9f9f9",endColorstr="#fff5f5f5",GradientType=0);-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;filter:none;opacity:.8;border:0 solid transparent}.cmt .slider-tick.round{border-radius:50%}.cmt .slider-tick.custom,.cmt .slider-tick.triangle{background:transparent none}.cmt .slider-tick.custom:before{line-height:20px;font-size:20px;content:"\\2605";color:#726204}.cmt .slider-tick.in-selection{background-image:-webkit-linear-gradient(top,#8ac1ef,#82b3de);background-image:-o-linear-gradient(top,#8ac1ef 0,#82b3de 100%);background-image:linear-gradient(180deg,#8ac1ef 0,#82b3de);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#ff8ac1ef",endColorstr="#ff82b3de",GradientType=0);opacity:1}.cmt span.twitter-typeahead .tt-dropdown-menu,.cmt span.twitter-typeahead .tt-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:160px;padding:5px 0;margin:2px 0 0;list-style:none;font-size:14px;text-align:left;background-color:#fff;border:1px solid #ccc;border:1px solid rgba(0,0,0,.15);border-radius:4px;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175);background-clip:padding-box}.cmt span.twitter-typeahead .tt-suggestion{display:block;padding:3px 20px;clear:both;font-weight:400;line-height:1.42857143;color:#333;white-space:nowrap}.cmt span.twitter-typeahead .tt-suggestion.tt-cursor,.cmt span.twitter-typeahead .tt-suggestion:focus,.cmt span.twitter-typeahead .tt-suggestion:hover{color:#fff;text-decoration:none;outline:0;background-color:#337ab7}.cmt .input-group.input-group-lg span.twitter-typeahead .form-control{height:46px;padding:10px 16px;font-size:18px;line-height:1.3333333;border-radius:6px}.cmt .input-group.input-group-sm span.twitter-typeahead .form-control{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}.cmt span.twitter-typeahead{width:100%}.cmt .input-group span.twitter-typeahead{display:block!important;height:34px;border-radius:4px}.cmt .input-group span.twitter-typeahead .tt-dropdown-menu,.cmt .input-group span.twitter-typeahead .tt-menu{top:32px!important}.cmt .input-group span.twitter-typeahead:not(:first-child):not(:last-child) .form-control{border-radius:0}.cmt .input-group span.twitter-typeahead:last-child .form-control{border-top-left-radius:0;border-bottom-left-radius:0}.cmt .input-group.input-group-sm span.twitter-typeahead{height:30px}.cmt .input-group.input-group-sm span.twitter-typeahead .tt-dropdown-menu,.cmt .input-group.input-group-sm span.twitter-typeahead .tt-menu{top:30px!important}.cmt .input-group.input-group-lg span.twitter-typeahead{height:46px}.cmt .input-group.input-group-lg span.twitter-typeahead .tt-dropdown-menu,.cmt .input-group.input-group-lg span.twitter-typeahead .tt-menu{top:46px!important}@font-face{font-family:nova;src:url('+n(1461)+') format("woff")}.cmt .glyphicon:before{font-family:nova!important;font-style:normal;font-weight:400!important;vertical-align:top}.cmt .novaicon-add-circle-1:before{content:"\\E000"}.cmt .novaicon-bin:before{content:"\\E001"}.cmt .novaicon-chat-bubble-square-alert-2:before{content:"\\E002"}.cmt .novaicon-check-circle-2:before{content:"\\E003"}.cmt .novaicon-check-list:before{content:"\\E004"}.cmt .novaicon-close:before{content:"\\E005"}.cmt .novaicon-cog-check:before{content:"\\E006"}.cmt .novaicon-compass-2:before{content:"\\E007"}.cmt .novaicon-content-layers-show:before{content:"\\E008"}.cmt .novaicon-cube:before{content:"\\E009"}.cmt .novaicon-cursor-arrow-target:before{content:"\\E00A"}.cmt .novaicon-cursor-move-up-1:before{content:"\\E00B"}.cmt .novaicon-cursor-target-2:before{content:"\\E00C"}.cmt .novaicon-custom-camera:before{content:"\\E00D"}.cmt .novaicon-custom-circle:before{content:"\\E00E"}.cmt .novaicon-custom-clock:before{content:"\\E00F"}.cmt .novaicon-custom-cog-arrow:before{content:"\\E010"}.cmt .novaicon-custom-dot:before{content:"\\E011"}.cmt .novaicon-custom-login:before{content:"\\E012"}.cmt .novaicon-custom-logout:before{content:"\\E013"}.cmt .novaicon-custom-magnify:before{content:"\\E014"}.cmt .novaicon-custom-measure-method-depth:before{content:"\\E015"}.cmt .novaicon-custom-measure-method-other:before{content:"\\E016"}.cmt .novaicon-custom-measure-method-smartclick:before{content:"\\E017"}.cmt .novaicon-custom-panorama-horizontal-shadow:before{content:"\\E018"}.cmt .novaicon-custom-ruler-depth:before{content:"\\E019"}.cmt .novaicon-custom-ruler-other:before{content:"\\E01A"}.cmt .novaicon-custom-ruler-smartclick:before{content:"\\E01B"}.cmt .novaicon-custom-square:before{content:"\\E01C"}.cmt .novaicon-custom-trapezoid-shadow:before{content:"\\E01D"}.cmt .novaicon-custom-trapezoid:before{content:"\\E01E"}.cmt .novaicon-data-download-2:before{content:"\\E01F"}.cmt .novaicon-data-download-8:before{content:"\\E020"}.cmt .novaicon-data-upload-2:before{content:"\\E021"}.cmt .novaicon-data-upload-8:before{content:"\\E022"}.cmt .novaicon-expand-diagonal-3:before{content:"\\E023"}.cmt .novaicon-file-new-1:before{content:"\\E024"}.cmt .novaicon-file-tasks-add:before{content:"\\E025"}.cmt .novaicon-files-1:before{content:"\\E026"}.cmt .novaicon-floppydisk:before{content:"\\E027"}.cmt .novaicon-forward-intersection:before{content:"\\E028"}.cmt .novaicon-hide:before{content:"\\E029"}.cmt .novaicon-interface-alert-circle:before{content:"\\E02A"}.cmt .novaicon-interface-alert-triangle:before{content:"\\E02B"}.cmt .novaicon-interface-information:before{content:"\\E02C"}.cmt .novaicon-interface-question-mark:before{content:"\\E02D"}.cmt .novaicon-location-globe-view:before{content:"\\E02E"}.cmt .novaicon-location-gps-on-2:before{content:"\\E02F"}.cmt .novaicon-location-map:before{content:"\\E030"}.cmt .novaicon-location-pin-2:before{content:"\\E031"}.cmt .novaicon-location-pin-information-1:before{content:"\\E032"}.cmt .novaicon-move-down-1:before{content:"\\E033"}.cmt .novaicon-move-up-1:before{content:"\\E034"}.cmt .novaicon-navigation-down-3:before{content:"\\E035"}.cmt .novaicon-navigation-drawer-2:before{content:"\\E036"}.cmt .novaicon-navigation-show-more-horizontal:before{content:"\\E037"}.cmt .novaicon-navigation-up-3:before{content:"\\E038"}.cmt .novaicon-organization-flowchart-1:before{content:"\\E039"}.cmt .novaicon-organization-graph:before{content:"\\E03A"}.cmt .novaicon-panorama-horizontal:before{content:"\\E03B"}.cmt .novaicon-pencil-2:before{content:"\\E03C"}.cmt .novaicon-phone-outgoing:before{content:"\\E03D"}.cmt .novaicon-places-home-1:before{content:"\\E03E"}.cmt .novaicon-ruler-1:before{content:"\\E03F"}.cmt .novaicon-ruler-2:before{content:"\\E040"}.cmt .novaicon-shrink-diagonal-1:before{content:"\\E041"}.cmt .novaicon-subtract-circle-1:before{content:"\\E042"}.cmt .novaicon-text-undo:before{content:"\\E043"}.cmt .novaicon-time-view:before{content:"\\E044"}.cmt .novaicon-user:before{content:"\\E045"}.cmt .novaicon-water-level-up:before{content:"\\E046"}.cmt .novaicon-zoom-in:before{content:"\\E047"}.cmt .novaicon-zoom-out:before{content:"\\E048"}.cmt .dashboard{width:100%;height:100vh}.cmt .dashboard_checkboxlist{display:block;width:70px}@media only screen and (min-width:1024px){.cmt .dashboard_checkboxlist{display:table-cell}}.cmt .dashboard_checkboxlist span{color:#005293;font-size:15px;font-weight:700}.cmt .dashboard-panel-container{padding:5px}.cmt .dashboard-panel-container>div{margin:5px}.cmt .dashboard-panel-container .panel{margin-bottom:0}.cmt .dashboard-left-navbar{flex:50!important;max-width:320px}.cmt .panel-dashboard{display:flex;flex-grow:1;flex-shrink:0;flex-basis:0;flex-direction:column;max-height:100%}.cmt .panel-dashboard .panel-heading{display:flex;flex:0 0 46px}.cmt .panel-dashboard>.panel-body{overflow-y:auto}.cmt .panel-dashboard.settings>.panel-body{flex-wrap:wrap;display:flex;flex-grow:1;flex-shrink:0;flex-basis:0;padding:10px}.cmt .panel-dashboard.settings>.panel-body>div{display:flex;flex-grow:1;flex-shrink:0;flex-basis:0;flex-wrap:wrap;padding:5px}.cmt .panel-dashboard.settings>.panel-body .form-actions{text-align:right}.cmt .panel-dashboard.information>.panel-body{flex-wrap:wrap;display:flex;flex-grow:1;flex-shrink:0;flex-basis:0;flex-direction:column;padding:10px}.cmt .panel-dashboard.information>.panel-body>div{padding:5px;width:100%}.cmt .panel-dashboard.information>.panel-body .information-tabs .nav-tabs{display:flex;flex:0 0 46px;flex-direction:row}.cmt .panel-dashboard.information>.panel-body .information-tabs .tab-content{display:flex;flex-grow:1;flex-shrink:0;flex-basis:0;flex-direction:column;overflow-y:auto}.cmt .panel-dashboard #navid>.panel-body{padding-left:0;padding-right:0}.cmt .panel-dashboard .nav-pills>li a{border-radius:0;padding:5px 6px 9px;color:#005293}.cmt .panel-dashboard .nav-pills>li a .glyphicon{display:inline;padding-right:10px;font-size:150%;top:3px}.cmt .panel-dashboard .nav-pills>li.active a,.cmt .panel-dashboard .nav-pills>li a:hover{color:#fff;background-color:#98c23c}.cmt .panel-dashboard .novaicon-user{top:0;margin-right:.6em;margin-bottom:-1px}@media (max-width:767px){.cmt .panel-dashboard.settings>.panel-body{display:initial}.cmt .panel-dashboard.settings>.panel-body .viewer{height:300px;flex:1 0 auto}.cmt .panel-dashboard.settings>.panel-body button{margin-right:0}}.cmt .dashboard-mapcontainer{display:flex;flex-direction:column;max-height:100%}.cmt .dashboard-mapcontainer h3{display:flex;flex:0 0 20px;flex-direction:column}.cmt .dashboard-mapcontainer .feature-zoom-level{display:none}.cmt .dashboard-mapcontainer-btn{text-align:right;align-self:flex-end;margin:5px 0 0}.cmt .dashboard-loccontainer{display:flex;flex-direction:column;overflow-x:auto}.cmt .locationstable .locationstable-actions{float:right}.cmt .locationstable .btn{display:flex;align-items:center}.cmt .locationstable .btn,.cmt .locationstable .btn:hover{background:none;border:none;padding:0;margin:0;color:#005293}.cmt .locationstable .btn-default{outline:none}.cmt .locationstable .btn-default.active,.cmt .locationstable .btn-default.active.focus,.cmt .locationstable .btn-default.active:focus,.cmt .locationstable .btn-default.active:hover,.cmt .locationstable .btn-default:active,.cmt .locationstable .btn-default:active.focus,.cmt .locationstable .btn-default:active:focus,.cmt .locationstable .btn-default:active:hover,.cmt .locationstable .btn-default:hover{background:none;border:none;padding:0;margin:0;color:#005293;outline:none}.cmt .locationstable .open>.dropdown-toggle.btn-default{background:none;border:none;padding:0;margin:0;color:#005293}.cmt .locationstable th .glyphicon{text-align:center}.cmt .locationstable td .glyphicon{margin-right:10px}.cmt .locationstable .coordinates{margin-left:10px;color:#666}.cmt .layer-list_disabled label{cursor:not-allowed}.cmt .tablet--sublist{width:100%}.cmt .tablet--sublist tr.subitem,.cmt .tablet--sublist tr.subitem:nth-of-type(odd){background-color:#e0e0e0}.cmt .tablet--sublist tr.subitem:nth-of-type(odd):hover{background-color:#ecf0f1}.cmt .tablet--sublist td:first-child{width:70px}.cmt .tablet--sublist td:nth-of-type(2){overflow:hidden;text-overflow:ellipsis;white-space:nowrap;min-width:40%;max-width:60%}.cmt .tablet--sublist td:nth-of-type(3),.cmt .tablet--sublist td:nth-of-type(4),.cmt .tablet--sublist td:nth-of-type(5){width:130px}.cmt .tablet--sublist td:nth-of-type(6),.cmt .tablet--sublist td:nth-of-type(7){width:20px}.cmt .tablet--sublist td:last-child{width:70px}.cmt .dashboard-table td:first-of-type{width:30px}.cmt .dashboard-table td:last-of-type{width:80px}.cmt .dashboard-table td:nth-of-type(2){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cmt .dashboard-locations-glyph:hover{cursor:pointer}.cmt .information{overflow:auto}.cmt .information .panel-body>div>ul{display:inline-block}.cmt .input-file-hide{width:.1px;height:.1px;opacity:0;overflow:hidden;z-index:-1}.cmt .dashboard_import_radio_container{display:flex;align-items:flex-start;flex-direction:column;padding:0 0 0 4px}.cmt .dashboard_import_radio_container .radio{margin-bottom:10px}.cmt .measurement-attributes{width:100%;padding:0 30px}.cmt .measurement-attributes_source{width:100%}.cmt .measurement-attributes_source_container{width:100%;overflow:auto}.cmt .measurement-attributes_source_no-attributes{display:flex;justify-content:center;align-items:center}.cmt .measurement-attributes_source_attributes{border:0}.cmt .measurement-attributes_source_attributes--hide{display:none;border:0}.cmt .measurement-attributes_tab_input{float:left;clear:none;display:block;padding:2px 1em 0 0}.cmt .measurement-attributes-table{width:100%}.cmt .measurement-attributes-table tr:nth-of-type(odd){background-color:#e0e0e0}.cmt .measurement-attributes-table tr:nth-of-type(odd):hover{background-color:#ecf0f1}.cmt .measurement-attributes-table td:last-child,.cmt .measurement-attributes-table td:nth-of-type(2){width:20px}.cmt .flexColumn,.cmt .flexEven,.cmt .flexOdd,.cmt .flexRow{display:flex;flex-wrap:nowrap;justify-content:space-around;align-items:stretch;align-content:space-around;overflow:hidden}.cmt .flexOdd,.cmt .flexRow{flex-direction:row}.cmt .flexColumn,.cmt .flexEven{flex-direction:column}@media (max-width:767px){.cmt .flexOdd{flex-direction:column}.cmt .flexEven{flex-direction:row}}.cmt .flexColumn,.cmt .flexEven,.cmt .flexItem,.cmt .flexOdd,.cmt .flexRow{flex-grow:1;flex-shrink:0;flex-basis:0}.cmt .fullscreen{width:100%;height:100vh}.cmt .navbar-default .navbar-brand{color:#98c23c}.cmt,.cmt body{color:#005293;background-color:#333;overflow:hidden}.cmt a,.cmt button{transition:background-color .15s linear,color .15s ease}.cmt .tooltip{border:none;background-color:initial}.cmt .btn{margin-bottom:15px;border-radius:0;margin-right:0}.cmt .btn+.btn{margin-left:10px}.cmt .btn-group,.cmt .fix-disabled-child-tooltip{margin-left:0}.cmt .btn-group .btn{margin-right:0}.cmt .btn-default{color:#98c23c;border-radius:0;background-color:#333;border-color:#fff;border:1px solid #98c23c}.cmt .btn-default.active,.cmt .btn-default.active.focus,.cmt .btn-default.active:focus,.cmt .btn-default.active:hover,.cmt .btn-default.focus,.cmt .btn-default:active,.cmt .btn-default:active.focus,.cmt .btn-default:active:focus,.cmt .btn-default:active:hover,.cmt .btn-default:focus,.cmt .btn-default:hover,.open>.dropdown-toggle.cmt .btn-default,.open>.dropdown-toggle.cmt .btn-default.focus,.open>.dropdown-toggle.cmt .btn-default:focus,.open>.dropdown-toggle.cmt .btn-default:hover{background-color:#78a21d;border:1px solid #78a21d;outline-color:transparent}.cmt .btn-default:hover{color:#005293;background-color:#bcbdbc;border-color:#fff}.cmt .btn-default:focus{border-color:#fff}.cmt .btn-primary{color:#98c23c;border:1px solid #98c23c;background-color:transparent;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.cmt .btn-primary.active,.cmt .btn-primary.active.focus,.cmt .btn-primary.active:focus,.cmt .btn-primary.active:hover,.cmt .btn-primary:active,.cmt .btn-primary:active.focus,.cmt .btn-primary:active:focus,.cmt .btn-primary:active:hover,.cmt .btn-primary:focus,.cmt .btn-primary:hover,.open>.dropdown-toggle.cmt .btn-primary,.open>.dropdown-toggle.cmt .btn-primary.focus,.open>.dropdown-toggle.cmt .btn-primary:active,.open>.dropdown-toggle.cmt .btn-primary:focus,.open>.dropdown-toggle.cmt .btn-primary:hover{color:#fff;border:1px solid #98c23c;background-color:#98c23c;outline-color:transparent}.cmt .btn-secondary{color:#98c23c;border:0 solid #98c23c;background-color:transparent;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;padding:8px}.cmt .btn-secondary.active:hover,.cmt .btn-secondary.focus:hover,.cmt .btn-secondary:active:hover,.cmt .btn-secondary:focus:hover,.cmt .btn-secondary:hover{color:#fff;border:0 solid #98c23c;background-color:#98c23c;outline-color:transparent}.cmt .btn-secondary.active,.cmt .btn-secondary:active,.cmt .btn-secondary:focus{color:#98c23c;border:0 solid #98c23c;background-color:transparent;outline-color:transparent}.cmt .btn-secondary-right{position:fixed;margin-left:-38px}.cmt .btn-group-xs>.btn,.cmt .btn-xs{position:relative;color:#98c23c;border-radius:0;background-color:#333;border-color:#fff}.cmt .alert{padding:15px;border:1px solid transparent;border-radius:0;position:absolute;top:20px;left:0;right:0;margin:auto;z-index:10000;width:fit-content;box-sizing:content-box}.cmt .alert h4{margin-top:0;color:inherit}.cmt .alert .alert-link{font-weight:700}.cmt .alert>p,.cmt .alert>ul{margin-bottom:0}.cmt .alert>p+p{margin-top:5px}.cmt .alert-dismissable,.cmt .alert-dismissible{padding-right:35px}.cmt .alert-dismissable .close,.cmt .alert-dismissible .close{position:relative;top:-2px;right:-21px;color:inherit}.cmt .alert-success{color:#3c763d;background-color:#dff0d8;border-color:#d6e9c6}.cmt .alert-success hr{border-top-color:#c9e2b3}.cmt .alert-success .alert-link{color:#2b542c}.cmt .alert-info{color:#005293;background-color:#eaf2d5;border-color:#98c23c}.cmt .alert-info hr{border-top-color:#a6e1ec}.cmt .alert-info .alert-link{color:#245269}.cmt .alert-warning{color:#8a6d3b;background-color:#fcf8e3;border-color:#faebcc}.cmt .alert-warning hr{border-top-color:#f7e1b5}.cmt .alert-warning .alert-link{color:#66512c}.cmt .alert-danger{color:#a94442;background-color:#f2dede;border-color:#ebccd1}.cmt .alert-danger hr{border-top-color:#e4b9c0}.cmt .alert-danger .alert-link{color:#843534}.cmt .progress-bar-success{background-color:#98c23c}.cmt .progress-bar-info{background-color:#31708f}.cmt .progress-bar-warning{background-color:#e67e22}.cmt .progress-bar-danger{background-color:#c0392b}.cmt .panel{border-radius:0;border-width:0}.cmt .panel-overlays{margin:0;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.cmt .panel-default .panel-heading{color:#005293;background-color:transparent;border-bottom:1px solid #bcbdbc;border-radius:0;padding:10px 15px}.cmt .panel-default .panel-heading .panel-title{margin-top:0;margin-bottom:0}.cmt .panel-default .panel-heading .panel-title a{width:100%;display:block;padding:10px 0;position:relative}.cmt .panel-default .panel-heading .panel-title a.collapsed{color:#005293}.cmt .panel-default .panel-heading .panel-title a.collapsed:after{content:"\\E113";color:#bcbdbc}.cmt .panel-default .panel-heading .panel-title a:focus,.cmt .panel-default .panel-heading .panel-title a:hover{text-decoration:none}.cmt .panel-default .panel-heading .panel-title a:after{width:30px;text-align:center;font-family:Glyphicons Halflings;content:"\\E114";position:absolute;top:10px;right:0;color:#ec7a08}.cmt .panel-default .panel-heading .panel-title a:hover:after{color:#ec7a08}.cmt .panel-default .panel-heading .panel-title h2{font-size:24px;line-height:26px}.cmt .panel-default .panel-heading .panel-collapse .panel-body{padding:20px 0}.cmt .panel-default .panel-heading .panel-collapse .list-group,.cmt .panel-default .panel-heading .panel-collapse .panel-body{border-top:none}.cmt .dropdown-menu .panel-default>.pan,.cmt .dropdown-menu .panel-default>.panel-heading{border-bottom:none}.cmt .well{background-color:#98c23c}.cmt .form-control,.cmt .well{border-radius:0}.cmt h1,.cmt h2,.cmt h3,.cmt h4{color:#ec7a08}.cmt h1{font-size:34px;line-height:30px}.cmt h2{font-size:24px;line-height:26px}.cmt h3{font-size:18px;line-height:20px;display:flex;flex:0 0 20px;flex-direction:column}.cmt h4{font-size:16px;line-height:16px;font-weight:700}.cmt p{color:#666;font-size:14px}.cmt p a{color:#666;text-decoration:none;border-bottom:2px solid #98c23c}.cmt p a:hover{color:#98c23c;text-decoration:none}.cmt .form-group{margin-bottom:4px}.cmt .form-group label{color:#666}.cmt .form-group input,.cmt .modal .form-control{border:1px solid #bcbdbc;color:#666;border-radius:0}.cmt ::-webkit-input-placeholder{color:#bcbdbc}.cmt :-moz-placeholder,.cmt ::-moz-placeholder{color:#bcbdbc}.cmt :-ms-input-placeholder{color:#bcbdbc}.cmt .checkbox,.cmt .radio{margin-top:0;margin-bottom:0}.cmt .checkbox label,.cmt .radio label{padding-left:0}.cmt .checkbox input,.cmt .radio input{opacity:0;position:absolute}.cmt .checkbox input span,.cmt .radio input span{display:inline-block;cursor:pointer}.cmt .checkbox input:disabled+span,.cmt .checkbox input:disabled+span:before,.cmt .radio input:disabled+span,.cmt .radio input:disabled+span:before{cursor:not-allowed}.cmt .checkbox input+span:before,.cmt .radio input+span:before{content:"";background:#fff;border:1px solid #ddd;display:inline-block;vertical-align:middle;width:20px;height:20px;margin-right:15px;text-align:center}.cmt .checkbox span,.cmt .radio span{position:relative}.cmt .checklist_location{display:flex;justify-content:space-between}.cmt .checklist_location .locate{align-self:center;cursor:pointer}.cmt .checkbox input:checked+span:before{content:"\\E013";font-family:Glyphicons Halflings;background:none;color:#005293;line-height:19px;font-size:12px}.cmt .checkbox input:disabled+span:before{color:#b2cbde}.cmt .checkbox .glyphicon{margin-right:10px}.cmt .radio input+span:before{border-radius:50%;box-shadow:0 0 0 1px #ddd;border:2px solid #fff}.cmt .radio input:checked+span:before{background-color:#005293}.cmt .radio input:disabled:checked+span:before{background-color:#b2cbde}@font-face{font-family:Glyphicons Halflings;src:url('+n(1462)+') format("woff")}.cmt .glyphicon{position:relative;top:0;display:inline-block;-webkit-font-smoothing:antialiased;font-style:normal;font-weight:400;line-height:1;-moz-osx-font-smoothing:grayscale;width:1.75em}.cmt [class*=" novaicon-"],.cmt [class^=novaicon-]{width:1.2em;font-size:125%}.cmt .novaicon-user:before{font-size:125%;border:2px solid;border-radius:50%;padding:1px}@media (min-width:1200px){.cmt .container{width:auto}}.cmt .window-loading-icon{z-index:100;position:absolute;margin-left:50%;top:10px}.cmt .window-loading-icon img{margin-left:-50%}.cmt .table>tbody>tr>td,.cmt .table>tbody>tr>th,.cmt .table>tfoot>tr>td,.cmt .table>tfoot>tr>th,.cmt .table>thead>tr>td,.cmt .table>thead>tr>th{padding:4px}.cmt .tab-content{padding-right:0}.cmt .scroll-table{height:634px;overflow-x:auto;overflow-y:auto}.cmt a{color:#98c23c}.cmt .windowContainer{padding:5px}.cmt .react-bs-container .react-bs-table-container{box-sizing:content-box}.cmt div.logoutBox{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)!important;width:30%;height:200px;min-width:275px;margin:0;padding:0}.cmt .logout-footer{text-align:left;padding-top:10px}.cmt .form-group .help-block{font-size:12px;text-align:left;color:#666}.cmt .has-feedback.form-group .form-control-feedback{float:right;top:-30px}.cmt .form-group.has-error .help-block,.cmt .form-group.has-error label{color:#c0392b}.cmt .form-group.has-warning .help-block,.cmt .form-group.has-warning label{color:#e67e22}.cmt .form-group.has-success .help-block,.cmt .form-group.has-success label{color:#98c23c}.cmt .form-horizontal .well{margin-bottom:0;background:none}.cmt .form-horizontal{display:flex;flex-grow:1;flex-shrink:0;flex-basis:0;max-height:100%;padding:5px;flex-direction:column}.cmt .popover-content{position:relative;width:160px;overflow:hidden;height:160px}.cmt .cmtMousePosition{font-size:10px;color:#fff;padding:0 .5em;line-height:21px;bottom:8px;left:8px;background:rgba(0,0,0,.3);position:absolute}.cmt .cmtMousePosition.contracted{margin-left:10px;left:46px}.cmt .cmtAttributionLabel{position:absolute;right:8px;bottom:8px;height:21px;line-height:16px;padding:0;background-color:rgba(0,0,0,.3);border-radius:0}.cmt .cmtAttributionLabel a,.cmt .cmtAttributionLabel a:hover{color:#fff;font-size:10px;text-shadow:none;margin:0 10px}.cmt .help.panel,.cmt .help.panel .panel-body{width:100%;display:flex;flex-grow:1;flex-shrink:0;flex-basis:0;flex-direction:column;padding:0;margin:0}.cmt .help.panel .panel-body div,.cmt .help.panel div{width:100%;height:100%;display:flex;flex-direction:column}.cmt .panel-help>.panel-body{flex-direction:column;padding:0;overflow-y:inherit}.cmt .panel-help>.panel-body,.cmt iframe{display:flex;flex-grow:1;flex-shrink:0;flex-basis:0}.cmt iframe{border:none;width:100%}.cmt .help-window .windowcontrols.btn-toolbar{margin-right:15px}.cmt .login,.cmt .servicedesk{padding:60px 0}.cmt .login-page-header,.cmt .servicedesk-page-header{width:100vw;height:60px;background-color:#98c23c;border-radius:0;border-bottom:none;text-align:center;vertical-align:middle}.cmt .login-page-header .cmt-logo-large,.cmt .servicedesk-page-header .cmt-logo-large{width:168px;margin-left:10px;height:60px;float:left}.cmt .login-page-header label,.cmt .servicedesk-page-header label{margin:0 auto;padding:15px 0;line-height:30px;color:#fff;font-size:x-large}.cmt .login-background,.cmt .servicedesk-background{background:url('+n(1463)+') no-repeat 50% fixed;background-size:cover;width:100vw;height:100vh}.cmt .login-header,.cmt .servicedesk-header{padding:10px;margin:-10px -10px 10px;background-color:#98c23c}.cmt .login-header label,.cmt .servicedesk-header label{line-height:30px;font-size:larger;color:#fff;margin:0 auto}.cmt .login form,.cmt .servicedesk form{margin:0 auto;max-width:470px;padding:10px;background-color:hsla(0,0%,100%,.9)}.cmt .login form .btn,.cmt .servicedesk form .btn{margin-bottom:0;margin-right:0}.cmt .login .form-group label.error,.cmt .servicedesk .form-group label.error{color:red;display:-ms-grid;display:grid;font-size:16px;font-weight:700;margin-bottom:5px}.cmt .servicedesk{padding:0}.cmt .servicedesk-header{background-color:#333}.cmt .table{margin-bottom:0}.cmt .loadImg{position:absolute;margin:auto;top:0;left:0;right:0;bottom:0;width:95px;height:97px}.cmt .compact-table{width:auto}.cmt ::-ms-clear{display:none}.cmt .colorIndicator{z-index:1}.cmt .popover-content>img{-webkit-user-drag:none;-moz-user-drag:none;user-drag:none}.cmt .window:fullscreen{width:100%}.cmt .window:-webkit-full-screen{width:100%}.cmt .window:-moz-full-screen{width:100%}.cmt .window:-ms-fullscreen{width:100%}.cmt .window:fullscreen .navbar{display:none}.cmt .window:-webkit-full-screen .navbar{display:none}.cmt .window:-moz-full-screen .navbar{display:none}.cmt .window:-ms-fullscreen .navbar{display:none}.cmt .window:fullscreen .btn-close{display:none}.cmt .window:-webkit-full-screen .btn-close{display:none}.cmt .window:-moz-full-screen .btn-close{display:none}.cmt .window:-ms-fullscreen .btn-close{display:none}.cmt .window:fullscreen .btn-maximize{display:none}.cmt .window:-webkit-full-screen .btn-maximize{display:none}.cmt .window:-moz-full-screen .btn-maximize{display:none}.cmt .window:-ms-fullscreen .btn-maximize{display:none}.cmt .window .btn-restore{display:none}.cmt .window:fullscreen .btn-restore{display:block}.cmt .window:-webkit-full-screen .btn-restore{display:block}.cmt .window:-moz-full-screen .btn-restore{display:block}.cmt .window:-ms-fullscreen .btn-restore{display:block}.cmt .openLayers{overflow:hidden;display:flex;flex-direction:column}.cmt .openLayers div.ol-viewport{display:flex;flex:1 0 auto;flex-direction:column}.cmt .viewer{padding:0;border:0;background-color:#666;display:flex}.cmt .viewer canvas{display:flex}.cmt .viewer .ol-mouse-position{font-size:10px;color:#fff;padding:0 .5em;line-height:21px;bottom:8px;left:8px;top:auto;right:auto}.cmt .viewer .ol-scale-line{bottom:33px}.cmt .viewer .ol-attribution,.cmt .viewer .ol-scale-line,.cmt .viewer .ol-zoom,.cmt .viewer .ol-zoomslider{border-radius:0}.cmt .viewer .ol-mouse-position,.cmt .viewer .ol-scale-line{background:rgba(0,0,0,.3)}.cmt .viewer .ol-mouse-position.contracted,.cmt .viewer .ol-scale-line.contracted{margin-left:10px;left:46px}.cmt .viewer .ol-layer-name{top:.5em;left:0;right:0;height:21px;width:190px;margin:0 auto;border-radius:0;padding:0 .5em;line-height:21px;text-shadow:none;text-align:center;font-size:10px;color:#fff;background-color:rgba(0,0,0,.3)}.cmt .viewer .ol-zoom,.cmt .viewer .ol-zoom:hover{background:rgba(0,0,0,.3)}.cmt .viewer .ol-zoom button,.cmt .viewer .ol-zoomslider button{border-radius:50%;box-shadow:0 0 5px rgba(0,0,0,.5);background:#fff;color:#98c23c}.cmt .viewer .ol-zoom button:active,.cmt .viewer .ol-zoom button:hover,.cmt .viewer .ol-zoomslider button:active,.cmt .viewer .ol-zoomslider button:hover{background:#98c23c;color:#fff}.cmt .viewer .ol-zoom button.ol-zoom-in,.cmt .viewer .ol-zoom button.ol-zoom-out{width:16px;height:16px;padding-left:1px}.cmt .viewer .ol-zoomslider{top:29px;left:11px}.cmt .viewer .ol-zoomslider button.ol-zoomslider-thumb{width:10px;height:10px}.cmt .viewer .ol-zoom .ol-zoom-in.ol-has-tooltip:focus [role=tooltip],.cmt .viewer .ol-zoom .ol-zoom-in.ol-has-tooltip:hover [role=tooltip]{top:3px}.cmt .viewer .ol-zoom .ol-zoom-out{margin-top:204px}.cmt .viewer .ol-zoom .ol-zoom-out.ol-has-tooltip:focus [role=tooltip],.cmt .viewer .ol-zoom .ol-zoom-out.ol-has-tooltip:hover [role=tooltip]{top:232px}.cmt .viewer .baselayerpanel{background:#98c23c}.cmt .viewer .baselayerpanel .panel-body{margin-left:25%;background:#fff}.cmt .address-bar{position:absolute;bottom:8px;left:0;right:0;margin:auto;width:30%;background-color:#006bbd;padding:2px;border-radius:5px;pointer-events:none}.cmt .inner-address-bar{padding:3px;border:1px solid #fff;border-radius:3px}.cmt .address-bar p{color:#fff;text-align:center;font-size:15px;font-family:Lato,Helvetica Neue,Helvetica,Arial,sans-serif;height:auto;margin:0}.cmt .ol-attribution img{width:auto;height:auto;-webkit-transition:.15s;-o-transition:.15s;transition:.15s}.cmt .ol-attribution.ol-uncollapsible img:hover,.cmt .ol-attribution img:hover{max-height:3em;-webkit-transition:.15s;-o-transition:.15s;transition:.15s}.cmt .ol-attribution.ol-uncollapsible{bottom:8px;right:8px;height:21px;line-height:16px;padding:0;background-color:rgba(0,0,0,.3)}.cmt .ol-attribution.ol-uncollapsible a,.cmt .ol-attribution.ol-uncollapsible ul{color:#fff;font-size:10px;text-shadow:none;margin:0 10px}.cmt .slider.slider-horizontal{margin-top:16px}.cmt .slider.slider-horizontal .slider-handle,.cmt .slider.slider-horizontal .slider-selection,.cmt .slider.slider-horizontal .slider-tick,.cmt .slider.slider-horizontal .slider-track{background-image:none}.cmt .slider.slider-horizontal .slider-selection{background-color:#98c23c}.cmt .slider.slider-horizontal .slider-track{height:2px;margin-top:-1px;background-color:#f2f2f2}.cmt .slider.slider-horizontal .slider-tick{width:8px;height:8px;margin-left:-4px;margin-top:6px;background-color:#bcbdbc}.cmt .slider.slider-horizontal .slider-tick.in-selection{width:10px;height:10px;margin-left:-5px;margin-top:5px;background-color:#005293}.cmt .slider.slider-horizontal .slider-handle{width:16px;height:16px;margin-left:-8px;margin-top:2px;background-color:#005293}.cmt .compass-overlay{height:0;position:absolute;right:20px;bottom:185px}.cmt .compass-overlay img{width:150px;height:150px}.cmt .layerpanel .form-group{margin-bottom:2px}.cmt .layerpanel .checkbox,.cmt .layerpanel .radio{margin-top:0;margin-bottom:0}.cmt .cmtMeasureTooltip{position:relative;background:rgba(0,0,0,.5);border-radius:4px;color:#fff;padding:4px 8px;opacity:.7;white-space:nowrap;pointer-events:none}.cmt .cmtMeasureTooltipMeasuring{opacity:1;font-weight:700}.cmt .cmtMeasureTooltipStatic{background-color:#ec7a08;border:1px solid #fff}.cmt .cmtMeasureTooltipMeasuring:before,.cmt .cmtMeasureTooltipStatic:before{border-top:6px solid rgba(0,0,0,.5);border-right:6px solid transparent;border-left:6px solid transparent;content:"";position:absolute;bottom:-6px;margin-left:-7px;left:50%}.cmt .cmtMeasureTooltipStatic:before{border-top-color:#ec7a08}.cmt .map-relative-position{position:relative}.cmt .map-relative-position.oblique-pin{cursor:url('+n(1464)+'),auto}.cmt .popup{display:none;opacity:0;position:absolute;background-color:rgba(0,0,0,.8);color:#fff;padding:10px 15px;border-radius:4px;white-space:nowrap;-webkit-user-select:"none";-moz-user-select:"none";-ms-user-select:"none";user-select:"none"}.cmt .popup .popup--tooltip .popup-content{word-break:keep-all}.cmt .popup_arrow-down{width:0;height:0;margin-left:-10px;position:absolute;left:50%;bottom:-10px;border-left:10px solid transparent;border-right:10px solid transparent;border-top:10px solid rgba(0,0,0,.8)}.cmt .map-relative-position:hover .popup{display:block}.cmt .measurement-floating-panel{position:absolute;bottom:39px;right:8px;width:330px;overflow:hidden;background-color:#fff}.cmt .measurement-floating-panel .panel{margin:0;border-radius:0;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.05);box-shadow:0 1px 0 rgba(0,0,0,.05)}.cmt .measurement-floating-panel .btn-default.active.focus,.cmt .measurement-floating-panel .btn-default.active:focus,.cmt .measurement-floating-panel .btn-default.active:hover,.cmt .measurement-floating-panel .btn-default:active.focus,.cmt .measurement-floating-panel .btn-default:active:focus,.cmt .measurement-floating-panel .btn-default:active:hover,.cmt .measurement-floating-panel .open>.dropdown-toggle.btn-default.focus,.cmt .measurement-floating-panel .open>.dropdown-toggle.btn-default:focus,.cmt .measurement-floating-panel .open>.dropdown-toggle.btn-default:hover{background-color:#fff;border:0}.cmt .measurement-floating-panel button,.cmt .measurement-floating-panel button *{user-select:none}.cmt .measurement-floating-panel .btn-default{margin:0;padding:0;border:0;border-radius:0;background-color:transparent;color:#005293}.cmt .measurement-floating-panel .btn-default:hover{background-color:transparent}.cmt .measurement-floating-panel .btn-group{margin-right:0}.cmt .measurement-floating-panel .panel-heading{padding:17px 15px}.cmt .measurement-floating-panel .panel-heading .panel-title{display:flex;align-items:center;overflow:visible}.cmt .measurement-floating-panel .glyphicon:focus,.cmt .measurement-floating-panel button:focus,.cmt .measurement-floating-panel button:focus:active{outline:none}.cmt .measurement-floating-panel .panel-body{overflow:auto;padding:0;max-height:calc(100vh - 390px)}.cmt .measurement-floating-panel .panel-body>p{margin:5px 0 0 15px;color:#005293}.cmt .measurement-floating-panel .success{background:rgba(152,194,60,.2);padding:17px 15px}.cmt .measurement-floating-panel .success div,.cmt .measurement-floating-panel .success span{color:#98c23c}.cmt .measurement-floating-panel .success .feedback-icon{width:0}.cmt .measurement-floating-panel .warning{background:rgba(236,122,8,.2);padding:17px 15px}.cmt .measurement-floating-panel .warning div,.cmt .measurement-floating-panel .warning span{color:#ec7a08}.cmt .measurement-floating-panel .warning .feedback-icon{width:1.4em;top:-2px}.cmt .measurement-floating-panel .warning .feedback-icon:before{font-size:125%}.cmt .measurement-floating-panel .danger{background:rgba(192,57,43,.2);padding:17px 15px}.cmt .measurement-floating-panel .danger div,.cmt .measurement-floating-panel .danger span{color:#c0392b}.cmt .measurement-floating-panel .danger .feedback-icon{width:1.4em;top:-2px}.cmt .measurement-floating-panel .danger .feedback-icon:before{font-size:125%}.cmt .measurement-floating-panel .close{float:right}.cmt .measurement-delta-between-points{position:absolute;bottom:-8px;left:4px;width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:14px solid #bcbdbc;z-index:9}.cmt .measurement-delta-between-points:hover{border-bottom:14px solid #005293}.cmt .measurement-delta-between-points-tooltip{padding:8px;white-space:nowrap}.cmt .measurement-delta-between-points-tooltip p{text-align:left;color:#fff;margin:0}.cmt .measurement-floating-panel-body{height:100%;overflow:visible}.cmt .measurement-floating-panel-body .panel-group{margin:0}.cmt .measurement-floating-panel-header,.cmt .measurement-floating-panel-header *{background:none;border:none;padding:0;margin:0;color:#005293;display:flex}.cmt .measurement-floating-panel-header{font-weight:700}.cmt .measurement-floating-panel-header .glyphicon{font-size:24px;margin-left:5px}.cmt .measurement-floating-panel-controls{margin-left:auto}.cmt .measurement-floating-panel-controls .glyphicon{width:24px;font-size:24px}.cmt .measurement-panel-body .panel-body{overflow:visible;padding:15px;max-height:none}.cmt .measurement-point-panel{color:#005293;margin:5px 0}.cmt .measurement-point-panel:first-child{margin-top:10px}.cmt .measurement-point-panel .panel-heading{border-bottom:0;padding:0;min-height:40px}.cmt .measurement-point-panel .panel-heading .panel-title>a{display:flex;padding:0;min-height:40px;align-items:center}.cmt .measurement-point-panel .panel-heading .panel-title>a.collapsed:after,.cmt .measurement-point-panel .panel-heading .panel-title>a:after{content:none}.cmt .measurement-point-panel .panel-group .panel+.panel{margin-top:0}.cmt .measurement-point-panel .panel-body{padding:0;border:1px solid #005293;margin:0 0 0 25px}.cmt .measurement-point-panel .point-problems{width:100%;background-color:#f2f2f2;margin-bottom:3px;font-weight:700;padding:3px 6px}.cmt .measurement-point-panel .point-problems p{margin:0}.cmt .measurement-point-panel .panel-heading+.panel-collapse>.panel-body{border-top-color:#005293}.cmt .measurement-point-panel-header .glyphicon{width:auto}.cmt .measurement-floating-panel-name{position:relative;width:90%;border:1px solid #bcbdbc;padding:5px;font-size:14px;font-weight:400}.cmt .measurement-point-observations{position:relative;justify-content:center;align-items:center;text-align:center;padding:3px}.cmt .measurement-point-observations .observation-image{width:100%;height:auto}.cmt .measurement-point-observations .observation-image.glyphicon{font-size:79.33px}.cmt .measurement-point-observations .observation-image-overlay{display:none;position:absolute;top:5px;right:5px;z-index:9}.cmt .measurement-point-observations .observation-item:hover .observation-image-overlay{display:block}.cmt .measurement-point-observations .observation-image-highlight{content:"";position:absolute;top:5px;right:0;bottom:0;left:0;height:100%;border-bottom-width:5px;border-bottom-style:solid}.cmt .measurement-point-observations .relative{position:relative;margin:2px 2px 7px}.cmt .measurement-point-observations .observation-image-crosshair{position:absolute;top:0;left:0;content:"";height:100%;width:50%;border-right:1px solid #ec7a08}.cmt .measurement-point-observations .observation-image-crosshair:after{position:absolute;content:"";height:50%;width:200%;left:1px;border-bottom:1px solid #ec7a08}.cmt .measurement-point-number,.cmt .measurement-selected-point{width:22px;text-align:center}.cmt .btn-group>.btn+.dropdown-toggle{width:auto;color:currentColor}.cmt .measurement-dropdown{width:auto}.cmt .measurement-dropdown:hover,.cmt .measurement-dropdown:hover>.btn-default{background-color:#98c23c;color:#fff!important}.cmt .dropdown.btn-group{color:#98c23c;display:inline;cursor:pointer;font-size:14px;padding:0 5px}.cmt .dropdown.btn-group button{padding:0 15px;line-height:60px;height:60px;width:auto!important;display:block;text-align:center;transition:none}.cmt .dropdown.btn-group button:focus,.cmt .dropdown.btn-group button:hover{color:currentColor!important;background-color:inherit!important}.cmt .measurement-point-name{font-size:smaller;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;flex:1 0 65%}.cmt .measurement-point-name .glyphicon{margin-left:5px;font-size:small}.cmt .measurement-point-actions{display:flex;justify-content:flex-end;align-items:center}.cmt .measurement-point-actions button,.cmt .measurement-point-actions span{font-size:18px;line-height:normal}.cmt .measurement-panel-error-message{width:auto;padding:10px;border:1px solid #9c7f4b;font-weight:700;background-color:#fcf8e3;margin:15px}.cmt .measurement-panel-error-message p{margin:0;color:#9c7f4b}.cmt .measurement-list{position:absolute;top:60px;right:-320px;min-width:300px;height:calc(100vh - 215px);padding:10px 15px;background:#fff;-webkit-transition:.15s;-o-transition:.15s;transition:.15s;overflow:hidden;z-index:10}.cmt .measurement-list .glyphicon{cursor:pointer}.cmt .measurement-list__item{border-bottom:1px solid #bcbdbc}.cmt .measurement-list__item:hover{background-color:rgba(0,0,0,.05)}.cmt .measurement-list__item:last-child{border-bottom:0}.cmt .measurement-list__item__container{display:inline-flex;margin:0 15px;padding:15px 0}.cmt .measurement-list__item__title{width:200px;word-break:break-all}.cmt .measurement-list__item__date{font-size:12px;background-color:#e5e5e5;border-radius:8px;padding:1px 5px;margin:4px 0 0;color:#fff;width:80px;text-align:center}.cmt .measurement-list__item__actions{width:70px;text-align:right}.cmt .measurement-list--show{right:12px}.cmt .measurement-list__items{height:calc(100% - 35px);margin:0 -15px;border-top:1px solid #bcbdbc;overflow:auto}.cmt .attributes-floating-panel-header{height:0}.cmt .attributes-floating-panel-controls{margin-left:auto}.cmt .attributes-floating-panel-controls .glyphicon{width:24px;font-size:24px}.cmt .attributes-inputProperty{padding:5px;width:100%}.cmt .attribute-panel-body{overflow:visible}.cmt .attribute-panel-body .panel-body{padding:15px;overflow:visible}.cmt .attribute-panel-body .locationstable{margin:0;width:100%}.cmt .attribute-panel-body input{height:28px;width:70%;float:left}.cmt .attribute-panel-body .attributes-propertyName{width:calc(100% - 70% - 7px);float:left;margin:auto 5px auto 0;height:28px;line-height:28px;text-align:left;font-size:smaller;text-overflow:ellipsis;overflow:hidden}.cmt .attribute-panel-body .measurement-attributes_source_attributes{background-color:#fff}.cmt .attribute-panel-body .measurement-attributes_source_attributes td{background-color:transparent;padding-left:0;padding-right:0}.cmt .attribute-panel-body .measurement-attributes_source_attributes:hover,.cmt .attribute-panel-body .measurement-attributes_source_attributes:nth-of-type(odd),.cmt .attribute-panel-body .measurement-attributes_source_attributes:nth-of-type(odd):hover{background-color:#fff}.cmt .measurement-select-modal.modal{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)!important;width:900px;height:244px;margin:0;padding:0}.cmt .measurement-select-modal.modal .btn-default{border-radius:50%}.cmt .measurement-select-modal .modal-body{bottom:0}.cmt .measurement-select-modal .modal-body .toolbar-row{display:flex}.cmt .measurement-select-modal .modal-body .toolbar-row>span{line-height:124px;font-size:large;font-weight:700}.cmt .measurement-select-modal .modal-content{border:0}.cmt .measurement-select-modal .btn-toolbar{margin-left:0;display:flex;flex-grow:1;flex-direction:row;justify-content:space-between}.cmt .measurement-select-modal .btn-toolbar>div{margin-left:5px;display:flex;flex-direction:column}.cmt .measurement-select-modal .btn-toolbar>div .btn{margin-bottom:0;width:128px;height:128px;font-size:48px}.cmt .measurement-select-modal .btn-toolbar>div .btn .glyphicon{vertical-align:text-bottom;width:1em}.cmt .measurement-select-modal .btn-toolbar>div .btn.btn-sm{width:64px;height:64px;font-size:24px}.cmt .measurement-select-modal .btn-toolbar>div>button.btn{margin-right:0}.cmt .measurement-select-modal .btn-toolbar>div>span{text-align:center;margin-top:5px}.cmt .modal,.cmt .modal-backdrop{position:absolute}.cmt .modal{color:#005293;position:fixed;top:0;right:0;bottom:0;left:0;overflow:hidden}.cmt .modal-dialog{text-align:left;margin:0;width:100%;height:100%;padding:0}.cmt .modal-header{background-color:#98c23c;color:#fff;position:absolute;top:0;right:0;left:0;height:50px;padding:10px;border:0}.cmt .modal-title{line-height:30px;margin-left:10px;color:#fff}.cmt .modal-title span{margin-right:15px}.cmt .modal-footer{background-color:#333;position:absolute;right:0;bottom:0;left:0;height:auto;padding:10px 20px}.cmt .modal-footer .btn,.cmt .modal-footer .btn+.btn{margin-bottom:0}.cmt .modal-footer .btn:last-child{margin-right:0}.cmt .modal-body{background-color:#fff;position:absolute;top:50px;bottom:60px;width:100%;overflow:auto}.cmt .modal-body .dropdown-menu{box-shadow:none;border:none;padding:0;margin-top:-5px}.cmt .modal-body .dropdown-menu a{padding:10px 20px}.cmt .modal-body .dropdown-menu:after{bottom:100%;right:13px;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none;border-color:rgba(136,183,213,0);border-bottom-color:#f2f2f2;border-width:5px;margin-left:-5px}.cmt .modal-content{position:absolute;top:0;right:0;bottom:0;left:0;border-radius:0;box-shadow:none}.cmt .modal .btn-default{color:#fff;background-color:#98c23c;border:1px solid #98c23c}.cmt .modal button.close{color:#fff;margin-top:0;height:100%;width:40px;display:block;background-color:transparent;border:0}.cmt .modal .form-control,.cmt .modal input{border-color:#bcbdbc;color:#005293;border-radius:0}.cmt .modal .form-control:focus{border-color:#98c23c}.cmt .dropdown-menu>li>a{color:#005293}.cmt .dialog-modal{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)!important;width:30%;height:200px;min-width:275px;margin:0;padding:0}.cmt .navbar-default{background-color:#98c23c;border-radius:0;border-bottom:none}.header.cmt .navbar-default{padding-top:3px}.cmt .navbar-default .navbar-brand:focus,.cmt .navbar-default .navbar-brand:hover{color:#98c23c}.cmt .navbar-default .navbar-nav>.active>a,.cmt .navbar-default .navbar-nav>.open>a{border-bottom:3px solid transparent}.cmt .navbar-default .navbar-nav>.active>a,.cmt .navbar-default .navbar-nav>.active>a:focus,.cmt .navbar-default .navbar-nav>.active>a:hover,.cmt .navbar-default .navbar-nav>.open>a,.cmt .navbar-default .navbar-nav>.open>a:focus,.cmt .navbar-default .navbar-nav>.open>a:hover{background-color:#ec7a08;color:#fff;border-bottom-color:#5d741a}.cmt .navbar-default .navbar-nav>li>a{border-bottom:3px solid transparent}.cmt .navbar-default .navbar-nav>li>a:focus,.cmt .navbar-default .navbar-nav>li>a:hover{border-bottom-color:#5d741a;color:#fff}.cmt .navbar-default .navbar-nav .main-navbar>li>a{border-bottom:3px solid transparent}.cmt .navbar-default .navbar-nav .btn-default.active{box-shadow:none;color:#98c23c;border-bottom:3px solid #98c23c}.cmt .navbar-default .navbar-nav .btn-default[disabled]{color:#bcbdbc}.cmt .nav.nav-center{margin:0;float:none}.cmt .navbar-inner{text-align:center}.cmt .navbar-brand{padding:14px 15px 7px;height:46px}.cmt .clickable-brand.navbar-brand{cursor:pointer;border-bottom:3px solid transparent}.cmt .clickable-brand.navbar-brand:hover{border-bottom-color:#5d741a}.cmt .main-navbar{height:60px}.cmt .main-navbar .container-fluid>.navbar-collapse,.cmt .main-navbar .container-fluid>.navbar-header,.cmt .main-navbar .container>.navbar-collapse,.cmt .main-navbar .container>.navbar-header{margin-left:0;margin-right:0;background-color:#98c23c}.cmt .main-navbar .navbar-header .navbar-brand{position:relative;height:60px}.cmt .main-navbar .navbar-header .navbar-brand .cmt-logo-large,.cmt .main-navbar .navbar-header .navbar-brand .cmt-logo-small{position:absolute;-webkit-transition:.15s;-o-transition:.15s;transition:.15s}.cmt .main-navbar .navbar-header .navbar-brand .cmt-logo-large{width:168px;top:16px;left:16px}@media (max-width:875px){.cmt .main-navbar .navbar-header .navbar-brand{width:60px}.cmt .main-navbar .navbar-header .navbar-brand .cmt-logo-small{opacity:1;left:15px;top:11px;height:36px}.cmt .main-navbar .navbar-header .navbar-brand .cmt-logo-large{opacity:0}}@media (min-width:876px){.cmt .main-navbar .navbar-header .navbar-brand{width:200px}.cmt .main-navbar .navbar-header .navbar-brand .cmt-logo-small{opacity:0;left:16px;top:16px;height:21px}.cmt .main-navbar .navbar-header .navbar-brand .cmt-logo-large{opacity:1}}@media (max-width:875px){.cmt .main-navbar .search-button{display:none}.cmt .main-navbar #cmtUserMenu{text-align:right}.cmt .main-navbar #cmtUserMenu .user-name{display:none}}.cmt .main-navbar.navbar-default .navbar-left.navbar-form{padding-left:5px}.cmt .main-navbar.navbar-default .glyphicon{font-size:24px}.cmt .main-navbar.navbar-default .navbar-nav{float:left;margin:0}.cmt .main-navbar.navbar-default .navbar-nav>li{float:left}.cmt .main-navbar.navbar-default .navbar-nav>li>a .glyphicon{top:-2px;vertical-align:middle}.cmt .main-navbar.navbar-default .navbar-nav>.open>a,.cmt .main-navbar.navbar-default .navbar-nav>.open>a:focus,.cmt .main-navbar.navbar-default .navbar-nav>.open>a:hover{background:none;color:#fff}.cmt .main-navbar.navbar-default .navbar-nav .open .dropdown-menu .divider{margin:0}@media (max-width:767px){.cmt .main-navbar.navbar-default .navbar-nav .open .dropdown-menu>li>a{color:#005293;background-color:#fff}}.cmt .main-navbar.navbar-default .navbar-nav .open .dropdown-menu>li>a .glyphicon{line-height:1}.cmt .main-navbar.navbar-default .navbar-nav .open .dropdown-menu>li>a:focus,.cmt .main-navbar.navbar-default .navbar-nav .open .dropdown-menu>li>a:hover{color:#fff;background-color:#005293}.cmt .main-navbar.navbar-default .navbar-form{width:auto;border:0;margin-left:0;margin-right:0;padding-top:0;padding-bottom:0;-webkit-box-shadow:none;box-shadow:none}.cmt .main-navbar.navbar-default .navbar-left{float:left}.cmt .main-navbar.navbar-default .navbar-right{float:right}.cmt .main-navbar.navbar-default .navbar-right .dropdown .glyphicon{margin-right:16px}.cmt .main-navbar.navbar-default .navbar-right .dropdown-menu{position:relative;float:right;width:auto;border:0;box-shadow:none;border:none;padding:0;margin-top:-5px}.cmt .main-navbar.navbar-default .navbar-right .dropdown-menu .glyphicon{top:3px}.cmt .main-navbar.navbar-default .navbar-right .dropdown-menu a{padding:5px 20px 9px}.cmt .main-navbar.navbar-default .navbar-right .dropdown-menu:after{bottom:100%;right:13px;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none;border-color:rgba(136,183,213,0);border-bottom-color:#f2f2f2;border-width:5px;margin-left:-5px}.cmt .main-navbar.navbar-default .navbar-right .dropdown-menu.divider{margin:0}.cmt .main-navbar.navbar-default .navbar-right .dropdown-menu a{color:#005293}.cmt .main-navbar .navbar-nav>li>a{padding:0;line-height:60px;height:60px;width:60px;display:block;text-align:center}.cmt .main-navbar .navbar-nav>li>a .modal-open{line-height:20px}.cmt .main-navbar .navbar-nav>li.dropdown>a{padding:0 15px;line-height:60px;height:60px;width:auto;display:block;text-align:center}.cmt .main-navbar .container{padding:0;margin:0;width:100%}.cmt .main-navbar.navbar>.container .navbar-brand{margin-left:0}.cmt .navbar-collapse{overflow:hidden}.cmt .navbar-default .navbar-toggle:focus,.cmt .navbar-default .navbar-toggle:hover{background-color:#333}.cmt .cmt-navbar .navbar-left .glyphicon,.cmt .cmt-navbar .navbar-menu .glyphicon,.cmt .cmt-navbar .navbar-right .glyphicon{font-size:24px;line-height:46px}.cmt .cmt-navbar .switchbutton .btn-default{background-color:#fff;border:none;padding:0 5px}.cmt .nav-tabs>li.active a,.cmt .nav-tabs>li.active a:focus{color:#ec7a08;background-color:#fff;border:1px solid #bcbdbc}.cmt .nav-tabs>li.active a:hover{color:#ec7a08}.cmt .nav-tabs>li a,.cmt .nav-tabs>li a:hover{color:#005293}.cmt span.twitter-typeahead input.form-control{border:none;position:absolute;top:0;left:0;box-shadow:none;opacity:1;color:#005293;padding:0 10px;width:260px}.cmt span.twitter-typeahead input.form-control.tt-hint{color:rgba(0,82,147,.5);background:hsla(0,0%,100%,.8)!important}.cmt span.twitter-typeahead .tt-menu{box-shadow:none;border-radius:0;width:100%;padding:0;border:none}.cmt span.twitter-typeahead .tt-menu .typeahead-header{padding:15px 20px;margin:0;background-color:#f2f2f2;color:#005293;font-size:16px}.cmt span.twitter-typeahead .tt-menu .typeahead-header img{width:20px;height:20px;margin-right:10px;margin-top:-3px}.cmt span.twitter-typeahead .tt-menu .tt-suggestion{white-space:normal;word-wrap:break-word;padding:10px 20px}.cmt span.twitter-typeahead .tt-menu .tt-suggestion.tt-cursor{cursor:pointer}.cmt span.twitter-typeahead .tt-menu .tt-suggestion:hover{background-color:#005293}.cmt span.twitter-typeahead .tt-menu .tt-suggestion p{margin:0}.cmt span.twitter-typeahead .tt-menu:after{bottom:100%;left:20px;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none;border-color:rgba(136,183,213,0);border-bottom-color:#f2f2f2;border-width:5px;margin-left:-5px}.cmt .cmt-navbar .btn-group .btn+.btn,.cmt .cmt-navbar .btn-group .btn+.btn-group,.cmt .cmt-navbar .btn-group .btn-group+.btn,.cmt .cmt-navbar .btn-group .btn-group+.btn-group{margin-left:0!important}.cmt .cmt-navbar.navbar,.cmt .cmt-navbar .navbar{min-height:46px;margin:0}.cmt .cmt-navbar.navbar .navbar-nav>li>a,.cmt .cmt-navbar .navbar .navbar-nav>li>a{height:46px;width:46px;text-align:center;padding:0;line-height:46px}.cmt .cmt-navbar.navbar.navbar-default,.cmt .cmt-navbar .navbar.navbar-default{background-color:#fff;border-radius:0;border:none;min-height:46px}.cmt .cmt-navbar.navbar.navbar-default .btn-group,.cmt .cmt-navbar .navbar.navbar-default .btn-group{margin-top:0;margin-bottom:0}.cmt .cmt-navbar.navbar.navbar-default .btn-group>.open>.dropdown-toggle,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.open>.dropdown-toggle,.cmt .cmt-navbar.navbar.navbar-default .btn-group>.open>.dropdown-toggle:focus,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.open>.dropdown-toggle:focus,.cmt .cmt-navbar.navbar.navbar-default .btn-group>.open>.dropdown-toggle:hover,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.open>.dropdown-toggle:hover,.cmt .cmt-navbar.navbar.navbar-default .btn-group>.open>a,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.open>a,.cmt .cmt-navbar.navbar.navbar-default .btn-group>.open>a:focus,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.open>a:focus,.cmt .cmt-navbar.navbar.navbar-default .btn-group>.open>a:hover,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.open>a:hover{background-color:#98c23c;color:#fff;border:none}.cmt .cmt-navbar.navbar.navbar-default .btn-group>.open>.dropdown-toggle:disabled,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.open>.dropdown-toggle:disabled,.cmt .cmt-navbar.navbar.navbar-default .btn-group>.open>.dropdown-toggle:focus:disabled,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.open>.dropdown-toggle:focus:disabled,.cmt .cmt-navbar.navbar.navbar-default .btn-group>.open>.dropdown-toggle:hover:disabled,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.open>.dropdown-toggle:hover:disabled,.cmt .cmt-navbar.navbar.navbar-default .btn-group>.open>a:disabled,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.open>a:disabled,.cmt .cmt-navbar.navbar.navbar-default .btn-group>.open>a:focus:disabled,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.open>a:focus:disabled,.cmt .cmt-navbar.navbar.navbar-default .btn-group>.open>a:hover:disabled,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.open>a:hover:disabled{background-color:#bcbdbc}.cmt .cmt-navbar.navbar.navbar-default .btn-group>.active>a,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.active>a,.cmt .cmt-navbar.navbar.navbar-default .btn-group>.active>a:focus,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.active>a:focus,.cmt .cmt-navbar.navbar.navbar-default .btn-group>.active>a:hover,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.active>a:hover{color:#fff}.cmt .cmt-navbar.navbar.navbar-default .btn-group button:focus,.cmt .cmt-navbar .navbar.navbar-default .btn-group button:focus,.cmt .cmt-navbar.navbar.navbar-default .btn-group button:hover,.cmt .cmt-navbar .navbar.navbar-default .btn-group button:hover,.cmt .cmt-navbar.navbar.navbar-default .btn-group li a:focus,.cmt .cmt-navbar .navbar.navbar-default .btn-group li a:focus,.cmt .cmt-navbar.navbar.navbar-default .btn-group li a:hover,.cmt .cmt-navbar .navbar.navbar-default .btn-group li a:hover{background-color:#98c23c;color:#fff;border:none}.cmt .cmt-navbar.navbar.navbar-default .btn-group button:focus:disabled,.cmt .cmt-navbar .navbar.navbar-default .btn-group button:focus:disabled,.cmt .cmt-navbar.navbar.navbar-default .btn-group button:hover:disabled,.cmt .cmt-navbar .navbar.navbar-default .btn-group button:hover:disabled,.cmt .cmt-navbar.navbar.navbar-default .btn-group li a:focus:disabled,.cmt .cmt-navbar .navbar.navbar-default .btn-group li a:focus:disabled,.cmt .cmt-navbar.navbar.navbar-default .btn-group li a:hover:disabled,.cmt .cmt-navbar .navbar.navbar-default .btn-group li a:hover:disabled{background-color:#bcbdbc}.cmt .cmt-navbar.navbar.navbar-default .btn-group .open .dropdown-menu .active a,.cmt .cmt-navbar .navbar.navbar-default .btn-group .open .dropdown-menu .active a,.cmt .cmt-navbar.navbar.navbar-default .btn-group .open .dropdown-menu .active a:focus,.cmt .cmt-navbar .navbar.navbar-default .btn-group .open .dropdown-menu .active a:focus,.cmt .cmt-navbar.navbar.navbar-default .btn-group .open .dropdown-menu .active a:hover,.cmt .cmt-navbar .navbar.navbar-default .btn-group .open .dropdown-menu .active a:hover{color:#98c23c;background-color:#ec7a08}.cmt .cmt-navbar.navbar.navbar-default .btn-group .well-lg,.cmt .cmt-navbar .navbar.navbar-default .btn-group .well-lg{padding:0}.cmt .cmt-navbar.navbar.navbar-default .measure-method button:focus,.cmt .cmt-navbar .navbar.navbar-default .measure-method button:focus{color:#98c23c;background:none;border:0 solid #98c23c;border-bottom-width:3px}.cmt .cmt-navbar .navbar-nav.navbar-left.cmt-exp-navbar-left{margin-left:0}.cmt .nav-pills.nav-stacked li:focus,.cmt .nav-pills.nav-stacked li a:focus{outline:0}.cmt .nav-pills.nav-stacked .active{background:linear-gradient(90deg,hsla(0,0%,100%,.2) 8px,transparent 0)}.cmt .dropdown-menu{border-radius:0}.cmt .cmt-navbar .navbar-nav .dropdown-menu,.cmt .navbar-fixed-bottom .dropdown-menu{margin-bottom:0}.cmt .cmt-navbar{padding:0;border:0;background-color:#666}.cmt .cmt-navbar .btn-group button{height:46px;width:46px;text-align:center;padding:0;line-height:46px;background-color:transparent;border:0}.cmt .cmt-navbar .btn-group .btn-group{margin-right:0}.cmt .cmt-navbar button.btn{margin-bottom:0}.cmt .cmt-navbar button.btn:active,.cmt .cmt-navbar button.btn:focus,.cmt .cmt-navbar button.btn:hover{outline:0}.cmt .cmt-navbar .nav.navbar-nav.btn-toolbar{margin-left:-15px}.cmt .cmt-navbar .nav .dropup.open{position:static}.cmt .cmt-navbar .nav .dropup.open .dropdown-menu{display:table;width:100%;left:0;right:0;border:none;border:0;box-shadow:none;padding:0}.cmt .cmt-navbar .nav .dropup.open .dropdown-menu .nav-pills{background-color:#98c23c;padding-bottom:10px}.cmt .cmt-navbar .nav .dropup.open .nav-stacked>li{float:none;width:100%}.cmt .cmt-navbar .nav .dropup.open .nav-stacked>li a{color:#fff;width:100%;padding-left:15px;background:none;text-align:left;border:none;text-transform:uppercase;font-size:14px;font-weight:700}.cmt .cmt-navbar .nav .dropup.open .nav-stacked>li a:active,.cmt .cmt-navbar .nav .dropup.open .nav-stacked>li a:focus,.cmt .cmt-navbar .nav .dropup.open .nav-stacked>li a:hover{border:none;background:none;margin-bottom:0}.cmt .cmt-navbar .nav .dropup.open .nav-stacked>li a:hover{text-decoration:underline}.cmt .cmt-navbar.navbar-default .navbar-nav>.active>a,.cmt .cmt-navbar.navbar-default .navbar-nav>.active>a:focus,.cmt .cmt-navbar.navbar-default .navbar-nav>.active>a:hover,.cmt .navbar{margin-bottom:0}.cmt .expandable-navbar{display:flex}.cmt .expandable-navbar.contracted{width:46px;pointer-events:none}.cmt .expandable-navbar.contracted .glyphicon,.cmt .expandable-navbar.contracted.navbar.navbar-default{pointer-events:all;background:transparent;color:#fff}.cmt .expandable-navbar .navbar-menu{flex:0 0 46px}.cmt .expandable-navbar .navbar-left{flex:0 0 148px}.cmt .expandable-navbar .navbar-left .btn-group{display:flex;justify-content:flex-start;flex-wrap:wrap}.cmt .expandable-navbar .navbar-right{flex:1 0 46px;margin-right:0}.cmt .expandable-navbar .navbar-right .btn-group{width:100%;display:flex;justify-content:flex-end;flex-wrap:wrap}.cmt .viewer-navbar-contracted{position:absolute;bottom:0}.cmt .viewer-navbar-expanded{width:100%;flex-grow:0;flex-shrink:0;flex-basis:0}.cmt .baselayerpanel,.cmt .layerpanel{overflow:auto}.cmt .cmtImageInformationPanel{position:absolute;bottom:0;right:20px}.cmt .measurement-navbar .navbar{margin-bottom:5px}.cmt .measurement-navbar .navbar-left>*{margin-left:8px}.cmt .measurement-navbar .navbar-nav.navbar-left{margin-left:0}.cmt .cyclo-login-logo{margin-top:17px;margin-right:10px;float:right}.cmt .window-manager-container{height:100%;width:100%;padding:4px}.cmt .window-manager-container .window{margin:4px}.cmt .window{display:flex;flex-wrap:wrap;flex-grow:1;flex-shrink:0;flex-basis:0;padding:0;border:0;background-color:#666;position:relative}.cmt .window .nadircontrols,.cmt .window .obliquecontrols,.cmt .window .windowcontrols{position:absolute;display:flex;flex-direction:column}.cmt .window .nadircontrols .btn,.cmt .window .obliquecontrols .btn,.cmt .window .windowcontrols .btn{width:28px;height:28px;background:none;border:none;padding:0;margin-left:10px;margin-bottom:0;text-shadow:0 0 5px rgba(0,0,0,.5);color:#fff}.cmt .window .nadircontrols .btn:active,.cmt .window .nadircontrols .btn:focus,.cmt .window .nadircontrols .btn:hover,.cmt .window .obliquecontrols .btn:active,.cmt .window .obliquecontrols .btn:focus,.cmt .window .obliquecontrols .btn:hover,.cmt .window .windowcontrols .btn:active,.cmt .window .windowcontrols .btn:focus,.cmt .window .windowcontrols .btn:hover{color:#98c23c}.cmt .window .nadircontrols .glyphicon,.cmt .window .obliquecontrols .glyphicon,.cmt .window .windowcontrols .glyphicon{font-size:24px}.cmt .window .windowcontrols{top:9px;right:9px}.cmt .window .obliquecontrols{width:100%;height:100%;top:0;left:0;pointer-events:none}.cmt .window .obliquecontrols .btn{pointer-events:auto;position:absolute;width:28px;height:28px}.cmt .window .obliquecontrols .btn-top{top:9px;left:0;right:0;margin:0 auto}.cmt .window .obliquecontrols .btn-top .glyphicon:before{display:inline-block;transform:rotate(90deg)}.cmt .window .obliquecontrols .btn-left{left:9px;top:0;bottom:0;margin:auto 0}.cmt .window .obliquecontrols .btn-right{right:9px;top:0;bottom:0;margin:auto 0}.cmt .window .obliquecontrols .btn-right .glyphicon:before{display:inline-block;transform:rotate(180deg)}.cmt .window .nadircontrols{bottom:9px;width:100%;display:flex;align-items:center;justify-content:center}.cmt .window .nadircontrols .switch-button{margin:0 auto}.cmt .window .nadircontrols button.switch-button{height:26px;width:60px;background-color:rgba(0,0,0,.5)}.cmt .window .recordingTimestamp{position:absolute;top:15px;left:15px;text-shadow:0 0 5px rgba(0,0,0,.5);color:#fff}.cmt .window .recordingTimestamp .timetravelToggle{-webkit-transition:.15s;-o-transition:.15s;transition:.15s;color:#fff}.cmt .window .recordingTimestamp .timetravelToggle:active,.cmt .window .recordingTimestamp .timetravelToggle:focus,.cmt .window .recordingTimestamp .timetravelToggle:hover{color:#98c23c}.cmt .window .recordingTimestamp .value{margin-left:9px}.cmt .window .timetravel{position:absolute;top:55px;left:8px}.cmt .window .timetravel .popover{margin-left:32px;border-radius:0;box-shadow:0 0 5px rgba(0,0,0,.5);border:none;z-index:auto}.cmt .window .timetravel .popover-content{padding:0;cursor:pointer}.cmt .window .timetravel .popover-content>*{position:absolute}.cmt .window .timetravel .popover-content .travelDate{text-align:center;background-color:hsla(0,0%,95%,.5);height:30px;line-height:30px;width:100%;display:block;pointer-events:none}.cmt .window .timetravel .default-thumbnail,.cmt .window .timetravel .oblique img,.cmt .window .timetravel .panorama{position:absolute}.cmt .window .timetravel .default-thumbnail{height:160px;width:160px}.cmt .window .timetravel .panorama{height:160px}.cmt .window .timetravel .oblique{overflow:hidden;width:160px;height:160px}.cmt .window .timetravel .slider.slider-vertical{width:28px;padding-left:14px}.cmt .window .timetravel .slider.slider-vertical .slider-handle,.cmt .window .timetravel .slider.slider-vertical .slider-selection,.cmt .window .timetravel .slider.slider-vertical .slider-tick,.cmt .window .timetravel .slider.slider-vertical .slider-track{background-image:none}.cmt .window .timetravel .slider.slider-vertical .slider-selection{background-color:#fff}.cmt .window .timetravel .slider.slider-vertical .slider-track{width:2px;left:14px;margin-left:-1px;background-color:#fff;box-shadow:0 0 5px rgba(0,0,0,.5)}.cmt .window .timetravel .slider.slider-vertical .slider-tick{width:8px;height:8px;margin-top:-4px;margin-left:-4px;background-color:#fff;box-shadow:0 0 5px rgba(0,0,0,.5);opacity:1}.cmt .window .timetravel .slider.slider-vertical .slider-tick.in-selection{background-color:#fff}.cmt .window .timetravel .slider.slider-vertical .slider-handle{width:12px;height:12px;margin-top:-6px;margin-left:-6px;background-color:#fff;box-shadow:0 0 5px rgba(0,0,0,.5)}.cmt .viewer .cmtNavBarPanel{display:table;width:100%;left:0;right:0;border:none;border:0;box-shadow:none;padding:0;margin-bottom:0}.cmt .viewer .cmtNavBarPanel .panel-heading{padding:3px 0 3px 15px;background-color:#5d741a;font-size:12px;text-transform:uppercase;color:#fff;border-bottom:none}.cmt .viewer .cmtNavBarPanel .panel-body{padding:0}.cmt .viewer .cmtNavBarPanel .panel-max5{max-height:150px;overflow-y:auto}.cmt .viewer .cmtNavBarPanel .nav-pills{background-color:#98c23c;padding-bottom:10px}.cmt .viewer .cmtNavBarPanel .nav-stacked>li{float:none;width:100%}.cmt .viewer .cmtNavBarPanel .nav-stacked>li a{color:#fff;width:100%;padding-left:15px;background:none;text-align:left;border:none;text-transform:uppercase;font-size:14px;font-weight:700}.cmt .viewer .cmtNavBarPanel .nav-stacked>li a:active,.cmt .viewer .cmtNavBarPanel .nav-stacked>li a:focus,.cmt .viewer .cmtNavBarPanel .nav-stacked>li a:hover{border:none;background:none;margin-bottom:0}.cmt .viewer .cmtNavBarPanel .nav-stacked>li a:hover{text-decoration:underline}.cmt .viewer .cmtViewerPanel{position:absolute;width:100%;bottom:0;left:0;right:0}.cmt .viewer table{margin-left:15px;margin-right:15px;width:calc(100% - 30px)}.cmt .cmtViewerPanel{opacity:.9;width:100%;max-width:650px}.cmt .cmtViewerPanel .nav-pills.nav-stacked{width:100%}.cmt .cmtViewerPanel .wrapperproperty .control-label{padding:15px}.cmt .cmtViewerPanel.full-width{max-width:none}.cmt .cmtAttributeInformationPanel .panel-body>.row,.cmt .cmtImageInformationPanel .panel-body>.row,.cmt .cmtOverlayPanel .panel-body>.row{display:flex}.cmt .cmtAttributeInformationPanel .panel-body>.row>:first-child,.cmt .cmtImageInformationPanel .panel-body>.row>:first-child,.cmt .cmtOverlayPanel .panel-body>.row>:first-child{display:flex;flex-grow:1;background-color:#98c23c}.cmt .obliqueviewer .ob-relative-pos,.cmt .panoramaviewer .pv-relative-pos{position:relative}.cmt .panoramaviewer .panoramaview{display:flex;flex-direction:column}.cmt .panoramaviewer .panoramaview .panorama-viewer-container{height:auto!important;display:flex;flex-grow:1;flex-shrink:0;flex-basis:0}.cmt .panoramaviewer .panoramaview.crosshair{cursor:crosshair}.cmt .panoramaviewer .panoramaview.crosshair .invalidDepth>canvas,.cmt .panoramaviewer .panoramaview .invalidDepth>canvas{cursor:not-allowed}.cmt .fix-bootstrap-row{margin-left:0;margin-right:0}.cmt .fix-bootstrap-col{padding-left:0;padding-right:0}.cmt .fix-disabled-child-tooltip{display:inline-block;cursor:not-allowed}.cmt .fix-disabled-child-tooltip button[disabled]{pointer-events:none}.cmt .switchbutton{text-align:center}.cmt .switchbutton button.switch-button{height:auto;position:relative;border-radius:20px;padding:13px 30px;background:#98c23c;display:inline-block;border:none}.cmt .switchbutton button.switch-button:before{content:"";width:20px;height:20px;background:#f2f2f2;border-radius:50px;position:absolute;top:3px}.cmt .switchbutton button.switch-button:disabled,.cmt .switchbutton button.switch-button:disabled:hover{background-color:#bcbdbc}.cmt .switchbutton button.switch-button.off:before{left:3px}.cmt .switchbutton button.switch-button.on:before{right:3px}.cmt .elevation-slider{margin:15px;color:#666;justify-content:flex-start;vertical-align:middle}.cmt .elevation-slider .slider-horizontal{margin:0 0 0 15px!important;width:calc(100% - 30px)!important}.cmt .layer-manager_wizard{width:100%;padding:0 30px}@media only screen and (min-width:1400px){.cmt .layer-manager_wizard{width:80%}}@media only screen and (min-width:1600px){.cmt .layer-manager_wizard{width:60%}}.cmt .layer-manager_wizard_radio-container{line-height:40px}.cmt .layer-manager_wizard_other-container,.cmt .layer-manager_wizard_radio-container{color:#666;width:100%;display:flex;justify-content:flex-start;vertical-align:middle;max-width:680px;line-height:45px}.cmt .layer-manager_wizard_other-container .slider-horizontal,.cmt .layer-manager_wizard_radio-container .slider-horizontal{margin:10px 0 0 15px!important;width:calc(100% - 30px)!important}.cmt .layer-manager_wizard_other-container .slider-handle,.cmt .layer-manager_wizard_radio-container .slider-handle{width:25px!important;height:25px!important;margin-left:-13px!important;margin-top:-3px!important;background-color:#98c23c!important}.cmt .layer-manager_wizard_other-container .slider-selection,.cmt .layer-manager_wizard_radio-container .slider-selection{background-color:#98c23c!important}.cmt .layer-manager_wizard_details-container{width:100%;display:flex;justify-content:flex-start;align-items:flex-start}.cmt .layer-manager_wizard_choose-format{margin:20px 40px}.cmt .layer-manager_wizard_radio{height:40px;margin:0 20px 0 0!important;display:flex;align-items:center}.cmt .layer-manager_wizard_details{position:relative;width:100%;min-width:590px;min-height:200px;display:flex;justify-content:center;align-items:center;border:1px solid #bcbdbc;background:hsla(120,1%,74%,.2);color:#666;overflow:auto}.cmt .layer-manager_wizard_details_error{text-align:center}.cmt .layer-manager_wizard_details .table td,.cmt .layer-manager_wizard_details .table th{height:auto;padding:0 0 0 10px!important;line-height:40px!important}.cmt .layer-manager_wizard_dropfile{width:100%;margin-bottom:15px;border:1px solid #bcbdbc;padding:20px;font-size:18px;font-weight:400;background:rgba(0,0,0,.05);color:#666;cursor:pointer}.cmt .layer-manager_wizard_dropfile>div{display:flex;justify-content:center;align-items:center}.cmt .layer-manager_wizard_dropfile--success{border:1px solid #98c23c;background:rgba(152,194,60,.2);color:#98c23c!important}.cmt .layer-manager_wizard_source{width:100%}.cmt .layer-manager_wizard_source_container{width:100%;min-height:200px;max-height:600px;overflow:auto}.cmt .layer-manager_wizard_source_field-container{min-height:40px;margin-bottom:20px;display:flex;justify-content:space-between;align-items:flex-start}.cmt .layer-manager_wizard_source_field-container>span{width:200px;line-height:40px;margin-right:20px;text-align:right;vertical-align:middle;color:#666}.cmt .layer-manager_wizard_source_compatible-layer{background-color:transparent!important;border:0;border-top:2px solid #e6e6e6!important}.cmt .layer-manager_wizard_source_compatible-layer:hover{background-color:#e6e6e6!important}.cmt .layer-manager_wizard_source_compatible-layer--hide{display:none;border:0}.cmt .layer-manager_wizard_source_params{justify-content:flex-start!important;align-items:flex-start!important;padding:10px 0}.cmt .layer-manager_wizard_source_select{border:1px solid #bcbdbc}.cmt .layer-manager_wizard_source_filter{margin:20px 20px 0;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.cmt .layer-manager_wizard_source_filter input{width:calc(100% - 70px)}.cmt .layer-manager_wizard_source_filter--right{margin:15px 35px 15px 0;justify-content:flex-end;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cmt .layer-manager_wizard_source_no-layers{min-height:130px;display:flex;justify-content:center;align-items:center}.cmt .layer-manager_btn-container{width:100%;padding:0 30px;display:flex;justify-content:flex-end}@media only screen and (min-width:1400px){.cmt .layer-manager_btn-container{width:80%}}@media only screen and (min-width:1600px){.cmt .layer-manager_btn-container{width:60%}}.cmt .layer-manager_btn-container--full-width{width:100%}.cmt .layer-manager_btn-container--full-width label{margin:20px 0}.cmt .layer-manager_mainbtn{margin:0 0 0 15px;border:1px solid #98c23c;padding:10px 15px;font-size:15px;font-weight:400;white-space:nowrap;background-color:transparent;color:#98c23c;cursor:pointer}.cmt .layer-manager_mainbtn:active,.cmt .layer-manager_mainbtn:focus,.cmt .layer-manager_mainbtn:hover{background-color:#98c23c;color:#fff}.cmt .react-autosuggest__container{height:auto!important}.cmt .react-autosuggest__input{width:100%;height:45px;margin:0;border:1px solid #bcbdbc!important;padding:10px 15px;border-radius:0;background-color:#fff;color:#666}.cmt .react-autosuggest__input:focus{border:1px solid #000!important}.cmt .react-autosuggest__suggestions-container{width:100%!important;border-radius:0!important}.cmt .react-autosuggest__suggestions-container--open{top:45px!important}.cmt .react-autosuggest__suggestion{padding:0 20px!important;color:#666!important}.cmt .react-autosuggest__suggestion:hover{background-color:#1e90ff!important;color:#fff!important}.cmt .custom-slider{padding:20px}.cmt .custom-slider .rangeThumb{width:24px;height:24px;margin:-12px 0 0;border-radius:50%;background:#98c23c;cursor:pointer;border:0!important}.cmt .custom-slider .rangeTrack{width:100%;height:2px;cursor:pointer;background:transparent}.cmt .custom-slider .range-track{width:100%;height:2px;position:absolute;left:0;top:1px;background:#98c23c}.cmt .custom-slider .range{position:relative;width:100%;height:5px}.cmt .custom-slider .range input{width:calc(100% + 22px);position:absolute;top:-12px;left:-11px;height:30px;-webkit-appearance:none;z-index:9;background:transparent}.cmt .custom-slider .range input::-webkit-slider-thumb{-webkit-appearance:none;width:24px;height:24px;margin:-12px 0 0;border-radius:50%;background:#98c23c;cursor:pointer;border:0!important}.cmt .custom-slider .range input::-moz-range-thumb{width:24px;height:24px;margin:-12px 0 0;border-radius:50%;background:#98c23c;cursor:pointer;border:0!important}.cmt .custom-slider .range input::-ms-thumb{width:24px;height:24px;margin:-12px 0 0;border-radius:50%;background:#98c23c;cursor:pointer;border:0!important}.cmt .custom-slider .range input::-webkit-slider-runnable-track{width:100%;height:2px;cursor:pointer;background:transparent}.cmt .custom-slider .range input::-moz-range-track{width:100%;height:2px;cursor:pointer;background:transparent}.cmt .custom-slider .range input::-ms-track{height:2px}.cmt .custom-slider .range input:focus{background:none;outline:none}.cmt .custom-slider .range input::-ms-track{width:100%;cursor:pointer;background:transparent;border-color:transparent;color:transparent}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.cmt .custom-slider .range input{width:calc(100% + 40px);position:absolute;top:-35px;left:-11px;height:100px;-webkit-appearance:none;z-index:9;background:transparent}.cmt .custom-slider .range input::-ms-thumb{width:24px;height:24px;margin:-12px 0 0;border-radius:50%;background:#98c23c;cursor:pointer;border:0!important}.cmt .custom-slider .range input::-ms-track{height:2px}.cmt .custom-slider .range input::-ms-tooltip{display:none}.cmt .custom-slider .range input:focus{background:none;outline:none}.cmt .custom-slider .range input::-ms-track{width:100%;cursor:pointer;background:transparent;border-color:transparent;color:transparent;opacity:0}}@supports (-ms-ime-align:auto){.cmt .custom-slider .range input{width:calc(100% + 40px);position:absolute;top:-35px;left:-11px;height:85px;-webkit-appearance:none;z-index:9;background:transparent}.cmt .custom-slider .range input::-ms-thumb{width:24px;height:24px;margin:-12px 0 0;border-radius:50%;background:#98c23c;cursor:pointer;border:0!important}.cmt .custom-slider .range input::-ms-track{height:2px}.cmt .custom-slider .range input::-ms-tooltip{display:none}.cmt .custom-slider .range input:focus{background:none;outline:none}.cmt .custom-slider .range input::-ms-track{width:100%;cursor:pointer;background:transparent;border-color:transparent;color:transparent;opacity:0}}.cmt .custom-slider .range-labels{position:relative;margin-top:18px;padding:0;list-style:none;box-sizing:border-box}.cmt .custom-slider .range-labels li{width:10px;display:flex;justify-content:center;align-items:center;position:absolute;color:#005293;font-size:14px;cursor:pointer;white-space:nowrap;z-index:9}.cmt .custom-slider .range-labels li:before{position:absolute;top:-25px;right:0;left:0;content:"";margin:0 auto;width:9px;height:9px;background:#005293;border-radius:50%}.cmt .custom-slider .range-labels .active{color:#005293}.cmt .custom-slider .range-labels .selected:before{background:#005293}.cmt .custom-slider .range-labels .active.selected:before{display:none}.cmt .custom-slider:hover .range-tooltip{opacity:1}.cmt .custom-slider .range-tooltip{padding:2px;position:absolute;top:-65px;background:#98c23c;color:#fff;display:-ms-grid;display:grid;justify-content:center;align-items:center;border-radius:4px;opacity:0;transition:opacity .2s}.cmt .custom-slider .range-tooltip span{white-space:nowrap;line-height:1.1;padding:2px}.cmt .range-tooltip:before{content:"";display:block;position:absolute;left:40%;top:100%;width:0;height:0;border:10px solid transparent;border-top-color:#98c23c}.cmt .react-autosuggest__container{position:relative;min-height:40px;display:flex;justify-content:space-between;align-items:flex-start;display:block;width:100%;height:45px;font-size:15px;line-height:1.42857143}.cmt .react-autosuggest__input{font-size:15px;border:1px solid #aaa;border-radius:4px}.cmt .react-autosuggest__input--focused{outline:none}.cmt .react-autosuggest__input--open{border-bottom-left-radius:0;border-bottom-right-radius:0}.cmt .react-autosuggest__suggestions-container{display:none}.cmt .react-autosuggest__suggestions-container--open{display:block;position:absolute;top:51px;width:280px;border:1px solid #aaa;background-color:#fff;font-family:Helvetica,sans-serif;font-weight:300;font-size:16px;border-bottom-left-radius:4px;border-bottom-right-radius:4px;z-index:2}.cmt .react-autosuggest__suggestions-list{margin:0;padding:0;list-style-type:none}.cmt .react-autosuggest__suggestion{cursor:pointer;padding:10px 20px}.cmt .react-autosuggest__suggestion--highlighted{background-color:#ddd}',""])},function(t,e,n){e=t.exports=n(631)(void 0),e.push([t.i,".joyride-beacon{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:0;cursor:pointer;display:inline-block;line-height:1;padding:0;height:36px;position:relative;width:36px;z-index:1500}.joyride-beacon:active,.joyride-beacon:focus,.joyride-beacon:hover{outline:none}.joyride-beacon__inner{-webkit-animation:joyride-beacon-inner 1.2s infinite ease-in-out;animation:joyride-beacon-inner 1.2s infinite ease-in-out;background-color:#f04;border-radius:50%;display:block;height:50%;left:50%;opacity:.7;position:absolute;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:50%}.joyride-beacon__outer{-webkit-animation:joyride-beacon-outer 1.2s infinite ease-in-out;animation:joyride-beacon-outer 1.2s infinite ease-in-out;background-color:rgba(255,0,68,.2);border:2px solid #f04;border-radius:50%;-webkit-box-sizing:border-box;box-sizing:border-box;display:block;height:100%;left:0;opacity:.9;position:absolute;top:0;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-transform-origin:center;transform-origin:center;width:100%}.joyride-overlay{bottom:0;left:0;position:absolute;right:0;top:0;z-index:1500}.joyride-hole{border-radius:4px;-webkit-box-shadow:0 0 0 9999px rgba(0,0,0,.5),0 0 15px rgba(0,0,0,.5);box-shadow:0 0 0 9999px rgba(0,0,0,.5),0 0 15px rgba(0,0,0,.5);position:absolute}.joyride-hole.safari{-webkit-box-shadow:0 0 999px 9999px rgba(0,0,0,.5),0 0 15px rgba(0,0,0,.5);box-shadow:0 0 999px 9999px rgba(0,0,0,.5),0 0 15px rgba(0,0,0,.5)}.joyride-tooltip{background-color:#fff;border-radius:4px;color:#555;cursor:default;-webkit-filter:drop-shadow(-1px -2px 3px rgba(0,0,0,.3)) drop-shadow(1px 2px 3px rgba(0,0,0,.3));filter:drop-shadow(-1px -2px 3px rgba(0,0,0,.3)) drop-shadow(1px 2px 3px rgba(0,0,0,.3));opacity:0;padding:20px;pointer-events:auto;-webkit-transform:translateZ(0);transform:translateZ(0);width:290px;z-index:1510}.joyride-tooltip--animate{-webkit-animation:joyride-tooltip .4s forwards;animation:joyride-tooltip .4s forwards;-webkit-animation-timing-function:cubic-bezier(0,1.05,.55,1.18);animation-timing-function:cubic-bezier(0,1.05,.55,1.18)}.joyride-tooltip__triangle{background-repeat:no-repeat;position:absolute}.joyride-tooltip.bottom,.joyride-tooltip.bottom-left,.joyride-tooltip.bottom-right{margin-top:18px}.joyride-tooltip.bottom-left .joyride-tooltip__triangle,.joyride-tooltip.bottom-right .joyride-tooltip__triangle,.joyride-tooltip.bottom .joyride-tooltip__triangle{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='36' height='18' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23fff' d='M36 18L18 0 0 18z'/%3E%3C/svg%3E\");height:18px;left:50%;top:-16px;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:36px}.joyride-tooltip.top,.joyride-tooltip.top-left,.joyride-tooltip.top-right{margin-bottom:18px}.joyride-tooltip.top-left .joyride-tooltip__triangle,.joyride-tooltip.top-right .joyride-tooltip__triangle,.joyride-tooltip.top .joyride-tooltip__triangle{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='36' height='18' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23fff' d='M0 0l18 18L36 0z'/%3E%3C/svg%3E\");bottom:-16px;height:18px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:36px}.joyride-tooltip.bottom-left .joyride-tooltip__triangle,.joyride-tooltip.top-left .joyride-tooltip__triangle{left:3%;-webkit-transform:translateX(0);transform:translateX(0)}@media screen and (min-width:480px){.joyride-tooltip.bottom-left .joyride-tooltip__triangle,.joyride-tooltip.top-left .joyride-tooltip__triangle{left:2%}}.joyride-tooltip.bottom-right .joyride-tooltip__triangle,.joyride-tooltip.top-right .joyride-tooltip__triangle{left:auto;right:3%;-webkit-transform:translateX(0);transform:translateX(0)}@media screen and (min-width:480px){.joyride-tooltip.bottom-right .joyride-tooltip__triangle,.joyride-tooltip.top-right .joyride-tooltip__triangle{right:2%}}.joyride-tooltip.left{margin-right:18px}.joyride-tooltip.left .joyride-tooltip__triangle{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='18' height='36' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23fff' d='M0 36l18-18L0 0z'/%3E%3C/svg%3E\");height:36px;right:-16px;width:18px}.joyride-tooltip.right{margin-left:18px}.joyride-tooltip.right .joyride-tooltip__triangle{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='18' height='36' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23fff' d='M18 0L0 18l18 18z'/%3E%3C/svg%3E\");height:36px;left:-16px;width:18px}.joyride-tooltip__close{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:0;cursor:pointer;display:inline-block;line-height:1;padding:0;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='12' height='12' viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.117.323L8.044 6.398 2.595.323a1.105 1.105 0 0 0-1.562 1.562L6.482 7.96.323 14.119a1.105 1.105 0 0 0 1.562 1.562L7.96 9.608l5.449 6.073a1.103 1.103 0 1 0 1.56-1.562L9.517 8.046l6.159-6.161a1.103 1.103 0 1 0-1.56-1.562z' fill='rgba(85, 85, 85, 0.5)'/%3E%3C/svg%3E\");background-repeat:no-repeat;background-size:contain;height:12px;position:absolute;right:10px;text-decoration:none;top:10px;width:12px;z-index:10;display:block}.joyride-tooltip__close:active,.joyride-tooltip__close:focus,.joyride-tooltip__close:hover{outline:none}.joyride-tooltip__close:focus,.joyride-tooltip__close:hover{color:rgba(60,60,60,.5);outline:none}.joyride-tooltip__close--header{right:20px;top:20px}.joyride-tooltip__header{border-bottom:1px solid #f04;color:#555;font-size:20px;padding-bottom:6px;padding-right:18px;position:relative}.joyride-tooltip__header~.joyride-tooltip__main{padding:12px 0 18px}.joyride-tooltip__main{font-size:16px;padding-bottom:18px;padding-right:18px}.joyride-tooltip__footer{text-align:right}.joyride-tooltip__button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:0;cursor:pointer;display:inline-block;line-height:1;padding:0}.joyride-tooltip__button:active,.joyride-tooltip__button:focus,.joyride-tooltip__button:hover{outline:none}.joyride-tooltip__button--primary{background-color:#f04;border-radius:4px;color:#fff;padding:6px 12px;-webkit-transition:background-color .2s ease-in-out;transition:background-color .2s ease-in-out}.joyride-tooltip__button--primary:active,.joyride-tooltip__button--primary:focus,.joyride-tooltip__button--primary:hover{background-color:#ff1f5a;color:#fff}.joyride-tooltip__button--secondary{color:#f04;margin-right:10px}.joyride-tooltip__button--skip{color:#ccc;float:left;margin-right:10px}.joyride-tooltip--standalone .joyride-tooltip__main{padding-bottom:0}.joyride-tooltip--standalone .joyride-tooltip__footer{display:none}@media screen and (min-width:480px){.joyride-tooltip{width:360px}}@media screen and (min-width:960px){.joyride-tooltip{width:450px}}@-webkit-keyframes joyride-tooltip{0%{-webkit-transform:scale(.1);transform:scale(.1)}to{opacity:1;-webkit-transform:perspective(1px) scale(1);transform:perspective(1px) scale(1)}}@keyframes joyride-tooltip{0%{-webkit-transform:scale(.1);transform:scale(.1)}to{opacity:1;-webkit-transform:perspective(1px) scale(1);transform:perspective(1px) scale(1)}}@-webkit-keyframes joyride-beacon-inner{20%{opacity:.9}90%{opacity:.7}}@keyframes joyride-beacon-inner{20%{opacity:.9}90%{opacity:.7}}@-webkit-keyframes joyride-beacon-outer{0%{-webkit-transform:scale(1);transform:scale(1)}45%{opacity:.7;-webkit-transform:scale(.75);transform:scale(.75)}to{opacity:.9;-webkit-transform:scale(1);transform:scale(1)}}@keyframes joyride-beacon-outer{0%{-webkit-transform:scale(1);transform:scale(1)}45%{opacity:.7;-webkit-transform:scale(.75);transform:scale(.75)}to{opacity:.9;-webkit-transform:scale(1);transform:scale(1)}}",""])},function(t,e){t.exports="data:application/font-woff;base64,d09GRgABAAAAACBYAAsAAAAAOcAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAPQAAAFY2bj44Y21hcAAAAYQAAAGXAAAFYOb+ziJnbHlmAAADHAAAGCgAACl82wBASmhlYWQAABtEAAAALQAAADYQlv4gaGhlYQAAG3QAAAAdAAAAJAgEBEhobXR4AAAblAAAABQAAAEoJAD//2xvY2EAABuoAAAAlgAAAJZ/QXRebWF4cAAAHEAAAAAfAAAAIAFaAIpuYW1lAAAcYAAAAR8AAAHmqsAKkHBvc3QAAB2AAAAC1QAABVUdRKnyeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGT+xDiBgZWBgYGf6QyQ7IfQjK8ZjBg5GBiYGFiZGbCCgDTXFAaHBwwPPFhA3BggycgAwQwAvqYJFAAAAHic7dRnbhRBGIThd9nBJJMzJuecg8kZvHfiVBwI1Q/uYd4e1zEY6WlpWrOzI3XVB+wGlrqvCRZ/WTCuP+4u5v0l++f9id/zM9PYz9b2titj9X6a110+O/nGNfawl33+7gDrHOQQhznCUY5xnBOc5BSnOcNZzrHBeS5wkUtc5gpXucZ1bnCTW9zmDne55/8/4CGPeMwTnvKM57zgJa/Y5DVveMs73vOBj3ziM1/4yje+84OfbLHyk9b4f62PZfmrd6txajvmcyzPjtTIQ2qcbGpkJeUZk/K0SXnupEwAqZGhlKkgNb4uZVJImRlSpoeUOSJlokiZLVKmjJR5I2XySJlBUqaRlLkkZUJJmVVSppaU+SVlkkmZaVKmm5Q5J2XiSZl9UraAlH0gZTNI2RFStoWUvSFlg0jZJVK2itTofcqmkbJzpGwfKXtIykaSspukbCkp+0rK5pKyw6RsMyl7TcqGk7LrpGw9KftPyklAyplAyulAyjlByolBytlByilCynlCyslCyhlDymlDyrnjbNzB6h+4s7QkAHiclVoLcBvHed7dA3AE8SAPjzscSREEjsCBBAmReIokSEoWH6LeD9/Joh4W6dhS/JBli5blVvac4ySKLcfNKE5k1qnaJpmRA8hTx45jj2tnEldxok4mj06gxuPJpHGnklMn6kzsTt2OcOq/d3hRlscSCezt7e3u/fv4v//7/wViEPwxRaaIfKgHZRDCYdbG2nwCL/DJXDaXTctROcqEaZqm90n6xEfrMJJf8qf8qUwqIxG0cNvc0PDw0Nxt71UzC7s2b+hfvrx/w+ZXq5lBtVCAD1NcUtHIlNGSmkaG9NLaKhXRasipMRqyIxfyIxEtQyjn41OhZDbDhYQQF8KZkB/+MzjFSV74llISLkipckHFBV3FyhV0BTFIR4pShI+USoHUqq4STVFUVS9dQRgq0D9LbU48xnuiCMEQw9EMl87C+3g/57NJIcyl/LkQR9/k9/HJbDoatmlxKZmUiJHq/67/WbsfD5VUVZTa2iSxmJSwZjyBFJd0eC/WcPwKUjlRlEQRmWtxprIWyxGKXHPar7lAck7ICYQ0rMJemtlLV2EjndKN9bnVnl+/7bvblY+vAXONNSi/fWb9zR+N1dbAQkC+FuQ1ZiYEMoaWTgzmQgym0gSxsRz+EHPmcpEOm1G6k8nLxxgVl0/8w8jmv9q1lU44/SqwFAW6IGVVSjGorJJC+XcP7Mj+b6ZVURWoQuflAeYQcsD+lO2YtWPBjnOYeSCvn9PPjeKckeAc3DI0MXL6uTx9AAk0J5U1PYtSaAh6Yf0+Nw4ncHoMp5JCLipnJL+NlVnBxsKm5gVWyPEC7O0sjETO5mD9o1YYFRaYycnJw08chmQyHEkLLYWRgZU7V4Va5uZaQqt2rhwYqRdg/f2fp7+ER6bIbXusk4fNds3TdotRd3ZVY91qY/af/npyH34pWd/zpm4GkIT6UO6T9FNmc1Zjn+QYuIWtAHVg80QYnlb0w8a5loa279ixQy/2x9dumH0vIbbd8957y4dHPz86jJ9/b3bD2nh/m3gtTdWZvr7ffXl207rEAFN+ffno+MsLC32CKApZMsEMJNZtmp0YH23Uo2dgtwioC/Y0SC9HYNKzuUhWsHZin4212iLWfuzCEb8VBgRpJUNQM6trTrfbiTWOw0ZO11j9dxgWQf8DLuo3g1I/28TZ8WIl62nCi/gPlqKFb/NbC01NBSsfEOD2/NGjR3//5nd3FRnmtQ1vvri7yFheq8tHMcVqoAqHkB22L+asIRb+uVCEy3H4gH6ReLCoe/Cugv6tPNZ0DZeKjKZfLF/CIvEAmuhaHu8u6N+u9fk68zpqAi2JohkYcxUdsMzKXEi20j2XCbuxrxMnx3BGMneit67s8HTpIkMdWoCLFCckkXD5l47g+IP6emkkPDw3PDy3MD+shkemRsLalskJuadHnpjcsn/H9lQmk9q+45c0o/TEVk/hkgk1eDH/0oN66cH/gfbq8PzC/NDw/FB4RJJG9I9o229OrY71KOnU9tlfzm5PpWkn+42OTYwidE86AYU76IpWB5JOYCYcTWeTvM/GgFVw4BRBiU2JxKZdNEkABkwlkxtVrVjUcLFSCskVRMunklgpmghs6mqJKaF20FaEpQSh6ukmVDU7CVXLMZJLWaEsgWVQzTGcg7JOLMBzN2ZKj9m3auvV9dpW+2MNWV1VNx9ynz7tPrRZ3bzgOn3atUDiV1cysr9aUgkyh2rYrKBOFKYWASdwC86ko1IobAPcMwzRKBb4MQJoGI3Q3SNncszX7XzzPQD5yLQ3UvKeZt7rcJQdBCwRKSgK+T8rtmZHDLuAaDqStWKHz4ELDp9TRwd7f9Zb36sXmRdAj/JoA9oLEkRhS7BuLNAFILlOnBujH5muBGGjLE9BoBOneDdgAmyiBJaiRg0rL3RiN2YHbQkM0DaGcScG2LNBQVROYKgzmCWDE8dG1qWTMVcoEpvY2D3x7Zu3f71+e/vDt2zxExKb7LV3bT7yxceytZv8wF343rbWJsbhdwcG2uw+7Ooq/6UoQobYxBVu8wHzXFOHFJ+aOK3yUxsnZYbLDjbbtzfcb55qHo90y9PdE4/dM9ka7a3mpXZetbW5Opfx1mauL9UKIPEXTXAllpYW0Sh2oKWcZvBGOE1OBmOW8gvXy2eKLvXU9bKZJ4tOD0aX/rayv/cx+2Af9dP97cYSAEAGYDHzyTbIa6IHs3ZH++e3gjW5df3wYKPxGBwumAV9+e89iONHcHH9rVBt6+fbdyx9XmuAX8t/7wigAKrqHHmWPGvo9VKtZqlGU80mqHe6t3f6Zpr0LovFhmMx8mzlHhKVFgzHKuNTYP4p6hsMYRSn/KASfinTwBRYAdgBDBJIWVxKqUCJ4ipwthJogf7L/Lx+Ah+YH/0pkANNIwVNqxIEsjA6p87nz9XmseE9VSayDEsZeF8m5Yf30HfArIYIvIBqGLwhpepxXFJT+m58L3R1Lj+nn6ixEE0rq/R1WJsbhUfztflhTjFnYHZA+yOgZRlQs7CbgO6lkrBEkXCCpMdIspP43IQ5dUGKpPc+/KWH59LpvY9MDN3Vf0GfSe1ZI0dndu/fNSPLa/acutB/19DEI3vT6bmjTxzdm45IFz6A4n27Z6LRmT137J6Ra3r/U+Yt1IoiKIlGjLWhL02OEarn9b1b38/CtVcPz57WJie1098zL7M7Nqzt6+/vW7vhxWpmR25PLrfnAE1ynfF4Ph5nflxvQC8PL6lvZB6utIDkMdokHweRTc72E9hPLXS2ctmoHInaBG8nHgcO9ZO3nnLYWsp6S6vlUYvP8dRbfwcFPsujTKsbCm1QUJ/zfwbMkwDzEEBWEAPedeIg6STZcQq2OLocA7KRFgzA5RVo76yND2I5ajOKlhuIiO9oD1qk3/j8ti7+T2EmGI813/snXvazLc8dbLYF475/fc7ZtXtFS59vOtJsa1mxiZebI06mk9+0xudjmDPWvvZLn22W+7qY2CW+i/X6Sj0WnxxvPfNrb1+wqfnOM85m/b+HWpuau6e9fa1DbovPO72JD1rcUnOUr9uzz4I/AfvU64/KHKVqWV7ICBysXDfLd+U4unxyVAqzWrz36I7bd+89/yXl9P2f0z968RU8+kr3SFtPNL7ip68yn51v9ZTvTosdhKSG58Pk6Sle7F1YuVK/0+Vvclptq+rckdpQCaXRKrQV7YQZBOhbjqNhFtt8QcwnxykjoeBS/7bQ3eWvMBNjfwFLqzJl4epnlZ3FPNUvii8H1ojl39PrTKA/3//y7M787OxAfmDn7OjOnS8nvpiZWxdb89BXHloTWzeXSd+STt+ynybpQF/I05VbmevyhPoCHkpPAmQuIU6JL4u0P+Nq9Deb3zk7MDoA19mdL/dnaTdrHpqefmgN7Xmm0h0kazzhvkBXrgs+gb6wZ4PYHYBOl/AKyeAVnz4brPfqndt9culIT+ZPmiPdmd9pjvTkHw9tZS1N+q/tdrKOOG3bFvBHJ5cO5+ujJ83hmF8Yzkn91kPbbE5oYIeWTRbbtkOoYsfOG/JOGxb/etbv07QkiD9BS65nFf+t1cv4H3E4LZzrCR/xiIJt1RMu3snY51dZLZzoeGSO9WZD9jZHj9/G2EMJl2DjbcTjSvQ6neR6lnWCaWt9YszGt3lI4LjLY3E6jgaIQxDttx91iB6Ldex21vaNsN1i8/U42uyhJuJw9iRcHtLkt/Gu2ho/yjxq+KjX8k45Jl4uGG66Cmn5GFG1Sl6i5aRYLhC10s87zErwvIDlesNgkwFV6TagTI9SLS9lVNYQE/phRzfxCiGX9c6mlRIuLsu5u7JNd1pdIeHy+6R4lx5nVkbaRdmvK6F0tN062ImLfln8mq7U5H0HeCVH7S6VV2aApsFLOjHLuDH2hrzkfb1XGm/SaJdML32T1jRevl8jSCumQwT5Y4FAzK+jUJooutmlaTeABYEf4gTb4aOeM8tJHBhC6phnKl8C9o0a0yvIIKTV7yv5OXB5Ls7lz+lvqOfhv47HitEn39CfFbqiMRCTApMP8k+qT+Y/wDTUkjQ4L8nln8Rn9TyUTiiKQm2s0iDjiQYZge4YxpppkBEMtWGjDy0R8dKlS/Ngnkf1YFXAqnwnKvJxKc7oCy+RD3oDOT7I41fq8l3S9+HFJ/MffpjXT9UFrMYM6HgN39CfAgqTwowEJiUjcSEyg53qFXRA//DVA9iZ1z9UMSIu7DyAkap/qM9j56j+wYErS+fORfclbvAaMhxDqVGKnNAPGPsSJIJlBHeIKZqMB4hJvnyWFAq1OBhMnQP4QB8aQCsog6xH4oD4SAlMt6tfanwH+CRJXgBXiaUzGgKSC+yIxIHowAfkHXDvOrzLPaDWNEN/MSA7nnbI+40oTdEIo6kkTqurWFNyMzM5YExlI7RDYMo0wecTNLVcJDCDVd8fLnS8HSDrNccckYyCTIipZshF/SwdMQ3dqeDWo0L5vEpdJx1plasFmaoKTO6iLhK1qJUVmDISNy4I2Wp+PQf7QDJmKb0ECwA8q2ggM6ZtM+2cHLaZ3ro35Zci8K2CBV7sFl8XDbh44wB4zYazDR4zGKxuURQV5QoqFCpAAhW79X0mlODFN8qlSmVIirR2t4h7NU1D1ivwZ2GYd0DOThRHo2gT1QA39pv0DrxLOSM3iscscbbZqM0AeqA9FJDkXARcB/DtCL2jnhyLS7GkLzqYHoz6krE4+PhD1Ncfmh+uj+A3X41t6+A4q+jrmFwtdLD80zh209M828Etz6R8HYJL6NgWw+9fcE/F26Eb6K09PuW+MDk8v1AJPGBVGpmkXU2OSPqZF1p5WNfMck5wBDpCSuSFXO6FiBLyi9ZWTlg91RHiW0y1p8lvmdOg9TG0knqzBv/JyRi8npThpo1ja1imN5RuQEYwPNpIzvBmjaidZDh2LZhyYObnVk9bqG/wO/nLPxp9Z8PGRx9QpiNCix7uk7d4WmGprNMDfUFxeGZBnxqbSA+tPaQF+LXjQ587rKyJ+lpamzsHiNDsDwXjXd8Zvfyj/DvCWN+aSEh4zb7FCq1bPdPLepYFJ5bPeMf6x6YGNzAzLasS63uCAYHryjbEjKnP2Y+yNxK9ZVOcxFajRNfpeh5T1eZgXxA+1xnIVfSSxkP9rq66fTgD/kxrJTpH9SNBcuD+8wLm3SQSwkvkYrQyonEJK9bYYJDFGg1TlIfJYf3H8bosDi/fzCB3c7O7jGikQyWHf3YFKfTFwSBCV81TFo3fUJQbNCIOKAxoF8owNzhhg6JH6VUwevmGZk2PFzlRoaH6ON/Vda0xjKM1NzQGKZMy5fZLpl6Di9qCb3QwatwIp6lGBG0mt/cGB6UlpwBjjeBcYmSX+wu1sZl6eRGGOABew0ZgPnRQ/hR46VKGZkC3JRpq4/0pYzz1MaYyxiRgOQvOQSWAAIos1OELoEwR+J659ZtvnRmZ1BRt2+NyTKGnFBWZ935mYTcVkDlxvNvAluH54ZWZ47pmgJU0MjECpmblyIrE799tx8t+JdnLce255r1r1isLnzHPOz4DPa0YVuhQ9V3HMyuHaR+Aed3Hcb4KetIIaogROQF/6LlXDVdB8sgnhRwbwRhrdVwn8R21GOKOhqyuVOP+k4fBrtdQt+nqika2VKkJSWN8+kwl5tgLUlJLnsAmbWet1J7SSaYsnwYhcI5jIzInYJbLMfd4nX6h+cIbrjbnFQT5ZpfjwhvN4KXa9LFCAWvU7BeLmHUJRHGCYrOLJ+3EXnAJ5SLcNi2ebLZYyPx9Onef/Q783h26dh/+r/vqcsUrMeCYwUCuaUTpWUSmrhT0GIJaMD/dLjSqDSNpnJSKMfXcP3OQBquNIPTBmfvBbK0f2rxlxfqheYI+ZkrLT53U3jywhdaljbYceFMjXwALt/Yrd92/cOdXZqB1XWal8UyvykdGwOKkTIrESKwMvM5KDX8N95AZl93/zDP76fWZ/fufARZSqmEeZWk0sKTrZmipXHr+eVwqlXBvBW4bebOT8lLZCEhx2OC2BrWd1zVSKKtMsUw597n8HBHLqJHTVtpGTEabM9qSeKXtedpWIaLZtHyRURv4+j4mD6zRQflrzjw3gxQGsJjHcRzP64vVHF7E+/L6edwLXJPmSlBW0ZM4QzWGpb14Q0Ygz/iWiEqdJfOLFQ2rGqSVNhpRDN7cBm2qc2n9WMYAoqkkjlfOAHpT9JqiHJiWSEsuHx9TxE7PA80PE9dLeimP9xnCV3Jnca9+HnL64iKOG2X6Yj0+QvVfBqQbRqvReiNObMb1sLFLeYGNSlUcy+ZS9GIgBK4GPlgAdhqtjcps9eQjVDsCQc7A3R1BA6CDHXcHnCbaDu9q+b5714hxo/+LOS4cCATult3fd8sHKwW/rVyLlrcDN0XNltGbAm9bjO7WrMjNGBlcMKftssXyNt2bJfPW/NTG+ENgllPALW9BczDGCjbD4GC02WsN1uBbQMUEOrhKvIfejxFcHVxtBqzVTO0RU4xNbp2IRUOZcGjOE5vcPNkTbFvVZI1NxuhNrLNtpbs7XHkid2Viq+Wyvy0aTUejZKQ9EslGovpB4z6CJ80rEzcb3+R/0zPXLRk3sfCo/1vEeBXcSHn+m9gzF44Yzzat9r+JYxPlE7RxNkLOm9cifUc6qivmbS0edJfxiwLkpUE5QCYakQMzFu1iOb4rF//74yef+ZsXv/XkyZPfIN9+VT/46iv4xCvMXeXeiUCbn19Hzk8KbTxf/mDVKvz2qlVL95aA2lEQPJB+47wInDKK3LZOMg6EHRuTCrqIl2NIgsDWKU4O8r4WzBwJjE2Oi3qbnckzthbe8aHDji+IbW2i7sDjQf356TS+OairCncMvxcU14AHEmSOGM9F1vmhg2+xQUPaZHxyLFD+BW1z5qADbwvqGqeEyHwQWswEglU7qDBUV3tAC6gHDtKAp8uA+8gm6HHSKKa0K2xbhg07P4KpG52uHKDQyD51NI2D5hR9kvITdFb/YBQ7FaUYHiRbDrnCy5MSOIpTE4eOHKfh/Y8Mc12Me0Sc6N+w8VZOLDKKooNT7jqLFT2+XHId2oqTYcO5LB0/cmhiyujgCjI4QqkoevZu2tDXL3rixSomPA/+ngSajCISPW8Ah98GQoPHR89WYLphbjE99opj6vml6BlBCrzBEWynN34ulUlnSQk8SDUpgTuruHi71Y41V9iFNcjxLiWlv1TwiIroEfWL+kWRZo3DCcNdRe6ASKu7dM0uBtxXkJTCcdFTwL0wSJFW189D6zou/5opoRbKu7Fcj+iBmGk8eFVMj/nHxqgcCYrlJ6+KOTJsQ1QNKkyVf3BVgLH+3reYxyHH0f0ewvSMqfYNKcx9l//jtr78wJ5MfujW8dGbdpR/wjx++X/I+u19+eXbsvmhbeP5mzbV+zrFnDJjI94UdEDDI5ilgZGMlCvd+27+XfCKyZffBdJ977tYg/t7McLn3r0XHIJ3EbrqnK7/Rli0Yf6ujyrrv6A//7leZkwDSbiCC0WDJYTBx2Zl1huR2TFs+J1VySR/XSAS36NsPdK+eu3XwA497dk7Mb2pJsquheqPcZiiHH18+wNxXf/aWmXtgyGp9mK1JlbtrNdCkSSGhgC7QSthJ2SsDVzqk9j3VeQ7F1lCWZWvDtyjF2rsqn7ETzP7DRbFsI3UO6+frdNmRvnj/PTMD0p1trW/2tboxPiNgf7dRtad1wzWbnTQyMMUgzsGjbjQ0ghHhTviUKbiHkVCFDqv8VMCnCyr259969nt5Rfxn73HfnAM6mw0f1WwMYFRcjoJn3Ihvm5h1aqFdfHhqak6Nr8O+20YHUQPoYeNX6XQ2AMwamNdYWWhwAi0V+5sfrYaPkxH2RA4QgbY5ainLJjRitoSZKi0gPJmL/TfKKl1TTeNtxLmDFLwZLT+aLvfxTgSLofbE2gPd69Mt3uwq89pdQnLYgkO8MPDICDHo8DyxsO9Q+N3bx+5ufyf4Xhu5eiKXqkrlhnLJ4QWKx8AZPN1ZIalUJvAuZttPtFvbXa18mJXeCwXe9UMo86rKo5xTp/TxllascPlaLU7ulr9uLWVhUIOMIsTRe47nPjcdmemwyNM5hzY3hPo6hJjkCoDYid2up3NOCQOci6B87UQh9PlIC1eTnC1Kl0BPL+4aL5Iqer4KdAlBwqh5FWxyk85RcUlRQMvUcPnGk5T545OmqepaeOg1DxNndnNIFpT0Tvpqerk0TnzVHUuZZyqzuw2T1XpRW6QiQFfgHpVlIh/miwIDFORnPp0SQhIcejTpUD/DyG01R94nGNgZGBgAGLFmzXT4vltvjJwszCAwLVddybB6P9AwMIMFudgYAJRAHPuDcoAAAB4nGNgZGBgYQABFob/////ZWFmYGRABV4AW48EVgAAAHicY2BgYGAZ9Pj//4F2AwCsBAMjAAAAAABUAIoAxgEWAVIBdAHOAi4CfgKoAxgDSgOUA9QEagS6BQQFKgVeBZQF0AYsBk4GsgbsB3YHzghoCIwIwAjsCRYJPglmCY4JtAnYCiwKagq+CzwLpAv8DDgMmg0IDXwNzg4aDnQOsg7QDu4PEA8qD1gPfA/uEH4QqhEAEWIRuhH2EhwSPhKKEsoTOBN4FDAUehS+AAB4nGNgZGBg8GKoY2BjAAEmIOYCQgaG/2A+AwAc8AHlAHicXZCxbsIwFEUvEGgLUlupUsfK6tClUgKMfABMZWBgbgA7gJI4cgwSS8d+Rcd+Sz+qU6/TV4b6KfZ5591YUQDc4gsthNVC1OxhtXHB7pc7pIFwxLoR7tLeCffoH4T7eMajcEi88IZWdEVziVfhNq6xFe7QH4Uj8ptwF/d4F+7Rfwj3scSn8ABP+J7bY7rQ2SFPXcDwLLWrd7ZUo3gY2pkutUu93qjVSdXHbOy9UcbZQk1t6XWeW1U5u9drH2+9ryZJYsTHa1tgDssvTLGARoYDcrI7279zyalDjR37EgojxBiepzNOyyaRwvPcMLHCiXvNeYYxrYdhb5ixKEjT5qaQzlmWpmpme5o1fcx/GN6qMEHCMv/yMVO86QdVSU+/AHicdVRrd9M4EM2Fsm1CkzYN0FJggWVfPATY5dFd2AX2xWN/hSIrtk5kyUhyTfvrmdhx0vQUfZHunTka684ddy50mtXrnL8+4QIuYg2X8B3WsYEueriMTfQxwBa2McQORriCq7iGXezhOvZxAzdxC9/jNu7gLn7APfyIn/AzfsGvuI8HeIhHYHiMJ3iKCDEO8AzP8QIvcYjf8Dte4TX+wJ94g7d4h7/wN/7Bv/gP7/EBH/EJ/3c2eZIwoZzQkkUXx8rsi4wHNi7HY2L855I7ybiWLrB4IDIppm123GugVj5cEtp62RU2ZTVJp7zg3rN4JKwJ0gSm+bF0nvnMVmuiHMuRKJ23jnHnbMUCd6kM23Mut0eSlQWLtuZEE2ZxX5Q+2JwJnkvHF6j+oM0WaSum2y2gL6or9OZEYkObqG2qTH8JbBkGc5Tz1KjJ8Y0WSu5L0iGXIbMJS2QRsm/EbMiku3N+zOfcBaGVmN6dJxTcWMdzzjLr1AkpxTUpxBNb7cwzXEnaNxVXqbrQ7gq1vL99VdO/Nis4XsgTq5J5je2z/FbCAyeJKqMtT1h8Bh/2a1wWTXQFHQ7lF3oNiaN4ag2946A3UWQTIysWDepj4H7qGRlufQY9i3oTbYviOFF+emViXcVdwhTZxXkpgrJmLVOJvFYzEy5aHzbt3jtLB6e4SbW8ugwoQ7fmfHbV7pL9XEo/o6jLbjoit9QJLNV2LNmRktVwyRWe0RZvLpicF4MFKBTF9lfgqZIsulwbeaYfi7oLUw8NP1Jpk1LHDkanGccr6mV8+xQ3GxoaCnLS0idbp+J068GedSk36qRhSNiKBplkiXZWAin1Ohud47uNQhqhNE15kVkjGU1DapVJ+4Um0Txl5vSHWG+c1u7x0GdOmemy69HQl2MylAiLv0o3yC+BlSax3aDyRuK10ks3qDj1hGl5JDW9Yf3EkhmV2ah3qt/pfAWPir+4AAAA"},function(t,e){t.exports="data:application/font-woff;base64,d09GRgABAAAAAFuAAA8AAAAAsVwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAABWAAAABwAAAAcbSqX3EdERUYAAAF0AAAAHwAAACABRAAET1MvMgAAAZQAAABFAAAAYGe5a4ljbWFwAAAB3AAAAsAAAAZy2q3jgWN2dCAAAAScAAAABAAAAAQAKAL4Z2FzcAAABKAAAAAIAAAACP//AANnbHlmAAAEqAAATRcAAJSkfV3Cb2hlYWQAAFHAAAAANAAAADYFTS/YaGhlYQAAUfQAAAAcAAAAJApEBBFobXR4AABSEAAAAU8AAAN00scgYGxvY2EAAFNgAAACJwAAAjBv+5XObWF4cAAAVYgAAAAgAAAAIAFqANhuYW1lAABVqAAAAZ4AAAOisyygm3Bvc3QAAFdIAAAELQAACtG6o+U1d2ViZgAAW3gAAAAGAAAABsMYVFAAAAABAAAAAMw9os8AAAAA0HaBdQAAAADQdnOXeNpjYGRgYOADYgkGEGBiYGRgZBQDkixgHgMABUgASgB42mNgZulmnMDAysDCzMN0gYGBIQpCMy5hMGLaAeQDpRCACYkd6h3ux+DAoPD/P/OB/wJAdSIM1UBhRiQlCgyMADGWCwwAAAB42u2UP2hTQRzHf5ekaVPExv6JjW3fvTQ0sa3QLA5xylBLgyBx0gzSWEUaXbIoBBQyCQGHLqXUqYNdtIIgIg5FHJxEtwqtpbnfaV1E1KFaSvX5vVwGEbW6OPngk8/vvXfv7pt3v4SImojIDw6BViKxRgIVBaZwVdSv+xvXA+Iuzqcog2cOkkvDNE8Lbqs74k64i+5Sf3u8Z2AnIRLbyVCyTflVSEXVoEqrrMqrgiqqsqqqWQ5xlAc5zWOc5TwXucxVnuE5HdQhHdFRHdNJndZZndeFLc/zsKJLQ/WV6BcrCdWkwspVKZVROaw0qUqqoqZZcJhdTnGGxznHBS5xhad5VhNWCuturBTXKZ3RObuS98pb9c57k6ql9rp2v1as5deb1r6s9q1GV2IrHSt73T631424YXzjgPwqt+Rn+VG+lRvyirwsS/KCPCfPytPypDwhj8mjctRZd9acF86y89x55jxxHjkPnXstXfbt/pNjj/nwXW+cHa6/SYvZ7yEwbDYazDcIgoUGzY3h2HtqgUcs1AFPWKgTXrRQF7xkoQhRf7uF9hPFeyzUTTSwY6EoUUJY6AC8bSGMS4Ys1Au3WaiPSGGsMtkdGH2rzJgYHAaYjxIwQqtB1CnYkEZ9BM6ALOpROAfyqI/DBQudgidBETXuqRIooz4DV0AV9UV4GsyivkTEyMMmw1UYGdhkuAYjA5sMGMvIwCbDDRgZeAz1TXgcmDy3YeRhk+cOjCxsMjyAkYFNhscwMrDJ8BQ2886gXoaRhedQvyTSkDZ7uA6HLLQBI5vGntAbGHugTc53cMxC7+E4SKL+ACOzNpk3YWTWJid+iRo5NXIKM3fBItAPW55FdJLY3FeHBDr90606JCIU9Jk+Ms3/Y/8L8jUq3y79bJ/0/+ROoP4v9v/4/mj+i7HBXUd0/elU6IHfHt8Aj9EPGAAoAvgAAAAB//8AAnjaxb0JfBvVtTA+dxaN1hltI1m2ZVuSJVneLVlSHCdy9oTEWchqtrBEJRAgCYEsQNhC2EsbWmpI2dqkQBoSYgKlpaQthVL0yusrpW77aEubfq/ly+ujvJampSTW5Dvnzmi1E+jr//3+Xmbu3Llz77nnbuece865DMu0MAy5jGtiOEZkOp8lTNeUwyLP/DH+rEH41ZTDHAtB5lkOowWMPiwayNiUwwTjE46AI5xwhFrINPXYn/7ENY0dbWHfZAiTZbL8ID/InAd5xz2NpIH4STpDGonHIJNE3OP1KG4ISaSNeBuITAyRLgIxoiEUhFAnmUpEiXSRSGqAQEw0kuyFUIb0k2gnGSApyBFi0il2SI5YLGb5MdFjXCey4mNHzQ7WwLGEdZiPPgYR64we8THZHAt+wnT84D/x8YTpGPgheKH4CMEDVF9xBOIeP3EbQgGH29BGgpGkIxCMTCW9qUTA0Zsir+QUP1mt+P2KusevwIO6Bx/Iaj8/OD5O0VNrZW2EsqZBWbO1skRiEKE0DdlKKaSVO5VAuRpqk8VQJAqY7ydxaK44YJvrO2EWjOoDBoFYzQbDNkON+UbiKoRkywMWWf1j4bEY2iIY1AeMgvmEz/kVo9v4FSc/aMZMrFbjl4zWLL0+Y5FlyzNlEVYDudJohg8gPUP7kcB/mn+G6cd+5PV4Q72dXCgocWJADBgUuDTwiXiGSyZo14HOEQ2lE6k0XDIEusexDzZOMXwt1Dutz+tqmxTvlskNWXXUQIbhaurum9GrePqm9Yaeabjkiqf+bUvzDOvb2Y1E+EX2DnemcTP/zLcuu7xjQXdAtjR0Lo5n4/Hs/GtntMlysHt+29NXbH6se//WbFcyu+r28H0MwzI30DYeYTLMXIA2EG8QlHpAsyS0EfEToR0a3utIxFPJ3kiIHCCrZ66b0e2xEmL1dM9YN/MwS5p01N5jMX/BLKt/1R83l0LyC29M6+iYxo/UNg/EF7c2WyyW5tYl8WnhWg2/hyySbD5UhnDyS7OcU0dnrFw+DfGdI7v4QfYIIzOMq9hFtY55gmvC7jZ2FK7sEdrn6IXBuucYhjsGdQ8z0yEbWkkczjjsE5hNAIZrPx2zOLZDmKNXcXtg7EMqidAEEWg+SJCBBNwxvxJfc/bZa+KKf+xoKZybnq5vaqpPTye7CiF+ZFjxZ8/7Qij0hfOG/cowPA1rT1l4ymWnrKmxxqfErTVrpgwPlz1kC+Oy8NMDz6c+IO38K/x0xkPnLW8Kx6qGAoQdL+TD9V9rb+/ctn//trxz8dUrZrD/zk/ferF0cNt1BzctmX2FZPXt/jnFCQNz4Ah/iKllGiCMs1w5Lkg0kiEwj6VTXCDKsX9rMpnvIj9pcDecXAIXMnqn2dTUbN6w0XQ9ue6FV/nnXCH7S3lPWGltVcLsH75ub3ab7A8M28caNrIeOr3o5Q0yFsYL80xaa0EY/UEczV7icUMY5pnelAkmUAXmHYjvFWFGxuqlSaow3OM+/iYY7/l/hVELF4EjRqNR/bvRbOY+DUGzGR/Oh3EqmE/ugIQQguGt/eMYz/+L0cimjeZfQDI3phXMbMQsqH+CjwVz/hf4idHovgVmB8gLvjbicDcC/NypP536E/9N/puMibExdohBmNwyiaZdJGoigos7GpF222xrfnZhML/7Z+ylaqP63Hr+m7bdUkQ6/2cXqdfmvwixY+s2ksXFeXcE+iX0Z+Iow76DBNgjJ7TOdUK18iPsPflfQD+DPsZG2Aj9VmKMMJ4fYRrhIaxhTDR0Elh2vA6h/AE6xUb29mj3sjmL72petXjejPy+oel60M99tFduCI59N3221xe7apOvxs6aHs7vab1IqY2tv7q2xsHeHGml/cV06u/8S/xTjJ+JYc0bWEX0ukW6YmIbGkJRMdjJ9mYIH5QIdJF4hvRGyK7cC7ctImQRcUET99fGXOoft35GYLMQu+g2smnkgZUrH8AL/9Si217IssJ916nv14ZrJrvdxLkQvrvtBcjgPC0NXOicO8Qf4mcxPqh3hgUw3DDfdvLJXngg7N3dN2zbPJSaed3OfZnMU7dvmznp3C3bruO+Nmue0LFsy7S+6265+fCKFYdvvuW6vmlblnUI8xCXp37CrOZv4B9gauDBlYp7adcUXB5DNCwYImlXOJJKkAdvExXxVvKEYnCo+3eIskP9qrrfIYs71CccBjfXRC52udTHHdaP1A1ui/VvH1otbrLrpNXBsGX5B89QghDyimlvNB2KfkxZ5C9/em3+d1+d//IfFp2+2Oxn/s+9n/79p39S3s8idN6g0yZObwJOgKUpNB3GyU0Ls0PbRzIRq4lcarLKOJBkLRzJQD4j2090XrbA7DW8K3jNF5hlGS5e4V2D17zgss4T20egOJte5iD0bReM9yjTxnQxCRj3c5kFzGJmGbNKmwGw39IJDJcXJZGMkaAB4jyJAKw0jt5IAuIE+A+U3cVAZZrq9zhDyBrU8oosuxcGNTzCKJfla7JjNVmuSb/+tuzN2H+X4vlB+PpdfMXXmuVsNiub1T34SFbjYw5itEvVi0K0Nt9pNJUMI7SLGRhf2xipfCYf8z5OdlGKayOucFeVPeS/dbo3lBrbSMmwUiQN5/ed7g0Ds1s17IuZC5kNzM3MZ6EWCa0DtekdJfAxz+R/OX28sND7yRMTBcf++s8mQCQWHya4qBv/ufeMoWyslPA9DtMxUknxkH/yfTnm2CMYzs+Cq3r7PxY/MXomrvTEsRpfEGHa+WN8E1AHjElb7d06ddA7oK/+5Mdsv9EtPms0jv0Z5kf1FqPxWdFtfFr0kHfgDX0Y+5PRSG7RUj0tQr7rmfX8DH4G5W28kKeJLtmQsQkuwMP1pk16EV4sl7vrMJATfyUWo/GwEco4rh4XFQgaiUX9qxZHrMQqKnz/c2d8b9TysYrAuXpP/Rf/Gr8b1qwwc5a+euLa6S6sneNXToG2XrEJi4R5SGs8Sq2S3d97bsfCRaTdaLwKClRHt37mkudvXbjwVrLhuYeGhh56bvfQkHpk2CwvwClqgWwuBfndC3c8dwmstj81KkagcUgbfPY8Zje0W/82VPWJHmSq6pP8hPWpotc/EexDOK3qU+wngPhOCiO9MJRm8TJefjelrzoKnG2Bn+1NCUmPE4gHFmBN9jrTigRIpsACrc9Gstg58ULkp9467+Gf/eFnD5/31lNrt2967dhrm7bzI+VT5m+fzKhvf2MzpICEm79Bopkn07lt1762adNr127LwVqQLdJ5+lpQDcvHPQtVY5knhYrK6q8/JsiP6EuhGZdFdaNszjvpqvc+PI0CdjN0AXsFOC3ZfALDJwr4q2Xq+GF+GNbsxUg5NLLIEXi8otcDQcUts0D8eQ1iVDRAMBTsYiNdRIxE09EIBJO9A2xqgERTaW86BUFn0OD2xFO97FAgFhF6OoQ7prYt4XwSeUgQHiJyDbeke9IdQntciLQ1FlJMaYcUNvZBg+FB1ubjlnRNvl3o6IEU2w7fdNPhm/hh+FLysUu6++DLHkOkrSHYEjH0tEPe7WdD3uyDgvAgK/m4szFFR7ch0toUgBTdWHr7EpaWru6+6dmbbnqWEbV2EtxAsXiZAPTtGPSbHsotI2leoM8TePEqgSQprs7AGFf8kuOkPdZPXGb55POAW1d/jLST9v5YflasP6v/CO7+GNAPC2BMZWmsOjp2NNbfHwMCJD+LPVL+D/OYlWEEI/9jpPddOFkB5d1GSuKZYggmCCd7JUxD7EXAzxyirYnNDLdDZoFdx14kivkvGc3579Jm36reTTvDgBnaO6vzyQ6chQmlsMoIkIQ2+bBDWBud1Va4pcCn8CPqxlh/fgtG8IPaPH8C5wk6/nZDv69jurV5QhtwE0x2iqOsj9Mx8B9/0EaUdiPfOYYDCi/q9jhWRuupMDEU0+CtX0sDFxv07T/K5niBPqN9+tQjgEc31NGCXFeMcCEuQBIc/BK4CO78u7EPYvl3yaEfK3vcb6qP1R2tI7vUjVDDUdKubsSrNjYKY1qBEa2P50SJoaXiksIoLiCwnxS6EBuBde87botNfdEWwYvF/R0/u5yCqhGeEOR2ynSeyXjt6ka7neyye8kryBSWE52y+RBgogrXPZ8E1yIHoHIFUM+AbJhE7lbMtt8ApL+xmZW7PwbjAO0fAVoXQOuiSP/ksIVdFZ0aulsamKUzwPZ/NYDMJRBPCxsBqLzqHyneXF6Ej9HlIFo7+pg+jUb3unRmGpstGkm6etOuDBGA5wCMefp1gTHcdZlvPBXlOslvYTp1cd8UjYLVd/J5awNrIOKLnIt9MD9qdrKrWCvA6ALm3QV9VrsPm60Q7+RHJHP+2hqfugo/MvI2H/mqr4b9tFnKSRY1Y5Ek80Nm/WIhr1ikKnxGz9TWXrokf9xwujfvcOTtNTWnxd0F37Y2W79tteBqZ4G5qLCuomw+nSr28QESCRVLTyYKILGJOPfcnaIFOsewhRdvv+rWa/Wih0vlbX6Zb75T5C0qNKVFvH1QL/vazSWgC2s6oWXXIuUxQelKiJbowuJDQViatLmLijg9CQBMg8WiPgiw3LEeYRmm5f+XdnvkDnxLLjMLxtvX74C3OlwPQqx4xwIdpPx38LrlDphiyWUWHWKAzzxurS/xTo+P5wGFak62ap1PVFFN4v/y+xuR39WnIO7lsWfwgVsK17wxrs9K8ltIKuhkw7f/6dhK6gQokFKhWX3urrjk/rnI0pgfpGMeuQIUaEM7+GF5q2iMkCaMQwxxOzcvU0eXbsnS9XknXvP7Gtw5dwPXlFu2ecvSHEZgNDsU6x/GdXBYXyOQjzZReSedeEPY6nEv9gJR4oBQJtFO6Kd0fwC6BO4LNHDeBujB6dSNcUQC9zIv2LnAzGk99bUDrdFY+9yGFQtEo0GQPNv6vS2drj4+1jHbv3aJSMUWP+QTZrmbNTjU8wyG/iXNNpskybLcJ3CiTF5Ir+JYzmJwE0mSVhlxbtbmvweB3ulB6Til5UuUZydpgiFVeobhU0WaBqpJ198d+/XeNRTZ9/1OPfG7+2hwzd5W3D+hmyjsRcUg/+Cavb++Vh2ls3L7zT/etOnHNxeerv313vzLVqPai4nJv+K1FC6040/4udw7sAb3laSg0XCkAAs0npBO6VJabS4Elk/U+D4gTXW+j0wnrMlqNamq4tMIYB87tE10i0FR3LZNhJsb7/R561btmes8YBCRkhYNByRtKd55mqTas9FYhJnbRGHuOh3M4QTdgQSqmgRxuzGdSvZGcbMxNQGk5C3ebLjoXIOFM4l+WKHmLTJwRv9E8GWJ6dYvf/FmEyEGr+gyrr1p5zrgkz0Cw2j94Hv8Jdx7dIVegBSNtgsqGsRQEYiIBoXwD0LNvQ5d7s5Z00QzwNhqZA0b+tMG1tQq5nd84uq8R0zPvX35G8uRaze4jcOHzz0w1+Q2BIRvf6J6Kgatnrbiem+CFvAxfkrndzD9MFPP1GWTUHclpASUkCNAQkpCCcCgDSUDAhDZ+CuEkgn8J7i9nMA7pA4lISappxILKfAeSAbIcSDuN2bJcfZILqeO5rLs0MnngSHYRdrHjmaz7JEsEPw51ZqDJDmUIOZIe34WaQeegNsJn1qz8AIpT3yCjyEih/xELkuJ0lEMYTLVCiWpo5oYMleMH6USyYJcD+uOe+kWKpn1Qns34iyYDjkSLvgnZXcgVQNeqINXr48m3iS7cjm8tedyY0f1QvTnHHdsrKby/+SSbPY8/NH6vpl/Esq3Ae4ZU1HC44KFiI9o7CEgab/RqHbj7s5KAg06s39ZP/zxI/mVuF/TbTSy+3Fb8If9/cv7+wt91yy8RfP1QXtW5RzQn7qIiZyuFM5QfJ5E9uVnqT85TanFx0lkP3ukBAMprvsRyi/C8NAJL1xbIIirSvnSj4O5netb4JxmNANHPssHAcHMHsFRgEug816gDBeMbdfiuRcghqYcm0+Xxx/5IAEtN3fqFF3LzAXqwoT0PN0OVTNqxo8sxMkd5Ig6k79Zk7VxxX6gMLOZFQgvpW2RrMW1D0BDihaXQ9wVRoBxPLfpknmkeMtoB/qM9cRc9IqmMD2XUmdZ7GSRKPUZvChf8BoykriM2MnKYbOHX8R7cLdNCxSFFVQqoYswnlWtlFS2mNkhswVpZiQW1J/UKFfipHGlUkM6UKBhMz1istELIHJLMSctu3ugzfaVSOjKvUgc/THK4Sdg2Wscz69leKIkkrwuuWiOe9yGYKQXRumkC3qbRcMwrvhjNXgdZk3RxAUEhuSPvn3nnd++U/3vlVOmrJzCD8JLxV1OHRjrZifbcFDOuRNTGqdgQm1tSNJ2OcQ04YiEXuxtII1ECSQRoQGYioEsgCfchB4ghAtw7FfJre4WZ9hkVi9MtjuWqtdNDlpMrfEG9fOT6q21okg+e4As38MfGquNt7oUws6Ysarj1/efE+yst86YUVNvDdts3Pv5c8m/aP0C+f8/Qb+IMnGq09BgwN01oIOAnAdagI8mBSrqk1gxTDUBOtk2ousEtBH2z4Ir2d3f6k8PXXVlt2qN9RODxRuoJT/v27wm09jRYVc/e++iyx2tyzJb/n3J0htXP87eSsQaf2Ly0s6Zmxela88REy1cf4273mI3iXNJ7KxrZibOm9xm6rl4fqy/t27smU8tOfdW2ucBzg2UfmOIVyLIl3kpYlwphDISTXJXsctmiDtN7fNV6zelgxwnWxsVr83Aj/S5ki1jL/a0GC6+2L6Um+aoddlNFuj+bJ8mH/iaLh8I0/U51NspIEfq0dohwyFXKgm4NggwQ4rRhCOUFtxxo8XnitT4cnGfT93IS8FaT85XE3H5LMY4zIEPL1hw443wz+1UmhTJyJGxZzw+wsKkKZgUiVtKOKMEb2AKHTv61FNc01PQFwKnvsZ/9pPA4RKTASWahmh+8MxwzHxKy74IRn5LGRjsPUUwTu64UYNY38caqd7HKucZ/tHnODtENw/2UfHRMaq1UUPDJQ0OKkWCeet5fYOhII1VRz8+/Elg5j4Gxur3J8o2PJ4rg+2d08T/fwEzSVbyZ9XPro95T477lRKqUSRXQnauHNsISAl27oWi6Fv9z48JMv8r/aMMj8onCP/DuDZOuN+GPPr/+p7bx+7JlbYdppcNhzKU/1Px5aiaGDn/s1iGMaBcleKUo/v9rcxkZj7DBEKOfrayytXNLYiUdBY+pleQXdnscKlQcpzuWluxsieeyuXIK6SdxozitWyGOV3vOHHjguyCQ6fpIYy2JwvrQEF/Qa9Pdf/QqOSqCiE/EE1/XIVKTc2tzWbHnimrEd+Vyz311Ml3P0GVTj7PD5aDnsvCvH36alEaPMePcMegXs7x8igTu4B9v7G9vTHvhCu/kzIdx+BxC0ay9zRSvoS0F2lIxI+X7klU63I40gLQ3w5ep5na+SFnba3z5D64zv+QtM4n4ffG3tq4aNHGRfxgrXPMim+5487abL7xhdseIRn1KDl+7aINixdv0OD+JSPwKf5+xoP6aiTeQIDVlIhMcL1H5R9PYXvprs3fv2bO7MOplCmweuiq2JRZ1zz+9a/v2PH1Hfz9236w+ZrPXvWfAxlj4NLLHpq3c/PQ3uvmvbrjG7fe+o2y/cLdtE6VUlXi0ASb1VLUBVSUWSU4HdvAraTyS8xzM8NxvxFkXV6pUVRiJwcgC5zEeht4rwcp7ki0k41G0qlQhG1Vzlq8alEmnFi58caB5Q9vn988MLhqyVlHvLEWjtQFeupdiocF/tkkOGPW2ibWaBTkeZ/dvPWazXfOnnvL6jkRXpi85sFzZt+55ZptW3bl1cCCHZPD06MhySha7UFzjcjbp8fOecFCirzAG/yVjBX6OFIaadSjQq1nNhyIe8tVbaaSdHlXIWKacMeuZA1uxS95zILhyrxAdsXTL6m7kNQlx2P9uZf2qhufePFFbpI6/OU0WcP99RrCsrwseVot5mtytpf6Y0gm9sdeyKnPQ7onyK4nXlR/rg7H95M1upzu89DH6pgUcikoiihJ6NJKmRxV1x+MJiOA3YwhDRQrWU0u/0rvq0VYXnyCwsLeTJYBq3dAtJDavuzyoVpzZ99Z0+a0uoiFH/xcqgDR7rUFeOrUn6Cywb8ZeNMbhLV5ugP9l0zv9UN5b5mFkjzxUcpPJCn3V402pRxtJd2GrnLdhtVk9ZSZh9W91fCSH5B7ofxPiWL+j3D/uwhBRdyAyozeZwvQzs79soi+BKSnafLviZCcfrpBpLyimfLfTyJtbyruIQKD01tUwJyKEo/ybaxkSNFUMdMkhQoJyRBQFhnUkDQSXhTM+3NmY0EDM7ffLIjqWEGt8lCO6mLia3PukFnghosJD5p5SIho/VDkzQfLE+IrYoJXkD19pdP7OwG/voIUtagiWiZ4PAFTHHlTVhRZ7dYmPar+NJ+8JhmR6DFK5DV1foHoLNO/pHrvZfmWZ15RQlwvoVDKhCWNK3CCch9lfFBuAqUgpFSShmNaPj+i5++WZfKeViJfW5HnUakVL4UCNVkA4+ETfIqx4B5xSaP2L1yn0zn2ltPn4+OqZGmwwEVCaCSqG53ldtL1oLGAhdMLd09MpCCF6tD6ZnAZBY9hDaYsP0jzZ0j5ZjKsF4i1UmLuhbJMCnYJPt5VwFNvmZawXjEvLJqIH8STonZjq7BZ8gKgR20C9MDFqJAX1H64QW2NEup6qgzLP8cvppL/NNTOBTCJABOHeWoXzLhw4Wuy7gaBtjKr9kgKq8ZlRYBS32Lpxc8vIhpNDTfyNXWybMJbn2RyQ5EmWc2QF9wmSZ0KYCE+cPuYO6b15Uotj2Kd4MItLS7gtFbkTdrFND6pvEZqv5Yv7jXAus7Pg7avo7KDot50NX3CPkP+Kps8J9/3mGQIteY/LGPC+L7872SPR2br5fy8MtKBMHedGuM28/MZmPJMrGgi3Gb1S+Si1/L/zrZwO9XH1ce/z7ZQ1WSoY/+pMb5FT4ua0Wm+Jf/298nFmChEQ+Ti71est4mq9VYI6RsymoRJKYidElT2FGnDTZvqtfhGAFTbeqEw68GqtfmbVa/1IFO1/jdWr/8BDRRtQh9XNjubEm4aWVpVonpTGR7PVGc+KJNoBIWF7kYi4gUV3r1U6723i6TxUl3n3/tM27aZfKb7THiHW9VzFSwHJ05VfK6Ar7kaB0XgPPE0BSkSFKsBUpaLihEWoA9wBt8qirh2VSOkZwXEwyrxZ5jyt2rJmSo9gX7cg6jsEUGJU9z9xJPOEM3uQQxKgkh35DNATnVyrmJ3mbCNyIB/yox4wH1bg2DwN7q9kov4pFqny8oSm3RQbGgJ1QQTs6ZMLilOVYJ9v6Wha3HcJ9jddsXp9YhGUXLXt/qMDnvLpPNTXfNa60z5/yjXQOMq+lNmwh5egpYrdfZQZV9rI47xlRkuyTjpzsmCBSWNkAXVoK8sgYWqQJWbo1RLo6QH0YW6pxqfCnRgkd+RiFjUQUQ7poIaYoakgXxwFd9BuuI38H1xBxXSFb/pBDIKQFn7YB3dB36l7sG1FLaKiBdp1KxLvfswap/30lnVESgNnvjbUoT6w9N+Xoio0qcYOIM+heg940YimsucQVvli9NEcft2UZwGQwLuilj1fFr1i3NP94X+PE7Hpvtj6lBJfJ4R6NvWiaL6MgzWHxiN66DExa+dAdAbMYX6HVF8A+7rjEZIXAVbDe7PVI9rmN69JOLV1DOSvRPxWNPZBZf/Nf+Ny65BhYxxxV+77XJ2wfQ389/IQPgajXbwMsuAz/0IaQcXJavKbRqR2IqyZruXjVC2+hdee/5vdnYOedpmVtR3NGXldxSzDSIiBVpkGb9by89UpEPKrSLZmyFDzMab/wXl2CNe7s/qCtTvWgG5kpBmCBlSzDS/r8N4uwBwohRW63JTS1y32f0TQsPfXVGEHQrV8/NCfiOUVirYcBbIeA2+iF68rQIo3B/S628vYESr79ehzS7Q9LEL9UXmik9XVHb1yBO3Ngvt5935+k1efkV51mzzrM0LL3/20avnwMeKuWyOUZg2TasSqZ+KcZQiOn1Iu2Vh497ALUVZiCKt/gh6IvTIj1ZLRjWAkpHKOKovNwp00eqPROiAbiNEKieXwMLcXhVJ1/uzmLP4tfxaHR59cBdJVG1kTAgl9ze9QKUEQ946Hkb+okJ5JRDyf54Axur1D+WS49cLr0tTPEu7UmXrxcSr3XNvumv4yXzInXKH4F7Tc7p17Zt+t/qW2+93k063X7VW6lALxTY7i1nBXMxcxmzQbabxz+tJo+wijYaIGMNS8AoSMgAPt84DdHOoMPfjXhF+kuH1tZvuFQrRCN07xGcXRX9MYxYchDe5BcHj+Z4i+42WyPc8Xofi7bbZJN5nJLJ5qr6IqRtzqNlM17SpFsnkEyTWoABEjz4JXOQvzWYuwdnV5LNGOwTM5v9r4RpQ8ZXsYodks3o31JBlzbYtNotisnm22MxiwGFXam5oN1n0TA/hRvshvTSDwHff4nNzRo9Dum6PaJbMXzDz+x+Fkj4L4bFNBb1asqsgH7Dyh4DvbkPtf5yMDKzEwyoaESMSNS9P9gJVA3/RTlwoMwZvxECFWxIPNw9gi01nOHjP32esZTtmXHnxvZd8ZtakqQ7ekajbXetpNa6ocTVxJtY+uSe69OLz77zh5bDR3xjZMzUz6fxrz1nqrZGcHQHfPVefN+fiK86LeXj+Sc5lPKy+k/vCUI/DaLFYCWHr6nbXuILTIsb5imNKY/rCm28fSMxPhkN1XbNMNZGuqwOBhtTSxWuTk6bw0ZaG86b1hKddePOKuBvmiguYBn4T/yOqOyGRBt7bKUI1GjioBC8aUKwF7Q319UgcmtFGIzCJGBqwQij0ynDsfdFGc3TS3BlNfJ25xmzniMkpXXTPvCaD3ZaZvyzjmZdudBostmhb0ORZNN2sJBeed1HXkrUsywueQH+L0eCPxmsa5ZpgRJSDZ11yDv+jmbd86vxZfc1WcZJ3UkMq1BOOOVtvu/+pB+en186d3GTwWAw2jheaJs09/+LNfZft37DALyrNj1wABMuUKbODyTVnT/KYbJ3Tpq8IrNh92dkxOj5P/YpZx4/ycyiVcDYdn4JbEoKdQi9054iBKsygLW46FRGxAb0NPNCm8BSNCPjoKcj6EAus4SuP3rB+cV99/eTF6294dA8+TK6v74MHVpYNRt/I30e8QGTOOdfGWzzxcy+87a7bLjw37rHw1nPzp0KyyRSeZO+QQhInt3dYgvycjrPOv+T8s1rptaP84VeywdWX2T4ysr0/7TLIs6+x9zib56ye1dM9e/XsZmePY3NDs9zlnNVt4+WgHJbbz3Livg4P9WWgviOMm4kCRT6I8vw0NbUUEnFvOuFKoxQW1gTsvFirsF5pb7qTUCx4i7VmtToveaDxvK9uOaedVvPRpVOnNz0Q6bry7uiSdQ8t7Vy4JQKVS+XPplV2ts4bvCwZu+KzgITtxepaPRzWdpv74muvv6RO0SorX6cu/dqKn/XWnrtp/Zragz13DUCl5myiFW2Ycvb0PtsXnU+tx8pvLFbUspLX68mdegwmOif/NPDONajTGoUh6tU56HBJCTBASVvNUB5VIiKpc9kd7kludodSFz7xQbiOmMk5dOYk56gzL6uaf7N8a6MQOHm0ae6snZpFDfuT3/jdYzjzwkXXIVHoXNuCfQslQZqBZjTsoHMqrkE4jaYdgkGz2ATOgB3cPkSukD01DnV3ttb1wx+6arPqbkcNAHoFPzKUUQ+qL0k97pjbZv1I/egC9zTFbrrlFpNdmea+gIgfWW3wqkcis8ky5FAcRd1If5nNZrl2FFpungc8wpoCl1BpQV/ScS+zjlASyUTVv/AJ46gkJI4bHX4lTnloctxPZE1ckS3+jG2fKIjkQFyzuo8jvYQG1OrGvJPSTu/nSp9PHNTl4z5hK/8gtXVKF6gEKiglgcKiRlCESsQCV5QIlKWKpr34lt/wkSx/JCmP5/cBKQfl/5gd+rOS/+p91/+YCg5CXK2W4M9fu+/6xxX+vnelVuldIDCG0VQTpU9Dw4pRfei+6zWx0MLie0gPbyrkmRU7OwT16JGeyXLHqOLqAfVN1GPlBzWtFNzj0TRTCjogtP1NjIvu5habN5Aoa1k66wGpqriVetJgiGdwDZtKhnN0y4n9sXYnsqGmZfDSR15+5NLBlhoDaedEm7sxmpqRija6ZEEg2EAnTiAC8IrmFbGz1q08P9PSkjl/5bqzYqT9hMmptEXDgTqP3Wiye+sD4Wir4jCeoHbbp5hRfpB7BakUIppIlPCD30dR1GtslDz8OsqbXmejFC/v8wu5X2myq7SJ8Avzv9DFUJySf5uNvq4+Ti7W9D/OZrLChdwxmPNiBRqVjnpK/aGxRCDspVYKAW9AN1JANoo8wP4BJUlGqdgw6m1qPQ2QW3+OfU5/ieLS/NuKpDU3uf8bcAXyBal5jMR2NEAbPAZt0K3hvxHBEDlUxfIGcD+N2gNSNx36nfqlAYow0puatNpRz0e4W2oahKzQHsjf2c16ad/3t2KTtPobnX6D8C8pd0MDP+Kx7wnXqGGlLQcvikMErm6TmfsuxJXbSAxqNjOogJLQBLiKEHAE+JGTS3JoEhTrz8/CB+5YlupJ58aOat8Kv4JvregxwcU5Cp8GFAFm1FyOfto6GS2m1NGTS6CPNKkbsTdCBlnN9onMho55BX8IJZtEQ35lk+htwN5A0V3RCPoD/yXAcv6pAtbZczRUA64JmcUf4q7Q89ZHLeJVZ5D1Ps/t+0iCT3AHVtZC7JDCXfR7OSb/Xja5H3zQbZL1B+ULX1BMTEk3AseSpmnKEK4T9ekMIidUCRQFfcbj7z8gNLvzF7mbhQN8h6ZbRset+nQWdS/ZX3k7WpS8P9sfo0iGS64wV516pOhjI6TZ2dApgI5+LhxywYoWxKUrykKJsIoDsR4mSrCTg0egMPnLW/3Q5Nn8BZEuzqEI7HK3n0+zFmuO3TtWQ5WJoG9YqCD6Gc32SxnbnVPfsxvrFXK2dILl7bLthDp6glhcsfp4bYvbSmj/mQ94uBTw0E73x2jbNRCvC6VL6GCFDwU7eWQDcC5FY5s0slieRDwtAbRsbLXbaXAuu14e2OJw1dc6jQ3ZdY8v7rv2/BWZLqvFWVvvcmwZkK9f5jS4muO9yR5res4kfkRxhV03L1RfPOiPtYi8pd7jNEsOpyTwxpaY/yCZu/Amd5Or9uS3DYaeqVOhH7gZN/8I/wi1fEuLXvyNivibjuKvN+1Nc01HF/3h+ef/sOhox8MPd5SFucPjorQwXT+ytA8EmA5mamHNFDVhBI5pjZbQpugBNkO8MvRub8KVDKST1Wag7D3xlin1ZF7LFP/79nbvCXFOY+PUjrT7/otsPXXZ4exdPzuhZuL5LUXVAn7k7PbhG89uz3b41X01gbjP1xwlu5rrvvf9+pbs6E/Vu7Nk642/PYRaAiUBdrmO6CDTBLPQFA1ur0uXoBR1INDMkypKpoTqnSMx5GiEdTEaSHLs0Alvu/19/5QW9Rv1U1ridT22i+53pzumbs+XFFXYC++CGsTj5JUT/GCgRt3n78i2n71FHG4/u6X++9+raya7os3ZbDmgWfXun44e+u2NZKuGZ0HiF8M4TlMPR+EU6rPKRJ8wOU2RFUFLex3egEsz3YqEAq0cqhAAW19dBZIlVzR61tuIdTnpXH7l+uXrbjPUyep+8cl6aXKWhPHpDcXl9KiTWDNr4mBQc8Tq+NzK/OKSbsfl79o9G20R+brBXYvUg0rLHhtrc4TN81TTOWSZ0gL1ZVlOYH2ery/7XVUjFMbzYpg7UswcqJPQwBd0LKLabJ8IaCr2otcjSkIrGwootKECaUd4XH1+SdazRrfddkBU98t1htvWrbjqSqjaCguxrffM/5zDCpBALUycmajhd+R6ww4SWafuZ5eU+tPid4lgd3gt+b/Y9rQoZNmiXYPXyRHbRs8zX/f4WIFjWZJtUdSD55AP3xtXH+ZipC0EqdBGDA4CoYEU6gRLGPU11QhkLTBiEYPiqOeQgwTCl9aok1Qr5pFf71qEeNxjy/8F0GoqYPv75Yh9j3x4DuJ+uEzHRpAq2lMqb+qfTdiq6kGtzfOWsv0c7lSeMXDHBDe1MT+LUgx0Pg/p87u2UicdIvqQi8DkxhcUwUXCedMpb4NQjwY3npTmgsURJavLwCRyEcN2HfWsDVGfv/u9ZUWUx+PYFueUKwaNvbtu+Xps3eVWbN1GcgVrdMnWJ7WmJz9SD66EBidag0NF1Ukep0t5A7sFCWdhzvYwHv6L/BehXuHqfaBwBEU7hfVLcXvS4VQv+T/vaSIl7cbeMc7ekv9i8S3e1L5xxpvMGcu1EYPbKyCiijjGXcDKckm43PqU2qNWlXusZMiqF82cuVzolUHN9NNR0HZPxFPV9V0wLtvq+k4DqOwVWDlzuQLVdqFiP08cRX7aRlBVfR8cb55bWe5LExnlcsDp1vAP8Q9BucPMk1Ulh4GnN0SAdxcNHv3q9ohx1Ati4S/tkWjIDe3hQdkUGrGRaFBiUdiTSkI41UkMuuQHP+EaSQYlPQTFWJF03BNPpTu5KFAdkWgDukzsZKMG0Q1TAQQglScOaP/dsZ8+fP75D/9Uu5Gs3FY/2SxPld0DHOciXI9gqjcEidXjE+3BLosy0OcX3T7O5g65ROGyzQ2BZs7WbZVnO5ydLe32hMwTQ4wnnKXW6XW5LAa7oaXOIHoUl0FgLQLH2by8wSTWeAx2Y5PDazK3BqZbeJZwXGPaYhX87ZNszoDdaRxotXO1nNlpdvAPFWHDm8PqEE0sZxDEqGzxisFNnuCWetPcGrObN0p23tTZwMuRVodSV8+LTrOV3eRvzjQZiSjaLYS1WEJe0kNsJlZu9LFun7++wW4gRDRbaxw2nrOGm+xOj9cmtbp9ZqeTM1m8UXfQQCSTVSQox6pvtjot/FpHvIUjJovFEoYvHYV9C5Y/xN9OfcalvII37UEhTbTg/AQIaPb4Vz6j5u8/aViycMod/fkDcpu8QZbZoeBi/vbzP3XPsZvOubMtaPHkD9jt6+U2O7vqU/9C9SMvgrXpQNG/E0oJxun+CiElUa0IKQSUwERxOntKSV7ekcuh9VBZBBo3VUcB58ofKBHCwLyf9qFosz9Ibf8dGqwaBMjRig4SGOZ2UkWI7UiO9OfUPdxOYFApUZyfpY7mgEc5rtNGGk2H1lPhAk1Hp/VAMqQEHEUfEYkkUQq1JMdzsX7kklRrTrUi1wMcDjmu1YYfATj7Y+pGpPEBXuoQIj8rR9mgCl4C9yqmF7xnVWxGVniNqtpVmXBvQ6iwni5YQ8a1jYrXtc2J13HvgkvqWxuva1sbr+P2S5ceKGyBwDv2DbrToe1u6BkAJV7xnVLUaq0sJB8pFqcUIPi3yuwxi4JuLr+P30f3OkPQ72aO0xYo3/EsmO3QO5qEF8S0qQH0UsKXv0brnl9+8M7jF174+DsfvPOl1au/RL5/9DsbNnwHL2pHR1NTRxMZhJtHktOOxLxErPF6YlLvpC9YP73x+4ofw+3xVdrHcDE0dQQCmCRgvt9b35xINDf1CDcRSfJ+pYl+Sf8YcurfmXP5F/kj6J82jNsrkWiEuhVlgFfyNkB3S5MUzLhoNiwSCYcxQ7Ui4J0Xh7fmqRbaPa1tzujxkBRlsEHy0/OM4pYLPb7g9O6BQJN6l9zQ0OGyCaZz0vMTbHOzXfQ7a2tsterTcqxeInODoemdktw+1SbVhKwtW9ffe8VKadK0OVuC3bWzyKm5LeddsWTeorWyY9IMtUFutdu5g+Rn533qkocdvLs2HmhU75br/MmWtD8zA3OP2t1ea636jEzqYxJZGAwFiDEd61oTsrRuW3/3pYNi3bS+Rd+GjOfVpAPNd6y64Gsz1GaZleWIPoYL/v9mTeQBENVEguiF1aC4YeXxFETw6QyPfn0m9g8IrMFAvKM1EI11DARnbqibHk/Iojy5rSdgCyZi06y8sS024PeuO4MfwQ5Y9yKRZCqyYaF30vzeHlmUprR21tR0t0yz8KZY66zWuGvxVQB/36kP+K38t2Hu6NQ9SFJfw0AdpqPEK2qTMpf2VCqJwqPoJezTL824b8akoL+x03nhh+oNo5e77psxg9Q5LzebIKD+fsY34f2MtB9fk9v5b8PT6tYrgv4kRPwd0q9z3gdJSJ0653KjCYPwCaR5aUY63eW48O/kdo33yxX9wCiMv2QTrk8eGSI6Ag6moG9t2P/F7GRNlDjl0gw7pJ5aOXXqyqn8SENnXBmbSwUYLyqJjv3UmY1nKr4t80no0faXsaIEiF/BRaIBnItSce4OUif7W6Vm9T9H1X9Vj71BEm+RdmIJQST/ZfVdudUvh9S/qqNvqT98g9SQ3lHibZY0mRVHooyDN/FHmTgzjdozKw28NwQ0hwN6BCoPKaEk3YtKwNhwRLXuk076CGoZNXDQcRwZvreTZY9EZi+d0s4+ztv8iei04JQl6ZbDD2eHV7X4uHuFVfPrOmcs6m6Kr7hssr+1VZFcEZ/PdJkn1hOs8SXS/NFFgqt94PIZzZ3tdaL6Q5vo6piSzdy737pwsX1VyxUrF15iJ4uNkq+rbyg1Z+O8VsNC1UmcvORPRfxtPrfRwL2p/oA1eZp6Z/aGffoewaXcA/xBlKlQLfhQL/oPgBGP3qsA7IQS8qDVNswHKRSheDUvA3Q7MZoRcJMxlEygujn1QdyzfPfq3dEp/bXh5e5YXW2Ngfvza0ZF6UgFL/E0fTq4LBlvTE2qb/KuuzYSXVnjTfM1osvqMHVbm9950quIZlbqaL6YP7jk3kUtA0GnX2nvq53f3WoSsvEdDRnULgo2fN7lNZJgI8/VWi33c3bBZnGY05+dm+3qc7fNmj4YGKLj2nfqFP+g7jdDlxEV5XsJQZP6hYrS1l0VQr4c69Xueixp90gnZPmE5OF22j+SYEWHlZ0K/Hgsh/Ztsbh6h2DNRlvv6jJh9XaJaHCZDiUDKNTMkvb8vsqCyf3ZNdSmO0fa0Y4baJTtpbKzuVzeeSI7fCKr2Z0WypapnXJ4gnoWy3PoUIlIQ1TXdqhQJIXp9Wx5fYdpeWh2TY5D+YVyKd0jw3iumwi/BC3cEy4o83QlZnW79MrCgCjbhWXBlRZVVZZv4rIKpXC01HFlHdHLoeWVl6UVc/J5uGm6CViW5mulYMk+HqNYr0AyUPivLg2oMs2MPqtuhHyRyiwvNJej1Br+fcLyoAyu8D9B7bgmzUqfFobF5nKnK4+t8MPJkI/xHUNWk117jugWF+xazTAALQn6+UE9lhoI5ApGA/iuJOsrlNP28SVVuBVajXmircLel46w2bJS1Q0Ft0KDuikDFL/3pYrid1Q4FvofwRIo4R9h2ftSwc6jHAMqLcCql8YPHtlzGoByNXYN6v8hXnRaOhUvx0sVLCexwupGDR4NOYC7PePa5keIPACnuAdD7dEadRuTIiS6Lb7uskb381My5yjzF8lGCjBRqdwrWJCagfB3yCy7XT1i92hbcZ5Ci1FJkgYMDf6n+jspIsHFjJrTOdzSMuOa9DbDcj/nH9N9bIoGVgzHPWIQuFuYtaMRaq8eCKI0gEF6lPOZjBz3EEvaaxwSUT9U/8JbJZPJJLBLolH1La/RbF9AbC8JJjv/mMnssKjLRBJyqj9QXxNko0Ux/X79epfiXkm6fmKwF/en1HLc6LxloXWKvGa5rVCVL83VuiPcDEX/K5pTXOxHfx6HHB0t2FI0qI2rCZFTrvPWU67zVuS/kTsLnc7IKhFg30e4FOkqNSfH5PtkmUy6Cpiv/36k2sbqCeCFNa+URpoY0sZoYmCgCr3qgZz6s8I0gP1bYiR+D79H56NOz0EVWCTy2/fffvSCCx59W7uRV9995eqrX8GLesOXNm360iZ+T/El3uZqL+FyzSZ8XxpTiI/G0nkT4zznFZ0t4ipMz5v4q9ssqbdKUZt6u82knPCrt6PZwsnn0XySVnyPR1ZXAn72yx48bWJsu7apnI3Hy8bygUK5Js32qcytapqgmn95uexccj205vGgJ+euOeG2SORmKZr/qKzcx9SFctMJdwMUFZDJITs7dnOp1EKZCxg304Cevyfya+vlKqv6aXK1qIj3imL+L6hL+yvUlFfE0VKZ7E8gBY3M/8VoJCFgizH1W6VyC76nH6b7jiibYVxUmVIEspry/LgZIlCeP11Z4zs/AwvVwtGFEut5S1JY4lfyT0N/evOLo+rUEgjcqc9IkGpQbv3iW7Co5b+KgjvpzYdH85PLcc4X21ouwEGl/S4qnUAvoSlXUUhR1eKr2VWFTB+GMl6FsiQsVD1R3urlAAIoSn7JQkmiVVCHSpCwDH/qPepXQ0Db77CJOAImohB+RPWr31ev5g/kE+zTa4lbvZo8xdWPffQu9yJTPCNB66s+zXoJt/0L6hSoCuBIoK8fnBGG87OoRckJpLqyWe4YbpGi50g0+3I3UD85Oa0fzubfoXxPLbW3FDWzigmyJeM0tQkax7PqTy80+UxfUHPlBZIRVNQ+v0xRm8REKPoLmNr0+Uo48v9GFbXPKylqQ2IKm00QddgyWGMROCTxdLB9nCY8P7j2DjlsV/+mfr0C0r/NkeXbbpPlOTBBwT0mVz1zx9S/wJecBF9Wgv3p032iP2v4VSgfgW2G+HUEdEXU6iq4CtpLJfIN9XQG8dwa1VoO8XC2SrPDDyCOQptXgbcPvlAgBfxBoGwftQKeKFrNTASPt3pGGqDt/QRasn2kri+H6L80MJRsmVYJrAKyDItpJUy3/15WYIJqcJ9Q5N/LFJ4c3dc1URpWl9hW6mu50MUIelg4ucTPf15zs5DFo1c0VSp1tKB9jkwIyuM45kb+IP8gHed+6jO3v0KbIknzLy636E8KPTdCuUpB0wLo9JKnAO6pv0vS31EtBha/fJemkgLVVnd8KCk4qBTpQ5m7FbifBKrPJcq0pZAFVG/XbOFz+Tcq2MLrcmV28Nmi/OHskh82bau0k8eWCaPijQPWQ5lUvslwVCfHkXBMIehqUgtDNLeauH1huvZTbYmw+luPjyWoNGEuxRLR7LK5fSyXFUyK7PURQv2v8D3XOt2NJ6liBbmPGOsakw1kbeOs+31Wm5qpH+iJWSzqdPr2O7zc2TmtnrzCig6bBd/vgQmzOlz0STWIlmZEQfupogOZFHUZ7EkUnMn0RrpIMqAgHRJAOjIJ3yGw1I/MAp9q9S3Q/clADNm1wEeO+xbwg5OIYHZLY3ehG5lJk2xhco+6JWybpEVz2wrR6hZyD0QXZbeDVB+onmlimpkWprdAs4WEZDSQppsDlcdCBJJESIYFuAtUnC4GIF2C3Uu2Kv7L1bdz6FxtqxpG4TqQOqOUNAJ2HLvPWA2GgDy4O4vaDrtyl6P+1fAll+SyFcQ28GHqh7fvvf37udylf0fNwhzgz87Y+cf5x9GnF6ygHu18sAbipWeF0YPBgp2GaKeQduxxdEr3SgbH1kvH7tvqSLhedomOvZyts2dw8acu3dY/f+ucuMtCuP/e4zC4XnH3OLZ8ZuxTWxy8dJfU5dhDeKPSlJy5pn/+7u3XrJhmr9C5CuleGflGQocKnlAUaRKp0BAHV0ZwUt9VCqk6zYOgRIuMfePJzdmBdpPJ7/6B23+f+sp9NMDZevovvfYHG5dGPISQq1DojqNckchVrCcCYz/Q0hI0m3NKDRfkgsrnamo+p0CAq1FyvC3a3Nak/s5VX282x9Ufy3E39VAx6o7LpCvO2wK+ch9jNqpJCutcIOooKnYWtDK8gTRVYygRQfwgzKM5+jP2jOZdx3r32Py7rQUPOzAnoRs95NvRAR0qLGU11Taqu1bUYSzMcWjMEir067JQQHfIrLBHsrgv00/Wavd8HRLMEEYFSW3HCSNQehnrHztKqHcDyo4VfZ6gPKCR+gufwA8GegxUEo4A+gd0BASHiH6jYMLIsUdQJTs/C641KN4oCHWolCMLlMfIdtWKScjx7SM5LD9HnfmhrGI0S139UWfUnxgOXdJFW+AMcGjKr6eHAttHF5sUoeArYKDcxMSYcKA/xUDhPiEOEAPafSIUFArN0r24ynI91EPARDXvIDYyvqZaWeroBOUABQA/E+DXC7PWafDLQY2oiwpUEyj4RQtVlUp1GrM7In2p2A7VuiOW6otMiGOo5Mrp05ejVuTy6dNX/k/7mybZQ0nUmfrbx3U4KueDnlHm5wdh8FFeKnoaKKh/TK18StOPhwG9Xo5mqXAxvw/79YQwwDR+nAKQQ4izVXioB84qcppWB7IqjU45z4CE17OvF1Dw+oTFqxtz8dxwtogBnF9MjIl/in+K8s3hM9laIn0TiCbTAXL0T798bPXqx36p3chrv0O+GC9Xaj48Ecv8U8UEeBvUEsDlTepiU5OvlpeNGvpnKF0RvUooWhIjnx6GeBapXCQYTw9DNg6/OC3gZjp76oNTj9Kz6Jqobxb9NDqc08vcKReOpcsQV2K8InXFaXW3aI6Ofr1k48rp7CX7rx+v1UKPsfvzQU0Kc83i2VdILmd2/yX55zT9luN2+Cu4nKfwPcK/CvDVU+pHh8+LaldIf1fA5h3ndT6Fln9/W/9Ce1vndfvJtnPVO2xhm3qbafHVCN1X363UXHq9xuVD8OSD29Z8pZ5cZrern9cAdGW/uib/ud+VK0L9a42r6C90kL8KzxwLQw9NkIQJL0ASU8M+VG0KsUdgdvpgP/6NqqP0/gHZFUfGEijZLHpiIgvV5/Bltrj8Qd7XQd5p4P+7tJo30NMO6VGBwahSPMYiaaBYoLY6uEnciyhhh1Z/vvacG/rjpsvnpzs0B1Id6fmX8119l88XnOxe/uGrzzHcdu7UtY3+2vmXN5zUyj3ZcPl8p1sZSs6/nGXtwrV7Ka0XZdz83fwjjINpZWYw85lL8BRK4nGyIir2RiOsEyipuEcIakpGjWgBjLiHWOgj0Yi34gW1kKPxHt2Na5q+lwg1RdRSpFDNzosb44YJXnAfoEOpZW//6u1lhYA6leevezbI26zNHO811M2dc5HFxpk4i1jPC0s21/BWW5DnPQbn2X1WK43/aM2n18DfSoybbNHijFpamzXI31eRibGUOxSu/lT96YZlq1Yt20DaSBuG6knw2eusHs5EPBfNmVvHKdaQzcDfz9ZsXmLDWGXy2U5OsYSsIn8CS12jQIyD12KKqZrLPy7mSPdICmd6WGHG8NDZkkHuE4h9TU8FpmUO/VjC/EinToFyoNDz2p9XD6g78WgQdPG7Z3R0T/Z5dTM9lsL8Ktek7szl2L+gQwGgwkZHc2g5Su7NvVqwGy2Ua4KSXUwt1X4PaM5paaEu6jQ5zVFyNabxvUksVt2T/4VeamYPlLtffdQsk+2sUTY/zDXl/05W53/Bz9UK3p7LjapZ2ZxOm+UlZXrL3HHGqO8+wVroDaCTTnTxitMxmiAAYQzVJQH+nj3oIHnPaN6Zq6sNSLjBl8tKgVr2mj/9CWi9dnKca8rBQBsd5R1tzVlgrl5pbnPw6kZclCr2CHxMnHohLz+3KRQokzALyeIKFU1TNCiayJdoHvDYe7K6mZLm8S3uJ9dojuaJ62/qN/tjQxnSnhnKPw+LNrLi8ZKyJ3x1YhiI1aNAtP6NzCGzYv3DmaGh/LvQZnt0evgIhTFV0kE/PYxAnOHhCQUZdCWY5JWJwMzlAGl1mpNbDU7yyGnhRMILsYhH3VRAijrPcBU8/Cj1Y9NY6cnGVW0CjTLaz7E3epvaT/LtTV72Rs+0WVVmd0dz/MGTI5F0OsIviaqDlbbO5X6xT3PeXbXHRtf/z+fdka+eKPr8KF7IF4vBsT9MFPuPJMBTBMq9hQxXelQ+bewnf18ap4Ib+mSMrtDU5zqlD8QANa5MBGh/OwOvSDfcV2d66mfEWsbGWmIz6nsyZDWQSmqmxDneYyvjHPmRXHZxeueyRGLZzvRioKnGto9nIPkibAJA16adcOZRQr1iAP3bUyBR7T4RgAWTKxhkCYFwshq+7iV9r0whk50cmRcTg4fy5x4OmmNkHndIA2+YuMbmE9dwGYB4KFTsvnDE6Ah47r/fE3AYI+oXADpkdlENcZ8OZEEf8FFGZNxMs6ZLpG3SUFLL7Q2kcFU/A/Jsw+vWDa/7emewLaoeibaF1B9qUNnuqWK3+UfXYVL1v/omD15xxeDkPnXTOKSVcCbDGtOu0YQNpGAP7U1HU58UrqGu8xIbHtkQ3LVhb7Dx46ET3Ffcm1q0YcOizNmf3bC3VjWfAcpSv3MyTlgJ23FHQgmgvk+gk8pL0mcCDOn08MDAQlf+/SlTZ1z12fnqntOhbOTL9/ZdevbAPN+yby1f/uUtC/ixm8ZBo59LTXEW060hGrTDplNprWd58fwB/b/E27BdS/s7U+rGVCeQ46nzaw9QccnmZerGZZs3Yw9aVHt+Kh6HN4ti6lxIhT/wahnZtWwzlY9QHQ2c79C+dxzvVDKy8GqKWQERO9YAKbpsDUTLdWV5dE8PVPjvj9pqw7ah/PFVtkit7aj6G5xY9mfJrCz1j1e0BcnPol4UjtrCdbahIVtd2HaURujnFJR8CuOuUUfhrGhgKKgjCYNSvCc1WKlEp8wHUaAYynFNyzZn+2MnYv36dbMDBTonl/T/ma5IKAyEGz+4eRnVtaX6tss2o34u8mWorFtuFgm4A6qK/yp/gLEBVat5WnPDdKA574ubuFJ/IUfZ/Y2Nt6mN+ZNNTSTaeI56gKwkXerTe9DDHUw8/H35FY3nNN7GGuBKWhrV9ep+0k1WjNWVaHkW1yA+QHWNu8rtBw2a5YXuE40rs7/GA+j09V3hA98yRnFPOGr8ltGlsFdD/7tRce3LH6Trcneuiy7K7J3khKu+3qUaXPWaX7T6/Kfj9BX2eZq2XAcZT79u1ClJzUtHUqfqSMWBcZS43Ena0cUGLgpkKxB1QM+0Fxz10wgg6r5rltnFpH05pepUq3Y2HfYqeKRntmUFNz+XmcOs1H31U6cC6RTVLfCg7RNBF1UF2/wBgu0fFQtPEU1sSg3VcNsR7dWq3af87tUFn1l3ltXpaJxpNvtcZkH2WmMst3JqRpxUH+WC0E1qOGtP66s1MYv+VLu8/XFXvV/ZbunYYBeVN64ls0ur6NzpV9xzlmQwB5qC4Tq70WC0tk8dWJXeHvkD0h9zJOM0vD86/1NJMaIAolctvlByferCsqOKDKceOfUu1PsmoFCamV5mCrMUOCi6V6FJosMF22AcrKJgQDVhfYh6tepp/lYgvnCEAbJQ1L0rOpajEmRcasMiPfxhgGoVo4rwreQpV6fUJHH2e8fa1s2c13Apl1b89a58ozdoap2sjgLN9uISl7P1DrulyeIkt0zr6JjWocoPOZsaXPb6jtqBblsgsaRre2xHi4nELm0MhG1+x1SXwLpFi53b+aHRYo/IrbZtuWAKu5cSEXfybnnmUCaXGTpQr0xK2O2WWY76f+nAjNVf7nCZHU5XqIkTnpt6VtvsFlPXg1031g/VRdpkkyVpD7jnmax88QwDvg/66NnMRdRXTcGTmQc3cuINwN5IQqi0yzb+YFVHuVqI5s4ADfg5oE4ybDLd28mFSFmYvRoomsWXEdLU2Wl3GJy93ZNb/d5gqmNaqJZSO1l6PVRy0nZIj/45EetjLguh1rLqR+SK0hO6NrsqcNX8zoUdjQYDJ7tb4os6+i+Y0qpY2AWlnLRDWdGFTfGY1gV0zNAtJ7pdo24se0D88AwLY/gZmE9iuP4V5v7CSR/RThaHLh+UeBkXwU6BC7lGOevK65udTv+tS/PfW7qj3ljTcj3b9OkbV85t8xsMj7Ddj7DGpthZKwKPvso/c/1K9aLE12fMWLV1y1D9ua8lyJdWXr/bG+noCFutf/mLILe39ITUV4igr3876fpX5g2zeB52sWnIL4fXHlgeUzOx5QfIvJQyrKQE9wHUqVq+PEaOrz0wVvNbJZVSfsuMzxN4l9PkedFzw9V5Dj+nzpgoT4ZxCxJfC5RWLc74YVHxKlExCYt0JAOMatREhHBSCAtSfod6x6Ls8HCWECLwXZ9nd5Dz1T24JUdWs6fU3++fcnT49Qe+kBs+wdsMZgPXMp3U5S958snPP/EE7bvkOPCuTUDTUQ/UzirLhML9yPahoe1D5Fj5jWsaoveyP00PehdUAHk/seDVWsvDWXXXsyn/4wfpXc2V3/Qxli3jl/5hj/83avSCfpTNxOEKLmTjxOEKuxgNlsQn0xgct724mhynupNW1Ph6o3RYS3/+2TJrzLlkFz+ip3qCHKf6eqW02QJLjBYuuj4sobhCWqa/YHGEHpcnumuWSOhxeaL7sOakNR6vvmo+YcfFA8UFXEPZf9UjyudIOyNwx/i90DdsujS/FX2UAwvWSVK4NxaMhAGw3oowp/uc8CTi7D2rBgZWwb/60faR7SPsEbjkXy4G0XaqhXPwe2cePjxjxuHD6ssQuR1fq6PF0E+o2t1nePTn8TUmxz/A3crMoCc7egESuoTHYc7mYdg6etORoOhR7BBGD+qJopELrl4S6cJNRtEAsLP/OdvnJq0Wo0GolY2Et9VFB2Kf+4bZvVyxfOMz3WdFfSIryj6DwWghre7aQbdiDrkTL3A3vNDuDpk93HqXwam+bWmUJZfNn5ozKV5Pmmq8PF/jVY+2Tlk2M2RzSXKjmbQ4RZcQavEYrN/9rlXwtIQqzxQNMzPPfHYLvuPoO9TbT8bpGw5CQPGd+SyX/Cyf0Vxjd2R9NmsunnXYa8xGHzn+sSfM5J0y0DZEXWWxkXjcR75KBLNLHi7XvX2G8VOrf4Ykg0AMdBESIpo7MgAfyakA6rkqpI6UjNs0px7cMV+D5BF49Tez1VGnYmq0WIijp985m4Sn2gJR9b07riPPFo97OYbUZbxJCpot7H/lpZBicglCPN7WOfJkcHqc3ElWqvvz/1E6bIQrG+tz6WkM1SM9FBTR7FSs8KyBBytSmNEoquJNFN5EQyTiCrnKDx1h58yxCepPHU5nxGoxEQeeOZi2m80DxNxncVhr6BmEfUarxejw+WSiHhWk19bSY7aKR5MsteblJpfTLtjimBouXsm3d3djjYM+wEW0El9dM/ueVRWIsXwe43R7SgbVZqrnqoJ1X/kuF7pcgf8duv4q6vayV5U9zMV91GxO59UUjW8rHV6u799WzKMT7umRCXbYUKM+foaCcwgaoqZUtmodV3p+X7akb4dnU9B9La38RPFUG2SCC90tVA4XwEFhyOpZZrUCsgWYHsczLFBBVGNtstoN1bw0Z+O4fYIbvZVt4EUcJEKOhHeincWqONw+q6w5Go+WGOSR7LhKV+KBqbBPpfUvOf9QqkpDyVhBeyyZQGMsdA5FBUqvFMtUyGq9vjnsAJU4UcrxldP1CCaofyDkSAifoP5QwWx+SyUGxp75BzGAvtG7uQ38LehlyEQMeh0TeE6Bm7tYdXqdkt0uOb3kfYlNwmOdDyacOq/qlFo1v+PTmTi3E/glC9W11b34A22zmLzvb231Q0L2Bgg60OTW4YdstO+YOJnO38TtpH7zy9ymokWyA79qlVSn38HtpFlImFnhu3b4boNWXklOXV0Iwo7lQ1hrZyPFcwtjwFP7iEKSHSSJw509kh8kj6pr+H1jR7km9vcvqN9657vffefkv+fKxge1X+7RdjYUPIESN7gTvRkB/RMYtEkaVkdHApmdBPpnKmz0n1xSWFOyVIuLrinZwpoCRe6kyiVZoHX088F+UX4+WKS4iBTP0IWxGtZgOdMaV4KTayqHQF/VihBwTbgDXTCmKoOBJeNhwJMzEVjtjIFLuU38fPR7hqNG1JS7g/qRCuy3vmQ3W9Vu8qbVbP+SzazGRJH83MzP90Ck2m31mMjP8TiLn5uwD2Ugr2PFvPQjB5BnSJvQxGQZZEB+LopqzGzDbMmbkAPkZVJjeO5FzOSBKCgJze2ZS4Gemc9twrwY6u9H61iUQTcRvtdT9RW3tRxAWwFs2tcuJRnI6xjmBdWjbgFNRHMHiF1uHYBfUR/ut5Ug2jXAaT96+9RH/FToRwIzGbKmVJ1AZQnoabSB1yyIg7ByAridHApPMjyw0OiV6RjSbCuzwLAvFizBliWJua1tsuAgvNPbmljYbpt8lkWam7b3XZiOiKJskMOtmfScnsbPW208knwjuXrXK4Q1iKIgNyYXXDVT9C2Ye/78GQ5BEEXfFdde2RwauOysdJNL5AzCy84ard/nGAVN8alecnFdgu5Gbd5DJTL+hHZK0vApVy3OfU8XTSJg1TlssivsPYUlIqvn66PzrVTymCc4wgF6SDNR0pDf+9Gp+VnsUH5WtpHYsuhOaey8zdwLN47V8MTbm78g687+P3cx6tcAeNpjYGRgYGBk8s0/zBIfz2/zlUGeZQNQhOFCWfF0GP0/8P8c1jusIkAuBwMTSBQAYwQM6HjaY2BkYGAV+d8KJgP/XWG9wwAUQQGLAYqPBl942n1TvUoDQRCe1VM8kWARjNrZGIurBAsRBIuA2vkAFsJiKTYW4guIjT5ARMgTxCLoA1hcb5OgDyGHrY7f7M65e8fpLF++2W/nZ2eTmGfaIJi5I0qGDlZZcD51QzTTJirZPAI9JIwVA+wT8L5nOdMaV0AuMJ+icRHq8of6LSD18fzq8ds7xjpwBnQiSI9V5QVl6NwPvgM15NXn/AtWZyj3W0HjEXitOc/dIdbetPdFTZ+P6t+X7xU0/k6GJtOe1/B3arN0/pmz1J4UZc+D6ExwjD7vioeGd5HvhvU+R+DZcGZ6YBPNfAi0G97iBPwFXqph2cW8+D7kjMfwtinHb6kLb6Wygk3cZytSEoptGrlScdHtLPeri1JKueACMZfU1ViJG1Sq5E43dIt7SZZFl1zuRhb/GOs44xFVDbrJzB5tYs35OmaXTrEmkv0DajnMWQB42mNgYNCCwk0MLxheMPrhgUuY2JiUmOqY2pjWMD1hdmPOY+5hPsLCwWLEksSyiOUOawzrLrYiti/sCuxJ7Kc45DiSOPZxmnG2cG7jvMelweXDNYXrEbcBdxf3KR4OngheLd443g18fHwZfFv4NfiX8T8TEBIIEZggsEpQS7BMcJsQl5CFUI3QAWEp4RLhCyJaIldEbURXiJ4RYxEzE0sQ2yD2TzxIfJkEk4SeRJbENIkNEg8k/klqSGZITpE8InlL8p2UmVSG1A6pb9Jx0ltkjGSmyDySlZF1kc2RnSK7R/aZnJ5cmdwB+ST5SwpuCvsUjRTLFHcoOShNU9qhzKespGyhXKV8SPmBCpOKgUqcyjSVR6omqgmqe9RE1OrUnqkHqO9R/6FholGgsUZzgeYZLTUtL60WbS7tKh0OnQydXTpvdGV0O3S/6Gnopekt0ruhz6fvpl+nv0n/h4GdQYvBJUMhwwTDdYYvjFSM4oxmGd0zVjK2M84w3mYiYZJgssLkkqmO6TzTF2Z2ZjVmd8ylzP3MJ5lfsRCwcLJoszhhyWXpZdlhecZKxirHapbVPesF1ndsJGwCbBbZ/LA1sn1jZ2XXY3fFXsM+z36V/S8HD4cGh2OOTI51ThJOK5zeOUs4OzmXOS9wPuUi4JLgss7lm2uU6zY3NrcSty1u39zN3Mvct7l/8xDzMPLw88jyaPM44ynkaeEZ59niucqLyUvPKwgAn3OqOQAAAQAAARcApwARAAAAAAACAAAAAQABAAAAQAAuAAAAAHjarZK9TgJBEMf/d6CRaAyRhMLqCgsbL4ciglTGRPEjSiSKlnLycXJ86CEniU/hM9jYWPgIFkYfwd6nsDD+d1mBIIUx3mZnfzs3MzszuwDCeIYG8UUwQxmAFgxxPeeuyxrmcaNYxzTuFAewi0fFQSTxqXgM11pC8TgS2oPiCUS1d8Uh8ofiSczpYcVT5LjiCPlY8Qui+ncOr7D02y6/BTCrP/m+b5bdTrPi2I26Z9qNGtbRQBMdXMJBGRW0YOCecxEWYoiTCvxrYBunqHPdoX2bLOyrMKlZg8thDETw5K7Itci1TXlGy0124QRZZLDFU/exhxztMozlosTpMH6ZPge0L+OKGnFKjJ4WRwppHPL0PP3SI2P9jLQwFOu3GRhDfkeyDo//G7IHgzllZQxLdquvrdCyBVvat3seJlYo06gxapUxhU2JWnFygR03sSxnEkvcpf5Y5eibGq315TDp7fKWm8zbUVl71Aqq/ZtNnlkWmLnQtno9ycvXYbA6W2pF3aKfCayyC0Ja7Fr/PW70/HO4YM0OKxFvzf0C1MyPjwAAeNpt1VWUU2cYRuHsgxenQt1d8/3JOUnqAyR1d/cCLQVKO22pu7tQd3d3d3d3d3cXmGzumrWy3pWLs/NdPDMpZaWu1783l1Lpf14MnfzO6FbqVupfGkD30iR60JNe9KYP09CXfvRnAAMZxGCGMG3pW6ZjemZgKDMyEzMzC7MyG7MzB3MyF3MzD/MyH/OzAAuyEAuzCIuyGIuzBGWCRIUqOQU16jRYkqVYmmVYluVYng6GMZwRNGmxAiuyEiuzCquyGquzBmuyFmuzDuuyHuuzARuyERuzCZuyGZuzBVuyFVuzDduyHdszklGMZgd2ZAw7MZZxjGdnJrALu9LJbuzOHkxkT/Zib/ZhX/Zjfw7gQA7iYA7hUA7jcI7gSI7iaI7hWI7jeE7gRE7iZE5hEqdyGqdzBmdyFmdzDudyHudzARdyERdzCZdyGZdzBVdyFVdzDddyHddzAzdyEzdzC7dyG7dzB3dyF3dzD/dyH/fzAA/yEA/zCI/yGI/zBE/yFE/zDM/yHM/zAi/yEi/zCq/yGq/zBm/yFm/zDu/yHu/zAR/yER/zCZ/yGZ/zBV/yFV/zDd/yHd/zAz/yEz/zC7/yG7/zB3/yF3/zD/9mpYwsy7pl3bMeWc+sV9Y765NNk/XN+mX9swHZwGxQNjgb0nPkmInjR0V7Uq/OsaPL5Y7ylE3l8tQNN7kVt+rmbuHW3LrbcDvam1rtzVvdm50TxrU/DBvRtZUY1rV5a3jXFn550Wo/XDNWK3dFmh7X9LimxzU9qulRTY9qelTTo5rlKLt2wk7YiaprL+yFvbAX9pK9ZC/ZS/aSvWQv2Uv2kr1kr2KvYq9ir2KvYq9ir2KvYq9ir2Kvaq9qr2qvaq9qr2qvaq9qr2qvai+3l9vL7eX2cnu5vdxebi+3l9sr7BV2CjuFncJOYaewU9gp7NTs1LyrZq9mr2avZq9mr2avZq9mr26vbq9ur26vbq9ur26vbq9ur26vYa9hr2GvYa9hr2GvYa/R7oXuQ/eh+2j/UU7e3C3cqc/V3fYdof/Qf+g/9B/6D/2H/kP/of/Qf+g/9B/6D/2H/kP/of/Qf+g/9B/6D/2H/kP/of/Qf+g/9B/6D/2H/kP/of/Qf+g/9B/6D92H7kP3ofvQfeg+dB+6D92H7kP3ofvQfRT29B/6D/2H/kP/of/Qf+g/9B/6D/2H/kP/of/Qf+g/9B/6D/2H/kP/of/Qf+g/9B/6D/2H/kP/of/Qf+g/9B/6j6nuG3Ya7U5q/0hN3nCTW3Grbu4Wrs/rP+k/6T/pP+k/6T/pP+k+6T7pPek86TzpPOk86TzpOuk66TrpOuk66TrpOlWmPu/36zrpOuk66TrpOuk66TrpOvl/Pek76TvpO+k76TvpO+k76TvpO+k76TvpO7V9t+qtVs/OaOURU6bo6PgPt6rZbwAAAAABVFDDFwAA"},function(t,e,n){t.exports=n.p+"assets/img/loginpage_bg.jpg"},function(t,e,n){t.exports=n.p+"assets/img/location-pin-2.cur"},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=p[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(c(r.parts[o],e))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(c(r.parts[o],e));p[r.id]={id:r.id,refs:1,parts:a}}}}function i(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r],o=i[0],a=i[1],s=i[2],l=i[3],u={css:a,media:s,sourceMap:l};n[o]?n[o].parts.push(u):e.push(n[o]={id:o,parts:[u]})}return e}function o(t,e){var n=g(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=b[b.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),b.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function s(t){var e=document.createElement("style");return t.attrs.type="text/css",u(e,t.attrs),o(t,e),e}function l(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",u(e,t.attrs),o(t,e),e}function u(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function c(t,e){var n,r,i;if(e.singleton){var o=y++;n=v||(v=s(e)),r=f.bind(null,n,o,!1),i=f.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(e),r=d.bind(null,n,e),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),r=h.bind(null,n),i=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function f(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=w(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function h(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function d(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=_(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var p={},m=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),g=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t.call(this,n)),e[n]}}(function(t){return document.querySelector(t)}),v=null,y=0,b=[],_=n(1466);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},void 0===e.singleton&&(e.singleton=m()),void 0===e.insertInto&&(e.insertInto="head"),void 0===e.insertAt&&(e.insertAt="bottom");var n=i(t);return r(n,e),function(t){for(var o=[],a=0;a<n.length;a++){var s=n[a],l=p[s.id];l.refs--,o.push(l)}if(t){r(i(t),e)}for(var a=0;a<o.length;a++){var l=o[a];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete p[l.id]}}}};var w=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return t;var o;return o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(t,e,n){"use strict";var r=n(76),i=(n.n(r),n(50)),o=n.n(i),a=n(54),s=n.n(a),l=n(34),u=n.n(l),c=n(1468),f=n.n(c),h=n(1469),d=n.n(h);"function"==typeof s.a&&o.a;u.a.setLevel("ERROR"),d()("localStorage")&&f()(u.a,{storeKey:"StreetSmart/log",level:"WARN",prefix:function(t,e){return"["+(new Date).toISOString()+"] "+t+": "+e},maxLogStackSize:50,callOriginal:!1})},function(t,e,n){var r=n(20),i=function(t,e){if(!t||!t.methodFactory)throw new Error("loglevel instance has to be specified in order to be extended");var n=t,i=e&&e.storeKey||"loglevelLocalStorage",o=e&&e.maxLogStackSize||100,a=e&&e.callOriginal||!1,s=e&&e.prefix,l=e&&e.level||n.levels.WARN,u=n.methodFactory,c=e.persistentLog?JSON.parse(localStorage.getItem(i)||"[]"):[],f=[];n.methodFactory=function(t,e){var n=u(t,e);return function(){var e,r=Array.prototype.slice.call(arguments,0);e="string"==typeof s?s+r.join(" "):"function"==typeof s?s.apply(null,Array.prototype.concat.apply([t],r)):t+": "+r.join(" "),a&&n.apply(null,arguments),c.push(e),f=c.slice(-o),d()}},n.setLevel(l);var h=function(){f.length&&localStorage.setItem(i,JSON.stringify(f))},d=r.debounce(h,250)};t.exports=i},function(t,e){t.exports=function(t){try{var e=window[t],n="__storage_test__";return e.setItem(n,n),e.removeItem(n),!0}catch(t){return!1}}},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=m()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(d.a?d()(t,e):t.__proto__=e)}function s(t){C.a.viewermanager.openPanoramaViewerByImageId(t)}function l(){throw new Error("addPanoramaViewer is obsolete, use StreetSmartApi.open instead")}function u(){throw new Error("destroyPanoramaViewer is obsolete")}n.d(e,"b",function(){return D}),e.f=s,e.d=l,e.e=u;var c=n(7),f=n.n(c),h=n(6),d=n.n(h),p=n(5),m=n.n(p),g=n(1),v=n.n(g),y=n(4),b=n.n(y),_=n(102),w=n.n(_),x=n(3),E=n.n(x),M=n(0),S=n.n(M),T=n(52),C=(n.n(T),n(203)),O=n(628),A=n(621),I=n(618),R=n(153),P=n(1471);n.d(e,"a",function(){return P.a}),n.d(e,"c",function(){return R.a});var L=b.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),v()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),k=new O.a,D=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||f()(e)).call(this,t));Object(C.n)();var r=n.props.viewerRef,a=w()();return n.state={ref:n.createNewRefCallback(r),id:a},C.a.panoramaviewer.addPanoramaViewer(a),n}return a(e,t),N(e,[{key:"componentWillReceiveProps",value:function(t){var e=this.props.viewerRef,n=t.viewerRef;e!==n&&this.setState({ref:this.createNewRefCallback(n)})}},{key:"componentWillUnmount",value:function(){C.a.panoramaviewer.removePanoramaViewer(this.state.id)}},{key:"createNewRefCallback",value:function(t){if(t)return function(e){return t(e&&e.getWrappedInstance())}}},{key:"render",value:function(){var t=r(this.props,[]),e=this.state.id,n=Object(C.k)();if(!n)return null;var i=n.config.config.services,o=i.address,a=i.recording.onlineResource,s=i.panoramaTile.onlineResource,l=i.depthTile.onlineResource,u=[s],c=[l],f={width:"100%",height:"100%"},h=L({},t,this.state,{panoramaTilesUrls:u,depthTilesUrls:c,recordingsUrl:a,addressService:o,colorManager:k});return S.a.createElement(I.a,{style:f,key:e,wid:e,closable:!1},S.a.createElement(A.a,h))}}]),e}(M.Component);D.propTypes={viewerRef:E.a.func}},function(t,e,n){"use strict";var r=n(392),i=n(632),o=n(633);e.a={panoramaViewer:r,measurement:i,viewer:o}},function(t,e,n){"use strict";function r(t,e){var n=Object(a.k)().measurements.allowedToMeasure;if(!t||!n)throw new Error("MEASURING_NOT_ALLOWED");var r=t.props.id;if(a.a.measurements.setMeasurementDimension(3),a.a.viewermanager.setCurrentPanoramaWid(r),e){var i=e.geometry;i&&""!==i?(a.a.measurements.addMeasurement(i),a.a.viewermanager.enableMeasurementMode()):a.a.measurements.showTypeSelectionModal()}else a.a.measurements.showTypeSelectionModal()}function i(){a.a.viewermanager.disableMeasurementMode()}function o(){"string"==typeof Object(a.k)().login.tidToken&&Object(l.c)("getActiveMeasurement");var t=a.a.measurements.getActiveMeasurement();return Object(s.n)(t)}n.d(e,"a",function(){return u}),e.c=r,e.d=i,e.b=o;var a=n(203),s=n(92),l=n(111),u={POINT:s.b.POINT,LINESTRING:s.b.LINESTRING,POLYGON:s.b.POLYGON}},function(t,e,n){"use strict";function r(t){var e=Object(s.k)().srs.userSrs;if(!Object(s.k)().config.config.application.functionalities.includes(c.a.AddLayerSHP))throw new Error("ADD_OVERLAY_NOT_ALLOWED");var n=void 0;if(t.sourceSrs)n=Object(u.j)(t.sourceSrs);else if(t.geojson.crs){var r=Object(u.f)(t.geojson.crs,e);n=Object(u.j)(r)}else n=e;var i=t.sldXMLtext&&t.sldXMLtext.trim(),o=Object(l.a)({layerName:t.name,geojson:t.geojson,layerSrs:n,userSrs:e,sld:{xmlText:i}});return s.a.layer.addOverlay(f({},o)),{id:o.id}}function i(t){s.a.layer.removeLayer(t)}e.a=r,e.b=i;var o=n(4),a=n.n(o),s=n(203),l=n(1474),u=n(41),c=n(149),f=a.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new h.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return h.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(t){var e=new p.a(t),n=e.file(/.+/),r={},i={binary:["shp","dbf"],text:["sld","prj"]};return n.forEach(function(t){var e=t.name.slice(-3).toLowerCase();-1!==i.binary.indexOf(e)?r[t.name]=t.asArrayBuffer():-1!==i.text.indexOf(e)&&(r[t.name]=t.asText())}),r}n.d(e,"a",function(){return L});var o=n(21),a=n.n(o),s=n(55),l=n.n(s),u=n(40),c=n.n(u),f=n(19),h=n.n(f),d=n(634),p=n.n(d),m=n(1493),g=(n.n(m),n(69)),v=n.n(g),y=n(102),b=n.n(y),_=n(384),w=n(607),x=n(629),E=n(15),M=(n.n(E),n(71)),S=n(41),T=this,C=Object(E.defineMessages)({multipleProjections:{id:"Shapefile.multipleProjections",defaultMessage:"Zipped shapefile contains multiple projections."}}),O=function(t){return c()(t).reduce(function(t,e){var n=e.slice(0,-4);return-1===t.indexOf(n)?t.concat(n):t},[])},A=function(t,e){return t.map(function(t){var n=e[t+".prj"];try{return v()(n)}catch(t){return null}}).reduce(function(t,e){var n=e?e.oProj.name:null,r=Object(S.j)(n);return-1===t.indexOf(r)?t.concat(r):t},[])},I=function(t){var e=l()(t).find(function(t){return"sld"===t[0].slice(-3).toLowerCase()});return e?e[1]:null},R=function(t){var e=t[0];return t.forEach(function(t,n){e.features[n]=t.features[0]}),e},P=new x.a,L=(function(){var t=r(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new h.a(function(t,n){var r=new FileReader;r.onload=function(e){try{var r=e.target.result,o=i(r),a=O(o),s=A(a,o);if(s.length>1)return void n(Object(M.b)(C.multipleProjections));var l=s[0],u=a.map(function(t){var e=Object(m.combine)([Object(m.parseShp)(o[t+".shp"]),Object(m.parseDbf)(o[t+".dbf"])]);return e.crs=Object(S.k)(l),e}),c=R(u),f=I(o),h={};f&&(h.sldXml=f.trim()),h.geojson=c,t(h)}catch(t){n(t)}},r.onerror=function(t){n(t)},r.readAsArrayBuffer(e)}));case 1:case"end":return t.stop()}},t,T)}))}(),function(t){var e=t.layerName,n=t.geojson,r=t.srsName,i=t.userSrs,o=t.sld,a=t.layerOrigin,s=(t.minZoomLevel,b()());_.a.addLayer(s,n);var l={id:s,name:e,projection:i,mapProjection:r};return o.xmlText?l.sld=o:l.color=P.getColor(),a&&(l.layerOrigin=a),new w.a(l)})},function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=n(1476);e.uncompressInputType=r?"uint8array":"array",e.compressInputType=r?"uint8array":"array",e.magic="\b\0",e.compress=function(t,e){return i.deflateRaw(t,{level:e.level||-1})},e.uncompress=function(t){return i.inflateRaw(t)}},function(t,e,n){"use strict";var r=n(127).assign,i=n(1477),o=n(1480),a=n(639),s={};r(s,i,o,a),t.exports=s},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=l.assign({level:p,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==d)throw new Error(c[n]);if(e.header&&s.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i="string"==typeof e.dictionary?u.string2buf(e.dictionary):"[object ArrayBuffer]"===h.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=s.deflateSetDictionary(this.strm,i))!==d)throw new Error(c[n]);this._dict_set=!0}}function i(t,e){var n=new r(e);if(n.push(t,!0),n.err)throw n.msg||c[n.err];return n.result}function o(t,e){return e=e||{},e.raw=!0,i(t,e)}function a(t,e){return e=e||{},e.gzip=!0,i(t,e)}var s=n(1478),l=n(127),u=n(637),c=n(397),f=n(638),h=Object.prototype.toString,d=0,p=-1,m=0,g=8;r.prototype.push=function(t,e){var n,r,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:!0===e?4:0,"string"==typeof t?i.input=u.string2buf(t):"[object ArrayBuffer]"===h.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new l.Buf8(o),i.next_out=0,i.avail_out=o),1!==(n=s.deflate(i,r))&&n!==d)return this.onEnd(n),this.ended=!0,!1;0!==i.avail_out&&(0!==i.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(u.buf2binstring(l.shrinkBuf(i.output,i.next_out))):this.onData(l.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&1!==n);return 4===r?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===d):2!==r||(this.onEnd(d),i.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===d&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=r,e.deflate=i,e.deflateRaw=o,e.gzip=a},function(t,e,n){"use strict";function r(t,e){return t.msg=N[e],e}function i(t){return(t<<1)-(t>4?9:0)}function o(t){for(var e=t.length;--e>=0;)t[e]=0}function a(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(I.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function s(t,e){R._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,a(t.strm)}function l(t,e){t.pending_buf[t.pending++]=e}function u(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function c(t,e,n,r){var i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,I.arraySet(e,t.input,t.next_in,i,n),1===t.state.wrap?t.adler=P(t.adler,e,i,n):2===t.state.wrap&&(t.adler=L(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)}function f(t,e){var n,r,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-ut?t.strstart-(t.w_size-ut):0,u=t.window,c=t.w_mask,f=t.prev,h=t.strstart+lt,d=u[o+a-1],p=u[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(n=e,u[n+a]===p&&u[n+a-1]===d&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<h);if(r=lt-(h-o),o=h-lt,r>a){if(t.match_start=e,a=r,r>=s)break;d=u[o+a-1],p=u[o+a]}}}while((e=f[e&c])>l&&0!=--i);return a<=t.lookahead?a:t.lookahead}function h(t){var e,n,r,i,o,a=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=a+(a-ut)){I.arraySet(t.window,t.window,a,a,0),t.match_start-=a,t.strstart-=a,t.block_start-=a,n=t.hash_size,e=n;do{r=t.head[--e],t.head[e]=r>=a?r-a:0}while(--n);n=a,e=n;do{r=t.prev[--e],t.prev[e]=r>=a?r-a:0}while(--n);i+=a}if(0===t.strm.avail_in)break;if(n=c(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=st)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+st-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<st)););}while(t.lookahead<ut&&0!==t.strm.avail_in)}function d(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(h(t),0===t.lookahead&&e===k)return yt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,s(t,!1),0===t.strm.avail_out))return yt;if(t.strstart-t.block_start>=t.w_size-ut&&(s(t,!1),0===t.strm.avail_out))return yt}return t.insert=0,e===j?(s(t,!0),0===t.strm.avail_out?_t:wt):(t.strstart>t.block_start&&(s(t,!1),t.strm.avail_out),yt)}function p(t,e){for(var n,r;;){if(t.lookahead<ut){if(h(t),t.lookahead<ut&&e===k)return yt;if(0===t.lookahead)break}if(n=0,t.lookahead>=st&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-ut&&(t.match_length=f(t,n)),t.match_length>=st)if(r=R._tr_tally(t,t.strstart-t.match_start,t.match_length-st),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=st){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=R._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(s(t,!1),0===t.strm.avail_out))return yt}return t.insert=t.strstart<st-1?t.strstart:st-1,e===j?(s(t,!0),0===t.strm.avail_out?_t:wt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?yt:bt}function m(t,e){for(var n,r,i;;){if(t.lookahead<ut){if(h(t),t.lookahead<ut&&e===k)return yt;if(0===t.lookahead)break}if(n=0,t.lookahead>=st&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=st-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-ut&&(t.match_length=f(t,n),t.match_length<=5&&(t.strategy===W||t.match_length===st&&t.strstart-t.match_start>4096)&&(t.match_length=st-1)),t.prev_length>=st&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-st,r=R._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-st),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=st-1,t.strstart++,r&&(s(t,!1),0===t.strm.avail_out))return yt}else if(t.match_available){if(r=R._tr_tally(t,0,t.window[t.strstart-1]),r&&s(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return yt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=R._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<st-1?t.strstart:st-1,e===j?(s(t,!0),0===t.strm.avail_out?_t:wt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?yt:bt}function g(t,e){for(var n,r,i,o,a=t.window;;){if(t.lookahead<=lt){if(h(t),t.lookahead<=lt&&e===k)return yt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=st&&t.strstart>0&&(i=t.strstart-1,(r=a[i])===a[++i]&&r===a[++i]&&r===a[++i])){o=t.strstart+lt;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);t.match_length=lt-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=st?(n=R._tr_tally(t,1,t.match_length-st),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=R._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(s(t,!1),0===t.strm.avail_out))return yt}return t.insert=0,e===j?(s(t,!0),0===t.strm.avail_out?_t:wt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?yt:bt}function v(t,e){for(var n;;){if(0===t.lookahead&&(h(t),0===t.lookahead)){if(e===k)return yt;break}if(t.match_length=0,n=R._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(s(t,!1),0===t.strm.avail_out))return yt}return t.insert=0,e===j?(s(t,!0),0===t.strm.avail_out?_t:wt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?yt:bt}function y(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function b(t){t.window_size=2*t.w_size,o(t.head),t.max_lazy_match=A[t.level].max_lazy,t.good_match=A[t.level].good_length,t.nice_match=A[t.level].nice_length,t.max_chain_length=A[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=st-1,t.match_available=0,t.ins_h=0}function _(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=J,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new I.Buf16(2*ot),this.dyn_dtree=new I.Buf16(2*(2*rt+1)),this.bl_tree=new I.Buf16(2*(2*it+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new I.Buf16(at+1),this.heap=new I.Buf16(2*nt+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new I.Buf16(2*nt+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=Q,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?ft:gt,t.adler=2===e.wrap?0:1,e.last_flush=k,R._tr_init(e),z):r(t,V)}function x(t){var e=w(t);return e===z&&b(t.state),e}function E(t,e){return t&&t.state?2!==t.state.wrap?V:(t.state.gzhead=e,z):V}function M(t,e,n,i,o,a){if(!t)return V;var s=1;if(e===q&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>$||n!==J||i<8||i>15||e<0||e>9||a<0||a>Z)return r(t,V);8===i&&(i=9);var l=new _;return t.state=l,l.strm=t,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+st-1)/st),l.window=new I.Buf8(2*l.w_size),l.head=new I.Buf16(l.hash_size),l.prev=new I.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new I.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=a,l.method=n,x(t)}function S(t,e){return M(t,e,J,tt,et,K)}function T(t,e){var n,s,c,f;if(!t||!t.state||e>U||e<0)return t?r(t,V):V;if(s=t.state,!t.output||!t.input&&0!==t.avail_in||s.status===vt&&e!==j)return r(t,0===t.avail_out?H:V);if(s.strm=t,n=s.last_flush,s.last_flush=e,s.status===ft)if(2===s.wrap)t.adler=0,l(s,31),l(s,139),l(s,8),s.gzhead?(l(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),l(s,255&s.gzhead.time),l(s,s.gzhead.time>>8&255),l(s,s.gzhead.time>>16&255),l(s,s.gzhead.time>>24&255),l(s,9===s.level?2:s.strategy>=Y||s.level<2?4:0),l(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(l(s,255&s.gzhead.extra.length),l(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(t.adler=L(t.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=ht):(l(s,0),l(s,0),l(s,0),l(s,0),l(s,0),l(s,9===s.level?2:s.strategy>=Y||s.level<2?4:0),l(s,xt),s.status=gt);else{var h=J+(s.w_bits-8<<4)<<8,d=-1;d=s.strategy>=Y||s.level<2?0:s.level<6?1:6===s.level?2:3,h|=d<<6,0!==s.strstart&&(h|=ct),h+=31-h%31,s.status=gt,u(s,h),0!==s.strstart&&(u(s,t.adler>>>16),u(s,65535&t.adler)),t.adler=1}if(s.status===ht)if(s.gzhead.extra){for(c=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>c&&(t.adler=L(t.adler,s.pending_buf,s.pending-c,c)),a(t),c=s.pending,s.pending!==s.pending_buf_size));)l(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>c&&(t.adler=L(t.adler,s.pending_buf,s.pending-c,c)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=dt)}else s.status=dt;if(s.status===dt)if(s.gzhead.name){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(t.adler=L(t.adler,s.pending_buf,s.pending-c,c)),a(t),c=s.pending,s.pending===s.pending_buf_size)){f=1;break}f=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,l(s,f)}while(0!==f);s.gzhead.hcrc&&s.pending>c&&(t.adler=L(t.adler,s.pending_buf,s.pending-c,c)),0===f&&(s.gzindex=0,s.status=pt)}else s.status=pt;if(s.status===pt)if(s.gzhead.comment){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(t.adler=L(t.adler,s.pending_buf,s.pending-c,c)),a(t),c=s.pending,s.pending===s.pending_buf_size)){f=1;break}f=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,l(s,f)}while(0!==f);s.gzhead.hcrc&&s.pending>c&&(t.adler=L(t.adler,s.pending_buf,s.pending-c,c)),0===f&&(s.status=mt)}else s.status=mt;if(s.status===mt&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(t),s.pending+2<=s.pending_buf_size&&(l(s,255&t.adler),l(s,t.adler>>8&255),t.adler=0,s.status=gt)):s.status=gt),0!==s.pending){if(a(t),0===t.avail_out)return s.last_flush=-1,z}else if(0===t.avail_in&&i(e)<=i(n)&&e!==j)return r(t,H);if(s.status===vt&&0!==t.avail_in)return r(t,H);if(0!==t.avail_in||0!==s.lookahead||e!==k&&s.status!==vt){var p=s.strategy===Y?v(s,e):s.strategy===X?g(s,e):A[s.level].func(s,e);if(p!==_t&&p!==wt||(s.status=vt),p===yt||p===_t)return 0===t.avail_out&&(s.last_flush=-1),z;if(p===bt&&(e===D?R._tr_align(s):e!==U&&(R._tr_stored_block(s,0,0,!1),e===F&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(t),0===t.avail_out))return s.last_flush=-1,z}return e!==j?z:s.wrap<=0?B:(2===s.wrap?(l(s,255&t.adler),l(s,t.adler>>8&255),l(s,t.adler>>16&255),l(s,t.adler>>24&255),l(s,255&t.total_in),l(s,t.total_in>>8&255),l(s,t.total_in>>16&255),l(s,t.total_in>>24&255)):(u(s,t.adler>>>16),u(s,65535&t.adler)),a(t),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?z:B)}function C(t){var e;return t&&t.state?(e=t.state.status)!==ft&&e!==ht&&e!==dt&&e!==pt&&e!==mt&&e!==gt&&e!==vt?r(t,V):(t.state=null,e===gt?r(t,G):z):V}function O(t,e){var n,r,i,a,s,l,u,c,f=e.length;if(!t||!t.state)return V;if(n=t.state,2===(a=n.wrap)||1===a&&n.status!==ft||n.lookahead)return V;for(1===a&&(t.adler=P(t.adler,e,f,0)),n.wrap=0,f>=n.w_size&&(0===a&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),c=new I.Buf8(n.w_size),I.arraySet(c,e,f-n.w_size,n.w_size,0),e=c,f=n.w_size),s=t.avail_in,l=t.next_in,u=t.input,t.avail_in=f,t.next_in=0,t.input=e,h(n);n.lookahead>=st;){r=n.strstart,i=n.lookahead-(st-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+st-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=st-1,h(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=st-1,n.match_available=0,t.next_in=l,t.input=u,t.avail_in=s,n.wrap=a,z}var A,I=n(127),R=n(1479),P=n(635),L=n(636),N=n(397),k=0,D=1,F=3,j=4,U=5,z=0,B=1,V=-2,G=-3,H=-5,q=-1,W=1,Y=2,X=3,Z=4,K=0,Q=2,J=8,$=9,tt=15,et=8,nt=286,rt=30,it=19,ot=2*nt+1,at=15,st=3,lt=258,ut=lt+st+1,ct=32,ft=42,ht=69,dt=73,pt=91,mt=103,gt=113,vt=666,yt=1,bt=2,_t=3,wt=4,xt=3;A=[new y(0,0,0,0,d),new y(4,4,8,4,p),new y(4,5,16,8,p),new y(4,6,32,32,p),new y(4,4,16,16,m),new y(8,16,32,32,m),new y(8,16,128,128,m),new y(8,32,128,256,m),new y(32,128,258,1024,m),new y(32,258,258,4096,m)],e.deflateInit=S,e.deflateInit2=M,e.deflateReset=x,e.deflateResetKeep=w,e.deflateSetHeader=E,e.deflate=T,e.deflateEnd=C,e.deflateSetDictionary=O,e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";function r(t){for(var e=t.length;--e>=0;)t[e]=0}function i(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function o(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function a(t){return t<256?ot[t]:ot[256+(t>>>7)]}function s(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function l(t,e,n){t.bi_valid>Y-n?(t.bi_buf|=e<<t.bi_valid&65535,s(t,t.bi_buf),t.bi_buf=e>>Y-t.bi_valid,t.bi_valid+=n-Y):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function u(t,e,n){l(t,n[2*e],n[2*e+1])}function c(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function f(t){16===t.bi_valid?(s(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function h(t,e){var n,r,i,o,a,s,l=e.dyn_tree,u=e.max_code,c=e.stat_desc.static_tree,f=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(o=0;o<=W;o++)t.bl_count[o]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<q;n++)r=t.heap[n],o=l[2*l[2*r+1]+1]+1,o>p&&(o=p,m++),l[2*r+1]=o,r>u||(t.bl_count[o]++,a=0,r>=d&&(a=h[r-d]),s=l[2*r],t.opt_len+=s*(o+a),f&&(t.static_len+=s*(c[2*r+1]+a)));if(0!==m){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=t.bl_count[o];0!==r;)(i=t.heap[--n])>u||(l[2*i+1]!==o&&(t.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}function d(t,e,n){var r,i,o=new Array(W+1),a=0;for(r=1;r<=W;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=c(o[s]++,s))}}function p(){var t,e,n,r,o,a=new Array(W+1);for(n=0,r=0;r<z-1;r++)for(st[r]=n,t=0;t<1<<$[r];t++)at[n++]=r;for(at[n-1]=r,o=0,r=0;r<16;r++)for(lt[r]=o,t=0;t<1<<tt[r];t++)ot[o++]=r;for(o>>=7;r<G;r++)for(lt[r]=o<<7,t=0;t<1<<tt[r]-7;t++)ot[256+o++]=r;for(e=0;e<=W;e++)a[e]=0;for(t=0;t<=143;)rt[2*t+1]=8,t++,a[8]++;for(;t<=255;)rt[2*t+1]=9,t++,a[9]++;for(;t<=279;)rt[2*t+1]=7,t++,a[7]++;for(;t<=287;)rt[2*t+1]=8,t++,a[8]++;for(d(rt,V+1,a),t=0;t<G;t++)it[2*t+1]=5,it[2*t]=c(t,5);ut=new i(rt,$,B+1,V,W),ct=new i(it,tt,0,G,W),ft=new i(new Array(0),et,0,H,X)}function m(t){var e;for(e=0;e<V;e++)t.dyn_ltree[2*e]=0;for(e=0;e<G;e++)t.dyn_dtree[2*e]=0;for(e=0;e<H;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*Z]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function g(t){t.bi_valid>8?s(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function v(t,e,n,r){g(t),r&&(s(t,n),s(t,~n)),P.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function y(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function b(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&y(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!y(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function _(t,e,n){var r,i,o,s,c=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],i=t.pending_buf[t.l_buf+c],c++,0===r?u(t,i,e):(o=at[i],u(t,o+B+1,e),s=$[o],0!==s&&(i-=st[o],l(t,i,s)),r--,o=a(r),u(t,o,n),0!==(s=tt[o])&&(r-=lt[o],l(t,r,s)))}while(c<t.last_lit);u(t,Z,e)}function w(t,e){var n,r,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=q,n=0;n<l;n++)0!==o[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)i=t.heap[++t.heap_len]=u<2?++u:0,o[2*i]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=u,n=t.heap_len>>1;n>=1;n--)b(t,o,n);i=l;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],b(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,b(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],h(t,e),d(o,u,t.bl_count)}function x(t,e,n){var r,i,o=-1,a=e[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],++s<l&&i===a||(s<u?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[2*K]++):s<=10?t.bl_tree[2*Q]++:t.bl_tree[2*J]++,s=0,o=i,0===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4))}function E(t,e,n){var r,i,o=-1,a=e[1],s=0,c=7,f=4;for(0===a&&(c=138,f=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++s<c&&i===a)){if(s<f)do{u(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(u(t,i,t.bl_tree),s--),u(t,K,t.bl_tree),l(t,s-3,2)):s<=10?(u(t,Q,t.bl_tree),l(t,s-3,3)):(u(t,J,t.bl_tree),l(t,s-11,7));s=0,o=i,0===a?(c=138,f=3):i===a?(c=6,f=3):(c=7,f=4)}}function M(t){var e;for(x(t,t.dyn_ltree,t.l_desc.max_code),x(t,t.dyn_dtree,t.d_desc.max_code),w(t,t.bl_desc),e=H-1;e>=3&&0===t.bl_tree[2*nt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function S(t,e,n,r){var i;for(l(t,e-257,5),l(t,n-1,5),l(t,r-4,4),i=0;i<r;i++)l(t,t.bl_tree[2*nt[i]+1],3);E(t,t.dyn_ltree,e-1),E(t,t.dyn_dtree,n-1)}function T(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return N;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return k;for(e=32;e<B;e++)if(0!==t.dyn_ltree[2*e])return k;return N}function C(t){ht||(p(),ht=!0),t.l_desc=new o(t.dyn_ltree,ut),t.d_desc=new o(t.dyn_dtree,ct),t.bl_desc=new o(t.bl_tree,ft),t.bi_buf=0,t.bi_valid=0,m(t)}function O(t,e,n,r){l(t,(F<<1)+(r?1:0),3),v(t,e,n,!0)}function A(t){l(t,j<<1,3),u(t,Z,rt),f(t)}function I(t,e,n,r){var i,o,a=0;t.level>0?(t.strm.data_type===D&&(t.strm.data_type=T(t)),w(t,t.l_desc),w(t,t.d_desc),a=M(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?O(t,e,n,r):t.strategy===L||o===i?(l(t,(j<<1)+(r?1:0),3),_(t,rt,it)):(l(t,(U<<1)+(r?1:0),3),S(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),_(t,t.dyn_ltree,t.dyn_dtree)),m(t),r&&g(t)}function R(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(at[n]+B+1)]++,t.dyn_dtree[2*a(e)]++),t.last_lit===t.lit_bufsize-1}var P=n(127),L=4,N=0,k=1,D=2,F=0,j=1,U=2,z=29,B=256,V=B+1+z,G=30,H=19,q=2*V+1,W=15,Y=16,X=7,Z=256,K=16,Q=17,J=18,$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],tt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],nt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],rt=new Array(2*(V+2));r(rt);var it=new Array(2*G);r(it);var ot=new Array(512);r(ot);var at=new Array(256);r(at);var st=new Array(z);r(st);var lt=new Array(G);r(lt);var ut,ct,ft,ht=!1;e._tr_init=C,e._tr_stored_block=O,e._tr_flush_block=I,e._tr_tally=R,e._tr_align=A},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var n=a.inflateInit2(this.strm,e.windowBits);if(n!==u.Z_OK)throw new Error(c[n]);this.header=new h,a.inflateGetHeader(this.strm,this.header)}function i(t,e){var n=new r(e);if(n.push(t,!0),n.err)throw n.msg||c[n.err];return n.result}function o(t,e){return e=e||{},e.raw=!0,i(t,e)}var a=n(1481),s=n(127),l=n(637),u=n(639),c=n(397),f=n(638),h=n(1484),d=Object.prototype.toString;r.prototype.push=function(t,e){var n,r,i,o,c,f,h=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;r=e===~~e?e:!0===e?u.Z_FINISH:u.Z_NO_FLUSH,"string"==typeof t?h.input=l.binstring2buf(t):"[object ArrayBuffer]"===d.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new s.Buf8(p),h.next_out=0,h.avail_out=p),n=a.inflate(h,u.Z_NO_FLUSH),n===u.Z_NEED_DICT&&m&&(f="string"==typeof m?l.string2buf(m):"[object ArrayBuffer]"===d.call(m)?new Uint8Array(m):m,n=a.inflateSetDictionary(this.strm,f)),n===u.Z_BUF_ERROR&&!0===g&&(n=u.Z_OK,g=!1),n!==u.Z_STREAM_END&&n!==u.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&n!==u.Z_STREAM_END&&(0!==h.avail_in||r!==u.Z_FINISH&&r!==u.Z_SYNC_FLUSH)||("string"===this.options.to?(i=l.utf8border(h.output,h.next_out),o=h.next_out-i,c=l.buf2string(h.output,i),h.next_out=o,h.avail_out=p-o,o&&s.arraySet(h.output,h.output,i,o,0),this.onData(c)):this.onData(s.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(g=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==u.Z_STREAM_END);return n===u.Z_STREAM_END&&(r=u.Z_FINISH),r===u.Z_FINISH?(n=a.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u.Z_OK):r!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),h.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===u.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=r,e.inflate=i,e.inflateRaw=o,e.ungzip=i},function(t,e,n){"use strict";function r(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new y.Buf16(320),this.work=new y.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=F,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new y.Buf32(mt),e.distcode=e.distdyn=new y.Buf32(gt),e.sane=1,e.back=-1,A):P}function a(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,o(t)):P}function s(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?P:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,a(t))):P}function l(t,e){var n,r;return t?(r=new i,t.state=r,r.window=null,n=s(t,e),n!==A&&(t.state=null),n):P}function u(t){return l(t,vt)}function c(t){if(yt){var e;for(g=new y.Buf32(512),v=new y.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(x(M,t.lens,0,288,g,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;x(S,t.lens,0,32,v,0,t.work,{bits:5}),yt=!1}t.lencode=g,t.lenbits=9,t.distcode=v,t.distbits=5}function f(t,e,n,r){var i,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new y.Buf8(o.wsize)),r>=o.wsize?(y.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),y.arraySet(o.window,e,n-r,i,o.wnext),r-=i,r?(y.arraySet(o.window,e,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function h(t,e){var n,i,o,a,s,l,u,h,d,p,m,g,v,mt,gt,vt,yt,bt,_t,wt,xt,Et,Mt,St,Tt=0,Ct=new y.Buf8(4),Ot=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return P;n=t.state,n.mode===X&&(n.mode=Z),s=t.next_out,o=t.output,u=t.avail_out,a=t.next_in,i=t.input,l=t.avail_in,h=n.hold,d=n.bits,p=l,m=u,Et=A;t:for(;;)switch(n.mode){case F:if(0===n.wrap){n.mode=Z;break}for(;d<16;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}if(2&n.wrap&&35615===h){n.check=0,Ct[0]=255&h,Ct[1]=h>>>8&255,n.check=_(n.check,Ct,2,0),h=0,d=0,n.mode=j;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",n.mode=ht;break}if((15&h)!==D){t.msg="unknown compression method",n.mode=ht;break}if(h>>>=4,d-=4,xt=8+(15&h),0===n.wbits)n.wbits=xt;else if(xt>n.wbits){t.msg="invalid window size",n.mode=ht;break}n.dmax=1<<xt,t.adler=n.check=1,n.mode=512&h?W:X,h=0,d=0;break;case j:for(;d<16;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}if(n.flags=h,(255&n.flags)!==D){t.msg="unknown compression method",n.mode=ht;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=ht;break}n.head&&(n.head.text=h>>8&1),512&n.flags&&(Ct[0]=255&h,Ct[1]=h>>>8&255,n.check=_(n.check,Ct,2,0)),h=0,d=0,n.mode=U;case U:for(;d<32;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}n.head&&(n.head.time=h),512&n.flags&&(Ct[0]=255&h,Ct[1]=h>>>8&255,Ct[2]=h>>>16&255,Ct[3]=h>>>24&255,n.check=_(n.check,Ct,4,0)),h=0,d=0,n.mode=z;case z:for(;d<16;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}n.head&&(n.head.xflags=255&h,n.head.os=h>>8),512&n.flags&&(Ct[0]=255&h,Ct[1]=h>>>8&255,n.check=_(n.check,Ct,2,0)),h=0,d=0,n.mode=B;case B:if(1024&n.flags){for(;d<16;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}n.length=h,n.head&&(n.head.extra_len=h),512&n.flags&&(Ct[0]=255&h,Ct[1]=h>>>8&255,n.check=_(n.check,Ct,2,0)),h=0,d=0}else n.head&&(n.head.extra=null);n.mode=V;case V:if(1024&n.flags&&(g=n.length,g>l&&(g=l),g&&(n.head&&(xt=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),y.arraySet(n.head.extra,i,a,g,xt)),512&n.flags&&(n.check=_(n.check,i,g,a)),l-=g,a+=g,n.length-=g),n.length))break t;n.length=0,n.mode=G;case G:if(2048&n.flags){if(0===l)break t;g=0;do{xt=i[a+g++],n.head&&xt&&n.length<65536&&(n.head.name+=String.fromCharCode(xt))}while(xt&&g<l);if(512&n.flags&&(n.check=_(n.check,i,g,a)),l-=g,a+=g,xt)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=H;case H:if(4096&n.flags){if(0===l)break t;g=0;do{xt=i[a+g++],n.head&&xt&&n.length<65536&&(n.head.comment+=String.fromCharCode(xt))}while(xt&&g<l);if(512&n.flags&&(n.check=_(n.check,i,g,a)),l-=g,a+=g,xt)break t}else n.head&&(n.head.comment=null);n.mode=q;case q:if(512&n.flags){for(;d<16;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}if(h!==(65535&n.check)){t.msg="header crc mismatch",n.mode=ht;break}h=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=X;break;case W:for(;d<32;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}t.adler=n.check=r(h),h=0,d=0,n.mode=Y;case Y:if(0===n.havedict)return t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=l,n.hold=h,n.bits=d,R;t.adler=n.check=1,n.mode=X;case X:if(e===C||e===O)break t;case Z:if(n.last){h>>>=7&d,d-=7&d,n.mode=ut;break}for(;d<3;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}switch(n.last=1&h,h>>>=1,d-=1,3&h){case 0:n.mode=K;break;case 1:if(c(n),n.mode=nt,e===O){h>>>=2,d-=2;break t}break;case 2:n.mode=$;break;case 3:t.msg="invalid block type",n.mode=ht}h>>>=2,d-=2;break;case K:for(h>>>=7&d,d-=7&d;d<32;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ht;break}if(n.length=65535&h,h=0,d=0,n.mode=Q,e===O)break t;case Q:n.mode=J;case J:if(g=n.length){if(g>l&&(g=l),g>u&&(g=u),0===g)break t;y.arraySet(o,i,a,g,s),l-=g,a+=g,u-=g,s+=g,n.length-=g;break}n.mode=X;break;case $:for(;d<14;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}if(n.nlen=257+(31&h),h>>>=5,d-=5,n.ndist=1+(31&h),h>>>=5,d-=5,n.ncode=4+(15&h),h>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ht;break}n.have=0,n.mode=tt;case tt:for(;n.have<n.ncode;){for(;d<3;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}n.lens[Ot[n.have++]]=7&h,h>>>=3,d-=3}for(;n.have<19;)n.lens[Ot[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Mt={bits:n.lenbits},Et=x(E,n.lens,0,19,n.lencode,0,n.work,Mt),n.lenbits=Mt.bits,Et){t.msg="invalid code lengths set",n.mode=ht;break}n.have=0,n.mode=et;case et:for(;n.have<n.nlen+n.ndist;){for(;Tt=n.lencode[h&(1<<n.lenbits)-1],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(gt<=d);){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}if(yt<16)h>>>=gt,d-=gt,n.lens[n.have++]=yt;else{if(16===yt){for(St=gt+2;d<St;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}if(h>>>=gt,d-=gt,0===n.have){t.msg="invalid bit length repeat",n.mode=ht;break}xt=n.lens[n.have-1],g=3+(3&h),h>>>=2,d-=2}else if(17===yt){for(St=gt+3;d<St;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}h>>>=gt,d-=gt,xt=0,g=3+(7&h),h>>>=3,d-=3}else{for(St=gt+7;d<St;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}h>>>=gt,d-=gt,xt=0,g=11+(127&h),h>>>=7,d-=7}if(n.have+g>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ht;break}for(;g--;)n.lens[n.have++]=xt}}if(n.mode===ht)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=ht;break}if(n.lenbits=9,Mt={bits:n.lenbits},Et=x(M,n.lens,0,n.nlen,n.lencode,0,n.work,Mt),n.lenbits=Mt.bits,Et){t.msg="invalid literal/lengths set",n.mode=ht;break}if(n.distbits=6,n.distcode=n.distdyn,Mt={bits:n.distbits},Et=x(S,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Mt),n.distbits=Mt.bits,Et){t.msg="invalid distances set",n.mode=ht;break}if(n.mode=nt,e===O)break t;case nt:n.mode=rt;case rt:if(l>=6&&u>=258){t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=l,n.hold=h,n.bits=d,w(t,m),s=t.next_out,o=t.output,u=t.avail_out,a=t.next_in,i=t.input,l=t.avail_in,h=n.hold,d=n.bits,n.mode===X&&(n.back=-1);break}for(n.back=0;Tt=n.lencode[h&(1<<n.lenbits)-1],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(gt<=d);){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}if(vt&&0==(240&vt)){for(bt=gt,_t=vt,wt=yt;Tt=n.lencode[wt+((h&(1<<bt+_t)-1)>>bt)],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(bt+gt<=d);){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}h>>>=bt,d-=bt,n.back+=bt}if(h>>>=gt,d-=gt,n.back+=gt,n.length=yt,0===vt){n.mode=lt;break}if(32&vt){n.back=-1,n.mode=X;break}if(64&vt){t.msg="invalid literal/length code",n.mode=ht;break}n.extra=15&vt,n.mode=it;case it:if(n.extra){for(St=n.extra;d<St;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=ot;case ot:for(;Tt=n.distcode[h&(1<<n.distbits)-1],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(gt<=d);){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}if(0==(240&vt)){for(bt=gt,_t=vt,wt=yt;Tt=n.distcode[wt+((h&(1<<bt+_t)-1)>>bt)],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(bt+gt<=d);){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}h>>>=bt,d-=bt,n.back+=bt}if(h>>>=gt,d-=gt,n.back+=gt,64&vt){t.msg="invalid distance code",n.mode=ht;break}n.offset=yt,n.extra=15&vt,n.mode=at;case at:if(n.extra){for(St=n.extra;d<St;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ht;break}n.mode=st;case st:if(0===u)break t;if(g=m-u,n.offset>g){if((g=n.offset-g)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ht;break}g>n.wnext?(g-=n.wnext,v=n.wsize-g):v=n.wnext-g,g>n.length&&(g=n.length),mt=n.window}else mt=o,v=s-n.offset,g=n.length;g>u&&(g=u),u-=g,n.length-=g;do{o[s++]=mt[v++]}while(--g);0===n.length&&(n.mode=rt);break;case lt:if(0===u)break t;o[s++]=n.length,u--,n.mode=rt;break;case ut:if(n.wrap){for(;d<32;){if(0===l)break t;l--,h|=i[a++]<<d,d+=8}if(m-=u,t.total_out+=m,n.total+=m,m&&(t.adler=n.check=n.flags?_(n.check,o,m,s-m):b(n.check,o,m,s-m)),m=u,(n.flags?h:r(h))!==n.check){t.msg="incorrect data check",n.mode=ht;break}h=0,d=0}n.mode=ct;case ct:if(n.wrap&&n.flags){for(;d<32;){if(0===l)break t;l--,h+=i[a++]<<d,d+=8}if(h!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=ht;break}h=0,d=0}n.mode=ft;case ft:Et=I;break t;case ht:Et=L;break t;case dt:return N;case pt:default:return P}return t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=l,n.hold=h,n.bits=d,(n.wsize||m!==t.avail_out&&n.mode<ht&&(n.mode<ut||e!==T))&&f(t,t.output,t.next_out,m-t.avail_out)?(n.mode=dt,N):(p-=t.avail_in,m-=t.avail_out,t.total_in+=p,t.total_out+=m,n.total+=m,n.wrap&&m&&(t.adler=n.check=n.flags?_(n.check,o,m,t.next_out-m):b(n.check,o,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===X?128:0)+(n.mode===nt||n.mode===Q?256:0),(0===p&&0===m||e===T)&&Et===A&&(Et=k),Et)}function d(t){if(!t||!t.state)return P;var e=t.state;return e.window&&(e.window=null),t.state=null,A}function p(t,e){var n;return t&&t.state?(n=t.state,0==(2&n.wrap)?P:(n.head=e,e.done=!1,A)):P}function m(t,e){var n,r,i=e.length;return t&&t.state?(n=t.state,0!==n.wrap&&n.mode!==Y?P:n.mode===Y&&(r=1,(r=b(r,e,i,0))!==n.check)?L:f(t,e,i,i)?(n.mode=dt,N):(n.havedict=1,A)):P}var g,v,y=n(127),b=n(635),_=n(636),w=n(1482),x=n(1483),E=0,M=1,S=2,T=4,C=5,O=6,A=0,I=1,R=2,P=-2,L=-3,N=-4,k=-5,D=8,F=1,j=2,U=3,z=4,B=5,V=6,G=7,H=8,q=9,W=10,Y=11,X=12,Z=13,K=14,Q=15,J=16,$=17,tt=18,et=19,nt=20,rt=21,it=22,ot=23,at=24,st=25,lt=26,ut=27,ct=28,ft=29,ht=30,dt=31,pt=32,mt=852,gt=592,vt=15,yt=!0;e.inflateReset=a,e.inflateReset2=s,e.inflateResetKeep=o,e.inflateInit=u,e.inflateInit2=l,e.inflate=h,e.inflateEnd=d,e.inflateGetHeader=p,e.inflateSetDictionary=m,e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,o,a,s,l,u,c,f,h,d,p,m,g,v,y,b,_,w,x,E,M,S,T;n=t.state,r=t.next_in,S=t.input,i=r+(t.avail_in-5),o=t.next_out,T=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,f=n.wnext,h=n.window,d=n.hold,p=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{p<15&&(d+=S[r++]<<p,p+=8,d+=S[r++]<<p,p+=8),b=m[d&v];e:for(;;){if(_=b>>>24,d>>>=_,p-=_,0===(_=b>>>16&255))T[o++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=m[(65535&b)+(d&(1<<_)-1)];continue e}if(32&_){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}w=65535&b,_&=15,_&&(p<_&&(d+=S[r++]<<p,p+=8),w+=d&(1<<_)-1,d>>>=_,p-=_),p<15&&(d+=S[r++]<<p,p+=8,d+=S[r++]<<p,p+=8),b=g[d&y];n:for(;;){if(_=b>>>24,d>>>=_,p-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=g[(65535&b)+(d&(1<<_)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(x=65535&b,_&=15,p<_&&(d+=S[r++]<<p,(p+=8)<_&&(d+=S[r++]<<p,p+=8)),(x+=d&(1<<_)-1)>l){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=_,p-=_,_=o-a,x>_){if((_=x-_)>c&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(E=0,M=h,0===f){if(E+=u-_,_<w){w-=_;do{T[o++]=h[E++]}while(--_);E=o-x,M=T}}else if(f<_){if(E+=u+f-_,(_-=f)<w){w-=_;do{T[o++]=h[E++]}while(--_);if(E=0,f<w){_=f,w-=_;do{T[o++]=h[E++]}while(--_);E=o-x,M=T}}}else if(E+=f-_,_<w){w-=_;do{T[o++]=h[E++]}while(--_);E=o-x,M=T}for(;w>2;)T[o++]=M[E++],T[o++]=M[E++],T[o++]=M[E++],w-=3;w&&(T[o++]=M[E++],w>1&&(T[o++]=M[E++]))}else{E=o-x;do{T[o++]=T[E++],T[o++]=T[E++],T[o++]=T[E++],w-=3}while(w>2);w&&(T[o++]=T[E++],w>1&&(T[o++]=T[E++]))}break}}break}}while(r<i&&o<s);w=p>>3,r-=w,p-=w<<3,d&=(1<<p)-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=o<s?s-o+257:257-(o-s),n.hold=d,n.bits=p}},function(t,e,n){"use strict";var r=n(127),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,l,u,c,f,h){var d,p,m,g,v,y,b,_,w,x=h.bits,E=0,M=0,S=0,T=0,C=0,O=0,A=0,I=0,R=0,P=0,L=null,N=0,k=new r.Buf16(16),D=new r.Buf16(16),F=null,j=0;for(E=0;E<=15;E++)k[E]=0;for(M=0;M<l;M++)k[e[n+M]]++;for(C=x,T=15;T>=1&&0===k[T];T--);if(C>T&&(C=T),0===T)return u[c++]=20971520,u[c++]=20971520,h.bits=1,0;for(S=1;S<T&&0===k[S];S++);for(C<S&&(C=S),I=1,E=1;E<=15;E++)if(I<<=1,(I-=k[E])<0)return-1;if(I>0&&(0===t||1!==T))return-1;for(D[1]=0,E=1;E<15;E++)D[E+1]=D[E]+k[E];for(M=0;M<l;M++)0!==e[n+M]&&(f[D[e[n+M]]++]=M);if(0===t?(L=F=f,y=19):1===t?(L=i,N-=257,F=o,j-=257,y=256):(L=a,F=s,y=-1),P=0,M=0,E=S,v=c,O=C,A=0,m=-1,R=1<<C,g=R-1,1===t&&R>852||2===t&&R>592)return 1;for(;;){b=E-A,f[M]<y?(_=0,w=f[M]):f[M]>y?(_=F[j+f[M]],w=L[N+f[M]]):(_=96,w=0),d=1<<E-A,p=1<<O,S=p;do{p-=d,u[v+(P>>A)+p]=b<<24|_<<16|w|0}while(0!==p);for(d=1<<E-1;P&d;)d>>=1;if(0!==d?(P&=d-1,P+=d):P=0,M++,0==--k[E]){if(E===T)break;E=e[n+f[M]]}if(E>C&&(P&g)!==m){for(0===A&&(A=C),v+=S,O=E-A,I=1<<O;O+A<T&&!((I-=k[O+A])<=0);)O++,I<<=1;if(R+=1<<O,1===t&&R>852||2===t&&R>592)return 1;m=P&g,u[m]=C<<24|O<<16|v-c|0}}return 0!==P&&(u[v+P]=E-A<<24|64<<16|0),h.bits=C,0}},function(t,e,n){"use strict";function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=r},function(t,e,n){"use strict";var r=n(93),i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];t.exports=function(t,e){if(void 0===t||!t.length)return 0;var n="string"!==r.getTypeOf(t);void 0===e&&(e=0);var o=0,a=0,s=0;e^=-1;for(var l=0,u=t.length;l<u;l++)s=n?t[l]:t.charCodeAt(l),a=255&(e^s),o=i[a],e=e>>>8^o;return-1^e}},function(t,e,n){"use strict";var r=n(93),i=function(){this.data=[]};i.prototype={append:function(t){t=r.transformTo("string",t),this.data.push(t)},finalize:function(){return this.data.join("")}},t.exports=i},function(t,e,n){"use strict";var r=n(93),i=function(t){this.data=new Uint8Array(t),this.index=0};i.prototype={append:function(t){0!==t.length&&(t=r.transformTo("uint8array",t),this.data.set(t,this.index),this.index+=t.length)},finalize:function(){return this.data}},t.exports=i},function(t,e,n){"use strict";var r=n(394),i=n(643),o=n(93),a=n(1489);t.exports=function(t,e){var n,s,l,u;for(e=o.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),e.base64&&(t=r.decode(t)),s=new a(t,e),n=s.files,l=0;l<n.length;l++)u=n[l],this.file(u.fileNameStr,u.decompressed,{binary:!0,optimizedBinaryString:!0,date:u.date,dir:u.dir,comment:u.fileCommentStr.length?u.fileCommentStr:null,unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions,createFolders:e.createFolders});return s.zipComment.length&&(this.comment=s.zipComment),this}},function(t,e,n){"use strict";function r(t,e){this.files=[],this.loadOptions=e,t&&this.load(t)}var i=n(644),o=n(1490),a=n(646),s=n(647),l=n(93),u=n(640),c=n(1491),f=n(181);n(395);r.prototype={checkSignature:function(t){var e=this.reader.readString(4);if(e!==t)throw new Error("Corrupted zip or bug : unexpected signature ("+l.pretty(e)+", expected "+l.pretty(t)+")")},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var r=this.reader.readString(4),i=r===e;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=f.uint8array?"uint8array":"array",n=l.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,r=this.zip64EndOfCentralSize-44;0<r;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readString(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===u.CENTRAL_FILE_HEADER;)t=new c({zip64:this.zip64},this.loadOptions),t.readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(t<0){throw!this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(t);var e=t;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=e-n;if(r>0)this.isSignature(e,u.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(t){var e=l.getTypeOf(t);if(l.checkSupport(e),"string"!==e||f.uint8array)if("nodebuffer"===e)this.reader=new o(t);else if(f.uint8array)this.reader=new a(l.transformTo("uint8array",t));else{if(!f.array)throw new Error("Unexpected error: unsupported type '"+e+"'");this.reader=new s(l.transformTo("array",t))}else this.reader=new i(t,this.loadOptions.optimizedBinaryString)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=r},function(t,e,n){"use strict";function r(t){this.data=t,this.length=this.data.length,this.index=0,this.zero=0}var i=n(646);r.prototype=new i,r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";function r(t,e){this.options=t,this.loadOptions=e}var i=n(644),o=n(93),a=n(642),s=n(395),l=n(181);r.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},prepareCompressedContent:function(t,e,n){return function(){var r=t.index;t.setIndex(e);var i=t.readData(n);return t.setIndex(r),i}},prepareContent:function(t,e,n,r,i){return function(){var t=o.transformTo(r.uncompressInputType,this.getCompressedContent()),e=r.uncompress(t);if(e.length!==i)throw new Error("Bug : uncompressed data size mismatch");return e}},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(null===(e=o.findCompression(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");if(this.decompressed=new a,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(t,t.index,this.compressedSize,e),this.decompressed.getContent=this.prepareContent(t,t.index,this.compressedSize,e,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=o.transformTo("string",this.decompressed.getContent()),s.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(t){if(this.versionMadeBy=t.readInt(2),this.versionNeeded=t.readInt(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4),this.fileNameLength=t.readInt(2),this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=t.readData(this.fileNameLength),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=new i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,r,i=t.index;for(this.extraFields=this.extraFields||{};t.index<i+this.extraFieldsLength;)e=t.readInt(2),n=t.readInt(2),r=t.readString(n),this.extraFields[e]={id:e,length:n,value:r}},handleUTF8:function(){var t=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=o.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var i=o.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=new i(t.value);return 1!==e.readInt(1)?null:s.crc32(this.fileName)!==e.readInt(4)?null:s.utf8decode(e.readString(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=new i(t.value);return 1!==e.readInt(1)?null:s.crc32(this.fileComment)!==e.readInt(4)?null:s.utf8decode(e.readString(t.length-5))}return null}},t.exports=r},function(t,e,n){"use strict";var r=n(93);e.string2binary=function(t){return r.string2binary(t)},e.string2Uint8Array=function(t){return r.transformTo("uint8array",t)},e.uint8Array2String=function(t){return r.transformTo("string",t)},e.string2Blob=function(t){var e=r.transformTo("arraybuffer",t);return r.arrayBuffer2Blob(e)},e.arrayBuffer2Blob=function(t){return r.arrayBuffer2Blob(t)},e.transformTo=function(t,e){return r.transformTo(t,e)},e.getTypeOf=function(t){return r.getTypeOf(t)},e.checkSupport=function(t){return r.checkSupport(t)},e.MAX_VALUE_16BITS=r.MAX_VALUE_16BITS,e.MAX_VALUE_32BITS=r.MAX_VALUE_32BITS,e.pretty=function(t){return r.pretty(t)},e.findCompression=function(t){return r.findCompression(t)},e.isRegExp=function(t){return r.isRegExp(t)}},function(t,e,n){"use strict";(function(e){function r(t,e){return"string"==typeof t&&d.has(t)?f.resolve(d.get(t)):r.getShapefile(t,e).then(function(e){return"string"==typeof t&&d.set(t,e),e})}function i(t,e){return s(t).then(function(t){return r.parseZip(t,e)})}var o=n(69),a=n(1494),s=n(1495),l=n(1497),u=n(1498),c=n(1499),f=n(648),h=n(1500),d=new h({max:20});r.combine=function(t){var e={};e.type="FeatureCollection",e.features=[];for(var n=0,r=t[0].length;n<r;)e.features.push({type:"Feature",geometry:t[0][n],properties:t[1][n]}),n++;return e},r.parseZip=function(t,e){var n,i=a(t),s=[];e=e||[];for(n in i)-1===n.indexOf("__MACOSX")&&("shp"===n.slice(-3).toLowerCase()?(s.push(n.slice(0,-4)),i[n.slice(0,-3)+n.slice(-3).toLowerCase()]=i[n]):"dbf"===n.slice(-3).toLowerCase()?i[n.slice(0,-3)+n.slice(-3).toLowerCase()]=c(i[n]):"prj"===n.slice(-3).toLowerCase()?i[n.slice(0,-3)+n.slice(-3).toLowerCase()]=o(i[n]):("json"===n.slice(-4).toLowerCase()||e.indexOf(n.split(".").pop())>-1)&&s.push(n.slice(0,-3)+n.slice(-3).toLowerCase()));if(!s.length)throw new Error("no layers founds");var u=s.map(function(t){var n,o=t.lastIndexOf(".");return o>-1&&t.slice(o).indexOf("json")>-1?(n=JSON.parse(i[t]),n.fileName=t.slice(0,o)):e.indexOf(t.slice(o+1))>-1?(n=i[t],n.fileName=t):(n=r.combine([l(i[t+".shp"],i[t+".prj"]),i[t+".dbf"]]),n.fileName=t),n});return 1===u.length?u[0]:u},r.getShapefile=function(t,e){return"string"==typeof t?".zip"===t.slice(-4)?i(t,e):f.all([f.all([s(t+".shp"),s(t+".prj")]).then(function(t){return l(t[0],!!t[1]&&o(t[1]))}),s(t+".dbf").then(c)]).then(r.combine):new f(function(e){e(r.parseZip(t))})},r.parseShp=function(t,n){return e.isBuffer(t)&&(t=u(t)),e.isBuffer(n)&&(n=n.toString()),"string"==typeof n?(n=o(n),l(t,n)):l(t)},r.parseDbf=function(t){return e.isBuffer(t)&&(t=u(t)),c(t)},t.exports=r}).call(e,n(144).Buffer)},function(t,e,n){"use strict";var r=n(634);t.exports=function(t){var e=new r(t),n=e.file(/.+/),i={};return n.forEach(function(t){"shp"===t.name.slice(-3).toLowerCase()||"dbf"===t.name.slice(-3).toLowerCase()?(i[t.name]=t.asText(),i[t.name]=t.asArrayBuffer()):i[t.name]=t.asText()}),i}},function(t,e,n){"use strict";function r(t){return new i(function(e,n){var r=t.slice(-3),i=new XMLHttpRequest;i.open("GET",t,!0),"prj"!==r&&(i.responseType="arraybuffer"),i.addEventListener("load",function(){if(i.status>399)return"prj"===r?e(!1):n(new Error(i.status));e(i.response)},!1),i.send()})}var i=n(648);t.exports=r},function(t,e,n){"use strict";(function(e){function n(){c=!0;for(var t,e,n=f.length;n;){for(e=f,f=[],t=-1;++t<n;)e[t]();n=f.length}c=!1}function r(t){1!==f.push(t)||c||i()}var i,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var a=0,s=new o(n),l=e.document.createTextNode("");s.observe(l,{characterData:!0}),i=function(){l.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var u=new e.MessageChannel;u.port1.onmessage=n,i=function(){u.port2.postMessage(0)}}var c,f=[];t.exports=r}).call(e,n(37))},function(t,e,n){"use strict";function r(t){for(var e,n,r=0,i=1,o=t.length;i<o;)e=n||t[0],n=t[i],r+=(n[0]-e[0])*(n[1]+e[1]),i++;return r>0}function i(t,e){return r(e)||!t.length?t.push([e]):t[t.length-1].push(e),t}function o(t){return t?function(e,n){return t.inverse([e.getFloat64(n,!0),e.getFloat64(n+8,!0)])}:function(t,e){return[t.getFloat64(e,!0),t.getFloat64(e+8,!0)]}}function a(t,e){if(!(this instanceof a))return new a(t,e);this.buffer=t,this.shpFuncs(e),this.rows=this.getRows()}a.prototype.parsePoint=function(t){return{type:"Point",coordinates:this.parseCoord(t,0)}},a.prototype.parseZPoint=function(t){var e=this.parsePoint(t);return e.coordinates.push(this.parseCoord(t,16)),e},a.prototype.parsePointArray=function(t,e,n){for(var r=[],i=0;i<n;)r.push(this.parseCoord(t,e)),e+=16,i++;return r},a.prototype.parseZPointArray=function(t,e,n,r){for(var i=0;i<n;)r[i].push(t.getFloat64(e,!0)),i++,e+=8;return r},a.prototype.parseArrayGroup=function(t,e,n,r,i){for(var o,a,s=[],l=0,u=0;l<r;)l++,n+=4,o=u,u=l===r?i:t.getInt32(n,!0),(a=u-o)&&(s.push(this.parsePointArray(t,e,a)),e+=a<<4);return s},a.prototype.parseZArrayGroup=function(t,e,n,r){for(var i=0;i<n;)r[i]=this.parseZPointArray(t,e,r[i].length,r[i]),e+=r[i].length<<3,i++;return r},a.prototype.parseMultiPoint=function(t){var e={},n=this.parseCoord(t,0),r=this.parseCoord(t,16);e.bbox=[n[0],n[1],r[0],r[1]];var i=t.getInt32(32,!0);return 1===i?(e.type="Point",e.coordinates=this.parseCoord(t,36)):(e.type="MultiPoint",e.coordinates=this.parsePointArray(t,36,i)),e},a.prototype.parseZMultiPoint=function(t){var e,n=this.parseMultiPoint(t);if("Point"===n.type)return n.coordinates.push(t.getFloat64(72,!0)),n;e=n.coordinates.length;var r=56+(e<<4);return n.coordinates=this.parseZPointArray(t,r,e,n.coordinates),n},a.prototype.parsePolyline=function(t){var e={},n=this.parseCoord(t,0),r=this.parseCoord(t,16);e.bbox=[n[0],n[1],r[0],r[1]];var i,o,a=t.getInt32(32,!0),s=t.getInt32(36,!0);return 1===a?(e.type="LineString",i=44,e.coordinates=this.parsePointArray(t,i,s)):(e.type="MultiLineString",i=40+(a<<2),o=40,e.coordinates=this.parseArrayGroup(t,i,o,a,s)),e},a.prototype.parseZPolyline=function(t){var e=this.parsePolyline(t),n=e.coordinates.length,r=60+(n<<4);return"LineString"===e.type?(e.coordinates=this.parseZPointArray(t,r,n,e.coordinates),e):(e.coordinates=this.parseZArrayGroup(t,r,n,e.coordinates),e)},a.prototype.polyFuncs=function(t){return"LineString"===t.type?(t.type="Polygon",t.coordinates=[t.coordinates],t):(t.coordinates=t.coordinates.reduce(i,[]),1===t.coordinates.length?(t.type="Polygon",t.coordinates=t.coordinates[0],t):(t.type="MultiPolygon",t))},a.prototype.parsePolygon=function(t){return this.polyFuncs(this.parsePolyline(t))},a.prototype.parseZPolygon=function(t){return this.polyFuncs(this.parseZPolyline(t))};var s={1:"parsePoint",3:"parsePolyline",5:"parsePolygon",8:"parseMultiPoint",11:"parseZPoint",13:"parseZPolyline",15:"parseZPolygon",18:"parseZMultiPoint"};a.prototype.shpFuncs=function(t){var e=this.getShpCode();if(e>20&&(e-=20),!(e in s))throw new Error("I don't know that shp type");this.parseFunc=this[s[e]],this.parseCoord=o(t)},a.prototype.getShpCode=function(){return this.parseHeader().shpCode},a.prototype.parseHeader=function(){var t=new DataView(this.buffer,0,100);return{length:t.getInt32(24,!1),version:t.getInt32(28,!0),shpCode:t.getInt32(32,!0),bbox:[t.getFloat64(36,!0),t.getFloat64(44,!0),t.getFloat64(52,!0),t.getFloat64(52,!0)]}},a.prototype.getRows=function(){for(var t,e=100,n=this.buffer.byteLength,r=[];e<n;)t=this.getRow(e),e+=8,e+=t.len,t.type&&r.push(this.parseFunc(t.data));return r},a.prototype.getRow=function(t){var e=new DataView(this.buffer,t,12),n=e.getInt32(4,!1)<<1,r=new DataView(this.buffer,t+12,n-4);return{id:e.getInt32(0,!1),len:n,data:r,type:e.getInt32(8,!0)}},t.exports=function(t,e){return new a(t,e).rows}},function(t,e,n){"use strict";function r(t){for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=-1,i=t.length;++r<i;)n[r]=t[r];return e}t.exports=r},function(t,e){function n(t){var e=new DataView(t),n={};return n.lastUpdated=new Date(e.getUint8(1,!0)+1900,e.getUint8(2,!0),e.getUint8(3,!0)),n.records=e.getUint32(4,!0),n.headerLen=e.getUint16(8,!0),n.recLen=e.getUint16(10,!0),n}function r(t,e){for(var n=new DataView(t),r=[],i=32;i<e&&(r.push({name:String.fromCharCode.apply(this,new Uint8Array(t,i,11)).replace(/\0|\s+$/g,""),dataType:String.fromCharCode(n.getUint8(i+11)),len:n.getUint8(i+16),decimal:n.getUint8(i+17)}),13!==n.getUint8(i+32));)i+=32;return r}function i(t,e,n,r){var i=new Uint8Array(t,e,n),o=String.fromCharCode.apply(this,i).replace(/\0|\s+$/g,"");switch(r){case"N":case"F":case"O":return parseFloat(o,10);case"D":return new Date(o.slice(0,4),parseInt(o.slice(4,6),10)-1,o.slice(6,8));case"L":return"y"===o.toLowerCase()||"t"===o.toLowerCase();default:return o}}function o(t,e,n){for(var r,o,a={},s=0,l=n.length;s<l;)o=n[s],r=i(t,e,o.len,o.dataType),e+=o.len,void 0!==r&&(a[o.name]=r),s++;return a}t.exports=function(t){for(var e=n(t),i=r(t,e.headerLen-1),a=2+(i.length+1<<5),s=e.recLen,l=e.records,u=[];l;)u.push(o(t,a,i)),a+=s,l--;return u}},function(t,e){!function(){function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function n(){return 1}function r(t){h||"string"==typeof t||"number"==typeof t||(h=!0,console.error(new TypeError("LRU: key must be a string or number. Almost certainly a bug! "+typeof t).stack))}function i(t){if(!(this instanceof i))return new i(t);"number"==typeof t&&(t={max:t}),t||(t={}),this._max=t.max,(!this._max||"number"!=typeof this._max||this._max<=0)&&(this._max=1/0),this._lengthCalculator=t.length||n,"function"!=typeof this._lengthCalculator&&(this._lengthCalculator=n),this._allowStale=t.stale||!1,this._maxAge=t.maxAge||null,this._dispose=t.dispose,this.reset()}function o(t,e,n){r(e);var i=t._cache[e];return i&&(a(t,i)?(c(t,i),t._allowStale||(i=void 0)):n&&s(t,i),i&&(i=i.value)),i}function a(t,e){if(!e||!e.maxAge&&!t._maxAge)return!1;var n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t._maxAge&&n>t._maxAge}function s(t,e){u(t,e),e.lu=t._mru++,t._lruList[e.lu]=e}function l(t){for(;t._lru<t._mru&&t._length>t._max;)c(t,t._lruList[t._lru])}function u(t,e){for(delete t._lruList[e.lu];t._lru<t._mru&&!t._lruList[t._lru];)t._lru++}function c(t,e){e&&(t._dispose&&t._dispose(e.key,e.value),t._length-=e.length,t._itemCount--,delete t._cache[e.key],u(t,e))}function f(t,e,n,r,i,o){this.key=t,this.value=e,this.lu=n,this.length=r,this.now=i,o&&(this.maxAge=o)}"object"==typeof t&&t.exports?t.exports=i:this.LRUCache=i;var h=!1;Object.defineProperty(i.prototype,"max",{set:function(t){(!t||"number"!=typeof t||t<=0)&&(t=1/0),this._max=t,this._length>this._max&&l(this)},get:function(){return this._max},enumerable:!0}),Object.defineProperty(i.prototype,"lengthCalculator",{set:function(t){if("function"!=typeof t){this._lengthCalculator=n,this._length=this._itemCount;for(var e in this._cache)this._cache[e].length=1}else{this._lengthCalculator=t,this._length=0;for(var e in this._cache)this._cache[e].length=this._lengthCalculator(this._cache[e].value),this._length+=this._cache[e].length}this._length>this._max&&l(this)},get:function(){return this._lengthCalculator},enumerable:!0}),Object.defineProperty(i.prototype,"length",{get:function(){return this._length},enumerable:!0}),Object.defineProperty(i.prototype,"itemCount",{get:function(){return this._itemCount},enumerable:!0}),i.prototype.forEach=function(t,e){e=e||this;for(var n=0,r=this._itemCount,i=this._mru-1;i>=0&&n<r;i--)if(this._lruList[i]){n++;var o=this._lruList[i];a(this,o)&&(c(this,o),this._allowStale||(o=void 0)),o&&t.call(e,o.value,o.key,this)}},i.prototype.keys=function(){for(var t=new Array(this._itemCount),e=0,n=this._mru-1;n>=0&&e<this._itemCount;n--)if(this._lruList[n]){var r=this._lruList[n];t[e++]=r.key}return t},i.prototype.values=function(){for(var t=new Array(this._itemCount),e=0,n=this._mru-1;n>=0&&e<this._itemCount;n--)if(this._lruList[n]){var r=this._lruList[n];t[e++]=r.value}return t},i.prototype.reset=function(){if(this._dispose&&this._cache)for(var t in this._cache)this._dispose(t,this._cache[t].value);this._cache=Object.create(null),this._lruList=Object.create(null),this._mru=0,this._lru=0,this._length=0,this._itemCount=0},i.prototype.dump=function(){for(var t=[],e=0,n=this._mru-1;n>=0&&e<this._itemCount;n--)if(this._lruList[n]){var r=this._lruList[n];a(this,r)||(++e,t.push({k:r.key,v:r.value,e:r.now+(r.maxAge||0)}))}return t},i.prototype.dumpLru=function(){return this._lruList},i.prototype.set=function(t,n,i){i=i||this._maxAge,r(t);var o=i?Date.now():0,a=this._lengthCalculator(n);if(e(this._cache,t))return a>this._max?(c(this,this._cache[t]),!1):(this._dispose&&this._dispose(t,this._cache[t].value),this._cache[t].now=o,this._cache[t].maxAge=i,this._cache[t].value=n,this._length+=a-this._cache[t].length,this._cache[t].length=a,this.get(t),this._length>this._max&&l(this),!0);var s=new f(t,n,this._mru++,a,o,i);return s.length>this._max?(this._dispose&&this._dispose(t,n),!1):(this._length+=s.length,this._lruList[s.lu]=this._cache[t]=s,this._itemCount++,this._length>this._max&&l(this),!0)},i.prototype.has=function(t){return r(t),!!e(this._cache,t)&&!a(this,this._cache[t])},i.prototype.get=function(t){return r(t),o(this,t,!0)},i.prototype.peek=function(t){return r(t),o(this,t,!1)},i.prototype.pop=function(){var t=this._lruList[this._lru];return c(this,t),t||null},i.prototype.del=function(t){r(t),c(this,this._cache[t])},i.prototype.load=function(t){this.reset();for(var e=Date.now(),n=t.length-1;n>=0;n--){var i=t[n];r(i.k);var o=i.e||0;if(0===o)this.set(i.k,i.v);else{var a=o-e;a>0&&this.set(i.k,i.v,a)}}}}()}])});
